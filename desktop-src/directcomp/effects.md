---
title: Effets (DirectComposition)
description: Cette rubrique présente les principes fondamentaux des effets Microsoft DirectComposition et décrit les types d’effets pris en charge par DirectComposition.
ms.assetid: 805B17D2-2F6B-4C25-8C6D-41FFA5DFC774
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4cfd1ca154dcbc7e55ca65cc34d04cfa7d73ccee
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104382134"
---
# <a name="effects-directcomposition"></a><span data-ttu-id="b771b-103">Effets (DirectComposition)</span><span class="sxs-lookup"><span data-stu-id="b771b-103">Effects (DirectComposition)</span></span>

> [!NOTE]
> <span data-ttu-id="b771b-104">Pour les applications sur Windows 10, nous vous recommandons d’utiliser des API Windows. UI. composition au lieu de DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="b771b-104">For apps on Windows 10, we recommend using Windows.UI.Composition APIs instead of DirectComposition.</span></span> <span data-ttu-id="b771b-105">Pour plus d’informations, consultez [moderniser votre application de bureau à l’aide de la couche visuelle](/windows/uwp/composition/visual-layer-in-desktop-apps).</span><span class="sxs-lookup"><span data-stu-id="b771b-105">For more info, see [Modernize your desktop app using the Visual layer](/windows/uwp/composition/visual-layer-in-desktop-apps).</span></span>

<span data-ttu-id="b771b-106">Cette rubrique présente les principes fondamentaux des effets Microsoft DirectComposition et décrit les types d’effets pris en charge par DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="b771b-106">This topic discusses the basics of Microsoft DirectComposition effects, and describes the types of effects that DirectComposition supports.</span></span>

<span data-ttu-id="b771b-107">Cette rubrique contient les sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="b771b-107">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="b771b-108">Qu’est-ce qu’un effet DirectComposition ?</span><span class="sxs-lookup"><span data-stu-id="b771b-108">What is a DirectComposition effect?</span></span>](#what-is-a-directcomposition-effect)
-   [<span data-ttu-id="b771b-109">Opacity</span><span class="sxs-lookup"><span data-stu-id="b771b-109">Opacity</span></span>](#opacity)
-   [<span data-ttu-id="b771b-110">effets de transformation de perspective 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-110">3D perspective transform effects</span></span>](#3d-perspective-transform-effects)
    -   [<span data-ttu-id="b771b-111">Espace de coordonnées 3D DirectComposition</span><span class="sxs-lookup"><span data-stu-id="b771b-111">The DirectComposition 3D coordinate space</span></span>](#the-directcomposition-3d-coordinate-space)
    -   [<span data-ttu-id="b771b-112">effet de transformation de rotation 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-112">3D rotation transform effect</span></span>](#3d-rotation-transform-effect)
    -   [<span data-ttu-id="b771b-113">effet de transformation de mise à l’échelle 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-113">3D scaling transform effect</span></span>](#3d-scaling-transform-effect)
    -   [<span data-ttu-id="b771b-114">effet de transformation de translation 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-114">3D translation transform effect</span></span>](#3d-translation-transform-effect)
    -   [<span data-ttu-id="b771b-115">transformation de matrice 3D, effet</span><span class="sxs-lookup"><span data-stu-id="b771b-115">3D matrix transform effect</span></span>](#3d-matrix-transform-effect)
    -   [<span data-ttu-id="b771b-116">Groupe d’effets de transformation 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-116">3D transform effect group</span></span>](#3d-transform-effect-group)
-   [<span data-ttu-id="b771b-117">Objets Effect</span><span class="sxs-lookup"><span data-stu-id="b771b-117">Effect objects</span></span>](#effect-objects)
-   [<span data-ttu-id="b771b-118">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="b771b-118">Related topics</span></span>](#related-topics)

## <a name="what-is-a-directcomposition-effect"></a><span data-ttu-id="b771b-119">Qu’est-ce qu’un effet DirectComposition ?</span><span class="sxs-lookup"><span data-stu-id="b771b-119">What is a DirectComposition effect?</span></span>

<span data-ttu-id="b771b-120">Un *effet* DirectComposition est une opération bitmap qui est appliquée lors de la pixellisation d’un visuel pour modifier l’apparence du visuel d’une certaine façon.</span><span class="sxs-lookup"><span data-stu-id="b771b-120">A DirectComposition *effect* is a bitmap operation that is applied during the rasterization of a visual to change the appearance of the visual in some way.</span></span>

<span data-ttu-id="b771b-121">DirectComposition crée un effet en acceptant une sous-arborescence visuelle et en la rendant dans une seule bitmap avant d’appliquer l’effet.</span><span class="sxs-lookup"><span data-stu-id="b771b-121">DirectComposition creates an effect by taking a visual subtree and rendering it into a single bitmap before applying the effect.</span></span> <span data-ttu-id="b771b-122">Par exemple, pour créer un effet de transformation de perspective 3D, DirectComposition produit une image d’une sous-arborescence visuelle, puis texture l’image sur un plan 3D qui est transformé en fonction de la matrice résultante de l’effet de transformation 3D.</span><span class="sxs-lookup"><span data-stu-id="b771b-122">For example, to create a 3D perspective transform effect, DirectComposition produces an image of a visual sub-tree and then textures the image onto a 3D plane that is transformed according to the 3D transform effect’s resulting matrix.</span></span>

<span data-ttu-id="b771b-123">DirectComposition prend en charge les types d’effets suivants.</span><span class="sxs-lookup"><span data-stu-id="b771b-123">DirectComposition supports the following types of effects.</span></span>



| <span data-ttu-id="b771b-124">Type d’effet</span><span class="sxs-lookup"><span data-stu-id="b771b-124">Effect type</span></span>                                                   | <span data-ttu-id="b771b-125">Description</span><span class="sxs-lookup"><span data-stu-id="b771b-125">Description</span></span>                                                                |
|---------------------------------------------------------------|----------------------------------------------------------------------------|
| [<span data-ttu-id="b771b-126">Opacity</span><span class="sxs-lookup"><span data-stu-id="b771b-126">Opacity</span></span>](#opacity)                                           | <span data-ttu-id="b771b-127">Définit l’opacité d’un visuel entier.</span><span class="sxs-lookup"><span data-stu-id="b771b-127">Sets the opacity of an entire visual.</span></span>                                      |
| [<span data-ttu-id="b771b-128">transformation de perspective 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-128">3D perspective transform</span></span>](#3d-perspective-transform-effects) | <span data-ttu-id="b771b-129">Applique un effet de transformation de perspective à trois dimensions (3D) à un visuel.</span><span class="sxs-lookup"><span data-stu-id="b771b-129">Applies a three-dimensional (3D) perspective transform effect to a visual.</span></span> |



 

> [!Note]  
> <span data-ttu-id="b771b-130">DirectComposition n’effectue pas de traitement spécial lors de l’application d’effets à du contenu stéréo 3D.</span><span class="sxs-lookup"><span data-stu-id="b771b-130">DirectComposition does no special processing when applying effects to 3D stereo content.</span></span> <span data-ttu-id="b771b-131">Cela signifie que le contenu 3D peut apparaître disproportionné lorsqu’un effet est appliqué à celui-ci.</span><span class="sxs-lookup"><span data-stu-id="b771b-131">This means the 3D content might appear distorted when an effect is applied to it.</span></span>

 

## <a name="opacity"></a><span data-ttu-id="b771b-132">Opacity</span><span class="sxs-lookup"><span data-stu-id="b771b-132">Opacity</span></span>

<span data-ttu-id="b771b-133">L’effet d’opacité vous permet de définir le facteur d’opacité appliqué à un visuel entier lorsque l’élément visuel est rendu.</span><span class="sxs-lookup"><span data-stu-id="b771b-133">The opacity effect lets you set the opacity factor that is applied to an entire visual when the visual is rendered.</span></span> <span data-ttu-id="b771b-134">Il diffère d’un masque Alpha en ce que le même facteur d’opacité est appliqué à tous les pixels du visuel.</span><span class="sxs-lookup"><span data-stu-id="b771b-134">It differs from an alpha mask in that the same opacity factor is applied to all pixels in the visual.</span></span> <span data-ttu-id="b771b-135">L’opacité est spécifiée sous la forme d’une valeur comprise entre 0 (complètement transparent) et 1 (entièrement opaque).</span><span class="sxs-lookup"><span data-stu-id="b771b-135">Opacity is specified as a value ranging from 0 (completely transparent) to 1 (completely opaque).</span></span>

<span data-ttu-id="b771b-136">Le facteur d’opacité est appliqué du visuel parent aux éléments visuels enfants, mais les effets visibles des paramètres d’opacité imbriquée ne sont pas indiqués dans la valeur de la propriété des visuels enfants individuels.</span><span class="sxs-lookup"><span data-stu-id="b771b-136">The opacity factor is applied from parent to child visuals, but the visible effects of the nested opacity settings are not indicated in the property value of individual child visuals.</span></span> <span data-ttu-id="b771b-137">Par exemple, si un visuel racine a une opacité de 50% (0,5) et qu’un de ses enfants a une opacité de 20% (0,2), l’opacité nette pour cet enfant est rendue sous la forme de 10% (0,1), mais la valeur de la propriété opacité de l’enfant est toujours de 0,2.</span><span class="sxs-lookup"><span data-stu-id="b771b-137">For instance, if a root visual has a 50% (0.5) opacity and one of its children has a 20% (0.2) opacity, the net opacity for that child is rendered as 10% (0.1), but the value of the child’s Opacity property would still be 0.2.</span></span>

## <a name="3d-perspective-transform-effects"></a><span data-ttu-id="b771b-138">effets de transformation de perspective 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-138">3D perspective transform effects</span></span>

<span data-ttu-id="b771b-139">Cette section décrit l’espace de coordonnées utilisé par DirectComposition pour effectuer des effets de transformation de perspective 3D.</span><span class="sxs-lookup"><span data-stu-id="b771b-139">This section describes the coordinate space that DirectComposition uses for performing 3D perspective transform effects.</span></span> <span data-ttu-id="b771b-140">Elle décrit également les types d’effets de transformation de perspective 3D pris en charge par DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="b771b-140">It also describes the types of 3D perspective transform effects that DirectComposition supports.</span></span>

-   [<span data-ttu-id="b771b-141">Espace de coordonnées 3D DirectComposition</span><span class="sxs-lookup"><span data-stu-id="b771b-141">The DirectComposition 3D coordinate space</span></span>](#the-directcomposition-3d-coordinate-space)
-   [<span data-ttu-id="b771b-142">effet de transformation de rotation 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-142">3D rotation transform effect</span></span>](#3d-rotation-transform-effect)
-   [<span data-ttu-id="b771b-143">effet de transformation de mise à l’échelle 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-143">3D scaling transform effect</span></span>](#3d-scaling-transform-effect)
-   [<span data-ttu-id="b771b-144">effet de transformation de translation 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-144">3D translation transform effect</span></span>](#3d-translation-transform-effect)
-   [<span data-ttu-id="b771b-145">transformation de matrice 3D, effet</span><span class="sxs-lookup"><span data-stu-id="b771b-145">3D matrix transform effect</span></span>](#3d-matrix-transform-effect)
-   [<span data-ttu-id="b771b-146">Groupe d’effets de transformation 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-146">3D transform effect group</span></span>](#3d-transform-effect-group)

> [!Note]  
> <span data-ttu-id="b771b-147">Dans DirectComposition, l’application d’effets 3D à plusieurs niveaux dans l’arborescence d’éléments visuels ne fonctionne pas de la même manière qu’avec un moteur 3D complet tel que Microsoft Direct3D.</span><span class="sxs-lookup"><span data-stu-id="b771b-147">In DirectComposition, applying 3D effects to multiple levels in the visual tree does not work in the same way as it does with a full 3D engine such as Microsoft Direct3D.</span></span> <span data-ttu-id="b771b-148">Par exemple, imaginez un visuel parent qui a un seul visuel enfant.</span><span class="sxs-lookup"><span data-stu-id="b771b-148">For example, consider a parent visual that has a single child visual.</span></span> <span data-ttu-id="b771b-149">Si le visuel enfant pivote vers l’avant dans la direction z (autour de l’axe des y) de 90 degrés, le bord du côté visuel enfant est confronté à la visionneuse, ce qui signifie que le visuel n’est pas visible (car une image bitmap n’a pas de profondeur réelle).</span><span class="sxs-lookup"><span data-stu-id="b771b-149">If the child visual is rotated forward in the z direction (around the y-axis) by 90 degrees, the edge of the child visual edge would face the viewer, and so we’d expect the visual to not be visible (because a bitmap has no real depth).</span></span> <span data-ttu-id="b771b-150">Si le visuel parent est ensuite pivoté vers l’arrière dans la direction z négative (autour de l’axe des y) de 90 degrés, le visuel enfant peut s’attendre à être entièrement visible (puisque les transformations sont inversées).</span><span class="sxs-lookup"><span data-stu-id="b771b-150">If the parent visual is then rotated backward in the negative z direction (around the y-axis) by 90 degrees, we might expect the child visual to become fully visibly (since the transformations negate each other).</span></span> <span data-ttu-id="b771b-151">Toutefois, dans DirectComposition, ce n’est pas le cas.</span><span class="sxs-lookup"><span data-stu-id="b771b-151">However, in DirectComposition this is not the case.</span></span> <span data-ttu-id="b771b-152">Le visuel enfant n’est pas visible, car il a été « aplati » dans la bitmap parente.</span><span class="sxs-lookup"><span data-stu-id="b771b-152">The child visual will not be visible because it was "flattened into" the parent bitmap.</span></span>

 

### <a name="the-directcomposition-3d-coordinate-space"></a><span data-ttu-id="b771b-153">Espace de coordonnées 3D DirectComposition</span><span class="sxs-lookup"><span data-stu-id="b771b-153">The DirectComposition 3D coordinate space</span></span>

<span data-ttu-id="b771b-154">L’espace de coordonnées DirectComposition pour les effets de transformation 3D localise l’origine (0, 0, 0) dans le coin supérieur gauche de la surface de la bitmap, avec les valeurs positives de l’axe des x qui se poursuivent à droite, les valeurs positives de l’axe des y continuant vers le bas, et les valeurs positives de l’axe z qui continuent vers l’extérieur de l’origine</span><span class="sxs-lookup"><span data-stu-id="b771b-154">The DirectComposition coordinate space for 3D transform effects locates the origin (0,0,0) at the upper-left corner of the bitmap surface, with positive x-axis values proceeding to the right, positive y-axis values proceeding downward, and positive z-axis values proceeding outward from the origin, toward the viewer.</span></span> <span data-ttu-id="b771b-155">Cette illustration montre l’espace de coordonnées 3D DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="b771b-155">This illustration shows the DirectComposition 3D coordinate space.</span></span>

![espace de coordonnées 3D directcompostion](images/3d-coordinate-space.png)

### <a name="3d-rotation-transform-effect"></a><span data-ttu-id="b771b-157">effet de transformation de rotation 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-157">3D rotation transform effect</span></span>

<span data-ttu-id="b771b-158">Un effet de transformation de rotation 3D fait pivoter un visuel dans trois dimensions selon l’angle spécifié à propos d’un vecteur d’axe de rotation \[ x, y, z \] situé sur le point central spécifié (x, y, z).</span><span class="sxs-lookup"><span data-stu-id="b771b-158">A 3D rotation transform effect rotates a visual in three dimensions by the specified angle about a rotation axis vector \[x,y,z\] located at the specified center point (x,y,z).</span></span> <span data-ttu-id="b771b-159">L’angle est spécifié en degrés.</span><span class="sxs-lookup"><span data-stu-id="b771b-159">The angle is specified in degrees.</span></span> <span data-ttu-id="b771b-160">Le vecteur de l’axe de rotation par défaut est \[ 0,-1 \] et le point central par défaut est (0, 0, 0).</span><span class="sxs-lookup"><span data-stu-id="b771b-160">The default rotation axis vector is \[0,0,-1\], and the default center point is (0,0,0).</span></span>

<span data-ttu-id="b771b-161">Utilisez la méthode [**IDCompositionDevice :: CreateRotateTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createrotatetransform3d) pour créer un objet de transformation de rotation 3D.</span><span class="sxs-lookup"><span data-stu-id="b771b-161">Use the [**IDCompositionDevice::CreateRotateTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createrotatetransform3d) method to create a 3D rotation transform object.</span></span> <span data-ttu-id="b771b-162">La méthode récupère une interface [**IDCompositionRotateTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionrotatetransform3d) que vous pouvez utiliser pour définir les propriétés de l’objet.</span><span class="sxs-lookup"><span data-stu-id="b771b-162">The method retrieves an [**IDCompositionRotateTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionrotatetransform3d) interface that you can use to set the properties of the object.</span></span>

### <a name="3d-scaling-transform-effect"></a><span data-ttu-id="b771b-163">effet de transformation de mise à l’échelle 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-163">3D scaling transform effect</span></span>

<span data-ttu-id="b771b-164">Un effet de transformation de mise à l’échelle 3D rend un visuel plus grand ou plus petit.</span><span class="sxs-lookup"><span data-stu-id="b771b-164">A 3D scaling transform effect makes a visual larger or smaller.</span></span> <span data-ttu-id="b771b-165">Il met à l’échelle un visuel dans la \[ direction x, y, z \] autour du point central (x, y, z).</span><span class="sxs-lookup"><span data-stu-id="b771b-165">It scales a visual in the \[x,y,z\] direction about the center point (x,y,z).</span></span> <span data-ttu-id="b771b-166">Le point central par défaut est (0, 0, 0).</span><span class="sxs-lookup"><span data-stu-id="b771b-166">The default center point is (0,0,0).</span></span>

<span data-ttu-id="b771b-167">Utilisez la méthode [**IDCompositionDevice :: CreateScaleTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createscaletransform3d) pour créer un objet de transformation de mise à l’échelle 3D.</span><span class="sxs-lookup"><span data-stu-id="b771b-167">Use the [**IDCompositionDevice::CreateScaleTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createscaletransform3d) method to create a 3D scaling transform object.</span></span> <span data-ttu-id="b771b-168">La méthode récupère une interface [**IDCompositionScaleTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionscaletransform3d) que vous pouvez utiliser pour définir les propriétés de l’objet.</span><span class="sxs-lookup"><span data-stu-id="b771b-168">The method retrieves an [**IDCompositionScaleTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionscaletransform3d) interface that you can use to set the properties of the object.</span></span>

### <a name="3d-translation-transform-effect"></a><span data-ttu-id="b771b-169">effet de transformation de translation 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-169">3D translation transform effect</span></span>

<span data-ttu-id="b771b-170">Un effet de transformation de translation 3D modifie la position d’un visuel dans la \[ direction x, y, z \] .</span><span class="sxs-lookup"><span data-stu-id="b771b-170">A 3D translation transform effect changes the position of a visual in the \[x,y,z\] direction.</span></span>

<span data-ttu-id="b771b-171">Utilisez la méthode [**IDCompositionDevice :: CreateTranslateTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtranslatetransform3d) pour créer un objet de transformation de traduction 3D.</span><span class="sxs-lookup"><span data-stu-id="b771b-171">Use the [**IDCompositionDevice::CreateTranslateTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtranslatetransform3d) method to create a 3D translation transform object.</span></span> <span data-ttu-id="b771b-172">La méthode récupère une interface [**IDCompositionTranslateTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositiontranslatetransform3d) que vous pouvez utiliser pour définir les propriétés de l’objet.</span><span class="sxs-lookup"><span data-stu-id="b771b-172">The method retrieves an [**IDCompositionTranslateTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositiontranslatetransform3d) interface that you can use to set the properties of the object.</span></span>

### <a name="3d-matrix-transform-effect"></a><span data-ttu-id="b771b-173">transformation de matrice 3D, effet</span><span class="sxs-lookup"><span data-stu-id="b771b-173">3D matrix transform effect</span></span>

<span data-ttu-id="b771b-174">L’interface [**IDCompositionMatrixTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionmatrixtransform) vous permet de définir votre propre matrice de transformation 4 par 4 et de l’appliquer à un visuel.</span><span class="sxs-lookup"><span data-stu-id="b771b-174">The [**IDCompositionMatrixTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionmatrixtransform) interface enables you to define your own 4-by-4 transformation matrix and apply it to a visual.</span></span> <span data-ttu-id="b771b-175">Cette interface est utile si vous devez appliquer un type d’effet de transformation de perspective 3D qui n’est pas disponible via les autres interfaces d’effet de transformation 3D DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="b771b-175">This interface is useful if you need to apply a type of 3D perspective transform effect that is not available through the other DirectComposition 3D transform effect interfaces.</span></span> <span data-ttu-id="b771b-176">Vous définissez la matrice en remplissant une structure [**D3DMATRIX**](/windows/desktop/direct3d10/d3d10-d3dmatrix) et en la passant à la méthode [**IDCompositionMatrixTransform3D :: SetMatrix**](/windows/win32/api/dcomp/nf-dcomp-idcompositionmatrixtransform-setmatrix) .</span><span class="sxs-lookup"><span data-stu-id="b771b-176">You define the matrix by filling a [**D3DMATRIX**](/windows/desktop/direct3d10/d3d10-d3dmatrix) structure and passing it to the [**IDCompositionMatrixTransform3D::SetMatrix**](/windows/win32/api/dcomp/nf-dcomp-idcompositionmatrixtransform-setmatrix) method.</span></span> <span data-ttu-id="b771b-177">Vous pouvez également définir chaque élément de la matrice à l’aide de la méthode [**IDCompositionMatrixTransform3D :: SetMatrixElement**](/previous-versions/windows/desktop/legacy/hh437429(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="b771b-177">Alternatively, you can set each element of the matrix by using the [**IDCompositionMatrixTransform3D::SetMatrixElement**](/previous-versions/windows/desktop/legacy/hh437429(v=vs.85)) method.</span></span>

### <a name="3d-transform-effect-group"></a><span data-ttu-id="b771b-178">Groupe d’effets de transformation 3D</span><span class="sxs-lookup"><span data-stu-id="b771b-178">3D transform effect group</span></span>

<span data-ttu-id="b771b-179">[**IDCompositionDevice :: CreateTransform3DGroup**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtransform3dgroup) crée une collection d’effets de transformation 3D que vous pouvez appliquer à un visuel en tant que groupe.</span><span class="sxs-lookup"><span data-stu-id="b771b-179">The [**IDCompositionDevice::CreateTransform3DGroup**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtransform3dgroup) creates a collection of 3D transform effects that you can apply to a visual as a group.</span></span> <span data-ttu-id="b771b-180">Le tableau peut inclure un nombre quelconque d’objets Transform et peut inclure des transformations de matrice, de rotation, de mise à l’échelle et de translation.</span><span class="sxs-lookup"><span data-stu-id="b771b-180">The array can include any number of transform objects, and can include matrix, rotate, scale, and translate transforms.</span></span> <span data-ttu-id="b771b-181">La collection d’objets transformation 3D entraîne une transformation dont la valeur est la multiplication de matrice des matrices de transformation individuelles dans la collection.</span><span class="sxs-lookup"><span data-stu-id="b771b-181">The collection of 3D transform objects results in a transform whose value is the matrix multiplication of the individual transform matrices in the collection.</span></span>

<span data-ttu-id="b771b-182">L’ordre des transformations individuelles dans le groupe est important.</span><span class="sxs-lookup"><span data-stu-id="b771b-182">The order of individual transforms in the group is important.</span></span> <span data-ttu-id="b771b-183">Par exemple, si vous faites pivoter, puis mettez à l’échelle, puis Traduisez, vous obtenez un résultat différent de celui que vous convertissiez, puis faites pivoter, puis mettez à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="b771b-183">For example, if you first rotate, then scale, then translate, you get a different result than if you first translate, then rotate, then scale.</span></span> <span data-ttu-id="b771b-184">DirectComposition respecte l’ordre dans lequel vous spécifiez les transformations 3D dans un groupe transformer en 3D de la même façon que pour les transformations 2D.</span><span class="sxs-lookup"><span data-stu-id="b771b-184">DirectComposition respects the order in which you specify 3D transforms within a transform 3D group the same way it does for 2D transforms.</span></span> <span data-ttu-id="b771b-185">En outre, les transformations de perspective 3D entraînent l’aplatissement de l’arborescence d’éléments visuels après l’application de toutes les transformations 3D de l’objet visuel en cours.</span><span class="sxs-lookup"><span data-stu-id="b771b-185">Additionally, 3D perspective transforms result in flattening of the visual tree after all 3D transforms in the current visual have been applied.</span></span> <span data-ttu-id="b771b-186">Cela permet de s’assurer que la scène semble aussi proche que possible de la 3D.</span><span class="sxs-lookup"><span data-stu-id="b771b-186">This is done to ensure that the scene looks as close to 3D as possible.</span></span>

## <a name="effect-objects"></a><span data-ttu-id="b771b-187">Objets Effect</span><span class="sxs-lookup"><span data-stu-id="b771b-187">Effect objects</span></span>

<span data-ttu-id="b771b-188">Pour appliquer un effet à un visuel, vous devez d’abord créer et définir les propriétés d’un objet Effect qui représente le type d’effet que vous souhaitez produire sur le visuel.</span><span class="sxs-lookup"><span data-stu-id="b771b-188">To apply an effect to a visual, you first need to create and set the properties of an effect object that represents the type of effect that you want to produce on the visual.</span></span> <span data-ttu-id="b771b-189">Ensuite, vous devez appliquer l’objet Effect à la propriété Effect du visuel.</span><span class="sxs-lookup"><span data-stu-id="b771b-189">Then, you need to apply the effect object to the visual's Effect property.</span></span>

<span data-ttu-id="b771b-190">Pour créer un objet Effect, utilisez l’une des méthodes d’interface [**IDCompositionDevice**](/windows/win32/api/dcomp/nn-dcomp-idcompositiondevice) suivantes pour créer un objet Effect pour le type d’effet de votre choix.</span><span class="sxs-lookup"><span data-stu-id="b771b-190">To create an effect object, use one of the following [**IDCompositionDevice**](/windows/win32/api/dcomp/nn-dcomp-idcompositiondevice) interface methods to create an effect object for the type of effect that you want.</span></span> <span data-ttu-id="b771b-191">Les méthodes suivantes créent des objets Effects :</span><span class="sxs-lookup"><span data-stu-id="b771b-191">The following methods create effect objects:</span></span>

-   [<span data-ttu-id="b771b-192">**CreateMatrixTransform3D**</span><span class="sxs-lookup"><span data-stu-id="b771b-192">**CreateMatrixTransform3D**</span></span>](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-creatematrixtransform3d)
-   [<span data-ttu-id="b771b-193">**CreateRotateTransform3D**</span><span class="sxs-lookup"><span data-stu-id="b771b-193">**CreateRotateTransform3D**</span></span>](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createrotatetransform3d)
-   [<span data-ttu-id="b771b-194">**CreateScaleTransform3D**</span><span class="sxs-lookup"><span data-stu-id="b771b-194">**CreateScaleTransform3D**</span></span>](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createscaletransform3d)
-   [<span data-ttu-id="b771b-195">**CreateTranslateTransform3D**</span><span class="sxs-lookup"><span data-stu-id="b771b-195">**CreateTranslateTransform3D**</span></span>](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtranslatetransform3d)

<span data-ttu-id="b771b-196">Chacune des méthodes précédentes récupère une interface que vous pouvez utiliser pour définir les propriétés de l’objet Effect nouvellement créé.</span><span class="sxs-lookup"><span data-stu-id="b771b-196">Each of the preceding methods retrieves an interface that you can use to set the properties of the newly created effect object.</span></span> <span data-ttu-id="b771b-197">Utilisez les méthodes d’interface pour définir les propriétés en fonction des besoins afin de produire l’effet visuel souhaité.</span><span class="sxs-lookup"><span data-stu-id="b771b-197">Use the interface methods to set the properties as necessary to produce the visual effect that you want.</span></span>

<span data-ttu-id="b771b-198">La plupart des propriétés d’un objet Effect peuvent être animées.</span><span class="sxs-lookup"><span data-stu-id="b771b-198">Most properties of an effect object can be animated.</span></span> <span data-ttu-id="b771b-199">Pour animer une propriété particulière, créez un objet d’animation et appliquez-le à la propriété que vous souhaitez animer. Sinon, affectez à la propriété une valeur statique qui produit l’effet souhaité.</span><span class="sxs-lookup"><span data-stu-id="b771b-199">To animate a particular property, create an animation object and apply it to the property that you want to animate; otherwise, set the property to a static value that produces the effect that you want.</span></span> <span data-ttu-id="b771b-200">Pour plus d’informations sur l’animation des propriétés, consultez [animation](animation.md).</span><span class="sxs-lookup"><span data-stu-id="b771b-200">For more information about animating properties, see [Animation](animation.md).</span></span>

<span data-ttu-id="b771b-201">Pour appliquer un objet Effect à Visual, appelez la méthode [**IDCompositionVisual :: SetEffect**](/windows/win32/api/dcomp/nf-dcomp-idcompositionvisual-seteffect) .</span><span class="sxs-lookup"><span data-stu-id="b771b-201">To apply an effect object to visual, call the [**IDCompositionVisual::SetEffect**](/windows/win32/api/dcomp/nf-dcomp-idcompositionvisual-seteffect) method.</span></span> <span data-ttu-id="b771b-202">Lorsque vous appliquez un effet à un visuel, l’effet est appliqué à l’ensemble de la sous-arborescence d’éléments visuels enracinée sur cet visuel.</span><span class="sxs-lookup"><span data-stu-id="b771b-202">When you apply an effect to a visual, the effect is applied to the entire visual subtree rooted at that visual.</span></span> <span data-ttu-id="b771b-203">Ainsi, par exemple, si vous définissez l’opacité d’un visuel sur 50 pour cent, l’opacité de tous les éléments visuels enfants dans la sous-arborescence visuelle sera réduite de 50%.</span><span class="sxs-lookup"><span data-stu-id="b771b-203">So, for example, if you set the opacity of a visual to 50 percent, the opacity of all child visuals in the visual subtree will be reduced by 50 percent.</span></span> <span data-ttu-id="b771b-204">Vous pouvez appliquer le même objet Effects à un ou plusieurs visuels.</span><span class="sxs-lookup"><span data-stu-id="b771b-204">You can apply the same effect object to one or more visuals.</span></span> <span data-ttu-id="b771b-205">Si vous modifiez les propriétés d’un objet Effect après l’avoir appliqué aux éléments visuels, tous les visuels sont recomposés pour refléter la modification.</span><span class="sxs-lookup"><span data-stu-id="b771b-205">If you modify the properties of an effect object after applying it to visuals, all of the visuals are re-composed to reflect the change.</span></span>

<span data-ttu-id="b771b-206">À l’aide d’un objet de groupe d’effets, vous pouvez appliquer simultanément plusieurs effets à un visuel.</span><span class="sxs-lookup"><span data-stu-id="b771b-206">By using an effect group object, you can simultaneously apply multiple effects to a visual.</span></span> <span data-ttu-id="b771b-207">Tout d’abord, appelez [**IDCompositionDevice :: CreateEffectGroup**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createeffectgroup) pour créer l’objet de groupe d’effets, puis ajoutez des effets au groupe à l’aide de l’interface [**IDCompositionEffectGroup**](/windows/win32/api/dcomp/nn-dcomp-idcompositioneffectgroup) de l’objet.</span><span class="sxs-lookup"><span data-stu-id="b771b-207">First call [**IDCompositionDevice::CreateEffectGroup**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createeffectgroup) to create the effect group object, and then add effects to the group by using the object's [**IDCompositionEffectGroup**](/windows/win32/api/dcomp/nn-dcomp-idcompositioneffectgroup) interface.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b771b-208">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="b771b-208">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b771b-209">Concepts DirectComposition</span><span class="sxs-lookup"><span data-stu-id="b771b-209">DirectComposition Concepts</span></span>](directcomposition-concepts.md)
</dt> </dl>

 

 