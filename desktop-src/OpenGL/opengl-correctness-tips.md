---
title: Conseils d’exactitude OpenGL
description: Conseils d’exactitude OpenGL
ms.assetid: 48397fbf-823d-4ea0-adfd-2c639e20e38f
keywords:
- OpenGL, conseils d’exactitude
- OpenGL, meilleures pratiques
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5294d2e989591216ea8cf66aa380933718776f2d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104379804"
---
# <a name="opengl-correctness-tips"></a><span data-ttu-id="42461-105">Conseils d’exactitude OpenGL</span><span class="sxs-lookup"><span data-stu-id="42461-105">OpenGL Correctness Tips</span></span>

<span data-ttu-id="42461-106">Suivez ces instructions pour créer des applications OpenGL qui fonctionnent comme vous le souhaitez :</span><span class="sxs-lookup"><span data-stu-id="42461-106">Follow these guidelines to create OpenGL applications that perform as you intend:</span></span>

-   <span data-ttu-id="42461-107">Supposons que le comportement d’erreur dans la partie d’une implémentation OpenGL peut changer dans une version ultérieure de OpenGL.</span><span class="sxs-lookup"><span data-stu-id="42461-107">Assume error behavior on the part of an OpenGL implementation may change in a future release of OpenGL.</span></span> <span data-ttu-id="42461-108">La sémantique des erreurs OpenGL peut changer dans les révisions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="42461-108">OpenGL error semantics may change in future revisions.</span></span>
-   <span data-ttu-id="42461-109">Utilisez la matrice de projection pour réduire toutes les géométries à un seul plan.</span><span class="sxs-lookup"><span data-stu-id="42461-109">Use the projection matrix to collapse all geometry to a single plane.</span></span> <span data-ttu-id="42461-110">Si la matrice modelview est utilisée, les fonctionnalités OpenGL qui fonctionnent en coordonnées oculaires (telles que les plans d’éclairage et de découpage défini par l’application) peuvent échouer.</span><span class="sxs-lookup"><span data-stu-id="42461-110">If the modelview matrix is used, OpenGL features that operate in eye coordinates (such as lighting and application-defined clipping planes) might fail.</span></span>
-   <span data-ttu-id="42461-111">N’apportez pas de modifications importantes à une matrice unique.</span><span class="sxs-lookup"><span data-stu-id="42461-111">Do not make extensive changes to a single matrix.</span></span> <span data-ttu-id="42461-112">Par exemple, n’animez pas une rotation en appelant continuellement [**glRotate**](glrotate.md) avec un angle incrémentiel.</span><span class="sxs-lookup"><span data-stu-id="42461-112">For example, do not animate a rotation by continually calling [**glRotate**](glrotate.md) with an incremental angle.</span></span> <span data-ttu-id="42461-113">Utilisez plutôt [**glLoadIdentity**](glloadidentity.md) pour initialiser la matrice donnée pour chaque frame, puis appelez **glRotate** avec l’angle complet souhaité pour ce frame.</span><span class="sxs-lookup"><span data-stu-id="42461-113">Rather, use [**glLoadIdentity**](glloadidentity.md) to initialize the given matrix for each frame, and then call **glRotate** with the desired complete angle for that frame.</span></span>
-   <span data-ttu-id="42461-114">Attendez-vous à ce que plusieurs passes dans une base de données de rendu génèrent les mêmes fragments de pixel uniquement si ce comportement est garanti par les règles d’invariance établies pour une implémentation OpenGL conforme.</span><span class="sxs-lookup"><span data-stu-id="42461-114">Expect multiple passes through a rendering database to generate the same pixel fragments only if this behavior is guaranteed by the invariance rules established for a compliant OpenGL implementation.</span></span> <span data-ttu-id="42461-115">Dans le cas contraire, plusieurs passes peuvent générer des ensembles différents de fragments.</span><span class="sxs-lookup"><span data-stu-id="42461-115">Otherwise, multiple passes might generate varying sets of fragments.</span></span>
-   <span data-ttu-id="42461-116">Ne vous attendez pas à ce que les erreurs soient signalées lors de la définition d’une liste d’affichage.</span><span class="sxs-lookup"><span data-stu-id="42461-116">Do not expect errors to be reported while a display list is being defined.</span></span> <span data-ttu-id="42461-117">Les commandes d’une liste d’affichage génèrent des erreurs uniquement lorsque la liste est exécutée.</span><span class="sxs-lookup"><span data-stu-id="42461-117">The commands within a display list generate errors only when the list is executed.</span></span>
-   <span data-ttu-id="42461-118">Pour optimiser le fonctionnement de la mémoire tampon de profondeur, placez le plan near frustum le plus éloigné possible du point de vue.</span><span class="sxs-lookup"><span data-stu-id="42461-118">To optimize the operation of the depth buffer, place the near frustum plane as far from the viewpoint as possible.</span></span>
-   <span data-ttu-id="42461-119">Appelez [**glFlush**](glflush.md) pour forcer l’exécution de toutes les commandes OpenGL précédentes.</span><span class="sxs-lookup"><span data-stu-id="42461-119">Call [**glFlush**](glflush.md) to force execution of all previous OpenGL commands.</span></span> <span data-ttu-id="42461-120">Ne comptez pas sur [**glGet**](glgetbooleanv--glgetdoublev--glgetfloatv--glgetintegerv.md) ou [**glIsEnabled**](glisenabled.md) pour vider le flux de rendu.</span><span class="sxs-lookup"><span data-stu-id="42461-120">Do not count on [**glGet**](glgetbooleanv--glgetdoublev--glgetfloatv--glgetintegerv.md) or [**glIsEnabled**](glisenabled.md) to flush the rendering stream.</span></span> <span data-ttu-id="42461-121">Les commandes de requête vident la plus grande partie du flux nécessaire pour retourner des données valides, mais ne terminent pas nécessairement toutes les commandes de rendu en attente.</span><span class="sxs-lookup"><span data-stu-id="42461-121">Query commands flush as much of the stream as is required to return valid data but don't necessarily complete all pending rendering commands.</span></span>
-   <span data-ttu-id="42461-122">Désactivez le tramage lors du rendu des images préfondues (par exemple, quand [**glCopyPixels**](glcopypixels.md) est appelé).</span><span class="sxs-lookup"><span data-stu-id="42461-122">Turn off dithering when rendering predithered images (for example, when [**glCopyPixels**](glcopypixels.md) is called).</span></span>
-   <span data-ttu-id="42461-123">Utilisez la plage complète de la mémoire tampon d’accumulation.</span><span class="sxs-lookup"><span data-stu-id="42461-123">Make use of the full range of the accumulation buffer.</span></span> <span data-ttu-id="42461-124">Par exemple, si vous accumulez quatre images, mettez-les à l’échelle chaque mois au fur et à mesure qu’elles sont accumulées.</span><span class="sxs-lookup"><span data-stu-id="42461-124">For example, if accumulating four images, scale each by one-quarter as it is accumulated.</span></span>
-   <span data-ttu-id="42461-125">Pour obtenir une pixellisation exacte à deux dimensions, spécifiez avec soin la projection orthographique et les vertex des primitives à pixelliser.</span><span class="sxs-lookup"><span data-stu-id="42461-125">To obtain exact two-dimensional rasterization, carefully specify both the orthographic projection and the vertices of the primitives that are to be rasterized.</span></span> <span data-ttu-id="42461-126">Spécifiez la projection orthographique avec des coordonnées entières, comme indiqué dans l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="42461-126">Specify the orthographic projection with integer coordinates, as shown in the following example.</span></span>

    ``` syntax
    gluOrtho2D(0, width, 0, height); 
    ```

    <span data-ttu-id="42461-127">La *largeur* et la *hauteur* des paramètres sont les dimensions de la fenêtre d’affichage.</span><span class="sxs-lookup"><span data-stu-id="42461-127">The parameters *width* and *height* are the dimensions of the viewport.</span></span> <span data-ttu-id="42461-128">À partir de cette matrice de projection, placez les positions de polygones et d’images de pixels aux coordonnées entières pour pixelliser de manière prévisible.</span><span class="sxs-lookup"><span data-stu-id="42461-128">Given this projection matrix, place polygon vertices and pixel image positions at integer coordinates to rasterize predictably.</span></span> <span data-ttu-id="42461-129">Par exemple, [glRecti](glrect-functions.md)(0, 0, 1, 1) remplit de manière fiable le pixel inférieur gauche de la fenêtre d’affichage, tandis que [glRasterPos2i](glrasterpos-functions.md)(0, 0) place de manière fiable une image non zoomée au pixel inférieur gauche de la fenêtre d’affichage.</span><span class="sxs-lookup"><span data-stu-id="42461-129">For example, [glRecti](glrect-functions.md)( 0, 0, 1, 1 ) reliably fills the lower-left pixel of the viewport, and [glRasterPos2i](glrasterpos-functions.md)( 0, 0 ) reliably positions an unzoomed image at the lower-left pixel of the viewport.</span></span> <span data-ttu-id="42461-130">Toutefois, les vertex point, les sommets de ligne et les positions de bitmap doivent être placés à des emplacements demi-entiers.</span><span class="sxs-lookup"><span data-stu-id="42461-130">However, point vertices, line vertices, and bitmap positions should be placed at half-integer locations.</span></span> <span data-ttu-id="42461-131">Par exemple, une ligne dessinée de (*x* (1), 0,5) à (*x* (2), 0,5) est rendue de manière fiable le long de la ligne inférieure des pixels dans la fenêtre d’affichage, et un point dessiné à (0,5, 0,5) remplit de manière fiable le même pixel que glRecti (0, 0, 1, 1).</span><span class="sxs-lookup"><span data-stu-id="42461-131">For example, a line drawn from (*x* (1) , 0.5) to (*x* (2) , 0.5) will be reliably rendered along the bottom row of pixels in the viewport, and a point drawn at (0.5, 0.5) will reliably fill the same pixel as glRecti( 0, 0, 1, 1 ).</span></span>

    <span data-ttu-id="42461-132">Une compromission optimale qui permet de spécifier toutes les primitives à des positions entières, tout en garantissant une pixellisation prévisible, consiste à traduire *x* et *y* par 0,375, comme illustré dans l’exemple de code suivant.</span><span class="sxs-lookup"><span data-stu-id="42461-132">An optimum compromise that allows all primitives to be specified at integer positions, while still ensuring predictable rasterization, is to translate *x* and *y* by 0.375, as shown in the following code sample.</span></span> <span data-ttu-id="42461-133">Une telle traduction maintient les bords d’image de polygone et de pixel en toute sécurité à l’écart des centres de pixels, tout en déplaçant les sommets de ligne suffisamment près des centres de pixels.</span><span class="sxs-lookup"><span data-stu-id="42461-133">Such a translation keeps polygon and pixel image edges safely away from the centers of pixels, while moving line vertices close enough to the pixel centers.</span></span>

    ``` syntax
    glViewport(0, 0, width, height);
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity( );
    gluOrtho2D(0, width, 0, height);
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity( );
    glTranslatef(0.375, 0.375, 0.0);
    /* render all primitives at integer positions */
    ```

-   <span data-ttu-id="42461-134">Évitez d’utiliser des coordonnées de vertex *w* négatives et des coordonnées de texture *q* négatives.</span><span class="sxs-lookup"><span data-stu-id="42461-134">Avoid using negative *w* vertex coordinates and negative *q* texture coordinates.</span></span> <span data-ttu-id="42461-135">OpenGL peut ne pas découper de telles coordonnées correctement et peut faire des erreurs d’interpolation lors de la définition de primitives d’ombrage définies par ces coordonnées.</span><span class="sxs-lookup"><span data-stu-id="42461-135">OpenGL might not clip such coordinates correctly and can make interpolation errors when shading primitives defined by such coordinates.</span></span>

 

 




