---
title: Rendu des fonctions de contexte
description: Cinq fonctions WGL gèrent les contextes de rendu, comme décrit dans le tableau suivant.
ms.assetid: e03ec03d-2a85-49de-a2be-fe81a5ec5f7f
keywords:
- WGL, fonctions, contextes de rendu
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ad8d3a8ea0333154d3145711829ab23e262fa485
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103941324"
---
# <a name="rendering-context-functions"></a><span data-ttu-id="7a507-104">Rendu des fonctions de contexte</span><span class="sxs-lookup"><span data-stu-id="7a507-104">Rendering Context Functions</span></span>

<span data-ttu-id="7a507-105">Cinq fonctions WGL gèrent les contextes de rendu, comme décrit dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="7a507-105">Five WGL functions manage rendering contexts, as described in the following table.</span></span>



| <span data-ttu-id="7a507-106">WGL fonction)</span><span class="sxs-lookup"><span data-stu-id="7a507-106">WGL Function</span></span>                                         | <span data-ttu-id="7a507-107">Description</span><span class="sxs-lookup"><span data-stu-id="7a507-107">Description</span></span>                                                                                  |
|------------------------------------------------------|----------------------------------------------------------------------------------------------|
| [<span data-ttu-id="7a507-108">**wglCreateContext**</span><span class="sxs-lookup"><span data-stu-id="7a507-108">**wglCreateContext**</span></span>](/windows/desktop/api/wingdi/nf-wingdi-wglcreatecontext)         | <span data-ttu-id="7a507-109">Crée un nouveau contexte de rendu.</span><span class="sxs-lookup"><span data-stu-id="7a507-109">Creates a new rendering context.</span></span>                                                             |
| [<span data-ttu-id="7a507-110">**WglMakeCurrent**</span><span class="sxs-lookup"><span data-stu-id="7a507-110">**WglMakeCurrent**</span></span>](/windows/desktop/api/wingdi/nf-wingdi-wglmakecurrent)             | <span data-ttu-id="7a507-111">Définit le contexte de rendu actuel d’un thread.</span><span class="sxs-lookup"><span data-stu-id="7a507-111">Sets a thread's current rendering context.</span></span>                                                   |
| [<span data-ttu-id="7a507-112">**WglGetCurrentContext**</span><span class="sxs-lookup"><span data-stu-id="7a507-112">**WglGetCurrentContext**</span></span>](/windows/desktop/api/wingdi/nf-wingdi-wglgetcurrentcontext) | <span data-ttu-id="7a507-113">Obtient un handle du contexte de rendu actuel d’un thread.</span><span class="sxs-lookup"><span data-stu-id="7a507-113">Obtains a handle to a thread's current rendering context.</span></span>                                    |
| [<span data-ttu-id="7a507-114">**WglGetCurrentDC**</span><span class="sxs-lookup"><span data-stu-id="7a507-114">**WglGetCurrentDC**</span></span>](/windows/desktop/api/wingdi/nf-wingdi-wglgetcurrentdc)           | <span data-ttu-id="7a507-115">Obtient un handle vers le contexte de périphérique associé au contexte de rendu actuel d’un thread.</span><span class="sxs-lookup"><span data-stu-id="7a507-115">Obtains a handle to the device context associated with a thread's current rendering context.</span></span> |
| [<span data-ttu-id="7a507-116">**WglDeleteContext**</span><span class="sxs-lookup"><span data-stu-id="7a507-116">**WglDeleteContext**</span></span>](/windows/desktop/api/wingdi/nf-wingdi-wgldeletecontext)         | <span data-ttu-id="7a507-117">Supprime un contexte de rendu.</span><span class="sxs-lookup"><span data-stu-id="7a507-117">Deletes a rendering context.</span></span>                                                                 |



 

<span data-ttu-id="7a507-118">La fonction [**wglCreateContext**](/windows/desktop/api/wingdi/nf-wingdi-wglcreatecontext) prend un handle de contexte de périphérique en tant que paramètre et retourne un handle de contexte de rendu.</span><span class="sxs-lookup"><span data-stu-id="7a507-118">The [**wglCreateContext**](/windows/desktop/api/wingdi/nf-wingdi-wglcreatecontext) function takes a device context handle as its parameter and returns a rendering context handle.</span></span> <span data-ttu-id="7a507-119">Le contexte de rendu créé est adapté au dessin sur l’appareil référencé par le handle de contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="7a507-119">The created rendering context is suitable for drawing on the device referenced by the device context handle.</span></span> <span data-ttu-id="7a507-120">En particulier, son format de pixel est le même que le format de pixel du contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="7a507-120">In particular, its pixel format is the same as the device context's pixel format.</span></span> <span data-ttu-id="7a507-121">Après avoir créé un contexte de rendu, vous pouvez libérer ou supprimer le contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="7a507-121">After you create a rendering context, you can release or dispose of the device context.</span></span> <span data-ttu-id="7a507-122">Pour plus d’informations sur la création, l’obtention, le lancement et la suppression d’un contexte de périphérique, consultez [contextes de périphérique](/windows/desktop/gdi/device-contexts) .</span><span class="sxs-lookup"><span data-stu-id="7a507-122">See [Device Contexts](/windows/desktop/gdi/device-contexts) for more details on creating, obtaining, releasing, and disposing of a device context.</span></span>

> [!Note]  
> <span data-ttu-id="7a507-123">Le contexte de périphérique (Device Context) envoyé à [**wglCreateContext**](/windows/desktop/api/wingdi/nf-wingdi-wglcreatecontext) doit être un contexte de périphérique d’affichage, un contexte de périphérique de mémoire ou un contexte de périphérique d’imprimante couleur qui utilise quatre bits ou plus par pixel.</span><span class="sxs-lookup"><span data-stu-id="7a507-123">The device context sent to [**wglCreateContext**](/windows/desktop/api/wingdi/nf-wingdi-wglcreatecontext) must be a display device context, a memory device context, or a color printer device context that uses four or more bits per pixel.</span></span> <span data-ttu-id="7a507-124">Le contexte de périphérique ne peut pas être un contexte de périphérique d’imprimante monochrome.</span><span class="sxs-lookup"><span data-stu-id="7a507-124">The device context cannot be a monochrome printer device context.</span></span>

 

<span data-ttu-id="7a507-125">La fonction [**wglMakeCurrent**](/windows/desktop/api/wingdi/nf-wingdi-wglmakecurrent) prend un handle de contexte de rendu et un handle de contexte de périphérique en tant que paramètres.</span><span class="sxs-lookup"><span data-stu-id="7a507-125">The [**wglMakeCurrent**](/windows/desktop/api/wingdi/nf-wingdi-wglmakecurrent) function takes a rendering context handle and a device context handle as parameters.</span></span> <span data-ttu-id="7a507-126">Tous les appels OpenGL suivants effectués par le thread sont effectués par le biais de ce contexte de rendu et sont dessinés sur l’appareil référencé par ce contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="7a507-126">All subsequent OpenGL calls made by the thread are made through that rendering context, and are drawn on the device referenced by that device context.</span></span> <span data-ttu-id="7a507-127">Le contexte de périphérique n’a pas besoin d’être le même que celui passé à **wglCreateContext** lorsque le contexte de rendu a été créé, mais il doit se trouver sur le même appareil et avoir le même format de pixel.</span><span class="sxs-lookup"><span data-stu-id="7a507-127">The device context does not have to be the same one passed to **wglCreateContext** when the rendering context was created, but it must be on the same device and have the same pixel format.</span></span> <span data-ttu-id="7a507-128">L’appel à **wglMakeCurrent** crée une association entre le contexte de rendu fourni et le contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="7a507-128">The call to **wglMakeCurrent** creates an association between the supplied rendering context and device context.</span></span> <span data-ttu-id="7a507-129">Vous ne pouvez pas libérer ou supprimer le contexte de périphérique associé à un contexte de rendu actuel tant que vous n’avez pas effectué le contexte de rendu en cours.</span><span class="sxs-lookup"><span data-stu-id="7a507-129">You cannot release or dispose of the device context associated with a current rendering context until after you make the rendering context not current.</span></span>

<span data-ttu-id="7a507-130">Une fois qu’un thread a un contexte de rendu actuel, il peut effectuer des appels de graphiques OpenGL.</span><span class="sxs-lookup"><span data-stu-id="7a507-130">Once a thread has a current rendering context, it can make OpenGL graphics calls.</span></span> <span data-ttu-id="7a507-131">Tous les appels doivent traverser un contexte de rendu.</span><span class="sxs-lookup"><span data-stu-id="7a507-131">All calls must pass through a rendering context.</span></span> <span data-ttu-id="7a507-132">Rien ne se passe si vous effectuez des appels graphiques OpenGL à partir d’un thread qui ne dispose pas d’un contexte de rendu actuel.</span><span class="sxs-lookup"><span data-stu-id="7a507-132">Nothing happens if you make OpenGL graphics calls from a thread that lacks a current rendering context.</span></span>

<span data-ttu-id="7a507-133">La fonction [**wglGetCurrentContext**](/windows/desktop/api/wingdi/nf-wingdi-wglgetcurrentcontext) ne prend pas de paramètres et retourne un handle vers le contexte de rendu actuel du thread appelant.</span><span class="sxs-lookup"><span data-stu-id="7a507-133">The [**wglGetCurrentContext**](/windows/desktop/api/wingdi/nf-wingdi-wglgetcurrentcontext) function takes no parameters, and returns a handle to the calling thread's current rendering context.</span></span> <span data-ttu-id="7a507-134">Si le thread n’a pas de contexte de rendu actuel, la valeur de retour est **null**.</span><span class="sxs-lookup"><span data-stu-id="7a507-134">If the thread has no current rendering context, the return value is **NULL**.</span></span>

<span data-ttu-id="7a507-135">Quand vous obtenez un handle vers le contexte de périphérique associé au contexte de rendu actuel d’un thread en appelant [**wglGetCurrentDC**](/windows/desktop/api/wingdi/nf-wingdi-wglgetcurrentdc), l’Association est créée lorsqu’un contexte de rendu devient actif.</span><span class="sxs-lookup"><span data-stu-id="7a507-135">When you obtain a handle to the device context associated with a thread's current rendering context by calling [**wglGetCurrentDC**](/windows/desktop/api/wingdi/nf-wingdi-wglgetcurrentdc), the association is created when a rendering context is made current.</span></span>

<span data-ttu-id="7a507-136">Vous pouvez rompre l’association entre un contexte de rendu actuel et un thread en appelant [**wglMakeCurrent**](/windows/desktop/api/wingdi/nf-wingdi-wglmakecurrent) avec l’un des deux Handles suivants :</span><span class="sxs-lookup"><span data-stu-id="7a507-136">You can break the association between a current rendering context and a thread by calling [**wglMakeCurrent**](/windows/desktop/api/wingdi/nf-wingdi-wglmakecurrent) with either of two handles:</span></span>

-   <span data-ttu-id="7a507-137">Handle de contexte de rendu **null**</span><span class="sxs-lookup"><span data-stu-id="7a507-137">A **null** rendering context handle</span></span>
-   <span data-ttu-id="7a507-138">Handle autre que celui appelé à l’origine</span><span class="sxs-lookup"><span data-stu-id="7a507-138">A handle other than the one originally called</span></span>

<span data-ttu-id="7a507-139">Après l’appel de [**wglMakeCurrent**](/windows/desktop/api/wingdi/nf-wingdi-wglmakecurrent) avec le paramètre de handle de contexte de rendu ayant la valeur **null**, le thread appelant n’a aucun contexte de rendu actuel.</span><span class="sxs-lookup"><span data-stu-id="7a507-139">After calling [**wglMakeCurrent**](/windows/desktop/api/wingdi/nf-wingdi-wglmakecurrent) with the rendering context handle parameter set to **NULL**, the calling thread has no current rendering context.</span></span> <span data-ttu-id="7a507-140">Le contexte de rendu est libéré de sa connexion au thread, et l’Association du contexte de rendu à un contexte de périphérique se termine.</span><span class="sxs-lookup"><span data-stu-id="7a507-140">The rendering context is released from its connection to the thread, and the rendering context's association to a device context ends.</span></span> <span data-ttu-id="7a507-141">OpenGL vide toutes les commandes de dessin et peut libérer des ressources.</span><span class="sxs-lookup"><span data-stu-id="7a507-141">OpenGL flushes all drawing commands, and may release some resources.</span></span> <span data-ttu-id="7a507-142">Aucun dessin OpenGL ne sera effectué avant le prochain appel à **wglMakeCurrent**, car le thread ne peut pas effectuer d’appels de graphiques OpenGL tant qu’il n’a pas récupéré un contexte de rendu actuel.</span><span class="sxs-lookup"><span data-stu-id="7a507-142">No OpenGL drawing will be done until the next call to **wglMakeCurrent**, because the thread can make no OpenGL graphics calls until it regains a current rendering context.</span></span>

<span data-ttu-id="7a507-143">La deuxième façon de rompre l’association entre un contexte de rendu et un thread consiste à appeler **wglMakeCurrent** avec un contexte de rendu différent.</span><span class="sxs-lookup"><span data-stu-id="7a507-143">The second way to break the association between a rendering context and a thread is to call **wglMakeCurrent** with a different rendering context.</span></span> <span data-ttu-id="7a507-144">Après un tel appel, le thread appelant a un nouveau contexte de rendu actuel, le précédent contexte de rendu actuel est libéré de sa connexion au thread, et l’ancienne Association du contexte de rendu actuel à un contexte de périphérique se termine.</span><span class="sxs-lookup"><span data-stu-id="7a507-144">After such a call, the calling thread has a new current rendering context, the former current rendering context is released from its connection to the thread, and the former current rendering context's association to a device context ends.</span></span>

<span data-ttu-id="7a507-145">La fonction [**wglDeleteContext**](/windows/desktop/api/wingdi/nf-wingdi-wgldeletecontext) accepte un seul paramètre, qui est le handle du contexte de rendu à supprimer.</span><span class="sxs-lookup"><span data-stu-id="7a507-145">The [**wglDeleteContext**](/windows/desktop/api/wingdi/nf-wingdi-wgldeletecontext) function takes a single parameter, the handle to the rendering context to be deleted.</span></span> <span data-ttu-id="7a507-146">Avant d’appeler **wglDeleteContext**, rendez le contexte de rendu non actuel en appelant [**wglMakeCurrent**](/windows/desktop/api/wingdi/nf-wingdi-wglmakecurrent), puis supprimez ou libérez le contexte de périphérique associé en appelant [DeleteDC](/windows/desktop/api/wingdi/nf-wingdi-deletedc) ou [ReleaseDC](/windows/desktop/api/winuser/nf-winuser-releasedc) , le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="7a507-146">Before calling **wglDeleteContext**, make the rendering context not current by calling [**wglMakeCurrent**](/windows/desktop/api/wingdi/nf-wingdi-wglmakecurrent), and delete or release the associated device context by calling [DeleteDC](/windows/desktop/api/wingdi/nf-wingdi-deletedc) or [ReleaseDC](/windows/desktop/api/winuser/nf-winuser-releasedc) as appropriate.</span></span>

<span data-ttu-id="7a507-147">Un thread a une erreur pour supprimer un contexte de rendu qui est le contexte de rendu d’un autre thread.</span><span class="sxs-lookup"><span data-stu-id="7a507-147">It is an error for a thread to delete a rendering context that is another thread's current rendering context.</span></span> <span data-ttu-id="7a507-148">Toutefois, si un contexte de rendu est le contexte de rendu actuel du thread appelant, **wglDeleteContext** vide toutes les commandes de dessin OpenGL et rend le contexte de rendu inactif avant de le supprimer.</span><span class="sxs-lookup"><span data-stu-id="7a507-148">However, if a rendering context is the calling thread's current rendering context, **wglDeleteContext** flushes all OpenGL drawing commands and makes the rendering context not current before deleting it.</span></span> <span data-ttu-id="7a507-149">Dans ce cas, si vous utilisez **wglDeleteContext** pour rendre un contexte de rendu non actuel, le programmeur doit supprimer ou libérer le contexte de périphérique associé.</span><span class="sxs-lookup"><span data-stu-id="7a507-149">In this case, relying on **wglDeleteContext** to make a rendering context not current requires the programmer to delete or release the associated device context.</span></span>

 

 