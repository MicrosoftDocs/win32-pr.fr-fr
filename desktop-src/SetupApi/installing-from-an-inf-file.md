---
description: Une fois que vous avez récupéré les informations d’installation à partir d’un fichier INF, vous pouvez utiliser plusieurs fonctions de gestion de fichiers pour installer les fichiers répertoriés dans une section INF.
ms.assetid: 4e6042a0-36a9-4f74-b6cc-554e7f7aa2d9
title: Installation à partir d’un fichier INF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6bc3642edfb7abc2864c2c0784c79fbb21612fb9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103866937"
---
# <a name="installing-from-an-inf-file"></a><span data-ttu-id="ac406-103">Installation à partir d’un fichier INF</span><span class="sxs-lookup"><span data-stu-id="ac406-103">Installing From an INF File</span></span>

<span data-ttu-id="ac406-104">Une fois que vous avez récupéré les informations d’installation à partir d’un fichier INF, vous pouvez utiliser plusieurs fonctions de gestion de fichiers pour installer les fichiers répertoriés dans une section INF.</span><span class="sxs-lookup"><span data-stu-id="ac406-104">After you retrieve installation information from an INF file, there are several file-handling functions that you can use to install the files listed in an INF section.</span></span> <span data-ttu-id="ac406-105">Les fonctions de bas niveau, telles que [**SetupInstallFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilea) et [**SetupInstallFileEx**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfileexa) , installent un fichier unique.</span><span class="sxs-lookup"><span data-stu-id="ac406-105">Low-level functions such as [**SetupInstallFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilea) and [**SetupInstallFileEx**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfileexa) install a single file.</span></span>

<span data-ttu-id="ac406-106">Il existe également des fonctions pour gérer des fichiers compressés.</span><span class="sxs-lookup"><span data-stu-id="ac406-106">There are also functions to handle compressed files.</span></span> <span data-ttu-id="ac406-107">La fonction [**SetupGetFileCompressionInfo**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetfilecompressioninfoa) retourne des informations sur les fichiers compressés.</span><span class="sxs-lookup"><span data-stu-id="ac406-107">The [**SetupGetFileCompressionInfo**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetfilecompressioninfoa) function returns information about compressed files.</span></span> <span data-ttu-id="ac406-108">Ces informations peuvent ensuite être utilisées par [**SetupDecompressOrCopyFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupdecompressorcopyfilea) pour copier et, si nécessaire, développer le fichier.</span><span class="sxs-lookup"><span data-stu-id="ac406-108">This information can then be used by [**SetupDecompressOrCopyFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupdecompressorcopyfilea) to copy and, if necessary, expand the file.</span></span>

<span data-ttu-id="ac406-109">Les fonctions de haut niveau telles que [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona), [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona)et [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) traitent les opérations d’installation dans une section d' **installation** ou de **service** .</span><span class="sxs-lookup"><span data-stu-id="ac406-109">High-level functions such as [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona), [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona), and [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) process the installation operations in an **Install** or **Service** section.</span></span> <span data-ttu-id="ac406-110">**SetupInstallFromInfSection** est le plus polyvalent, car il peut effectuer n’importe quel type d’opération d’installation figurant dans la section d' **installation** d’un fichier INF.</span><span class="sxs-lookup"><span data-stu-id="ac406-110">Of these, **SetupInstallFromInfSection** is the most versatile because it can perform any type of installation operation listed in the **Install** section of an INF file.</span></span> <span data-ttu-id="ac406-111">Cela comprend les opérations de Registre et INI énumérées dans les lignes **AddReg**, **DelReg**, **UpdateInis** ou **UpdateIniField** d’une section d' **installation** .</span><span class="sxs-lookup"><span data-stu-id="ac406-111">This includes the registry and INI operations listed in the **AddReg**, **DelReg**, **UpdateInis**, or **UpdateIniField** lines of an **Install** section.</span></span>

<span data-ttu-id="ac406-112">Les fonctions [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona) et [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) défilent les opérations d’une section **installation** ou **service** , respectivement, vers une file d’attente de fichiers existante.</span><span class="sxs-lookup"><span data-stu-id="ac406-112">The [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona) and [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) functions queue operations from an **Install** or **Service** section, respectively, to an existing file queue.</span></span> <span data-ttu-id="ac406-113">Notez que vous devez appeler SetupInstallFromInfSection et SetupInstallServicesFromInfSection séparément pour les opérations de file d’attente et les services.</span><span class="sxs-lookup"><span data-stu-id="ac406-113">Note that you must call SetupInstallFromInfSection and SetupInstallServicesFromInfSection separately to queue operations and services.</span></span> <span data-ttu-id="ac406-114">Pour plus d’informations, consultez [files d’attente de fichiers](file-queues.md).</span><span class="sxs-lookup"><span data-stu-id="ac406-114">For more information, see [File Queues](file-queues.md).</span></span>

<span data-ttu-id="ac406-115">En revanche, la fonction [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) crée et détruit sa propre file d’attente interne.</span><span class="sxs-lookup"><span data-stu-id="ac406-115">In contrast, the [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) function creates and destroys its own internal queue.</span></span> <span data-ttu-id="ac406-116">Une utilisation courante de **SetupInstallFromInfSection** consiste à l’appeler une fois que tous les fichiers ont été correctement copiés pour effectuer les transactions de Registre et ini.</span><span class="sxs-lookup"><span data-stu-id="ac406-116">A common use for **SetupInstallFromInfSection** is to call it after all files have been successfully copied to perform the registry and INI transactions.</span></span>

<span data-ttu-id="ac406-117">Sur Windows 2000, les fichiers DLL peuvent être enregistrés automatiquement en appelant [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) sur un fichier INF qui comprend la directive **RegisterDlls** dans sa section d' **installation** .</span><span class="sxs-lookup"><span data-stu-id="ac406-117">On Windows 2000, DLL files may be self-registered by calling [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) on an INF file that includes the **RegisterDlls** directive in its **Install** section.</span></span> <span data-ttu-id="ac406-118">**SetupInstallFromInfSection** peut également inscrire automatiquement des dll 32 bits à partir d’un processus 64 bits.</span><span class="sxs-lookup"><span data-stu-id="ac406-118">**SetupInstallFromInfSection** can also self-register 32-bit DLLs from a 64-bit process.</span></span>

<span data-ttu-id="ac406-119">Sur les systèmes d’exploitation 64 bits, [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) peut être appelé pour effectuer des opérations sur la partie 32 bits du Registre.</span><span class="sxs-lookup"><span data-stu-id="ac406-119">On 64-bit operating systems, [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) may be called to perform operations on the 32-bit portion of the registry.</span></span> <span data-ttu-id="ac406-120">Pour ajouter une clé de Registre à la partie 32 bits du Registre, incluez l' \_ indicateur FLG ADDREG \_ 32BITKEY dans la ligne **ADDREG** du fichier INF.</span><span class="sxs-lookup"><span data-stu-id="ac406-120">To add a registry key to the 32-bit portion of the registry, include the FLG\_ADDREG\_32BITKEY flag in the **AddReg** line of the INF.</span></span> <span data-ttu-id="ac406-121">Pour supprimer une clé de Registre uniquement dans la partie 32 bits du Registre, incluez la \_ clé FLG DELREG \_ 32BITKEY dans la ligne **DelReg** .</span><span class="sxs-lookup"><span data-stu-id="ac406-121">To delete a registry key only in the 32-bit portion of the registry, include the FLG\_DELREG\_32BITKEY key in the **DelReg** line.</span></span> <span data-ttu-id="ac406-122">Pour définir ou effacer une valeur binaire uniquement dans la partie 32 bits du Registre, incluez le \_ 32BITKEY BITREG FLG \_ dans la ligne **BITREG** .</span><span class="sxs-lookup"><span data-stu-id="ac406-122">To set or clear a binary value only in the 32-bit portion of the registry, include the FLG\_BITREG\_32BITKEY in the **BitReg** line.</span></span>

<span data-ttu-id="ac406-123">Outre les fonctions mentionnées précédemment, l’API d’installation comprend des fonctions qui défilent les opérations d’installation de fichier, par fichier ou par section INF.</span><span class="sxs-lookup"><span data-stu-id="ac406-123">In addition to the functions previously listed, the Setup API includes functions that queue file installation operations, either by file, or by INF section.</span></span> <span data-ttu-id="ac406-124">Pour plus d’informations, consultez [files d’attente de fichiers](file-queues.md).</span><span class="sxs-lookup"><span data-stu-id="ac406-124">For more information, see [File Queues](file-queues.md).</span></span>

 

 



