---
title: Contrôle de version (API serveur HTTP)
description: L’API du serveur HTTP version 2,0 applique le contrôle de version de portée objet pour déterminer la version de l’API.
ms.assetid: 2c2d7501-85e0-44ec-aa42-01372b29266e
keywords:
- Contrôle de version dans l’API du serveur HTTP version 2,0
- API version 2,0 du serveur HTTP, contrôle de version
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5221ff7a93bb24e7e0b8a1b9f7c2399012cdbe95
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/10/2020
ms.locfileid: "104102684"
---
# <a name="versioning-http-server-api"></a><span data-ttu-id="29bef-105">Contrôle de version (API serveur HTTP)</span><span class="sxs-lookup"><span data-stu-id="29bef-105">Versioning (HTTP Server API)</span></span>

<span data-ttu-id="29bef-106">L’API de la version 2,0 du serveur HTTP rend obsolètes les files d’attente de demandes de version 1,0 et les associations d’URL avec la file d’attente des demandes.</span><span class="sxs-lookup"><span data-stu-id="29bef-106">The HTTP Server version 2.0 API makes obsolete the version 1.0 request queues and URL associations with the request queue.</span></span> <span data-ttu-id="29bef-107">Le contrôle de version de portée objet permet aux applications de fournir des informations de version spécifiques à l’application.</span><span class="sxs-lookup"><span data-stu-id="29bef-107">Object-scoped versioning allows applications to supply application-specific version information.</span></span> <span data-ttu-id="29bef-108">Une application peut automatiquement appeler la version correcte des structures pour le système d’exploitation sur lequel elle s’exécute.</span><span class="sxs-lookup"><span data-stu-id="29bef-108">An applications can automatically call the correct version of structures for the operating system on which it is running.</span></span>

## <a name="request-queues"></a><span data-ttu-id="29bef-109">Files d’attente de demandes</span><span class="sxs-lookup"><span data-stu-id="29bef-109">Request Queues</span></span>

<span data-ttu-id="29bef-110">À partir de l’API du serveur HTTP version 2,0, les files d’attente des demandes sont créées avec [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) , ce qui rend obsolète la fonction [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle) version 1,0.</span><span class="sxs-lookup"><span data-stu-id="29bef-110">Starting with HTTP Server version 2.0 API, request queues are created with [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) making obsolete the version 1.0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle) function.</span></span> <span data-ttu-id="29bef-111">Les groupes d’URL sont introduits dans la version 2,0 avec la fonction [**HttpCreateUrlGroup**](/windows/desktop/api/Http/nf-http-httpcreateurlgroup) .</span><span class="sxs-lookup"><span data-stu-id="29bef-111">URL groups are introduced in version 2.0 with the [**HttpCreateUrlGroup**](/windows/desktop/api/Http/nf-http-httpcreateurlgroup) function.</span></span> <span data-ttu-id="29bef-112">Les URL sont ajoutées au groupe à l’aide de [**HttpAddUrlToUrlGroup**](/windows/desktop/api/Http/nf-http-httpaddurltourlgroup) , ce qui rend obsolète la fonction [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) version 1,0.</span><span class="sxs-lookup"><span data-stu-id="29bef-112">URLs are added to the group using [**HttpAddUrlToUrlGroup**](/windows/desktop/api/Http/nf-http-httpaddurltourlgroup) which makes obsolete the version 1.0 [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) function.</span></span> <span data-ttu-id="29bef-113">Les groupes d’URL de la version 2,0 ne doivent pas être utilisés avec les files d’attente de demandes 1,0.</span><span class="sxs-lookup"><span data-stu-id="29bef-113">Version 2.0 URL groups must not be used with version 1.0 request queues.</span></span>

<span data-ttu-id="29bef-114">À partir de la version 2,0, les fonctions suivantes de la version 1,0 sont obsolètes et ne peuvent pas être utilisées avec les files d’attente de demandes de la version 2,0 :</span><span class="sxs-lookup"><span data-stu-id="29bef-114">Starting with version 2.0, the following version 1.0 functions are obsolete and cannot be used with version 2.0 request queues:</span></span>

-   [<span data-ttu-id="29bef-115">**HttpCreateHttpHandle**</span><span class="sxs-lookup"><span data-stu-id="29bef-115">**HttpCreateHttpHandle**</span></span>](/windows/desktop/api/Http/nf-http-httpcreatehttphandle)
-   [<span data-ttu-id="29bef-116">**HttpAddUrl**</span><span class="sxs-lookup"><span data-stu-id="29bef-116">**HttpAddUrl**</span></span>](/windows/desktop/api/Http/nf-http-httpaddurl)
-   [<span data-ttu-id="29bef-117">**HttpRemoveUrl**</span><span class="sxs-lookup"><span data-stu-id="29bef-117">**HttpRemoveUrl**</span></span>](/windows/desktop/api/Http/nf-http-httpremoveurl)

<span data-ttu-id="29bef-118">Pour plus d’informations sur la configuration des groupes d’URL, consultez la rubrique [configuration du groupe d’URL](configuring-the-url-group.md) .</span><span class="sxs-lookup"><span data-stu-id="29bef-118">For more information about configuring URL groups, see the [Configuring the URL Group](configuring-the-url-group.md) topic.</span></span> <span data-ttu-id="29bef-119">Pour plus d’informations sur les files d’attente de demandes de la version 2,0, consultez la rubrique [file d’attente des demandes nommée](named-request-queue.md) .</span><span class="sxs-lookup"><span data-stu-id="29bef-119">For more information about version 2.0 request queues, see the [Named Request Queue](named-request-queue.md) topic.</span></span>

## <a name="object-scoped-versioning"></a><span data-ttu-id="29bef-120">Gestion des versions de Object-Scoped</span><span class="sxs-lookup"><span data-stu-id="29bef-120">Object-Scoped Versioning</span></span>

<span data-ttu-id="29bef-121">Dans la version 1,0, l’application fournit la version de l’API du serveur HTTP dans l’appel à [**HttpInitialize**](/windows/desktop/api/Http/nf-http-httpinitialize).</span><span class="sxs-lookup"><span data-stu-id="29bef-121">In version 1.0, the application supplies the HTTP Server API version in the call to [**HttpInitialize**](/windows/desktop/api/Http/nf-http-httpinitialize).</span></span> <span data-ttu-id="29bef-122">Les informations de version sont uniquement acceptées à partir de la première application qui a appelé **HttpInitialize** et sont appliquées à toutes les applications API du serveur http dans le même processus.</span><span class="sxs-lookup"><span data-stu-id="29bef-122">The version information is accepted only from the first application that called **HttpInitialize** and is applied to all the HTTP Server API applications in the same process.</span></span> <span data-ttu-id="29bef-123">À partir de la version 2,0 de l’API, les informations de version globales fournies dans l’appel à **HttpInitialize** ne sont pas utilisées.</span><span class="sxs-lookup"><span data-stu-id="29bef-123">Starting with the version 2.0 API, the global version information supplied in the call to **HttpInitialize** is not used.</span></span> <span data-ttu-id="29bef-124">Pour les applications de la version 2,0, la version de l’API du serveur HTTP est passée dans le paramètre version lorsque la file d’attente de demandes ou la session serveur est créée par [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) ou [**HttpCreateServerSession**](/windows/desktop/api/Http/nf-http-httpcreateserversession).</span><span class="sxs-lookup"><span data-stu-id="29bef-124">For version 2.0 applications, the HTTP Server API version is passed in the Version parameter when the request queue or server session is created by [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) or [**HttpCreateServerSession**](/windows/desktop/api/Http/nf-http-httpcreateserversession).</span></span> <span data-ttu-id="29bef-125">Lorsque la file d’attente des demandes est créée avec la version 1,0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle), elle est automatiquement marquée comme version 1,0.</span><span class="sxs-lookup"><span data-stu-id="29bef-125">When the request queue is created with the version 1.0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle), it is automatically marked as version 1.0.</span></span> <span data-ttu-id="29bef-126">Les applications version 1,0 et version 2,0 peuvent s’exécuter dans le même processus.</span><span class="sxs-lookup"><span data-stu-id="29bef-126">Both version 1.0 and version 2.0 applications can run in the same process.</span></span>

<span data-ttu-id="29bef-127">Les structures de [**\_ requête http**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) et de [**\_ réponse http**](http-response.md) sont mises à jour pour inclure les informations d’authentification dans l’API du serveur http version 2,0.</span><span class="sxs-lookup"><span data-stu-id="29bef-127">The [**HTTP\_REQUEST**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) and [**HTTP\_RESPONSE**](http-response.md) structures are updated to include authentication information in the HTTP Server version 2.0 API.</span></span> <span data-ttu-id="29bef-128">[**Protocole http \_ Les demandes \_ v1**](/windows/desktop/api/Http/ns-http-http_request_v1) et [**http \_ Request \_ v2**](/windows/desktop/api/Http/ns-http-http_request_v2) sont spécifiques à la version de l’API utilisée par l’application.</span><span class="sxs-lookup"><span data-stu-id="29bef-128">[**HTTP\_REQUEST\_V1**](/windows/desktop/api/Http/ns-http-http_request_v1) and [**HTTP\_REQUEST\_V2**](/windows/desktop/api/Http/ns-http-http_request_v2) are specific to the version of the API used by the application.</span></span> <span data-ttu-id="29bef-129">Toutefois, les applications ne doivent pas utiliser ces structures directement dans leur code ; au lieu de cela, ils doivent utiliser la **\_ requête http** pour obtenir la version correcte en fonction de la version de la file d’attente de demandes sur laquelle la demande a été reçue.</span><span class="sxs-lookup"><span data-stu-id="29bef-129">However, applications should not use these structures directly in their code; instead they should use **HTTP\_REQUEST** to get the correct version based on the version of the request queue on which the request was received.</span></span> <span data-ttu-id="29bef-130">Sachez également que la taille de la structure de la **\_ requête http** est basée sur la version du système d’exploitation sous lequel le code est compilé.</span><span class="sxs-lookup"><span data-stu-id="29bef-130">Also, be aware that size of the **HTTP\_REQUEST** structure is based on the version of the operating system under which the code is compiled.</span></span>

 

 
