---
title: Vue d’ensemble des animations Windows
description: Cette vue d’ensemble fournit une introduction au gestionnaire d’animations Windows et se concentre sur les composants et les concepts clés.
ms.assetid: de1380c9-6801-4178-9281-a23af7d71d77
keywords:
- Animation Windows Animation Windows, vue d’ensemble
- animation objets du gestionnaire d’animations, Description
- variables d’animation Windows animation, Description
- objets de minuteur d’animation Windows animation, Description
- Animation système de minutage Windows
- Animation Windows de durée contextuelle
- Animation Windows correspondant à la vélocité
- Animation Windows contention Management
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6a60b02b29d8d434cc93420f36c3cdca4428f94c
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104031339"
---
# <a name="windows-animation-overview"></a><span data-ttu-id="deb72-111">Vue d’ensemble des animations Windows</span><span class="sxs-lookup"><span data-stu-id="deb72-111">Windows Animation Overview</span></span>

<span data-ttu-id="deb72-112">Cette vue d’ensemble fournit une introduction au gestionnaire d’animations Windows et se concentre sur les composants et les concepts clés.</span><span class="sxs-lookup"><span data-stu-id="deb72-112">This overview provides an introduction to the Windows Animation Manager and focuses on key components and concepts.</span></span> <span data-ttu-id="deb72-113">Pour plus d’informations sur les storyboards et les transitions, consultez [vue d’ensemble de la table de montage séquentiel](storyboard-construction.md).</span><span class="sxs-lookup"><span data-stu-id="deb72-113">For more information on storyboards and transitions, see [Storyboard Overview](storyboard-construction.md).</span></span>

<span data-ttu-id="deb72-114">Cette rubrique contient les sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="deb72-114">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="deb72-115">Concepts de base</span><span class="sxs-lookup"><span data-stu-id="deb72-115">Basic Concepts</span></span>](#basic-concepts)
-   [<span data-ttu-id="deb72-116">Composants de l’animation Windows</span><span class="sxs-lookup"><span data-stu-id="deb72-116">Components of Windows Animation</span></span>](#components-of-windows-animation)
-   [<span data-ttu-id="deb72-117">L’API d’animation Windows</span><span class="sxs-lookup"><span data-stu-id="deb72-117">The Windows Animation API</span></span>](#the-windows-animation-api)
-   [<span data-ttu-id="deb72-118">Configurations</span><span class="sxs-lookup"><span data-stu-id="deb72-118">Configurations</span></span>](#configurations)
    -   [<span data-ttu-id="deb72-119">Animation pilotée par les applications</span><span class="sxs-lookup"><span data-stu-id="deb72-119">Application-Driven Animation</span></span>](#application-driven-animation)
    -   [<span data-ttu-id="deb72-120">Animation pilotée par minuterie</span><span class="sxs-lookup"><span data-stu-id="deb72-120">Timer-Driven Animation</span></span>](#timer-driven-animation)
-   [<span data-ttu-id="deb72-121">Fonctionnalités avancées</span><span class="sxs-lookup"><span data-stu-id="deb72-121">Advanced Features</span></span>](#advanced-features)
    -   [<span data-ttu-id="deb72-122">Gestion des conflits</span><span class="sxs-lookup"><span data-stu-id="deb72-122">Contention Management</span></span>](#contention-management)
-   [<span data-ttu-id="deb72-123">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="deb72-123">Related topics</span></span>](#related-topics)

## <a name="basic-concepts"></a><span data-ttu-id="deb72-124">Concepts de base</span><span class="sxs-lookup"><span data-stu-id="deb72-124">Basic Concepts</span></span>

<span data-ttu-id="deb72-125">L' *animation* est une séquence d’images continues consécutives qui produisent une illusion de mouvement lors de la lecture.</span><span class="sxs-lookup"><span data-stu-id="deb72-125">*Animation* is a sequence of successive still images that produces an illusion of movement when played back.</span></span> <span data-ttu-id="deb72-126">L’utilisation de l’animation interactive dans son interface utilisateur peut offrir à une application une personnalité unique et améliorer l’expérience utilisateur.</span><span class="sxs-lookup"><span data-stu-id="deb72-126">Using interactive animation in its user interface can give an application a unique personality as well as improve the user experience.</span></span> <span data-ttu-id="deb72-127">L’animation peut faciliter la communication des modifications d’État majeures dans l’interface utilisateur et aider à gérer la complexité de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="deb72-127">Animation can help to communicate major state changes in the user interface and help to manage the complexity of the user interface.</span></span> <span data-ttu-id="deb72-128">L’animation peut également être ajoutée à la perception de l’utilisateur de la qualité d’une application.</span><span class="sxs-lookup"><span data-stu-id="deb72-128">Animation can also add to the user's perception of the quality of an application.</span></span>

<span data-ttu-id="deb72-129">À titre d’exemple, l’animation Windows est utilisée dans la barre des tâches pour vous aider à gérer et à accéder aux fichiers et aux programmes, et à la loupe pour agrandir différentes parties de l’écran afin de faciliter leur affichage.</span><span class="sxs-lookup"><span data-stu-id="deb72-129">As examples, Windows Animation is used in the taskbar to help you manage and access files and programs, and Magnifier to enlarge different parts of the screen to make them easier for users to see.</span></span>

<span data-ttu-id="deb72-130">Les unités fondamentales d’une animation sont la caractéristique d’un élément visuel à animer et la description de la façon dont cette caractéristique change dans le temps.</span><span class="sxs-lookup"><span data-stu-id="deb72-130">The fundamental units of an animation are the characteristic of a visual element to be animated and the description of how that characteristic changes over time.</span></span> <span data-ttu-id="deb72-131">Une application peut animer un large éventail de caractéristiques telles que la position, la couleur, la taille, la rotation, le contraste et l’opacité.</span><span class="sxs-lookup"><span data-stu-id="deb72-131">An application can animate a wide variety of characteristics such as position, color, size, rotation, contrast, and opacity.</span></span>

<span data-ttu-id="deb72-132">Dans l’animation Windows, une *variable d’animation* représente la caractéristique à animer.</span><span class="sxs-lookup"><span data-stu-id="deb72-132">In Windows Animation, an *animation variable* represents the characteristic to be animated.</span></span> <span data-ttu-id="deb72-133">Une *transition* décrit comment la valeur de cette variable d’animation change au fur et à mesure que l’animation se produit.</span><span class="sxs-lookup"><span data-stu-id="deb72-133">A *transition* describes how the value of that animation variable changes as animation occurs.</span></span> <span data-ttu-id="deb72-134">Par exemple, un élément visuel peut avoir une variable d’animation qui spécifie son opacité, et une action de l’utilisateur peut générer une transition qui accepte cette opacité d’une valeur de 50 à 100, représentant une animation de semi-transparente à entièrement opaque.</span><span class="sxs-lookup"><span data-stu-id="deb72-134">For example, a visual element might have an animation variable that specifies its opacity, and a user action might generate a transition that takes that opacity from a value of 50 to 100, representing an animation from semi-transparent to fully opaque.</span></span>

<span data-ttu-id="deb72-135">Une *table de montage séquentiel* est un ensemble de transitions appliquées à une ou plusieurs variables d’animation dans le temps.</span><span class="sxs-lookup"><span data-stu-id="deb72-135">A *storyboard* is a set of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="deb72-136">Une application affiche les animations en construisant et en lisant des storyboards, puis en dessinant des séquences d’images discrètes à mesure que les valeurs des variables d’animation changent au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="deb72-136">An application displays animations by constructing and playing storyboards and then drawing sequences of discrete frames as the values of animation variables change over time.</span></span>

## <a name="components-of-windows-animation"></a><span data-ttu-id="deb72-137">Composants de l’animation Windows</span><span class="sxs-lookup"><span data-stu-id="deb72-137">Components of Windows Animation</span></span>

<span data-ttu-id="deb72-138">L’animation Windows est constituée des composants suivants :</span><span class="sxs-lookup"><span data-stu-id="deb72-138">Windows Animation consists of the following components:</span></span>

<dl> <dt>

<span data-ttu-id="deb72-139"><span id="animation_manager"></span><span id="ANIMATION_MANAGER"></span>gestionnaire d’animations</span><span class="sxs-lookup"><span data-stu-id="deb72-139"><span id="animation_manager"></span><span id="ANIMATION_MANAGER"></span>animation manager</span></span>
</dt> <dd>

<span data-ttu-id="deb72-140">Les applications utilisent un objet du gestionnaire d’animations pour créer des variables d’animation et des storyboards, planifier et contrôler des animations et mettre à jour les informations d’État avant que l’application ne dessine chaque frame.</span><span class="sxs-lookup"><span data-stu-id="deb72-140">Applications use an animation manager object to create animation variables and storyboards, schedule and control animations, and update state information before the application draws each frame.</span></span> <span data-ttu-id="deb72-141">Un seul objet de gestionnaire d’animations gère généralement toutes les animations au sein d’une application et dispose donc d’un contrôle global sur toutes les storyboards planifiées.</span><span class="sxs-lookup"><span data-stu-id="deb72-141">A single animation manager object typically manages all animations across an application and therefore has global control over all scheduled storyboards.</span></span>

</dd> <dt>

<span data-ttu-id="deb72-142"><span id="animation_variables"></span><span id="ANIMATION_VARIABLES"></span>variables d’animation</span><span class="sxs-lookup"><span data-stu-id="deb72-142"><span id="animation_variables"></span><span id="ANIMATION_VARIABLES"></span>animation variables</span></span>
</dt> <dd>

<span data-ttu-id="deb72-143">Avant de démarrer des animations, une application doit créer des objets de variable d’animation.</span><span class="sxs-lookup"><span data-stu-id="deb72-143">Before starting any animations, an application needs to create animation variable objects.</span></span> <span data-ttu-id="deb72-144">Une variable d’animation représente un aspect d’un élément visuel à animer.</span><span class="sxs-lookup"><span data-stu-id="deb72-144">An animation variable represents one aspect of a visual element to be animated.</span></span> <span data-ttu-id="deb72-145">La variable est une valeur à virgule flottante scalaire, bien que la valeur puisse être arrondie à une valeur entière.</span><span class="sxs-lookup"><span data-stu-id="deb72-145">The variable is a scalar floating-point value, although the value can be rounded to an integer value.</span></span>

<span data-ttu-id="deb72-146">Une variable d’animation a généralement la même durée de vie que l’élément visuel qu’elle doit animer.</span><span class="sxs-lookup"><span data-stu-id="deb72-146">An animation variable typically has the same lifetime as the visual element it is to animate.</span></span> <span data-ttu-id="deb72-147">La valeur initiale d’une variable d’animation est spécifiée lors de la création de la variable.</span><span class="sxs-lookup"><span data-stu-id="deb72-147">The initial value of an animation variable is specified when the variable is created.</span></span> <span data-ttu-id="deb72-148">Par la suite, sa valeur ne peut pas être modifiée directement ; elle doit être mise à jour par le biais du gestionnaire d’animations.</span><span class="sxs-lookup"><span data-stu-id="deb72-148">Thereafter, its value cannot be changed directly; it must be updated through the animation manager.</span></span>

<span data-ttu-id="deb72-149">Une variable d’animation peut être identifiée par une *balise*, qui est le jumelage d’un identificateur entier avec un pointeur vers un objet com.</span><span class="sxs-lookup"><span data-stu-id="deb72-149">An animation variable can be identified by a *tag*, which is a pairing of an integer identifier with a pointer to a COM object.</span></span> <span data-ttu-id="deb72-150">Une balise n’a pas besoin d’être unique, sauf si l’application l’utilise pour rechercher une variable.</span><span class="sxs-lookup"><span data-stu-id="deb72-150">A tag need not be unique, unless the application uses it to search for a variable.</span></span> <span data-ttu-id="deb72-151">Par défaut, une variable d’animation n’a pas de balise et toute tentative de lecture de sa balise échouera jusqu’à ce que l’une d’elles ait été définie.</span><span class="sxs-lookup"><span data-stu-id="deb72-151">By default, an animation variable does not have a tag, and any attempts to read its tag will fail until one has been set.</span></span>

</dd> <dt>

<span data-ttu-id="deb72-152"><span id="timing_system"></span><span id="TIMING_SYSTEM"></span>système de minutage</span><span class="sxs-lookup"><span data-stu-id="deb72-152"><span id="timing_system"></span><span id="TIMING_SYSTEM"></span>timing system</span></span>
</dt> <dd>

<span data-ttu-id="deb72-153">L’animation Windows comprend un système de minutage qui permet de s’assurer que les animations sont rendues à une fréquence d’images lisse et cohérente, tout en réduisant également l’utilisation des ressources système pour le rendu lorsque le système est occupé.</span><span class="sxs-lookup"><span data-stu-id="deb72-153">Windows Animation includes a timing system that helps to ensure that animations are rendered at a frame rate that is smooth and consistent, while also reducing the use of system resources for rendering when the system is busy.</span></span> <span data-ttu-id="deb72-154">Un *minuteur* permet de gérer le rendu d’animation en indiquant automatiquement le passage d’une petite unité de temps, appelée *graduation*.</span><span class="sxs-lookup"><span data-stu-id="deb72-154">A *timer* helps to manage animation rendering by automatically indicating the passage of a small unit of time, called a *tick*.</span></span> <span data-ttu-id="deb72-155">Le système de minutage surveille les performances globales du rendu du système et *limite* les animations en renforçant ou en diminuant de manière dynamique la fréquence des graduations.</span><span class="sxs-lookup"><span data-stu-id="deb72-155">The timing system monitors overall system rendering performance and *throttles* animations by dynamically increasing or decreasing the frequency of ticks.</span></span> <span data-ttu-id="deb72-156">Les applications peuvent permettre à un minuteur de piloter le gestionnaire d’animations et d’inscrire un gestionnaire pour être notifié avant et après la mise à jour du gestionnaire pour chaque cycle.</span><span class="sxs-lookup"><span data-stu-id="deb72-156">Applications can let a timer drive the animation manager and can register a handler to be notified before and after the manager is updated for each tick.</span></span> <span data-ttu-id="deb72-157">Les applications peuvent spécifier la fréquence d’images d’animation minimale acceptable pour un minuteur et être notifiées si la fréquence d’images réelle d’une animation tombe en dessous de cette fréquence.</span><span class="sxs-lookup"><span data-stu-id="deb72-157">Applications can specify the minimum acceptable animation frame rate for a timer and be notified if an animation's actual frame rate falls below this rate.</span></span>

<span data-ttu-id="deb72-158">Pour économiser les ressources système, un minuteur peut être configuré pour s’arrêter lorsqu’aucune animation n’est en cours.</span><span class="sxs-lookup"><span data-stu-id="deb72-158">To conserve system resources, a timer can be configured to disable itself when no animation is taking place.</span></span>

</dd> </dl>

## <a name="the-windows-animation-api"></a><span data-ttu-id="deb72-159">L’API d’animation Windows</span><span class="sxs-lookup"><span data-stu-id="deb72-159">The Windows Animation API</span></span>

<span data-ttu-id="deb72-160">L’API d’animation Windows est une API COM à thread unique qui fournit les fonctionnalités suivantes aux développeurs :</span><span class="sxs-lookup"><span data-stu-id="deb72-160">The Windows Animation API is a single-threaded COM-based API that provides the following features for developers:</span></span>

-   <span data-ttu-id="deb72-161">Objet gestionnaire d’animations, [**UIAnimationManager**](/previous-versions/windows/desktop/legacy/dd317019(v=vs.85)), pour la création d’objets d’animation et le contrôle d’animations</span><span class="sxs-lookup"><span data-stu-id="deb72-161">An animation manager object, [**UIAnimationManager**](/previous-versions/windows/desktop/legacy/dd317019(v=vs.85)), for creating animation objects and controlling animations</span></span>
-   <span data-ttu-id="deb72-162">Variables d’animation et storyboards</span><span class="sxs-lookup"><span data-stu-id="deb72-162">Animation variables and storyboards</span></span>
-   <span data-ttu-id="deb72-163">Bibliothèque fondamentale, [**UIAnimationTransitionLibrary**](/previous-versions/windows/desktop/legacy/dd317028(v=vs.85)), de transitions prêtes à l’emploi</span><span class="sxs-lookup"><span data-stu-id="deb72-163">A foundational library, [**UIAnimationTransitionLibrary**](/previous-versions/windows/desktop/legacy/dd317028(v=vs.85)), of ready-to-use transitions</span></span>
-   <span data-ttu-id="deb72-164">Un objet Timer, [**UIAnimationTimer**](/previous-versions/windows/desktop/legacy/dd317021(v=vs.85)), pour déterminer l’heure actuelle et, éventuellement, pour la conduite de l’animation</span><span class="sxs-lookup"><span data-stu-id="deb72-164">A timer object, [**UIAnimationTimer**](/previous-versions/windows/desktop/legacy/dd317021(v=vs.85)), for determining the current time and, optionally, for driving animation</span></span>
-   <span data-ttu-id="deb72-165">Hooks d’événement pour surveiller l’État et la progression de l’animation</span><span class="sxs-lookup"><span data-stu-id="deb72-165">Event hooks for monitoring the state and progress of animation</span></span>

<span data-ttu-id="deb72-166">Pour obtenir une référence complète sur l’API, consultez [référence des animations Windows](windows-animation-reference.md).</span><span class="sxs-lookup"><span data-stu-id="deb72-166">For the complete API reference, see [Windows Animation Reference](windows-animation-reference.md).</span></span> <span data-ttu-id="deb72-167">Pour obtenir un exemple de code, consultez [tâches d’animation Windows](using-windows-animation.md) et [exemples d’animation Windows](windows-animation-samples.md).</span><span class="sxs-lookup"><span data-stu-id="deb72-167">For example code, see [Windows Animation Tasks](using-windows-animation.md) and [Windows Animation Samples](windows-animation-samples.md).</span></span>

## <a name="configurations"></a><span data-ttu-id="deb72-168">Configurations</span><span class="sxs-lookup"><span data-stu-id="deb72-168">Configurations</span></span>

<span data-ttu-id="deb72-169">Les applications doivent obtenir l’heure actuelle avant de planifier une nouvelle animation.</span><span class="sxs-lookup"><span data-stu-id="deb72-169">Applications must get the current time before scheduling a new animation.</span></span> <span data-ttu-id="deb72-170">Les mécanismes de synchronisation pris en charge par l’animation Windows sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="deb72-170">The following are the timing mechanisms supported by Windows Animation:</span></span>

-   [<span data-ttu-id="deb72-171">Animation pilotée par les applications</span><span class="sxs-lookup"><span data-stu-id="deb72-171">Application-Driven Animation</span></span>](#application-driven-animation)
-   [<span data-ttu-id="deb72-172">Animation pilotée par minuterie</span><span class="sxs-lookup"><span data-stu-id="deb72-172">Timer-Driven Animation</span></span>](#timer-driven-animation)

### <a name="application-driven-animation"></a><span data-ttu-id="deb72-173">Animation Application-Driven</span><span class="sxs-lookup"><span data-stu-id="deb72-173">Application-Driven Animation</span></span>

<span data-ttu-id="deb72-174">Les applications qui utilisent une API Graphics à accélération matérielle peuvent se synchroniser avec la fréquence d’actualisation du moniteur pour afficher des animations lisses.</span><span class="sxs-lookup"><span data-stu-id="deb72-174">Applications using a hardware-accelerated graphics API can synchronize with the monitor refresh rate to render smooth animations.</span></span> <span data-ttu-id="deb72-175">Une application peut également utiliser un mécanisme de minutage propre pour déterminer quand dessiner chaque image d’une animation.</span><span class="sxs-lookup"><span data-stu-id="deb72-175">Alternately, an application may use a timing mechanism of its own to determine when to draw each frame of an animation.</span></span> <span data-ttu-id="deb72-176">Dans les deux cas, l’application indique au gestionnaire d’animations le moment où il doit mettre à jour son état.</span><span class="sxs-lookup"><span data-stu-id="deb72-176">In either case, the application will tell the animation manager when to update its state.</span></span> <span data-ttu-id="deb72-177">Une minuterie d’animation peut encore être utilisée pour déterminer l’heure actuelle avec une précision élevée, dans les unités requises par le gestionnaire d’animations.</span><span class="sxs-lookup"><span data-stu-id="deb72-177">An animation timer can still be used to determine the current time with high precision, in the units required by the animation manager.</span></span>

<span data-ttu-id="deb72-178">Le diagramme suivant montre les interactions entre une application et les composants d’animation Windows lorsque l’application pilote les mises à jour d’animation directement.</span><span class="sxs-lookup"><span data-stu-id="deb72-178">The following diagram shows the interactions between an application and the Windows Animation components when the application is driving animation updates directly.</span></span>

![diagramme qui montre les interactions entre une application et les composants d’animation Windows lorsque l’application pilote directement les mises à jour d’animation.](images/animationupdates.png)

<span data-ttu-id="deb72-180">Dans la configuration la plus simple, une application redessine tout chaque fois que l’écran est actualisé, même si aucune animation n’est lue.</span><span class="sxs-lookup"><span data-stu-id="deb72-180">In the simplest configuration, an application will redraw everything every time the screen is refreshed, even when no animations are playing.</span></span> <span data-ttu-id="deb72-181">Pour éviter toute perte de travail, une application peut inscrire un gestionnaire d’événements de gestionnaire pour être averti lorsque des animations sont planifiées, et peut détecter lorsque la planification est vide afin de pouvoir arrêter le rafraîchissement.</span><span class="sxs-lookup"><span data-stu-id="deb72-181">To avoid wasted work, an application can register a manager event handler to be notified when there are animations scheduled, and can detect when the schedule is empty so that it can stop redrawing.</span></span>

### <a name="timer-driven-animation"></a><span data-ttu-id="deb72-182">Animation Timer-Driven</span><span class="sxs-lookup"><span data-stu-id="deb72-182">Timer-Driven Animation</span></span>

<span data-ttu-id="deb72-183">Plutôt que de mettre directement à jour le gestionnaire d’animations, les applications peuvent laisser le minuteur faire savoir au gestionnaire d’animations le moment où il doit mettre à jour son état, et être averti quand chaque mise à jour a eu lieu.</span><span class="sxs-lookup"><span data-stu-id="deb72-183">Rather than updating the animation manager directly, applications may let the animation timer tell the animation manager when to update its state, and simply be notified when each update has taken place.</span></span> <span data-ttu-id="deb72-184">Cette approche est recommandée pour les API Graphics plus anciennes.</span><span class="sxs-lookup"><span data-stu-id="deb72-184">This approach is recommended for older graphics APIs.</span></span> <span data-ttu-id="deb72-185">En général, s’il est possible de synchroniser avec la fréquence d’actualisation du moniteur, il est préférable de le faire et d’utiliser une animation pilotée par l’application.</span><span class="sxs-lookup"><span data-stu-id="deb72-185">In general, if it is possible to synchronize with the monitor refresh rate, it is better to do so and use application-driven animation.</span></span>

<span data-ttu-id="deb72-186">Le diagramme suivant montre les interactions entre une application et les composants d’animation Windows lorsque le minuteur d’animation pilote des mises à jour d’animation.</span><span class="sxs-lookup"><span data-stu-id="deb72-186">The following diagram shows the interactions between an application and the Windows Animation components when the animation timer is driving animation updates.</span></span>

![diagramme qui montre les interactions entre une application et les composants d’animation Windows lorsque le minuteur d’animation pilote des mises à jour d’animation.](images/animationtimerupdates.png)

<span data-ttu-id="deb72-188">La minuterie peut être configurée pour s’exécuter uniquement lorsque les animations sont planifiées ; pour ce faire, il suffit de passer un paramètre particulier lorsque la minuterie et le gestionnaire d’animations sont connectés.</span><span class="sxs-lookup"><span data-stu-id="deb72-188">The timer can be configured to run only when the animations are scheduled; doing so is a simple matter of passing a particular parameter when the timer and animation manager are connected.</span></span>

## <a name="advanced-features"></a><span data-ttu-id="deb72-189">Fonctionnalités avancées</span><span class="sxs-lookup"><span data-stu-id="deb72-189">Advanced Features</span></span>

<span data-ttu-id="deb72-190">Au-delà d’une base pour prendre en charge l’animation, l’animation Windows prend en charge plusieurs techniques d’animation avancées, notamment :</span><span class="sxs-lookup"><span data-stu-id="deb72-190">Beyond a basic foundation to support animation, Windows Animation includes support for several advanced animation techniques, including:</span></span>

<dl> <dt>

<span data-ttu-id="deb72-191"><span id="context-sensitive_duration"></span><span id="CONTEXT-SENSITIVE_DURATION"></span>*durée contextuelle*</span><span class="sxs-lookup"><span data-stu-id="deb72-191"><span id="context-sensitive_duration"></span><span id="CONTEXT-SENSITIVE_DURATION"></span>*context-sensitive duration*</span></span>
</dt> <dd>

<span data-ttu-id="deb72-192">La durée d’une transition n’a pas besoin d’être fixe ; Il peut être déterminé en fonction de la valeur et de la vélocité de la variable animée au début de la transition.</span><span class="sxs-lookup"><span data-stu-id="deb72-192">The duration of a transition need not be fixed; it can be determined based on the value and velocity of the animated variable when the transition begins.</span></span>

</dd> <dt>

<span data-ttu-id="deb72-193"><span id="velocity_matching"></span><span id="VELOCITY_MATCHING"></span>*correspondance de vélocité*</span><span class="sxs-lookup"><span data-stu-id="deb72-193"><span id="velocity_matching"></span><span id="VELOCITY_MATCHING"></span>*velocity matching*</span></span>
</dt> <dd>

<span data-ttu-id="deb72-194">Le mouvement est généralement plus agréable à l’œil si la position et la vélocité d’un objet en mouvement ne sautent pas instantanément entre les valeurs.</span><span class="sxs-lookup"><span data-stu-id="deb72-194">Movement is generally more pleasing to the eye if a moving object's position and velocity do not jump instantaneously between values.</span></span> <span data-ttu-id="deb72-195">Lorsqu’une nouvelle table de montage séquentiel interrompt une nouvelle chronologie en cours de diffusion, la correspondance de vélocité permet à la nouvelle table de montage séquentiel de récupérer sans heurts là où la précédente s’est terminée.</span><span class="sxs-lookup"><span data-stu-id="deb72-195">When a new storyboard interrupts one that is currently playing, velocity matching enables the new storyboard to pick up smoothly where the previous one ended.</span></span>

</dd> <dt>

<span data-ttu-id="deb72-196"><span id="contention_management"></span><span id="CONTENTION_MANAGEMENT"></span>*gestion des conflits*</span><span class="sxs-lookup"><span data-stu-id="deb72-196"><span id="contention_management"></span><span id="CONTENTION_MANAGEMENT"></span>*contention management*</span></span>
</dt> <dd>

<span data-ttu-id="deb72-197">Si deux storyboards doivent mettre à jour la même variable d’animation simultanément, un conflit de planification se produit.</span><span class="sxs-lookup"><span data-stu-id="deb72-197">If two storyboards need to update the same animation variable simultaneously, a scheduling conflict occurs.</span></span> <span data-ttu-id="deb72-198">Plutôt que d’exiger une priorité numérique spécifique pour chaque Storyboard, l’animation Windows permet à l’application de déterminer les priorités relatives de deux storyboards.</span><span class="sxs-lookup"><span data-stu-id="deb72-198">Rather than requiring a specific numeric priority for each storyboard, Windows Animation enables the application to determine the relative priorities of any two storyboards.</span></span>

</dd> </dl>

### <a name="contention-management"></a><span data-ttu-id="deb72-199">Gestion des conflits</span><span class="sxs-lookup"><span data-stu-id="deb72-199">Contention Management</span></span>

<span data-ttu-id="deb72-200">Les développeurs peuvent implémenter un rappel de *Comparaison de priorité* pour comparer la priorité de la table de montage séquentiel planifiée et la table de montage séquentiel qui figure déjà dans la planification.</span><span class="sxs-lookup"><span data-stu-id="deb72-200">Developers can implement a *priority comparison* callback to compare the priority of the storyboard of being scheduled and the storyboard that is already in the schedule.</span></span> <span data-ttu-id="deb72-201">Une application qui implémente une comparaison de priorité peut utiliser n’importe quelle logique préférée pour déterminer quand une table de montage séquentiel en passe une autre.</span><span class="sxs-lookup"><span data-stu-id="deb72-201">An application implementing a priority comparison can use any preferred logic to determine when a storyboard pre-empts another.</span></span> <span data-ttu-id="deb72-202">Pour résoudre le conflit de planification, l’animation Windows demande à l’application laquelle de ces actions peuvent être prises, dans l’ordre suivant :</span><span class="sxs-lookup"><span data-stu-id="deb72-202">To resolve the scheduling conflict, Windows Animation asks the application which of these actions may be taken, in the following order:</span></span>

-   <span data-ttu-id="deb72-203">**Annulez le Storyboard planifié.**</span><span class="sxs-lookup"><span data-stu-id="deb72-203">**Cancel the scheduled storyboard.**</span></span> <span data-ttu-id="deb72-204">Si la lecture de la table de montage séquentiel planifiée n’a pas encore commencé, elle peut être annulée et immédiatement supprimée de la planification.</span><span class="sxs-lookup"><span data-stu-id="deb72-204">If the scheduled storyboard has not yet started to play, it might be canceled and immediately removed from the schedule.</span></span>
-   <span data-ttu-id="deb72-205">**Supprimez le Storyboard planifié.**</span><span class="sxs-lookup"><span data-stu-id="deb72-205">**Trim the scheduled storyboard.**</span></span> <span data-ttu-id="deb72-206">Lorsqu’une nouvelle table de montage séquentiel supprime une table de montage séquentiel planifiée, le Storyboard planifié cesse d’affecter la variable dès que le nouveau Storyboard commence à l’animer.</span><span class="sxs-lookup"><span data-stu-id="deb72-206">When a new storyboard trims a scheduled storyboard, the scheduled storyboard ceases to affect the variable as soon as the new storyboard begins to animate it.</span></span> <span data-ttu-id="deb72-207">Les vitesses sont mises en correspondance, ce qui permet à la nouvelle table de montage séquentiel de se retrouver sans heurts là où le précédent s’est arrêté.</span><span class="sxs-lookup"><span data-stu-id="deb72-207">The velocities are matched, enabling the new storyboard to pick up smoothly where the previous one left off.</span></span>
-   <span data-ttu-id="deb72-208">**Terminez le Storyboard planifié.**</span><span class="sxs-lookup"><span data-stu-id="deb72-208">**Conclude the scheduled storyboard.**</span></span> <span data-ttu-id="deb72-209">Une table de montage séquentiel peut être conclue uniquement si elle contient une boucle qui se répète indéfiniment.</span><span class="sxs-lookup"><span data-stu-id="deb72-209">A storyboard may be concluded only if it contains a loop that repeats indefinitely.</span></span> <span data-ttu-id="deb72-210">Si la table de montage séquentiel est dans une telle boucle lorsqu’elle est terminée, la répétition en cours se termine, et le reste de la table de montage séquentiel est alors lu.</span><span class="sxs-lookup"><span data-stu-id="deb72-210">If the storyboard is in such a loop when concluded, the current repetition completes, and the remainder of the storyboard then plays.</span></span> <span data-ttu-id="deb72-211">Si la boucle n’a pas encore commencé lorsqu’une table de montage séquentiel est terminée, la boucle est entièrement ignorée.</span><span class="sxs-lookup"><span data-stu-id="deb72-211">If the loop has not yet begun when a storyboard is concluded, the loop is skipped entirely.</span></span>
-   <span data-ttu-id="deb72-212">**Compresser le Storyboard planifié.**</span><span class="sxs-lookup"><span data-stu-id="deb72-212">**Compress the scheduled storyboard.**</span></span> <span data-ttu-id="deb72-213">Si la suppression ou l’annulation de la table de montage séquentiel planifiée n’est pas une option, le Storyboard est autorisé à se terminer.</span><span class="sxs-lookup"><span data-stu-id="deb72-213">If trimming or canceling the scheduled storyboard is not an option, the storyboard is allowed to complete.</span></span> <span data-ttu-id="deb72-214">L’animation Windows introduit la possibilité de compresser le temps disponible pour le Storyboard planifié (et les storyboards planifiés avant celui-ci), de sorte que les variables atteignent leur état final plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="deb72-214">Windows Animation introduces the possibility of compressing the time available for the scheduled storyboard (and any storyboards scheduled before it), so the variables reach their final state more quickly.</span></span> <span data-ttu-id="deb72-215">Lorsque la compression est appliquée, le temps est temporairement accéléré pour les storyboards affectés, de sorte qu’ils s’exécutent plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="deb72-215">When compression is applied, time is temporarily accelerated for affected storyboards, so they play faster.</span></span>

<span data-ttu-id="deb72-216">Si aucune des actions ci-dessus n’est autorisée par les objets de comparaison de priorité enregistrés, la tentative de planification de la nouvelle table de montage séquentiel échoue.</span><span class="sxs-lookup"><span data-stu-id="deb72-216">If none of the above actions is allowed by the registered priority comparison objects, the attempt to schedule the new storyboard fails.</span></span> <span data-ttu-id="deb72-217">Par défaut, tous les storyboards peuvent être supprimés, terminés ou compressés pour éviter les défaillances, mais aucun ne peut être annulé.</span><span class="sxs-lookup"><span data-stu-id="deb72-217">By default, all storyboards can be trimmed, concluded, or compressed to prevent failure, but none can be canceled.</span></span>

<span data-ttu-id="deb72-218">Le diagramme suivant illustre le cycle de vie d’une table de montage séquentiel, à l’aide des États définis par l’énumération de l’état de l' [**animation d’animation d’interface utilisateur \_ \_ \_**](/windows/win32/api/uianimation/ne-uianimation-ui_animation_storyboard_status) .</span><span class="sxs-lookup"><span data-stu-id="deb72-218">The following diagram shows the life cycle of a storyboard, using the states defined by the [**UI\_ANIMATION\_STORYBOARD\_STATUS**](/windows/win32/api/uianimation/ne-uianimation-ui_animation_storyboard_status) enumeration.</span></span> <span data-ttu-id="deb72-219">Les applications utilisent l’API d’animation Windows pour générer une table de montage séquentiel et l’envoyer pour la planification.</span><span class="sxs-lookup"><span data-stu-id="deb72-219">Applications use the Windows Animation API to build a storyboard and submit it for scheduling.</span></span> <span data-ttu-id="deb72-220">Le gestionnaire d’animations planifie le Storyboard et gère l’animation.</span><span class="sxs-lookup"><span data-stu-id="deb72-220">The animation manager schedules the storyboard and manages the animation.</span></span>

![diagramme qui montre comment le gestionnaire d’animations planifie le Storyboard et gère l’animation.](images/statediagram.png)

<span data-ttu-id="deb72-222">Pour plus d’informations sur la planification et la gestion des storyboards, consultez [vue d’ensemble des storyboards](storyboard-construction.md).</span><span class="sxs-lookup"><span data-stu-id="deb72-222">For more information on storyboard scheduling and management, see [Storyboard Overview](storyboard-construction.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="deb72-223">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="deb72-223">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="deb72-224">Informations de référence sur les animations Windows</span><span class="sxs-lookup"><span data-stu-id="deb72-224">Windows Animation Reference</span></span>](windows-animation-reference.md)
</dt> <dt>

[<span data-ttu-id="deb72-225">Exemples d’animation Windows</span><span class="sxs-lookup"><span data-stu-id="deb72-225">Windows Animation Samples</span></span>](windows-animation-samples.md)
</dt> <dt>

[<span data-ttu-id="deb72-226">Tâches d’animation Windows</span><span class="sxs-lookup"><span data-stu-id="deb72-226">Windows Animation Tasks</span></span>](using-windows-animation.md)
</dt> </dl>

 

 