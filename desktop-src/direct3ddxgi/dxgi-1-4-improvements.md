---
description: Les fonctionnalités suivantes ont été ajoutées ou modifiées dans Microsoft DirectX Graphics infrastructure (DXGI) 1,4, principalement pour prendre en charge Direct3D 12.
ms.assetid: DEA901EA-B0F9-41D9-802C-ED1D6A7888E0
title: Améliorations de DXGI 1,4
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 24e9a8a48dd026248afac7c1a7df23a99176adef
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104033415"
---
# <a name="dxgi-14-improvements"></a><span data-ttu-id="bca11-103">Améliorations de DXGI 1,4</span><span class="sxs-lookup"><span data-stu-id="bca11-103">DXGI 1.4 Improvements</span></span>

<span data-ttu-id="bca11-104">Les fonctionnalités suivantes ont été ajoutées ou modifiées dans Microsoft DirectX Graphics infrastructure (DXGI) 1,4, principalement pour prendre en charge Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="bca11-104">The following functionality has been added or changed in Microsoft DirectX Graphics Infrastructure (DXGI) 1.4, largely to support Direct3D 12.</span></span>

## <a name="cheaper-adapter-enumeration"></a><span data-ttu-id="bca11-105">Énumération des adaptateurs les plus économiques</span><span class="sxs-lookup"><span data-stu-id="bca11-105">Cheaper adapter enumeration</span></span>

<span data-ttu-id="bca11-106">Pour Direct3D 12, il n’est plus possible de revenir d’un appareil au [**IDXGIAdapter**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter) utilisé pour le créer.</span><span class="sxs-lookup"><span data-stu-id="bca11-106">For Direct3D 12, it’s no longer possible to backtrack from a device to the [**IDXGIAdapter**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter) that was used to create it.</span></span> <span data-ttu-id="bca11-107">Il n’est pas non plus possible de fournir \_ la \_ distorsion de type de pilote D3D \_ dans [**D3D12CreateDevice**](/windows/win32/api/d3d12/nf-d3d12-d3d12createdevice).</span><span class="sxs-lookup"><span data-stu-id="bca11-107">It’s also no longer possible to provide D3D\_DRIVER\_TYPE\_WARP into [**D3D12CreateDevice**](/windows/win32/api/d3d12/nf-d3d12-d3d12createdevice).</span></span> <span data-ttu-id="bca11-108">Pour faciliter le développement, vous pouvez utiliser [**IDXGIFactory4**](/windows/win32/api/DXGI1_4/nn-dxgi1_4-idxgifactory4) pour gérer les deux.</span><span class="sxs-lookup"><span data-stu-id="bca11-108">To make development easier, you can use [**IDXGIFactory4**](/windows/win32/api/DXGI1_4/nn-dxgi1_4-idxgifactory4) to deal with both of these.</span></span> <span data-ttu-id="bca11-109">[**IDXGIFactory4 :: EnumAdapterByLuid**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumadapterbyluid) (conçu pour être associé à [**ID3D12Device :: GetAdapterLuid**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getadapterluid)) permet à une application de récupérer des informations sur l’adaptateur sur lequel un appareil Direct3D 12 a été créé.</span><span class="sxs-lookup"><span data-stu-id="bca11-109">[**IDXGIFactory4::EnumAdapterByLuid**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumadapterbyluid) (designed to be paired with [**ID3D12Device::GetAdapterLuid**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getadapterluid)) enables an app to retrieve information about the adapter where a Direct3D 12 device was created.</span></span> <span data-ttu-id="bca11-110">[**IDXGIFactory4 :: EnumWarpAdapter**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumwarpadapter) fournit un adaptateur qui peut être fourni à **D3D12CreateDevice** pour utiliser le convertisseur de distorsion.</span><span class="sxs-lookup"><span data-stu-id="bca11-110">[**IDXGIFactory4::EnumWarpAdapter**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumwarpadapter) provides an adapter which can be provided to **D3D12CreateDevice** to use the WARP renderer.</span></span>

## <a name="video-memory-budget-tracking"></a><span data-ttu-id="bca11-111">Suivi des budgets de mémoire vidéo</span><span class="sxs-lookup"><span data-stu-id="bca11-111">Video memory budget tracking</span></span>

<span data-ttu-id="bca11-112">Les développeurs d’applications sont encouragés à utiliser un système de réservation de mémoire vidéo pour informer le système d’exploitation de la quantité de mémoire vidéo physique que l’application ne peut pas déconnecter sans.</span><span class="sxs-lookup"><span data-stu-id="bca11-112">Application developers are encouraged to use a video memory reservation system, to inform the OS of the amount of physical video memory the app cannot go without.</span></span>

<span data-ttu-id="bca11-113">La quantité de mémoire physique disponible pour un processus est connue sous le nom de « budget de la mémoire vidéo ».</span><span class="sxs-lookup"><span data-stu-id="bca11-113">The amount of physical memory available for a process is known as the "video memory budget".</span></span> <span data-ttu-id="bca11-114">Le budget peut fluctuer de façon notable au fur et à mesure de l’éveil et du sommeil des processus d’arrière-plan ; et fluctuent considérablement lorsque l’utilisateur passe à une autre application.</span><span class="sxs-lookup"><span data-stu-id="bca11-114">The budget can fluctuate noticeably as background processes wake-up and sleep; and fluctuate dramatically when the user switches away to another application.</span></span> <span data-ttu-id="bca11-115">L’application peut être avertie lorsque le budget change et interroger à la fois le budget actuel et la quantité de mémoire actuellement consommée.</span><span class="sxs-lookup"><span data-stu-id="bca11-115">The application can be notified when the budget changes and poll both the current budget and the currently consumed amount of memory.</span></span> <span data-ttu-id="bca11-116">Si une application ne reste pas dans son budget, le processus sera gelé par intermittence pour permettre à d’autres applications de s’exécuter et/ou les API de création renverront un échec.</span><span class="sxs-lookup"><span data-stu-id="bca11-116">If an application doesn’t stay within its budget, the process will be intermittently frozen to allow other applications to run and/or the creation APIs will return failure.</span></span> <span data-ttu-id="bca11-117">L’interface [**IDXGIAdapter3**](/windows/win32/api/dxgi1_4/nn-dxgi1_4-idxgiadapter3) fournit les méthodes relatives à cette fonctionnalité, en particulier [**QueryVideoMemoryInfo**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-queryvideomemoryinfo) et [**RegisterVideoMemoryBudgetChangeNotificationEvent**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-registervideomemorybudgetchangenotificationevent).</span><span class="sxs-lookup"><span data-stu-id="bca11-117">The [**IDXGIAdapter3**](/windows/win32/api/dxgi1_4/nn-dxgi1_4-idxgiadapter3) interface provides the methods pertaining to this functionality, in particular [**QueryVideoMemoryInfo**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-queryvideomemoryinfo) and [**RegisterVideoMemoryBudgetChangeNotificationEvent**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-registervideomemorybudgetchangenotificationevent).</span></span>

<span data-ttu-id="bca11-118">Pour plus d’informations, reportez-vous à la rubrique Direct3D 12 consacrée à la [résidence](../direct3d12/residency.md).</span><span class="sxs-lookup"><span data-stu-id="bca11-118">For more information, refer to the Direct3D 12 topic on [Residency](../direct3d12/residency.md).</span></span>

## <a name="direct3d-12-swapchain-changes"></a><span data-ttu-id="bca11-119">Modifications de Direct3D 12 utilise permutation</span><span class="sxs-lookup"><span data-stu-id="bca11-119">Direct3D 12 Swapchain Changes</span></span>

<span data-ttu-id="bca11-120">Une partie de la fonctionnalité de utilise permutation Direct3D 11 existante a été dépréciée pour atteindre les réductions de la surcharge dans Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="bca11-120">Some of the existing Direct3D 11 swapchain functionality was deprecated to achieve the overhead reductions in Direct3D 12.</span></span> <span data-ttu-id="bca11-121">Bien que d’autres modifications aient été apportées pour s’aligner sur les concepts Direct3D 12 ou offrir une meilleure prise en charge des fonctionnalités Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="bca11-121">While other changes were made to either align to Direct3D 12 concepts or provide better support for Direct3D 12 features.</span></span>

<span data-ttu-id="bca11-122">**Identité de la mémoire tampon d’invariant**</span><span class="sxs-lookup"><span data-stu-id="bca11-122">**Invariant Backbuffer Identity**</span></span>

<span data-ttu-id="bca11-123">Dans Direct3D 11, les applications pouvaient appeler [**GetBuffer**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-getbuffer)(0,...</span><span class="sxs-lookup"><span data-stu-id="bca11-123">In Direct3D 11, applications could call [**GetBuffer**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-getbuffer)( 0, …</span></span> <span data-ttu-id="bca11-124">) une seule fois.</span><span class="sxs-lookup"><span data-stu-id="bca11-124">) only once.</span></span> <span data-ttu-id="bca11-125">Chaque appel à [**présent**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-present) a modifié implicitement l’identité de ressource de l’interface retournée.</span><span class="sxs-lookup"><span data-stu-id="bca11-125">Every call to [**Present**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-present) implicitly changed the resource identity of the returned interface.</span></span> <span data-ttu-id="bca11-126">Direct3D 12 ne prend plus en charge cette modification de l’identité de ressource implicite, en raison de la surcharge du processeur requise et de la conception du descripteur de ressource flexible.</span><span class="sxs-lookup"><span data-stu-id="bca11-126">Direct3D 12 no longer supports that implicit resource identity change, due to the CPU overhead required and the flexible resource descriptor design.</span></span> <span data-ttu-id="bca11-127">Par conséquent, l’application doit appeler manuellement **GetBuffer** pour chaque mémoire tampon créée avec utilise permutation.</span><span class="sxs-lookup"><span data-stu-id="bca11-127">As a result, the application must manually call **GetBuffer** for every each buffer created with the swapchain.</span></span> <span data-ttu-id="bca11-128">L’application doit effectuer un rendu manuel à la mémoire tampon suivante dans la séquence après l’appel de la **présente**.</span><span class="sxs-lookup"><span data-stu-id="bca11-128">The application must manually render to the next buffer in the sequence after calling **Present**.</span></span> <span data-ttu-id="bca11-129">Les applications sont encouragées à créer un cache de descripteurs pour chaque mémoire tampon, plutôt que de recréer un grand nombre d' **objets.**</span><span class="sxs-lookup"><span data-stu-id="bca11-129">Applications are encouraged to create a cache of descriptors for each buffer, instead of re-creating many objects each **Present**.</span></span>

<span data-ttu-id="bca11-130">**Prise en charge de plusieurs adaptateurs**</span><span class="sxs-lookup"><span data-stu-id="bca11-130">**Multi-Adapter Support**</span></span>

<span data-ttu-id="bca11-131">Lorsqu’un utilise permutation est créé sur un adaptateur à plusieurs GPU, les mémoires tampons sont toutes créées sur le nœud 1 et une seule file d’attente de commandes est prise en charge.</span><span class="sxs-lookup"><span data-stu-id="bca11-131">When a swapchain is created on a multi-GPU adapter, the backbuffers are all created on node 1 and only a single command queue is supported.</span></span> <span data-ttu-id="bca11-132">[**ResizeBuffers1**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgiswapchain3-resizebuffers1) permet aux applications de créer des mémoires tampons en attente sur des nœuds différents, ce qui permet d’utiliser une file d’attente de commandes différente avec chacune.</span><span class="sxs-lookup"><span data-stu-id="bca11-132">[**ResizeBuffers1**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgiswapchain3-resizebuffers1) enables applications to create backbuffers on different nodes, allowing a different command queue to be used with each.</span></span> <span data-ttu-id="bca11-133">Ces fonctionnalités permettent l’utilisation de techniques de rendu de frames (AFR) supplémentaires avec utilise permutation.</span><span class="sxs-lookup"><span data-stu-id="bca11-133">These capabilities enable Alternate Frame Rendering (AFR) techniques to be used with the swapchain.</span></span> <span data-ttu-id="bca11-134">Reportez-vous à [systèmes à plusieurs adaptateurs](../direct3d12/multi-engine.md).</span><span class="sxs-lookup"><span data-stu-id="bca11-134">Refer to [Multi-adapter systems](../direct3d12/multi-engine.md).</span></span>

<span data-ttu-id="bca11-135">**Divers**</span><span class="sxs-lookup"><span data-stu-id="bca11-135">**Miscellaneous**</span></span>

-   <span data-ttu-id="bca11-136">Un objet de file d’attente de commandes doit être passé aux méthodes [**CreateSwapChain**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-createswapchain) à la place de l’objet appareil Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="bca11-136">A command queue object must be passed to [**CreateSwapChain**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-createswapchain) methods instead of the Direct3D 12 device object.</span></span>
-   <span data-ttu-id="bca11-137">Seuls les deux effets de basculement de modèle suivants sont pris en charge :</span><span class="sxs-lookup"><span data-stu-id="bca11-137">Only the following two flip model swap effects are supported:</span></span> <dl> <span data-ttu-id="bca11-138">DXGI \_ swap \_ Effect \_ Flip \_ ignore doit être préféré quand les applications effectuent un rendu complet sur la mémoire tampon d’application avant de la présenter ou s’intéressent facilement à la prise en charge de scénarios à plusieurs adaptateurs.</span><span class="sxs-lookup"><span data-stu-id="bca11-138">DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD should be preferred when applications fully render over the backbuffer before presenting it or are interested in supporting multi-adapter scenarios easily.</span></span>  
    <span data-ttu-id="bca11-139">\_L’effet d’échange dxgi \_ \_ retourne \_ séquentiel doit être utilisé par les applications qui reposent sur des optimisations de présentation partielles ou lues régulièrement à partir de mémoires tampons de cache présentées précédemment.</span><span class="sxs-lookup"><span data-stu-id="bca11-139">DXGI\_SWAP\_EFFECT\_FLIP\_SEQUENTIAL should be used by applications that rely on partial presentation optimizations or regularly read from previously presented backbuffers.</span></span>  
    </dl>
-   [**SetFullscreenState**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate) no longer exclusively owns the display, so user-initiated operating system elements can seamlessly appear in front of application output. Volume settings is an example of this.

## <a name="related-topics"></a><span data-ttu-id="bca11-140">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="bca11-140">Related topics</span></span>

[<span data-ttu-id="bca11-141">Niveaux de fonctionnalité matérielle Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="bca11-141">Direct3D 12 Hardware Feature Levels</span></span>](../direct3d12/hardware-feature-levels.md)

[<span data-ttu-id="bca11-142">Guide de programmation pour DXGI</span><span class="sxs-lookup"><span data-stu-id="bca11-142">Programming Guide for DXGI</span></span>](dx-graphics-dxgi-overviews.md)
