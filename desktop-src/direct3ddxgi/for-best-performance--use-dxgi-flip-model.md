---
description: Cette rubrique fournit des conseils pour les développeurs sur la façon d’optimiser les performances et l’efficacité dans la pile de présentation sur les versions modernes de Windows.
ms.assetid: B6B92F4F-B1D0-40B9-987D-F0C0F2CC7AD1
title: Pour des performances optimales, utilisez DXGI Flip Model
ms.topic: article
ms.date: 05/31/2018
ms.custom: RS5
ms.openlocfilehash: 2a1e671c03f468fd62b0b5bad0f008f84e62ca3c
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "106514907"
---
# <a name="for-best-performance-use-dxgi-flip-model"></a><span data-ttu-id="dfd85-103">Pour des performances optimales, utilisez DXGI Flip Model</span><span class="sxs-lookup"><span data-stu-id="dfd85-103">For best performance, use DXGI flip model</span></span>

<span data-ttu-id="dfd85-104">Cette rubrique fournit des conseils pour les développeurs sur la façon d’optimiser les performances et l’efficacité dans la pile de présentation sur les versions modernes de Windows.</span><span class="sxs-lookup"><span data-stu-id="dfd85-104">This topic provides developer guidance on how to maximize performance and efficiency in the presentation stack on modern versions of Windows.</span></span> <span data-ttu-id="dfd85-105">Il reprend là où [dxgi Flip Model](dxgi-flip-model.md), [DirectX 12 : modes de présentation dans Windows 10 (vidéo)](https://www.youtube.com/watch?v=E3wTajGZOsA)et les [améliorations apportées à la présentation dans Windows 10 : un examen précoce (vidéo)](https://www.youtube.com/watch?v=nUZVV_mssWQ) s’est arrêté.</span><span class="sxs-lookup"><span data-stu-id="dfd85-105">It picks up where [DXGI flip model](dxgi-flip-model.md), [DirectX 12: Presentation Modes In Windows 10 (video)](https://www.youtube.com/watch?v=E3wTajGZOsA), and [Presentation Enhancements in Windows 10: An Early Look (video)](https://www.youtube.com/watch?v=nUZVV_mssWQ) left off.</span></span>

## <a name="call-to-action"></a><span data-ttu-id="dfd85-106">Appel à l’action</span><span class="sxs-lookup"><span data-stu-id="dfd85-106">Call to action</span></span>

<span data-ttu-id="dfd85-107">Si vous utilisez toujours l’effet d' **\_ échange dxgi \_ \_ Discard ignore** ou **dxgi \_ swap \_ Effect \_ Sequential** (également appelé</span><span class="sxs-lookup"><span data-stu-id="dfd85-107">If you are still using **DXGI\_SWAP\_EFFECT\_DISCARD** or **DXGI\_SWAP\_EFFECT\_SEQUENTIAL** (a.k.a.</span></span> <span data-ttu-id="dfd85-108">le modèle de présentation « BLT »), il est temps de s’arrêter !</span><span class="sxs-lookup"><span data-stu-id="dfd85-108">the "blt" present model), it's time to stop!</span></span>

<span data-ttu-id="dfd85-109">Basculer vers l' **effet d’échange dxgi retourner l’effet de permutation \_ \_ \_ \_ séquentielle** ou d' **\_ échange dxgi \_ \_ Flip \_ ignore** (également appelé</span><span class="sxs-lookup"><span data-stu-id="dfd85-109">Switching to **DXGI\_SWAP\_EFFECT\_FLIP\_SEQUENTIAL** or **DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD** (a.k.a.</span></span> <span data-ttu-id="dfd85-110">le modèle de retournement) offrira de meilleures performances, une consommation d’énergie plus faible et fournira un ensemble plus riche de fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="dfd85-110">the flip model) will give better performance, lower power usage, and provide a richer set of features.</span></span> <span data-ttu-id="dfd85-111">(Pour plus d’informations sur ces valeurs, consultez [ \_ \_ énumération de l’effet d’échange dxgi](/windows/desktop/api/DXGI/ne-dxgi-dxgi_swap_effect) .)</span><span class="sxs-lookup"><span data-stu-id="dfd85-111">(See [DXGI\_SWAP\_EFFECT enumeration](/windows/desktop/api/DXGI/ne-dxgi-dxgi_swap_effect) for more information about these values.)</span></span>

<span data-ttu-id="dfd85-112">L’outil retournement du modèle permet de faire en sorte que le mode fenêtre soit équivalent ou mieux comparé au mode « plein écran » classique.</span><span class="sxs-lookup"><span data-stu-id="dfd85-112">Flip model presents go as far as making windowed mode effectively equivalent or better when compared to the classic "fullscreen exclusive" mode.</span></span> <span data-ttu-id="dfd85-113">En fait, vous souhaiterez peut-être reconsidérer si votre application a réellement besoin d’un mode plein écran plein écran, car les avantages d’une fenêtre de basculement de modèle sans bordure incluent plus rapidement la Alt-Tab et une meilleure intégration avec les fonctionnalités d’affichage modernes.</span><span class="sxs-lookup"><span data-stu-id="dfd85-113">In fact, you may want to reconsider whether your application actually needs a fullscreen exclusive mode, since the benefits of a flip model borderless window include faster Alt-Tab switching and better integration with modern display features.</span></span>

<span data-ttu-id="dfd85-114">Pourquoi maintenant ?</span><span class="sxs-lookup"><span data-stu-id="dfd85-114">Why now?</span></span> <span data-ttu-id="dfd85-115">Avant la mise à jour du 2018 d’avril, le modèle BLT présente un risque de destruction visible lorsqu’il est utilisé sur des configurations GPU hybrides, souvent détectées dans des ordinateurs portables haut de gamme (voir [KB 3158621](https://support.microsoft.com/help/3158621/hybrid-graphics-and-vsync-results-in-graphic-tearing-in-some-games-and)).</span><span class="sxs-lookup"><span data-stu-id="dfd85-115">Prior to the April 2018 Update, blt model presents could result in visible tearing when used on hybrid GPU configurations, often found in high-end laptops (see [KB 3158621](https://support.microsoft.com/help/3158621/hybrid-graphics-and-vsync-results-in-graphic-tearing-in-some-games-and)).</span></span> <span data-ttu-id="dfd85-116">Dans la mise à jour d’avril 2018, ce déchirement a été corrigé, au détriment d’un travail supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="dfd85-116">In the April 2018 Update, this tearing has been fixed, at the cost of some additional work.</span></span> <span data-ttu-id="dfd85-117">Si vous utilisez BLT à des trames élevés sur des GPU hybrides, en particulier pour des résolutions élevées comme 4 Ko, ce travail supplémentaire peut affecter les performances globales.</span><span class="sxs-lookup"><span data-stu-id="dfd85-117">If you are doing blt presents at high framerates across hybrid GPUs, especially at high resolutions such as 4K, this additional work may affect overall performance.</span></span> <span data-ttu-id="dfd85-118">Pour garantir des performances optimales sur ces systèmes, passez du BLT au modèle de basculement.</span><span class="sxs-lookup"><span data-stu-id="dfd85-118">To maintain best performance on these systems, switch from the blt to the flip present model.</span></span> <span data-ttu-id="dfd85-119">En outre, envisagez de réduire la résolution de vos utilise permutation, surtout s’il ne s’agit pas du point principal de l’interaction utilisateur (comme c’est souvent le cas avec les fenêtres en version préliminaire de VR).</span><span class="sxs-lookup"><span data-stu-id="dfd85-119">Additionally, consider reducing the resolution of your swapchain, especially if it isn’t the primary point of user interaction (as is often the case with VR preview windows).</span></span>

## <a name="a-brief-history"></a><span data-ttu-id="dfd85-120">Bref historique</span><span class="sxs-lookup"><span data-stu-id="dfd85-120">A brief history</span></span>

<span data-ttu-id="dfd85-121">Qu’est-ce que le modèle de basculement ?</span><span class="sxs-lookup"><span data-stu-id="dfd85-121">What is the flip model?</span></span> <span data-ttu-id="dfd85-122">Qu’est-ce que l’alternative ?</span><span class="sxs-lookup"><span data-stu-id="dfd85-122">What is the alternative?</span></span>

<span data-ttu-id="dfd85-123">Avant Windows 7, le seul moyen de présenter le contenu à partir de D3D était de « BLT » ou de le copier dans une surface qui était la propriété de la fenêtre ou de l’écran.</span><span class="sxs-lookup"><span data-stu-id="dfd85-123">Prior to Windows 7, the only way to present content from D3D was to "blt" or copy it into a surface which was owned by the window or screen.</span></span> <span data-ttu-id="dfd85-124">À partir de D3D9's FLIPEX swap Effect et à DXGI via l' \_ effet de permutation séquentielle dans Windows 8, nous avons développé un moyen plus efficace de placer le contenu à l’écran en le partageant directement avec le compositeur de bureau, avec des copies minimales.</span><span class="sxs-lookup"><span data-stu-id="dfd85-124">Beginning with D3D9’s FLIPEX swap effect, and coming to DXGI through the FLIP\_SEQUENTIAL swap effect in Windows 8, we’ve developed a more efficient way to put content on screen by sharing it directly with the desktop compositor, with minimal copies.</span></span> <span data-ttu-id="dfd85-125">Pour une vue d’ensemble globale de la technologie, consultez [dxgi Flip Model](dxgi-flip-model.md) .</span><span class="sxs-lookup"><span data-stu-id="dfd85-125">See [DXGI flip model](dxgi-flip-model.md) for a high level overview of the technology.</span></span>

<span data-ttu-id="dfd85-126">Cette optimisation est possible grâce au DWM (Gestionnaire de fenêtrage), qui est le compositeur qui pilote le bureau Windows.</span><span class="sxs-lookup"><span data-stu-id="dfd85-126">This optimization is possible thanks to the DWM (Desktop Window Manager), which is the compositor that drives the Windows desktop.</span></span>

## <a name="when-should-i-use-the-blt-model"></a><span data-ttu-id="dfd85-127">Quand dois-je utiliser le modèle BLT ?</span><span class="sxs-lookup"><span data-stu-id="dfd85-127">When should I use the blt model?</span></span>

<span data-ttu-id="dfd85-128">Le modèle de retournement ne fournit qu’une partie des fonctionnalités : la possibilité d’avoir plusieurs API différentes produisant du contenu, qui se trouvent toutes les couches dans le même **HWND**, sur une base actuelle.</span><span class="sxs-lookup"><span data-stu-id="dfd85-128">There is one piece of functionality that the flip model does not provide: the ability to have multiple different APIs producing content, which all layer together into the same **HWND**, on a present-by-present basis.</span></span> <span data-ttu-id="dfd85-129">C’est le cas, par exemple, si vous utilisez D3D pour dessiner un arrière-plan de fenêtre, puis [Windows GDI](/windows/desktop/gdi/windows-gdi) pour dessiner tout ce qui se trouve au-dessus ou en utilisant deux API graphiques différentes, ou deux chaînes d’échange à partir de la même API, pour produire des images alternées.</span><span class="sxs-lookup"><span data-stu-id="dfd85-129">An example of this would be using D3D to draw a window background, and then [Windows GDI](/windows/desktop/gdi/windows-gdi) to draw something on top, or using two different graphics APIs, or two swapchains from the same API, to produce alternating frames.</span></span> <span data-ttu-id="dfd85-130">Si vous n’avez pas besoin d’une interopérabilité au niveau **HWND** entre les composants Graphics, vous n’avez pas besoin d’un modèle BLT.</span><span class="sxs-lookup"><span data-stu-id="dfd85-130">If you don’t require **HWND**-level interop between graphics components, then you don’t need blt model.</span></span>

<span data-ttu-id="dfd85-131">Il existe une deuxième partie des fonctionnalités qui n’a pas été fournie dans la conception du modèle de retournement d’origine, mais qui est désormais disponible, ce qui est la possibilité de présenter une cadence non limitée.</span><span class="sxs-lookup"><span data-stu-id="dfd85-131">There is a second piece of functionality that was not provided in the original flip model design, but is available now, which is the ability to present at an unthrottled framerate.</span></span> <span data-ttu-id="dfd85-132">Pour une application utilisant l’intervalle de synchronisation 0, nous vous déconseillons de passer à l’option Inverser le modèle, sauf si l’API [IDXGIFactory5 :: CheckFeatureSupport](/windows/desktop/api/DXGI1_5/nf-dxgi1_5-idxgifactory5-checkfeaturesupport) est disponible et que les rapports sur la prise en charge de la **\_ fonctionnalité dxgi peuvent être \_ \_ \_ détruits**.</span><span class="sxs-lookup"><span data-stu-id="dfd85-132">For an application using sync interval 0, we do not recommend switching to flip model unless the [IDXGIFactory5::CheckFeatureSupport](/windows/desktop/api/DXGI1_5/nf-dxgi1_5-idxgifactory5-checkfeaturesupport) API is available, and reports support for **DXGI\_FEATURE\_PRESENT\_ALLOW\_TEARING**.</span></span> <span data-ttu-id="dfd85-133">Cette fonctionnalité est presque omniprésente dans les versions récentes de Windows 10 et sur le matériel moderne.</span><span class="sxs-lookup"><span data-stu-id="dfd85-133">This feature is nearly ubiquitous on recent versions of Windows 10 and on modern hardware.</span></span>

## <a name="directflip"></a><span data-ttu-id="dfd85-134">DirectFlip</span><span class="sxs-lookup"><span data-stu-id="dfd85-134">DirectFlip</span></span>

<span data-ttu-id="dfd85-135">Si vous avez regardé [DirectX 12 : modes de présentation dans Windows 10](https://www.youtube.com/watch?v=E3wTajGZOsA), vous verrez des « retournements directs » et des « retournements indépendants ».</span><span class="sxs-lookup"><span data-stu-id="dfd85-135">If you’ve watched [DirectX 12: Presentation Modes In Windows 10](https://www.youtube.com/watch?v=E3wTajGZOsA), you’ll see talk about "Direct Flip" and "Independent Flip."</span></span> <span data-ttu-id="dfd85-136">Il s’agit d’optimisations activées pour les applications à l’aide de l’option Flip Model chaînes d’échange.</span><span class="sxs-lookup"><span data-stu-id="dfd85-136">These are optimizations that are enabled for applications using flip model swapchains.</span></span> <span data-ttu-id="dfd85-137">En fonction de la configuration de la fenêtre et de la mémoire tampon, il est possible de contourner entièrement la composition du bureau et d’envoyer directement des frames d’application à l’écran, de la même façon que le mode plein écran exclusif.</span><span class="sxs-lookup"><span data-stu-id="dfd85-137">Depending on window and buffer configuration, it is possible to bypass desktop composition entirely and directly send application frames to the screen, in the same way that exclusive fullscreen does.</span></span>

<span data-ttu-id="dfd85-138">Ces optimisations peuvent être menées dans l’un des trois scénarios, dans l’ordre des fonctionnalités les plus nombreuses :</span><span class="sxs-lookup"><span data-stu-id="dfd85-138">These days, these optimizations can engage in one of 3 scenarios, in order of increasing functionality:</span></span>

1.  <span data-ttu-id="dfd85-139">**DirectFlip**: vos mémoires tampons utilise permutation correspondent aux dimensions de l’écran, et la région de votre client Windows couvre l’écran.</span><span class="sxs-lookup"><span data-stu-id="dfd85-139">**DirectFlip**: Your swapchain buffers match the screen dimensions, and your window client region covers the screen.</span></span> <span data-ttu-id="dfd85-140">Au lieu d’utiliser le DWM utilise permutation à afficher à l’écran, l’application utilise permutation est utilisée.</span><span class="sxs-lookup"><span data-stu-id="dfd85-140">Instead of using the DWM swapchain to display on the screen, the application swapchain is used.</span></span>
2.  <span data-ttu-id="dfd85-141">**DirectFlip avec les installateurs de panneau**: la région de votre client Windows couvre l’écran et vos tampons utilise permutation se trouvent dans un facteur d’échelle dépendant du matériel (par exemple, 0,25 x à 4 fois) de l’écran.</span><span class="sxs-lookup"><span data-stu-id="dfd85-141">**DirectFlip with panel fitters**: Your window client region covers the screen, and your swapchain buffers are within some hardware-dependent scaling factor (for example, 0.25x to 4x) of the screen.</span></span> <span data-ttu-id="dfd85-142">Le matériel scanout GPU est utilisé pour mettre à l’échelle votre mémoire tampon lors de son envoi à l’affichage.</span><span class="sxs-lookup"><span data-stu-id="dfd85-142">The GPU scanout hardware is used to scale your buffer while sending it to the display.</span></span>
3.  <span data-ttu-id="dfd85-143">**DirectFlip avec multi-plan overlay (MPO)**: vos mémoires tampons utilise permutation se trouvent dans un facteur d’échelle dépendant du matériel de vos dimensions de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="dfd85-143">**DirectFlip with multi-plane overlay (MPO)**: Your swapchain buffers are within some hardware-dependent scaling factor of your window dimensions.</span></span> <span data-ttu-id="dfd85-144">Le DWM est en mesure de réserver un plan de scanout matériel dédié à votre application, qui est ensuite analysé et éventuellement étiré sur une sous-région à contrôle alpha de l’écran.</span><span class="sxs-lookup"><span data-stu-id="dfd85-144">The DWM is able to reserve a dedicated hardware scanout plane for your application, which is then scanned out and potentially stretched to an alpha-blended sub-region of the screen.</span></span>

<span data-ttu-id="dfd85-145">Avec le modèle de retournement à fenêtres, l’application peut interroger la prise en charge matérielle pour différents scénarios de DirectFlip et implémenter différents types de mise à l’échelle dynamique à l’aide de [IDXGIOutput6 :: CheckHardwareCompositionSupport](/windows/desktop/api/DXGI1_6/nf-dxgi1_6-idxgioutput6-checkhardwarecompositionsupport).</span><span class="sxs-lookup"><span data-stu-id="dfd85-145">With the windowed flip model, the application can query hardware support for different DirectFlip scenarios and implement different types of dynamic scaling via the use of [IDXGIOutput6::CheckHardwareCompositionSupport](/windows/desktop/api/DXGI1_6/nf-dxgi1_6-idxgioutput6-checkhardwarecompositionsupport).</span></span> <span data-ttu-id="dfd85-146">Gardez à l’esprit que si les installateurs de volet sont utilisés, il est possible que le curseur subisse des effets secondaires d’étirement, ce qui est indiqué par le biais de la **\_ composition matérielle dxgi \_ \_ prise en charge \_ \_ \_** de la composition du curseur.</span><span class="sxs-lookup"><span data-stu-id="dfd85-146">One caveat to keep in mind is that if panel fitters are utilized, it’s possible for the cursor to suffer stretching side effects, which is indicated via **DXGI\_HARDWARE\_COMPOSITION\_SUPPORT\_FLAG\_CURSOR\_STRETCHED**.</span></span>

<span data-ttu-id="dfd85-147">Une fois que votre utilise permutation a été « DirectFlipped », le DWM peut passer en mode veille et se réveiller uniquement en cas de changement en dehors de votre application.</span><span class="sxs-lookup"><span data-stu-id="dfd85-147">Once your swapchain has been "DirectFlipped," then the DWM can go to sleep, and only wake up when something changes outside of your application.</span></span> <span data-ttu-id="dfd85-148">Les frames de votre application sont envoyés directement à l’écran, de manière indépendante, avec la même efficacité que le mode plein écran.</span><span class="sxs-lookup"><span data-stu-id="dfd85-148">Your application frames are sent directly to the screen, independently, with the same efficiency as fullscreen exclusive.</span></span> <span data-ttu-id="dfd85-149">Il s’agit d’un « inverseur indépendant » qui peut s’impliquer dans tous les scénarios ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="dfd85-149">This is "Independent Flip," and can engage in all of the above scenarios.</span></span> <span data-ttu-id="dfd85-150">Si le contenu d’un autre bureau est en haut, le DWM peut passer en toute transparence en mode composé, « inverser la composition » de manière efficace et le contenu en haut de l’application avant de le retourner, ou tirer parti de MPO pour maintenir le mode de retournement indépendant.</span><span class="sxs-lookup"><span data-stu-id="dfd85-150">If other desktop contents come on top, the DWM can either seamlessly transition back to composed mode, efficiently "reverse compose" the contents on top of the application before flipping it, or leverage MPO to maintain the independent flip mode.</span></span>

<span data-ttu-id="dfd85-151">Consultez l’outil [PresentMon](https://github.com/GameTechDev/PresentMon) pour obtenir des informations sur les éléments qui ont été utilisés.</span><span class="sxs-lookup"><span data-stu-id="dfd85-151">Check out the [PresentMon](https://github.com/GameTechDev/PresentMon) tool to get insight into which of the above was used.</span></span>

## <a name="what-else-is-new-in-the-flip-model"></a><span data-ttu-id="dfd85-152">Quelles sont les autres nouveautés du modèle de basculement ?</span><span class="sxs-lookup"><span data-stu-id="dfd85-152">What else is new in the flip model?</span></span>

<span data-ttu-id="dfd85-153">En plus des améliorations apportées ci-dessus, qui s’appliquent aux chaînes d’échange standard sans rien de spécial, plusieurs fonctionnalités sont disponibles pour les applications de retournement à utiliser :</span><span class="sxs-lookup"><span data-stu-id="dfd85-153">In addition to the above improvements, which apply to standard swapchains without anything special, there are several features available for flip model applications to use:</span></span>

-   <span data-ttu-id="dfd85-154">Latence décroissant à l’aide d’un **objet d' \_ indicateur de \_ \_ \_ \_ latence \_ \_ de trame de la chaîne d’échange dxgi**.</span><span class="sxs-lookup"><span data-stu-id="dfd85-154">Decreasing latency using **DXGI\_SWAP\_CHAIN\_FLAG\_FRAME\_LATENCY\_WAITABLE\_OBJECT**.</span></span> <span data-ttu-id="dfd85-155">En mode de basculement indépendant, vous pouvez accéder à 1 image de latence sur les versions récentes de Windows, avec un secours normal au minimum possible quand il est composé.</span><span class="sxs-lookup"><span data-stu-id="dfd85-155">When in Independent Flip mode, you can get down to 1 frame of latency on recent versions of Windows, with graceful fallback to the minimum possible when composed.</span></span>
    -   <span data-ttu-id="dfd85-156">Inconvénient : nous avons rencontré un problème qui a donné un minimum de deux trames de latence dans la mise à jour anniversaire Windows 10 et les versions antérieures.</span><span class="sxs-lookup"><span data-stu-id="dfd85-156">Caveat: there was an issue that gave a minimum of two frames of latency in the Windows 10 Anniversary Update and earlier.</span></span> <span data-ttu-id="dfd85-157">Pour plus d’informations, consultez [ce forum](https://www.gamedev.net/forums/topic/686507-windows-10-dx12-low-latency-tearing-free-rendering/) .</span><span class="sxs-lookup"><span data-stu-id="dfd85-157">See [this forum topic](https://www.gamedev.net/forums/topic/686507-windows-10-dx12-low-latency-tearing-free-rendering/) for more information.</span></span> <span data-ttu-id="dfd85-158">Ce problème est résolu dans la mise à jour du créateur de l’automne.</span><span class="sxs-lookup"><span data-stu-id="dfd85-158">This is fixed in the Fall Creator’s Update.</span></span>
-   <span data-ttu-id="dfd85-159">**Dxgi \_ Permuter l' \_ effet \_ Flip \_ ignore** active le mode de « composition inversée » d’un retournement direct, ce qui entraîne moins de travail global pour l’affichage du bureau.</span><span class="sxs-lookup"><span data-stu-id="dfd85-159">**DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD** enables a "reverse composition" mode of direct flip, which results in less overall work to display the desktop.</span></span> <span data-ttu-id="dfd85-160">Le DWM peut faire un griffonnage sur les mémoires tampons de l’application et les envoyer à l’écran, au lieu d’effectuer une copie complète dans son propre chaînes d’échange.</span><span class="sxs-lookup"><span data-stu-id="dfd85-160">The DWM can scribble on the application buffers and send those to the screen, instead of performing a full copy into their own swapchains.</span></span>
-   <span data-ttu-id="dfd85-161">**Dxgi \_ L' \_ indicateur de chaîne de \_ \_ \_ permutation** peut permettre une latence encore inférieure à celle de l’objet pouvant être attendu, même dans une fenêtre sur les systèmes avec prise en charge de la superposition à plusieurs plans.</span><span class="sxs-lookup"><span data-stu-id="dfd85-161">**DXGI\_SWAP\_CHAIN\_FLAG\_ALLOW\_TEARING** can enable even lower latency than the waitable object, even in a window on systems with multi-plane overlay support.</span></span>
-   <span data-ttu-id="dfd85-162">Les applications contrôlent la mise à l’échelle du contenu qui se produit pendant le redimensionnement de la fenêtre, à l’aide de la propriété de [ \_ mise à l’échelle dxgi](/windows/desktop/api/DXGI1_2/ne-dxgi1_2-dxgi_scaling) pendant la création de utilise permutation.</span><span class="sxs-lookup"><span data-stu-id="dfd85-162">Applications have control over content scaling that happens during window resize, using the [DXGI\_SCALING](/windows/desktop/api/DXGI1_2/ne-dxgi1_2-dxgi_scaling) property set during swapchain creation.</span></span>
-   <span data-ttu-id="dfd85-163">Le contenu des formats HDR (R10G10B10A2 \_ UNORM ou R16G16B16A16 \_ float) n’est pas ancré, sauf s’il est composé d’un ordinateur de bureau SDR.</span><span class="sxs-lookup"><span data-stu-id="dfd85-163">Content in HDR formats (R10G10B10A2\_UNORM or R16G16B16A16\_FLOAT) isn’t clamped unless it’s composed to an SDR desktop.</span></span>
-   <span data-ttu-id="dfd85-164">Les statistiques sont disponibles en mode fenêtre.</span><span class="sxs-lookup"><span data-stu-id="dfd85-164">Present statistics are available in windowed mode.</span></span>
-   <span data-ttu-id="dfd85-165">Il existe une plus grande compatibilité avec le modèle d’application UWP (plateforme Windows universelle) et DX12, car ceux-ci sont uniquement compatibles avec le modèle de retournement.</span><span class="sxs-lookup"><span data-stu-id="dfd85-165">There is greater compatibility with the UWP (Universal Windows Platform) application model and DX12 since these are only compatible with the flip model.</span></span>

## <a name="what-do-i-have-to-do-to-use-the-flip-model"></a><span data-ttu-id="dfd85-166">Que dois-je faire pour utiliser le modèle de retournement ?</span><span class="sxs-lookup"><span data-stu-id="dfd85-166">What do I have to do to use the flip model?</span></span>

<span data-ttu-id="dfd85-167">Flip Model chaînes d’échange présente quelques exigences supplémentaires en plus de la chaînes d’échange BLT :</span><span class="sxs-lookup"><span data-stu-id="dfd85-167">Flip model swapchains have a few additional requirements on top of blt swapchains:</span></span>

1.  <span data-ttu-id="dfd85-168">Le nombre de tampons doit être au moins égal à 2.</span><span class="sxs-lookup"><span data-stu-id="dfd85-168">The buffer count must be at least 2.</span></span>
2.  <span data-ttu-id="dfd85-169">Après [l’appel de](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-present) , la mémoire tampon d’arrière-plan doit être explicitement reliée au contexte immédiat d3d11 avant de pouvoir être réutilisée.</span><span class="sxs-lookup"><span data-stu-id="dfd85-169">After [Present](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-present) calls, the back buffer needs to explicitly be re-bound to the D3D11 immediate context before it can be used again.</span></span>
3.  <span data-ttu-id="dfd85-170">Après l’appel de [SetFullscreenState](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate), l’application doit appeler [ResizeBuffers](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) avant la **présente**.</span><span class="sxs-lookup"><span data-stu-id="dfd85-170">After calling [SetFullscreenState](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate), the application must call [ResizeBuffers](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) before **Present**.</span></span>
4.  <span data-ttu-id="dfd85-171">Les chaînes d’échange MSAA (MultiSample anti-aliasing) ne sont pas directement pris en charge dans le modèle de retournement. l’application devra donc effectuer une résolution MSAA avant d’émettre le **présent**.</span><span class="sxs-lookup"><span data-stu-id="dfd85-171">MSAA (multisample anti-aliasing) swapchains are not directly supported in the flip model, so the application will need to do an MSAA resolve before issuing the **Present**.</span></span>

## <a name="how-to-choose-the-right-rendering-and-presentation-resolutions"></a><span data-ttu-id="dfd85-172">Comment choisir le rendu approprié et les résolutions de présentation</span><span class="sxs-lookup"><span data-stu-id="dfd85-172">How to choose the right rendering and presentation resolutions</span></span>

<span data-ttu-id="dfd85-173">Le modèle traditionnel pour les applications dans le passé a été de fournir à l’utilisateur une liste de résolutions à choisir lorsque l’utilisateur sélectionne le mode plein écran exclusif.</span><span class="sxs-lookup"><span data-stu-id="dfd85-173">The traditional pattern for applications in the past has been to provide the user with a list of resolutions to choose from when the user selects exclusive fullscreen mode.</span></span> <span data-ttu-id="dfd85-174">Avec la capacité des affichages modernes à commencer à mettre à l’échelle le contenu en toute transparence, envisagez de fournir aux utilisateurs la possibilité de choisir une résolution de rendu pour la mise à l’échelle des performances, indépendamment d’une résolution de sortie et même en mode fenêtre.</span><span class="sxs-lookup"><span data-stu-id="dfd85-174">With the ability of modern displays to seamlessly begin scaling content, consider providing users with the ability to choose a rendering resolution for performance scaling, independent from an output resolution, and even in windowed mode.</span></span> <span data-ttu-id="dfd85-175">En outre, les applications doivent tirer parti de **IDXGIOutput6 :: CheckHardwareCompositionSupport** pour déterminer si elles doivent mettre à l’échelle le contenu avant de le présenter, ou si elles doivent permettre au matériel d’effectuer la mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="dfd85-175">Furthermore, applications should leverage **IDXGIOutput6::CheckHardwareCompositionSupport** to determine if they need to scale the content before presenting it, or if they should let the hardware do the scaling for them.</span></span>

<span data-ttu-id="dfd85-176">Vous devrez peut-être migrer votre contenu d’un GPU vers un autre dans le cadre de l’opération de présentation ou de composition.</span><span class="sxs-lookup"><span data-stu-id="dfd85-176">Your content may need to be migrated from one GPU to another as part of the present or composition operation.</span></span> <span data-ttu-id="dfd85-177">C’est souvent le cas sur les ordinateurs portables à plusieurs GPU ou sur des systèmes avec des GPU externes branchés.</span><span class="sxs-lookup"><span data-stu-id="dfd85-177">This is often true on multi-GPU laptops, or systems with external GPUs plugged in.</span></span> <span data-ttu-id="dfd85-178">Étant donné que ces configurations sont plus courantes et que les affichages haute résolution deviennent plus courants, le coût de la présentation d’un utilise permutation à résolution complète augmente.</span><span class="sxs-lookup"><span data-stu-id="dfd85-178">As these configurations get more common, and as high-resolution displays become more common, the cost of presenting a full resolution swapchain increases.</span></span> <span data-ttu-id="dfd85-179">Si la cible de votre utilise permutation n’est pas le point principal de l’interaction de l’utilisateur, comme c’est souvent le cas avec des titres VR qui présentent une préversion 2D de la scène VR dans une fenêtre secondaire, envisagez d’utiliser une résolution inférieure utilise permutation pour réduire la quantité de bande passante qui doit être transférée entre les différentes GPU.</span><span class="sxs-lookup"><span data-stu-id="dfd85-179">If the target of your swapchain isn’t the primary point of user interaction, as is often the case with VR titles that present a 2D preview of the VR scene into a secondary window, consider using a lower resolution swapchain to minimize the amount of bandwidth that needs to be transferred across different GPUs.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="dfd85-180">Autres considérations</span><span class="sxs-lookup"><span data-stu-id="dfd85-180">Other considerations</span></span>

<span data-ttu-id="dfd85-181">La première fois que vous demandez au GPU d’écrire dans la mémoire tampon d’arrière-plan utilise permutation est la durée pendant laquelle le GPU est bloqué en attendant que la mémoire tampon devienne disponible.</span><span class="sxs-lookup"><span data-stu-id="dfd85-181">The first time you ask the GPU to write to the swapchain back buffer is the time that the GPU will stall waiting for the buffer to become available.</span></span> <span data-ttu-id="dfd85-182">Dans la mesure du possible, retardez ce point autant que possible dans le frame.</span><span class="sxs-lookup"><span data-stu-id="dfd85-182">When possible, delay this point as far into the frame as possible.</span></span>

 

 
