---
title: Créer des animations
description: Créer des animations
ms.assetid: 6d5c3c61-b3f2-4505-aa43-b6d001c444a5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f16c460908e7c782054a3f62ece87d01e7c9a817
ms.sourcegitcommit: bf526e267d3991892733bdd229c66d5365cf244a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/05/2021
ms.locfileid: "104565749"
---
# <a name="creating-animations"></a><span data-ttu-id="b1ae5-103">Créer des animations</span><span class="sxs-lookup"><span data-stu-id="b1ae5-103">Creating Animations</span></span>

<span data-ttu-id="b1ae5-104">\[Microsoft Agent est déconseillé à partir de Windows 7 et peut ne pas être disponible dans les versions ultérieures de Windows.\]</span><span class="sxs-lookup"><span data-stu-id="b1ae5-104">\[Microsoft Agent is deprecated as of Windows 7, and may be unavailable in subsequent versions of Windows.\]</span></span>

<span data-ttu-id="b1ae5-105">Pour commencer à créer des animations pour votre caractère, sélectionnez l’icône **animations** dans l’arborescence.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-105">To begin creating animations for your character, select the **Animations** icon in the tree.</span></span> <span data-ttu-id="b1ae5-106">La page **Propriétés** s’affiche avec les paramètres par défaut pour toutes les animations.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-106">This displays the **Properties** page with the default settings for all animations.</span></span> <span data-ttu-id="b1ae5-107">Vous pouvez modifier la taille de trame, les paramètres de durée d’image par défaut et de palette de couleurs sur la page **Propriétés** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-107">You can alter the frame size, the default frame duration, and color palette settings on the **Properties** page.</span></span>

### <a name="setting-your-characters-frame-size"></a><span data-ttu-id="b1ae5-108">Définition de la taille du cadre du caractère</span><span class="sxs-lookup"><span data-stu-id="b1ae5-108">Setting Your Character's Frame Size</span></span>

<span data-ttu-id="b1ae5-109">La hauteur et la largeur du frame d’animation doivent rester constantes dans toute la définition des caractères (c’est-à-dire, pour toutes les animations de ce caractère).</span><span class="sxs-lookup"><span data-stu-id="b1ae5-109">The animation frame height and width must remain constant throughout the entire character definition (that is, for all of that character's animations).</span></span> <span data-ttu-id="b1ae5-110">Bien que vous puissiez modifier la taille de la trame à partir de sa valeur par défaut (128 x 128 pixels), les images affichées dans l’éditeur seront mises à l’échelle en fonction de la taille d’affichage par défaut.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-110">Although you can change the frame size from its default setting (128 x 128 pixels), images displayed in the Editor will be scaled to fit default display size.</span></span> <span data-ttu-id="b1ae5-111">Si vous modifiez le paramètre frame par défaut, vous pouvez afficher la taille complète et non réduite du frame en choisissant **ouvrir la fenêtre frame** dans le menu **Edition** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-111">If you change the default frame setting, you can display the frame's full, non-scaled size by choosing **Open Frame Window** from the **Edit** menu.</span></span>

### <a name="setting-your-characters-palette"></a><span data-ttu-id="b1ae5-112">Définition de la palette de votre caractère</span><span class="sxs-lookup"><span data-stu-id="b1ae5-112">Setting Your Character's Palette</span></span>

<span data-ttu-id="b1ae5-113">Par défaut, l’éditeur utilise la première image bitmap que vous chargez pour définir la palette de couleurs par défaut de votre caractère, les couleurs qui déterminent le mode d’affichage du caractère et définit la couleur de la<sup>position 11 de</sup> la palette comme couleur de transparence.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-113">By default, the Editor uses the first bitmap image you load to set your character's default color palette, the colors that determine how the character appears, and sets the color in the 11<sup>th</sup> palette position as your transparency color.</span></span> <span data-ttu-id="b1ae5-114">Toutefois, vous pouvez définir la palette et la transparence explicitement dans le groupe d' **informations palette** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-114">However, you can set the palette and transparency explicitly in the **Palette Information** group.</span></span> <span data-ttu-id="b1ae5-115">Cela vous permet de spécifier un fichier image à utiliser pour la palette.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-115">This enables you to specify an image file to use for the palette.</span></span> <span data-ttu-id="b1ae5-116">Vous pouvez spécifier l’un des fichiers image d’animation ou n’importe quel fichier graphique.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-116">You can specify one of the animation image files or any graphic file.</span></span> <span data-ttu-id="b1ae5-117">Le fichier de palette que vous spécifiez doit être un fichier de couleurs 8 bits (256).</span><span class="sxs-lookup"><span data-stu-id="b1ae5-117">The palette file you specify must be an 8-bit (256) color file.</span></span> <span data-ttu-id="b1ae5-118">Une fois le chargement effectué, utilisez le bouton **modifier le paramètre** pour modifier la couleur de transparence.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-118">After it is loaded, use the **Change Setting** button to change the transparency color.</span></span>

<span data-ttu-id="b1ae5-119">La palette de couleurs de votre caractère ne doit pas remapper les couleurs système standard.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-119">Your character's color palette must not remap the standard system colors.</span></span> <span data-ttu-id="b1ae5-120">L’éditeur réserve automatiquement la palette de couleurs du système lors de l’affichage des images.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-120">The Editor will automatically reserve the system's color palette when displaying images.</span></span> <span data-ttu-id="b1ae5-121">En outre, toutes vos images d’animation doivent utiliser la même palette de couleurs et la même couleur de transparence.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-121">In addition, all your animation images must use the same color palette and transparency color.</span></span> <span data-ttu-id="b1ae5-122">C’est très important.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-122">This is very important.</span></span> <span data-ttu-id="b1ae5-123">Si ce n’est pas le cas, vous pouvez voir le remappage des couleurs de vos images lorsque vous les chargez dans l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-123">If they do not, you may see color remapping of your images when you load them into the Editor.</span></span>

<span data-ttu-id="b1ae5-124">Bien que vous puissiez définir la palette de couleurs pour le caractère, sur les systèmes Windows où les propriétés d’affichage sont définies sur une palette de couleurs 8 bits (256), la couleur du caractère sera soumise à la palette actuelle du système.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-124">While you can set the color palette for the character, on Windows systems where the Display properties are set to an 8-bit (256) color palette, the character's color will be subject to the current system palette.</span></span> <span data-ttu-id="b1ae5-125">Étant donné que les applications peuvent modifier la palette du système, le caractère peut ne pas s’afficher avec les paramètres de couleur appropriés.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-125">Because applications may change the system palette, the character may not appear with the correct color settings.</span></span> <span data-ttu-id="b1ae5-126">Bien qu’il n’existe aucun moyen d’éviter cela, vous pouvez réduire l’effet en limitant le nombre de couleurs que vous utilisez et en définissant la palette du caractère en fonction de la palette utilisée par l’application qui pilote le caractère.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-126">Although there is no way to prevent this, you can lessen the effect by limiting the numbers of colors you use and setting the character's palette based on the palette used by the application driving the character.</span></span> <span data-ttu-id="b1ae5-127">Par exemple, si vous développez un caractère à utiliser avec des pages Web, vous souhaiterez peut-être définir la palette de caractères à l’aide de la palette de demi-teintes de Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-127">For example, if you are developing a character to be used with webpages, you may want set the character's palette using the Microsoft Internet Explorer's halftone palette.</span></span> <span data-ttu-id="b1ae5-128">Vous pouvez capturer la palette du navigateur en cliquant avec le bouton droit sur une image sur une page Web et en choisissant la commande **enregistrer l’image en tant que** et en choisissant **bitmap** dans l’option **type** de fichier, puis en cliquant sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-128">You can capture the browser's palette by right-clicking on an image on a webpage and choosing the **Save Picture As** command and choosing **Bitmap** in the **Save As Type** option, then clicking **Save**.</span></span> <span data-ttu-id="b1ae5-129">Pour optimiser vos fichiers image d’animation dans un fichier palette spécifique, vous pouvez utiliser un produit comme l’équilibre DeBabelizer.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-129">To optimize your animation image files to a specific palette file, you might want to use a product like Equilibrium DeBabelizer.</span></span>

### <a name="creating-a-new-animation"></a><span data-ttu-id="b1ae5-130">Création d’une animation</span><span class="sxs-lookup"><span data-stu-id="b1ae5-130">Creating a New Animation</span></span>

<span data-ttu-id="b1ae5-131">Après avoir déterminé les paramètres globaux de votre animation, vous pouvez commencer à créer des animations.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-131">After you have determined your global animation settings, you can begin creating animations.</span></span> <span data-ttu-id="b1ae5-132">Pour créer une animation, choisissez **nouvelle animation** dans le menu **Edition** ou le bouton **nouvelle animation** de la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-132">To create a new animation, choose **New Animation** from the **Edit** menu or the **New Animation** button on the toolbar.</span></span> <span data-ttu-id="b1ae5-133">Cela ajoute une nouvelle icône d’animation dans l’arborescence sous l’icône **animations** et attribue un nom par défaut à la nouvelle icône.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-133">This adds a new animation icon in the tree under the **Animations** icon and assigns the new icon a default name.</span></span> <span data-ttu-id="b1ae5-134">Vous pouvez renommer votre animation en tapant dans le champ nom de l' **animation** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-134">You can rename your animation by typing in the **Animation Name** field.</span></span> <span data-ttu-id="b1ae5-135">Notez que les noms d’animation dans une définition de caractère doivent être uniques.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-135">Note that animation names within a character definition must be unique.</span></span> <span data-ttu-id="b1ae5-136">Par ailleurs, évitez d’utiliser des caractères dans le nom qui ne sont pas des caractères valides pour les noms de fichiers.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-136">Also, avoid using characters in the name that are not valid characters for file names.</span></span>

### <a name="adding-frames"></a><span data-ttu-id="b1ae5-137">Ajouter des frames</span><span class="sxs-lookup"><span data-stu-id="b1ae5-137">Adding Frames</span></span>

<span data-ttu-id="b1ae5-138">Chaque animation est composée de frames.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-138">Every animation is composed of frames.</span></span> <span data-ttu-id="b1ae5-139">Pour créer un nouveau Frame pour votre animation, choisissez **nouveau Frame** dans le menu **Edition** ou dans la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-139">To create a new frame for your animation, choose **New Frame** from either the **Edit** menu or the toolbar.</span></span> <span data-ttu-id="b1ae5-140">Cela ajoute une nouvelle icône de frame à l’arborescence sous votre icône d’animation et affiche trois pages à onglets.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-140">This adds a new frame icon to the tree under your animation icon, and displays three tabbed pages.</span></span> <span data-ttu-id="b1ae5-141">La page **général** comprend des contrôles qui vous permettent de charger et d’ajuster une image pour votre cadre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-141">The **General** page includes controls that enable you to load and adjust an image for your frame.</span></span> <span data-ttu-id="b1ae5-142">Il comprend également une zone d’affichage pour l’apparence du cadre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-142">It also includes a display area for the frame's appearance.</span></span>

![Capture d’écran montrant le nom du fichier, le chemin d’accès et la position du volet image.](images/f2charflame.gif)

<span data-ttu-id="b1ae5-144">Un frame peut contenir une ou plusieurs images.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-144">A frame can contain one or more images.</span></span> <span data-ttu-id="b1ae5-145">Pour définir une image pour un cadre, cliquez sur le bouton **Ajouter un fichier image** juste au-dessus de la zone de liste **images** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-145">To define an image for a frame, click the **Add Image File** button just above the **Images** list box.</span></span> <span data-ttu-id="b1ae5-146">La boîte de dialogue **Sélectionner les fichiers image** s’affiche et vous permet de sélectionner un fichier image bitmap.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-146">The **Select Image Files** dialog box displays, which allows you to select a bitmap image file.</span></span>

![Capture d’écran montrant la sélection d’un fichier image dans l’Explorateur de fichiers.](images/f3chardialbox.gif)

<span data-ttu-id="b1ae5-148">Sélectionnez le fichier que vous souhaitez charger, choisissez **ouvrir**, et l’image s’affiche dans l’affichage du cadre sur la page **général** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-148">Select the file you want to load, choose **Open**, and the image appears in the frame display on the **General** page.</span></span> <span data-ttu-id="b1ae5-149">L’éditeur accepte les images stockées sous la forme d’un format bitmap 1 bit (monochrome), 4 bits ou 8 bits, ou au format GIF.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-149">The Editor accepts images stored as 1-bit (monochrome), 4-bit, or 8-bit Windows bitmap format, or as GIF format.</span></span>

<span data-ttu-id="b1ae5-150">Vous pouvez utiliser les quatre boutons fléchés sous l’image dans la zone **position** pour ajuster l’apparence de l’image dans le cadre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-150">You can use the four arrow buttons beneath the image in the **Position** box to adjust the image's appearance within the frame.</span></span> <span data-ttu-id="b1ae5-151">Si l’image est plus grande que la taille de votre cadre, seule la partie de l’image qui apparaît dans le frame s’affiche.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-151">If the image is larger than your frame's size, only the portion of the image that appears within the frame will display.</span></span> <span data-ttu-id="b1ae5-152">Si vous augmentez la taille du cadre, l’image peut être mise à l’échelle pour s’ajuster à la zone d’affichage de l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-152">If you increase the frame size, the image may be scaled to fit within the display area of the Editor.</span></span>

<span data-ttu-id="b1ae5-153">Vous pouvez également afficher un frame en choisissant **ouvrir la fenêtre frame** dans le menu **Edition** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-153">You can also display a frame by choosing **Open Frame Window** from the **Edit** menu.</span></span> <span data-ttu-id="b1ae5-154">Cela permet d’afficher le frame actuel dans une fenêtre distincte sans mettre à l’échelle les images chargées dans le frame.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-154">This displays the current frame in a separate window without scaling the images loaded into the frame.</span></span> <span data-ttu-id="b1ae5-155">La taille initiale de cette fenêtre est basée sur les paramètres de hauteur et de largeur de votre image.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-155">This window's initial size is based on your frame's height and width settings.</span></span> <span data-ttu-id="b1ae5-156">Vous pouvez le redimensionner plus petit, mais pas plus grand.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-156">You can resize it smaller, but not larger.</span></span> <span data-ttu-id="b1ae5-157">La fenêtre frame reflète les modifications que vous apportez à l’aide des contrôles dans l’éditeur et vous permet également d’afficher le frame lors de l’affichage de ses autres pages de propriétés.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-157">The Frame Window reflects the changes you make using the controls in the Editor and also allows you view the frame while viewing its other property pages.</span></span>

![Capture d’écran montrant le volet position.](images/f4charposctrl.gif)

<span data-ttu-id="b1ae5-159">Vous pouvez composer un frame à partir de plusieurs images.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-159">You can compose a frame from multiple images.</span></span> <span data-ttu-id="b1ae5-160">Chaque fois que vous sélectionnez le bouton **Ajouter une image** et que vous choisissez une autre image, l’image est ajoutée à la liste et à la zone d’affichage de l’image.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-160">Each time you select the **Add Image** button and choose another image, the image gets added to the list and to the image display area.</span></span> <span data-ttu-id="b1ae5-161">Vous pouvez également ajouter plusieurs images en sélectionnant plusieurs fichiers.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-161">You can also add multiple images by selecting more than one file.</span></span> <span data-ttu-id="b1ae5-162">Appuyez sur Maj ou CTRL tout en cliquant dans la boîte de dialogue **Sélectionner les fichiers image** , puis choisissez **ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-162">Press SHIFT or CTRL while you click in the **Select Image Files** dialog box, and then choose **Open**.</span></span> <span data-ttu-id="b1ae5-163">Les boutons **monter** et **descendre** au-dessus de la zone de liste **images** déplacent une image sélectionnée dans l’ordre d’affichage (ordre de plan) du cadre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-163">The **Move Up** and **Move Down** buttons above the **Images** list box move a selected image in the display order (z-order) for the frame.</span></span> <span data-ttu-id="b1ae5-164">Vous pouvez également déplacer des images en les faisant glisser dans la liste.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-164">You can also move images by dragging them within the list.</span></span> <span data-ttu-id="b1ae5-165">Si vous sélectionnez une image dans la liste et que vous cliquez sur le bouton **supprimer** , une image est supprimée.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-165">Selecting an image in the list and clicking the **Delete** button removes an image.</span></span> <span data-ttu-id="b1ae5-166">Pour modifier une image que vous avez chargée dans un autre fichier image, vous pouvez cliquer sur le nom de fichier pour le modifier directement ou utiliser le bouton **...** (points de suspension) pour afficher la boîte de dialogue **Sélectionner les fichiers image** et sélectionner un autre fichier.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-166">To change an image you have loaded to another image file, you can click the filename to edit it directly or use the **...** (ellipsis) button to bring up the **Select Image Files** dialog box and select a different file.</span></span>

![Capture d’écran montrant le bouton de sélection.](images/f5charell.gif)

<span data-ttu-id="b1ae5-168">Vous pouvez utiliser la zone de texte **durée** pour définir la durée du cadre ; autrement dit, la durée pendant laquelle le frame sera affiché.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-168">You can use the **Duration** text box to set the duration for the frame; that is, how long the frame will be displayed.</span></span> <span data-ttu-id="b1ae5-169">Si un frame n’a pas d’image et de durée nulle, le frame n’est pas affiché lors de la lecture de l’animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-169">If a frame has no image and zero duration, the frame will not be displayed when the animation plays.</span></span>

<span data-ttu-id="b1ae5-170">Vous pouvez également spécifier un fichier d’effet sonore à lire lorsque le frame est affiché.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-170">You can also specify a sound effect file to play when the frame is displayed.</span></span> <span data-ttu-id="b1ae5-171">Si vous envisagez de charger le caractère à partir d’un serveur Web, vous souhaiterez peut-être compresser le fichier d’effet sonore pour réduire le temps de chargement.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-171">If you plan to load the character from a web server, you may want to compress the sound effect file to minimize load time.</span></span> <span data-ttu-id="b1ae5-172">Vous pouvez ensuite spécifier le fichier audio compressé dans l’éditeur de caractères de l’agent.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-172">You can then specify the compressed sound file in the Agent Character Editor.</span></span> <span data-ttu-id="b1ae5-173">En outre, évitez d’utiliser un effet sonore avec une durée plus longue que la durée de votre animation et, en particulier, d’éviter un effet sonore qui boucle, car les services d’animation Microsoft Agent n’envoient pas d’événement de fin d’animation tant que le son n’est pas terminé.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-173">In addition, avoid using a sound effect with a duration longer than the duration of your animation and especially avoid a sound effect that loops, because the Microsoft Agent animation services do not send an animation complete event until the sound completes.</span></span> <span data-ttu-id="b1ae5-174">Évitez également de spécifier un effet sonore pour les animations que vous attribuez aux États **écouteur** ou **audition** , car cela interfère avec les entrées vocales.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-174">Also avoid specifying a sound effect for any animation you assign to the **Listening** or **Hearing** states, because this interferes with speech input.</span></span> <span data-ttu-id="b1ae5-175">Enfin, bien que vous puissiez inclure plusieurs effets sonores dans une animation, évitez de les placer pour qu’ils se chevauchent, car cela peut affecter le minutage de l’animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-175">Finally, while you can include more than one sound effect in an animation, avoid placing them so they overlap, because this may affect the timing of the animation.</span></span> <span data-ttu-id="b1ae5-176">En outre, gardez à l’esprit que les effets sonores peuvent jouer à des taux différents en fonction du matériel de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-176">Also, keep in mind that sound effects may play at different rates based on the user's hardware.</span></span>

<span data-ttu-id="b1ae5-177">Pour ajouter des frames à votre animation, choisissez à nouveau la commande **nouveau Frame** et suivez la même procédure.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-177">To add frames to your animation, choose the **New Frame** command again and follow the same procedure.</span></span> <span data-ttu-id="b1ae5-178">En guise d’option, vous pouvez également charger plusieurs images et générer automatiquement de nouveaux frames pour eux.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-178">As an option, you can also load multiple images and automatically generate new frames for them.</span></span> <span data-ttu-id="b1ae5-179">Pour utiliser cette fonctionnalité, choisissez **nouveaux frames à partir d’images** dans le menu **Edition** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-179">To use this feature, choose **New Frames From Images** from the **Edit** menu.</span></span> <span data-ttu-id="b1ae5-180">Les frames sont créés dans l’ordre alphabétique en fonction des noms de fichiers d’image.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-180">The frames will be created in alphabetic order based on the image filenames.</span></span> <span data-ttu-id="b1ae5-181">Lorsque vous avez terminé de définir toutes les images pour votre animation, vous pouvez choisir la nouvelle commande d' **animation** pour commencer une nouvelle animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-181">When you are finished defining all frames for your animation, you can choose the **New Animation** command again to begin a new animation.</span></span>

<span data-ttu-id="b1ae5-182">Il existe d’autres façons d’ajouter des frames aux animations et de déplacer des frames dans ou entre les animations.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-182">There are other ways to add frames to animations and move frames within or between animations.</span></span> <span data-ttu-id="b1ae5-183">Vous pouvez sélectionner une autre image (de la même animation ou d’une autre) et choisir **couper** ou **copier**, puis sélectionner l’animation ou un cadre dans cette animation et choisir **coller**.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-183">You can select another frame (from the same or another animation) and choose **Cut** or **Copy**, then select the animation or a frame in that animation and choose **Paste**.</span></span> <span data-ttu-id="b1ae5-184">Vous pouvez également faire glisser un cadre d’une animation à une autre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-184">You can also drag a frame from one animation to another.</span></span> <span data-ttu-id="b1ae5-185">Si vous faites glisser dans une animation, l’action déplace le cadre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-185">If you drag within an animation, the action moves the frame.</span></span> <span data-ttu-id="b1ae5-186">Si vous faites glisser vers une autre animation, elle copie le cadre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-186">If you drag to another animation, it copies the frame.</span></span> <span data-ttu-id="b1ae5-187">Le fait de faire glisser vers un frame précédent dans la même animation insère le cadre avant le frame vers lequel vous faites glisser.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-187">Dragging to a preceding frame in the same animation inserts the frame before the frame to which you drag.</span></span> <span data-ttu-id="b1ae5-188">Le fait de faire glisser vers un frame suivant le place après le frame vers lequel vous faites glisser.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-188">Dragging to a following frame places it after the frame to which you drag.</span></span> <span data-ttu-id="b1ae5-189">Si vous faites glisser un frame à l’aide du bouton droit de la souris, le bouton relâcher affiche un menu contextuel avec vos options de transfert.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-189">If you drag a frame using the right mouse button, releasing the button displays a pop-up menu with your transfer choices.</span></span>

<span data-ttu-id="b1ae5-190">Vous pouvez également créer une animation en copiant une animation existante (sélectionnez l’animation et choisissez **copier**), puis en sélectionnant l’icône **animations** ou une autre icône d’animation et en choisissant **coller**.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-190">You can also create an animation by copying an existing animation (select the animation and choose **Copy**), and selecting the **Animations** icon or another animation icon and choosing **Paste**.</span></span> <span data-ttu-id="b1ae5-191">L’éditeur crée automatiquement un nouveau nom pour l’animation, même si vous pouvez modifier le nom.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-191">The Editor automatically creates a new name for the animation, although you can change the name.</span></span>

### <a name="branching"></a><span data-ttu-id="b1ae5-192">Création de branche</span><span class="sxs-lookup"><span data-stu-id="b1ae5-192">Branching</span></span>

<span data-ttu-id="b1ae5-193">Lorsque vous créez un frame, vous pouvez également définir le cadre de la lecture suivante.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-193">When you create a frame, you can also define which frame plays next.</span></span> <span data-ttu-id="b1ae5-194">Par défaut, le frame suivant joué dans la séquence d’animation est toujours le frame suivant dans l’ordre de plan.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-194">By default, the next frame played in the animation sequence is always the next frame in the z-order.</span></span> <span data-ttu-id="b1ae5-195">Toutefois, en choisissant la page création d’une **branche** , vous pouvez définir la probabilité pour un maximum de trois autres frames que le serveur peut lire.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-195">However, by choosing the **Branching** page, you can set the probability for up to three other frames that the server may play.</span></span> <span data-ttu-id="b1ae5-196">Entrez le pourcentage de probabilité et le numéro de frame cible dans les champs appropriés.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-196">Enter the probability percentage and the target frame number in the appropriate fields.</span></span> <span data-ttu-id="b1ae5-197">Vous pouvez spécifier des branchements même pour les frames qui n’ont pas d’images et dont la durée est définie sur zéro.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-197">You can specify branching even for frames that don't have images and have their duration set to zero.</span></span> <span data-ttu-id="b1ae5-198">Cela vous permet de créer une branche sans afficher au préalable une image particulière.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-198">This enables you to branch without first displaying a particular image.</span></span>

![Capture d’écran montrant la page « branchement ».](images/f6charbranch.gif)

<span data-ttu-id="b1ae5-200">Vous pouvez utiliser la fonctionnalité de création de branche pour créer des animations qui s’exécuteront en boucle indéfiniment.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-200">You can use the branching feature to create animations that will loop indefinitely.</span></span> <span data-ttu-id="b1ae5-201">Toutefois, Notez que lorsqu’une animation de bouclage est lue, les autres animations de la file d’attente du caractère ne sont pas lues tant qu’un événement (par exemple, un utilisateur qui appuie sur la touche Push-to-débats ou l’application cliente appelant la méthode Stop) n’a pas [**cessé**](stop-method.md) l’animation en boucle.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-201">However, note that when a looping animation plays, other animations in the character's queue will not play until an event—such as a user pressing the push-to-talk key or the client application calling the [**Stop**](stop-method.md) method—halts the looping animation.</span></span> <span data-ttu-id="b1ae5-202">Par conséquent, examinez attentivement le contexte dans lequel l’animation sera utilisée avant de créer une animation de bouclage.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-202">Therefore, carefully consider the context in which the animation will be used before creating a looping animation.</span></span>

<span data-ttu-id="b1ae5-203">La page création de branche vous permet également de créer des branchements de sortie.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-203">The branching page also enables you to create Exit Branching.</span></span> <span data-ttu-id="b1ae5-204">Une branche de sortie est une branche vers un frame que l’animation prendra lorsque l’animation sera arrêtée et avant la lecture de l’animation suivante.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-204">An exit branch is a branch to a frame that the animation will take when the animation is stopped and before the next animation is played.</span></span> <span data-ttu-id="b1ae5-205">La définition des branches de sortie vous permet de vous déplacer sans heurts au cours de la transition d’une animation à une autre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-205">Defining exit branches will enable you to move smoothly during the transition from one animation to another.</span></span> <span data-ttu-id="b1ae5-206">Votre branchement de sortie ne doit pas créer de boucle circulaire, mais doit être en mesure de quitter la dernière image de l’animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-206">Your exit branching must not create a circular loop, but must eventually be able to exit to the last frame of the animation.</span></span>

<span data-ttu-id="b1ae5-207">Vous n’avez pas besoin de fournir une branche de sortie pour chaque frame. Toutefois, si vous ne le faites pas, l’animation suivra la branche normale du frame.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-207">You do not have to provide an exit branch for each frame, however, if you don't, the animation will follow the frame's normal branching.</span></span> <span data-ttu-id="b1ae5-208">Si le frame n’a pas de branche explicite, l’animation effectue automatiquement une branche vers le frame qui le suit.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-208">If the frame has no explicit branch, then the animation automatically branches to the frame that follows it.</span></span> <span data-ttu-id="b1ae5-209">Par exemple, si vous branchez de l’image 3 à l’image 1 et que l’image 1 n’a pas d’autre branchement (branche normale ou de sortie), le frame 1 se branche au frame 2.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-209">For example, if you branch from frame 3 to frame 1 and frame 1 has no other branching (normal or exit branch), frame 1 will branch to frame 2.</span></span> <span data-ttu-id="b1ae5-210">Si le frame 2 n’a pas de branchement, l’animation rebranche au frame 3 et vous avez une boucle circulaire.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-210">If frame 2 has no branching, the animation will branch back to frame 3 and you have a circular loop.</span></span> <span data-ttu-id="b1ae5-211">Au lieu de cela, vous pouvez créer une branche du frame 3 à l’image 1, puis définir la branche de sortie de l’image 1 sur n’importe quelle image qui est après l’image 3 et qui passe normalement à la dernière image de l’animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-211">Instead, you could branch from frame 3 to frame 1 and then set frame 1's exit branch to any frame that is after frame 3 and normally proceeds to the last frame of the animation.</span></span>

<span data-ttu-id="b1ae5-212">Parfois, vous devrez peut-être créer une image finale explicite d’une animation qui n’est pas lue de façon visible, mais qui fournit une fin de l’animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-212">Sometimes you may need to create an explicit final frame of an animation that is not played visibly, but provides an end of the animation.</span></span> <span data-ttu-id="b1ae5-213">Par exemple, vous devez quitter l’animation, mais la sortie vers la dernière image n’est pas appropriée.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-213">For example, you need to exit the animation, but exiting to the last frame would not be appropriate.</span></span> <span data-ttu-id="b1ae5-214">Pour ce faire, vous pouvez créer un frame vide de durée zéro comme dernière image de l’animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-214">You can do this by creating a blank, zero duration frame as the last frame of the animation.</span></span> <span data-ttu-id="b1ae5-215">Cela permet à l’animation de s’exécuter normalement à travers la dernière image de l’animation et vous permet également de fournir un point de sortie final pour votre branche de sortie.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-215">This allows the animation to play normally through the last frame of the animation and also enables you to provide a final exit point for your exit branching.</span></span>

### <a name="previewing-an-animation"></a><span data-ttu-id="b1ae5-216">Aperçu d’une animation</span><span class="sxs-lookup"><span data-stu-id="b1ae5-216">Previewing an Animation</span></span>

<span data-ttu-id="b1ae5-217">Vous pouvez afficher un aperçu de votre animation dans l’éditeur de caractères de l’agent en choisissant la commande **Aperçu** dans le menu **Edition** ou le bouton Aperçu dans la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-217">You can preview your animation in the Agent Character Editor by choosing the **Preview** command on the **Edit** menu or the Preview button on the toolbar.</span></span> <span data-ttu-id="b1ae5-218">Cela lit votre animation, y compris les branches et les effets sonores, en commençant par le cadre actuellement sélectionné.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-218">This plays your animation, including any branches and sound effects, starting from the current selected frame.</span></span> <span data-ttu-id="b1ae5-219">Elle est rétablie dans le frame sélectionné actuel lorsque l’animation est terminée.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-219">It resets to the current selected frame when the animation completes.</span></span> <span data-ttu-id="b1ae5-220">Pour lire l’intégralité de votre animation, accédez à l’arborescence, sélectionnez l’icône ou la première image de l’animation, puis choisissez la commande **Aperçu** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-220">To play your entire animation, go to the tree view, select the animation's icon or first frame of the animation, and choose the **Preview** command.</span></span> <span data-ttu-id="b1ae5-221">L’éditeur anime vos frames sur la page **général** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-221">The Editor animates your frames on the **General** page.</span></span> <span data-ttu-id="b1ae5-222">Pour arrêter la version préliminaire avant qu’elle ne se termine, choisissez la commande **arrêter l’aperçu** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-222">To stop the preview before it ends, choose the **Stop Preview** command.</span></span> <span data-ttu-id="b1ae5-223">La commande **Aperçu** est automatiquement remplacée par l’option **arrêter** l’aperçu pendant la lecture de la version préliminaire.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-223">The **Preview** command automatically changes to **Stop Preview** while the preview plays.</span></span>

<span data-ttu-id="b1ae5-224">Vous pouvez également afficher un aperçu de votre branchement de sortie en choisissant la commande **Aperçu quitter la branche** dans le menu **Edition** ou dans la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-224">You can also preview your exit branching by choosing the **Preview Exit Branching** command on the **Edit** menu or on the toolbar.</span></span> <span data-ttu-id="b1ae5-225">Vous permet de tester la manière dont la branche de sortie s’affiche à partir de n’importe quel Frame spécifique.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-225">The enables you to test how the exit branching will appear from any specific frame.</span></span>

### <a name="assigning-speaking-overlays"></a><span data-ttu-id="b1ae5-226">Assigner des superpositions de parole</span><span class="sxs-lookup"><span data-stu-id="b1ae5-226">Assigning Speaking Overlays</span></span>

<span data-ttu-id="b1ae5-227">Vous pouvez définir un caractère afin qu’il intervient au cours de la dernière image de son animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-227">You can define a character so that it speaks during the last frame of its animation.</span></span> <span data-ttu-id="b1ae5-228">Sur ce cadre, choisissez la page **superposition** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-228">On this frame, choose the **Overlay** page.</span></span> <span data-ttu-id="b1ae5-229">Cette page vous permet de charger et d’affecter des fichiers d’image de bouche aux positions de bouche standard prises en charge par Microsoft Agent.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-229">This page enables you to load and assign mouth image files to the standard mouth positions supported by Microsoft Agent.</span></span> <span data-ttu-id="b1ae5-230">Cliquez sur le bouton **Ajouter une image** , puis sélectionnez l’image dans la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-230">Click the **Add Image** button and select the image from the dialog box.</span></span> <span data-ttu-id="b1ae5-231">Vous pouvez également sélectionner plusieurs images, et l’éditeur chargera et affectera les images à partir de la position de bouche que vous avez sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-231">You can also select multiple images, and the Editor will load and assign the images starting with the mouth position you selected.</span></span> <span data-ttu-id="b1ae5-232">Cliquez sur les boutons **monter** et **descendre** , ou faites glisser une entrée pour modifier l’affectation d’une image dans la liste.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-232">Click the **Move Up** and **Move Down** buttons or drag an entry to change an image assignment in the list.</span></span> <span data-ttu-id="b1ae5-233">Cliquez sur le bouton **supprimer** pour supprimer une image.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-233">Click the **Delete** button to remove an image.</span></span> <span data-ttu-id="b1ae5-234">Vous pouvez également modifier le nom du chemin d’accès d’un fichier affecté en cliquant sur son entrée dans la liste et en retapant son nom de fichier, ou en choisissant le bouton de **sélection** pour afficher la boîte de dialogue **Sélectionner les fichiers image** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-234">You can also edit the pathname of an assigned file by clicking its entry in the list and retyping its filename, or by choosing the **Ellipsis** button to display the **Select Image Files** dialog box.</span></span>

![Capture d’écran montrant la page « superpositions » avec un fichier sélectionné.](images/f7charover.gif)

<span data-ttu-id="b1ae5-236">Vos superpositions de bouche doivent tenir dans le contour du frame de base sur lequel elles s’affichent.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-236">Your mouth overlays must fit within the outline of the base frame over which they will appear.</span></span> <span data-ttu-id="b1ae5-237">Si ce n’est pas le cas, elles sont découpées dans le frame de base.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-237">If they do not, they will be clipped to the base frame.</span></span>

<span data-ttu-id="b1ae5-238">Si vous souhaitez que le caractère parle d’une bouche en dehors du frame de base, par exemple, lorsque le caractère doit parler d’un côté latéral, commencez par créer le frame de base avec l’en-tête du caractère (ou la zone à déplacer comme le caractère dit) comme image du haut.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-238">If you want to have the character speak with its mouth outside of the base frame--for instance, when the character is to speak facing sideways--first create the base frame with the character's head (or the area that will move as the character speaks) as its top image.</span></span> <span data-ttu-id="b1ae5-239">Ensuite, définissez vos superpositions de bouche pour remplacer cette image et définissez l’option **remplacer l’image de base du frame de base** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-239">Then, define your mouth overlays to replace that image and set the **Replace Base Frame Top Image** option.</span></span> <span data-ttu-id="b1ae5-240">Vous pouvez également utiliser le bouton **définir tout** pour définir cette option pour tous les superpositions de l’embouchure dans le cadre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-240">You can also use the **Set All** button to set this option for all your mouth overlays in the frame.</span></span>

### <a name="assigning-a-return-animation"></a><span data-ttu-id="b1ae5-241">Assignation d’une animation de retour</span><span class="sxs-lookup"><span data-stu-id="b1ae5-241">Assigning a Return Animation</span></span>

<span data-ttu-id="b1ae5-242">Pour créer une transition en douceur d’une animation à la suivante, concevez vos séquences d’animation de manière à ce qu’elles commencent et se terminent par une image neutre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-242">To create a smooth transition from one animation to the next, design your animation sequences to begin and end with a neutral image.</span></span> <span data-ttu-id="b1ae5-243">Pour plus d’informations, consultez [**conception de caractères pour Microsoft Agent**](designing-characters-for-microsoft-agent.md).</span><span class="sxs-lookup"><span data-stu-id="b1ae5-243">For more information, see [**Designing Characters for Microsoft Agent**](designing-characters-for-microsoft-agent.md).</span></span> <span data-ttu-id="b1ae5-244">Toutefois, cela ne signifie pas que chaque animation doit se terminer à la position neutre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-244">However, this does not mean that every animation must end at the neutral position.</span></span> <span data-ttu-id="b1ae5-245">Vous pouvez animer un caractère à travers une séquence de frames, le faire parler au cours de la dernière image et créer une animation distincte et complémentaire qui retourne le caractère à la position neutre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-245">You can animate a character through a sequence of frames, have it speak during the last frame, and create a separate, complementary animation that returns the character to the neutral position.</span></span> <span data-ttu-id="b1ae5-246">Cette animation complémentaire est appelée animation de retour.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-246">This complementary animation is called a Return animation.</span></span>

<span data-ttu-id="b1ae5-247">Vous pouvez définir une animation de retour en créant une animation explicite à cet effet.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-247">You can define a Return animation by creating an explicit animation for this purpose.</span></span> <span data-ttu-id="b1ae5-248">Vous pouvez également créer une animation de retour à l’aide de la branche de sortie que vous définissez dans l’animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-248">You can also create a Return animation using the exit branching you define within the animation.</span></span> <span data-ttu-id="b1ae5-249">Pour affecter une animation de retour, sélectionnez l’animation dans l’arborescence, puis sélectionnez l’animation de retour que vous avez créée ou utilisez quitter la création de branche dans la liste déroulante animation de retour de la page Propriétés.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-249">To assign a Return animation, select the animation in the tree, and select either the Return animation you created or Use Exit Branching from the Return Animation drop-down list on the Properties page.</span></span>

<span data-ttu-id="b1ae5-250">La création et l’affectation d’une animation de retour ont un avantage supplémentaire : lorsque le serveur reçoit une demande de lecture d’une autre animation, il tente de lire l’animation de retour pour la dernière animation qu’il a jouée, si une animation de retour est assignée.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-250">Creating and assigning a Return animation has an added benefit: When the server gets a request to play another animation, it will attempt to play the Return animation for the last animation it played, if a Return animation is assigned.</span></span> <span data-ttu-id="b1ae5-251">Cela garantit une transition sans heurts.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-251">This ensures a smooth transition.</span></span> <span data-ttu-id="b1ae5-252">Si une animation commence et se termine à la position neutre, vous n’avez pas besoin de définir une animation de retour.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-252">If an animation begins and ends at the neutral position, you don't need to define a Return animation.</span></span> <span data-ttu-id="b1ae5-253">De même, si vous envisagez de gérer des transitions d’une animation à une autre, vous n’aurez peut-être pas besoin d’assigner une animation de retour.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-253">Similarly, if you intend to handle transitions from one animation to another yourself, you may not need to assign a Return animation.</span></span>

### <a name="assigning-animations-to-states"></a><span data-ttu-id="b1ae5-254">Assigner des animations aux États</span><span class="sxs-lookup"><span data-stu-id="b1ae5-254">Assigning Animations to States</span></span>

<span data-ttu-id="b1ae5-255">Les services d’animation Microsoft Agent lisent automatiquement les animations lorsque l’application cliente d’hébergement utilise certaines méthodes.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-255">The Microsoft Agent animation services automatically play animations when the hosting client application uses certain methods.</span></span> <span data-ttu-id="b1ae5-256">Par exemple, lorsqu’une application appelle les méthodes [**MoveTo**](moveto-method.md) et [**GestureAt**](gestureat-method.md) , le serveur détermine automatiquement l’emplacement d’affichage du caractère et exécute une animation appropriée.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-256">For example, when an application calls the [**MoveTo**](moveto-method.md) and [**GestureAt**](gestureat-method.md) methods, the server automatically determines where the character is displayed and plays an appropriate animation.</span></span> <span data-ttu-id="b1ae5-257">De même, Microsoft Agent lit automatiquement les animations inactives lorsque l’utilisateur n’a pas interagi avec le caractère pendant plusieurs secondes.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-257">Similarly, Microsoft Agent automatically plays Idle animations when the user has not interacted with the character for several seconds.</span></span> <span data-ttu-id="b1ae5-258">Ces conditions, lorsque le serveur lit automatiquement les animations au nom d’une application, sont appelées *États*.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-258">These conditions, when the server automatically plays animations on an application's behalf, are called *states*.</span></span> <span data-ttu-id="b1ae5-259">Toutefois, pour que le serveur sache quelle animation lire, vous devez assigner des animations à ces États.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-259">However, for the server to know which animation to play, you must assign animations to these states.</span></span>

<span data-ttu-id="b1ae5-260">Pour assigner une animation ou des animations à un État, créez l’animation appropriée, développez l’entrée États dans l’arborescence de la fenêtre de l’éditeur, puis sélectionnez l’icône État.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-260">To assign an animation or animations to a state, create the appropriate animation, expand the States entry in the tree view of the Editor window, and select the State icon.</span></span> <span data-ttu-id="b1ae5-261">La liste des animations que vous avez créées s’affiche dans une zone de liste sur le côté droit de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-261">The list of animations you have created appear in a list box on the right side of the window.</span></span> <span data-ttu-id="b1ae5-262">Vérifiez l’animation que vous souhaitez affecter à cet État.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-262">Check the animation you want to assign to this state.</span></span> <span data-ttu-id="b1ae5-263">Notez que vous pouvez assigner plusieurs animations au même État.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-263">Note that you can assign more than one animation to the same state.</span></span> <span data-ttu-id="b1ae5-264">Cela permet au serveur de sélectionner de manière aléatoire différentes animations pour l’État.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-264">This allows the server to randomly select different animations for the state.</span></span> <span data-ttu-id="b1ae5-265">L’affectation d’une animation à un État n’empêche pas une animation de la diffuser directement.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-265">Assigning an animation to a state does not prevent an animation from playing that animation directly.</span></span>

<span data-ttu-id="b1ae5-266">Vous pouvez également affecter une animation à un État en sélectionnant l’entrée de l’animation dans l’arborescence.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-266">You can also assign an animation to a state by selecting the animation's entry in the tree.</span></span> <span data-ttu-id="b1ae5-267">La zone de liste **attribuer à l’État** de la page **Propriétés** répertorie les États.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-267">The **Assign To State** list box on the **Properties** page lists the states.</span></span> <span data-ttu-id="b1ae5-268">Activez la case à cocher de l’État auquel vous affectez l’animation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-268">Select the check box of the state to which you're assigning the animation.</span></span>

<span data-ttu-id="b1ae5-269">L’éditeur ne prend pas en charge la création d’États supplémentaires, car les États s’appliquent uniquement aux situations où le serveur doit lire une animation automatiquement pour le compte de l’application cliente.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-269">The Editor does not support creating additional states because states only apply to situations where the server must play an animation automatically on behalf of the client application.</span></span> <span data-ttu-id="b1ae5-270">Ainsi, il n’y a aucun avantage à définir votre propre État.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-270">Thus, there is no benefit in defining your own state.</span></span> <span data-ttu-id="b1ae5-271">Si nécessaire, vous pouvez lire n’importe quelle animation explicitement à l’aide de la méthode [**Play**](play-method.md) .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-271">If need be, you can play any animation explicitly using the [**Play**](play-method.md) method.</span></span>

### <a name="saving-your-character-definition"></a><span data-ttu-id="b1ae5-272">Enregistrement de votre définition de caractère</span><span class="sxs-lookup"><span data-stu-id="b1ae5-272">Saving Your Character Definition</span></span>

<span data-ttu-id="b1ae5-273">Vous pouvez enregistrer le fichier de définition de votre caractère en choisissant la commande **Enregistrer** dans le menu **fichier** ou le bouton **enregistrer la définition de caractère** dans la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-273">You can save your character's definition file by choosing the **Save** command on the **File** menu or the **Save Character Definition** button on the toolbar.</span></span> <span data-ttu-id="b1ae5-274">Si vous souhaitez enregistrer le fichier de définition de caractères sous un nouveau nom, choisissez la commande **Enregistrer sous** dans le menu **fichier** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-274">If you want to save the character definition file with a new name, choose the **Save As** command on the **File** menu.</span></span> <span data-ttu-id="b1ae5-275">L’éditeur enregistre la définition modifiable d’un caractère en tant que définition de caractère d’agent (. ACD).</span><span class="sxs-lookup"><span data-stu-id="b1ae5-275">The Editor saves a character's editable definition as an Agent Character Definition (.ACD) file.</span></span> <span data-ttu-id="b1ae5-276">Vous pouvez également modifier ce format de fichier texte auto-documenté avec la plupart des éditeurs de texte et des applications de traitement de texte.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-276">You can also edit this self-documenting text file format with most text editors and word processing applications.</span></span>

### <a name="printing-your-character-definition"></a><span data-ttu-id="b1ae5-277">Impression de la définition de caractère</span><span class="sxs-lookup"><span data-stu-id="b1ae5-277">Printing Your Character Definition</span></span>

<span data-ttu-id="b1ae5-278">Pour imprimer la définition de votre caractère, choisissez la commande **Imprimer** dans le menu **fichier** ou le bouton **Imprimer** dans la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-278">To print your character's definition, choose the **Print** command on the **File** menu or the **Print** button on the toolbar.</span></span> <span data-ttu-id="b1ae5-279">Pour définir les propriétés de la sortie imprimée, choisissez la commande **mise en page** et choisissez vos paramètres avant de sélectionner la commande **Imprimer** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-279">To set the properties for your printed output, choose the **Page Setup** command and choose your settings before selecting the **Print** command.</span></span>

### <a name="building-a-character"></a><span data-ttu-id="b1ae5-280">Génération d’un caractère</span><span class="sxs-lookup"><span data-stu-id="b1ae5-280">Building a Character</span></span>

<span data-ttu-id="b1ae5-281">Lorsque vous avez terminé de créer vos animations, le caractère et les images doivent être compilés dans un format spécial utilisé par Microsoft Agent pour charger ces données.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-281">When you are done creating your animations, the character and images must be compiled into a special format that Microsoft Agent uses to load this data.</span></span> <span data-ttu-id="b1ae5-282">Pour générer un caractère, sélectionnez la commande générer un caractère dans le menu **fichier** ou dans la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-282">To build a character, select the Build Character command on the **File** menu or from the toolbar.</span></span> <span data-ttu-id="b1ae5-283">Si vous avez des modifications non enregistrées dans votre fichier de définition de caractères, l’éditeur enregistre le fichier de définition avant d’afficher la boîte de dialogue **créer un caractère** .</span><span class="sxs-lookup"><span data-stu-id="b1ae5-283">If you have unsaved edits in your character definition file, the Editor saves the definition file before displaying the **Build Character** dialog box.</span></span>

![Capture d’écran montrant la fenêtre caractère de génération avec un fichier sélectionné.](images/f8charbldg.gif)

<span data-ttu-id="b1ae5-285">L’éditeur de caractères de l’agent propose automatiquement un nom de fichier en fonction de votre nom de fichier de définition de caractères.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-285">The Agent Character Editor will automatically propose a filename based on your character definition filename.</span></span> <span data-ttu-id="b1ae5-286">La boîte de dialogue caractère de build comprend également une liste déroulante qui vous permet de choisir entre la génération du caractère comme un fichier de stockage unique (. ACS) ou en tant que fichiers multiples.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-286">The Build Character dialog box also includes a drop-down list so you can choose between building the character as a single storage file (.ACS) or as multiple files.</span></span> <span data-ttu-id="b1ae5-287">Si vous choisissez ce dernier, l’éditeur génère un. Fichier ACF qui comprend les données du caractère et un. Fichier de CCN pour chaque animation que vous avez créée.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-287">If you choose the latter, the Editor builds an .ACF file that includes character's data and an .ACA file for each animation you created.</span></span> <span data-ttu-id="b1ae5-288">Si vous envisagez d’installer et d’accéder à un caractère stocké sur le même ordinateur que votre application cliente, vous devez généralement choisir le format de fichier structuré unique.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-288">If you plan to install and access a character stored on the same computer as your client application, you would typically choose the single structured file format.</span></span> <span data-ttu-id="b1ae5-289">Ce format offre une installation facile et efficace, ainsi qu’un accès au caractère.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-289">This format provides easy and efficient installation and access to the character.</span></span> <span data-ttu-id="b1ae5-290">Toutefois, si le caractère est accessible à partir d’un serveur Web à l’aide du protocole HTTP, générez votre caractère à l’aide de. Format de fichier ACF (individuel).</span><span class="sxs-lookup"><span data-stu-id="b1ae5-290">However, if the character will be accessed from a web server using the HTTP protocol, build your character using the .ACF (individual) file format.</span></span> <span data-ttu-id="b1ae5-291">Cette dernière structure de fichiers permet à un script de page Web de charger des fichiers d’animation individuels, en stockant les données dans le cache des fichiers du navigateur de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-291">This latter file structure allows a webpage script to load individual animation files, storing the data in the user's browser file cache.</span></span> <span data-ttu-id="b1ae5-292">Il fournit un accès plus efficace sur le Web, car les données d’animation peuvent être téléchargées en fonction des besoins plutôt que de demander à l’utilisateur d’attendre le téléchargement de l’ensemble des animations à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-292">It provides more efficient access over the Web because animation data can be downloaded as needed rather than requiring the user to wait for the entire set of animations to download at one time.</span></span> <span data-ttu-id="b1ae5-293">En outre, étant donné que les données du caractère sont stockées dans le cache du navigateur, l’espace de fichier peut être récupéré automatiquement.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-293">In addition, because the character's data is stored in the browser cache, the file space can be automatically reclaimed.</span></span>

<span data-ttu-id="b1ae5-294">Bien que vous puissiez également télécharger des données de caractères (comme un seul fichier structuré ou plusieurs fichiers) à partir d’un serveur Web et les installer ailleurs sur l’ordinateur d’un utilisateur, une telle méthode nécessite des dispositions de sécurité pour le téléchargement et l’installation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-294">Although you can also download character data (either as a single structured file or multiple files) from a web server and install elsewhere on a user's machine, such a method requires security provisions for downloading and installation.</span></span> <span data-ttu-id="b1ae5-295">Par conséquent, l’API de l’agent Microsoft n’inclut pas la prise en charge de l’installation téléchargeable d’un caractère, sauf dans le cache du navigateur.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-295">As a result, the Microsoft Agent API does not include support for downloadable installation of a character except to the browser's cache.</span></span> <span data-ttu-id="b1ae5-296">Toutefois, vous pouvez toujours prendre en charge ce scénario en créant votre propre contrôle d’installation et en le distribuant selon les conventions de sécurité appropriées.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-296">However, you can still support this scenario by creating your own installation control and distribute it following appropriate security conventions.</span></span> <span data-ttu-id="b1ae5-297">Pour plus d’informations, consultez le kit de développement logiciel (SDK) Microsoft Internet client.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-297">For more information, see the Microsoft Internet Client Software Development Kit.</span></span>

<span data-ttu-id="b1ae5-298">L’option compresser vous permet de définir si les données caractères sont compressées.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-298">The Compress option enables you to set whether the character data is compressed.</span></span> <span data-ttu-id="b1ae5-299">En règle générale, vous pouvez définir cette option pour compacter vos données de caractères, bien que la génération d’un caractère avec les données compactées prenne plus de temps.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-299">Typically, you will want to set this option to compact your character data, although building a character with the compacted data takes longer.</span></span>

<span data-ttu-id="b1ae5-300">Une fois que vous avez généré un caractère, les builds suivantes sont plus rapides si vous générez le caractère dans le même emplacement de répertoire.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-300">Once you build a character, subsequent builds will be faster if you build the character to the same directory location.</span></span> <span data-ttu-id="b1ae5-301">L’éditeur de caractères vérifie et copie automatiquement les fichiers qui n’ont pas été modifiés, puis RECOMPILE toutes les données qui ont été modifiées.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-301">The Character Editor automatically verifies and copies those files that have not changed, and recompiles any data that has been edited.</span></span>

<span data-ttu-id="b1ae5-302">Si l’éditeur détecte des erreurs dans le fichier de caractères lors de la génération du caractère, il écrit les informations dans un fichier journal et affiche une boîte de message.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-302">If the Editor detects any errors in the character file while building the character, it writes the information out to a log file and displays a message box.</span></span> <span data-ttu-id="b1ae5-303">Vous pouvez choisir d’afficher le fichier journal ou de l’ignorer et de le lire ultérieurement à l’aide d’un éditeur de texte.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-303">You can choose to view the log file or ignore it and read it later with a text editor.</span></span> <span data-ttu-id="b1ae5-304">Toutefois, Notez que l’éditeur remplacera le fichier journal lors de la prochaine génération d’un fichier de caractères.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-304">However, note that the Editor will overwrite the log file the next time you build a character file.</span></span>

### <a name="editing-an-existing-character"></a><span data-ttu-id="b1ae5-305">Modification d’un caractère existant</span><span class="sxs-lookup"><span data-stu-id="b1ae5-305">Editing an Existing Character</span></span>

<span data-ttu-id="b1ae5-306">Pour modifier un caractère existant, choisissez **ouvrir** dans le menu **fichier** , sélectionnez le fichier de définition du caractère (. ACD) dans la boîte de dialogue résultante, puis choisissez Ouvrir.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-306">To edit an existing character, choose **Open** on the **File** menu, select the character's definition file (.ACD) in the resulting dialog box, and choose Open.</span></span> <span data-ttu-id="b1ae5-307">Le fichier est chargé dans l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-307">The file will load into the Editor.</span></span> <span data-ttu-id="b1ae5-308">Notez que vous ne pouvez pas charger les fichiers de caractères compilés (. ACS,. ACF, ou. CCN) avec l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-308">Note that you cannot load compiled character files (.ACS, .ACF, or .ACA) with the Editor.</span></span>

<span data-ttu-id="b1ae5-309">Étant donné que le fichier de définition du caractère (. ACD) est un fichier texte, vous pouvez également modifier la définition d’un caractère en ouvrant le fichier avec un éditeur de texte ou un programme de traitement de texte.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-309">Because the character's definition file (.ACD) is a text file, you can also edit a character's definition by opening the file with a text editor or word processing program.</span></span> <span data-ttu-id="b1ae5-310">Toutefois, lorsque vous effectuez vos modifications, veillez à enregistrer le fichier dans son format d’origine avant de le charger dans l’éditeur de caractères pour la compilation.</span><span class="sxs-lookup"><span data-stu-id="b1ae5-310">However, when completing your changes, make sure to save the file in its original format before loading it into the character editor for compilation.</span></span>

 

 




