---
title: Séquence d’appel de l’API de méthode homologue
description: En savoir plus sur la séquence d’appels d’API de méthode homologue. Consultez une liste qui illustre la séquence des appels effectués par une EAPHost sur une méthode d’homologue EAP.
ms.assetid: aac69e89-249d-4bc8-baef-1f0681f9f7ae
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0ac9be0f6de228fd5b1ebf2d2c28320baf76e914
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "104102353"
---
# <a name="peer-method-api-call-sequence"></a><span data-ttu-id="fa20e-104">Séquence d’appel de l’API de méthode homologue</span><span class="sxs-lookup"><span data-stu-id="fa20e-104">Peer Method API Call Sequence</span></span>

<span data-ttu-id="fa20e-105">Cette rubrique fournit la séquence d’appel spécifique pour l’API de méthode homologue.</span><span class="sxs-lookup"><span data-stu-id="fa20e-105">This topic provides the specific call sequence for the peer method API.</span></span> <span data-ttu-id="fa20e-106">Lors d’une session d’authentification EAP classique, EAPHost effectue un certain nombre d’appels sur les méthodes EAP pour implémenter l’API de méthode homologue EAPHost.</span><span class="sxs-lookup"><span data-stu-id="fa20e-106">During a typical EAP authentication session EAPHost makes a number of calls on EAP methods to implement the EAPHost peer method API.</span></span>

<span data-ttu-id="fa20e-107">La liste suivante illustre la séquence d’appels effectuée par EAPHost sur une méthode d’homologue EAP.</span><span class="sxs-lookup"><span data-stu-id="fa20e-107">The following list demonstrates the sequence of calls made by EAPHost on an EAP peer method.</span></span>

-   <span data-ttu-id="fa20e-108">Charge la DLL de méthode homologue EAP utilisée pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="fa20e-108">Loads the EAP peer method DLL used for the authentication.</span></span>
-   <span data-ttu-id="fa20e-109">Appelle [**EapPeerGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) sur la méthode pour obtenir une liste de pointeurs vers des fonctions implémentées sur la dll.</span><span class="sxs-lookup"><span data-stu-id="fa20e-109">Calls [**EapPeerGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) on the method to obtain a list of pointers to functions implemented on the DLL.</span></span> <span data-ttu-id="fa20e-110">Les appels de fonction suivants par l’homologue EAPHost (client) sont supposés être implémentés sur la DLL.</span><span class="sxs-lookup"><span data-stu-id="fa20e-110">Subsequent function calls by the EAPHost peer (client) are assumed to be implemented on the DLL.</span></span>
-   <span data-ttu-id="fa20e-111">Appelle [**EapPeerInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) pour indiquer à la bibliothèque de méthodes EAP de préparer au moins une session d’authentification à l’aide de cette méthode homologue.</span><span class="sxs-lookup"><span data-stu-id="fa20e-111">Calls [**EapPeerInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) to instruct the EAP Method Library to prepare for at least one authentication session using this peer method.</span></span>
-   <span data-ttu-id="fa20e-112">Appelle [**EapPeerBeginSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerbeginsession) pour établir une session d’authentification unique.</span><span class="sxs-lookup"><span data-stu-id="fa20e-112">Calls [**EapPeerBeginSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerbeginsession) to establish a unique authentication session.</span></span>
-   <span data-ttu-id="fa20e-113">Appelle [**EapPeerGetIdentity**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetidentity) pour obtenir l’identité à utiliser pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="fa20e-113">Calls [**EapPeerGetIdentity**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetidentity) to obtain the identity to use for authentication.</span></span> <span data-ttu-id="fa20e-114">Si l’identité n’est pas disponible, ou si l’utilisateur doit fournir des informations supplémentaires, EAPHost appelle [ **EapPeerGetUIContext.**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetuicontext)</span><span class="sxs-lookup"><span data-stu-id="fa20e-114">If the identity is not available, or if the user must provide additional information, EAPHost calls [**EapPeerGetUIContext.**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetuicontext)</span></span> <span data-ttu-id="fa20e-115">Cette fonction obtient les informations de contexte pour la boîte de dialogue de l’interface utilisateur qui sera déclenchée sur le demandeur.</span><span class="sxs-lookup"><span data-stu-id="fa20e-115">This function obtains the context information for the user interface dialog box that will be raised on the supplicant.</span></span> <span data-ttu-id="fa20e-116">Une fois que l’utilisateur a envoyé les informations d’identité, l’identité de l’utilisateur est définie avec un appel à [**EapPeerSetUIContext**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetuicontext)et est obtenue par un appel à **EapPeerGetIdentity**.</span><span class="sxs-lookup"><span data-stu-id="fa20e-116">After the user has submitted the identity information, the user identity is set with a call to [**EapPeerSetUIContext**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetuicontext), and obtained by a call to **EapPeerGetIdentity**.</span></span>
-   <span data-ttu-id="fa20e-117">Répète les étapes suivantes jusqu’à ce que [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) indique qu’un résultat d’authentification est disponible.</span><span class="sxs-lookup"><span data-stu-id="fa20e-117">Repeats the following steps until [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) indicates that an authentication result is available.</span></span>
    -   <span data-ttu-id="fa20e-118">Appelle [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) avec le pointeur d’un paquet de demande à passer au demandeur.</span><span class="sxs-lookup"><span data-stu-id="fa20e-118">Calls [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) with the pointer of a request packet to pass to the supplicant.</span></span>
    -   <span data-ttu-id="fa20e-119">Appelle **EapPeerGetResponsePacket** pour récupérer le paquet de réponse à envoyer à l’authentificateur.</span><span class="sxs-lookup"><span data-stu-id="fa20e-119">Calls **EapPeerGetResponsePacket** to retrieve the response packet to send to the authenticator.</span></span>
    -   <span data-ttu-id="fa20e-120">Si vous le souhaitez, si les attributs EAP doivent être récupérés ou envoyés au cours de la session d’authentification, EAPHost appelle [**EapPeerGetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresponseattributes) et [**EapPeerSetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetresponseattributes) respectivement.</span><span class="sxs-lookup"><span data-stu-id="fa20e-120">Optionally, if EAP attributes need to be retrieved or sent during the authentication session, EAPHost calls [**EapPeerGetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresponseattributes) and [**EapPeerSetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetresponseattributes) respectively.</span></span>
-   <span data-ttu-id="fa20e-121">Lorsque l’authentificateur envoie un code d’action qui indique que l’authentification est terminée, EAPHost appelle [**EapPeerGetResult**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresult) et obtient les résultats de l’authentification.</span><span class="sxs-lookup"><span data-stu-id="fa20e-121">When the authenticator sends an action code that indicates authentication is complete, EAPHost calls [**EapPeerGetResult**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresult) and obtains the results of the authentication.</span></span>
-   <span data-ttu-id="fa20e-122">Appelle [**EapPeerEndSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerendsession) pour mettre fin à la session d’authentification.</span><span class="sxs-lookup"><span data-stu-id="fa20e-122">Calls [**EapPeerEndSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerendsession) to end the authentication session.</span></span>
-   <span data-ttu-id="fa20e-123">Appelle [**EapPeerShutdown**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeershutdown) pour décharger la dll de méthode homologue.</span><span class="sxs-lookup"><span data-stu-id="fa20e-123">Calls [**EapPeerShutdown**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeershutdown) to unload the peer method DLL.</span></span>
-   <span data-ttu-id="fa20e-124">Décharge la bibliothèque de méthodes EAP.</span><span class="sxs-lookup"><span data-stu-id="fa20e-124">Unloads the EAP Method Library.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fa20e-125">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="fa20e-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fa20e-126">Séquence d’appel de l’API Supplier</span><span class="sxs-lookup"><span data-stu-id="fa20e-126">Supplicant API Call Sequence</span></span>](supplicant-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="fa20e-127">Séquence d’appel de l’API de méthode d’authentificateur</span><span class="sxs-lookup"><span data-stu-id="fa20e-127">Authenticator Method API Call Sequence</span></span>](authenticator-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="fa20e-128">Séquences d’appels EAPHost</span><span class="sxs-lookup"><span data-stu-id="fa20e-128">EAPHost Call Sequences</span></span>](about-eaphost-call-sequences.md)
</dt> </dl>

 

 




