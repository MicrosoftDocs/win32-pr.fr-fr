---
title: Séquence d’appel de l’API de méthode d’authentificateur
description: En savoir plus sur la séquence d’appels d’API de méthode d’authentificateur. Consultez une liste qui illustre la séquence des appels effectués par une EAPHost sur une méthode d’authentificateur EAP.
ms.assetid: 4756300c-5e49-44e8-ab49-1993d780d2a3
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3bb5c7d64bfe6e38ebb97550dc76fe8ffcae8176
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "104382868"
---
# <a name="authenticator-method-api-call-sequence"></a><span data-ttu-id="19650-104">Séquence d’appel de l’API de méthode d’authentificateur</span><span class="sxs-lookup"><span data-stu-id="19650-104">Authenticator Method API Call Sequence</span></span>

<span data-ttu-id="19650-105">Cette rubrique fournit la séquence d’appel spécifique pour l’API de méthode d’authentificateur.</span><span class="sxs-lookup"><span data-stu-id="19650-105">This topic provides the specific call sequence for the authenticator method API.</span></span> <span data-ttu-id="19650-106">Lors d’une session d’authentification EAP classique, EAPHost effectue un certain nombre d’appels sur une méthode EAP qui implémente les API de méthode d’authentificateur EAPHost.</span><span class="sxs-lookup"><span data-stu-id="19650-106">During a typical EAP authentication session EAPHost makes a number of calls on an EAP method that implement the EAPHost authenticator method APIs.</span></span>

<span data-ttu-id="19650-107">La liste suivante illustre la séquence d’appels effectuée par EAPHost sur une méthode d’authentificateur EAP.</span><span class="sxs-lookup"><span data-stu-id="19650-107">The following list demonstrates the sequence of calls made by EAPHost on an EAP authenticator method.</span></span>

-   <span data-ttu-id="19650-108">L’authentificateur EAP charge d’abord la DLL de méthode EAP utilisée pour l’authentification spécifique sur un serveur NPS (Network Policy Server) ou un autre serveur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="19650-108">The EAP authenticator first loads the EAP method DLL used for the specific authentication on a network policy server (NPS) or other authentication server.</span></span>
-   <span data-ttu-id="19650-109">Appelle [**EapAuthenticatorGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) sur la méthode avec une structure [**de \_ type EAP**](/windows/desktop/api/eaptypes/ns-eaptypes-eap_type) remplie pour obtenir une liste de pointeurs vers des fonctions implémentées sur la dll.</span><span class="sxs-lookup"><span data-stu-id="19650-109">Calls [**EapAuthenticatorGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) on the method with a populated [**EAP\_TYPE**](/windows/desktop/api/eaptypes/ns-eaptypes-eap_type) structure to obtain a list of pointers to functions implemented on the DLL.</span></span> <span data-ttu-id="19650-110">Les appels de fonction suivants par les méthodes d’authentificateur (serveur) sont supposés être implémentés sur la DLL.</span><span class="sxs-lookup"><span data-stu-id="19650-110">Subsequent function calls by the authenticator methods (server) are assumed to be implemented on the DLL.</span></span>
-   <span data-ttu-id="19650-111">Appelle [**EapAuthenticatorInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) pour indiquer à la bibliothèque de méthodes EAP de préparer au moins une session d’authentification à l’aide de cette méthode de l’authentificateur.</span><span class="sxs-lookup"><span data-stu-id="19650-111">Calls [**EapAuthenticatorInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) to instruct the EAP method library to prepare for at least one authentication session using this authenticator method.</span></span>
-   <span data-ttu-id="19650-112">Appelle [**EapMethodAuthenticatorBeginSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorbeginsession) pour établir une session d’authentification unique.</span><span class="sxs-lookup"><span data-stu-id="19650-112">Calls [**EapMethodAuthenticatorBeginSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorbeginsession) to establish a unique authentication session.</span></span>
-   <span data-ttu-id="19650-113">Répète les étapes suivantes jusqu’à ce que [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) indique qu’un résultat d’authentification est disponible.</span><span class="sxs-lookup"><span data-stu-id="19650-113">Repeats the following steps until [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) indicates that an authentication result is available.</span></span>
    -   <span data-ttu-id="19650-114">Appelle [**EapMethodAuthenticatorSendPacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsendpacket) avec un pointeur vers un paquet de demande à passer au demandeur.</span><span class="sxs-lookup"><span data-stu-id="19650-114">Calls [**EapMethodAuthenticatorSendPacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsendpacket) with a pointer to a request packet to pass to the supplicant.</span></span>
    -   <span data-ttu-id="19650-115">Appelle [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) pour récupérer le paquet de réponse envoyé par le demandeur.</span><span class="sxs-lookup"><span data-stu-id="19650-115">Calls [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) to retrieve the response packet sent by the supplicant.</span></span> <span data-ttu-id="19650-116">Cette fonction retourne un code d’action de réponse de l' **\_ authentificateur de méthode \_ \_ \_ EAP** qui indique la prochaine action que l’authentificateur doit effectuer dans la session d’authentification EAP.</span><span class="sxs-lookup"><span data-stu-id="19650-116">This function returns a **EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_ACTION** code that indicates the next action the authenticator must take in the EAP authentication session.</span></span>
    -   <span data-ttu-id="19650-117">Si le code d’action est réponse à l' [ \_ authentificateur de méthode \_ \_ \_ EAP](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), il indique que la méthode EAP a des attributs disponibles pour que l’authentificateur récupère et passe à la méthode homologue.</span><span class="sxs-lookup"><span data-stu-id="19650-117">If the action code is [EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_RESPOND](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), it indicates that the EAP method has attributes available for the authenticator to retrieve and pass to the peer method.</span></span> <span data-ttu-id="19650-118">L’authentificateur appelle [**EapMethodAuthenticatorGetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetattributes) pour obtenir les différents attributs d’authentification EAP à partir de la méthode de l’authentificateur EAP.</span><span class="sxs-lookup"><span data-stu-id="19650-118">Authenticator calls [**EapMethodAuthenticatorGetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetattributes) to obtain the various EAP authentication attributes from the EAP authenticator method.</span></span> <span data-ttu-id="19650-119">Une fois que l’authentificateur a traité les attributs, il appelle [**EapMethodAuthenticatorSetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsetattributes) , qui fournit les attributs d’authentification EAP mis à jour à définir sur la méthode de l’authentificateur EAP.</span><span class="sxs-lookup"><span data-stu-id="19650-119">After the authenticator processes the attributes it calls [**EapMethodAuthenticatorSetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsetattributes) which provides updated EAP authentication attributes to set on the EAP authenticator method.</span></span> <span data-ttu-id="19650-120">Cette fonction retourne un code d’action de réponse de l' **\_ authentificateur de méthode \_ \_ \_ EAP** qui détermine l’action suivante.</span><span class="sxs-lookup"><span data-stu-id="19650-120">This function returns a **EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_ACTION** code which determines the subsequent action.</span></span>
-   <span data-ttu-id="19650-121">Si le code d’action est le résultat de la réponse de l' [ \_ authentificateur de méthode \_ \_ \_ EAP](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), il indique que l’authentificateur a déterminé les résultats de la session d’authentification et que ces résultats sont disponibles pour EAPHost.</span><span class="sxs-lookup"><span data-stu-id="19650-121">If the action code is [EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_RESULT](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), it indicates that the authenticator has determined the results of the authentication session, and those results are available to EAPHost.</span></span> <span data-ttu-id="19650-122">L’authentificateur appelle [**EapMethodAuthenticatorGetResult**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetresult) et obtient les résultats de la session d’authentification.</span><span class="sxs-lookup"><span data-stu-id="19650-122">Authenticator calls [**EapMethodAuthenticatorGetResult**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetresult) and obtains the results of the authentication session.</span></span>
-   <span data-ttu-id="19650-123">Ceci est suivi d’un appel à [**EapMethodAuthenticatorEndSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorendsession) pour mettre fin à la session d’authentification.</span><span class="sxs-lookup"><span data-stu-id="19650-123">This is followed by a call to [**EapMethodAuthenticatorEndSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorendsession) to end the authentication session.</span></span>
-   <span data-ttu-id="19650-124">Enfin, un appel est fait à [**EapMethodAuthenticatorShutdown**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorshutdown) pour décharger la dll de la méthode de l’authentificateur.</span><span class="sxs-lookup"><span data-stu-id="19650-124">Finally, a call is made to [**EapMethodAuthenticatorShutdown**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorshutdown) to unload the authenticator method DLL.</span></span>
-   <span data-ttu-id="19650-125">Décharge la bibliothèque de méthodes EAP.</span><span class="sxs-lookup"><span data-stu-id="19650-125">Unloads the EAP method library.</span></span>

## <a name="related-topics"></a><span data-ttu-id="19650-126">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="19650-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="19650-127">**ACTION de réponse de l' \_ authentificateur de méthode EAP \_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="19650-127">**EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_ACTION**</span></span>](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action)
</dt> <dt>

[<span data-ttu-id="19650-128">Séquence d’appel de l’API Supplier</span><span class="sxs-lookup"><span data-stu-id="19650-128">Supplicant API Call Sequence</span></span>](supplicant-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="19650-129">Séquence d’appel de l’API de méthode homologue</span><span class="sxs-lookup"><span data-stu-id="19650-129">Peer Method API Call Sequence</span></span>](peer-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="19650-130">Séquences d’appels EAPHost</span><span class="sxs-lookup"><span data-stu-id="19650-130">EAPHost Call Sequences</span></span>](about-eaphost-call-sequences.md)
</dt> </dl>

 

 




