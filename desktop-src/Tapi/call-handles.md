---
description: Comme mentionné dans la vue d’ensemble de l’identificateur de session, un descripteur d’appel est le moyen par lequel une application TAPI 2,2 identifie une session de communication particulière.
ms.assetid: 5f6a7adf-c074-4bf6-9828-76604eb7609c
title: Handles d’appel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aacad5b73d9d22caa006b734acaf8b992203d7d2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106516702"
---
# <a name="call-handles"></a><span data-ttu-id="e1cd5-103">Handles d’appel</span><span class="sxs-lookup"><span data-stu-id="e1cd5-103">Call Handles</span></span>

<span data-ttu-id="e1cd5-104">Comme mentionné dans la vue d’ensemble de l' [identificateur de session](./session-identifier-ovr.md) , un descripteur d’appel est le moyen par lequel une application TAPI 2,2 identifie une session de communication particulière.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-104">As is mentioned in the [Session Identifier](./session-identifier-ovr.md) overview, a call handle is the means by which a TAPI 2.2 application identifies a particular communications session.</span></span> <span data-ttu-id="e1cd5-105">Quand une application initie une session, TAPI retourne un handle d’appel à utiliser dans d’autres opérations ou requêtes.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-105">When an application initiates a session, TAPI returns a call handle for use in further operations or queries.</span></span> <span data-ttu-id="e1cd5-106">Lorsqu’une application est avertie d’une session entrante, l’interface TAPI transmet également un handle d’appel.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-106">When an application is notified of an incoming session, TAPI also passes in a call handle.</span></span>

<span data-ttu-id="e1cd5-107">Une fois qu’une session est terminée et que l’état de session est inactif, le descripteur d’appel reste valide jusqu’à ce que l’application libère le descripteur ou que la ligne soit fermée.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-107">After a session has ended and the session state is idle, the call handle remains valid until the application deallocates the handle or the line is closed.</span></span> <span data-ttu-id="e1cd5-108">La ligne peut être fermée par l’application ou un message de fermeture de [**ligne \_**](line-close.md) peut s’afficher.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-108">The line might be closed by the application, or it may receive a [**LINE\_CLOSE**](line-close.md) message.</span></span> <span data-ttu-id="e1cd5-109">Si une ligne est fermée, tous les descripteurs d’appel des appels sur la ligne deviennent instantanément non valides.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-109">If a line is closed, all call handles to calls on the line instantly become invalid.</span></span>

<span data-ttu-id="e1cd5-110">Lorsqu’un appel revient à l’état *inactif* , l’application est toujours autorisée à lire la structure et l’état des informations de l’appel.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-110">After a call reverts to the *idle* state, the application is still allowed to read the call's information structure and status.</span></span> <span data-ttu-id="e1cd5-111">Cela permet aux applications d’utiliser des opérations telles que [**lineGetCallInfo**](/windows/desktop/api/Tapi/nf-tapi-linegetcallinfo) pour récupérer des informations d’appel à des fins de journalisation.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-111">This enables applications to use operations such as [**lineGetCallInfo**](/windows/desktop/api/Tapi/nf-tapi-linegetcallinfo) to retrieve call information for logging purposes.</span></span>

<span data-ttu-id="e1cd5-112">Lorsque l’application ne peut plus utiliser le handle d’un appel inactif, elle doit appeler [**lineDeallocateCall**](/windows/desktop/api/Tapi/nf-tapi-linedeallocatecall) pour libérer de la mémoire allouée par le système liée à l’appel.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-112">When the application has no further use for the handle of an idle call, it must call [**lineDeallocateCall**](/windows/desktop/api/Tapi/nf-tapi-linedeallocatecall) to free system-allocated memory related to the call.</span></span> <span data-ttu-id="e1cd5-113">L’interface TAPI alloue de la mémoire pour chaque appel de chaque application ayant un handle vers l’appel.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-113">TAPI allocates memory for each call for each application that has a handle to the call.</span></span> <span data-ttu-id="e1cd5-114">Il est probable que les fournisseurs de services allouent de la mémoire pour stocker également les informations sur les appels.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-114">It is likely that service providers will allocate memory to hold call information as well.</span></span> <span data-ttu-id="e1cd5-115">La désallocation du descripteur d’appel d’une application permet à la bibliothèque et au fournisseur de services de récupérer ces ressources mémoire.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-115">Deallocation of an application's call handle allows the library and the service provider to reclaim these memory resources.</span></span> <span data-ttu-id="e1cd5-116">Le descripteur d’une application pour un appel devient void après une désallocation réussie.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-116">An application's handle for a call becomes void after a successful deallocation.</span></span>

<span data-ttu-id="e1cd5-117">L’application doit lui-même libérer de la mémoire en rapport avec l’appel qu’elle a alloué pour ses propres besoins.</span><span class="sxs-lookup"><span data-stu-id="e1cd5-117">The application must itself free memory related to the call that it allocated for its own purposes.</span></span>

 

 
