---
description: Les concepteurs de fournisseurs de services doivent tenter de réduire la durée d’exécution des opérations synchrones.
ms.assetid: eb264ab7-15bb-4cd5-8af8-f979f02a7a39
title: Requêtes synchrones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3684b1fa8ea2bca1b7fb777663f2c4e50ffd36a3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106533690"
---
# <a name="synchronous-requests"></a><span data-ttu-id="6c0a6-103">Requêtes synchrones</span><span class="sxs-lookup"><span data-stu-id="6c0a6-103">Synchronous Requests</span></span>

<span data-ttu-id="6c0a6-104">Les concepteurs de fournisseurs de services doivent tenter de réduire la durée d’exécution des opérations synchrones.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-104">Service provider designers should try to keep the execution time of synchronous operations short.</span></span> <span data-ttu-id="6c0a6-105">Par exemple, il existe une opération « Open » appelée au moment de l’initialisation, qui prépare le fournisseur de services et l’interface TAPI pour les opérations suivantes sur un appareil.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-105">For example, there is an "Open" operation called at initialization time that prepares the service provider and TAPI for subsequent operations on a device.</span></span> <span data-ttu-id="6c0a6-106">Un fournisseur de services dont l’implémentation est fractionnée entre l’ordinateur client et un serveur dédié peut avoir une certitude raisonnable qu’il peut communiquer avec son serveur distant.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-106">A service provider whose implementation is split between the client computer and a dedicated server may have reasonable confidence that it can communicate with its remote server.</span></span> <span data-ttu-id="6c0a6-107">Son implémentation de « Open » peut simplement allouer et initialiser des structures de données pour représenter l’appareil et le retour, en différant la communication de bout en bout jusqu’à ce qu’une opération réelle soit demandée.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-107">Its implementation of "Open" might just allocate and initialize data structures to represent the device and return, postponing end-to-end communication until some real operation is requested.</span></span>

<span data-ttu-id="6c0a6-108">Toute implémentation « optimiste » d’une opération synchrone peut par la suite rencontrer des problèmes de ressources ou de communication distante.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-108">Any such "optimistic" implementation of a synchronous operation can later encounter resource limitations or remote communication failures.</span></span> <span data-ttu-id="6c0a6-109">En général, même une approche « conservatrice » ne peut pas entièrement empêcher ces problèmes ; les concepteurs de fournisseurs de services doivent choisir le meilleur compromis entre fiabilité et performances.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-109">In general, even a "conservative" approach cannot entirely prevent these problems; service-provider designers must choose the best tradeoff between reliability and performance.</span></span> <span data-ttu-id="6c0a6-110">Une défaillance de ce type doit être traitée correctement dans la mesure du possible.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-110">A failure of this kind should be handled gracefully wherever possible.</span></span> <span data-ttu-id="6c0a6-111">Du point de vue des appareils TSPI, ils doivent rester valides à des fins de « comptabilité » même s’ils renvoient l’état d’échec pour toute opération demandée.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-111">From the point of view of TSPI devices, they should remain valid for "bookkeeping" purposes even if they return failure status for any operation requested.</span></span>

<span data-ttu-id="6c0a6-112">L’implémentation d’une approche optimiste pour les requêtes synchrones ne doit pas être effectuée au détriment de la sémantique correcte pour l’opération.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-112">Implementing an optimistic approach for synchronous requests should not be done at the expense of correct semantics for the operation.</span></span> <span data-ttu-id="6c0a6-113">Si vous revenez à l’exemple « Open », si l’ouverture d’un appareil doit rivaliser pour et réserver une ressource rare et non partageable telle que les ports de communication, il devrait y parvenir, même si cela prend du temps.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-113">Returning to the "Open" example, if opening a device needs to compete for and reserve a scarce, nonsharable resource such as communication ports, it should probably do so even if it is time-consuming.</span></span>

<span data-ttu-id="6c0a6-114">**TAPI 2. x :** Une opération qui se termine de façon synchrone effectue tout son traitement dans l’appel de fonction effectué par l’application.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-114">**TAPI 2.x:** An operation that completes synchronously performs all of its processing in the function call made by the application.</span></span> <span data-ttu-id="6c0a6-115">La fonction retourne des valeurs différentes en fonction de la réussite ou de l’échec :</span><span class="sxs-lookup"><span data-stu-id="6c0a6-115">The function returns different values depending on its success or failure:</span></span>

-   <span data-ttu-id="6c0a6-116">**Réussite synchrone.**</span><span class="sxs-lookup"><span data-stu-id="6c0a6-116">**Synchronous Success.**</span></span> <span data-ttu-id="6c0a6-117">Si la requête ou le service correspondant à la fonction a été exécuté avec succès, la fonction retourne zéro, ce qui indique une réussite.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-117">If the request or service corresponding to the function has been carried out successfully, the function returns zero, indicating success.</span></span> <span data-ttu-id="6c0a6-118">Toutes les valeurs écrites à la suite de l’appel de fonction sont fiables et peuvent être utilisées immédiatement.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-118">Any values written as a result of the function call are reliable and can be used immediately.</span></span>
-   <span data-ttu-id="6c0a6-119">**Échec synchrone.**</span><span class="sxs-lookup"><span data-stu-id="6c0a6-119">**Synchronous Failure.**</span></span> <span data-ttu-id="6c0a6-120">Si la fonction détecte une erreur et que la demande n’est pas exécutée, un numéro d’erreur négatif est retourné pour identifier l’erreur.</span><span class="sxs-lookup"><span data-stu-id="6c0a6-120">If the function detects an error and the request is not carried out, a negative error number is returned to identify the error.</span></span>

 

 



