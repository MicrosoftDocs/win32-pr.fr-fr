---
description: La spécification TSPI est très étroitement liée aux spécifications de TAPI 2,2 (TAPI/C).
ms.assetid: 2c51f7e3-c741-4736-9611-2327d65b427e
title: Comparaison générale avec TAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fce81d569d042cdd3eeb87088b1b7027858ca806
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106527916"
---
# <a name="overall-comparison-with-tapi"></a><span data-ttu-id="02563-103">Comparaison générale avec TAPI</span><span class="sxs-lookup"><span data-stu-id="02563-103">Overall Comparison with TAPI</span></span>

<span data-ttu-id="02563-104">La spécification TSPI est très étroitement liée aux spécifications de TAPI 2,2 (TAPI/C).</span><span class="sxs-lookup"><span data-stu-id="02563-104">The TSPI specification is very closely related to the specifications for TAPI 2.2 (TAPI/C).</span></span> <span data-ttu-id="02563-105">La plupart des fonctions dans l’une ont une fonction correspondante dans l’autre.</span><span class="sxs-lookup"><span data-stu-id="02563-105">Most of the functions in one have a corresponding function in the other.</span></span> <span data-ttu-id="02563-106">La correspondance habituelle est la suivante :</span><span class="sxs-lookup"><span data-stu-id="02563-106">The usual correspondence is as follows:</span></span>

-   <span data-ttu-id="02563-107">Les fonctions TSPI ont les mêmes noms que les fonctions TAPI, sauf qu’elles sont précédées de «**TSPI \_**».</span><span class="sxs-lookup"><span data-stu-id="02563-107">TSPI functions have the same names as TAPI functions except that they are prepended with "**TSPI\_**".</span></span> <span data-ttu-id="02563-108">Par exemple, la fonction TAPI [**lineAccept**](/windows/win32/api/tapi/nf-tapi-lineaccept) correspond à la fonction TSPI [**TSPI \_ lineAccept**](/windows/win32/api/tspi/nf-tspi-tspi_lineaccept).</span><span class="sxs-lookup"><span data-stu-id="02563-108">For example, the TAPI function [**lineAccept**](/windows/win32/api/tapi/nf-tapi-lineaccept) corresponds to the TSPI function [**TSPI\_lineAccept**](/windows/win32/api/tspi/nf-tspi-tspi_lineaccept).</span></span>
-   <span data-ttu-id="02563-109">Les procédures qui autorisent une opération asynchrone insèrent un paramètre *dwRequestID* de type [DRV \_ REQUESTID](drv-requestid.md) comme premier paramètre.</span><span class="sxs-lookup"><span data-stu-id="02563-109">Procedures that allow asynchronous operation insert a *dwRequestID* parameter of type [DRV\_REQUESTID](drv-requestid.md) as their first parameter.</span></span> <span data-ttu-id="02563-110">Ce paramètre spécifie la valeur à retourner pour indiquer l’opération asynchrone et pour signaler l’achèvement asynchrone.</span><span class="sxs-lookup"><span data-stu-id="02563-110">This parameter specifies the value to be returned to indicate asynchronous operation and to report asynchronous completion.</span></span>
-   <span data-ttu-id="02563-111">les paramètres *hCall* de type hCall sont remplacés par les paramètres *HdCall* de type [HDRVCALL](hdrvline.md), ce qui indique le handle du fournisseur de services pour l’appel.</span><span class="sxs-lookup"><span data-stu-id="02563-111">*hCall* parameters of type HCALL are replaced with *hdCall* parameters of type [HDRVCALL](hdrvline.md), indicating the service provider's handle for the call.</span></span>
-   <span data-ttu-id="02563-112">les paramètres *hLine* de type hLine sont remplacés par les paramètres *hdLine* de-type [HDRVLINE](hdrvline.md), ce qui indique le handle du fournisseur de services pour la ligne.</span><span class="sxs-lookup"><span data-stu-id="02563-112">*hLine* parameters of type HLINE are replaced with *hdLine* parameters of -type [HDRVLINE](hdrvline.md), indicating the service provider's handle for the line.</span></span>
-   <span data-ttu-id="02563-113">les paramètres *hPhone* de type hPhone sont remplacés par les paramètres *HdPhone* de type [HDRVPHONE](hdrvphone.md), ce qui indique le handle du fournisseur de services pour le téléphone.</span><span class="sxs-lookup"><span data-stu-id="02563-113">*hPhone* parameters of type HPHONE are replaced with *hdPhone* parameters of type [HDRVPHONE](hdrvphone.md), indicating the service provider's handle for the phone.</span></span>
-   <span data-ttu-id="02563-114">Les procédures qui créent un nouvel appel, telles que [**TSPI \_ lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall), remplacent un seul paramètre *lphCall* avec deux paramètres : un *htCall* de type [HTAPICALL](htapicall.md) qui passe dans le handle TAPI pour l’appel, et un *lphdCall* de type LPHDRVCALL qui indique l’emplacement auquel le fournisseur de services doit écrire son nouveau handle pour l’appel.</span><span class="sxs-lookup"><span data-stu-id="02563-114">Procedures that create a new call, such as [**TSPI\_lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall), replace a single *lphCall* parameter with two parameters: an *htCall* of type [HTAPICALL](htapicall.md) parameter that passes in the TAPI handle for the call, and an *lphdCall* of type LPHDRVCALL that indicates the location to which the service provider must write its new handle for the call.</span></span> <span data-ttu-id="02563-115">Un fractionnement de paramètres similaire se produit dans [**TSPI \_ LineOpen**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen) et [**TSPI \_ phoneOpen**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen).</span><span class="sxs-lookup"><span data-stu-id="02563-115">A similar split of parameters occurs in [**TSPI\_lineOpen**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen) and [**TSPI\_phoneOpen**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen).</span></span>
-   <span data-ttu-id="02563-116">Au niveau TSPI, il n’existe aucune notion de « privilège » associée aux descripteurs d’appareil.</span><span class="sxs-lookup"><span data-stu-id="02563-116">At the TSPI level, there is no notion of "privilege" associated with device handles.</span></span> <span data-ttu-id="02563-117">En outre, au niveau de l’API, chaque application qui a un handle d’appareil ou d’appel a un handle différent, mais TAPI fusionne ces derniers en un seul descripteur du côté du fournisseur de services.</span><span class="sxs-lookup"><span data-stu-id="02563-117">Furthermore, at the API level, each application that has a device or call handle has a different handle, but TAPI merges these into a single handle in the service provider side.</span></span> <span data-ttu-id="02563-118">Par conséquent, les codes d’erreur et les messages d’État relatifs au privilège et au nombre de clients utilisant un appareil ne s’affichent pas au niveau TSPI.</span><span class="sxs-lookup"><span data-stu-id="02563-118">As a consequence, the error codes and status messages relating to privilege and number of clients using a device do not appear at the TSPI level.</span></span>

<span data-ttu-id="02563-119">L’ensemble de fonctions TAPI ne mappe pas un à un sur l’ensemble de fonctions TSPI.</span><span class="sxs-lookup"><span data-stu-id="02563-119">The set of TAPI functions do not map one to one onto the set of TSPI functions.</span></span> <span data-ttu-id="02563-120">En particulier, les fonctions liées aux privilèges, à la traduction des numéros de téléphone et à la communication entre les applications sont gérées par TAPI et n’ont pas de fonction correspondante dans TSPI.</span><span class="sxs-lookup"><span data-stu-id="02563-120">In particular, functions related to privilege, phone number translation, and interapplication communication are handled by TAPI and have no corresponding function in TSPI.</span></span> <span data-ttu-id="02563-121">D’autres fonctions, telles que celles utilisées pour la configuration et l’initialisation du fournisseur de service, n’ont pas de fonctions correspondantes dans l’interface TAPI.</span><span class="sxs-lookup"><span data-stu-id="02563-121">Other functions, such as those used for service-provider configuration and initialization, have no corresponding functions in TAPI.</span></span>

 

 
