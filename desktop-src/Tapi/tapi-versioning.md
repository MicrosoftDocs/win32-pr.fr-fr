---
description: Au fil du temps, différentes versions de TAPI, d’applications et de fournisseurs de services peuvent être générées.
ms.assetid: 35fea8f9-307e-4429-b4ec-ffb5c62c2610
title: Contrôle de version TAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8565eb6282fd124c4f43e56d121ba7c053143683
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104319690"
---
# <a name="tapi-versioning"></a><span data-ttu-id="165b9-103">Contrôle de version TAPI</span><span class="sxs-lookup"><span data-stu-id="165b9-103">TAPI Versioning</span></span>

<span data-ttu-id="165b9-104">Au fil du temps, différentes versions de TAPI, d’applications et de fournisseurs de services peuvent être générées.</span><span class="sxs-lookup"><span data-stu-id="165b9-104">Over time, different versions of TAPI, applications, and service providers may be produced.</span></span> <span data-ttu-id="165b9-105">Ces nouvelles versions peuvent créer de nouvelles définitions, telles que des nouvelles fonctionnalités, de nouveaux membres dans les structures de données et de nouveaux champs de bits.</span><span class="sxs-lookup"><span data-stu-id="165b9-105">These new versions can make new definitions, such as for new features, new members in data structures, and new bit fields.</span></span> <span data-ttu-id="165b9-106">Les numéros de version sont donc nécessaires pour indiquer comment interpréter diverses structures de données.</span><span class="sxs-lookup"><span data-stu-id="165b9-106">Version numbers are therefore necessary to indicate how to interpret various data structures.</span></span>

<span data-ttu-id="165b9-107">Pour permettre une interopérabilité optimale des différentes versions des applications, des versions de l’interface TAPI elle-même et des versions des fournisseurs de services par différents fournisseurs, Microsoft Telephony fournit un mécanisme de négociation de version simple pour les applications.</span><span class="sxs-lookup"><span data-stu-id="165b9-107">To allow optimal interoperability of different versions of applications, versions of TAPI itself, and versions of service providers by different vendors, Microsoft Telephony provides a simple version negotiation mechanism for applications.</span></span> <span data-ttu-id="165b9-108">Il existe deux versions différentes que TAPI et le fournisseur de services de téléphonie doivent accepter pour chaque périphérique de ligne.</span><span class="sxs-lookup"><span data-stu-id="165b9-108">There are two different versions that TAPI and the telephony service provider need to agree on for each line device.</span></span> <span data-ttu-id="165b9-109">La première est la version négociée avec TAPI et le fournisseur de services de téléphonie (TSP) de base et la téléphonie supplémentaire, appelée « version de l’interface TAPI ».</span><span class="sxs-lookup"><span data-stu-id="165b9-109">The first is the version negotiated with TAPI and the telephony service provider (TSP) Basic and Supplementary Telephony, referred to as the TAPI interface version.</span></span> <span data-ttu-id="165b9-110">L’autre est pour les extensions spécifiques au fournisseur, le cas échéant, et est appelée version de l’extension.</span><span class="sxs-lookup"><span data-stu-id="165b9-110">The other is for provider-specific extensions, if any, and is referred to as the extension version.</span></span> <span data-ttu-id="165b9-111">Le format des structures de données et des types de données utilisés par les fonctionnalités de base et supplémentaires de l’interface TAPI est défini par la version TAPI, tandis que la version d’extension détermine le format des structures de données définies par les extensions spécifiques au fournisseur.</span><span class="sxs-lookup"><span data-stu-id="165b9-111">The format of the data structures and data types used by TAPI's Basic and Supplementary features is defined by the TAPI version, while the extension version determines the format of data structures defined by the vendor-specific extensions.</span></span>

<span data-ttu-id="165b9-112">La fonction [**lineNegotiateAPIVersion**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateapiversion) négocie une version TAPI et [**lineNegotiateExtVersion**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateextversion) négocie la version de l’extension TSP.</span><span class="sxs-lookup"><span data-stu-id="165b9-112">The [**lineNegotiateAPIVersion**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateapiversion) function negotiates a TAPI version and [**lineNegotiateExtVersion**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateextversion) negotiates the TSP extension version.</span></span> <span data-ttu-id="165b9-113">Un seul TSP peut être capable de gérer plusieurs versions, et une application doit « revenir » à l’utilisation d’une version antérieure si vous utilisez un TSP plus ancien.</span><span class="sxs-lookup"><span data-stu-id="165b9-113">A single TSP could be capable of handling more than one version, and an application must "fall back" to using an older version if using an older TSP.</span></span> <span data-ttu-id="165b9-114">Dans **lineNegotiateAPIVersion** , le paramètre *dwApiVersion* a une valeur par défaut en fonction de la version, comme suit.</span><span class="sxs-lookup"><span data-stu-id="165b9-114">In **lineNegotiateAPIVersion** the *dwApiVersion* parameter defaults to a value according to version, as follows.</span></span>



| <span data-ttu-id="165b9-115">Version TAPI</span><span class="sxs-lookup"><span data-stu-id="165b9-115">TAPI version</span></span> | <span data-ttu-id="165b9-116">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="165b9-116">Default value</span></span> |
|--------------|---------------|
| <span data-ttu-id="165b9-117">1.3</span><span class="sxs-lookup"><span data-stu-id="165b9-117">1.3</span></span>          | <span data-ttu-id="165b9-118">0x00010003</span><span class="sxs-lookup"><span data-stu-id="165b9-118">0x00010003</span></span>    |
| <span data-ttu-id="165b9-119">1.4</span><span class="sxs-lookup"><span data-stu-id="165b9-119">1.4</span></span>          | <span data-ttu-id="165b9-120">0x00010004</span><span class="sxs-lookup"><span data-stu-id="165b9-120">0x00010004</span></span>    |
| <span data-ttu-id="165b9-121">2.0</span><span class="sxs-lookup"><span data-stu-id="165b9-121">2.0</span></span>          | <span data-ttu-id="165b9-122">0x00020000</span><span class="sxs-lookup"><span data-stu-id="165b9-122">0x00020000</span></span>    |
| <span data-ttu-id="165b9-123">2.1</span><span class="sxs-lookup"><span data-stu-id="165b9-123">2.1</span></span>          | <span data-ttu-id="165b9-124">0x00020001</span><span class="sxs-lookup"><span data-stu-id="165b9-124">0x00020001</span></span>    |
| <span data-ttu-id="165b9-125">2.2</span><span class="sxs-lookup"><span data-stu-id="165b9-125">2.2</span></span>          | <span data-ttu-id="165b9-126">0x00020002</span><span class="sxs-lookup"><span data-stu-id="165b9-126">0x00020002</span></span>    |



 

<span data-ttu-id="165b9-127">Toutefois, TAPI est beaucoup plus facile tant que le TSP lui-même utilise une version plus récente que celle de l’application.</span><span class="sxs-lookup"><span data-stu-id="165b9-127">However, TAPI makes this much easier as long as the TSP itself is using a newer version than the application.</span></span> <span data-ttu-id="165b9-128">Si le TSP est effectivement plus récent, TAPI peut alors traduire « en baisse » vers la version de l’application.</span><span class="sxs-lookup"><span data-stu-id="165b9-128">If the TSP is indeed newer, then TAPI is capable of translating "down" to the application's version.</span></span> <span data-ttu-id="165b9-129">Par exemple, TAPI 2,0 TSPs n’a pas besoin d’être spécifiquement en charge de la gestion de TAPI version 1,4.</span><span class="sxs-lookup"><span data-stu-id="165b9-129">For example, TAPI 2.0 TSPs do not need to be specifically capable of dealing with TAPI version 1.4.</span></span> <span data-ttu-id="165b9-130">Si une application TAPI 1,4 est exécutée, TAPI convertit tous les messages et structures TAPI 2,0 en équivalents TAPI 1,4, ou aussi près que possible.</span><span class="sxs-lookup"><span data-stu-id="165b9-130">If a TAPI 1.4 application is run, TAPI converts all TAPI 2.0 structures and messages into TAPI 1.4 equivalents, or as close as possible.</span></span> <span data-ttu-id="165b9-131">S’il n’existe aucune approximation proche dans TAPI 1,4, toutes les informations spécifiques à TAPI 2,0 seront perdues.</span><span class="sxs-lookup"><span data-stu-id="165b9-131">If there is no close approximation in TAPI 1.4, then all TAPI 2.0-specific information will be lost.</span></span>

<span data-ttu-id="165b9-132">La signification précise d’une version d’extension est spécifique au fournisseur.</span><span class="sxs-lookup"><span data-stu-id="165b9-132">The precise meaning of an extension version is provider-specific.</span></span> <span data-ttu-id="165b9-133">Pour utiliser un TSP qui prend en charge les extensions, consultez la documentation du fournisseur.</span><span class="sxs-lookup"><span data-stu-id="165b9-133">To use a TSP that supports extensions, consult the provider's documentation.</span></span>

<span data-ttu-id="165b9-134">Il existe plusieurs versions de TAPI.</span><span class="sxs-lookup"><span data-stu-id="165b9-134">There are a number of versions of TAPI.</span></span> <span data-ttu-id="165b9-135">Alors que la plupart de ces versions impliquaient des modifications dans les ensembles de documentation TAPI et TSPI (Telephony Service Provider Interface), il existe d’autres implications pour chaque version, à savoir, les différences architecturales, les variantes du système d’exploitation, les redistribuables et les problèmes de développement TSP.</span><span class="sxs-lookup"><span data-stu-id="165b9-135">While most of these versions involved changes to the TAPI and Telephony Service Provider Interface (TSPI) documentation sets, there are other implications for each version, namely, architectural differences, operating system variations, redistributables, and TSP development issues.</span></span>



| <span data-ttu-id="165b9-136">Version TAPI</span><span class="sxs-lookup"><span data-stu-id="165b9-136">TAPI version</span></span>        | <span data-ttu-id="165b9-137">Distribution</span><span class="sxs-lookup"><span data-stu-id="165b9-137">Distribution</span></span>                                                   |
|---------------------|----------------------------------------------------------------|
| <span data-ttu-id="165b9-138">1,0 – 1,2</span><span class="sxs-lookup"><span data-stu-id="165b9-138">1.0 – 1.2</span></span>           | <span data-ttu-id="165b9-139">Versions bêta qui ne doivent plus être utilisées.</span><span class="sxs-lookup"><span data-stu-id="165b9-139">Beta versions that should not be used any longer.</span></span>              |
| [<span data-ttu-id="165b9-140">1.4</span><span class="sxs-lookup"><span data-stu-id="165b9-140">1.4</span></span>](tapi-1-4.md) | <span data-ttu-id="165b9-141">Inclus dans Windows 95.</span><span class="sxs-lookup"><span data-stu-id="165b9-141">Included in Windows 95.</span></span>                                        |
| [<span data-ttu-id="165b9-142">1.5</span><span class="sxs-lookup"><span data-stu-id="165b9-142">1.5</span></span>](tapi-1-5.md) | <span data-ttu-id="165b9-143">Inclus dans Windows CE 1,0.</span><span class="sxs-lookup"><span data-stu-id="165b9-143">Included in Windows CE 1.0.</span></span>                                    |
| [<span data-ttu-id="165b9-144">2.0</span><span class="sxs-lookup"><span data-stu-id="165b9-144">2.0</span></span>](tapi-2-0.md) | <span data-ttu-id="165b9-145">Inclus dans Windows NT 4,0 avec SP3.</span><span class="sxs-lookup"><span data-stu-id="165b9-145">Included in Windows NT 4.0 with SP3.</span></span>                           |
| [<span data-ttu-id="165b9-146">2.1</span><span class="sxs-lookup"><span data-stu-id="165b9-146">2.1</span></span>](tapi-2-1.md) | <span data-ttu-id="165b9-147">Inclus dans Windows NT 4,0 avec SP4 et Windows 98.</span><span class="sxs-lookup"><span data-stu-id="165b9-147">Included in Windows NT 4.0 with SP4 and Windows 98.</span></span>            |
| [<span data-ttu-id="165b9-148">2.2</span><span class="sxs-lookup"><span data-stu-id="165b9-148">2.2</span></span>](tapi-2-2.md) | <span data-ttu-id="165b9-149">Inclus dans Windows Server 2003, Windows XP et Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="165b9-149">Included in Windows Server 2003, Windows XP, and Windows 2000.</span></span> |



 

 

 



