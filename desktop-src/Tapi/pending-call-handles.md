---
description: Un fournisseur de services est requis pour créer un ou plusieurs handles d’appel (variables de type HDRVCALL) chaque fois que TAPI appelle l’une des fonctions suivantes.
ms.assetid: 0a9d9afd-9786-4d9e-b0a2-12c9a1e13887
title: Handles d’appel en attente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9c021ff10f2a1a812c46fb77663ac1a3a3a8d791
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106516639"
---
# <a name="pending-call-handles"></a><span data-ttu-id="dc8a3-103">Handles d’appel en attente</span><span class="sxs-lookup"><span data-stu-id="dc8a3-103">Pending Call Handles</span></span>

<span data-ttu-id="dc8a3-104">Un fournisseur de services doit créer un ou plusieurs handles d’appel (variables de type [HDRVCALL](hdrvline.md)) chaque fois que TAPI appelle l’une des fonctions suivantes : [**TSPI \_ lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall), [**TSPI \_ lineCompleteTransfer**](/windows/win32/api/tspi/nf-tspi-tspi_linecompletetransfer), [**TSPI \_ lineForward**](/windows/win32/api/tspi/nf-tspi-tspi_lineforward), [**TSPI \_ linePickup**](/windows/win32/api/tspi/nf-tspi-tspi_linepickup), [**TSPI \_ linePrepareAddToConference**](/windows/win32/api/tspi/nf-tspi-tspi_lineprepareaddtoconference), [**TSPI \_ lineSetupConference**](/windows/win32/api/tspi/nf-tspi-tspi_linesetupconference), [**TSPI \_ lineSetupTransfer**](/windows/win32/api/tspi/nf-tspi-tspi_linesetuptransfer)et [**TSPI \_ lineUnpark**](/windows/win32/api/tspi/nf-tspi-tspi_lineunpark).</span><span class="sxs-lookup"><span data-stu-id="dc8a3-104">A service provider is required to create one or more call handles (variables of type [HDRVCALL](hdrvline.md)) whenever TAPI calls one of these functions: [**TSPI\_lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall), [**TSPI\_lineCompleteTransfer**](/windows/win32/api/tspi/nf-tspi-tspi_linecompletetransfer), [**TSPI\_lineForward**](/windows/win32/api/tspi/nf-tspi-tspi_lineforward), [**TSPI\_linePickup**](/windows/win32/api/tspi/nf-tspi-tspi_linepickup), [**TSPI\_linePrepareAddToConference**](/windows/win32/api/tspi/nf-tspi-tspi_lineprepareaddtoconference), [**TSPI\_lineSetupConference**](/windows/win32/api/tspi/nf-tspi-tspi_linesetupconference), [**TSPI\_lineSetupTransfer**](/windows/win32/api/tspi/nf-tspi-tspi_linesetuptransfer), and [**TSPI\_lineUnpark**](/windows/win32/api/tspi/nf-tspi-tspi_lineunpark).</span></span> <span data-ttu-id="dc8a3-105">Lorsqu’un fournisseur de services reçoit un tel appel, le fournisseur de services doit définir la variable fournie par l’interface TAPI sur la valeur du handle avant de retourner à partir de l’appel.</span><span class="sxs-lookup"><span data-stu-id="dc8a3-105">When a service provider receives such a call, the service provider must set the variable supplied by TAPI to the value of the handle before returning from the call.</span></span> <span data-ttu-id="dc8a3-106">L’interface TAPI considère ce « handle d’appel en attente » comme étant provisoirement valide.</span><span class="sxs-lookup"><span data-stu-id="dc8a3-106">TAPI considers this "pending call handle" to be tentatively valid.</span></span> <span data-ttu-id="dc8a3-107">Quand le fournisseur de services crée réellement l’appel, il doit appeler le rappel d' [**\_ achèvement asynchrone**](/windows/win32/api/tspi/nc-tspi-async_completion) pour valider le handle de manière formelle.</span><span class="sxs-lookup"><span data-stu-id="dc8a3-107">When the service provider actually creates the call, it must call the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback to formally validate the handle.</span></span>

<span data-ttu-id="dc8a3-108">Si l’interface TAPI appelle la fonction [**TSPI \_ lineCloseCall**](/windows/win32/api/tspi/nf-tspi-tspi_lineclosecall) avant que le fournisseur de services valide officiellement un handle d’appel en attente, le fournisseur de services doit arrêter tout traitement supplémentaire associé au handle d’appel et appeler la fonction de rappel d' [**\_ achèvement asynchrone**](/windows/win32/api/tspi/nc-tspi-async_completion) à l’aide de la valeur d’erreur LINEERR \_ OPERATIONFAILED.</span><span class="sxs-lookup"><span data-stu-id="dc8a3-108">If TAPI calls the [**TSPI\_lineCloseCall**](/windows/win32/api/tspi/nf-tspi-tspi_lineclosecall) function before the service provider formally validates a pending call handle, the service provider must stop all further processing associated with the call handle and call the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback function using the error value LINEERR\_OPERATIONFAILED.</span></span>

 

 
