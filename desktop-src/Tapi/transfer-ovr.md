---
description: L’opération de transfert permet à une application d’envoyer une session de communication actuellement connectée à une autre adresse.
ms.assetid: b1027f09-74e1-4da8-b718-bb55a56dda1d
title: Transférer
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 724b9ade43e41ab95a5baa6dfe7d3269f4e4a174
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104034559"
---
# <a name="transfer"></a><span data-ttu-id="92cf3-103">Transférer</span><span class="sxs-lookup"><span data-stu-id="92cf3-103">Transfer</span></span>

<span data-ttu-id="92cf3-104">L’opération de transfert permet à une application d’envoyer une session de communication actuellement connectée à une autre adresse.</span><span class="sxs-lookup"><span data-stu-id="92cf3-104">The transfer operation allows an application to send a currently connected communications session to a different address.</span></span>

<span data-ttu-id="92cf3-105">L’interface TAPI fournit deux mécanismes pour transférer une session active vers une autre adresse.</span><span class="sxs-lookup"><span data-stu-id="92cf3-105">TAPI provides two mechanisms for transferring a current session to a different address.</span></span> <span data-ttu-id="92cf3-106">Le *transfert aveugle* permet de transférer une session existante vers une adresse de destination spécifiée en une seule phase.</span><span class="sxs-lookup"><span data-stu-id="92cf3-106">*Blind transfer* allows an existing session to be transferred to a specified destination address in one phase.</span></span> <span data-ttu-id="92cf3-107">La *consultation du transfert* requiert l’existence d’une session de consultation en plus de la session active à configurer pour le transfert, puis l’achèvement du transfert.</span><span class="sxs-lookup"><span data-stu-id="92cf3-107">*Consultation transfer* requires the existence of a consultation session in addition to the current session to set up for the transfer, and then completion of the transfer.</span></span> <span data-ttu-id="92cf3-108">Le choix entre ces deux types est souvent basé sur les fonctionnalités du fournisseur de services, car certains fournisseurs de services ne prennent pas en charge le transfert aveugle.</span><span class="sxs-lookup"><span data-stu-id="92cf3-108">The choice between these two types is frequently based on service provider capabilities because some service providers do not support blind transfer.</span></span> <span data-ttu-id="92cf3-109">Dans certains cas, les besoins de l’application peuvent faire passer la méthode préférée au transfert consultatif, même si le transfert des aveugles est possible.</span><span class="sxs-lookup"><span data-stu-id="92cf3-109">In some cases, application needs may make the consultative transfer the preferred method even where blind transfer is possible.</span></span>

<span data-ttu-id="92cf3-110">L’opération de transfert aveugle est fondamentalement identique sous TAPI 2 et TAPI 3, mais le transfert consultatif suit des modèles légèrement différents.</span><span class="sxs-lookup"><span data-stu-id="92cf3-110">The blind transfer operation is basically the same under TAPI 2 and TAPI 3, but consultative transfer follows slightly different patterns.</span></span>

<span data-ttu-id="92cf3-111">**TAPI 2. x :** Le transfert consultatif commence par l’appel de [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), qui place l’appel existant sur la suspension de la consultation et identifie cet appel comme la cible de la demande de transfert-achèvement suivante.</span><span class="sxs-lookup"><span data-stu-id="92cf3-111">**TAPI 2.x:** Consultative transfer starts with invoking [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), which places the existing call on consultation hold, and identifies this call as the target for the next transfer-completion request.</span></span> <span data-ttu-id="92cf3-112">La fonction **lineSetupTransfer** alloue également un appel de consultation qui peut être utilisé pour établir l’appel de consultation avec le tiers vers lequel l’appel sera transféré.</span><span class="sxs-lookup"><span data-stu-id="92cf3-112">The **lineSetupTransfer** function also allocates a consultation call that can be used to establish the consultation call with the party to which the call will be transferred.</span></span> <span data-ttu-id="92cf3-113">L’application peut composer l’extension du tiers de destination lors de l’appel de consultation (à l’aide de [**lineDial**](/windows/win32/api/tapi/nf-tapi-linedial)), ou elle peut supprimer et désallouer l’appel de consultation et activer à la place un appel détenu existant (à l’aide de [**lineUnhold**](/windows/win32/api/tapi/nf-tapi-lineunhold)), s’il est pris en charge par le commutateur.</span><span class="sxs-lookup"><span data-stu-id="92cf3-113">The application can dial the extension of the destination party on the consultation call (using [**lineDial**](/windows/win32/api/tapi/nf-tapi-linedial)), or it can drop and deallocate the consultation call and instead activate an existing held call (using [**lineUnhold**](/windows/win32/api/tapi/nf-tapi-lineunhold)), if supported by the switch.</span></span> <span data-ttu-id="92cf3-114">Alors que l’appel initial est en attente de consultation et que l’appel de consultation est actif, l’application peut basculer entre ces appels à l’aide de [**lineSwapHold**](/windows/win32/api/tapi/nf-tapi-lineswaphold).</span><span class="sxs-lookup"><span data-stu-id="92cf3-114">While the initial call is on consultation hold and the consultation call is active, the application can toggle between these calls using [**lineSwapHold**](/windows/win32/api/tapi/nf-tapi-lineswaphold).</span></span>

<span data-ttu-id="92cf3-115">**TAPI 2. x :** Les applications effectuent le transfert consultatif à l’aide de [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span><span class="sxs-lookup"><span data-stu-id="92cf3-115">**TAPI 2.x:** Applications complete the consultative transfer using [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span></span> <span data-ttu-id="92cf3-116">Les deux appels sont rétablis à l’état *inactif* .</span><span class="sxs-lookup"><span data-stu-id="92cf3-116">Both calls will revert to the *idle* state.</span></span>

<span data-ttu-id="92cf3-117">Les applications peuvent utiliser la fonctionnalité « transfert en une étape » de nombreux PBX (une seule pression pour établir un transfert de consultation) en définissant le paramètre *lpCallParams* sur le membre **LINECALLPARAMFLAGS \_ ONESTEPTRANSFER** des [ \_ constantes LINECALLPARAMFLAGS](./linecallparamflags--constants.md) lors de l’appel de [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer).</span><span class="sxs-lookup"><span data-stu-id="92cf3-117">Applications can use the "one-step transfer" feature of many PBXs (a single button press to establish a consultation transfer) by setting the *lpCallParams* parameter to the **LINECALLPARAMFLAGS\_ONESTEPTRANSFER** member of the [LINECALLPARAMFLAGS\_ constants](./linecallparamflags--constants.md) when calling [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer).</span></span>

<span data-ttu-id="92cf3-118">**TAPI 3. x :** Le transfert consultatif commence avec l’utilisation de [**ITAddress :: createCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall) pour créer un appel de consultation vers la nouvelle adresse de destination.</span><span class="sxs-lookup"><span data-stu-id="92cf3-118">**TAPI 3.x:** Consultative transfer starts with using [**ITAddress::CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall) to create a consultation call to the new destination address.</span></span> <span data-ttu-id="92cf3-119">[**ITBasicCallControl :: Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer) est ensuite appelé sur l’objet d’appel d’origine à l’aide d’un pointeur vers le nouvel objet d’appel de consultation en tant que paramètre.</span><span class="sxs-lookup"><span data-stu-id="92cf3-119">[**ITBasicCallControl::Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer) is then called on the original call object using a pointer to the new consultation call object as a parameter.</span></span> <span data-ttu-id="92cf3-120">L’appel de [**ITBasicCallControl :: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) sur l’objet d’appel de consultation termine ensuite le transfert.</span><span class="sxs-lookup"><span data-stu-id="92cf3-120">Calling [**ITBasicCallControl::Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) on the consultation call object then completes the transfer.</span></span>

<span data-ttu-id="92cf3-121">L’application doit libérer des ressources de session après la réussite d’une opération de transfert.</span><span class="sxs-lookup"><span data-stu-id="92cf3-121">The application must release session resources following the successful completion of a transfer operation.</span></span>

<span data-ttu-id="92cf3-122">Les fournisseurs de services ne prennent pas tous en charge l’utilisation de cette opération.</span><span class="sxs-lookup"><span data-stu-id="92cf3-122">Not all service providers support use of this operation.</span></span>

<span data-ttu-id="92cf3-123">**TAPI 2. x :** Consultez [**lineBlindTransfer**](/windows/win32/api/tapi/nf-tapi-lineblindtransfer), [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span><span class="sxs-lookup"><span data-stu-id="92cf3-123">**TAPI 2.x:** See [**lineBlindTransfer**](/windows/win32/api/tapi/nf-tapi-lineblindtransfer), [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span></span>

<span data-ttu-id="92cf3-124">**TAPI 3. x :** Consultez [**ITBasicCallControl :: BlindTransfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-blindtransfer), [**ITAddress :: createCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall), [**ITBasicCallControl :: Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer), [**ITBasicCallControl :: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish).</span><span class="sxs-lookup"><span data-stu-id="92cf3-124">**TAPI 3.x:** See [**ITBasicCallControl::BlindTransfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-blindtransfer), [**ITAddress::CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall), [**ITBasicCallControl::Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer), [**ITBasicCallControl::Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish).</span></span>

 

 
