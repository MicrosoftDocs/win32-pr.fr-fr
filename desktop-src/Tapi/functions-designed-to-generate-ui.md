---
description: Supposons, dans le cadre d’un exemple, que l’application appelle la fonction TAPI lineConfigDialog, qui est conçue pour ouvrir une boîte de dialogue permettant de configurer les options du fournisseur de services relatives à l’appareil de ligne spécifié.
ms.assetid: a388d192-a327-4e67-968b-344d80c19fb1
title: Fonctions conçues pour générer l’interface utilisateur
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fa360effd2a1504d2325be2131c430664f1e7a5c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103951189"
---
# <a name="functions-designed-to-generate-ui"></a><span data-ttu-id="9151f-103">Fonctions conçues pour générer l’interface utilisateur</span><span class="sxs-lookup"><span data-stu-id="9151f-103">Functions Designed to Generate UI</span></span>

<span data-ttu-id="9151f-104">Supposons, dans le cadre d’un exemple, que l’application appelle la fonction TAPI [**lineConfigDialog**](/windows/win32/api/tapi/nf-tapi-lineconfigdialog) , qui est conçue pour ouvrir une boîte de dialogue permettant de configurer les options du fournisseur de services relatives à l’appareil de ligne spécifié.</span><span class="sxs-lookup"><span data-stu-id="9151f-104">Assume for the purposes of an example that the application calls the TAPI [**lineConfigDialog**](/windows/win32/api/tapi/nf-tapi-lineconfigdialog) function, which is designed to open a dialog box to allow configuration of service provider options related to the specified line device.</span></span> <span data-ttu-id="9151f-105">En réponse à cet appel, TAPI demande à TAPISRV d’appeler [**TSPI \_ providerUIIdentify**](/windows/win32/api/tspi/nf-tspi-tspi_provideruiidentify) dans le fournisseur de services de téléphonie, en obtenant le nom de la dll de l’interface utilisateur TSP.</span><span class="sxs-lookup"><span data-stu-id="9151f-105">In response to this call, TAPI requests TAPISRV to call [**TSPI\_providerUIIdentify**](/windows/win32/api/tspi/nf-tspi-tspi_provideruiidentify) in the telephony service provider, obtaining the name of the TSP UI DLL.</span></span>

<span data-ttu-id="9151f-106">Dans le contexte de l’application, TAPI charge la DLL de l’interface utilisateur TSP et appelle la fonction [**TUISPI \_ lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog) avec les paramètres fournis par l’application, et inclut un pointeur vers la fonction [*DllCallbackProc*](/windows/win32/api/tspi/nc-tspi-tuispidllcallback) TAPI.</span><span class="sxs-lookup"><span data-stu-id="9151f-106">In the application's context, TAPI loads the TSP UI DLL and calls the [**TUISPI\_lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog) function with the parameters supplied by the application, and including a pointer to the TAPI [*DllCallbackProc*](/windows/win32/api/tspi/nc-tspi-tuispidllcallback) function.</span></span> <span data-ttu-id="9151f-107">La DLL de l’interface utilisateur TSP affiche la boîte de dialogue Configuration, en appelant la fonction *DllCallbackProc* si nécessaire pour obtenir du fournisseur de services de téléphonie les informations à afficher.</span><span class="sxs-lookup"><span data-stu-id="9151f-107">The TSP UI DLL displays the configuration dialog box, calling the *DllCallbackProc* function as necessary to obtain from the telephony service provider the information to display.</span></span> <span data-ttu-id="9151f-108">Chaque fois que la fonction *DllCallbackProc* est appelée, TAPI demande à tapisrv d’appeler la fonction [**TSPI \_ providerGenericDialogData**](/windows/win32/api/tspi/nf-tspi-tspi_providergenericdialogdata) du fournisseur de services de téléphonie, en passant le bloc de paramètres à partir de la dll de l’interface utilisateur et en renvoyant le bloc de paramètres à la dll de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="9151f-108">Each time the *DllCallbackProc* function is called, TAPI requests TAPISRV to call the telephony service provider's [**TSPI\_providerGenericDialogData**](/windows/win32/api/tspi/nf-tspi-tspi_providergenericdialogdata) function, passing in the parameter block from the UI DLL, and returning the parameter block to the UI DLL.</span></span> <span data-ttu-id="9151f-109">La DLL de l’interface utilisateur transmet toutes les modifications de configuration au fournisseur de services de téléphonie en appelant *DllCallbackProc*.</span><span class="sxs-lookup"><span data-stu-id="9151f-109">The UI DLL conveys any configuration changes to the telephony service provider by calling *DllCallbackProc*.</span></span>

<span data-ttu-id="9151f-110">Une fois la fonction terminée, la DLL de l’interface utilisateur retourne (dans ce cas) [**TUISPI \_ lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog).</span><span class="sxs-lookup"><span data-stu-id="9151f-110">When the function is complete, the UI DLL returns from (in this case) [**TUISPI\_lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog).</span></span> <span data-ttu-id="9151f-111">L’interface TAPI appelle la fonction [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary) pour libérer la dll de l’interface utilisateur et retourne à l’application.</span><span class="sxs-lookup"><span data-stu-id="9151f-111">TAPI calls the [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary) function to release the UI DLL, and returns to the application.</span></span>

 

 
