---
description: La procédure suivante décrit comment activer le suivi et la journalisation du débogage.
ms.assetid: 52381397-df75-4d81-a048-f0ed408ac6b8
title: Comment activer le suivi et la journalisation du débogage pour les MSP dérivés
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3883d12c050f245cc58595c9a52586c4f01ba27f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106524082"
---
# <a name="how-to-enable-debug-tracinglogging-for-derived-msps"></a><span data-ttu-id="6b608-103">Comment activer le suivi et la journalisation du débogage pour les MSP dérivés</span><span class="sxs-lookup"><span data-stu-id="6b608-103">How to Enable Debug Tracing/Logging for Derived MSPs</span></span>

<span data-ttu-id="6b608-104">Tout d’abord, assurez-vous que l’implémentation du MSP dérivé a suivi les instructions de la section précédente en ce qui concerne le suivi du débogage (définition du symbole de préprocesseur MSPLOG, l’inscription pour le suivi pendant DllMain et l’utilisation de la macro LOG pour le suivi).</span><span class="sxs-lookup"><span data-stu-id="6b608-104">First, make sure that the implementation of the derived MSP has followed the guidelines in the previous section with regard to debug tracing (defining the preprocessor symbol MSPLOG, registering for tracing during DllMain, and using the LOG macro for tracing).</span></span> <span data-ttu-id="6b608-105">Déterminez le nom que le MSP utilise lors de l’inscription pour le suivi (il s’agit généralement du nom de la DLL ; il est appelé « nom de la dll » ci-dessous &lt; &gt; ).</span><span class="sxs-lookup"><span data-stu-id="6b608-105">Find out what name the MSP uses when registering for tracing (this should usually be the DLL's name; it is referred to below as "&lt;dll name&gt;").</span></span> <span data-ttu-id="6b608-106">Pour activer le suivi, utilisez un éditeur du Registre (« Regedit.exe » ou « Regedt32.exe ») pour rechercher la clé « HKEY \_ local \_ machine \\ Software \\ Microsoft \\ Tracing » et procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="6b608-106">To enable tracing, use a registry editor ("Regedit.exe" or "Regedt32.exe") to locate the key "HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Tracing" and do the following.</span></span> <span data-ttu-id="6b608-107">Notez que toutes les valeurs mentionnées ci-dessous, à l’exception de la valeur EnableDebuggerTracing, doivent être créées automatiquement après l’exécution de votre MSP pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="6b608-107">Note that all of the values mentioned below, except the EnableDebuggerTracing value, should be created automatically after running your MSP for the first time.</span></span>

-   <span data-ttu-id="6b608-108">Pour activer le traçage vers les débogueurs en mode utilisateur et en mode noyau, affectez la valeur 1 à la valeur **DWORD** <dll name> \\ EnableDebuggerTracing.</span><span class="sxs-lookup"><span data-stu-id="6b608-108">To enable tracing to user and kernel mode debuggers, set the **DWORD** value <dll name>\\EnableDebuggerTracing to 1.</span></span> <span data-ttu-id="6b608-109">Si vous le souhaitez, utilisez la valeur **DWORD** <dll name> \\ ConsoleTracing mask pour activer ou désactiver divers niveaux de sortie de trace (la valeur par défaut est 0xFFFF0000, qui active tous les niveaux de suivi).</span><span class="sxs-lookup"><span data-stu-id="6b608-109">Optionally, use the **DWORD** value <dll name>\\ConsoleTracing Mask to enable or disable various levels of trace output (the default is 0xFFFF0000, which enables all trace levels).</span></span>
-   <span data-ttu-id="6b608-110">Pour activer le suivi d’un fichier, affectez la valeur 1 à la valeur **DWORD** <dll name> \\ EnableFileTracing.</span><span class="sxs-lookup"><span data-stu-id="6b608-110">To enable tracing to a file, set the **DWORD** value <dll name>\\EnableFileTracing to 1.</span></span> <span data-ttu-id="6b608-111">Si vous le souhaitez, utilisez la valeur <dll name> \\ de chaîne répertoirefichiers pour ajuster l’emplacement du fichier journal.</span><span class="sxs-lookup"><span data-stu-id="6b608-111">Optionally, use the string value <dll name>\\FileDirectory to adjust the location of the log file.</span></span> <span data-ttu-id="6b608-112">Si vous le souhaitez, utilisez la valeur **DWORD** <dll name> \\ FileTracingMask pour activer ou désactiver divers niveaux de sortie de trace (la valeur par défaut est 0xFFFF0000, qui active tous les niveaux de suivi).</span><span class="sxs-lookup"><span data-stu-id="6b608-112">Optionally, use the **DWORD** value <dll name>\\FileTracingMask to enable or disable various levels of trace output (the default is 0xFFFF0000, which enables all trace levels).</span></span>
-   <span data-ttu-id="6b608-113">Pour activer le traçage vers une fenêtre de console distincte, en les séparant par une DLL, définissez la valeur **DWORD** EnableConsoleTracing sur 1, et définissez également la valeur **DWORD** <dll name> \\ EnableConsoleTracing sur 1.</span><span class="sxs-lookup"><span data-stu-id="6b608-113">To enable tracing to a separate console window, separated by DLL, set the **DWORD** value EnableConsoleTracing to 1, AND ALSO set the **DWORD** value <dll name>\\EnableConsoleTracing to 1.</span></span> <span data-ttu-id="6b608-114">Si vous le souhaitez, utilisez la valeur **DWORD** <dll name> \\ ConsoleTracing mask pour activer ou désactiver divers niveaux de sortie de trace (la valeur par défaut est 0xFFFF0000, qui active tous les niveaux de suivi).</span><span class="sxs-lookup"><span data-stu-id="6b608-114">Optionally, use the **DWORD** value <dll name>\\ConsoleTracing Mask to enable or disable various levels of trace output (the default is 0xFFFF0000, which enables all trace levels).</span></span>

 

 



