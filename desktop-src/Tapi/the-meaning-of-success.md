---
description: Quand un opertion retourne SUCCESS, la fonction a réussi à atteindre un point défini par l’API sur une fonction par fonction.
ms.assetid: e4077d77-dee1-4f1a-a6ee-20ca2f92a1ec
title: Signification du succès
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d183695e9dce9df88dea5fe9464f16163130cd0f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106544992"
---
# <a name="the-meaning-of-success"></a><span data-ttu-id="06160-103">Signification du succès</span><span class="sxs-lookup"><span data-stu-id="06160-103">The Meaning of SUCCESS</span></span>

## <a name="tapi-2x"></a><span data-ttu-id="06160-104">TAPI 2. x</span><span class="sxs-lookup"><span data-stu-id="06160-104">TAPI 2.x</span></span>

<span data-ttu-id="06160-105">Lorsqu’une opération retourne un indicateur de réussite (soit de façon synchrone au retour de la fonction pour les opérations synchrones, soit de manière asynchrone via un message de [**\_ réponse de ligne**](./line-reply.md) ou de [**\_ réponse téléphonique**](./phone-reply.md) pour les opérations asynchrones), le code suivant est supposé être vrai :</span><span class="sxs-lookup"><span data-stu-id="06160-105">When an operation returns a SUCCESS indication (either synchronously upon function return for synchronous operations, or asynchronously through a [**LINE\_REPLY**](./line-reply.md) or [**PHONE\_REPLY**](./phone-reply.md) message for asynchronous operations), the following is assumed to be true:</span></span>

-   <span data-ttu-id="06160-106">La fonction a bien progressé jusqu’à un point défini par l’API sur une base fonction par fonction.</span><span class="sxs-lookup"><span data-stu-id="06160-106">The function has successfully progressed to a point that is defined by the API on a function-by-function basis.</span></span> <span data-ttu-id="06160-107">Une fois ce point atteint, l’opération est complètement terminée, ou elle est dans un état tel que les messages d’État indépendants informent l’application de la progression suivante.</span><span class="sxs-lookup"><span data-stu-id="06160-107">After that point has been reached, either the operation is completely finished, or it will be in a state such that independent state messages will inform the application about subsequent progress.</span></span>

    <span data-ttu-id="06160-108">Par exemple, l’implémentation d’un fournisseur de services de [**lineMakeCall**](/windows/win32/api/tapi/nf-tapi-linemakecall) doit retourner Success au plus tard lorsque l’appel passe à l’état d’appel de procédure.</span><span class="sxs-lookup"><span data-stu-id="06160-108">For example, a service provider's implementation of [**lineMakeCall**](/windows/win32/api/tapi/nf-tapi-linemakecall) should return SUCCESS no later than when the call enters the proceeding call state.</span></span> <span data-ttu-id="06160-109">Dans l’idéal, le fournisseur doit indiquer la réussite dès que possible, par exemple lorsque l’appel passe à l’état d’appel de tonalité (le cas échéant).</span><span class="sxs-lookup"><span data-stu-id="06160-109">Ideally, the provider should indicate SUCCESS as soon as possible, such as when the call enters the dial tone call state (if applicable).</span></span> <span data-ttu-id="06160-110">Une fois la réussite renvoyée à l’application, les \_ messages CALLSTATE de ligne informent l’application de la progression de l’appel.</span><span class="sxs-lookup"><span data-stu-id="06160-110">Once SUCCESS has been returned to the application, LINE\_CALLSTATE messages will inform the application about the progress of the call.</span></span> <span data-ttu-id="06160-111">Les fournisseurs de services qui retardent le renvoi de l’indication de réussite **lineMakeCall** , par exemple, jusqu’à la fin de la numérotation, doivent savoir que ce fournisseur a un inconvénient, car la facilité d’utilisation au niveau de l’application peut être sévèrement limitée.</span><span class="sxs-lookup"><span data-stu-id="06160-111">Service providers that delay returning the **lineMakeCall** SUCCESS indication, for example, until after dialing is complete, must be aware that this places that provider at a disadvantage because the usability at the application level may be severely limited.</span></span> <span data-ttu-id="06160-112">Par exemple, il n’est pas possible pour un utilisateur d’annuler la demande d’appel en cours tant que la numérotation n’est pas terminée et que tous les chiffres n’ont pas été envoyés au commutateur.</span><span class="sxs-lookup"><span data-stu-id="06160-112">For example, it would not be possible for a user to cancel the call setup request in progress until after dialing is complete and all digits had been sent to the switch.</span></span>

-   <span data-ttu-id="06160-113">Les fonctions qui retournent des informations (comme [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo)) retournent Success uniquement lorsque les informations demandées sont disponibles pour l’application.</span><span class="sxs-lookup"><span data-stu-id="06160-113">Functions that return information (such as [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo)) return SUCCESS only when the requested information is available to the application.</span></span> <span data-ttu-id="06160-114">Les fonctions qui retournent des handles (vers des lignes ou des appels) peuvent retourner SUCCESS uniquement une fois que le handle est valide.</span><span class="sxs-lookup"><span data-stu-id="06160-114">Functions that return handles (to lines or calls), can return SUCCESS only after the handle is valid.</span></span> <span data-ttu-id="06160-115">Aucun message ne doit être envoyé à propos de cette ligne ou appel avant la réussite de l’indication de la fonction qui a provoqué sa création.</span><span class="sxs-lookup"><span data-stu-id="06160-115">No messages should be sent about that line or call prior to the SUCCESS indication of the function that caused its creation.</span></span> <span data-ttu-id="06160-116">Le fournisseur de services est responsable de la suppression de ces messages.</span><span class="sxs-lookup"><span data-stu-id="06160-116">The service provider is responsible for suppressing such messages.</span></span>
-   <span data-ttu-id="06160-117">Les fonctions qui activent certaines conditions permanentes (telles que [**lineMonitorDigits**](/windows/win32/api/tapi/nf-tapi-linemonitordigits)) retournent Success uniquement une fois la condition activée, et non lorsque la condition est de nouveau supprimée (par exemple, pas lorsque l’analyse de tous les chiffres est terminée).</span><span class="sxs-lookup"><span data-stu-id="06160-117">Functions that enable certain permanent conditions (such as [**lineMonitorDigits**](/windows/win32/api/tapi/nf-tapi-linemonitordigits)) return SUCCESS only after the condition is enabled, not when the condition is removed again (for example, not when all digit monitoring has completed).</span></span>
-   <span data-ttu-id="06160-118">Les fonctions de contrôle d’appel (telles que [**lineHold**](/windows/win32/api/tapi/nf-tapi-linehold) ou [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), mais pas [**LINEMAKECALL**](/windows/win32/api/tapi/nf-tapi-linemakecall)) retournent Success lorsque l’opération est terminée.</span><span class="sxs-lookup"><span data-stu-id="06160-118">Call-control functions (such as [**lineHold**](/windows/win32/api/tapi/nf-tapi-linehold) or [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), but not [**lineMakeCall**](/windows/win32/api/tapi/nf-tapi-linemakecall)) return SUCCESS when the operation is completed.</span></span> <span data-ttu-id="06160-119">Certains réseaux téléphoniques ne fournissent pas d’accusé de réception (positif ou négatif) sur l’achèvement de certaines demandes effectuées par les fournisseurs de services.</span><span class="sxs-lookup"><span data-stu-id="06160-119">Some telephone networks do not provide acknowledgment (positive or negative) about the completion of certain requests made by service providers.</span></span> <span data-ttu-id="06160-120">Dans ce cas, le fournisseur de services doit décider de la réussite ou de l’échec de la demande.</span><span class="sxs-lookup"><span data-stu-id="06160-120">In such situations, the service provider must decide upon success or failure of the request.</span></span> <span data-ttu-id="06160-121">Par conséquent, la réussite peut indiquer que le fournisseur de services a initié des actions pour satisfaire la demande, mais pas nécessairement quelque chose de plus.</span><span class="sxs-lookup"><span data-stu-id="06160-121">Therefore, SUCCESS may indicate that the service provider has initiated actions to fulfill the request, but not necessarily anything more.</span></span> <span data-ttu-id="06160-122">Par exemple, le fournisseur peut recevoir des accusés de réception affirmatives à sa demande du commutateur, bien qu’il ait déjà envoyé un message de réussite à l’application.</span><span class="sxs-lookup"><span data-stu-id="06160-122">For example, the provider may receive no affirmative acknowledgment to its request from the switch, although it has already sent a success message to the application.</span></span>

## <a name="tapi-3x"></a><span data-ttu-id="06160-123">TAPI 3. x</span><span class="sxs-lookup"><span data-stu-id="06160-123">TAPI 3.x</span></span>

<span data-ttu-id="06160-124">Lorsqu’une opération retourne un indicateur de réussite (soit de façon synchrone au retour de la fonction pour les opérations synchrones, soit de manière asynchrone avec un appel à la procédure de rappel d' [**\_ achèvement Async**](/windows/win32/api/tspi/nc-tspi-async_completion) pour les opérations asynchrones), les éléments suivants sont supposés être vrais :</span><span class="sxs-lookup"><span data-stu-id="06160-124">When an operation returns a SUCCESS indication (either synchronously upon function return for synchronous operations, or asynchronously with a call to the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback procedure for asynchronous operations), then the following are assumed to be true:</span></span>

-   <span data-ttu-id="06160-125">La fonction a progressé avec succès jusqu’à un point défini par le fournisseur de services.</span><span class="sxs-lookup"><span data-stu-id="06160-125">The function has successfully progressed up to a service-provider-defined point.</span></span> <span data-ttu-id="06160-126">Le fournisseur de services définit le point sur une base fonction par fonction.</span><span class="sxs-lookup"><span data-stu-id="06160-126">The service provider defines the point on a function-by-function basis.</span></span> <span data-ttu-id="06160-127">Après avoir atteint ce point, l’opération est complètement terminée ou est dans un état tel que les messages d’État indépendants suivants informent l’application de la progression.</span><span class="sxs-lookup"><span data-stu-id="06160-127">After reaching that point, either the operation is completely finished, or it is in a state such that subsequent independent state messages will inform the application about progress.</span></span>
-   <span data-ttu-id="06160-128">Les fonctions qui retournent des informations (telles que [**TSPI \_ LinePark**](/windows/win32/api/tspi/nf-tspi-tspi_linepark) ou [**TSPI \_ LINEDEVSPECIFIC**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific)) retournent Success uniquement lorsque les informations demandées sont disponibles pour l’appelant.</span><span class="sxs-lookup"><span data-stu-id="06160-128">Functions that return information (such as [**TSPI\_linePark**](/windows/win32/api/tspi/nf-tspi-tspi_linepark) or [**TSPI\_lineDevSpecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific)) return SUCCESS only when the requested information is available to the caller.</span></span> <span data-ttu-id="06160-129">Les fonctions qui retournent des handles (vers des lignes ouvertes, des téléphones ouverts ou des appels) retournent immédiatement les handles lors du retour de la fonction.</span><span class="sxs-lookup"><span data-stu-id="06160-129">Functions that return handles (to opened lines, opened phones, or calls) return the handles immediately on function return.</span></span> <span data-ttu-id="06160-130">Le fournisseur de services et l’appelant doivent traiter les handles comme « non encore valides » jusqu’à l’indication de réussite.</span><span class="sxs-lookup"><span data-stu-id="06160-130">Both the service provider and the caller must treat the handles as "not yet valid" until the eventual SUCCESS indication.</span></span> <span data-ttu-id="06160-131">Il incombe au fournisseur de services d’empêcher tout message de rappel de la procédure [**LINEEVENT**](/windows/win32/api/tspi/nc-tspi-lineevent) ou [**PHONEEVENT**](/windows/desktop/api/tspi/nc-tspi-phoneevent) sur la ligne ouverte, le téléphone ouvert ou d’appeler jusqu’à la fin de l’indication de réussite.</span><span class="sxs-lookup"><span data-stu-id="06160-131">The service provider is responsible for preventing any callback messages to the [**LINEEVENT**](/windows/win32/api/tspi/nc-tspi-lineevent) or [**PHONEEVENT**](/windows/desktop/api/tspi/nc-tspi-phoneevent) procedure about that opened line, opened phone, or call until after the SUCCESS indication.</span></span> <span data-ttu-id="06160-132">Si le résultat final est une erreur, tous les descripteurs retournés immédiatement deviennent non valides sans action supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="06160-132">If the eventual result is an error, any handle returned immediately becomes invalid without any further action.</span></span>
-   <span data-ttu-id="06160-133">Les fonctions qui activent certaines conditions permanentes (comme [**TSPI \_ lineMonitorDigits**](/windows/win32/api/tspi/nf-tspi-tspi_linemonitordigits)) retournent Success uniquement une fois que la condition est activée, et non lorsque la condition est de nouveau supprimée (par exemple, pas lorsque la surveillance digit est terminée).</span><span class="sxs-lookup"><span data-stu-id="06160-133">Functions that enable certain permanent conditions (like [**TSPI\_lineMonitorDigits**](/windows/win32/api/tspi/nf-tspi-tspi_linemonitordigits)) return SUCCESS only after the condition is enabled, not when the condition is removed again (for example, not when digit monitoring is complete).</span></span>
-   <span data-ttu-id="06160-134">Les fonctions de contrôle d’appel (telles que [**TSPI \_ LineHold**](/windows/win32/api/tspi/nf-tspi-tspi_linehold) et [**TSPI \_ lineSetupTransfer**](/windows/win32/api/tspi/nf-tspi-tspi_linesetuptransfer), mais pas [**TSPI \_ lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall)) retournent Success lorsque l’opération est terminée.</span><span class="sxs-lookup"><span data-stu-id="06160-134">Call control functions (such as [**TSPI\_lineHold**](/windows/win32/api/tspi/nf-tspi-tspi_linehold) and [**TSPI\_lineSetupTransfer**](/windows/win32/api/tspi/nf-tspi-tspi_linesetuptransfer), but not [**TSPI\_lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall)) return SUCCESS when the operation is completed.</span></span> <span data-ttu-id="06160-135">Dans les environnements de téléphonie qui ne fournissent pas d’accusé de réception positif de ces fonctions, le fournisseur de services est contraint de prendre une décision au mieux en ce qui concerne la réussite ou l’échec de la fonction.</span><span class="sxs-lookup"><span data-stu-id="06160-135">In telephony environments that do not provide positive acknowledgment of these functions, the service provider is forced to make a best-effort decision as to the success or failure of the function.</span></span>
-   <span data-ttu-id="06160-136">L’implémentation d’un fournisseur de services de [**TSPI \_ lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall) doit retourner Success au plus tard lorsque l’appel passe à l’état d’appel de *procédure* .</span><span class="sxs-lookup"><span data-stu-id="06160-136">A service provider's implementation of [**TSPI\_lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall) must return SUCCESS no later than when the call enters the *proceeding* call state.</span></span> <span data-ttu-id="06160-137">Dans l’idéal, le fournisseur indique la réussite dès que possible, par exemple lorsque l’appel passe à l’état de l’appel de *tonalité* (le cas échéant).</span><span class="sxs-lookup"><span data-stu-id="06160-137">Ideally, the provider indicates SUCCESS as soon as possible, such as when the call enters the *dialtone* call state (if applicable).</span></span> <span data-ttu-id="06160-138">Lorsque la réussite est retournée à l’application, les messages [**\_ CALLSTATE de ligne**](/previous-versions/windows/desktop/legacy/ms725219(v=vs.85)) informent l’appelant sur la progression de l’appel.</span><span class="sxs-lookup"><span data-stu-id="06160-138">When SUCCESS is returned to the application, [**LINE\_CALLSTATE**](/previous-versions/windows/desktop/legacy/ms725219(v=vs.85)) messages inform the caller about the progress of the call.</span></span> <span data-ttu-id="06160-139">Les fournisseurs de services qui retardent le renvoi de l’indication de réussite **TSPI \_ lineMakeCall** , par exemple, jusqu’à la fin de la numérotation, limitent sérieusement la flexibilité au niveau de l’application.</span><span class="sxs-lookup"><span data-stu-id="06160-139">Service providers that delay returning the **TSPI\_lineMakeCall** SUCCESS indication, for example, until after dialing is complete, severely limit flexibility at the application level.</span></span> <span data-ttu-id="06160-140">Un délai de renvoi de la réussite dans **TSPI \_ lineMakeCall** empêche un utilisateur d’annuler la demande d’appel en cours jusqu’à ce que la numérotation soit terminée et que tous les chiffres soient envoyés au commutateur.</span><span class="sxs-lookup"><span data-stu-id="06160-140">Delay in returning SUCCESS in **TSPI\_lineMakeCall** prevents a user from canceling the call setup request in progress until after dialing is complete, and all digits are sent to the switch.</span></span>

 

 
