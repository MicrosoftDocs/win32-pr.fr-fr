---
title: À propos des listes d’images
description: Une liste d’images est une collection d’images de même taille, dont chacune peut être référencée par son index.
ms.assetid: vs|controls|~\controls\imagelist\imagelist.htm
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f059e89b04d16088fff1d937bd29cb23a427d4c2
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "104316530"
---
# <a name="about-image-lists"></a><span data-ttu-id="98117-103">À propos des listes d’images</span><span class="sxs-lookup"><span data-stu-id="98117-103">About Image Lists</span></span>

<span data-ttu-id="98117-104">Une liste d’images est une collection d’images de même taille, dont chacune peut être référencée par son index.</span><span class="sxs-lookup"><span data-stu-id="98117-104">An image list is a collection of images of the same size, each of which can be referred to by its index.</span></span> <span data-ttu-id="98117-105">Les listes d’images permettent de gérer efficacement de grands ensembles d’icônes ou de bitmaps.</span><span class="sxs-lookup"><span data-stu-id="98117-105">Image lists are used to efficiently manage large sets of icons or bitmaps.</span></span> <span data-ttu-id="98117-106">Toutes les images d’une liste d’images sont contenues dans un seul bitmap de grande largeur dans le format de l’appareil à l’écran.</span><span class="sxs-lookup"><span data-stu-id="98117-106">All images in an image list are contained in a single, wide bitmap in screen device format.</span></span> <span data-ttu-id="98117-107">Une liste d’images peut également inclure une bitmap monochrome qui contient des masques utilisés pour dessiner des images en toute transparence (style d’icône).</span><span class="sxs-lookup"><span data-stu-id="98117-107">An image list can also include a monochrome bitmap that contains masks that are used to draw images transparently (icon style).</span></span>

<span data-ttu-id="98117-108">L’API Microsoft Win32 fournit des fonctions de liste d’images et des macros qui vous permettent de créer et de détruire des listes d’images, d’ajouter et de supprimer des images, de remplacer et de fusionner des images, de dessiner des images et de faire glisser des images.</span><span class="sxs-lookup"><span data-stu-id="98117-108">The Microsoft Win32 API provides image list functions and macros that enable you to create and destroy image lists, add and remove images, replace and merge images, draw images, and drag images.</span></span> <span data-ttu-id="98117-109">Pour utiliser les fonctions de liste d’images, incluez le fichier d’en-tête de contrôle commun dans vos fichiers de code source et liez-le à la bibliothèque d’exportation de contrôle commune.</span><span class="sxs-lookup"><span data-stu-id="98117-109">To use the image list functions, include the common control header file in your source code files and link with the common control export library.</span></span> <span data-ttu-id="98117-110">En outre, avant d’appeler une fonction de liste d’images, utilisez la fonction [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) ou [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) pour vous assurer que la dll de contrôles communs est chargée.</span><span class="sxs-lookup"><span data-stu-id="98117-110">In addition, before calling any image list function, use the [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) or [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) function to ensure that the common control DLL is loaded.</span></span>

<span data-ttu-id="98117-111">Les rubriques suivantes sont présentées dans cette section :</span><span class="sxs-lookup"><span data-stu-id="98117-111">The following topics are discussed in this section:</span></span>

-   [<span data-ttu-id="98117-112">Types</span><span class="sxs-lookup"><span data-stu-id="98117-112">Types</span></span>](#types)
-   [<span data-ttu-id="98117-113">Création et destruction de listes d’images</span><span class="sxs-lookup"><span data-stu-id="98117-113">Creating and Destroying Image Lists</span></span>](#creating-and-destroying-image-lists)
-   [<span data-ttu-id="98117-114">Ajout et suppression d’images</span><span class="sxs-lookup"><span data-stu-id="98117-114">Adding and Removing Images</span></span>](#adding-and-removing-images)
-   [<span data-ttu-id="98117-115">Remplacement et fusion d’images</span><span class="sxs-lookup"><span data-stu-id="98117-115">Replacing and Merging Images</span></span>](#replacing-and-merging-images)
-   [<span data-ttu-id="98117-116">Dessiner des images</span><span class="sxs-lookup"><span data-stu-id="98117-116">Drawing Images</span></span>](#drawing-images)
-   [<span data-ttu-id="98117-117">Faire glisser des images</span><span class="sxs-lookup"><span data-stu-id="98117-117">Dragging Images</span></span>](#dragging-images)
-   [<span data-ttu-id="98117-118">Informations sur l’image</span><span class="sxs-lookup"><span data-stu-id="98117-118">Image Information</span></span>](#image-information)
-   [<span data-ttu-id="98117-119">Superpositions d’images</span><span class="sxs-lookup"><span data-stu-id="98117-119">Image Overlays</span></span>](#image-overlays)
-   [<span data-ttu-id="98117-120">Icônes d’anticrénelage 32 bits</span><span class="sxs-lookup"><span data-stu-id="98117-120">32-Bit Antialiased Icons</span></span>](#32-bit-antialiased-icons)

## <a name="types"></a><span data-ttu-id="98117-121">Types</span><span class="sxs-lookup"><span data-stu-id="98117-121">Types</span></span>

<span data-ttu-id="98117-122">Il existe deux types de listes d’images : non masqué et masqué.</span><span class="sxs-lookup"><span data-stu-id="98117-122">There are two types of image lists: nonmasked and masked.</span></span> <span data-ttu-id="98117-123">Une liste d’images non masquées se compose d’une image bitmap de couleur qui contient une ou plusieurs images.</span><span class="sxs-lookup"><span data-stu-id="98117-123">A nonmasked image list consists of a color bitmap that contains one or more images.</span></span> <span data-ttu-id="98117-124">Une liste d’images masquées est constituée de deux bitmaps de taille égale.</span><span class="sxs-lookup"><span data-stu-id="98117-124">A masked image list consists of two bitmaps of equal size.</span></span> <span data-ttu-id="98117-125">La première est une image bitmap de couleur qui contient les images, tandis que la seconde est une image bitmap monochrome qui contient une série de masques, un pour chaque image de la première bitmap.</span><span class="sxs-lookup"><span data-stu-id="98117-125">The first is a color bitmap that contains the images, and the second is a monochrome bitmap that contains a series of masks—one for each image in the first bitmap.</span></span>

<span data-ttu-id="98117-126">Lorsqu’une image non masquée est dessinée, elle est simplement copiée dans le contexte de périphérique cible ; autrement dit, il est dessiné sur la couleur d’arrière-plan existante du contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="98117-126">When a nonmasked image is drawn, it is simply copied into the target device context; that is, it is drawn over the existing background color of the device context.</span></span> <span data-ttu-id="98117-127">Quand une image masquée est dessinée, les bits de l’image sont combinés avec les bits du masque, ce qui produit généralement des zones transparentes dans la bitmap où la couleur d’arrière-plan du contexte de périphérique cible s’affiche.</span><span class="sxs-lookup"><span data-stu-id="98117-127">When a masked image is drawn, the bits of the image are combined with the bits of the mask, typically producing transparent areas in the bitmap where the background color of the target device context shows through.</span></span> <span data-ttu-id="98117-128">Vous pouvez spécifier plusieurs styles de dessin quand vous dessinez une image masquée.</span><span class="sxs-lookup"><span data-stu-id="98117-128">There are several drawing styles that you can specify when drawing a masked image.</span></span> <span data-ttu-id="98117-129">Par exemple, vous pouvez spécifier que l’image soit pour indiquer un objet sélectionné.</span><span class="sxs-lookup"><span data-stu-id="98117-129">For example, you can specify that the image be dithered to indicate a selected object.</span></span>

## <a name="creating-and-destroying-image-lists"></a><span data-ttu-id="98117-130">Création et destruction de listes d’images</span><span class="sxs-lookup"><span data-stu-id="98117-130">Creating and Destroying Image Lists</span></span>

<span data-ttu-id="98117-131">Pour créer une liste d’images, appelez la fonction [**ImageList \_ Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) .</span><span class="sxs-lookup"><span data-stu-id="98117-131">You create an image list by calling the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function.</span></span> <span data-ttu-id="98117-132">Les paramètres incluent le type de liste d’images à créer, les dimensions de chaque image et le nombre d’images que vous avez l’intention d’ajouter à la liste.</span><span class="sxs-lookup"><span data-stu-id="98117-132">The parameters include the type of image list to create, the dimensions of each image, and the number of images you intend to add to the list.</span></span> <span data-ttu-id="98117-133">Pour une liste d’images non masquées, la fonction crée une seule bitmap suffisamment grande pour contenir le nombre spécifié d’images des dimensions données.</span><span class="sxs-lookup"><span data-stu-id="98117-133">For a nonmasked image list, the function creates a single bitmap large enough to hold the specified number of images of the given dimensions.</span></span> <span data-ttu-id="98117-134">Ensuite, il crée un contexte de périphérique compatible avec l’écran et y sélectionne la bitmap.</span><span class="sxs-lookup"><span data-stu-id="98117-134">Then it creates a screen-compatible device context and selects the bitmap into it.</span></span> <span data-ttu-id="98117-135">Pour une liste d’images masquées, la fonction crée deux bitmaps et deux contextes de périphérique compatibles avec l’écran.</span><span class="sxs-lookup"><span data-stu-id="98117-135">For a masked image list, the function creates two bitmaps and two screen-compatible device contexts.</span></span> <span data-ttu-id="98117-136">Il sélectionne l’image bitmap dans un contexte de périphérique et le bitmap de masque dans l’autre.</span><span class="sxs-lookup"><span data-stu-id="98117-136">It selects the image bitmap into one device context and the mask bitmap into the other.</span></span> <span data-ttu-id="98117-137">La DLL du contrôle commun contient le code exécutable pour les fonctions de la liste d’images.</span><span class="sxs-lookup"><span data-stu-id="98117-137">The common control DLL contains the executable code for the image list functions.</span></span>

<span data-ttu-id="98117-138">Dans [**ImageList \_ Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create), vous spécifiez le nombre initial d’images qui figureront dans une liste d’images, ainsi que le nombre d’images par lesquelles la liste peut croître.</span><span class="sxs-lookup"><span data-stu-id="98117-138">In [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create), you specify the initial number of images that will be in an image list as well as the number of images by which the list can grow.</span></span> <span data-ttu-id="98117-139">Par conséquent, si vous essayez d’ajouter d’autres images que celles initialement spécifiées, la liste d’images augmente automatiquement pour s’adapter aux nouvelles images.</span><span class="sxs-lookup"><span data-stu-id="98117-139">So if you attempt to add more images than you initially specified, the image list automatically grows to accommodate the new images.</span></span>

<span data-ttu-id="98117-140">Si [**la \_ création de ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) s’effectue correctement, elle retourne un handle vers le type HIMAGELIST.</span><span class="sxs-lookup"><span data-stu-id="98117-140">If [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) succeeds, it returns a handle to the HIMAGELIST type.</span></span> <span data-ttu-id="98117-141">Vous utilisez ce handle dans d’autres fonctions de liste d’images pour accéder à la liste d’images et gérer les images.</span><span class="sxs-lookup"><span data-stu-id="98117-141">You use this handle in other image list functions to access the image list and manage the images.</span></span> <span data-ttu-id="98117-142">Vous pouvez ajouter et supprimer des images, copier des images d’une liste d’images vers une autre, et fusionner des images de deux listes d’images différentes.</span><span class="sxs-lookup"><span data-stu-id="98117-142">You can add and remove images, copy images from one image list to another, and merge images from two different image lists.</span></span> <span data-ttu-id="98117-143">Lorsque vous n’avez plus besoin d’une liste d’images, vous pouvez la détruire en spécifiant son handle dans un appel à la fonction de [**\_ destruction ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_destroy) .</span><span class="sxs-lookup"><span data-stu-id="98117-143">When you no longer need an image list, you can destroy it by specifying its handle in a call to the [**ImageList\_Destroy**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_destroy) function.</span></span>

## <a name="adding-and-removing-images"></a><span data-ttu-id="98117-144">Ajout et suppression d’images</span><span class="sxs-lookup"><span data-stu-id="98117-144">Adding and Removing Images</span></span>

<span data-ttu-id="98117-145">Vous pouvez ajouter des images bitmap, des icônes ou des curseurs à une liste d’images.</span><span class="sxs-lookup"><span data-stu-id="98117-145">You can add bitmapped images, icons, or cursors to an image list.</span></span> <span data-ttu-id="98117-146">Vous ajoutez des images bitmap en spécifiant les descripteurs à deux bitmaps dans un appel à la fonction [**ImageList \_ Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add) .</span><span class="sxs-lookup"><span data-stu-id="98117-146">You add bitmapped images by specifying the handles to two bitmaps in a call to the [**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add) function.</span></span> <span data-ttu-id="98117-147">La première bitmap contient une ou plusieurs images à ajouter à la bitmap de l’image, et la deuxième bitmap contient les masques à ajouter à la bitmap du masque.</span><span class="sxs-lookup"><span data-stu-id="98117-147">The first bitmap contains one or more images to add to the image bitmap, and the second bitmap contains the masks to add to the mask bitmap.</span></span> <span data-ttu-id="98117-148">Pour les listes d’images non masquées, le deuxième descripteur de bitmap est ignoré ; elle peut avoir la valeur **null**.</span><span class="sxs-lookup"><span data-stu-id="98117-148">For nonmasked image lists, the second bitmap handle is ignored; it can be set to **NULL**.</span></span>

<span data-ttu-id="98117-149">La [**fonction \_ AddMasked ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked) ajoute également des images bitmap à une liste d’images masquées.</span><span class="sxs-lookup"><span data-stu-id="98117-149">The [**ImageList\_AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked) function also adds bitmapped images to a masked image list.</span></span> <span data-ttu-id="98117-150">Cette fonction est similaire à [**l' \_ Ajout ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), sauf que vous ne spécifiez pas d’image bitmap de masque.</span><span class="sxs-lookup"><span data-stu-id="98117-150">This function is similar to [**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), except that you do not specify a mask bitmap.</span></span> <span data-ttu-id="98117-151">Au lieu de cela, vous spécifiez une couleur que le système associe à la bitmap de l’image pour générer automatiquement les masques.</span><span class="sxs-lookup"><span data-stu-id="98117-151">Instead, you specify a color that the system combines with the image bitmap to automatically generate the masks.</span></span> <span data-ttu-id="98117-152">Chaque pixel de la couleur spécifiée dans la bitmap d’image est remplacé par le noir et le bit correspondant dans le masque est défini sur 1.</span><span class="sxs-lookup"><span data-stu-id="98117-152">Each pixel of the specified color in the image bitmap is changed to black, and the corresponding bit in the mask is set to 1.</span></span> <span data-ttu-id="98117-153">Par conséquent, tout pixel de l’image qui correspond à la couleur spécifiée est transparent lorsque l’image est dessinée.</span><span class="sxs-lookup"><span data-stu-id="98117-153">As a result, any pixel in the image that matches the specified color is transparent when the image is drawn.</span></span>

<span data-ttu-id="98117-154">La [**macro \_ addicon ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) ajoute une icône ou un curseur à une liste d’images.</span><span class="sxs-lookup"><span data-stu-id="98117-154">The [**ImageList\_AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) macro adds an icon or cursor to an image list.</span></span> <span data-ttu-id="98117-155">Si la liste d’images est masquée, **ImageList \_ addicon** ajoute le masque fourni avec l’icône ou le curseur à la bitmap de masque.</span><span class="sxs-lookup"><span data-stu-id="98117-155">If the image list is masked, **ImageList\_AddIcon** adds the mask that is provided with the icon or cursor to the mask bitmap.</span></span> <span data-ttu-id="98117-156">Si la liste d’images n’est pas masquée, le masque de l’icône ou du curseur n’est pas utilisé lors du dessin de l’image.</span><span class="sxs-lookup"><span data-stu-id="98117-156">If the image list is nonmasked, the mask for the icon or cursor is not used when drawing the image.</span></span>

<span data-ttu-id="98117-157">Vous pouvez créer une icône basée sur une image et un masque dans une liste d’images à l’aide de la fonction [**\_ GetIcon ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_geticon) .</span><span class="sxs-lookup"><span data-stu-id="98117-157">You can create an icon based on an image and mask in an image list by using the [**ImageList\_GetIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_geticon) function.</span></span> <span data-ttu-id="98117-158">La fonction retourne le handle vers la nouvelle icône.</span><span class="sxs-lookup"><span data-stu-id="98117-158">The function returns the handle to the new icon.</span></span>

<span data-ttu-id="98117-159">[**ImageList \_ Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), [**ImageList \_ AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked)et [**ImageList \_ addicon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) affectent un index à chaque image quand elle est ajoutée à une liste d’images.</span><span class="sxs-lookup"><span data-stu-id="98117-159">[**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), [**ImageList\_AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked), and [**ImageList\_AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) assign an index to each image as it is added to an image list.</span></span> <span data-ttu-id="98117-160">Les index sont de base zéro ; autrement dit, la première image de la liste a un index égal à zéro, la suivante a un index d’un, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="98117-160">The indexes are zero-based; that is, the first image in the list has an index of zero, the next has an index of one, and so on.</span></span> <span data-ttu-id="98117-161">Après l’ajout d’une seule image, les fonctions retournent l’index de l’image.</span><span class="sxs-lookup"><span data-stu-id="98117-161">After adding a single image, the functions return the index of the image.</span></span> <span data-ttu-id="98117-162">Quand plusieurs images sont ajoutées à la fois, les fonctions retournent l’index de la première image.</span><span class="sxs-lookup"><span data-stu-id="98117-162">When more than one image is added at a time, the functions return the index of the first image.</span></span>

<span data-ttu-id="98117-163">La fonction [**ImageList \_ Remove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_remove) supprime une image d’une liste d’images.</span><span class="sxs-lookup"><span data-stu-id="98117-163">The [**ImageList\_Remove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_remove) function removes an image from an image list.</span></span>

## <a name="replacing-and-merging-images"></a><span data-ttu-id="98117-164">Remplacement et fusion d’images</span><span class="sxs-lookup"><span data-stu-id="98117-164">Replacing and Merging Images</span></span>

<span data-ttu-id="98117-165">Les fonctions [**ImageList \_ Replace**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replace) et [**ImageList \_ ReplaceIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replaceicon) remplacent une image dans une liste d’images par une nouvelle image.</span><span class="sxs-lookup"><span data-stu-id="98117-165">The [**ImageList\_Replace**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replace) and [**ImageList\_ReplaceIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replaceicon) functions replace an image in an image list with a new image.</span></span> <span data-ttu-id="98117-166">**ImageList \_ Replace** remplace une image par une image bitmap et un masque, tandis que **ImageList \_ ReplaceIcon** remplace une image par une icône ou un curseur.</span><span class="sxs-lookup"><span data-stu-id="98117-166">**ImageList\_Replace** replaces an image with a bitmapped image and mask, and **ImageList\_ReplaceIcon** replaces an image with an icon or cursor.</span></span>

<span data-ttu-id="98117-167">La fonction de [**\_ fusion ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_merge) fusionne deux images, en stockant la nouvelle image dans une nouvelle liste d’images.</span><span class="sxs-lookup"><span data-stu-id="98117-167">The [**ImageList\_Merge**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_merge) function merges two images, storing the new image in a new image list.</span></span> <span data-ttu-id="98117-168">La nouvelle image est créée en dessinant la deuxième image de manière transparente sur la première.</span><span class="sxs-lookup"><span data-stu-id="98117-168">The new image is created by drawing the second image transparently over the first.</span></span> <span data-ttu-id="98117-169">Le masque de la nouvelle image résulte de l’exécution d’une opération **or** logique sur les bits des masques pour les deux images existantes.</span><span class="sxs-lookup"><span data-stu-id="98117-169">The mask for the new image is the result of performing a logical **OR** operation on the bits of the masks for the two existing images.</span></span>

## <a name="drawing-images"></a><span data-ttu-id="98117-170">Dessiner des images</span><span class="sxs-lookup"><span data-stu-id="98117-170">Drawing Images</span></span>

<span data-ttu-id="98117-171">Pour dessiner une image, vous utilisez la fonction [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) ou [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) .</span><span class="sxs-lookup"><span data-stu-id="98117-171">To draw an image, you use the [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) function.</span></span> <span data-ttu-id="98117-172">Vous spécifiez le handle d’une liste d’images, l’index de l’image à dessiner, le handle vers le contexte de périphérique de destination, un emplacement dans le contexte de périphérique et un ou plusieurs styles de dessin.</span><span class="sxs-lookup"><span data-stu-id="98117-172">You specify the handle to an image list, the index of the image to draw, the handle to the destination device context, a location within the device context, and one or more drawing styles.</span></span>

<span data-ttu-id="98117-173">Lorsque vous spécifiez le style **\_ transparent icher** , [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) ou [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) utilise un processus en deux étapes pour dessiner une image masquée.</span><span class="sxs-lookup"><span data-stu-id="98117-173">When you specify the **ILD\_TRANSPARENT** style, [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) uses a two-step process to draw a masked image.</span></span> <span data-ttu-id="98117-174">Tout d’abord, elle effectue une opération **and** logique sur les bits de l’image et les bits du masque.</span><span class="sxs-lookup"><span data-stu-id="98117-174">First, it performs a logical **AND** operation on the bits of the image and the bits of the mask.</span></span> <span data-ttu-id="98117-175">Il effectue ensuite une opération **Xor** logique sur les résultats de la première opération et les bits d’arrière-plan du contexte de périphérique de destination.</span><span class="sxs-lookup"><span data-stu-id="98117-175">Then it performs a logical **XOR** operation on the results of the first operation and the background bits of the destination device context.</span></span> <span data-ttu-id="98117-176">Ce processus crée des zones transparentes dans l'image résultante ; autrement dit, chaque bit blanc dans le masque rend le bit correspondant dans l'image résultante transparent.</span><span class="sxs-lookup"><span data-stu-id="98117-176">This process creates transparent areas in the resulting image; that is, each white bit in the mask causes the corresponding bit in the resulting image to be transparent.</span></span>

<span data-ttu-id="98117-177">Avant de dessiner une image masquée sur un arrière-plan de couleur unie, vous devez utiliser la fonction [**ImageList \_ SetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setbkcolor) pour définir la couleur d’arrière-plan de la liste d’images sur la même couleur que la destination.</span><span class="sxs-lookup"><span data-stu-id="98117-177">Before drawing a masked image on a solid color background, you should use the [**ImageList\_SetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setbkcolor) function to set the background color of the image list to the same color as the destination.</span></span> <span data-ttu-id="98117-178">La définition de la couleur élimine la nécessité de créer des zones transparentes dans l’image et permet à [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) ou [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) de simplement copier l’image dans le contexte de périphérique de destination, ce qui entraîne une augmentation significative des performances.</span><span class="sxs-lookup"><span data-stu-id="98117-178">Setting the color eliminates the need to create transparent areas in the image and enables [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) to simply copy the image to the destination device context, resulting in a significant increase in performance.</span></span> <span data-ttu-id="98117-179">Pour dessiner l’image, spécifiez le style **\_ normal icher** dans un appel à **ImageList \_ Draw** ou **ImageList \_ DrawEx**.</span><span class="sxs-lookup"><span data-stu-id="98117-179">To draw the image, specify the **ILD\_NORMAL** style in a call to **ImageList\_Draw** or **ImageList\_DrawEx**.</span></span>

<span data-ttu-id="98117-180">Vous pouvez définir la couleur d’arrière-plan d’une liste d’images masquées à tout moment pour qu’elle soit correctement dessinée sur un arrière-plan Uni.</span><span class="sxs-lookup"><span data-stu-id="98117-180">You can set the background color for a masked image list at any time so that it draws correctly on any solid background.</span></span> <span data-ttu-id="98117-181">Si la couleur d’arrière-plan est définie sur CLR \_ None, les images sont dessinées de manière transparente par défaut.</span><span class="sxs-lookup"><span data-stu-id="98117-181">Setting the background color to CLR\_NONE causes images to be drawn transparently by default.</span></span> <span data-ttu-id="98117-182">Pour récupérer la couleur d’arrière-plan d’une liste d’images, utilisez la fonction [**ImageList \_ GetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getbkcolor) .</span><span class="sxs-lookup"><span data-stu-id="98117-182">To retrieve the background color of an image list, use the [**ImageList\_GetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getbkcolor) function.</span></span>

<span data-ttu-id="98117-183">Les styles **icher \_ BLEND25** et **icher \_ BLEND50** dithernt l’image avec la couleur de surbrillance du système.</span><span class="sxs-lookup"><span data-stu-id="98117-183">The **ILD\_BLEND25** and **ILD\_BLEND50** styles dither the image with the system highlight color.</span></span> <span data-ttu-id="98117-184">Ces styles sont utiles si vous utilisez une image masquée pour représenter un objet que l'utilisateur peut sélectionner.</span><span class="sxs-lookup"><span data-stu-id="98117-184">These styles are useful if you use a masked image to represent an object that the user can select.</span></span> <span data-ttu-id="98117-185">Par exemple, vous pouvez utiliser le style **icher \_ BLEND50** pour dessiner l’image lorsque l’utilisateur la sélectionne.</span><span class="sxs-lookup"><span data-stu-id="98117-185">For example, you can use the **ILD\_BLEND50** style to draw the image when the user selects it.</span></span>

<span data-ttu-id="98117-186">Une image non masquée est copiée dans le contexte de périphérique de destination à l’aide de l’opération SRCCOPY raster.</span><span class="sxs-lookup"><span data-stu-id="98117-186">A nonmasked image is copied to the destination device context by using the SRCCOPY raster operation.</span></span> <span data-ttu-id="98117-187">Les couleurs dans l'image s'affichent de la même façon indépendamment de la couleur d'arrière-plan du contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="98117-187">The colors in the image appear the same regardless of the background color of the device context.</span></span> <span data-ttu-id="98117-188">Les styles de dessin spécifiés dans [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) ou [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) n’ont pas d’effet sur l’apparence d’une image non masquée.</span><span class="sxs-lookup"><span data-stu-id="98117-188">The drawing styles specified in [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) also have no effect on the appearance of a nonmasked image.</span></span>

## <a name="dragging-images"></a><span data-ttu-id="98117-189">Faire glisser des images</span><span class="sxs-lookup"><span data-stu-id="98117-189">Dragging Images</span></span>

<span data-ttu-id="98117-190">L’API Win32 comprend des fonctions permettant de faire glisser une image à l’écran.</span><span class="sxs-lookup"><span data-stu-id="98117-190">The Win32 API includes functions for dragging an image on the screen.</span></span> <span data-ttu-id="98117-191">Les fonctions Glisser-déplacer déplacent une image en douceur, en couleurs, sans aucun clignotement du curseur.</span><span class="sxs-lookup"><span data-stu-id="98117-191">The dragging functions move an image smoothly, in color, and without any flashing of the cursor.</span></span> <span data-ttu-id="98117-192">Les images masquées et démasquées peuvent être glissées.</span><span class="sxs-lookup"><span data-stu-id="98117-192">Both masked and unmasked images can be dragged.</span></span>

<span data-ttu-id="98117-193">La [**fonction \_ BeginDrag ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag) commence une opération glisser.</span><span class="sxs-lookup"><span data-stu-id="98117-193">The [**ImageList\_BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag) function begins a drag operation.</span></span> <span data-ttu-id="98117-194">Les paramètres incluent le handle de la liste d’images, l’index de l’image à faire glisser et l’emplacement de la zone réactive dans l’image.</span><span class="sxs-lookup"><span data-stu-id="98117-194">The parameters include the handle to the image list, the index of the image to drag, and the location of the hot spot within the image.</span></span> <span data-ttu-id="98117-195">La zone réactive est un seul pixel que les fonctions de glissement identifient comme l'emplacement exact de l'image à l'écran.</span><span class="sxs-lookup"><span data-stu-id="98117-195">The hot spot is a single pixel that the dragging functions recognize as the exact screen location of the image.</span></span> <span data-ttu-id="98117-196">Généralement, une application définit la zone réactive afin qu'elle coïncide avec la zone réactive du curseur de la souris.</span><span class="sxs-lookup"><span data-stu-id="98117-196">Typically, an application sets the hot spot so that it coincides with the hot spot of the mouse cursor.</span></span> <span data-ttu-id="98117-197">La [**fonction \_ DragMove ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragmove) déplace l’image vers un nouvel emplacement.</span><span class="sxs-lookup"><span data-stu-id="98117-197">The [**ImageList\_DragMove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragmove) function moves the image to a new location.</span></span>

<span data-ttu-id="98117-198">La [**fonction \_ DragEnter DragEnter**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragenter) définit la position initiale de l’image de glissement dans une fenêtre et dessine l’image à la position.</span><span class="sxs-lookup"><span data-stu-id="98117-198">The [**ImageList\_DragEnter**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragenter) function sets the initial position of the drag image within a window and draws the image at the position.</span></span> <span data-ttu-id="98117-199">Les paramètres incluent le handle vers la fenêtre dans laquelle dessiner l’image et les coordonnées de la position initiale dans la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="98117-199">The parameters include the handle to the window in which to draw the image and the coordinates of the initial position within the window.</span></span> <span data-ttu-id="98117-200">Les coordonnées sont exprimées par rapport au coin supérieur gauche de la fenêtre, pas de la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="98117-200">The coordinates are relative to the window's upper-left corner, not the client area.</span></span> <span data-ttu-id="98117-201">Il en va de même pour toutes les fonctions de glissement d’images qui prennent des coordonnées en tant que paramètres.</span><span class="sxs-lookup"><span data-stu-id="98117-201">The same is true for all of the image dragging functions that take coordinates as parameters.</span></span> <span data-ttu-id="98117-202">Cela signifie que vous devez compenser les largeurs des éléments de la fenêtre, tels que la bordure, la barre de titre et la barre de menus, lorsque vous spécifiez les coordonnées.</span><span class="sxs-lookup"><span data-stu-id="98117-202">This means you must compensate for the widths of window elements such as the border, title bar, and menu bar when specifying the coordinates.</span></span> <span data-ttu-id="98117-203">Si vous spécifiez un handle de fenêtre **null** lors de l’appel à **ImageList \_ DragEnter**, les fonctions de glissement dessinent l’image dans le contexte de périphérique associé à la fenêtre du bureau, et les coordonnées sont relatives au coin supérieur gauche de l’écran.</span><span class="sxs-lookup"><span data-stu-id="98117-203">If you specify a **NULL** window handle when calling **ImageList\_DragEnter**, the dragging functions draw the image in the device context that is associated with the desktop window, and the coordinates are relative to the upper-left corner of the screen.</span></span>

<span data-ttu-id="98117-204">La [**fonction \_ SetDragCursorImage ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setdragcursorimage) crée une image de glissement en combinant l’image donnée (généralement une image de curseur de la souris) avec l’image de glissement actuelle.</span><span class="sxs-lookup"><span data-stu-id="98117-204">The [**ImageList\_SetDragCursorImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setdragcursorimage) function creates a new drag image by combining the given image (typically a mouse cursor image) with the current drag image.</span></span> <span data-ttu-id="98117-205">Étant donné que les fonctions de glissement utilisent la nouvelle image pendant une opération de glissement, vous devez utiliser la fonction [**ShowCursor**](/windows/desktop/api/winuser/nf-winuser-showcursor) pour masquer le curseur de la souris réel après avoir appelé **ImageList \_ SetDragCursorImage**.</span><span class="sxs-lookup"><span data-stu-id="98117-205">Because the dragging functions use the new image during a drag operation, you should use the [**ShowCursor**](/windows/desktop/api/winuser/nf-winuser-showcursor) function to hide the actual mouse cursor after calling **ImageList\_SetDragCursorImage**.</span></span> <span data-ttu-id="98117-206">Sinon, le système peut sembler être composé de deux curseurs de souris pour la durée de l'opération Glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="98117-206">Otherwise, the system may appear to have two mouse cursors for the duration of the drag operation.</span></span>

<span data-ttu-id="98117-207">Quand une application appelle [**ImageList \_ BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag), le système crée une liste d’images interne temporaire, puis copie l’image de glissement spécifiée dans la liste interne.</span><span class="sxs-lookup"><span data-stu-id="98117-207">When an application calls [**ImageList\_BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag), the system creates a temporary, internal image list and then copies the specified drag image to the internal list.</span></span> <span data-ttu-id="98117-208">Vous pouvez récupérer le descripteur de la liste d’images de glissement temporaire à l’aide de la fonction [**ImageList \_ GetDragImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getdragimage) .</span><span class="sxs-lookup"><span data-stu-id="98117-208">You can retrieve the handle to the temporary drag image list by using the [**ImageList\_GetDragImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getdragimage) function.</span></span> <span data-ttu-id="98117-209">La fonction récupère également l'emplacement actuel de glissement et le décalage de l'image glissée par rapport à la position de glissement.</span><span class="sxs-lookup"><span data-stu-id="98117-209">The function also retrieves the current drag position and the offset of the drag image relative to the drag position.</span></span>

## <a name="image-information"></a><span data-ttu-id="98117-210">Informations sur l’image</span><span class="sxs-lookup"><span data-stu-id="98117-210">Image Information</span></span>

<span data-ttu-id="98117-211">Il existe un certain nombre de fonctions qui récupèrent des informations à partir d’une liste d’images.</span><span class="sxs-lookup"><span data-stu-id="98117-211">There are a number of functions that retrieve information from an image list.</span></span> <span data-ttu-id="98117-212">La [**fonction \_ GetImageInfo ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimageinfo) remplit une structure [**IMAGEINFO**](/windows/desktop/api) avec des informations sur une image unique, y compris les handles des bitmaps d’image et de masque, le nombre de plans de couleur et de bits par pixel et le rectangle englobant de l’image dans la bitmap de l’image.</span><span class="sxs-lookup"><span data-stu-id="98117-212">The [**ImageList\_GetImageInfo**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimageinfo) function fills an [**IMAGEINFO**](/windows/desktop/api) structure with information about a single image, including the handles of the image and mask bitmaps, the number of color planes and bits per pixel, and the bounding rectangle of the image within the image bitmap.</span></span> <span data-ttu-id="98117-213">Vous pouvez utiliser ces informations pour manipuler directement les bitmaps de l’image.</span><span class="sxs-lookup"><span data-stu-id="98117-213">You can use this information to directly manipulate the bitmaps for the image.</span></span> <span data-ttu-id="98117-214">La [**fonction \_ GetImageCount ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimagecount) récupère le nombre d’images dans une liste d’images.</span><span class="sxs-lookup"><span data-stu-id="98117-214">The [**ImageList\_GetImageCount**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimagecount) function retrieves the number of images in an image list.</span></span>

## <a name="image-overlays"></a><span data-ttu-id="98117-215">Superpositions d’images</span><span class="sxs-lookup"><span data-stu-id="98117-215">Image Overlays</span></span>

<span data-ttu-id="98117-216">Chaque liste d’images comprend une liste d’index à utiliser comme superpositions.</span><span class="sxs-lookup"><span data-stu-id="98117-216">Every image list includes a list of indexes to use as overlays.</span></span> <span data-ttu-id="98117-217">Une superposition est une image qui est dessinée de façon transparente sur une autre image.</span><span class="sxs-lookup"><span data-stu-id="98117-217">An overlay is an image that is drawn transparently over another image.</span></span> <span data-ttu-id="98117-218">Toute image qui figure actuellement dans la liste d’images peut être utilisée en tant que superposition.</span><span class="sxs-lookup"><span data-stu-id="98117-218">Any image currently in the image list can be used as an overlay.</span></span> <span data-ttu-id="98117-219">Vous pouvez spécifier jusqu’à quatre superpositions par liste d’images.</span><span class="sxs-lookup"><span data-stu-id="98117-219">You can specify up to four overlays per image list.</span></span> <span data-ttu-id="98117-220">Cette limite a été étendue à 15 dans la version 4,71.</span><span class="sxs-lookup"><span data-stu-id="98117-220">This limit has been expanded to 15 in version 4.71.</span></span>

<span data-ttu-id="98117-221">Vous ajoutez l’index d’une image à la liste des superpositions à l’aide de la fonction [**ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) , en spécifiant le descripteur de la liste d’images, l’index de l’image existante et l’index de superposition souhaité.</span><span class="sxs-lookup"><span data-stu-id="98117-221">You add the index of an image to the list of overlays by using the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function, specifying the handle to the image list, the index of the existing image, and the desired overlay index.</span></span> <span data-ttu-id="98117-222">Cela indique en effet à la liste d’images que « l’image à l’index *x* peut être utilisée comme superposition et que je veux faire référence à la superposition en tant qu’index de superposition *y*. »</span><span class="sxs-lookup"><span data-stu-id="98117-222">This, in effect, tells the image list that "the image at index *x* can be used as an overlay, and I want to refer to the overlay as overlay index *y*."</span></span> <span data-ttu-id="98117-223">Les index de superposition sont basés sur un et non sur zéro, car un index de superposition de zéro signifie qu’aucun chevauchement n’est utilisé.</span><span class="sxs-lookup"><span data-stu-id="98117-223">The overlay indexes are one-based rather than zero-based because an overlay index of zero means that no overlay will be used.</span></span>

<span data-ttu-id="98117-224">Vous spécifiez une superposition lors du dessin d’une image avec la fonction [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) ou [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) .</span><span class="sxs-lookup"><span data-stu-id="98117-224">You specify an overlay when drawing an image with the [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) function.</span></span> <span data-ttu-id="98117-225">La superposition est spécifiée en effectuant une opération **or** logique entre les indicateurs de dessin souhaités et le résultat de la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) .</span><span class="sxs-lookup"><span data-stu-id="98117-225">The overlay is specified by performing a logical **OR** operation between the desired drawing flags and the result of the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="98117-226">La macro **INDEXTOOVERLAYMASK** prend l’index de superposition et le met en forme pour l’inclure avec les indicateurs de ces fonctions.</span><span class="sxs-lookup"><span data-stu-id="98117-226">The **INDEXTOOVERLAYMASK** macro takes the overlay index and formats it for inclusion with the flags for these functions.</span></span> <span data-ttu-id="98117-227">Cette opération dessine l’image avec la superposition spécifiée.</span><span class="sxs-lookup"><span data-stu-id="98117-227">This will draw the image with the specified overlay.</span></span> <span data-ttu-id="98117-228">L’exemple suivant montre comment une superposition est ajoutée et spécifiée lors du dessin de l’image.</span><span class="sxs-lookup"><span data-stu-id="98117-228">The following example demonstrates how an overlay is added and specified when drawing the image.</span></span>


```
ImageList_SetOverlayImage(himl, 0, 3);
ImageList_Draw(himl, 1, hdc, 0, 0, ILD_MASK | INDEXTOOVERLAYMASK(3));
```



<span data-ttu-id="98117-229">L’image 1 est alors dessinée, puis superposée à l’image 0.</span><span class="sxs-lookup"><span data-stu-id="98117-229">This will draw image 1 and then overlay that image with image 0.</span></span> <span data-ttu-id="98117-230">Comme 3 est l’index de superposition que vous avez spécifié dans l’appel [**\_ SetOverlayImage ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) , 3 est placé dans la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) .</span><span class="sxs-lookup"><span data-stu-id="98117-230">Because 3 is the overlay index that you specified in the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) call, 3 is placed in the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span>

## <a name="32-bit-antialiased-icons"></a><span data-ttu-id="98117-231">Icônes d’anticrénelage 32 bits</span><span class="sxs-lookup"><span data-stu-id="98117-231">32-Bit Antialiased Icons</span></span>

<span data-ttu-id="98117-232">L’anticrénelage est une technique d’adoucissement ou de flou des bords nets.</span><span class="sxs-lookup"><span data-stu-id="98117-232">Antialiasing is a technique for softening or blurring sharp edges.</span></span> <span data-ttu-id="98117-233">Cela donne aux images une apparence plus naturelle.</span><span class="sxs-lookup"><span data-stu-id="98117-233">This gives images a more natural appearance.</span></span> <span data-ttu-id="98117-234">Les listes d’images dans Windows Vista et Windows 7 prennent en charge l’utilisation des bitmaps et des icônes antialias 32 bits.</span><span class="sxs-lookup"><span data-stu-id="98117-234">Image lists in Windows Vista and Windows 7 support the use of 32-bit antialiased icons and bitmaps.</span></span> <span data-ttu-id="98117-235">Les valeurs de couleur utilisent 24 bits et 8 bits sont utilisés comme canal alpha sur les icônes.</span><span class="sxs-lookup"><span data-stu-id="98117-235">Color values use 24 bits, and 8 bits are used as an alpha channel on the icons.</span></span> <span data-ttu-id="98117-236">Pour créer une liste d’images pouvant gérer une image 32 bits par pixel (BPP), appelez la fonction [**ImageList \_ Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) , en passant un indicateur ILC \_ COLOR32.</span><span class="sxs-lookup"><span data-stu-id="98117-236">To create an image list that can handle a 32 bits-per-pixel (bpp) image, call the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function, passing in an ILC\_COLOR32 flag.</span></span>

<span data-ttu-id="98117-237">Pour créer correctement des icônes 32 bits, vous devez créer plusieurs images pour chaque icône, comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="98117-237">To author 32-bit icons correctly, you must create multiple images for each icon, as shown in the following illustration.</span></span>

![Illustration montrant trois tailles d’icônes pour chacune des trois profondeurs de couleurs](images/theme2.png)

-   <span data-ttu-id="98117-239">Les trois premières images sont en mode 16 couleurs pour une utilisation en mode sans échec.</span><span class="sxs-lookup"><span data-stu-id="98117-239">The first three images are in 16-color mode for use in safe mode.</span></span>
-   <span data-ttu-id="98117-240">Les trois icônes suivantes sont utilisées en mode 256 couleurs.</span><span class="sxs-lookup"><span data-stu-id="98117-240">The next three icons are used in 256-color mode.</span></span>
-   <span data-ttu-id="98117-241">Les trois dernières icônes ont le canal alpha et peuvent être utilisées uniquement dans les systèmes d’exploitation qui exécutent une couleur 24 bits ou supérieure.</span><span class="sxs-lookup"><span data-stu-id="98117-241">The last three icons have the alpha channel and can be used only in operating systems running 24-bit color or higher.</span></span>
-   <span data-ttu-id="98117-242">L’ordre des images dans le format des icônes importe peu.</span><span class="sxs-lookup"><span data-stu-id="98117-242">The order of images in the icon format does matter.</span></span> <span data-ttu-id="98117-243">Si l’ordre est incorrect, les versions antérieures de Windows fonctionnent mal lors de l’extraction des icônes.</span><span class="sxs-lookup"><span data-stu-id="98117-243">If the order is wrong, older versions of Windows function poorly when extracting the icons.</span></span> <span data-ttu-id="98117-244">L’extraction incorrecte des icônes peut entraîner une altération de la mémoire et un rendu incorrect.</span><span class="sxs-lookup"><span data-stu-id="98117-244">Extracting the icons incorrectly can cause memory corruption and improper rendering.</span></span>
-   <span data-ttu-id="98117-245">Les versions précédentes de Windows contenait une limite de ressources de 10 icônes.</span><span class="sxs-lookup"><span data-stu-id="98117-245">Previous versions of Windows had a 10-icon resource limit.</span></span>

> [!Note]  
> <span data-ttu-id="98117-246">Vous pouvez utiliser des outils tiers pour générer des fichiers d’icône et des bitmaps qui contiennent un canal alpha.</span><span class="sxs-lookup"><span data-stu-id="98117-246">You can use third party tools to generate icon files and bitmaps that contain an alpha channel.</span></span> <span data-ttu-id="98117-247">Si vous utilisez [**LoadImage**](/windows/desktop/api/winuser/nf-winuser-loadimagea) pour charger une image bitmap 32 BPP qui contient alpha, vous devez spécifier l' \_ indicateur CREATEDIBSECTION LR.</span><span class="sxs-lookup"><span data-stu-id="98117-247">If you use [**LoadImage**](/windows/desktop/api/winuser/nf-winuser-loadimagea) to load a 32 bpp bitmap that contains alpha, you need to specify the LR\_CREATEDIBSECTION flag.</span></span>

 

 

 