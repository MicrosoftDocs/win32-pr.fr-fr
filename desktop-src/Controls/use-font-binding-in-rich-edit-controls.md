---
title: Comment utiliser la liaison de police dans les contrôles RichEdit
description: Microsoft Rich Edit 3,0 affecte un jeu de caractères aux caractères de texte brut en fonction de leur contexte.
ms.assetid: 975B9C33-6766-4FF1-A93E-2169C140CEE9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ea17c2f8e0e8c1b57611839a5bbf992f9af6bf65
ms.sourcegitcommit: f0ca63c18dc52c357d3398af7be766d2bdd40be7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/17/2020
ms.locfileid: "103842001"
---
# <a name="how-to-use-font-binding-in-rich-edit-controls"></a><span data-ttu-id="59b1f-103">Comment utiliser la liaison de police dans les contrôles RichEdit</span><span class="sxs-lookup"><span data-stu-id="59b1f-103">How to Use Font Binding in Rich Edit Controls</span></span>

<span data-ttu-id="59b1f-104">Microsoft Rich Edit 3,0 affecte un jeu de caractères aux caractères de texte brut en fonction de leur contexte.</span><span class="sxs-lookup"><span data-stu-id="59b1f-104">Microsoft Rich Edit 3.0 assigns a character set to plain-text characters depending on their context.</span></span> <span data-ttu-id="59b1f-105">Quelques exemples :</span><span class="sxs-lookup"><span data-stu-id="59b1f-105">Some examples are:</span></span>

-   <span data-ttu-id="59b1f-106">Les caractères grecs sont affectés au **\_ jeu** de caractères grec.</span><span class="sxs-lookup"><span data-stu-id="59b1f-106">Greek characters are assigned **GREEK\_CHARSET**.</span></span>
-   <span data-ttu-id="59b1f-107">Les symboles Hangul sont affectés d’un **\_ jeu** de caractères Hangul.</span><span class="sxs-lookup"><span data-stu-id="59b1f-107">Hangul symbols are assigned **HANGUL\_CHARSET**.</span></span>
-   <span data-ttu-id="59b1f-108">Des caractères chinois sont affectés au **\_ jeu** de caractères SHIFTJIS si des caractères Kana sont trouvés à proximité, ou un **\_ jeu** de caractères GB2312 si aucun Kana n’est trouvé à proximité.</span><span class="sxs-lookup"><span data-stu-id="59b1f-108">Chinese characters are assigned **SHIFTJIS\_CHARSET** if kana characters are found nearby, or **GB2312\_CHARSET** if no kana are found nearby.</span></span>
-   <span data-ttu-id="59b1f-109">Les caractères ANSI non neutres sont assignés à un **\_ jeu** de caractères ANSI dans n’importe quel événement.</span><span class="sxs-lookup"><span data-stu-id="59b1f-109">Non-neutral ANSI characters are assigned **ANSI\_CHARSET** in any event.</span></span>

> [!Note]  
> <span data-ttu-id="59b1f-110">Le contrôle Rich Edit utilise Unicode en interne, ce qui signifie que cette utilisation des jeux de caractères diffère de celle d’origine utilisée dans les spécifications de police.</span><span class="sxs-lookup"><span data-stu-id="59b1f-110">The rich edit control uses Unicode internally, so this use of character sets differs from the original one used in font specifications.</span></span> <span data-ttu-id="59b1f-111">Mais la structure [**Charformat**](/windows/win32/api/richedit/ns-richedit-charformata) a un emplacement bien défini pour le jeu de caractères.</span><span class="sxs-lookup"><span data-stu-id="59b1f-111">But the [**CHARFORMAT**](/windows/win32/api/richedit/ns-richedit-charformata) structure has a well-defined place for the character set.</span></span>

 

<span data-ttu-id="59b1f-112">Les caractères neutres comme les espaces et les chiffres reçoivent un jeu de caractères en fonction de leur contexte.</span><span class="sxs-lookup"><span data-stu-id="59b1f-112">Neutral characters like blanks and digits are assigned a character set depending on their context.</span></span> <span data-ttu-id="59b1f-113">Par exemple, un espace entouré de caractères du même jeu de caractères obtient ce jeu de caractères.</span><span class="sxs-lookup"><span data-stu-id="59b1f-113">For example, a blank surrounded by characters of the same character set gets that character set.</span></span> <span data-ttu-id="59b1f-114">Les caractères neutres et les chiffres utilisés pour le texte bidirectionnel reçoivent des jeux de caractères d’une manière basée sur l’algorithme bidirectionnel Unicode.</span><span class="sxs-lookup"><span data-stu-id="59b1f-114">Neutrals and digits used for bidirectional text are assigned character sets in a way that is based on the Unicode bidirectional algorithm.</span></span>

## <a name="what-you-need-to-know"></a><span data-ttu-id="59b1f-115">Ce que vous devez savoir</span><span class="sxs-lookup"><span data-stu-id="59b1f-115">What you need to know</span></span>

### <a name="technologies"></a><span data-ttu-id="59b1f-116">Technologies</span><span class="sxs-lookup"><span data-stu-id="59b1f-116">Technologies</span></span>

-   [<span data-ttu-id="59b1f-117">Contrôles Windows</span><span class="sxs-lookup"><span data-stu-id="59b1f-117">Windows Controls</span></span>](window-controls.md)

### <a name="prerequisites"></a><span data-ttu-id="59b1f-118">Prérequis</span><span class="sxs-lookup"><span data-stu-id="59b1f-118">Prerequisites</span></span>

-   <span data-ttu-id="59b1f-119">C/C++</span><span class="sxs-lookup"><span data-stu-id="59b1f-119">C/C++</span></span>
-   <span data-ttu-id="59b1f-120">Programmation de l’interface utilisateur Windows</span><span class="sxs-lookup"><span data-stu-id="59b1f-120">Windows User Interface Programming</span></span>

## <a name="instructions"></a><span data-ttu-id="59b1f-121">Instructions</span><span class="sxs-lookup"><span data-stu-id="59b1f-121">Instructions</span></span>

### <a name="use-font-binding-in-a-rich-edit-control"></a><span data-ttu-id="59b1f-122">Utiliser la liaison de police dans un contrôle RichEdit</span><span class="sxs-lookup"><span data-stu-id="59b1f-122">Use Font Binding in a Rich Edit Control</span></span>

<span data-ttu-id="59b1f-123">Une fois les jeux de caractères affectés, Rich Edit analyse le texte du point d’insertion vers l’avant et vers l’arrière pour trouver les polices les plus proches qui ont été utilisées pour les jeux de caractères.</span><span class="sxs-lookup"><span data-stu-id="59b1f-123">After character sets are assigned, Rich Edit scans the text around the insertion point forward and backward to find the nearest fonts that have been used for the character sets.</span></span> <span data-ttu-id="59b1f-124">Si aucune police n’est trouvée pour un jeu de caractères, la modification riche utilise la police choisie par le client pour ce jeu de caractères.</span><span class="sxs-lookup"><span data-stu-id="59b1f-124">If no font is found for a character set, Rich Edit uses the font chosen by the client for that character set.</span></span> <span data-ttu-id="59b1f-125">Si le client n’a pas spécifié de police pour le jeu de caractères, la modification complète utilise la police par défaut pour ce jeu de caractères.</span><span class="sxs-lookup"><span data-stu-id="59b1f-125">If the client hasn't specified a font for the character set, Rich Edit uses the default font for that character set.</span></span> <span data-ttu-id="59b1f-126">Si le client souhaite une autre police, le client peut toujours le modifier, mais cette approche fonctionnera la plupart du temps.</span><span class="sxs-lookup"><span data-stu-id="59b1f-126">If the client wants some other font, the client can always change it, but this approach will work most of the time.</span></span> <span data-ttu-id="59b1f-127">Les choix de polices par défaut actuels sont basés sur le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="59b1f-127">The current default font choices are based on the following table.</span></span> <span data-ttu-id="59b1f-128">Notez que les polices par défaut sont définies par processus, et qu’il existe des listes distinctes pour l’utilisation de l’interface utilisateur et pour l’utilisation de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="59b1f-128">Note that the default fonts are set per-process, and there are separate lists for UI usage and for non-UI usage.</span></span>



| <span data-ttu-id="59b1f-129">Language</span><span class="sxs-lookup"><span data-stu-id="59b1f-129">Language</span></span>                    | <span data-ttu-id="59b1f-130">Nom de police de l’interface utilisateur</span><span class="sxs-lookup"><span data-stu-id="59b1f-130">UI font name</span></span>  | <span data-ttu-id="59b1f-131">Taille de police de l’interface utilisateur</span><span class="sxs-lookup"><span data-stu-id="59b1f-131">UI font size</span></span> | <span data-ttu-id="59b1f-132">nom de police non-IU</span><span class="sxs-lookup"><span data-stu-id="59b1f-132">non-UI font name</span></span> | <span data-ttu-id="59b1f-133">taille de police n’appartenant pas à l’interface utilisateur</span><span class="sxs-lookup"><span data-stu-id="59b1f-133">non-UI font size</span></span> |
|-----------------------------|---------------|--------------|------------------|------------------|
| <span data-ttu-id="59b1f-134">Occidental, CE, ME, vietnamien</span><span class="sxs-lookup"><span data-stu-id="59b1f-134">Western, CE, ME, Vietnamese</span></span> | <span data-ttu-id="59b1f-135">Tahoma</span><span class="sxs-lookup"><span data-stu-id="59b1f-135">Tahoma</span></span>        | <span data-ttu-id="59b1f-136">8</span><span class="sxs-lookup"><span data-stu-id="59b1f-136">8</span></span>            | <span data-ttu-id="59b1f-137">Arial</span><span class="sxs-lookup"><span data-stu-id="59b1f-137">Arial</span></span>            | <span data-ttu-id="59b1f-138">10</span><span class="sxs-lookup"><span data-stu-id="59b1f-138">10</span></span>               |
| <span data-ttu-id="59b1f-139">Japonais</span><span class="sxs-lookup"><span data-stu-id="59b1f-139">Japanese</span></span>                    | <span data-ttu-id="59b1f-140">MS UI Gothic</span><span class="sxs-lookup"><span data-stu-id="59b1f-140">MS UI Gothic</span></span>  | <span data-ttu-id="59b1f-141">9</span><span class="sxs-lookup"><span data-stu-id="59b1f-141">9</span></span>            | <span data-ttu-id="59b1f-142">MS P Gothic</span><span class="sxs-lookup"><span data-stu-id="59b1f-142">MS P Gothic</span></span>      | <span data-ttu-id="59b1f-143">10</span><span class="sxs-lookup"><span data-stu-id="59b1f-143">10</span></span>               |
| <span data-ttu-id="59b1f-144">Coréen</span><span class="sxs-lookup"><span data-stu-id="59b1f-144">Korean</span></span>                      | <span data-ttu-id="59b1f-145">Gulim</span><span class="sxs-lookup"><span data-stu-id="59b1f-145">Gulim</span></span>         | <span data-ttu-id="59b1f-146">9</span><span class="sxs-lookup"><span data-stu-id="59b1f-146">9</span></span>            | <span data-ttu-id="59b1f-147">Gulim</span><span class="sxs-lookup"><span data-stu-id="59b1f-147">Gulim</span></span>            | <span data-ttu-id="59b1f-148">9</span><span class="sxs-lookup"><span data-stu-id="59b1f-148">9</span></span>                |
| <span data-ttu-id="59b1f-149">Chinois simplifié</span><span class="sxs-lookup"><span data-stu-id="59b1f-149">Simplified Chinese</span></span>          | <span data-ttu-id="59b1f-150">SimSun</span><span class="sxs-lookup"><span data-stu-id="59b1f-150">Simsun</span></span>        | <span data-ttu-id="59b1f-151">9</span><span class="sxs-lookup"><span data-stu-id="59b1f-151">9</span></span>            | <span data-ttu-id="59b1f-152">SimSun</span><span class="sxs-lookup"><span data-stu-id="59b1f-152">SimSun</span></span>           | <span data-ttu-id="59b1f-153">10</span><span class="sxs-lookup"><span data-stu-id="59b1f-153">10</span></span>               |
| <span data-ttu-id="59b1f-154">Chinois traditionnel</span><span class="sxs-lookup"><span data-stu-id="59b1f-154">Traditional Chinese</span></span>         | <span data-ttu-id="59b1f-155">PMingLiU</span><span class="sxs-lookup"><span data-stu-id="59b1f-155">PMingLiU</span></span>      | <span data-ttu-id="59b1f-156">9</span><span class="sxs-lookup"><span data-stu-id="59b1f-156">9</span></span>            | <span data-ttu-id="59b1f-157">PMingLiU</span><span class="sxs-lookup"><span data-stu-id="59b1f-157">PMingLiU</span></span>         | <span data-ttu-id="59b1f-158">9</span><span class="sxs-lookup"><span data-stu-id="59b1f-158">9</span></span>                |
| <span data-ttu-id="59b1f-159">Thaï</span><span class="sxs-lookup"><span data-stu-id="59b1f-159">Thai</span></span>                        | <span data-ttu-id="59b1f-160">MS sans serif</span><span class="sxs-lookup"><span data-stu-id="59b1f-160">MS Sans Serif</span></span> | <span data-ttu-id="59b1f-161">8</span><span class="sxs-lookup"><span data-stu-id="59b1f-161">8</span></span>            | <span data-ttu-id="59b1f-162">Tahoma</span><span class="sxs-lookup"><span data-stu-id="59b1f-162">Tahoma</span></span>           | <span data-ttu-id="59b1f-163">14</span><span class="sxs-lookup"><span data-stu-id="59b1f-163">14</span></span>               |
| <span data-ttu-id="59b1f-164">symboles</span><span class="sxs-lookup"><span data-stu-id="59b1f-164">Symbols</span></span>                     | <span data-ttu-id="59b1f-165">Wingdings</span><span class="sxs-lookup"><span data-stu-id="59b1f-165">Wingdings</span></span>     | <span data-ttu-id="59b1f-166">8</span><span class="sxs-lookup"><span data-stu-id="59b1f-166">8</span></span>            | <span data-ttu-id="59b1f-167">Wingdings</span><span class="sxs-lookup"><span data-stu-id="59b1f-167">Wingdings</span></span>        | <span data-ttu-id="59b1f-168">10</span><span class="sxs-lookup"><span data-stu-id="59b1f-168">10</span></span>               |
| <span data-ttu-id="59b1f-169">Dévanâgarî</span><span class="sxs-lookup"><span data-stu-id="59b1f-169">Devanagari</span></span>                  | <span data-ttu-id="59b1f-170">Mangal</span><span class="sxs-lookup"><span data-stu-id="59b1f-170">Mangal</span></span>        | <span data-ttu-id="59b1f-171">8</span><span class="sxs-lookup"><span data-stu-id="59b1f-171">8</span></span>            | <span data-ttu-id="59b1f-172">Mangal</span><span class="sxs-lookup"><span data-stu-id="59b1f-172">Mangal</span></span>           | <span data-ttu-id="59b1f-173">10</span><span class="sxs-lookup"><span data-stu-id="59b1f-173">10</span></span>               |
| <span data-ttu-id="59b1f-174">Tamoul</span><span class="sxs-lookup"><span data-stu-id="59b1f-174">Tamil</span></span>                       | <span data-ttu-id="59b1f-175">Latha</span><span class="sxs-lookup"><span data-stu-id="59b1f-175">Latha</span></span>         | <span data-ttu-id="59b1f-176">8</span><span class="sxs-lookup"><span data-stu-id="59b1f-176">8</span></span>            | <span data-ttu-id="59b1f-177">Latha</span><span class="sxs-lookup"><span data-stu-id="59b1f-177">Latha</span></span>            | <span data-ttu-id="59b1f-178">10</span><span class="sxs-lookup"><span data-stu-id="59b1f-178">10</span></span>               |
| <span data-ttu-id="59b1f-179">Géorgien, arménien</span><span class="sxs-lookup"><span data-stu-id="59b1f-179">Georgian, Armenian</span></span>          | <span data-ttu-id="59b1f-180">Arial Unicode</span><span class="sxs-lookup"><span data-stu-id="59b1f-180">Arial Unicode</span></span> | <span data-ttu-id="59b1f-181">8</span><span class="sxs-lookup"><span data-stu-id="59b1f-181">8</span></span>            | <span data-ttu-id="59b1f-182">Arial Unicode</span><span class="sxs-lookup"><span data-stu-id="59b1f-182">Arial Unicode</span></span>    | <span data-ttu-id="59b1f-183">10</span><span class="sxs-lookup"><span data-stu-id="59b1f-183">10</span></span>               |



 

<span data-ttu-id="59b1f-184">Par conséquent, dans la table de liaison de police par défaut (les entrées ont un jeu de caractères, un nom de police et une taille), la modification riche permet \_ à ANSI charset de correspondre à plusieurs jeux de caractères, tandis que le jeu de caractères approprié correspond à d’autres polices sur une base un-à-un.</span><span class="sxs-lookup"><span data-stu-id="59b1f-184">Therefore, in the default font-binding table (entries have a character set, font name, and size), Rich Edit allows ANSI\_CHARSET to match several character sets, while the appropriate character set matches other fonts on a one-to-one basis.</span></span> <span data-ttu-id="59b1f-185">Plus précisément, la modification riche utilise le jeu de caractères ANSI à \_ chaque fois qu’aucune autre solution n’est trouvée.</span><span class="sxs-lookup"><span data-stu-id="59b1f-185">More precisely, rich edit uses the ANSI\_CHARSET choice whenever no other alternative is found.</span></span> <span data-ttu-id="59b1f-186">Vous serez en mesure de spécifier une granularité plus fine que celle-ci. par exemple, affectez un jeu de caractères arabe spécifique \_ pour les exécutions arabes, une police grecque spécifique pour les exécutions grecques, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="59b1f-186">You will be able to specify a finer granularity than this; for example, assign a specific ARABIC\_CHARSET for Arabic runs, a specific Greek font for Greek runs, and so on.</span></span> <span data-ttu-id="59b1f-187">Cette granularité plus fine sera également utilisée si une police avec le marqueur de jeu de caractères souhaité est trouvée dans le document avant la zone qui est liée aux polices.</span><span class="sxs-lookup"><span data-stu-id="59b1f-187">This finer granularity will also be used if a font with the desired character set stamp is found somewhere in the document before the area that is being font-bound.</span></span>

<span data-ttu-id="59b1f-188">Notez que la modification enrichie ne gère pas actuellement un glyphe manquant dans une police qui prétend prendre en charge un jeu de caractères mais qui est incomplète.</span><span class="sxs-lookup"><span data-stu-id="59b1f-188">Note that Rich Edit does not currently handle a missing glyph in a font that claims to support a character set but is incomplete.</span></span> <span data-ttu-id="59b1f-189">Au moment de l’affichage dans un script complexe, la modification complète fait qu’il manque un glyphe de ce type, mais n’entraîne pas l’utilisation d’une nouvelle police par le magasin de stockage.</span><span class="sxs-lookup"><span data-stu-id="59b1f-189">At display time in a complex script, Rich Edit does end up knowing that such a glyph is missing, but it does not cause the backing store to use a new font.</span></span> <span data-ttu-id="59b1f-190">En règle générale, la liaison de police sous-jacente du système d’exploitation effectue cette opération.</span><span class="sxs-lookup"><span data-stu-id="59b1f-190">Normally, the underlying font linking of the operating system will accomplish this.</span></span>

## <a name="remarks"></a><span data-ttu-id="59b1f-191">Notes</span><span class="sxs-lookup"><span data-stu-id="59b1f-191">Remarks</span></span>

<span data-ttu-id="59b1f-192">**Édition enrichie 4,1 :** Pour définir la police par défaut d’un script, [**appelez em \_ SETCHARFORMAT**](em-setcharformat.md) avec [**CHARFORMAT2**](/windows/desktop/api/Richedit/ns-richedit-charformat2a), en spécifiant des valeurs pour les membres **yHeight**, **bCharSet**, **bPitchAndFamily**, **szFaceName** et **LCID** .</span><span class="sxs-lookup"><span data-stu-id="59b1f-192">**Rich Edit 4.1:** To set the default font for a script, call [**EM\_SETCHARFORMAT**](em-setcharformat.md) with [**CHARFORMAT2**](/windows/desktop/api/Richedit/ns-richedit-charformat2a), specifying values for the **yHeight**, **bCharSet**, **bPitchAndFamily**, **szFaceName**, and **lcid** members.</span></span> <span data-ttu-id="59b1f-193">En outre, pour obtenir la police par défaut pour une page de codes spécifique, appelez [**em \_ GETCHARFORMAT**](em-getcharformat.md) avec **CHARFORMAT2**, en spécifiant des valeurs pour les membres **bCharSet** et **LCID** .</span><span class="sxs-lookup"><span data-stu-id="59b1f-193">Also, to get the default font for a specific code page, call [**EM\_GETCHARFORMAT**](em-getcharformat.md) with **CHARFORMAT2**, specifying values for the **bCharSet** and **lcid** members.</span></span>

## <a name="related-topics"></a><span data-ttu-id="59b1f-194">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="59b1f-194">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="59b1f-195">Utilisation de contrôles RichEdit</span><span class="sxs-lookup"><span data-stu-id="59b1f-195">Using Rich Edit Controls</span></span>](using-rich-edit-controls.md)
</dt> <dt>

<span data-ttu-id="59b1f-196">[Démonstration des contrôles communs Windows (CppWindowsCommonControls)](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/master/OneCodeTeam/Windows%20common%20controls%20demo%20(CppWindowsCommonControls)/%5BC++%5D-Windows%20common%20controls%20demo%20(CppWindowsCommonControls)/C++/CppWindowsCommonControls)</span><span class="sxs-lookup"><span data-stu-id="59b1f-196">[Windows common controls demo (CppWindowsCommonControls)](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/master/OneCodeTeam/Windows%20common%20controls%20demo%20(CppWindowsCommonControls)/%5BC++%5D-Windows%20common%20controls%20demo%20(CppWindowsCommonControls)/C++/CppWindowsCommonControls)</span></span>
</dt> </dl>

 

 




