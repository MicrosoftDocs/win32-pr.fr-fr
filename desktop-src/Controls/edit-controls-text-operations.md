---
title: Modifier les opérations de texte de contrôle
description: Le système traite automatiquement toutes les opérations de texte initiées par l’utilisateur et notifie l’application lorsque les opérations sont terminées.
ms.assetid: 9af3a1bc-4c87-4cc9-966d-50742be7c811
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9640616cf70b9a2933ef9d4c3fdb2accbfdcabf0
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "104031919"
---
# <a name="edit-control-text-operations"></a><span data-ttu-id="d04d8-103">Modifier les opérations de texte de contrôle</span><span class="sxs-lookup"><span data-stu-id="d04d8-103">Edit Control Text Operations</span></span>

<span data-ttu-id="d04d8-104">Le système traite automatiquement toutes les opérations de texte initiées par l’utilisateur et notifie l’application lorsque les opérations sont terminées.</span><span class="sxs-lookup"><span data-stu-id="d04d8-104">The system automatically processes all user-initiated text operations and notifies the application when the operations are completed.</span></span>

<span data-ttu-id="d04d8-105">Les rubriques suivantes traitent des opérations de texte initiées par l’utilisateur et de la réponse de l’application :</span><span class="sxs-lookup"><span data-stu-id="d04d8-105">The following topics discuss user-initiated text operations and the application's response:</span></span>

-   [<span data-ttu-id="d04d8-106">Sélection d’un contrôle d’édition</span><span class="sxs-lookup"><span data-stu-id="d04d8-106">Selecting an Edit Control</span></span>](#selecting-an-edit-control)
-   [<span data-ttu-id="d04d8-107">Définition et récupération de texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-107">Setting and Retrieving Text</span></span>](#setting-and-retrieving-text)
-   [<span data-ttu-id="d04d8-108">Sélection de texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-108">Selecting Text</span></span>](#selecting-text)
-   [<span data-ttu-id="d04d8-109">Remplacer du texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-109">Replacing Text</span></span>](#replacing-text)
-   [<span data-ttu-id="d04d8-110">Modification de la police utilisée par un contrôle d’édition</span><span class="sxs-lookup"><span data-stu-id="d04d8-110">Changing the Font Used by an Edit Control</span></span>](#changing-the-font-used-by-an-edit-control)
-   [<span data-ttu-id="d04d8-111">Opérations couper coller et effacer copier</span><span class="sxs-lookup"><span data-stu-id="d04d8-111">Cut Copy Paste and Clear Operations</span></span>](#cut-copy-paste-and-clear-operations)
-   [<span data-ttu-id="d04d8-112">Modification du texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-112">Modifying Text</span></span>](#modifying-text)
-   [<span data-ttu-id="d04d8-113">Limitation du texte entré par l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="d04d8-113">Limiting User Entered Text</span></span>](#limiting-user-entered-text)
-   [<span data-ttu-id="d04d8-114">Opérations de caractère et de ligne</span><span class="sxs-lookup"><span data-stu-id="d04d8-114">Character and Line Operations</span></span>](#character-and-line-operations)
-   [<span data-ttu-id="d04d8-115">Défilement du texte dans un contrôle d’édition</span><span class="sxs-lookup"><span data-stu-id="d04d8-115">Scrolling Text in an Edit Control</span></span>](#scrolling-text-in-an-edit-control)
-   [<span data-ttu-id="d04d8-116">Définition des taquets de tabulation et des marges</span><span class="sxs-lookup"><span data-stu-id="d04d8-116">Setting Tab Stops and Margins</span></span>](#setting-tab-stops-and-margins)
-   [<span data-ttu-id="d04d8-117">Masquage de l’entrée utilisateur</span><span class="sxs-lookup"><span data-stu-id="d04d8-117">Concealing User Input</span></span>](#concealing-user-input)
-   [<span data-ttu-id="d04d8-118">Utilisation d’entiers</span><span class="sxs-lookup"><span data-stu-id="d04d8-118">Using Integers</span></span>](#using-integers)
-   [<span data-ttu-id="d04d8-119">Annuler des opérations de texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-119">Undoing Text Operations</span></span>](#undoing-text-operations)
-   [<span data-ttu-id="d04d8-120">Gestion des retours de ligne et des sauts de ligne</span><span class="sxs-lookup"><span data-stu-id="d04d8-120">Handling Wordwrap and Line Breaks</span></span>](#handling-wordwrap-and-line-breaks)
-   [<span data-ttu-id="d04d8-121">Récupération des points et des caractères</span><span class="sxs-lookup"><span data-stu-id="d04d8-121">Retrieving Points and Characters</span></span>](#retrieving-points-and-characters)
-   [<span data-ttu-id="d04d8-122">Saisie semi-automatique de chaînes</span><span class="sxs-lookup"><span data-stu-id="d04d8-122">Autocompletion of Strings</span></span>](#autocompletion-of-strings)
-   [<span data-ttu-id="d04d8-123">Script complexe dans les contrôles d’édition</span><span class="sxs-lookup"><span data-stu-id="d04d8-123">Complex Script in Edit Controls</span></span>](#complex-script-in-edit-controls)

## <a name="selecting-an-edit-control"></a><span data-ttu-id="d04d8-124">Sélection d’un contrôle d’édition</span><span class="sxs-lookup"><span data-stu-id="d04d8-124">Selecting an Edit Control</span></span>

<span data-ttu-id="d04d8-125">L’utilisateur peut sélectionner un contrôle d’édition en cliquant dessus avec la souris ou en appuyant sur la touche TAB pour y accéder.</span><span class="sxs-lookup"><span data-stu-id="d04d8-125">The user can select an edit control by clicking it with the mouse or by pressing the TAB key to move to it.</span></span> <span data-ttu-id="d04d8-126">La méthode de tabulation fait partie d’une interface clavier prédéfinie fournie par le système.</span><span class="sxs-lookup"><span data-stu-id="d04d8-126">The tabbing method is part of a predefined keyboard interface that the system provides.</span></span> <span data-ttu-id="d04d8-127">Pour obtenir une description complète de cette interface, consultez [boîtes de dialogue](/windows/desktop/dlgbox/dialog-boxes).</span><span class="sxs-lookup"><span data-stu-id="d04d8-127">For a complete description of this interface, see [Dialog Boxes](/windows/desktop/dlgbox/dialog-boxes).</span></span> <span data-ttu-id="d04d8-128">Lorsque l’utilisateur sélectionne un contrôle d’édition, le système lui donne le focus clavier (voir « focus clavier et activation » dans [à propos](/windows/desktop/inputdev/about-keyboard-input)de l’entrée au clavier) et met en surbrillance le texte à l’aide de la vidéo inversée.</span><span class="sxs-lookup"><span data-stu-id="d04d8-128">When the user selects an edit control, the system gives the control the keyboard focus (see "Keyboard Focus and Activation" in [About Keyboard Input](/windows/desktop/inputdev/about-keyboard-input)) and highlights its text by using reverse video.</span></span>

## <a name="setting-and-retrieving-text"></a><span data-ttu-id="d04d8-129">Définition et récupération de texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-129">Setting and Retrieving Text</span></span>

<span data-ttu-id="d04d8-130">Une application peut définir le texte d’un contrôle d’édition à l’aide de la fonction [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta) , de la fonction [**SetDlgItemText**](/windows/desktop/DevNotes/-setdlgitemtext) ou en envoyant le contrôle à un message [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-130">An application can set the text of an edit control by using the [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta) function, the [**SetDlgItemText**](/windows/desktop/DevNotes/-setdlgitemtext) function, or by sending the control a [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message.</span></span>

<span data-ttu-id="d04d8-131">Pour récupérer tout le texte d’un contrôle d’édition, utilisez d’abord la fonction [**GetWindowTextLength**](/windows/desktop/api/winuser/nf-winuser-getwindowtextlengtha) ou le message [**WM \_ GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) pour déterminer la taille de la mémoire tampon nécessaire pour contenir le texte.</span><span class="sxs-lookup"><span data-stu-id="d04d8-131">To retrieve all text from an edit control, first use the [**GetWindowTextLength**](/windows/desktop/api/winuser/nf-winuser-getwindowtextlengtha) function or the [**WM\_GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) message to determine the size of buffer needed to contain the text.</span></span> <span data-ttu-id="d04d8-132">Ensuite, récupérez le texte à l’aide de la fonction [**GetWindowText**](/windows/desktop/DevNotes/-getwindowtext) , de la fonction [**GetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-getdlgitemtexta) ou du message [**WM \_**](/windows/desktop/winmsg/wm-gettext) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-132">Next, retrieve the text by using the [**GetWindowText**](/windows/desktop/DevNotes/-getwindowtext) function, the [**GetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-getdlgitemtexta) function, or the [**WM\_GETTEXT**](/windows/desktop/winmsg/wm-gettext) message.</span></span>

## <a name="selecting-text"></a><span data-ttu-id="d04d8-133">Sélection de texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-133">Selecting Text</span></span>

<span data-ttu-id="d04d8-134">Après avoir sélectionné un contrôle d’édition, l’utilisateur peut sélectionner du texte dans le contrôle à l’aide de la souris ou du clavier.</span><span class="sxs-lookup"><span data-stu-id="d04d8-134">After selecting an edit control, the user can select text in the control by using the mouse or the keyboard.</span></span> <span data-ttu-id="d04d8-135">Une application peut récupérer les positions des caractères de début et de fin de la sélection actuelle dans un contrôle d’édition en envoyant le contrôle à un message [**em \_ GETSEL**](em-getsel.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-135">An application can retrieve the starting and ending character positions of the current selection in an edit control by sending the control an [**EM\_GETSEL**](em-getsel.md) message.</span></span> <span data-ttu-id="d04d8-136">La valeur de retour de la position de fin est supérieure d’une unité au dernier caractère de la sélection (autrement dit, la position du premier caractère qui suit le dernier caractère sélectionné).</span><span class="sxs-lookup"><span data-stu-id="d04d8-136">The return value for the ending position is one greater than the last character in the selection (that is, the position of the first character following the last selected character).</span></span>

<span data-ttu-id="d04d8-137">Une application peut également sélectionner du texte dans un contrôle d’édition en envoyant au contrôle un message [**em \_ SETSEL**](em-setsel.md) avec les index de caractères de début et de fin pour la sélection.</span><span class="sxs-lookup"><span data-stu-id="d04d8-137">An application can also select text in an edit control by sending the control an [**EM\_SETSEL**](em-setsel.md) message with the starting and ending character indexes for the selection.</span></span> <span data-ttu-id="d04d8-138">Par exemple, l’application peut utiliser **em \_ SETSEL** avec [**em \_ REPLACESEL**](em-replacesel.md) pour supprimer du texte d’un contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-138">For example, the application can use **EM\_SETSEL** with [**EM\_REPLACESEL**](em-replacesel.md) to delete text from an edit control.</span></span>

<span data-ttu-id="d04d8-139">Ces trois messages s’appliquent aux contrôles d’édition à une seule ligne et à plusieurs lignes.</span><span class="sxs-lookup"><span data-stu-id="d04d8-139">These three messages apply to both single-line and multiline edit controls.</span></span>

## <a name="replacing-text"></a><span data-ttu-id="d04d8-140">Remplacer du texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-140">Replacing Text</span></span>

<span data-ttu-id="d04d8-141">Une application peut remplacer le texte sélectionné dans un contrôle d’édition en lui envoyant un message [**em \_ REPLACESEL**](em-replacesel.md) avec un pointeur vers le texte de remplacement.</span><span class="sxs-lookup"><span data-stu-id="d04d8-141">An application can replace selected text in an edit control by sending the control an [**EM\_REPLACESEL**](em-replacesel.md) message with a pointer to the replacement text.</span></span> <span data-ttu-id="d04d8-142">S’il n’y a aucune sélection actuelle, **em \_ REPLACESEL** insère le texte de remplacement au niveau du point d’insertion.</span><span class="sxs-lookup"><span data-stu-id="d04d8-142">If there is no current selection, **EM\_REPLACESEL** inserts the replacement text at the insertion point.</span></span> <span data-ttu-id="d04d8-143">L’application peut recevoir un code de notification en [ \_ ERRSPACE](en-errspace.md) si le texte de remplacement dépasse la mémoire disponible.</span><span class="sxs-lookup"><span data-stu-id="d04d8-143">The application may receive an [EN\_ERRSPACE](en-errspace.md) notification code if the replacement text exceeds the available memory.</span></span> <span data-ttu-id="d04d8-144">Ce message s’applique aux contrôles d’édition à une seule ligne et à plusieurs lignes.</span><span class="sxs-lookup"><span data-stu-id="d04d8-144">This message applies to both single-line and multiline edit controls.</span></span>

<span data-ttu-id="d04d8-145">Une application peut utiliser [**em \_ REPLACESEL**](em-replacesel.md) pour remplacer une partie du texte d’un contrôle d’édition ou la fonction [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) pour la remplacer.</span><span class="sxs-lookup"><span data-stu-id="d04d8-145">An application can use [**EM\_REPLACESEL**](em-replacesel.md) to replace part of an edit control's text or the [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) function to replace all of it.</span></span>

## <a name="changing-the-font-used-by-an-edit-control"></a><span data-ttu-id="d04d8-146">Modification de la police utilisée par un contrôle d’édition</span><span class="sxs-lookup"><span data-stu-id="d04d8-146">Changing the Font Used by an Edit Control</span></span>

<span data-ttu-id="d04d8-147">Une application peut modifier la police utilisée par un contrôle d’édition en envoyant le message [**WM \_ SetFont**](/windows/desktop/winmsg/wm-setfont) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-147">An application can change the font that an edit control uses by sending the [**WM\_SETFONT**](/windows/desktop/winmsg/wm-setfont) message.</span></span> <span data-ttu-id="d04d8-148">La plupart des applications le font lors du traitement du message [**WM \_ INITDIALOG**](/windows/desktop/dlgbox/wm-initdialog) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-148">Most applications do this while processing the [**WM\_INITDIALOG**](/windows/desktop/dlgbox/wm-initdialog) message.</span></span> <span data-ttu-id="d04d8-149">La modification de la police ne modifie pas la taille du contrôle d’édition ; les applications qui envoient le message **WM \_ SetFont** peuvent avoir à récupérer les métriques de police du texte et recalculer la taille du contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-149">Changing the font does not change the size of the edit control; applications that send the **WM\_SETFONT** message may have to retrieve the font metrics for the text and recalculate the size of the edit control.</span></span> <span data-ttu-id="d04d8-150">Pour plus d’informations sur les polices et les métriques de police, consultez [polices et texte](/windows/desktop/gdi/fonts-and-text).</span><span class="sxs-lookup"><span data-stu-id="d04d8-150">For more information about fonts and font metrics, see [Fonts and Text](/windows/desktop/gdi/fonts-and-text).</span></span>

## <a name="cut-copy-paste-and-clear-operations"></a><span data-ttu-id="d04d8-151">Opérations couper coller et effacer copier</span><span class="sxs-lookup"><span data-stu-id="d04d8-151">Cut Copy Paste and Clear Operations</span></span>

<span data-ttu-id="d04d8-152">Il y a quatre messages pour déplacer du texte entre un contrôle d’édition et le presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="d04d8-152">There are four messages for moving text between an edit control and the clipboard.</span></span> <span data-ttu-id="d04d8-153">Le message de [**\_ copie WM**](/windows/desktop/dataxchg/wm-copy) copie la sélection actuelle (le cas échéant) d’un contrôle d’édition dans le presse-papiers sans la supprimer du contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-153">The [**WM\_COPY**](/windows/desktop/dataxchg/wm-copy) message copies the current selection (if any) from an edit control to the clipboard without deleting it from the edit control.</span></span> <span data-ttu-id="d04d8-154">Le message [**WM \_ Cut**](/windows/desktop/dataxchg/wm-cut) supprime la sélection actuelle (le cas échéant) dans le contrôle d’édition et copie le texte supprimé dans le presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="d04d8-154">The [**WM\_CUT**](/windows/desktop/dataxchg/wm-cut) message deletes the current selection (if any) in the edit control and copies the deleted text to the clipboard.</span></span> <span data-ttu-id="d04d8-155">Le message [**WM \_ Clear**](/windows/desktop/dataxchg/wm-clear) supprime la sélection actuelle (le cas échéant) d’un contrôle d’édition, mais ne la copie pas dans le presse-papiers (sauf si l’utilisateur a appuyé sur la touche Maj).</span><span class="sxs-lookup"><span data-stu-id="d04d8-155">The [**WM\_CLEAR**](/windows/desktop/dataxchg/wm-clear) message deletes the current selection (if any) from an edit control, but does not copy it to the clipboard (unless the user pressed the SHIFT key).</span></span> <span data-ttu-id="d04d8-156">Le message [**WM \_ Paste**](/windows/desktop/dataxchg/wm-paste) copie le texte du presse-papiers dans un contrôle d’édition au niveau du point d’insertion.</span><span class="sxs-lookup"><span data-stu-id="d04d8-156">The [**WM\_PASTE**](/windows/desktop/dataxchg/wm-paste) message copies text from the clipboard into an edit control at the insertion point.</span></span> <span data-ttu-id="d04d8-157">Ces quatre messages s’appliquent aux contrôles d’édition à une seule ligne et à plusieurs lignes.</span><span class="sxs-lookup"><span data-stu-id="d04d8-157">These four messages apply to both single-line and multiline edit controls.</span></span>

<span data-ttu-id="d04d8-158">Microsoft Windows NT 4,0 et versions ultérieures : un contrôle d’édition comprend un menu contextuel intégré qui permet à l’utilisateur de déplacer facilement du texte entre le contrôle d’édition et le presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="d04d8-158">Microsoft Windows NT 4.0 and later: An edit control includes a built-in context menu that makes it easy for the user to move text between the edit control and the clipboard.</span></span> <span data-ttu-id="d04d8-159">Le menu contextuel s’affiche lorsque l’utilisateur clique avec le bouton droit sur le contrôle.</span><span class="sxs-lookup"><span data-stu-id="d04d8-159">The context menu appears when the user right-clicks the control.</span></span> <span data-ttu-id="d04d8-160">Les commandes du menu contextuel incluent **Annuler**, **couper**, **copier**, **coller**, **supprimer** et **Sélectionner tout**.</span><span class="sxs-lookup"><span data-stu-id="d04d8-160">The commands in the context menu include **Undo**, **Cut**, **Copy**, **Paste**, **Delete**, and **Select All**.</span></span>

## <a name="modifying-text"></a><span data-ttu-id="d04d8-161">Modification du texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-161">Modifying Text</span></span>

<span data-ttu-id="d04d8-162">L’utilisateur peut sélectionner, supprimer ou déplacer du texte dans un contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-162">The user can select, delete, or move text in an edit control.</span></span> <span data-ttu-id="d04d8-163">Le système gère un indicateur interne pour chaque contrôle d’édition, indiquant si le contenu du contrôle a été modifié.</span><span class="sxs-lookup"><span data-stu-id="d04d8-163">The system maintains an internal flag for each edit control indicating whether the content of the control has been modified.</span></span> <span data-ttu-id="d04d8-164">Le système efface cet indicateur lorsqu’il crée le contrôle et définit l’indicateur chaque fois que le texte du contrôle est modifié.</span><span class="sxs-lookup"><span data-stu-id="d04d8-164">The system clears this flag when it creates the control and sets the flag whenever the text in the control is modified.</span></span> <span data-ttu-id="d04d8-165">Une application peut récupérer l’indicateur de modification en envoyant un message au contrôle en [**em \_ GETMODIFY**](em-getmodify.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-165">An application can retrieve the modification flag by sending the control an [**EM\_GETMODIFY**](em-getmodify.md) message.</span></span> <span data-ttu-id="d04d8-166">L’application peut ensuite définir ou effacer l’indicateur de modification en envoyant le contrôle à un message [**em \_ SETMODIFY**](em-setmodify.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-166">The application can then set or clear the modification flag by sending the control an [**EM\_SETMODIFY**](em-setmodify.md) message.</span></span> <span data-ttu-id="d04d8-167">Ces messages s’appliquent aux contrôles d’édition à une seule ligne et à plusieurs lignes.</span><span class="sxs-lookup"><span data-stu-id="d04d8-167">These messages apply to both single-line and multiline edit controls.</span></span>

## <a name="limiting-user-entered-text"></a><span data-ttu-id="d04d8-168">Limitation du texte entré par l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="d04d8-168">Limiting User Entered Text</span></span>

<span data-ttu-id="d04d8-169">La limite par défaut de la quantité de texte qu’un utilisateur peut entrer dans un contrôle d’édition est de 32 Ko.</span><span class="sxs-lookup"><span data-stu-id="d04d8-169">The default limit to the amount of text a user can enter in an edit control is 32 KB.</span></span> <span data-ttu-id="d04d8-170">Une application peut modifier la limite par défaut en envoyant un message au contrôle en [**em \_ SETLIMITTEXT**](em-setlimittext.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-170">An application can change the default limit by sending the control an [**EM\_SETLIMITTEXT**](em-setlimittext.md) message.</span></span> <span data-ttu-id="d04d8-171">Ce message définit une limite inconditionnelle sur le nombre d’octets que l’utilisateur peut entrer dans un contrôle d’édition, mais n’affecte ni le texte qui se trouve déjà dans le contrôle lorsque le message a été envoyé, ni le texte copié dans le contrôle par la fonction [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) ou le message [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-171">This message sets a hard limit to the number of bytes the user can enter into an edit control, but affects neither text that is already in the control when the message was sent nor text copied to the control by the [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) function or the [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message.</span></span> <span data-ttu-id="d04d8-172">Par exemple, supposons que l’application utilise la fonction **SetDlgItemText** pour placer 500 octets dans un contrôle d’édition, et que l’utilisateur entre également 500 octets (1 000 octets au total).</span><span class="sxs-lookup"><span data-stu-id="d04d8-172">For example, suppose that the application uses the **SetDlgItemText** function to place 500 bytes in an edit control, and the user also enters 500 bytes (1,000 bytes total).</span></span> <span data-ttu-id="d04d8-173">Si l’application envoie ensuite un **message \_ SETLIMITTEXT em** pour limiter le texte entré par l’utilisateur à 300 octets, les 1 000 octets déjà présents dans le contrôle d’édition restent là et l’utilisateur ne peut pas ajouter de texte supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="d04d8-173">If the application then sends an **EM\_SETLIMITTEXT** message limiting user-entered text to 300 bytes, the 1,000 bytes already in the edit control remain there, and the user cannot add any more text.</span></span> <span data-ttu-id="d04d8-174">En revanche, si l’application envoie un message **\_ SETLIMITTEXT em** qui limite le texte entré par l’utilisateur à 1 300 octets, les 1 000 octets sont conservés, mais l’utilisateur peut ajouter 300 octets de plus.</span><span class="sxs-lookup"><span data-stu-id="d04d8-174">On the other hand, if the application sends an **EM\_SETLIMITTEXT** message limiting user-entered text to 1,300 bytes, the 1,000 bytes remain, but the user can add 300 more bytes.</span></span>

<span data-ttu-id="d04d8-175">Lorsque l’utilisateur atteint la limite de caractères d’un contrôle d’édition, le système envoie à l’application un message de [**\_ commande WM**](/windows/desktop/menurc/wm-command) contenant un code de notification en [ \_ MAXTEXT](en-maxtext.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-175">When the user reaches the character limit of an edit control, the system sends the application a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message containing an [EN\_MAXTEXT](en-maxtext.md) notification code.</span></span> <span data-ttu-id="d04d8-176">Ce code de notification ne signifie pas que la mémoire est épuisée, mais que la limite pour le texte entré par l’utilisateur a été atteinte. l’utilisateur ne peut pas entrer de texte supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="d04d8-176">This notification code does not mean that memory has been exhausted, but that the limit for user-entered text has been reached; the user cannot enter any more text.</span></span> <span data-ttu-id="d04d8-177">Pour modifier cette limite, une application doit envoyer au contrôle un nouveau message [**em \_ SETLIMITTEXT**](em-setlimittext.md) avec une limite supérieure.</span><span class="sxs-lookup"><span data-stu-id="d04d8-177">To change this limit, an application must send the control a new [**EM\_SETLIMITTEXT**](em-setlimittext.md) message with a higher limit.</span></span>

<span data-ttu-id="d04d8-178">À titre d’exemple d’utilisation de [**em \_ SETLIMITTEXT**](em-setlimittext.md) et [en \_ MAXTEXT](en-maxtext.md), supposez que l’application doit limiter l’utilisateur à quatre caractères au maximum dans un contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-178">As an example of the use of [**EM\_SETLIMITTEXT**](em-setlimittext.md) and [EN\_MAXTEXT](en-maxtext.md), suppose that the application must limit the user to no more than four characters in an edit control.</span></span> <span data-ttu-id="d04d8-179">L’application utilise **em \_ SETLIMITTEXT** pour spécifier une limite de quatre caractères.</span><span class="sxs-lookup"><span data-stu-id="d04d8-179">The application would use **EM\_SETLIMITTEXT** to specify a four-character limit.</span></span> <span data-ttu-id="d04d8-180">Si l’utilisateur a tenté d’entrer un cinquième caractère, le système envoie un \_ Code de notification en MAXTEXT à l’application.</span><span class="sxs-lookup"><span data-stu-id="d04d8-180">If the user tried to enter a fifth character, the system would send an EN\_MAXTEXT notification code to the application.</span></span>

## <a name="character-and-line-operations"></a><span data-ttu-id="d04d8-181">Opérations de caractère et de ligne</span><span class="sxs-lookup"><span data-stu-id="d04d8-181">Character and Line Operations</span></span>

<span data-ttu-id="d04d8-182">Il existe plusieurs messages qui retournent des informations sur les caractères et les lignes d’un contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-182">There are several messages that return information about the characters and lines in an edit control.</span></span> <span data-ttu-id="d04d8-183">La plupart des messages retournent un index, généralement un nombre de base zéro, pour faire référence à un caractère ou à une ligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-183">Most of the messages return an index, usually a zero-based number, to refer to a character or line.</span></span> <span data-ttu-id="d04d8-184">Par exemple, dans un contrôle d’édition sur une seule ligne qui contient n caractères, l’index de ligne est égal à zéro et les caractères sont indexés de zéro à n-1.</span><span class="sxs-lookup"><span data-stu-id="d04d8-184">For example, in a single-line edit control that contains n characters, the line index is zero and the characters are indexed from zero to n-1.</span></span> <span data-ttu-id="d04d8-185">Dans un contrôle d’édition multiligne qui contient m lignes et n caractères, les lignes sont indexées de zéro à m-1, et les caractères sont indexés de zéro à n-1.</span><span class="sxs-lookup"><span data-stu-id="d04d8-185">In a multiline edit control that contains m lines and n characters, the lines are indexed from zero to m-1, and the characters are indexed from zero to n-1.</span></span> <span data-ttu-id="d04d8-186">Notez que l’indexation de caractères ignore les sauts de ligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-186">Note that character indexing ignores line breaks.</span></span>

<span data-ttu-id="d04d8-187">Une application peut déterminer le nombre de caractères dans un contrôle d’édition en envoyant le message [**WM \_ GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) au contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-187">An application can determine the number of characters in an edit control by sending the [**WM\_GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) message to the edit control.</span></span> <span data-ttu-id="d04d8-188">Ce message retourne la longueur, en caractères (à l’exclusion du caractère null de fin), du texte dans un contrôle d’édition sur une seule ligne ou multiligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-188">This message returns the length, in characters (not including the terminating null character), of the text in a single-line or multiline edit control.</span></span> <span data-ttu-id="d04d8-189">Le message [**em \_ LINELENGTH**](em-linelength.md) retourne la longueur, en caractères, d’une ligne spécifiée par l’index de caractère d’un caractère dans la ligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-189">The [**EM\_LINELENGTH**](em-linelength.md) message returns the length, in characters, of a line specified by the character index of a character in the line.</span></span> <span data-ttu-id="d04d8-190">La longueur retournée n’inclut pas les caractères sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="d04d8-190">The returned length does not include any selected characters.</span></span> <span data-ttu-id="d04d8-191">Une application peut utiliser ces messages dans un contrôle d’édition à ligne unique ou multiligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-191">An application can use these messages in a single-line or multiline edit control.</span></span>

<span data-ttu-id="d04d8-192">Le message [**em \_ GETFIRSTVISIBLELINE**](em-getfirstvisibleline.md) retourne l’index de base zéro de la ligne visible supérieure dans un contrôle d’édition multiligne, ou l’index de base zéro du premier caractère visible dans un contrôle d’édition sur une seule ligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-192">The [**EM\_GETFIRSTVISIBLELINE**](em-getfirstvisibleline.md) message returns the zero-based index of the uppermost visible line in a multiline edit control, or the zero-based index of the first visible character in a single-line edit control.</span></span> <span data-ttu-id="d04d8-193">Une application peut copier une ligne d’un contrôle d’édition dans une mémoire tampon en envoyant le message [**em \_ GETLINE**](em-getline.md) au contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-193">An application can copy a line from an edit control to a buffer by sending the [**EM\_GETLINE**](em-getline.md) message to the edit control.</span></span> <span data-ttu-id="d04d8-194">La ligne est spécifiée par son index de ligne et le premier mot de la mémoire tampon de réception contient le nombre maximal d’octets à copier dans la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="d04d8-194">The line is specified by its line index and the first word of the receiving buffer contains the maximum number of bytes to be copied to the buffer.</span></span> <span data-ttu-id="d04d8-195">La valeur de retour est le nombre d’octets copiés.</span><span class="sxs-lookup"><span data-stu-id="d04d8-195">The return value is the number of bytes copied.</span></span> <span data-ttu-id="d04d8-196">Ce message peut également être utilisé dans un contrôle d’édition à ligne unique ou multiligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-196">This message can also be used in a single-line or multiline edit control.</span></span>

<span data-ttu-id="d04d8-197">Des messages uniques sont disponibles pour retourner les informations relatives à une ligne dans un contrôle d’édition multiligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-197">There are unique messages available to return the information about a line in a multiline edit control.</span></span> <span data-ttu-id="d04d8-198">Le message [**em \_ GETLINECOUNT**](em-getlinecount.md) retourne le nombre de lignes dans un contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-198">The [**EM\_GETLINECOUNT**](em-getlinecount.md) message returns the number of lines in an edit control.</span></span> <span data-ttu-id="d04d8-199">Le message [**em \_ LINEFROMCHAR**](em-linefromchar.md) retourne l’index de la ligne contenant un index de caractère spécifié.</span><span class="sxs-lookup"><span data-stu-id="d04d8-199">The [**EM\_LINEFROMCHAR**](em-linefromchar.md) message returns the index of the line containing a specified character index.</span></span> <span data-ttu-id="d04d8-200">Le message [**em \_ LINEINDEX**](em-lineindex.md) retourne l’index du premier caractère d’une ligne spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d04d8-200">The [**EM\_LINEINDEX**](em-lineindex.md) message returns the index of the first character in a specified line.</span></span>

## <a name="scrolling-text-in-an-edit-control"></a><span data-ttu-id="d04d8-201">Défilement du texte dans un contrôle d’édition</span><span class="sxs-lookup"><span data-stu-id="d04d8-201">Scrolling Text in an Edit Control</span></span>

<span data-ttu-id="d04d8-202">Pour implémenter le défilement dans un contrôle d’édition, vous pouvez utiliser les styles de défilement automatique décrits dans [modifier les types et les styles de contrôle](about-edit-controls.md), ou vous pouvez ajouter explicitement des barres de défilement au contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-202">To implement scrolling in an edit control, you can use the automatic scrolling styles discussed in [Edit Control Types and Styles](about-edit-controls.md), or you can explicitly add scroll bars to the edit control.</span></span> <span data-ttu-id="d04d8-203">Pour ajouter une barre de défilement horizontale, utilisez le style WS \_ HSCROLL ; pour ajouter une barre de défilement verticale, utilisez le style [**WS \_ VSCROLL**](/windows/desktop/winmsg/window-styles).</span><span class="sxs-lookup"><span data-stu-id="d04d8-203">To add a horizontal scroll bar, use the style WS\_HSCROLL; to add a vertical scroll bar, use the style [**WS\_VSCROLL**](/windows/desktop/winmsg/window-styles).</span></span> <span data-ttu-id="d04d8-204">Un contrôle d’édition avec des barres de défilement traite ses propres messages de barre de défilement.</span><span class="sxs-lookup"><span data-stu-id="d04d8-204">An edit control with scroll bars processes its own scroll bar messages.</span></span> <span data-ttu-id="d04d8-205">Pour plus d’informations sur l’ajout de barres de défilement aux contrôles d’édition, consultez [barres de défilement](scroll-bars.md).</span><span class="sxs-lookup"><span data-stu-id="d04d8-205">For detailed information about adding scroll bars to edit controls, see [Scroll Bars](scroll-bars.md).</span></span>

<span data-ttu-id="d04d8-206">Le système fournit trois messages qu’une application peut envoyer à un contrôle d’édition avec des barres de défilement.</span><span class="sxs-lookup"><span data-stu-id="d04d8-206">The system provides three messages that an application can send to an edit control with scroll bars.</span></span> <span data-ttu-id="d04d8-207">Le [**message \_ LINESCROLL em**](em-linescroll.md) peut faire défiler un contrôle d’édition multiligne à la fois verticalement et horizontalement.</span><span class="sxs-lookup"><span data-stu-id="d04d8-207">The [**EM\_LINESCROLL**](em-linescroll.md) message can scroll a multiline edit control both vertically and horizontally.</span></span> <span data-ttu-id="d04d8-208">Le paramètre *lParam* spécifie le nombre de lignes à faire défiler verticalement à partir de la ligne active et le paramètre *wParam* spécifie le nombre de caractères à faire défiler horizontalement, en commençant par le caractère actuel.</span><span class="sxs-lookup"><span data-stu-id="d04d8-208">The *lParam* parameter specifies the number of lines to scroll vertically starting from the current line and the *wParam* parameter specifies the number of characters to scroll horizontally, starting from the current character.</span></span> <span data-ttu-id="d04d8-209">Le contrôle d’édition n’accuse pas réception des messages de défilement horizontal s’il a le style de [**\_ droite**](edit-control-styles.md) du [**\_ Centre des e**](edit-control-styles.md) /s.</span><span class="sxs-lookup"><span data-stu-id="d04d8-209">The edit control does not acknowledge horizontal scrolling messages if it has the [**ES\_CENTER**](edit-control-styles.md) or [**ES\_RIGHT**](edit-control-styles.md) style.</span></span> <span data-ttu-id="d04d8-210">Le **message \_ LINESCROLL em** s’applique uniquement aux contrôles d’édition multiligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-210">The **EM\_LINESCROLL** message applies to multiline edit controls only.</span></span>

<span data-ttu-id="d04d8-211">Le message de [**\_ défilement em**](em-scroll.md) fait défiler verticalement un contrôle d’édition multiligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-211">The [**EM\_SCROLL**](em-scroll.md) message scrolls a multiline edit control vertically.</span></span> <span data-ttu-id="d04d8-212">Le paramètre *wParam* spécifie l’action de défilement.</span><span class="sxs-lookup"><span data-stu-id="d04d8-212">The *wParam* parameter specifies the scrolling action.</span></span> <span data-ttu-id="d04d8-213">Le message de **\_ défilement em** s’applique uniquement aux contrôles d’édition multiligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-213">The **EM\_SCROLL** message applies to multiline edit controls only.</span></span> <span data-ttu-id="d04d8-214">**Em \_ Le défilement** a le même effet que le message [**WM \_ VSCROLL**](wm-vscroll.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-214">**EM\_SCROLL** has the same effect as the [**WM\_VSCROLL**](wm-vscroll.md) message.</span></span>

<span data-ttu-id="d04d8-215">Le [**message \_ SCROLLCARET em**](em-scrollcaret.md) fait défiler le signe insertion dans un contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-215">The [**EM\_SCROLLCARET**](em-scrollcaret.md) message scrolls the caret into view in an edit control.</span></span>

## <a name="setting-tab-stops-and-margins"></a><span data-ttu-id="d04d8-216">Définition des taquets de tabulation et des marges</span><span class="sxs-lookup"><span data-stu-id="d04d8-216">Setting Tab Stops and Margins</span></span>

<span data-ttu-id="d04d8-217">Une application peut définir des taquets de tabulation dans un contrôle d’édition multiligne à l’aide du message [**em \_ SETTABSTOPS**](em-settabstops.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-217">An application can set tab stops in a multiline edit control by using the [**EM\_SETTABSTOPS**](em-settabstops.md) message.</span></span> <span data-ttu-id="d04d8-218">(La valeur par défaut d’un taquet de tabulation est de huit caractères.) Quand une application ajoute du texte au contrôle d’édition, les caractères de tabulation dans le texte génèrent automatiquement l’espace jusqu’au taquet de tabulation suivant.</span><span class="sxs-lookup"><span data-stu-id="d04d8-218">(The default for a tab stop is eight characters.) When an application adds text to the edit control, tab characters in the text automatically generate space up to the next tab stop.</span></span> <span data-ttu-id="d04d8-219">Le **message \_ SETTABSTOPS em** n’entraîne pas automatiquement le redessin du texte par le système.</span><span class="sxs-lookup"><span data-stu-id="d04d8-219">The **EM\_SETTABSTOPS** message does not automatically cause the system to redraw the text.</span></span> <span data-ttu-id="d04d8-220">Pour ce faire, une application peut appeler la fonction [**InvalidateRect**](/windows/desktop/api/winuser/nf-winuser-invalidaterect) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-220">To do that, an application can call the [**InvalidateRect**](/windows/desktop/api/winuser/nf-winuser-invalidaterect) function.</span></span> <span data-ttu-id="d04d8-221">Le **message \_ SETTABSTOPS em** s’applique uniquement aux contrôles d’édition multiligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-221">The **EM\_SETTABSTOPS** message applies to multiline edit controls only.</span></span>

<span data-ttu-id="d04d8-222">Une application peut définir la largeur des marges gauche et droite d’un contrôle d’édition à l’aide du message [**em \_ setMargins**](em-setmargins.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-222">An application can set the width of the left and right margins for an edit control by using the [**EM\_SETMARGINS**](em-setmargins.md) message.</span></span> <span data-ttu-id="d04d8-223">Après l’envoi de ce message, le système redessine le contrôle d’édition pour refléter les nouveaux paramètres de marge.</span><span class="sxs-lookup"><span data-stu-id="d04d8-223">After sending this message, the system redraws the edit control to reflect the new margin settings.</span></span> <span data-ttu-id="d04d8-224">Une application peut récupérer la largeur de la marge de gauche ou de droite en envoyant le message [**em \_ GETMARGINS**](em-getmargins.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-224">An application can retrieve the width of the left or right margin by sending the [**EM\_GETMARGINS**](em-getmargins.md) message.</span></span> <span data-ttu-id="d04d8-225">Par défaut, les marges du contrôle d’édition sont définies sur une valeur suffisamment grande pour accueillir le plus grand dépassement horizontal de caractère horizontal (largeur ABC négative) pour la police actuelle utilisée dans le contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-225">By default, the edit control margins are set just wide enough to accommodate the largest character horizontal overhang (negative ABC widths) for the current font being used in the edit control.</span></span>

## <a name="concealing-user-input"></a><span data-ttu-id="d04d8-226">Masquage de l’entrée utilisateur</span><span class="sxs-lookup"><span data-stu-id="d04d8-226">Concealing User Input</span></span>

<span data-ttu-id="d04d8-227">Une application peut utiliser un caractère de mot de passe dans un contrôle d’édition pour masquer l’entrée d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="d04d8-227">An application can use a password character in an edit control to conceal user input.</span></span> <span data-ttu-id="d04d8-228">Lorsqu’un caractère de mot de passe est défini, il est affiché à la place de chaque caractère que l’utilisateur tape.</span><span class="sxs-lookup"><span data-stu-id="d04d8-228">When a password character is set, it is displayed in place of each character the user types.</span></span> <span data-ttu-id="d04d8-229">Lorsqu’un caractère de mot de passe est supprimé, le contrôle affiche les caractères que l’utilisateur tape.</span><span class="sxs-lookup"><span data-stu-id="d04d8-229">When a password character is removed, the control displays the characters the user types.</span></span> <span data-ttu-id="d04d8-230">Si l’application crée un contrôle d’édition sur une seule ligne à l’aide du [**\_ mot de passe style es**](edit-control-styles.md), le caractère de mot de passe par défaut est un astérisque ( \* ).</span><span class="sxs-lookup"><span data-stu-id="d04d8-230">If the application creates a single-line edit control using the style [**ES\_PASSWORD**](edit-control-styles.md), the default password character is an asterisk (\*).</span></span> <span data-ttu-id="d04d8-231">Une application peut utiliser le message [**em \_ SETPASSWORDCHAR**](em-setpasswordchar.md) pour supprimer ou définir un caractère de mot de passe différent et le message [**em \_ GETPASSWORDCHAR**](em-getpasswordchar.md) pour récupérer le caractère de mot de passe actuel.</span><span class="sxs-lookup"><span data-stu-id="d04d8-231">An application can use the [**EM\_SETPASSWORDCHAR**](em-setpasswordchar.md) message to remove or define a different password character and the [**EM\_GETPASSWORDCHAR**](em-getpasswordchar.md) message to retrieve the current password character.</span></span> <span data-ttu-id="d04d8-232">Ces messages s’appliquent uniquement aux contrôles d’édition sur une seule ligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-232">These messages apply to single-line edit controls only.</span></span>

## <a name="using-integers"></a><span data-ttu-id="d04d8-233">Utilisation d’entiers</span><span class="sxs-lookup"><span data-stu-id="d04d8-233">Using Integers</span></span>

<span data-ttu-id="d04d8-234">Il existe deux fonctions de conversion d’entiers pour les contrôles d’édition conçus pour contenir uniquement des nombres.</span><span class="sxs-lookup"><span data-stu-id="d04d8-234">There are two integer-conversion functions for edit controls designed to contain numbers only.</span></span> <span data-ttu-id="d04d8-235">La fonction [**SetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-setdlgitemint) crée la représentation sous forme de chaîne d’un entier spécifié (signé ou non signé) et envoie la chaîne à un contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-235">The [**SetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-setdlgitemint) function creates the string representation of a specified integer (signed or unsigned) and sends the string to an edit control.</span></span> <span data-ttu-id="d04d8-236">**SetDlgItemInt** ne retourne aucune valeur.</span><span class="sxs-lookup"><span data-stu-id="d04d8-236">**SetDlgItemInt** returns no value.</span></span> <span data-ttu-id="d04d8-237">La fonction [**GetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-getdlgitemint) crée un entier (signé ou non signé) à partir de sa représentation sous forme de chaîne dans un contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-237">The [**GetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-getdlgitemint) function creates an integer (signed or unsigned) from its string representation in an edit control.</span></span> <span data-ttu-id="d04d8-238">**GetDlgItemInt** retourne l’entier (ou une valeur d’erreur).</span><span class="sxs-lookup"><span data-stu-id="d04d8-238">**GetDlgItemInt** returns the integer (or an error value).</span></span>

## <a name="undoing-text-operations"></a><span data-ttu-id="d04d8-239">Annuler des opérations de texte</span><span class="sxs-lookup"><span data-stu-id="d04d8-239">Undoing Text Operations</span></span>

<span data-ttu-id="d04d8-240">Chaque contrôle d’édition gère un indicateur d’annulation qui indique si une application peut inverser ou annuler l’opération la plus récente dans le contrôle d’édition (annulation de la suppression du texte, par exemple).</span><span class="sxs-lookup"><span data-stu-id="d04d8-240">Every edit control maintains an undo flag that indicates whether an application can reverse or undo the most recent operation on the edit control (undoing a text deletion, for example).</span></span> <span data-ttu-id="d04d8-241">Le contrôle d’édition définit l’indicateur d’annulation pour indiquer que l’opération peut être annulée et la réinitialise pour indiquer que l’opération ne peut pas être annulée.</span><span class="sxs-lookup"><span data-stu-id="d04d8-241">The edit control sets the undo flag to indicate that the operation can be undone and resets it to indicate that the operation cannot be undone.</span></span> <span data-ttu-id="d04d8-242">Une application peut déterminer le paramètre de l’indicateur d’annulation en envoyant le contrôle à un message [**em \_ CANUNDO**](em-canundo.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-242">An application can determine the setting of the undo flag by sending the control an [**EM\_CANUNDO**](em-canundo.md) message.</span></span>

<span data-ttu-id="d04d8-243">Une application peut annuler l’opération la plus récente en envoyant le contrôle à un message d' [**\_ annulation em**](em-undo.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-243">An application can undo the most recent operation by sending the control an [**EM\_UNDO**](em-undo.md) message.</span></span> <span data-ttu-id="d04d8-244">Une opération peut être annulée si aucune autre opération de contrôle d’édition ne se produit en premier.</span><span class="sxs-lookup"><span data-stu-id="d04d8-244">An operation can be undone provided no other edit control operation occurs first.</span></span> <span data-ttu-id="d04d8-245">Par exemple, l’utilisateur peut supprimer du texte, remplacer le texte (annuler la suppression), puis supprimer le texte (annuler le remplacement).</span><span class="sxs-lookup"><span data-stu-id="d04d8-245">For example, the user can delete text, replace the text (undo the deletion), and then delete the text again (undo the replacement).</span></span> <span data-ttu-id="d04d8-246">Le message d' **\_ annulation em** s’applique aux contrôles d’édition à une seule ligne et à plusieurs lignes, et fonctionne toujours pour les contrôles d’édition sur une seule ligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-246">The **EM\_UNDO** message applies to both single-line and multiline edit controls and always works for single-line edit controls.</span></span>

<span data-ttu-id="d04d8-247">Une application peut réinitialiser l’indicateur d’annulation d’un contrôle d’édition en envoyant le contrôle à un message [**em \_ EMPTYUNDOBUFFER**](em-emptyundobuffer.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-247">An application can reset an edit control's undo flag by sending the control an [**EM\_EMPTYUNDOBUFFER**](em-emptyundobuffer.md) message.</span></span> <span data-ttu-id="d04d8-248">Le système réinitialise automatiquement l’indicateur d’annulation chaque fois qu’un contrôle d’édition reçoit un message [**em \_ SETHANDLE**](em-sethandle.md) ou [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-248">The system automatically resets the undo flag whenever an edit control receives an [**EM\_SETHANDLE**](em-sethandle.md) or [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message.</span></span> <span data-ttu-id="d04d8-249">La fonction [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) envoie un message **WM \_ SETTEXT** .</span><span class="sxs-lookup"><span data-stu-id="d04d8-249">The [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) function sends a **WM\_SETTEXT** message.</span></span>

## <a name="handling-wordwrap-and-line-breaks"></a><span data-ttu-id="d04d8-250">Gestion des retours de ligne et des sauts de ligne</span><span class="sxs-lookup"><span data-stu-id="d04d8-250">Handling Wordwrap and Line Breaks</span></span>

<span data-ttu-id="d04d8-251">Une application peut utiliser des fonctions WordWrap avec des contrôles d’édition multiligne pour localiser le mot ou le fragment de mot qui doit être renvoyé à la ligne suivante.</span><span class="sxs-lookup"><span data-stu-id="d04d8-251">An application can use Wordwrap functions with multiline edit controls to locate the word or word fragment that should be wrapped to the next line.</span></span> <span data-ttu-id="d04d8-252">À l’aide de la fonction de WordWrap par défaut fournie par le système, les lignes se terminent toujours par les espaces entre les mots.</span><span class="sxs-lookup"><span data-stu-id="d04d8-252">Using the default Wordwrap function provided by the system, lines always end at the spaces between words.</span></span> <span data-ttu-id="d04d8-253">Une application peut spécifier sa propre fonction WordWrap en fournissant une fonction WordWrap [*EditWordBreakProc*](/windows/win32/api/winuser/nc-winuser-editwordbreakproca) et en envoyant le contrôle Edit à un message [**em \_ SETWORDBREAKPROC**](em-setwordbreakproc.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-253">An application can specify its own Wordwrap function by supplying an [*EditWordBreakProc*](/windows/win32/api/winuser/nc-winuser-editwordbreakproca) Wordwrap function and sending the edit control an [**EM\_SETWORDBREAKPROC**](em-setwordbreakproc.md) message.</span></span> <span data-ttu-id="d04d8-254">Une application peut récupérer l’adresse de la fonction WordWrap actuelle en envoyant le contrôle à un message [**em \_ GETWORDBREAKPROC**](em-getwordbreakproc.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-254">An application can retrieve the address of the current Wordwrap function by sending the control an [**EM\_GETWORDBREAKPROC**](em-getwordbreakproc.md) message.</span></span>

<span data-ttu-id="d04d8-255">Une application peut diriger un contrôle d’édition multiligne pour ajouter ou supprimer un caractère de saut de ligne conditionnel (deux retours chariot et un saut de ligne) automatiquement à la fin des lignes de texte renvoyées à la ligne.</span><span class="sxs-lookup"><span data-stu-id="d04d8-255">An application may direct a multiline edit control to add or remove a soft line break character (two carriage returns and a line feed) automatically at the end of wrapped-text lines.</span></span> <span data-ttu-id="d04d8-256">Une application peut activer ou désactiver cette fonctionnalité en envoyant le contrôle d’édition à un message [**em \_ FMTLINES**](em-fmtlines.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-256">An application can turn this feature on or off by sending the edit control an [**EM\_FMTLINES**](em-fmtlines.md) message.</span></span> <span data-ttu-id="d04d8-257">Ce message s’applique uniquement aux contrôles d’édition multiligne et n’affecte pas une ligne qui se termine par un saut de ligne matériel (un retour chariot et un saut de ligne entré par l’utilisateur).</span><span class="sxs-lookup"><span data-stu-id="d04d8-257">This message applies only to multiline edit controls and does not affect a line that ends with a hard line break (one carriage return and a line feed entered by the user).</span></span> <span data-ttu-id="d04d8-258">En outre, dans les contrôles d’édition multiligne, une application peut spécifier le style [**es \_ WANTRETURN**](edit-control-styles.md) pour demander que le système insère un retour chariot lorsque l’utilisateur appuie sur la touche entrée dans le contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="d04d8-258">Also in multiline edit controls, an application can specify the [**ES\_WANTRETURN**](edit-control-styles.md) style to request that the system insert a carriage return when the user presses the ENTER key in the edit control.</span></span>

## <a name="retrieving-points-and-characters"></a><span data-ttu-id="d04d8-259">Récupération des points et des caractères</span><span class="sxs-lookup"><span data-stu-id="d04d8-259">Retrieving Points and Characters</span></span>

<span data-ttu-id="d04d8-260">Pour déterminer le caractère le plus proche d’un point spécifié dans la zone cliente d’un contrôle d’édition, envoyez le message [**em \_ CHARFROMPOS**](em-charfrompos.md) au contrôle.</span><span class="sxs-lookup"><span data-stu-id="d04d8-260">To determine the character closest to a specified point in the client area of an edit control, send the [**EM\_CHARFROMPOS**](em-charfrompos.md) message to the control.</span></span> <span data-ttu-id="d04d8-261">Le message retourne l’index de caractère et l’index de ligne du caractère le plus proche du point.</span><span class="sxs-lookup"><span data-stu-id="d04d8-261">The message returns the character index and line index of the character nearest the point.</span></span> <span data-ttu-id="d04d8-262">De même, vous pouvez récupérer les coordonnées de la zone cliente d’un caractère spécifié en envoyant le message [**em \_ POSFROMCHAR**](em-posfromchar.md) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-262">Similarly, you can retrieve the client area coordinates of a specified character by sending the [**EM\_POSFROMCHAR**](em-posfromchar.md) message.</span></span> <span data-ttu-id="d04d8-263">Le message retourne les coordonnées x et y de l’angle supérieur gauche du caractère spécifié.</span><span class="sxs-lookup"><span data-stu-id="d04d8-263">The message returns the x and y coordinates of the upper-left corner of the specified character.</span></span>

## <a name="autocompletion-of-strings"></a><span data-ttu-id="d04d8-264">Saisie semi-automatique de chaînes</span><span class="sxs-lookup"><span data-stu-id="d04d8-264">Autocompletion of Strings</span></span>

<span data-ttu-id="d04d8-265">La saisie semi-automatique développe des chaînes qui ont été entrées partiellement dans un contrôle d’édition dans des chaînes complètes.</span><span class="sxs-lookup"><span data-stu-id="d04d8-265">Autocompletion expands strings that have been partially entered in an edit control into complete strings.</span></span> <span data-ttu-id="d04d8-266">Par exemple, lorsqu’un utilisateur commence à entrer une URL dans le contrôle d’édition d’adresse qui est incorporé dans la barre d’outils de Windows Internet Explorer, la saisie semi-automatique développe la chaîne en une ou plusieurs URL complètes qui sont cohérentes avec la chaîne partielle existante.</span><span class="sxs-lookup"><span data-stu-id="d04d8-266">For example, when a user starts to enter a URL in the Address edit control that is embedded in the Windows Internet Explorer toolbar, autocompletion expands the string into one or more complete URLs that are consistent with the existing partial string.</span></span> <span data-ttu-id="d04d8-267">Une chaîne d’URL partielle telle que « MIC » peut être développée en « https://www.microsoft.com » ou «» https://www.microsoft.com/windows .</span><span class="sxs-lookup"><span data-stu-id="d04d8-267">A partial URL string such as "mic" might be expanded to "https://www.microsoft.com" or "https://www.microsoft.com/windows".</span></span> <span data-ttu-id="d04d8-268">La saisie semi-automatique est généralement utilisée avec les contrôles d’édition ou avec les contrôles dotés d’un contrôle d’édition incorporé.</span><span class="sxs-lookup"><span data-stu-id="d04d8-268">Autocompletion is typically used with edit controls or with controls that have an embedded edit control.</span></span>

<span data-ttu-id="d04d8-269">Pour plus d’informations, consultez la documentation de l’interface [**IAutoComplete**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete) et [**IAutoComplete2**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete2) .</span><span class="sxs-lookup"><span data-stu-id="d04d8-269">For more information, see the [**IAutoComplete**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete) and [**IAutoComplete2**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete2) interface documentation.</span></span>

## <a name="complex-script-in-edit-controls"></a><span data-ttu-id="d04d8-270">Script complexe dans les contrôles d’édition</span><span class="sxs-lookup"><span data-stu-id="d04d8-270">Complex Script in Edit Controls</span></span>

<span data-ttu-id="d04d8-271">Un *script complexe* est un langage dont le formulaire imprimé n’est pas disposé de manière simple.</span><span class="sxs-lookup"><span data-stu-id="d04d8-271">A *complex script* is a language whose printed form is not laid out in a simple way.</span></span> <span data-ttu-id="d04d8-272">Par exemple, un script complexe peut permettre un rendu bidirectionnel, une mise en forme contextuelle de glyphes ou une combinaison de caractères.</span><span class="sxs-lookup"><span data-stu-id="d04d8-272">For example, a complex script may allow bidirectional rendering, contextual shaping of glyphs, or combining characters.</span></span> <span data-ttu-id="d04d8-273">Les contrôles d’édition standard ont été étendus pour prendre en charge le texte multilingue et les scripts complexes.</span><span class="sxs-lookup"><span data-stu-id="d04d8-273">The standard edit controls have been extended to support multilingual text and complex scripts.</span></span> <span data-ttu-id="d04d8-274">Cela comprend non seulement l’entrée et l’affichage, mais également le déplacement du curseur sur les clusters de caractères (par exemple, dans le script thaï et DÉVANÂGARÎ).</span><span class="sxs-lookup"><span data-stu-id="d04d8-274">This includes not only input and display, but also correct cursor movement over character clusters (in Thai and Devanagari script, for example).</span></span>

<span data-ttu-id="d04d8-275">Une application bien écrite reçoit cette prise en charge automatiquement, sans modification.</span><span class="sxs-lookup"><span data-stu-id="d04d8-275">A well-written application receives this support automatically, without modification.</span></span> <span data-ttu-id="d04d8-276">Là encore, vous devez envisager d’ajouter la prise en charge pour l’ordre de lecture de droite à gauche et l’alignement à droite.</span><span class="sxs-lookup"><span data-stu-id="d04d8-276">Again, you should consider adding support for right-to-left reading order and right alignment.</span></span> <span data-ttu-id="d04d8-277">Dans ce cas, basculez les indicateurs de style étendus de la fenêtre Modifier le contrôle pour contrôler ces attributs, comme indiqué dans l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="d04d8-277">In this case, toggle the extended style flags of the edit control window to control these attributes, as shown in the following example.</span></span>


```
// ID_EDITCONTROL is the control ID in the resource file.
HANDLE hWndEdit = GetDlgItem(hDlg, ID_EDITCONTROL);
LONG lAlign = GetWindowLong(hWndEdit, GWL_EXSTYLE) ;

// To toggle alignment
lAlign ^= WS_EX_RIGHT ;

// To toggle reading order
lAlign ^= WS_EX_RTLREADING ;
```



<span data-ttu-id="d04d8-278">Après avoir défini la valeur **lAlign** , activez le nouvel affichage en définissant le style étendu de la fenêtre Modifier le contrôle comme suit.</span><span class="sxs-lookup"><span data-stu-id="d04d8-278">After setting the **lAlign** value, enable the new display by setting the extended style of the edit control window as follows.</span></span>


```
// This assumes your edit control is in a dialog box. If not, 
// get the edit control handle from another source.

SetWindowLong(hWndEdit, GWL_EXSTYLE, lAlign);
InvalidateRect(hWndEdit, NULL, FALSE);
```



<span data-ttu-id="d04d8-279">Uniscribe est un autre ensemble de fonctions qui permettent de contrôler précisément le traitement des scripts complexes.</span><span class="sxs-lookup"><span data-stu-id="d04d8-279">Uniscribe is another set of functions that provide fine control for processing complex scripts.</span></span> <span data-ttu-id="d04d8-280">Pour plus d’informations, consultez [Uniscribe](/windows/desktop/Intl/uniscribe).</span><span class="sxs-lookup"><span data-stu-id="d04d8-280">For more information, see [Uniscribe](/windows/desktop/Intl/uniscribe).</span></span>

 

 