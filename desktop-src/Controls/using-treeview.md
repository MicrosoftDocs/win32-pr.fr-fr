---
title: Utilisation de contrôles Tree-View
description: Cette section contient des détails d’implémentation et un exemple de code pour l’utilisation des contrôles d’arborescence.
ms.assetid: 37736770-5030-4f8a-a020-6897ed5f4e96
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d9ed8d1040a635964e772b8399a5c476e67f9aba
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "106510499"
---
# <a name="using-tree-view-controls"></a><span data-ttu-id="21a3a-103">Utilisation de contrôles Tree-View</span><span class="sxs-lookup"><span data-stu-id="21a3a-103">Using Tree-View Controls</span></span>

<span data-ttu-id="21a3a-104">Cette section contient des détails d’implémentation et un exemple de code pour l’utilisation des contrôles d’arborescence.</span><span class="sxs-lookup"><span data-stu-id="21a3a-104">This section contains implementation details and example code for working with tree-view controls.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="21a3a-105">Contenu de cette section</span><span class="sxs-lookup"><span data-stu-id="21a3a-105">In this section</span></span>



| <span data-ttu-id="21a3a-106">Rubrique</span><span class="sxs-lookup"><span data-stu-id="21a3a-106">Topic</span></span>                                                                                | <span data-ttu-id="21a3a-107">Description</span><span class="sxs-lookup"><span data-stu-id="21a3a-107">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="21a3a-108">Comment créer un contrôle de Tree-View</span><span class="sxs-lookup"><span data-stu-id="21a3a-108">How to Create a Tree-View Control</span></span>](create-a-tree-view-control.md)<br/>       | <span data-ttu-id="21a3a-109">Pour créer un contrôle Tree-View, utilisez la fonction [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , en spécifiant la valeur de l’arborescence [**WC \_**](common-control-window-classes.md) pour la classe Window.</span><span class="sxs-lookup"><span data-stu-id="21a3a-109">To create a tree-view control, use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**WC\_TREEVIEW**](common-control-window-classes.md) value for the window class.</span></span> <span data-ttu-id="21a3a-110">La classe de fenêtre d’arborescence est inscrite dans l’espace d’adressage de l’application lors du chargement de la DLL de contrôle commune.</span><span class="sxs-lookup"><span data-stu-id="21a3a-110">The tree-view window class is registered in the application's address space when the common control DLL is loaded.</span></span> <span data-ttu-id="21a3a-111">Pour vous assurer que la DLL est chargée, utilisez la fonction [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) .</span><span class="sxs-lookup"><span data-stu-id="21a3a-111">To ensure that the DLL is loaded, use the [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) function.</span></span> <br/>                                                                    |
| [<span data-ttu-id="21a3a-112">Comment initialiser la liste d’images</span><span class="sxs-lookup"><span data-stu-id="21a3a-112">How to Initialize the Image List</span></span>](initialize-the-image-list.md)<br/>         | <span data-ttu-id="21a3a-113">Chaque élément d’un contrôle Tree-View peut avoir deux images qui lui sont associées.</span><span class="sxs-lookup"><span data-stu-id="21a3a-113">Every item in a tree-view control can have two images associated with it.</span></span> <span data-ttu-id="21a3a-114">Un élément affiche une image lorsqu’elle est sélectionnée et l’autre quand elle ne l’est pas.</span><span class="sxs-lookup"><span data-stu-id="21a3a-114">An item displays one image when it is selected and the other when it is not.</span></span> <span data-ttu-id="21a3a-115">Pour inclure des images avec des éléments d’arborescence, utilisez d’abord les fonctions des [listes d’images](image-lists.md) pour créer une liste d’images et y ajouter des images.</span><span class="sxs-lookup"><span data-stu-id="21a3a-115">To include images with tree-view items, first use the [Image Lists](image-lists.md) functions to create an image list and add images to it.</span></span> <span data-ttu-id="21a3a-116">Associez ensuite la liste d’images au contrôle Tree-View à l’aide du message de [**TVM \_ SETIMAGELIST**](tvm-setimagelist.md) .</span><span class="sxs-lookup"><span data-stu-id="21a3a-116">Then associate the image list with the tree-view control by using the [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <br/>                                                                     |
| [<span data-ttu-id="21a3a-117">Comment ajouter des éléments de Tree-View</span><span class="sxs-lookup"><span data-stu-id="21a3a-117">How to Add Tree-View Items</span></span>](add-tree-view-items.md)<br/>                     | <span data-ttu-id="21a3a-118">Vous ajoutez un élément à un contrôle Tree-View en envoyant le message [**TVM \_ INSERTITEM**](tvm-insertitem.md) au contrôle.</span><span class="sxs-lookup"><span data-stu-id="21a3a-118">You add an item to a tree-view control by sending the [**TVM\_INSERTITEM**](tvm-insertitem.md) message to the control.</span></span> <span data-ttu-id="21a3a-119">Le message comprend l’adresse d’une structure [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) , en spécifiant l’élément parent, l’élément après lequel le nouvel élément est inséré et une structure [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) qui définit les attributs de l’élément.</span><span class="sxs-lookup"><span data-stu-id="21a3a-119">The message includes the address of a [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) structure, specifying the parent item, the item after which the new item is inserted, and a [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure that defines the attributes of the item.</span></span> <span data-ttu-id="21a3a-120">Les attributs incluent l’étiquette de l’élément, ses images sélectionnées et non sélectionnées, ainsi qu’une valeur 32 bits définie par l’application.</span><span class="sxs-lookup"><span data-stu-id="21a3a-120">The attributes include the item's label, its selected and nonselected images, and a 32-bit application-defined value.</span></span> <br/> |
| [<span data-ttu-id="21a3a-121">Comment faire glisser un élément de Tree-View</span><span class="sxs-lookup"><span data-stu-id="21a3a-121">How to Drag a Tree-View Item</span></span>](drag-a-tree-view-item.md)<br/>                 | <span data-ttu-id="21a3a-122">Cette rubrique montre le code permettant de gérer le glissement et la suppression d’éléments d’arborescence.</span><span class="sxs-lookup"><span data-stu-id="21a3a-122">This topic demonstrates code for handling dragging and dropping of tree-view items.</span></span> <span data-ttu-id="21a3a-123">L’exemple de code se compose de trois fonctions.</span><span class="sxs-lookup"><span data-stu-id="21a3a-123">The sample code consists of three functions.</span></span> <span data-ttu-id="21a3a-124">La première fonction commence l’opération glisser, la deuxième fonction fait glisser l’image et la troisième fonction termine l’opération glisser.</span><span class="sxs-lookup"><span data-stu-id="21a3a-124">The first function begins the drag operation, the second function drags the image, and the third function ends the drag operation.</span></span> <br/>                                                                                                                                                                                                                                  |
| [<span data-ttu-id="21a3a-125">Utilisation des index d’images d’État</span><span class="sxs-lookup"><span data-stu-id="21a3a-125">How to Work With State Image Indexes</span></span>](work-with-state-image-indexes.md)<br/> | <span data-ttu-id="21a3a-126">Il existe souvent une confusion quant à la façon de définir et de récupérer l’index d’images d’État dans un contrôle d’arborescence.</span><span class="sxs-lookup"><span data-stu-id="21a3a-126">There is often confusion about how to set and retrieve the state image index in a tree-view control.</span></span> <span data-ttu-id="21a3a-127">Les exemples suivants illustrent la méthode appropriée pour définir et récupérer l’index d’images d’État.</span><span class="sxs-lookup"><span data-stu-id="21a3a-127">The following examples demonstrate the proper method for setting and retrieving the state image index.</span></span> <span data-ttu-id="21a3a-128">Les exemples partent du principe qu’il n’y a que deux index d’images d’État dans le contrôle Tree-View, désactivés et activés.</span><span class="sxs-lookup"><span data-stu-id="21a3a-128">The examples assume that there are only two state image indexes in the tree-view control, unchecked and checked.</span></span> <span data-ttu-id="21a3a-129">Si votre application en contient plus de deux, ces fonctions devront être modifiées pour gérer ce cas.</span><span class="sxs-lookup"><span data-stu-id="21a3a-129">If your application contains more than two, these functions will need to be modified to handle that case.</span></span> <br/>                                                               |
| [<span data-ttu-id="21a3a-130">Utilisation de Tree-View info-bulles</span><span class="sxs-lookup"><span data-stu-id="21a3a-130">How to Use Tree-View Infotips</span></span>](use-tree-view-infotips.md)<br/>               | <span data-ttu-id="21a3a-131">Lorsque vous appliquez le style de l' [**\_ info-bulle du téléviseur**](tree-view-control-window-styles.md) à un contrôle d’arborescence, il génère des notifications [ \_ GETINFOTIP TVN](tvn-getinfotip.md) lorsque le curseur se trouve sur un élément dans l’arborescence.</span><span class="sxs-lookup"><span data-stu-id="21a3a-131">When you apply the [**TVS\_INFOTIP**](tree-view-control-window-styles.md) style to a tree-view control, it generates [TVN\_GETINFOTIP](tvn-getinfotip.md) notifications when the cursor is over an item in the tree view.</span></span> <span data-ttu-id="21a3a-132">En répondant à cette notification, vous pouvez définir le texte qui apparaît dans l’info-bulle.</span><span class="sxs-lookup"><span data-stu-id="21a3a-132">By responding to this notification, you can set the text that appears in the infotip.</span></span> <br/>                                                                                                                                                                                    |



 

 

