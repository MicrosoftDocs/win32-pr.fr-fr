---
title: À propos des contrôles Tree-View
description: Un contrôle Tree-View est une fenêtre qui affiche une liste hiérarchique d’éléments, tels que les en-têtes d’un document, les entrées d’un index ou les fichiers et répertoires d’un disque.
ms.assetid: 10cc7949-dd77-412d-bad1-db8d8a049582
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df70a2d3c2f841b022930a07ee2f140ee5bfc8e3
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "103941423"
---
# <a name="about-tree-view-controls"></a><span data-ttu-id="bf1c6-103">À propos des contrôles Tree-View</span><span class="sxs-lookup"><span data-stu-id="bf1c6-103">About Tree-View Controls</span></span>

<span data-ttu-id="bf1c6-104">Un contrôle Tree-View est une fenêtre qui affiche une liste hiérarchique d’éléments, tels que les en-têtes d’un document, les entrées d’un index ou les fichiers et répertoires d’un disque.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-104">A tree-view control is a window that displays a hierarchical list of items, such as the headings in a document, the entries in an index, or the files and directories on a disk.</span></span> <span data-ttu-id="bf1c6-105">Chaque élément est constitué d’une étiquette et d’une image bitmap facultative, et chaque élément peut être associé à une liste de sous-éléments.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-105">Each item consists of a label and an optional bitmapped image, and each item can have a list of subitems associated with it.</span></span> <span data-ttu-id="bf1c6-106">En cliquant sur un élément, l’utilisateur peut développer ou réduire la liste associée de sous-éléments.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-106">By clicking an item, the user can expand or collapse the associated list of subitems.</span></span>

<span data-ttu-id="bf1c6-107">L’illustration suivante montre un contrôle d’arborescence simple avec un nœud racine, un nœud développé et un nœud réduit.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-107">The following illustration shows a simple tree-view control with a root node, an expanded node, and a collapsed node.</span></span> <span data-ttu-id="bf1c6-108">Le contrôle utilise une image bitmap pour l’élément sélectionné et une autre image bitmap pour d’autres éléments.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-108">The control uses one bitmap for the selected item and another bitmap for other items.</span></span>

![capture d’écran montrant cinq nœuds dans une hiérarchie ; le texte d’un nœud est sélectionné, mais les nœuds ne sont pas liés les uns aux autres par des lignes](images/tv-simple.png)

<span data-ttu-id="bf1c6-110">Après avoir créé un contrôle d’arborescence, vous pouvez ajouter, supprimer, réorganiser ou manipuler des éléments en envoyant des messages au contrôle.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-110">After creating a tree-view control, you add, remove, arrange, or otherwise manipulate items by sending messages to the control.</span></span> <span data-ttu-id="bf1c6-111">Chaque message comporte une ou plusieurs macros correspondantes que vous pouvez utiliser au lieu d’envoyer le message explicitement.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-111">Each message has one or more corresponding macros that you can use instead of sending the message explicitly.</span></span>

<span data-ttu-id="bf1c6-112">Les rubriques suivantes sont présentées dans cette section.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-112">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="bf1c6-113">Styles d’arborescence</span><span class="sxs-lookup"><span data-stu-id="bf1c6-113">Tree-View Styles</span></span>](#tree-view-styles)
-   [<span data-ttu-id="bf1c6-114">Éléments parents et enfants</span><span class="sxs-lookup"><span data-stu-id="bf1c6-114">Parent and Child Items</span></span>](#parent-and-child-items)
-   [<span data-ttu-id="bf1c6-115">Étiquettes d’élément</span><span class="sxs-lookup"><span data-stu-id="bf1c6-115">Item Labels</span></span>](#item-labels)
-   [<span data-ttu-id="bf1c6-116">Modification des étiquettes d’arborescence</span><span class="sxs-lookup"><span data-stu-id="bf1c6-116">Tree-View Label Editing</span></span>](#tree-view-label-editing)
-   [<span data-ttu-id="bf1c6-117">Position de l’élément d’arborescence</span><span class="sxs-lookup"><span data-stu-id="bf1c6-117">Tree-View Item Position</span></span>](#tree-view-item-position)
-   [<span data-ttu-id="bf1c6-118">Vue d’ensemble des États des éléments d’arborescence</span><span class="sxs-lookup"><span data-stu-id="bf1c6-118">Tree-View Item States Overview</span></span>](#tree-view-item-states-overview)
-   [<span data-ttu-id="bf1c6-119">Sélection de l’élément</span><span class="sxs-lookup"><span data-stu-id="bf1c6-119">Item Selection</span></span>](#item-selection)
-   [<span data-ttu-id="bf1c6-120">Informations sur l’élément</span><span class="sxs-lookup"><span data-stu-id="bf1c6-120">Item Information</span></span>](#item-information)
-   [<span data-ttu-id="bf1c6-121">Listes d’images en mode arborescence</span><span class="sxs-lookup"><span data-stu-id="bf1c6-121">Tree-View Image Lists</span></span>](#tree-view-image-lists)
-   [<span data-ttu-id="bf1c6-122">Opérations de glisser-déplacer</span><span class="sxs-lookup"><span data-stu-id="bf1c6-122">Drag-and-Drop Operations</span></span>](#drag-and-drop-operations)
-   [<span data-ttu-id="bf1c6-123">Messages de notification de contrôle d’arborescence</span><span class="sxs-lookup"><span data-stu-id="bf1c6-123">Tree-View Control Notification Messages</span></span>](#tree-view-control-notification-messages)
-   [<span data-ttu-id="bf1c6-124">Traitement par défaut des messages de contrôle Tree-View</span><span class="sxs-lookup"><span data-stu-id="bf1c6-124">Default Tree-View Control Message Processing</span></span>](#default-tree-view-control-message-processing)
-   [<span data-ttu-id="bf1c6-125">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="bf1c6-125">Related topics</span></span>](#related-topics)

## <a name="tree-view-styles"></a><span data-ttu-id="bf1c6-126">Styles de Tree-View</span><span class="sxs-lookup"><span data-stu-id="bf1c6-126">Tree-View Styles</span></span>

<span data-ttu-id="bf1c6-127">Les styles d’arborescence gouvernent les aspects de l’apparence d’un contrôle Tree-View.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-127">Tree-view styles govern aspects of a tree-view control's appearance.</span></span> <span data-ttu-id="bf1c6-128">Vous définissez les styles initiaux lorsque vous créez le contrôle Tree-View.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-128">You set the initial styles when you create the tree-view control.</span></span> <span data-ttu-id="bf1c6-129">Vous pouvez récupérer et modifier les styles après avoir créé le contrôle Tree-View à l’aide des fonctions [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) et [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-129">You can retrieve and change the styles after creating the tree-view control by using the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions.</span></span>

<span data-ttu-id="bf1c6-130">Le style [**TV \_ HASLINES**](tree-view-control-window-styles.md) améliore la représentation graphique d’une hiérarchie de contrôle Tree-View en dessinant des lignes qui lient des éléments enfants à leur élément parent, comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-130">The [**TVS\_HASLINES**](tree-view-control-window-styles.md) style enhances the graphic representation of a tree-view control's hierarchy by drawing lines that link child items to their parent item, as shown in the following illustration.</span></span>

![capture d’écran montrant la disposition précédente, mais avec des lignes joignant les nœuds ; la première ligne descend du nœud racine.](images/tv-haslines.png)

<span data-ttu-id="bf1c6-132">En soi, ce style ne dessine pas de lignes à la racine de la hiérarchie.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-132">By itself, this style does not draw lines at the root of the hierarchy.</span></span> <span data-ttu-id="bf1c6-133">Pour ce faire, vous devez combiner les styles [**TV \_ HASLINES**](tree-view-control-window-styles.md) et [**TV \_ LINESATROOT**](tree-view-control-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-133">To do so, you need to combine the [**TVS\_HASLINES**](tree-view-control-window-styles.md) and [**TVS\_LINESATROOT**](tree-view-control-window-styles.md) styles.</span></span> <span data-ttu-id="bf1c6-134">Le résultat est représenté dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-134">The result is shown in the following illustration.</span></span>

![capture d’écran montrant la disposition précédente, mais avec une ligne horizontale supplémentaire menant au nœud racine](images/tv-rootlines.png)

<span data-ttu-id="bf1c6-136">L‘utilisateur peut développer ou réduire la liste des éléments enfants d‘un élément parent en double-cliquant sur l‘élément parent.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-136">The user can expand or collapse a parent item's list of child items by double-clicking the parent item.</span></span> <span data-ttu-id="bf1c6-137">Un contrôle d’arborescence avec le style [**TV \_ HASBUTTONS**](tree-view-control-window-styles.md) style ajoute un bouton à gauche de chaque élément parent.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-137">A tree-view control that has the [**TVS\_HASBUTTONS**](tree-view-control-window-styles.md) style adds a button to the left side of each parent item.</span></span> <span data-ttu-id="bf1c6-138">L’utilisateur peut cliquer sur le bouton une fois au lieu de double-cliquer sur l’élément parent pour développer ou réduire l’enfant.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-138">The user can click the button once instead of double-clicking the parent item to expand or collapse the child.</span></span> <span data-ttu-id="bf1c6-139">**Téléviseurs \_ HASBUTTONS** n’ajoute pas de boutons aux éléments situés à la racine de la hiérarchie.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-139">**TVS\_HASBUTTONS** does not add buttons to items at the root of the hierarchy.</span></span> <span data-ttu-id="bf1c6-140">Pour ce faire, vous devez combiner les [**téléviseurs \_ HASLINES**](tree-view-control-window-styles.md), les téléviseurs [**\_ LINESATROOT**](tree-view-control-window-styles.md)et les **téléviseurs \_ HASBUTTONS**.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-140">To do so, you must combine [**TVS\_HASLINES**](tree-view-control-window-styles.md), [**TVS\_LINESATROOT**](tree-view-control-window-styles.md), and **TVS\_HASBUTTONS**.</span></span> <span data-ttu-id="bf1c6-141">Cette combinaison de styles est présentée dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-141">This combination of styles is shown in the following illustration.</span></span>

![capture d’écran montrant la disposition précédente, mais avec des boutons de développement/réduction à chaque vertex de deux lignes](images/tv-hasbuttons.png)

<span data-ttu-id="bf1c6-143">Le style de [**\_ cases à cocher TV**](tree-view-control-window-styles.md) crée des cases à cocher en regard de chaque élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-143">The [**TVS\_CHECKBOXES**](tree-view-control-window-styles.md) style creates checkboxes next to each item.</span></span> <span data-ttu-id="bf1c6-144">Si vous souhaitez utiliser le style de case à cocher, vous devez définir le style de **\_ cases à cocher TV** (avec [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)) après avoir créé le contrôle d’arborescence et avant de remplir l’arborescence.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-144">If you want to use the checkbox style, you must set the **TVS\_CHECKBOXES** style (with [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)) after you create the tree-view control and before you populate the tree.</span></span> <span data-ttu-id="bf1c6-145">Dans le cas contraire, les cases à cocher peuvent apparaître désactivées, en fonction des problèmes de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-145">Otherwise, the checkboxes might appear unchecked, depending on timing issues.</span></span> <span data-ttu-id="bf1c6-146">L’illustration suivante montre le style de case à cocher.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-146">The following illustration shows the checkbox style.</span></span>

![capture d’écran montrant l’organisation précédente, mais avec une case à cocher en regard de chaque nœud ; deux cases à cocher sont sélectionnées](images/tv-haschecks.png)

<span data-ttu-id="bf1c6-148">Le style [**TV \_ FULLROWSELECT**](tree-view-control-window-styles.md) affiche la mise en surbrillance de la sélection pour s’étendre sur toute la largeur du contrôle, et pas seulement sur l’élément lui-même.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-148">The [**TVS\_FULLROWSELECT**](tree-view-control-window-styles.md) style causes the selection highlight to extend over the full width of the control, not just over the item itself.</span></span> <span data-ttu-id="bf1c6-149">L’illustration suivante montre ce style.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-149">The following illustration shows this style.</span></span>

![capture d’écran montrant la disposition d’origine de cinq nœuds sans lignes, mais la sélection de la sélection étend la largeur complète du contrôle](images/tv-fullrow.png)

<span data-ttu-id="bf1c6-151">Le style [**TV \_ EDITLABELSs**](tree-view-control-window-styles.md) permet à l’utilisateur de modifier les étiquettes des éléments de l’arborescence.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-151">The [**TVS\_EDITLABELS**](tree-view-control-window-styles.md) style makes it possible for the user to edit the labels of tree-view items.</span></span> <span data-ttu-id="bf1c6-152">Pour plus d’informations sur la modification des étiquettes, consultez Modification des étiquettes d' [arborescence](#tree-view-label-editing).</span><span class="sxs-lookup"><span data-stu-id="bf1c6-152">For more information about editing labels, see [Tree-View Label Editing](#tree-view-label-editing).</span></span>

<span data-ttu-id="bf1c6-153">Pour plus d’informations sur ces styles et d’autres, consultez [styles de fenêtre de contrôle d’arborescence](tree-view-control-window-styles.md).</span><span class="sxs-lookup"><span data-stu-id="bf1c6-153">For more information on these and other styles, see [Tree-View Control Window Styles](tree-view-control-window-styles.md).</span></span>

## <a name="parent-and-child-items"></a><span data-ttu-id="bf1c6-154">Éléments parents et enfants</span><span class="sxs-lookup"><span data-stu-id="bf1c6-154">Parent and Child Items</span></span>

<span data-ttu-id="bf1c6-155">Tout élément d’un contrôle Tree-View peut avoir une liste de sous-éléments, appelés *éléments enfants*, qui lui est associé.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-155">Any item in a tree-view control can have a list of subitems—called *child items*—associated with it.</span></span> <span data-ttu-id="bf1c6-156">Un élément qui a un ou plusieurs éléments enfants est appelé un *élément parent*.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-156">An item that has one or more child items is called a *parent item*.</span></span> <span data-ttu-id="bf1c6-157">Un élément enfant est affiché sous son élément parent et est mis en retrait pour indiquer qu’il est subordonné au parent.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-157">A child item is displayed below its parent item and is indented to indicate that it is subordinate to the parent.</span></span> <span data-ttu-id="bf1c6-158">Un élément qui n’a pas de parent apparaît en haut de la hiérarchie et est appelé *élément racine*.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-158">An item that has no parent appears at the top of the hierarchy and is called a *root item*.</span></span>

<span data-ttu-id="bf1c6-159">Pour ajouter un élément à un contrôle Tree-View, envoyez le message [**TVM \_ INSERTITEM**](tvm-insertitem.md) au contrôle.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-159">To add an item to a tree-view control, send the [**TVM\_INSERTITEM**](tvm-insertitem.md) message to the control.</span></span> <span data-ttu-id="bf1c6-160">Le message retourne un handle vers le type HTREEITEM, qui identifie de façon unique l’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-160">The message returns a handle to the HTREEITEM type, which uniquely identifies the item.</span></span> <span data-ttu-id="bf1c6-161">Lorsque vous ajoutez un élément, vous devez spécifier le descripteur de l’élément parent du nouvel élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-161">When adding an item, you must specify the handle to the new item's parent item.</span></span> <span data-ttu-id="bf1c6-162">Si vous spécifiez la valeur **null** ou la \_ valeur racine TVI à la place d’un descripteur d’élément parent dans la structure [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) , l’élément est ajouté en tant qu’élément racine.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-162">If you specify **NULL** or the TVI\_ROOT value instead of a parent item handle in the [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) structure, the item is added as a root item.</span></span>

<span data-ttu-id="bf1c6-163">À tout moment, l‘état d‘une liste d‘éléments parents pour des éléments enfants peut être développé ou réduit.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-163">At any given time, the state of a parent item's list of child items can be either expanded or collapsed.</span></span> <span data-ttu-id="bf1c6-164">Lorsque l’état est développé, les éléments enfants apparaissent sous l’élément parent.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-164">When the state is expanded, the child items are displayed below the parent item.</span></span> <span data-ttu-id="bf1c6-165">Lorsqu'il est réduit, les éléments enfants ne sont pas affichés.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-165">When it is collapsed, the child items are not displayed.</span></span> <span data-ttu-id="bf1c6-166">La liste bascule automatiquement entre les États développés et réduits lorsque l’utilisateur double-clique sur l’élément parent ou, si le parent a le style [**TV \_ HASBUTTONS**](tree-view-control-window-styles.md) , lorsque l’utilisateur clique sur le bouton associé à l’élément parent.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-166">The list automatically toggles between the expanded and collapsed states when the user double-clicks the parent item or, if the parent has the [**TVS\_HASBUTTONS**](tree-view-control-window-styles.md) style, when the user clicks the button associated with the parent item.</span></span> <span data-ttu-id="bf1c6-167">Une application peut développer ou réduire les éléments enfants à l’aide du message de [**\_ développement TVM**](tvm-expand.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-167">An application can expand or collapse the child items by using the [**TVM\_EXPAND**](tvm-expand.md) message.</span></span>

<span data-ttu-id="bf1c6-168">Un contrôle Tree-View envoie la fenêtre parente un message de notification [TVN \_ ITEMEXPANDING](tvn-itemexpanding.md) lorsque la liste des éléments enfants d’un élément parent est sur le point d’être développée ou réduite.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-168">A tree-view control sends the parent window a [TVN\_ITEMEXPANDING](tvn-itemexpanding.md) notification message when a parent item's list of child items is about to be expanded or collapsed.</span></span> <span data-ttu-id="bf1c6-169">La notification donne à une application la possibilité d’empêcher la modification ou de définir des attributs de l’élément parent qui dépendent de l’état de la liste d’éléments enfants.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-169">The notification gives an application the opportunity to prevent the change or to set any attributes of the parent item that depend on the state of the list of child items.</span></span> <span data-ttu-id="bf1c6-170">Après avoir modifié l’état de la liste, le contrôle Tree-View envoie la fenêtre parente un message de notification [TVN \_ ITEMEXPANDED](tvn-itemexpanded.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-170">After changing the state of the list, the tree-view control sends the parent window a [TVN\_ITEMEXPANDED](tvn-itemexpanded.md) notification message.</span></span>

<span data-ttu-id="bf1c6-171">Lorsqu’une liste d’éléments enfants est développée, elle est mise en retrait par rapport à l’élément parent.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-171">When a list of child items is expanded, it is indented relative to the parent item.</span></span> <span data-ttu-id="bf1c6-172">Vous pouvez définir la quantité de mise en retrait à l’aide du message [**TVM \_ SETINDENT**](tvm-setindent.md) ou récupérer la valeur actuelle à l’aide du message [**TVM \_ GETINDENT**](tvm-getindent.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-172">You can set the amount of indentation by using the [**TVM\_SETINDENT**](tvm-setindent.md) message or retrieve the current amount by using the [**TVM\_GETINDENT**](tvm-getindent.md) message.</span></span>

<span data-ttu-id="bf1c6-173">Un contrôle Tree-View utilise la mémoire allouée à partir du tas du processus qui crée le contrôle Tree-View.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-173">A tree-view control uses memory allocated from the heap of the process that creates the tree-view control.</span></span> <span data-ttu-id="bf1c6-174">Le nombre maximal d’éléments dans une arborescence est basé sur la quantité de mémoire disponible dans le tas.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-174">The maximum number of items in a tree view is based on the amount of memory available in the heap.</span></span>

## <a name="item-labels"></a><span data-ttu-id="bf1c6-175">Étiquettes d’élément</span><span class="sxs-lookup"><span data-stu-id="bf1c6-175">Item Labels</span></span>

<span data-ttu-id="bf1c6-176">En général, vous spécifiez le texte de l’étiquette d’un élément lors de l’ajout de l’élément au contrôle Tree-View.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-176">You typically specify the text of an item's label when adding the item to the tree-view control.</span></span> <span data-ttu-id="bf1c6-177">Le message [**TVM \_ INSERTITEM**](tvm-insertitem.md) inclut une structure [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) qui définit les propriétés de l’élément, y compris une chaîne contenant le texte de l’étiquette.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-177">The [**TVM\_INSERTITEM**](tvm-insertitem.md) message includes a [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure that defines the item's properties, including a string containing the text of the label.</span></span>

<span data-ttu-id="bf1c6-178">Un contrôle Tree-View alloue de la mémoire pour stocker chaque élément ; le texte des étiquettes d’élément occupe une partie importante de cette mémoire.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-178">A tree-view control allocates memory for storing each item; the text of the item labels takes up a significant portion of this memory.</span></span> <span data-ttu-id="bf1c6-179">Si votre application gère une copie des chaînes dans le contrôle Tree-View, vous pouvez réduire les besoins en mémoire du contrôle en spécifiant la \_ valeur LPSTR TEXTCALLBACK dans le membre **PszText** de [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) au lieu de passer des chaînes réelles à l’arborescence.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-179">If your application maintains a copy of the strings in the tree-view control, you can decrease the memory requirements of the control by specifying the LPSTR\_TEXTCALLBACK value in the **pszText** member of [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) instead of passing actual strings to the tree view.</span></span> <span data-ttu-id="bf1c6-180">L’utilisation de LPSTR \_ TEXTCALLBACK fait en sorte que le contrôle d’arborescence récupère le texte de l’étiquette d’un élément à partir de la fenêtre parente chaque fois que l’élément doit être redessiné.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-180">Using LPSTR\_TEXTCALLBACK causes the tree-view control to retrieve the text of an item's label from the parent window whenever the item needs to be redrawn.</span></span> <span data-ttu-id="bf1c6-181">Pour récupérer le texte, le contrôle d’arborescence envoie un message de notification [TVN \_ GETDISPINFO](tvn-getdispinfo.md) , qui comprend l’adresse d’une structure [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-181">To retrieve the text, the tree-view control sends a [TVN\_GETDISPINFO](tvn-getdispinfo.md) notification message, which includes the address of an [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) structure.</span></span> <span data-ttu-id="bf1c6-182">La fenêtre parente doit remplir les membres appropriés de la structure incluse.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-182">The parent window must fill the appropriate members of the included structure.</span></span>

## <a name="tree-view-label-editing"></a><span data-ttu-id="bf1c6-183">Modification des étiquettes Tree-View</span><span class="sxs-lookup"><span data-stu-id="bf1c6-183">Tree-View Label Editing</span></span>

<span data-ttu-id="bf1c6-184">L’utilisateur peut modifier directement les étiquettes des éléments dans un contrôle Tree-View qui a le style [**TV \_ EDITLABELS**](tree-view-control-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-184">The user can directly edit the labels of items in a tree-view control that has the [**TVS\_EDITLABELS**](tree-view-control-window-styles.md) style.</span></span> <span data-ttu-id="bf1c6-185">L’utilisateur commence la modification en cliquant sur l’étiquette de l’élément qui a le focus.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-185">The user begins editing by clicking the label of the item that has the focus.</span></span> <span data-ttu-id="bf1c6-186">Une application commence la modification à l’aide du message [**TVM \_ EDITLABEL**](tvm-editlabel.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-186">An application begins editing by using the [**TVM\_EDITLABEL**](tvm-editlabel.md) message.</span></span> <span data-ttu-id="bf1c6-187">Le contrôle Tree-View notifie la fenêtre parente lorsque la modification commence et lorsqu’elle est annulée ou terminée.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-187">The tree-view control notifies the parent window when editing begins and when it is canceled or completed.</span></span> <span data-ttu-id="bf1c6-188">Lorsque la modification est terminée, la fenêtre parente est chargée de mettre à jour l’étiquette de l’élément, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-188">When editing is completed, the parent window is responsible for updating the item's label, if appropriate.</span></span>

<span data-ttu-id="bf1c6-189">Lorsque la modification d’étiquette commence, un contrôle Tree-View envoie sa fenêtre parente un message de notification [TVN \_ BEGINLABELEDIT](tvn-beginlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-189">When label editing begins, a tree-view control sends its parent window a [TVN\_BEGINLABELEDIT](tvn-beginlabeledit.md) notification message.</span></span> <span data-ttu-id="bf1c6-190">En traitant cette notification, une application peut autoriser la modification de certaines étiquettes et empêcher la modification des autres.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-190">By processing this notification, an application can allow editing of some labels and prevent editing of others.</span></span> <span data-ttu-id="bf1c6-191">Si vous retournez la valeur zéro, la modification est retournée, et la valeur différente de zéro l’empêche.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-191">Returning zero allows editing, and returning nonzero prevents it.</span></span>

<span data-ttu-id="bf1c6-192">Lorsque la modification d’étiquette est annulée ou terminée, un contrôle d’arborescence envoie sa fenêtre parente à un message de notification [TVN \_ ENDLABELEDIT](tvn-endlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-192">When label editing is canceled or completed, a tree-view control sends its parent window a [TVN\_ENDLABELEDIT](tvn-endlabeledit.md) notification message.</span></span> <span data-ttu-id="bf1c6-193">Le paramètre *lParam* est l’adresse d’une structure [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-193">The *lParam* parameter is the address of an [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) structure.</span></span> <span data-ttu-id="bf1c6-194">Le paramètre *Item* est une structure [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) qui identifie l’élément et comprend le texte modifié.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-194">The *item* parameter is a [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure that identifies the item and includes the edited text.</span></span> <span data-ttu-id="bf1c6-195">La fenêtre parente est responsable de la mise à jour de l’étiquette de l’élément s’il souhaite conserver la nouvelle étiquette.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-195">The parent window is responsible for updating the item's label if it wishes to keep the new label.</span></span> <span data-ttu-id="bf1c6-196">Le membre **pszText** de **TVITEM** est égal à zéro si la modification est annulée.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-196">The **pszText** member of **TVITEM** is zero if editing is canceled.</span></span>

<span data-ttu-id="bf1c6-197">Pendant la modification des étiquettes, en général en réponse au message de notification [TVN \_ BEGINLABELEDIT](tvn-beginlabeledit.md) , vous pouvez récupérer le handle du contrôle d’édition utilisé pour la modification des étiquettes à l’aide du message [**TVM \_ GETEDITCONTROL**](tvm-geteditcontrol.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-197">During label editing, typically in response to the [TVN\_BEGINLABELEDIT](tvn-beginlabeledit.md) notification message, you can retrieve the handle to the edit control used for label editing by using the [**TVM\_GETEDITCONTROL**](tvm-geteditcontrol.md) message.</span></span> <span data-ttu-id="bf1c6-198">Vous pouvez envoyer au contrôle d’édition un message [**em \_ SETLIMITTEXT**](em-setlimittext.md) pour limiter la quantité de texte qu’un utilisateur peut entrer ou sous-classer le contrôle d’édition pour intercepter et ignorer les caractères non valides.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-198">You can send the edit control an [**EM\_SETLIMITTEXT**](em-setlimittext.md) message to limit the amount of text a user can enter or subclass the edit control to intercept and discard invalid characters.</span></span> <span data-ttu-id="bf1c6-199">Notez, toutefois, que le contrôle d’édition s’affiche uniquement *après* l'   envoi de TVN \_ BEGINLABELEDIT.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-199">Note, however, that the edit control is displayed only *after* TVN\_BEGINLABELEDIT is sent.</span></span>

## <a name="tree-view-item-position"></a><span data-ttu-id="bf1c6-200">Position de l’élément de Tree-View</span><span class="sxs-lookup"><span data-stu-id="bf1c6-200">Tree-View Item Position</span></span>

<span data-ttu-id="bf1c6-201">La position initiale d’un élément est définie lorsque l’élément est ajouté au contrôle Tree-View à l’aide du message [**TVM \_ INSERTITEM**](tvm-insertitem.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-201">An item's initial position is set when the item is added to the tree-view control by using the [**TVM\_INSERTITEM**](tvm-insertitem.md) message.</span></span> <span data-ttu-id="bf1c6-202">Le message comprend une structure [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) qui spécifie le descripteur de l’élément parent et le handle de l’élément après lequel le nouvel élément doit être inséré.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-202">The message includes a [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) structure that specifies the handle to the parent item and the handle to the item after which the new item is to be inserted.</span></span> <span data-ttu-id="bf1c6-203">Le deuxième descripteur doit identifier soit un élément enfant du parent donné, soit l’une des valeurs suivantes : TVI \_ First, TVI \_ Last ou TVI \_ sort.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-203">The second handle must identify either a child item of the given parent or one of these values: TVI\_FIRST, TVI\_LAST, or TVI\_SORT.</span></span>

<span data-ttu-id="bf1c6-204">Quand TVI \_ First ou TVI \_ Last est spécifié, le contrôle Tree-View place le nouvel élément au début ou à la fin de la liste des éléments enfants de l’élément parent donné.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-204">When TVI\_FIRST or TVI\_LAST is specified, the tree-view control places the new item at the beginning or end of the given parent item's list of child items.</span></span> <span data-ttu-id="bf1c6-205">Quand TVI \_ sort est spécifié, le contrôle Tree-View insère le nouvel élément dans la liste des éléments enfants dans l’ordre alphabétique en fonction du texte des étiquettes d’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-205">When TVI\_SORT is specified, the tree-view control inserts the new item into the list of child items in alphabetical order based on the text of the item labels.</span></span>

<span data-ttu-id="bf1c6-206">Vous pouvez placer la liste des éléments enfants d’un élément parent dans l’ordre alphabétique à l’aide du message [**TVM \_ SORTCHILDREN**](tvm-sortchildren.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-206">You can put a parent item's list of child items in alphabetical order by using the [**TVM\_SORTCHILDREN**](tvm-sortchildren.md) message.</span></span> <span data-ttu-id="bf1c6-207">Le message comprend un paramètre qui spécifie si tous les niveaux d’éléments enfants décroissant de l’élément parent donné sont également triés par ordre alphabétique.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-207">The message includes a parameter that specifies whether all levels of child items descending from the given parent item are also sorted in alphabetical order.</span></span>

<span data-ttu-id="bf1c6-208">Le message [**TVM \_ SORTCHILDRENCB**](tvm-sortchildrencb.md) vous permet de trier des éléments enfants en fonction de critères que vous définissez.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-208">The [**TVM\_SORTCHILDRENCB**](tvm-sortchildrencb.md) message allows you to sort child items based on criteria that you define.</span></span> <span data-ttu-id="bf1c6-209">Lorsque vous utilisez ce message, vous spécifiez une fonction de rappel définie par l’application que le contrôle d’arborescence peut appeler chaque fois que l’ordre relatif de deux éléments enfants doit être déterminé.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-209">When you use this message, you specify an application-defined callback function that the tree-view control can call whenever the relative order of two child items needs to be decided.</span></span> <span data-ttu-id="bf1c6-210">La fonction de rappel reçoit des valeurs définies par l’application 2 32 bits pour les éléments comparés et une troisième valeur 32 bits que vous spécifiez lors de l’envoi de **TVM \_ SORTCHILDRENCB**.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-210">The callback function receives two 32-bit application-defined values for the items being compared and a third 32-bit value that you specify when sending **TVM\_SORTCHILDRENCB**.</span></span>

## <a name="tree-view-item-states-overview"></a><span data-ttu-id="bf1c6-211">Présentation des États de Tree-View élément</span><span class="sxs-lookup"><span data-stu-id="bf1c6-211">Tree-View Item States Overview</span></span>

<span data-ttu-id="bf1c6-212">Chaque élément d’un contrôle Tree-View a un état actuel.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-212">Each item in a tree-view control has a current state.</span></span> <span data-ttu-id="bf1c6-213">Les informations d’état de chaque élément incluent un jeu d’indicateurs binaires, ainsi que des index de liste d’images qui indiquent l’image d’état de l’élément et l’image de superposition.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-213">The state information for each item includes a set of bit flags as well as image list indexes that indicate the item's state image and overlay image.</span></span> <span data-ttu-id="bf1c6-214">Les indicateurs binaires indiquent si l’élément est sélectionné, désactivé, développé et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-214">The bit flags indicate whether the item is selected, disabled, expanded, and so on.</span></span> <span data-ttu-id="bf1c6-215">Pour l’essentiel, un contrôle d’arborescence définit automatiquement l’état d’un élément pour refléter les actions de l’utilisateur, telles que la sélection d’un élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-215">For the most part, a tree-view control automatically sets an item's state to reflect user actions, such as selection of an item.</span></span> <span data-ttu-id="bf1c6-216">Toutefois, vous pouvez également définir l’état d’un élément à l’aide du message [**TVM \_ SETITEM**](tvm-setitem.md) , et vous pouvez récupérer l’état actuel d’un élément à l’aide du message [**TVM \_ GETITEM**](tvm-getitem.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-216">However, you can also set an item's state by using the [**TVM\_SETITEM**](tvm-setitem.md) message, and you can retrieve the current state of an item by using the [**TVM\_GETITEM**](tvm-getitem.md) message.</span></span> <span data-ttu-id="bf1c6-217">Pour obtenir la liste complète des États des éléments, consultez [États des éléments de contrôle d’arborescence](tree-view-control-item-states.md).</span><span class="sxs-lookup"><span data-stu-id="bf1c6-217">For a complete list of item states, see [Tree-View Control Item States](tree-view-control-item-states.md).</span></span>

<span data-ttu-id="bf1c6-218">L’état actuel d’un élément est spécifié par le membre d' **État** de la structure [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-218">An item's current state is specified by the **state** member of the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure.</span></span> <span data-ttu-id="bf1c6-219">Un contrôle d’arborescence peut modifier l’état d’un élément pour refléter une action de l’utilisateur, par exemple sélectionner l’élément ou définir le focus sur l’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-219">A tree-view control might change an item's state to reflect a user action, such as selecting the item or setting the focus to the item.</span></span> <span data-ttu-id="bf1c6-220">En outre, une application peut modifier l'état d'un élément pour désactiver ou masquer l'élément ou pour spécifier une image de superposition ou d'état.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-220">In addition, an application might change an item's state to disable or hide the item or to specify an overlay image or state image.</span></span>

<span data-ttu-id="bf1c6-221">Lorsque vous spécifiez ou modifiez l’état d’un élément, le membre **statemask** de [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) spécifie les bits d’État à définir, et le membre d' **État** contient les nouvelles valeurs pour ces bits.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-221">When you specify or change an item's state, the **statemask** member of [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) specifies which state bits to set, and the **state** member contains the new values for those bits.</span></span>

<span data-ttu-id="bf1c6-222">Pour définir l’image de superposition d’un élément, **statemask** doit inclure la valeur [**Tvis \_ OVERLAYMASK**](tree-view-control-item-states.md) et **State** doit inclure l’index de base un de l’image de superposition décalée vers la gauche 8 bits à l’aide de la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-222">To set an item's overlay image, **statemask** must include the [**TVIS\_OVERLAYMASK**](tree-view-control-item-states.md) value, and **state** must include the one-based index of the overlay image shifted left 8 bits by using the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="bf1c6-223">L’index peut être égal à zéro pour ne spécifier aucune image de superposition.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-223">The index can be zero to specify no overlay image.</span></span>

<span data-ttu-id="bf1c6-224">Une image d’État s’affiche en regard de l’icône d’un élément pour indiquer un état défini par l’application.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-224">A state image is displayed next to an item's icon to indicate an application-defined state.</span></span> <span data-ttu-id="bf1c6-225">Les images d’État sont contenues dans une *liste d’images d’État* spécifiée par l’envoi d’un message [**TVM \_ SETIMAGELIST**](tvm-setimagelist.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-225">State images are contained in a *state image list* that is specified by sending a [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <span data-ttu-id="bf1c6-226">Pour définir l’image d’état d’un élément, incluez la valeur [**\_ STATEIMAGEMASK Tvis**](tree-view-control-item-states.md) dans le membre **Statemask** de la structure [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-226">To set an item's state image, include the [**TVIS\_STATEIMAGEMASK**](tree-view-control-item-states.md) value in the **statemask** member of the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure.</span></span> <span data-ttu-id="bf1c6-227">Les bits 12 à 15 du membre d' **État** de la structure spécifient l’index dans la liste d’images d’état de l’image à dessiner.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-227">Bits 12 through 15 of the structure's **state** member specify the index in the state image list of the image to be drawn.</span></span>

<span data-ttu-id="bf1c6-228">Pour définir l’index d’image d’État, utilisez [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask).</span><span class="sxs-lookup"><span data-stu-id="bf1c6-228">To set the state image index, use [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask).</span></span> <span data-ttu-id="bf1c6-229">Cette macro prend un index et définit les bits 12 à 15 de manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-229">This macro takes an index, and sets bits 12 through 15 appropriately.</span></span> <span data-ttu-id="bf1c6-230">Pour indiquer que l’élément n’a pas d’image d’État, définissez l’index sur zéro.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-230">To indicate that the item has no state image, set the index to zero.</span></span> <span data-ttu-id="bf1c6-231">Cette Convention signifie que l’image zéro dans la liste d’images d’État ne peut pas être utilisée comme image d’État.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-231">This convention means that image zero in the state image list cannot be used as a state image.</span></span> <span data-ttu-id="bf1c6-232">Pour isoler les bits 12 à 15 du membre d' **État** , utilisez le masque [**Tvis \_ STATEIMAGEMASK**](tree-view-control-item-states.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-232">To isolate bits 12 through 15 of the **state** member, use the [**TVIS\_STATEIMAGEMASK**](tree-view-control-item-states.md) mask.</span></span> <span data-ttu-id="bf1c6-233">Pour plus d’informations sur les images de superposition et d’État, consultez [listes d’images en mode arborescence](#tree-view-image-lists).</span><span class="sxs-lookup"><span data-stu-id="bf1c6-233">For more information about overlay and state images, see [Tree-View Image Lists](#tree-view-image-lists).</span></span>

## <a name="item-selection"></a><span data-ttu-id="bf1c6-234">Sélection de l’élément</span><span class="sxs-lookup"><span data-stu-id="bf1c6-234">Item Selection</span></span>

<span data-ttu-id="bf1c6-235">Un contrôle Tree-View notifie la fenêtre parente lorsque la sélection passe d’un élément à un autre en envoyant les messages de notification [TVN \_ SELCHANGING](tvn-selchanging.md) et [TVN \_ SELCHANGED](tvn-selchanged.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-235">A tree-view control notifies the parent window when the selection changes from one item to another by sending the [TVN\_SELCHANGING](tvn-selchanging.md) and [TVN\_SELCHANGED](tvn-selchanged.md) notification messages.</span></span> <span data-ttu-id="bf1c6-236">Les deux notifications incluent une valeur qui spécifie si la modification est le résultat d’un clic de souris ou d’une touche.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-236">Both notifications include a value that specifies whether the change is the result of a mouse click or a keystroke.</span></span> <span data-ttu-id="bf1c6-237">Les notifications incluent également des informations sur l’élément qui obtient la sélection et l’élément qui perd la sélection.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-237">The notifications also include information about the item that is gaining the selection and the item that is losing the selection.</span></span> <span data-ttu-id="bf1c6-238">Vous pouvez utiliser ces informations pour définir des attributs d’élément qui dépendent de l’état de sélection de l’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-238">You can use this information to set item attributes that depend on the selection state of the item.</span></span> <span data-ttu-id="bf1c6-239">Le retour de la **valeur true** en réponse à TVN \_ SELCHANGING empêche la sélection de changer et la **valeur false** autorise la modification.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-239">Returning **TRUE** in response to TVN\_SELCHANGING prevents the selection from changing, and returning **FALSE** allows the change.</span></span>

<span data-ttu-id="bf1c6-240">Une application peut modifier la sélection en envoyant le message [**TVM \_ SELECTITEM**](tvm-selectitem.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-240">An application can change the selection by sending the [**TVM\_SELECTITEM**](tvm-selectitem.md) message.</span></span>

## <a name="item-information"></a><span data-ttu-id="bf1c6-241">Informations sur l’élément</span><span class="sxs-lookup"><span data-stu-id="bf1c6-241">Item Information</span></span>

<span data-ttu-id="bf1c6-242">Les contrôles d’arborescence prennent en charge un certain nombre de messages qui récupèrent des informations sur les éléments du contrôle.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-242">Tree-view controls support a number of messages that retrieve information about items in the control.</span></span>

<span data-ttu-id="bf1c6-243">Le message [**TVM \_ GETITEM**](tvm-getitem.md) peut récupérer le handle et les attributs d’un élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-243">The [**TVM\_GETITEM**](tvm-getitem.md) message can retrieve an item's handle and attributes.</span></span> <span data-ttu-id="bf1c6-244">Les attributs d’un élément incluent son état actuel, les index dans la liste d’images du contrôle des images bitmap sélectionnées et non sélectionnées de l’élément, un indicateur qui indique si l’élément a des éléments enfants, l’adresse de la chaîne d’étiquette de l’élément et la valeur 32 bits définie par l’application de l’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-244">An item's attributes include its current state, the indexes in the control's image list of the item's selected and nonselected bitmapped images, a flag that indicates whether the item has child items, the address of the item's label string, and the item's application-defined 32-bit value.</span></span>

<span data-ttu-id="bf1c6-245">Le message [**TVM \_ GETNEXTITEM**](tvm-getnextitem.md) récupère l’élément d’arborescence qui porte la relation spécifiée à l’élément actuel.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-245">The [**TVM\_GETNEXTITEM**](tvm-getnextitem.md) message retrieves the tree-view item that bears the specified relationship to the current item.</span></span> <span data-ttu-id="bf1c6-246">Le message peut récupérer le parent d’un élément, l’élément visible suivant ou précédent, le premier élément enfant, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-246">The message can retrieve an item's parent, the next or previous visible item, the first child item, and so on.</span></span>

<span data-ttu-id="bf1c6-247">Le message [**TVM \_ GETITEMRECT**](tvm-getitemrect.md) récupère le rectangle englobant d’un élément d’arborescence.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-247">The [**TVM\_GETITEMRECT**](tvm-getitemrect.md) message retrieves the bounding rectangle for a tree-view item.</span></span> <span data-ttu-id="bf1c6-248">Les messages [**TVM \_ GETCOUNT**](tvm-getcount.md) et [**TVM \_ GETVISIBLECOUNT**](tvm-getvisiblecount.md) récupèrent le nombre d’éléments dans un contrôle Tree-View et le nombre d’éléments pouvant être entièrement visibles dans la fenêtre du contrôle Tree-View, respectivement.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-248">The [**TVM\_GETCOUNT**](tvm-getcount.md) and [**TVM\_GETVISIBLECOUNT**](tvm-getvisiblecount.md) messages retrieve a count of the items in a tree-view control and a count of the items that can be fully visible in the tree-view control's window, respectively.</span></span> <span data-ttu-id="bf1c6-249">Vous pouvez vous assurer qu’un élément particulier est visible à l’aide du message [**TVM \_ ENSUREVISIBLE**](tvm-ensurevisible.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-249">You can ensure that a particular item is visible by using the [**TVM\_ENSUREVISIBLE**](tvm-ensurevisible.md) message.</span></span>

## <a name="tree-view-image-lists"></a><span data-ttu-id="bf1c6-250">Tree-View les listes d’images</span><span class="sxs-lookup"><span data-stu-id="bf1c6-250">Tree-View Image Lists</span></span>

<span data-ttu-id="bf1c6-251">Chaque élément d’un contrôle Tree-View peut avoir quatre images bitmap qui lui sont associées.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-251">Each item in a tree-view control can have four bitmapped images associated with it.</span></span>

-   <span data-ttu-id="bf1c6-252">Une image, telle qu’un dossier ouvert, s’affiche lorsque l’élément est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-252">An image, such as an open folder, displayed when the item is selected.</span></span>
-   <span data-ttu-id="bf1c6-253">Une image, telle qu’un dossier fermé, s’affiche lorsque l’élément n’est pas sélectionné.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-253">An image, such as a closed folder, displayed when the item is not selected.</span></span>
-   <span data-ttu-id="bf1c6-254">Image de superposition dessinée de façon transparente sur l’image sélectionnée ou non sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-254">An overlay image that is drawn transparently over the selected or nonselected image.</span></span>
-   <span data-ttu-id="bf1c6-255">Image d’État, qui est une image supplémentaire affichée à gauche de l’image sélectionnée ou non sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-255">A state image, which is an additional image displayed to the left of the selected or nonselected image.</span></span> <span data-ttu-id="bf1c6-256">Vous pouvez utiliser des images d’État, telles que des cases à cocher activées et désactivées, pour indiquer les États des éléments définis par l’application.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-256">You can use state images, such as checked and cleared check boxes, to indicate application-defined item states.</span></span>

<span data-ttu-id="bf1c6-257">Par défaut, un contrôle d’arborescence n’affiche pas d’images d’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-257">By default, a tree-view control does not display item images.</span></span> <span data-ttu-id="bf1c6-258">Pour afficher des images d’élément, vous devez créer des listes d’images et les associer au contrôle.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-258">To display item images, you must create image lists and associate them with the control.</span></span> <span data-ttu-id="bf1c6-259">Pour plus d’informations sur les listes d’images, consultez [listes d’images](image-lists.md).</span><span class="sxs-lookup"><span data-stu-id="bf1c6-259">For more information about image lists, see [Image Lists](image-lists.md).</span></span>

<span data-ttu-id="bf1c6-260">Un contrôle Tree-View peut avoir deux listes d’images : une liste d’images normales et une liste d’images d’État.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-260">A tree-view control can have two image lists: a normal image list and a state image list.</span></span> <span data-ttu-id="bf1c6-261">Une liste d’images normale stocke les images sélectionnées, non sélectionnées et de superposition.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-261">A normal image list stores the selected, nonselected, and overlay images.</span></span> <span data-ttu-id="bf1c6-262">Une liste d’images d’État stocke des images d’État.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-262">A state image list stores state images.</span></span> <span data-ttu-id="bf1c6-263">Utilisez la fonction [**ImageList \_ Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) pour créer une liste d’images et utilisez d’autres fonctions de liste d’images pour ajouter des bitmaps à la liste d’images.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-263">Use the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function to create an image list, and use other image list functions to add bitmaps to the image list.</span></span> <span data-ttu-id="bf1c6-264">Ensuite, pour associer la liste d’images au contrôle Tree-View, utilisez le message [**TVM \_ SETIMAGELIST**](tvm-setimagelist.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-264">Then, to associate the image list with the tree-view control, use the [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <span data-ttu-id="bf1c6-265">Le message [**TVM \_ GETIMAGELIST**](tvm-getimagelist.md) récupère un handle vers l’une des listes d’images d’un contrôle Tree-View.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-265">The [**TVM\_GETIMAGELIST**](tvm-getimagelist.md) message retrieves a handle to one of a tree-view control's image lists.</span></span> <span data-ttu-id="bf1c6-266">Ce message est utile si vous devez ajouter d’autres images à la liste.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-266">This message is useful if you need to add more images to the list.</span></span>

<span data-ttu-id="bf1c6-267">En plus des images sélectionnées et non sélectionnées, la liste d’images normales d’un contrôle Tree-View peut contenir jusqu’à quatre images de superposition.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-267">In addition to the selected and nonselected images, a tree-view control's normal image list can contain up to four overlay images.</span></span> <span data-ttu-id="bf1c6-268">Les images de superposition sont identifiées par un index de base un et sont conçues pour être dessinées de manière transparente sur les images sélectionnées et non sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-268">Overlay images are identified by a one-based index and are designed to be drawn transparently over the selected and nonselected images.</span></span> <span data-ttu-id="bf1c6-269">Pour affecter un index de masque de superposition à une image dans la liste d’images normales, appelez la fonction [**ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-269">To assign an overlay mask index to an image in the normal image list, call the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function.</span></span>

<span data-ttu-id="bf1c6-270">Par défaut, tous les éléments affichent la première image dans la liste d’images normale pour les États sélectionnés et non sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-270">By default, all items display the first image in the normal image list for both the selected and nonselected states.</span></span> <span data-ttu-id="bf1c6-271">Par ailleurs, par défaut, les éléments n’affichent pas les images de superposition ou les images d’État.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-271">Also, by default, items do not display overlay images or state images.</span></span> <span data-ttu-id="bf1c6-272">Vous pouvez modifier ces comportements par défaut pour un élément en envoyant le message [**TVM \_ INSERTITEM**](tvm-insertitem.md) ou [**TVM \_ SETITEM**](tvm-setitem.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-272">You can change these default behaviors for an item by sending the [**TVM\_INSERTITEM**](tvm-insertitem.md) or [**TVM\_SETITEM**](tvm-setitem.md) message.</span></span> <span data-ttu-id="bf1c6-273">Ces messages utilisent la structure [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) pour spécifier des index de liste d’images pour un élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-273">These messages use the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure to specify image list indexes for an item.</span></span>

<span data-ttu-id="bf1c6-274">Pour spécifier les images sélectionnées et non sélectionnées d’un élément, définissez les \_ bits d’image TVIF SELECTEDIMAGE et TVIF \_ dans le membre **Mask** de la structure [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) et spécifiez des index à partir de la liste d’images normale du contrôle dans les membres **iSelectImage** et **IImage** .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-274">To specify an item's selected and nonselected images, set the TVIF\_SELECTEDIMAGE and TVIF\_IMAGE bits in the **mask** member of the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure and specify indexes from the control's normal image list in the **iSelectImage** and **iImage** members.</span></span> <span data-ttu-id="bf1c6-275">Vous pouvez également spécifier la \_ valeur I IMAGECALLBACK dans **ISelectImage** et **IImage** au lieu de spécifier des index.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-275">Alternatively, you can specify the I\_IMAGECALLBACK value in **iSelectImage** and **iImage** instead of specifying indexes.</span></span> <span data-ttu-id="bf1c6-276">Cela amène le contrôle à interroger sa fenêtre parente pour obtenir un index de liste d’images chaque fois que l’élément est sur le point d’être redessiné.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-276">This causes the control to query its parent window for an image list index each time the item is about to be redrawn.</span></span> <span data-ttu-id="bf1c6-277">Le contrôle envoie le message de notification [TVN \_ GETDISPINFO](tvn-getdispinfo.md) pour récupérer l’index.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-277">The control sends the [TVN\_GETDISPINFO](tvn-getdispinfo.md) notification message to retrieve the index.</span></span>

<span data-ttu-id="bf1c6-278">Pour associer une image de superposition à un élément, utilisez la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) pour spécifier un index de masque de superposition dans le membre d' **État** de la structure [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) de l’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-278">To associate an overlay image with an item, use the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro to specify an overlay mask index in the **state** member of the item's [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure.</span></span> <span data-ttu-id="bf1c6-279">Vous devez également définir les bits [**Tvis \_ OVERLAYMASK**](tree-view-control-item-states.md) dans le membre **stateMask** .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-279">You must also set the [**TVIS\_OVERLAYMASK**](tree-view-control-item-states.md) bits in the **stateMask** member.</span></span> <span data-ttu-id="bf1c6-280">Les index de masque de superposition sont basés sur un seul ; un index de zéro indique qu’aucune image de superposition n’a été spécifiée.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-280">Overlay mask indexes are one-based; an index of zero indicates that no overlay image was specified.</span></span>

<span data-ttu-id="bf1c6-281">Les images d’État sont stockées dans une liste d’images d’État distincte et sont identifiées par leur index.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-281">State images are stored in a separate state image list and identified by their index.</span></span> <span data-ttu-id="bf1c6-282">Pour spécifier la liste d’images d’État, envoyez un message de [**TVM \_ SETIMAGELIST**](tvm-setimagelist.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-282">To specify the state image list, send a [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <span data-ttu-id="bf1c6-283">Contrairement au contrôle List-View, qui utilise un index de base un pour identifier les images d’État, les images d’état de contrôle d’arborescence sont identifiées par un index de base zéro.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-283">Unlike the list-view control, which uses a one-based index to identify state images, tree-view control state images are identified by a zero-based index.</span></span> <span data-ttu-id="bf1c6-284">Toutefois, un index de zéro indique que l’élément n’a pas d’image d’État.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-284">However, an index of zero indicates that the item does not have a state image.</span></span> <span data-ttu-id="bf1c6-285">Par conséquent, l’image zéro ne peut pas être utilisée comme image d’État.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-285">Consequently, image zero cannot be used as a state image.</span></span> <span data-ttu-id="bf1c6-286">Pour plus d’informations sur les États d’élément et les images d’État, consultez [vue d’ensemble des États d’élément d’arborescence](#tree-view-item-states-overview).</span><span class="sxs-lookup"><span data-stu-id="bf1c6-286">For further discussion of item states and state images, see [Tree-View Item States Overview](#tree-view-item-states-overview).</span></span>

## <a name="drag-and-drop-operations"></a><span data-ttu-id="bf1c6-287">Opérations de glisser-déplacer</span><span class="sxs-lookup"><span data-stu-id="bf1c6-287">Drag-and-Drop Operations</span></span>

<span data-ttu-id="bf1c6-288">Un contrôle Tree-View notifie la fenêtre parente lorsque l’utilisateur commence à faire glisser un élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-288">A tree-view control notifies the parent window when the user starts to drag an item.</span></span> <span data-ttu-id="bf1c6-289">La fenêtre parente reçoit un message de notification [TVN \_ BEGINDRAG](tvn-begindrag.md) lorsque l’utilisateur commence à faire glisser un élément avec le bouton gauche de la souris et un message de notification [TVN \_ BEGINRDRAG](tvn-beginrdrag.md) lorsque l’utilisateur commence à faire glisser le bouton droit.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-289">The parent window receives a [TVN\_BEGINDRAG](tvn-begindrag.md) notification message when the user begins dragging an item with the left mouse button and a [TVN\_BEGINRDRAG](tvn-beginrdrag.md) notification message when the user begins dragging with the right button.</span></span> <span data-ttu-id="bf1c6-290">Vous pouvez empêcher un contrôle d’affichage d’arborescence d’envoyer ces notifications en donnant au contrôle de l’arborescence le style [**\_ DISABLEDRAGDROP TV**](tree-view-control-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-290">You can prevent a tree-view control from sending these notifications by giving the tree-view control the [**TVS\_DISABLEDRAGDROP**](tree-view-control-window-styles.md) style.</span></span>

<span data-ttu-id="bf1c6-291">Vous obtenez une image à afficher pendant une opération glisser à l’aide du message [**TVM \_ CREATEDRAGIMAGE**](tvm-createdragimage.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-291">You obtain an image to display during a drag operation by using the [**TVM\_CREATEDRAGIMAGE**](tvm-createdragimage.md) message.</span></span> <span data-ttu-id="bf1c6-292">Le contrôle Tree-View crée une image bitmap de glissement basée sur l’étiquette de l’élément déplacé.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-292">The tree-view control creates a dragging bitmap based on the label of the item being dragged.</span></span> <span data-ttu-id="bf1c6-293">Le contrôle Tree-View crée ensuite une liste d’images, y ajoute le bitmap et retourne le handle à la liste d’images.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-293">Then the tree-view control creates an image list, adds the bitmap to it, and returns the handle to the image list.</span></span>

<span data-ttu-id="bf1c6-294">Vous devez fournir du code faisant glisser réellement l'élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-294">You must provide the code that actually drags the item.</span></span> <span data-ttu-id="bf1c6-295">Cela implique généralement l’utilisation des fonctionnalités de glissement des fonctions de liste d’images et le traitement des messages [**WM \_ MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) et [**WM \_ LBUTTONUP**](/windows/desktop/inputdev/wm-lbuttonup) (ou [**WM \_ RBUTTONUP**](/windows/desktop/inputdev/wm-rbuttonup)) envoyés à la fenêtre parente après le début de l’opération glisser.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-295">This typically involves using the dragging capabilities of the image list functions and processing the [**WM\_MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) and [**WM\_LBUTTONUP**](/windows/desktop/inputdev/wm-lbuttonup) (or [**WM\_RBUTTONUP**](/windows/desktop/inputdev/wm-rbuttonup)) messages sent to the parent window after the drag operation has begun.</span></span>

<span data-ttu-id="bf1c6-296">Si les éléments d’un contrôle Tree-View doivent être les cibles des opérations de glisser-déplacer, vous devez savoir quand le pointeur de la souris se trouve sur un élément cible.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-296">If items in a tree-view control are to be the targets of drag-and-drop operations, you need to know when the mouse pointer is on a target item.</span></span> <span data-ttu-id="bf1c6-297">Vous pouvez le trouver à l’aide du message [**TVM \_ HITTEST**](tvm-hittest.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-297">You can find out by using the [**TVM\_HITTEST**](tvm-hittest.md) message.</span></span> <span data-ttu-id="bf1c6-298">Vous spécifiez l’adresse d’une structure [**TVHITTESTINFO**](/windows/win32/api/commctrl/ns-commctrl-tvhittestinfo) qui contient les coordonnées actuelles du pointeur de la souris.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-298">You specify the address of a [**TVHITTESTINFO**](/windows/win32/api/commctrl/ns-commctrl-tvhittestinfo) structure that contains the current coordinates of the mouse pointer.</span></span> <span data-ttu-id="bf1c6-299">Quand la fonction [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) retourne, la structure contient un indicateur qui spécifie l’emplacement du pointeur de la souris par rapport au contrôle Tree-View.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-299">When the [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) function returns, the structure contains a flag indicating the location of the mouse pointer relative to the tree-view control.</span></span> <span data-ttu-id="bf1c6-300">Si le pointeur se trouve sur un élément dans le contrôle Tree-View, la structure contient également le handle de l’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-300">If the pointer is over an item in the tree-view control, the structure contains the handle to the item as well.</span></span>

<span data-ttu-id="bf1c6-301">Vous pouvez indiquer qu’un élément est la cible d’une opération de glisser-déplacer en utilisant le message [**TVM \_ SETITEM**](tvm-setitem.md) pour définir l’État sur la valeur [**Tvis \_ DROPHILITED**](tree-view-control-item-states.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-301">You can indicate that an item is the target of a drag-and-drop operation by using the [**TVM\_SETITEM**](tvm-setitem.md) message to set the state to the [**TVIS\_DROPHILITED**](tree-view-control-item-states.md) value.</span></span> <span data-ttu-id="bf1c6-302">Un élément avec cet état est dessiné dans le style utilisé pour indiquer une cible de glissement-déplacement.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-302">An item that has this state is drawn in the style used to indicate a drag-and-drop target.</span></span>

## <a name="tree-view-control-notification-messages"></a><span data-ttu-id="bf1c6-303">Tree-View les messages de notification de contrôle</span><span class="sxs-lookup"><span data-stu-id="bf1c6-303">Tree-View Control Notification Messages</span></span>

<span data-ttu-id="bf1c6-304">Un contrôle Tree-View envoie les messages de notification suivants à sa fenêtre parente sous la forme de messages de notification [**WM \_**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-304">A tree-view control sends the following notification messages to its parent window in the form of [**WM\_NOTIFY**](wm-notify.md) messages.</span></span>



| <span data-ttu-id="bf1c6-305">Notification</span><span class="sxs-lookup"><span data-stu-id="bf1c6-305">Notification</span></span>                                    | <span data-ttu-id="bf1c6-306">Description</span><span class="sxs-lookup"><span data-stu-id="bf1c6-306">Description</span></span>                                                                            |
|-------------------------------------------------|----------------------------------------------------------------------------------------|
| [<span data-ttu-id="bf1c6-307">TVN \_ BEGINDRAG</span><span class="sxs-lookup"><span data-stu-id="bf1c6-307">TVN\_BEGINDRAG</span></span>](tvn-begindrag.md)             | <span data-ttu-id="bf1c6-308">Signale le début d’une opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-308">Signals the start of a drag-and-drop operation.</span></span>                                        |
| <span data-ttu-id="bf1c6-309">[TVN \_ BEGINLABELEDIT](tvn-beginlabeledit.md)  </span><span class="sxs-lookup"><span data-stu-id="bf1c6-309">[TVN\_BEGINLABELEDIT](tvn-beginlabeledit.md)  </span></span> | <span data-ttu-id="bf1c6-310">Signale le début de la modification des étiquettes sur place.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-310">Signals the start of in-place label editing.</span></span>                                           |
| [<span data-ttu-id="bf1c6-311">TVN \_ BEGINRDRAG</span><span class="sxs-lookup"><span data-stu-id="bf1c6-311">TVN\_BEGINRDRAG</span></span>](tvn-beginrdrag.md)           | <span data-ttu-id="bf1c6-312">Signale que le bouton droit de la souris a commencé une opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-312">Signals that the right mouse button has started a drag-and-drop operation.</span></span>             |
| [<span data-ttu-id="bf1c6-313">TVN \_ DELETEITEM</span><span class="sxs-lookup"><span data-stu-id="bf1c6-313">TVN\_DELETEITEM</span></span>](tvn-deleteitem.md)           | <span data-ttu-id="bf1c6-314">Signale la suppression d’un élément spécifique.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-314">Signals the deletion of a specific item.</span></span>                                               |
| [<span data-ttu-id="bf1c6-315">TVN \_ ENDLABELEDIT</span><span class="sxs-lookup"><span data-stu-id="bf1c6-315">TVN\_ENDLABELEDIT</span></span>](tvn-endlabeledit.md)       | <span data-ttu-id="bf1c6-316">Signale la fin de la modification de l’étiquette.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-316">Signals the end of label editing.</span></span>                                                      |
| [<span data-ttu-id="bf1c6-317">TVN \_ GETDISPINFO</span><span class="sxs-lookup"><span data-stu-id="bf1c6-317">TVN\_GETDISPINFO</span></span>](tvn-getdispinfo.md)         | <span data-ttu-id="bf1c6-318">Demande des informations nécessaires au contrôle d’arborescence pour afficher un élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-318">Requests information that the tree-view control requires to display an item.</span></span>           |
| [<span data-ttu-id="bf1c6-319">TVN \_ ITEMEXPANDED</span><span class="sxs-lookup"><span data-stu-id="bf1c6-319">TVN\_ITEMEXPANDED</span></span>](tvn-itemexpanded.md)       | <span data-ttu-id="bf1c6-320">Signale que la liste des éléments enfants d’un élément parent a été développée ou réduite.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-320">Signals that a parent item's list of child items was expanded or collapsed.</span></span>            |
| [<span data-ttu-id="bf1c6-321">TVN \_ ITEMEXPANDING</span><span class="sxs-lookup"><span data-stu-id="bf1c6-321">TVN\_ITEMEXPANDING</span></span>](tvn-itemexpanding.md)     | <span data-ttu-id="bf1c6-322">Signale que la liste des éléments enfants d’un élément parent est sur le point d’être développée ou réduite.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-322">Signals that a parent item's list of child items is about to be expanded or collapsed.</span></span> |
| [<span data-ttu-id="bf1c6-323">TVN \_</span><span class="sxs-lookup"><span data-stu-id="bf1c6-323">TVN\_KEYDOWN</span></span>](tvn-keydown.md)                 | <span data-ttu-id="bf1c6-324">Signale un événement de clavier.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-324">Signals a keyboard event.</span></span>                                                              |
| [<span data-ttu-id="bf1c6-325">TVN \_ SELCHANGED</span><span class="sxs-lookup"><span data-stu-id="bf1c6-325">TVN\_SELCHANGED</span></span>](tvn-selchanged.md)           | <span data-ttu-id="bf1c6-326">Signale que la sélection est passée d’un élément à un autre.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-326">Signals that the selection has changed from one item to another.</span></span>                       |
| [<span data-ttu-id="bf1c6-327">TVN \_ SELCHANGING</span><span class="sxs-lookup"><span data-stu-id="bf1c6-327">TVN\_SELCHANGING</span></span>](tvn-selchanging.md)         | <span data-ttu-id="bf1c6-328">Signale que la sélection est sur le point d’être modifiée d’un élément à un autre.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-328">Signals that the selection is about to be changed from one item to another.</span></span>            |
| [<span data-ttu-id="bf1c6-329">TVN \_ SETDISPINFO</span><span class="sxs-lookup"><span data-stu-id="bf1c6-329">TVN\_SETDISPINFO</span></span>](tvn-setdispinfo.md)         | <span data-ttu-id="bf1c6-330">Avertit une fenêtre parente qu’elle doit mettre à jour les informations qu’elle gère pour un élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-330">Notifies a parent window that it must update the information it maintains for an item.</span></span> |



 

## <a name="default-tree-view-control-message-processing"></a><span data-ttu-id="bf1c6-331">Traitement par défaut des messages de contrôle Tree-View</span><span class="sxs-lookup"><span data-stu-id="bf1c6-331">Default Tree-View Control Message Processing</span></span>

<span data-ttu-id="bf1c6-332">Cette section décrit le traitement des messages de fenêtre effectué par un contrôle Tree-View.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-332">This section describes the window message processing performed by a tree-view control.</span></span> <span data-ttu-id="bf1c6-333">Les messages spécifiques aux contrôles d’arborescence sont décrits dans d’autres sections de ce document. ils ne sont donc pas inclus ici.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-333">Messages specific to tree-view controls are discussed in other sections of this document, so they are not included here.</span></span>



| <span data-ttu-id="bf1c6-334">Message</span><span class="sxs-lookup"><span data-stu-id="bf1c6-334">Message</span></span>                                            | <span data-ttu-id="bf1c6-335">Traitement effectué</span><span class="sxs-lookup"><span data-stu-id="bf1c6-335">Processing performed</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="bf1c6-336">**WM, \_ commande**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-336">**WM\_COMMAND**</span></span>](/windows/desktop/menurc/wm-command)               | <span data-ttu-id="bf1c6-337">Traite les messages de notification du contrôle d’édition en cours de [ \_ mise à jour](en-update.md) et en [ \_ KILLFOCUS](en-killfocus.md) et transfère toutes les autres notifications de contrôle d’édition à la fenêtre parente.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-337">Processes the [EN\_UPDATE](en-update.md) and [EN\_KILLFOCUS](en-killfocus.md) edit control notification messages and forwards all other edit control notifications to the parent window.</span></span> <span data-ttu-id="bf1c6-338">Il n'y a pas de valeur de retour.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-338">There is no return value.</span></span>                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="bf1c6-339">**création de WM \_**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-339">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)                 | <span data-ttu-id="bf1c6-340">Alloue de la mémoire et initialise des structures de données internes.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-340">Allocates memory and initializes internal data structures.</span></span> <span data-ttu-id="bf1c6-341">Retourne zéro en cas de réussite, ou-1 dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-341">It returns zero if successful, or -1 otherwise.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="bf1c6-342">**\_destructeur WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-342">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)               | <span data-ttu-id="bf1c6-343">Libère toutes les ressources système associées au contrôle.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-343">Frees all system resources associated with the control.</span></span> <span data-ttu-id="bf1c6-344">Elle retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-344">It returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="bf1c6-345">**\_activer WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-345">**WM\_ENABLE**</span></span>](/windows/desktop/winmsg/wm-enable)                 | <span data-ttu-id="bf1c6-346">Active ou désactive le contrôle.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-346">Enables or disables the control.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="bf1c6-347">**\_ERASEBKGND WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-347">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="bf1c6-348">Efface l’arrière-plan de la fenêtre à l’aide de la couleur d’arrière-plan actuelle pour le contrôle d’arborescence.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-348">Erases the window background using the current background color for the tree-view control.</span></span> <span data-ttu-id="bf1c6-349">Elle retourne **true**.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-349">It returns **TRUE**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="bf1c6-350">**\_GETDLGCODE WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-350">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)         | <span data-ttu-id="bf1c6-351">Retourne une combinaison des valeurs DLGC \_ WANTARROWS et DLGC \_ WANTCHARS.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-351">Returns a combination of the DLGC\_WANTARROWS and DLGC\_WANTCHARS values.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="bf1c6-352">**WM \_ GETFONT**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-352">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="bf1c6-353">Retourne le handle de la police d’étiquette actuelle.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-353">Returns the handle to the current label font.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="bf1c6-354">**\_HSCROLL WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-354">**WM\_HSCROLL**</span></span>](wm-hscroll.md)                  | <span data-ttu-id="bf1c6-355">Fait défiler le contrôle d’arborescence.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-355">Scrolls the tree-view control.</span></span> <span data-ttu-id="bf1c6-356">Elle retourne la **valeur true** si le défilement se produit, ou **false** dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-356">It returns **TRUE** if scrolling occurs, or **FALSE** otherwise.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="bf1c6-357">**WM- \_ touche**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-357">**WM\_KEYDOWN**</span></span>](/windows/desktop/inputdev/wm-keydown)             | <span data-ttu-id="bf1c6-358">Envoie le message de notification [ \_ keyverse TVN](tvn-keydown.md) à la fenêtre parente pour toutes les clés.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-358">Sends the [TVN\_KEYDOWN](tvn-keydown.md) notification message to the parent window for all keys.</span></span> <span data-ttu-id="bf1c6-359">Envoie le message de notification [nm \_ de retour (arborescence)](nm-return-tree-view-.md) lorsque l’utilisateur appuie sur la touche entrée.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-359">Sends the [NM\_RETURN (tree view)](nm-return-tree-view-.md) notification message when the user presses the ENTER key.</span></span> <span data-ttu-id="bf1c6-360">Il déplace le signe insertion lorsque l’utilisateur appuie sur les touches de direction ou sur la touche PG. suiv, PG. suiv, début, fin ou retour arrière.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-360">It moves the caret when the user presses the direction keys or the PAGE UP, PAGE DOWN, HOME, END, or BACKSPACE key.</span></span> <span data-ttu-id="bf1c6-361">Elle fait défiler le contrôle d’arborescence quand l’utilisateur appuie sur la touche CTRL en combinaison avec ces touches.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-361">It scrolls the tree-view control when the user presses the CTRL key in combination with those keys.</span></span> <span data-ttu-id="bf1c6-362">Elle retourne la **valeur true** si une clé est traitée, ou **false** dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-362">It returns **TRUE** if a key is processed, or **FALSE** otherwise.</span></span> |
| [<span data-ttu-id="bf1c6-363">**\_KILLFOCUS WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-363">**WM\_KILLFOCUS**</span></span>](/windows/desktop/inputdev/wm-killfocus)         | <span data-ttu-id="bf1c6-364">Repeint l’élément ayant le focus, le cas échéant, et envoie un message de notification [nm \_ KILLFOCUS (arborescence)](nm-killfocus-tree-view.md) à la fenêtre parente.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-364">Repaints the focused item, if any, and sends an [NM\_KILLFOCUS (tree view)](nm-killfocus-tree-view.md) notification message to the parent window.</span></span>                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="bf1c6-365">**\_LBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-365">**WM\_LBUTTONDBLCLK**</span></span>](/windows/desktop/inputdev/wm-lbuttondblclk) | <span data-ttu-id="bf1c6-366">Annule la modification des étiquettes et, si vous avez double-cliqué sur un élément, envoie le message de notification [nm \_ DBLCLK (arborescence)](nm-dblclk-tree-view.md) à la fenêtre parente.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-366">Cancels label editing and, if an item was double-clicked, sends the [NM\_DBLCLK (tree view)](nm-dblclk-tree-view.md) notification message to the parent window.</span></span> <span data-ttu-id="bf1c6-367">Si la fenêtre parente retourne 0, le contrôle Tree-View bascule l’état développé de l’élément, en envoyant à la fenêtre parente les messages de notification [TVN \_ ITEMEXPANDING](tvn-itemexpanding.md) et [TVN \_ ITEMEXPANDED](tvn-itemexpanded.md) .</span><span class="sxs-lookup"><span data-stu-id="bf1c6-367">If the parent window returns 0, the tree-view control toggles the expanded state of the item, sending the parent window the [TVN\_ITEMEXPANDING](tvn-itemexpanding.md) and [TVN\_ITEMEXPANDED](tvn-itemexpanded.md) notification messages.</span></span> <span data-ttu-id="bf1c6-368">Il n'y a pas de valeur de retour.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-368">There is no return value.</span></span>                                                                             |
| [<span data-ttu-id="bf1c6-369">**\_LBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-369">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="bf1c6-370">Active/désactive l’état développé si l’utilisateur a cliqué sur le bouton associé à un élément parent.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-370">Toggles the expanded state if the user clicked the button associated with a parent item.</span></span> <span data-ttu-id="bf1c6-371">Si l’utilisateur a cliqué sur une étiquette d’élément, le contrôle Tree-View sélectionne et définit le focus sur l’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-371">If the user clicked an item label, the tree-view control selects and sets the focus to the item.</span></span> <span data-ttu-id="bf1c6-372">Si l’utilisateur déplace la souris avant de relâcher le bouton de la souris, le contrôle Tree-View commence une opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-372">If the user moves the mouse before releasing the mouse button, the tree-view control begins a drag-and-drop operation.</span></span> <span data-ttu-id="bf1c6-373">Il n'y a pas de valeur de retour.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-373">There is no return value.</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="bf1c6-374">**\_peinture WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-374">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                      | <span data-ttu-id="bf1c6-375">Peint la région non valide du contrôle Tree-View.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-375">Paints the invalid region of the tree-view control.</span></span> <span data-ttu-id="bf1c6-376">Elle retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-376">It returns zero.</span></span> <span data-ttu-id="bf1c6-377">Si le paramètre *wParam* est non **null**, le contrôle suppose que la valeur est un handle vers un contexte de périphérique (HDC) et peint à l’aide de ce contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-377">If the *wParam* parameter is non-**NULL**, the control assumes that the value is a handle to a device context (HDC) and paints using that device context.</span></span>                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="bf1c6-378">**\_RBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-378">**WM\_RBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-rbuttondown)     | <span data-ttu-id="bf1c6-379">Vérifie si l’utilisateur a cliqué sur un élément et qu’une opération glisser a commencé.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-379">Checks to see if an item was clicked and a drag operation was begun.</span></span> <span data-ttu-id="bf1c6-380">Si l’opération a commencé, elle envoie un message de notification [TVN \_ BEGINRDRAG](tvn-beginrdrag.md) à la fenêtre parente et met en surbrillance la cible de déplacement.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-380">If the operation has begun, it sends a [TVN\_BEGINRDRAG](tvn-beginrdrag.md) notification message to the parent window and highlights the drop target.</span></span> <span data-ttu-id="bf1c6-381">Dans le cas contraire, il envoie un message de notification [nm \_ RCLICK (arborescence)](nm-rclick-tree-view.md) à la fenêtre parente.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-381">Otherwise, it sends an [NM\_RCLICK (tree view)](nm-rclick-tree-view.md) notification message to the parent window.</span></span> <span data-ttu-id="bf1c6-382">Il n'y a pas de valeur de retour.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-382">There is no return value.</span></span>                                                                                                                                           |
| [<span data-ttu-id="bf1c6-383">**WM \_ SetFocus**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-383">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)           | <span data-ttu-id="bf1c6-384">Repeint l’élément ayant le focus, le cas échéant, et envoie un message de notification [nm \_ SetFocus](nm-setfocus.md) à la fenêtre parente.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-384">Repaints the focused item, if any, and sends an [NM\_SETFOCUS](nm-setfocus.md) notification message to the parent window.</span></span>                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="bf1c6-385">**\_SetFont WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-385">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)               | <span data-ttu-id="bf1c6-386">Enregistre le handle de police spécifié et repeint le contrôle d’affichage d’arborescence à l’aide de la nouvelle police.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-386">Saves the specified font handle and repaints the tree-view control using the new font.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="bf1c6-387">**\_SETREDRAW WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-387">**WM\_SETREDRAW**</span></span>](/windows/desktop/gdi/wm-setredraw)              | <span data-ttu-id="bf1c6-388">Définit ou efface l’indicateur de redessin.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-388">Sets or clears the redraw flag.</span></span> <span data-ttu-id="bf1c6-389">Le contrôle Tree-View est redessiné après la définition de l’indicateur de redessin.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-389">The tree-view control is redrawn after the redraw flag is set.</span></span> <span data-ttu-id="bf1c6-390">Elle retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-390">It returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="bf1c6-391">**taille du WM \_**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-391">**WM\_SIZE**</span></span>](/windows/desktop/winmsg/wm-size)                     | <span data-ttu-id="bf1c6-392">Recalcule les variables internes qui dépendent de la taille de la zone cliente du contrôle Tree-View.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-392">Recomputes internal variables that depend on the size of the tree-view control's client area.</span></span> <span data-ttu-id="bf1c6-393">Elle retourne **true**.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-393">It returns **TRUE**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="bf1c6-394">**\_STYLECHANGED WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-394">**WM\_STYLECHANGED**</span></span>](/windows/desktop/winmsg/wm-stylechanged)     | <span data-ttu-id="bf1c6-395">Annule la modification des étiquettes et redessine le contrôle Tree-View à l’aide des nouveaux styles.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-395">Cancels label editing and redraws the tree-view control using the new styles.</span></span> <span data-ttu-id="bf1c6-396">Elle retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-396">It returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="bf1c6-397">**\_SYSCOLORCHANGE WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-397">**WM\_SYSCOLORCHANGE**</span></span>](/windows/desktop/gdi/wm-syscolorchange)    | <span data-ttu-id="bf1c6-398">Redessine le contrôle d’arborescence à l’aide de la nouvelle couleur si l’indicateur de redessin est défini.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-398">Redraws the tree-view control using the new color if the redraw flag is set.</span></span> <span data-ttu-id="bf1c6-399">Il n'y a pas de valeur de retour.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-399">There is no return value.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="bf1c6-400">**\_minuteur WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-400">**WM\_TIMER**</span></span>](/windows/desktop/winmsg/wm-timer)                   | <span data-ttu-id="bf1c6-401">Commence à modifier une étiquette d’élément.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-401">Begins editing an item label.</span></span> <span data-ttu-id="bf1c6-402">Si l’utilisateur clique sur l’étiquette de l’élément ayant le focus, le contrôle Tree-View définit un minuteur au lieu de passer immédiatement en mode édition.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-402">If the user clicks the label of the focused item, the tree-view control sets a timer instead of entering edit mode immediately.</span></span> <span data-ttu-id="bf1c6-403">La minuterie permet à l’arborescence d’éviter d’entrer en mode édition si l’utilisateur double-clique sur l’étiquette.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-403">The timer makes it possible for the tree view to avoid entering edit mode if the user double-clicks the label.</span></span> <span data-ttu-id="bf1c6-404">Elle retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-404">It returns zero.</span></span>                                                                                                                                                                                                                       |
| [<span data-ttu-id="bf1c6-405">**\_VSCROLL WM**</span><span class="sxs-lookup"><span data-stu-id="bf1c6-405">**WM\_VSCROLL**</span></span>](wm-vscroll.md)                  | <span data-ttu-id="bf1c6-406">Fait défiler le contrôle d’arborescence.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-406">Scrolls the tree-view control.</span></span> <span data-ttu-id="bf1c6-407">Elle retourne la **valeur true** si le défilement se produit, ou **false** dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="bf1c6-407">It returns **TRUE** if scrolling occurs, or **FALSE** otherwise.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                     |



 

## <a name="related-topics"></a><span data-ttu-id="bf1c6-408">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="bf1c6-408">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="bf1c6-409">EXEMPLE : CustDTv illustre un dessin personnalisé dans un contrôle TreeView (Q248496)</span><span class="sxs-lookup"><span data-stu-id="bf1c6-409">SAMPLE: CustDTv Illustrates Custom Draw in a TreeView (Q248496)</span></span>](https://support.microsoft.com/default.aspx?scid=kb;EN-US;q248496)
</dt> </dl>

 

 