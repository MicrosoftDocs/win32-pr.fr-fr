---
title: À propos des contrôles Up-Down
description: Un contrôle up-up est une paire de boutons fléchés sur lesquels l’utilisateur peut cliquer pour incrémenter ou décrémenter une valeur, telle qu’une position de défilement ou un nombre affiché dans un contrôle auxiliaire (appelé fenêtre associée).
ms.assetid: ae2c0283-9cad-40d1-b8a6-a90484a95f56
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2cc8dad15a8254b138cae4175cc16b1ef3111745
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "103730581"
---
# <a name="about-up-down-controls"></a><span data-ttu-id="ce254-103">À propos des contrôles Up-Down</span><span class="sxs-lookup"><span data-stu-id="ce254-103">About Up-Down Controls</span></span>

<span data-ttu-id="ce254-104">Un contrôle up-up est une paire de boutons fléchés sur lesquels l’utilisateur peut cliquer pour incrémenter ou décrémenter une valeur, telle qu’une position de défilement ou un nombre affiché dans un contrôle auxiliaire (appelé fenêtre associée).</span><span class="sxs-lookup"><span data-stu-id="ce254-104">An up-down control is a pair of arrow buttons that the user can click to increment or decrement a value, such as a scroll position or a number displayed in a companion control (called a buddy window).</span></span>

<span data-ttu-id="ce254-105">Pour l’utilisateur, un contrôle up-out et sa fenêtre associée se présentent souvent comme un seul contrôle.</span><span class="sxs-lookup"><span data-stu-id="ce254-105">To the user, an up-down control and its buddy window often look like a single control.</span></span> <span data-ttu-id="ce254-106">Vous pouvez spécifier qu’un contrôle up-up se positionne automatiquement en regard de sa fenêtre associée et qu’il définit automatiquement la légende de la fenêtre associée à sa position actuelle.</span><span class="sxs-lookup"><span data-stu-id="ce254-106">You can specify that an up-down control automatically position itself next to its buddy window and that it automatically set the caption of the buddy window to its current position.</span></span> <span data-ttu-id="ce254-107">Par exemple, vous pouvez utiliser un contrôle up-up avec un contrôle d’édition pour inviter l’utilisateur à entrer des données numériques.</span><span class="sxs-lookup"><span data-stu-id="ce254-107">For example, you can use an up-down control with an edit control to prompt the user for numeric input.</span></span> <span data-ttu-id="ce254-108">L’illustration suivante montre un contrôle up-up avec un contrôle d’édition comme fenêtre associée, une combinaison parfois appelée contrôle Spinner.</span><span class="sxs-lookup"><span data-stu-id="ce254-108">The following illustration shows an up-down control with an edit control as its buddy window, a combination that is sometimes referred to as a spinner control.</span></span>

![capture d’écran montrant un contrôle rectangulaire concis avec des flèches vers le haut et vers le bas sur le bord droit](images/updown.jpg)

<span data-ttu-id="ce254-110">Les rubriques suivantes sont présentées dans cette section.</span><span class="sxs-lookup"><span data-stu-id="ce254-110">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="ce254-111">Styles de contrôle up-up</span><span class="sxs-lookup"><span data-stu-id="ce254-111">Up-Down Control Styles</span></span>](#up-down-control-styles)
-   [<span data-ttu-id="ce254-112">Position et accélération</span><span class="sxs-lookup"><span data-stu-id="ce254-112">Position and Acceleration</span></span>](#position-and-acceleration)
-   [<span data-ttu-id="ce254-113">Up-Down par défaut contrôle le traitement des messages</span><span class="sxs-lookup"><span data-stu-id="ce254-113">Default Up-Down Controls Message Processing</span></span>](#default-up-down-controls-message-processing)

## <a name="up-down-control-styles"></a><span data-ttu-id="ce254-114">Styles de contrôle Up-Down</span><span class="sxs-lookup"><span data-stu-id="ce254-114">Up-Down Control Styles</span></span>

<span data-ttu-id="ce254-115">À l’aide des styles de fenêtre, vous pouvez manipuler les caractéristiques d’un contrôle up-up, par exemple comment il se positionne par rapport à la fenêtre associée, s’il définit le texte de la fenêtre associée et s’il traite les touches haut et bas.</span><span class="sxs-lookup"><span data-stu-id="ce254-115">Using window styles, you can manipulate characteristics of an up-down control, such as how it positions itself relative to its buddy window, whether it sets the text of its buddy window, and whether it processes the UP ARROW and DOWN ARROW keys.</span></span>

<span data-ttu-id="ce254-116">Un contrôle up-up avec le style d’un type d’inscription d’un niveau d’inscription ou d' [**uds \_**](up-down-control-styles.md) s’aligne sur le bord gauche ou droit [**de la fenêtre \_**](up-down-control-styles.md) associée.</span><span class="sxs-lookup"><span data-stu-id="ce254-116">An up-down control with the [**UDS\_ALIGNLEFT**](up-down-control-styles.md) or [**UDS\_ALIGNRIGHT**](up-down-control-styles.md) style aligns with the left or right edge of its buddy window.</span></span> <span data-ttu-id="ce254-117">La largeur de la fenêtre associée est réduite pour s’adapter à la largeur du contrôle up-up.</span><span class="sxs-lookup"><span data-stu-id="ce254-117">The width of the buddy window is decreased to accommodate the width of the up-down control.</span></span>

<span data-ttu-id="ce254-118">Un contrôle up-up avec le style [**uds \_ SETBUDDYINT**](up-down-control-styles.md) définit la légende de la fenêtre associée à chaque fois que la position actuelle change.</span><span class="sxs-lookup"><span data-stu-id="ce254-118">An up-down control with the [**UDS\_SETBUDDYINT**](up-down-control-styles.md) style sets the caption of its buddy window whenever the current position changes.</span></span> <span data-ttu-id="ce254-119">Le contrôle insère un séparateur des milliers entre les trois chiffres d’une chaîne décimale, à moins que le style « [**uds \_ nomilles**](up-down-control-styles.md) » soit spécifié.</span><span class="sxs-lookup"><span data-stu-id="ce254-119">The control inserts a thousands separator between every three digits of a decimal string unless the [**UDS\_NOTHOUSANDS**](up-down-control-styles.md) style is specified.</span></span> <span data-ttu-id="ce254-120">Si la fenêtre associée est une zone de liste, un contrôle up-up définit sa sélection actuelle au lieu de sa légende.</span><span class="sxs-lookup"><span data-stu-id="ce254-120">If the buddy window is a list box, an up-down control sets its current selection instead of its caption.</span></span>

<span data-ttu-id="ce254-121">Vous pouvez spécifier le style [**uds \_ ARROWKEYS**](up-down-control-styles.md) pour fournir une interface de clavier pour un contrôle up-up.</span><span class="sxs-lookup"><span data-stu-id="ce254-121">You can specify the [**UDS\_ARROWKEYS**](up-down-control-styles.md) style to provide a keyboard interface for an up-down control.</span></span> <span data-ttu-id="ce254-122">Si ce style est spécifié, le contrôle traite les touches de direction haut et bas.</span><span class="sxs-lookup"><span data-stu-id="ce254-122">If this style is specified, the control processes the up and down arrow keys.</span></span> <span data-ttu-id="ce254-123">Le contrôle sous-classe également la fenêtre associée afin qu’il puisse traiter ces clés lorsque la fenêtre associée a le focus.</span><span class="sxs-lookup"><span data-stu-id="ce254-123">The control also subclasses the buddy window so that it can process these keys when the buddy window has the focus.</span></span>

<span data-ttu-id="ce254-124">Si vous utilisez un contrôle up-up pour le défilement horizontal, vous pouvez spécifier le [**style \_ d’UDS**](up-down-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="ce254-124">If you use an up-down control for horizontal scrolling, you can specify the [**UDS\_HORZ**](up-down-control-styles.md) style.</span></span> <span data-ttu-id="ce254-125">Ce style amène les flèches du contrôle up-up à pointer vers la gauche et vers la droite, et non vers le haut et vers le bas.</span><span class="sxs-lookup"><span data-stu-id="ce254-125">This style causes the up-down control's arrows to point left and right instead of up and down.</span></span>

<span data-ttu-id="ce254-126">Par défaut, la position actuelle ne change pas si l’utilisateur tente de l’incrémenter ou de la décrémenter au-delà de la valeur maximale ou minimale.</span><span class="sxs-lookup"><span data-stu-id="ce254-126">By default, the current position does not change if the user attempts to increment it or decrement it beyond the maximum or minimum value.</span></span> <span data-ttu-id="ce254-127">Vous pouvez modifier ce comportement en utilisant le style d' [**\_ habillage uds**](up-down-control-styles.md) , afin que la position « habille » à l’extrême opposée.</span><span class="sxs-lookup"><span data-stu-id="ce254-127">You can change this behavior by using the [**UDS\_WRAP**](up-down-control-styles.md) style, so the position "wraps" to the opposite extreme.</span></span> <span data-ttu-id="ce254-128">Par exemple, l’incrémentation au-delà de la limite supérieure ramène la position à la limite inférieure.</span><span class="sxs-lookup"><span data-stu-id="ce254-128">For example, incrementing past the upper limit wraps the position back to the lower limit.</span></span>

## <a name="position-and-acceleration"></a><span data-ttu-id="ce254-129">Position et accélération</span><span class="sxs-lookup"><span data-stu-id="ce254-129">Position and Acceleration</span></span>

<span data-ttu-id="ce254-130">Après la création d’un contrôle up-out, vous pouvez modifier la position actuelle, la position minimale et la position maximale du contrôle en envoyant des messages.</span><span class="sxs-lookup"><span data-stu-id="ce254-130">After an up-down control is created, you can change the control's current position, minimum position, and maximum position by sending messages.</span></span> <span data-ttu-id="ce254-131">Vous pouvez également modifier la base de base utilisée pour afficher la position actuelle dans la fenêtre associée et la vitesse à laquelle la position actuelle change lorsque l’utilisateur clique sur la flèche haut ou bas.</span><span class="sxs-lookup"><span data-stu-id="ce254-131">You can also change the radix base used to display the current position in the buddy window and the rate at which the current position changes when the up or down arrow is clicked.</span></span>

<span data-ttu-id="ce254-132">Pour récupérer la position actuelle d’un contrôle up-up, utilisez le message [**UDM \_ GETPOS**](udm-getpos.md) .</span><span class="sxs-lookup"><span data-stu-id="ce254-132">To retrieve the current position of an up-down control, use the [**UDM\_GETPOS**](udm-getpos.md) message.</span></span> <span data-ttu-id="ce254-133">Pour un contrôle up-up avec une fenêtre associée, la position actuelle est le nombre dans la légende de la fenêtre associée.</span><span class="sxs-lookup"><span data-stu-id="ce254-133">For an up-down control with a buddy window, the current position is the number in the buddy window's caption.</span></span> <span data-ttu-id="ce254-134">Étant donné que la légende peut avoir changé (par exemple, l’utilisateur a peut-être modifié le texte d’un contrôle d’édition), le contrôle up-out récupère la légende actuelle et met à jour sa position actuelle en conséquence.</span><span class="sxs-lookup"><span data-stu-id="ce254-134">Because the caption may have changed (for example, the user may have edited the text of an edit control), the up-down control retrieves the current caption and updates its current position accordingly.</span></span>

<span data-ttu-id="ce254-135">La légende de la fenêtre associée peut être une chaîne décimale ou hexadécimale, en fonction de la base de base (autrement dit, de base 10 ou 16) du contrôle up-up.</span><span class="sxs-lookup"><span data-stu-id="ce254-135">The buddy window's caption may be either a decimal or hexadecimal string, depending on the radix base (that is, either base 10 or 16) of the up-down control.</span></span> <span data-ttu-id="ce254-136">Vous pouvez définir la base de base à l’aide du message [**UDM \_ SETBASE**](udm-setbase.md) et récupérer la base de base à l’aide du message [**UDM \_ getBase (**](udm-getbase.md) .</span><span class="sxs-lookup"><span data-stu-id="ce254-136">You can set the radix base by using the [**UDM\_SETBASE**](udm-setbase.md) message and retrieve the radix base by using the [**UDM\_GETBASE**](udm-getbase.md) message.</span></span>

<span data-ttu-id="ce254-137">Le message [**UDM \_ SetPos**](udm-setpos.md) définit la position actuelle d’une fenêtre associée.</span><span class="sxs-lookup"><span data-stu-id="ce254-137">The [**UDM\_SETPOS**](udm-setpos.md) message sets the current position of a buddy window.</span></span> <span data-ttu-id="ce254-138">Notez qu’à la différence d’une barre de défilement, un contrôle up-up modifie automatiquement sa position actuelle lorsqu’un utilisateur clique sur les flèches vers le haut et vers le bas.</span><span class="sxs-lookup"><span data-stu-id="ce254-138">Note that unlike a scroll bar, an up-down control automatically changes its current position when the up and down arrows are clicked.</span></span> <span data-ttu-id="ce254-139">Une application, par conséquent, n’a pas besoin de définir la position actuelle lors du traitement du message [**WM \_ VSCROLL**](wm-vscroll.md) ou [**WM \_ HSCROLL**](wm-hscroll.md) .</span><span class="sxs-lookup"><span data-stu-id="ce254-139">An application, therefore, does not need to set the current position when processing the [**WM\_VSCROLL**](wm-vscroll.md) or [**WM\_HSCROLL**](wm-hscroll.md) message.</span></span>

<span data-ttu-id="ce254-140">Vous pouvez modifier les positions minimale et maximale d’un contrôle up-up en utilisant le message [**UDM \_ SetRange**](udm-setrange.md) .</span><span class="sxs-lookup"><span data-stu-id="ce254-140">You can change the minimum and maximum positions of an up-down control by using the [**UDM\_SETRANGE**](udm-setrange.md) message.</span></span> <span data-ttu-id="ce254-141">La position maximale peut être inférieure à la valeur minimale et, dans ce cas, un clic sur le bouton fléché vers le haut réduit la position actuelle.</span><span class="sxs-lookup"><span data-stu-id="ce254-141">The maximum position may be less than the minimum, and in that case clicking the up arrow button decreases the current position.</span></span> <span data-ttu-id="ce254-142">En d’autres termes, le fait de remonter vers la position maximale.</span><span class="sxs-lookup"><span data-stu-id="ce254-142">To put it another way, up means moving toward the maximum position.</span></span> <span data-ttu-id="ce254-143">Pour récupérer les positions minimale et maximale d’un contrôle up-up, utilisez le message [**UDM \_ GETRANGE**](udm-getrange.md) .</span><span class="sxs-lookup"><span data-stu-id="ce254-143">To retrieve the minimum and maximum positions for an up-down control, use the [**UDM\_GETRANGE**](udm-getrange.md) message.</span></span>

<span data-ttu-id="ce254-144">Vous pouvez contrôler la fréquence à laquelle la position change lorsque l’utilisateur maintient le bouton fléché enfoncé en définissant l’accélération du contrôle up-up.</span><span class="sxs-lookup"><span data-stu-id="ce254-144">You can control the rate at which the position changes when the user holds down an arrow button by setting the up-down control's acceleration.</span></span> <span data-ttu-id="ce254-145">L’accélération est définie par un tableau de structures [**UDACCEL**](/windows/desktop/api/Commctrl/ns-commctrl-udaccel) .</span><span class="sxs-lookup"><span data-stu-id="ce254-145">The acceleration is defined by an array of [**UDACCEL**](/windows/desktop/api/Commctrl/ns-commctrl-udaccel) structures.</span></span> <span data-ttu-id="ce254-146">Chaque structure spécifie un intervalle de temps et le nombre d’unités d’incrémentation ou de décrémentation à la fin de cet intervalle.</span><span class="sxs-lookup"><span data-stu-id="ce254-146">Each structure specifies a time interval and the number of units by which to increment or decrement at the end of that interval.</span></span> <span data-ttu-id="ce254-147">Pour définir l’accélération, utilisez le message [**UDM \_ SETACCEL**](udm-setaccel.md) .</span><span class="sxs-lookup"><span data-stu-id="ce254-147">To set the acceleration, use the [**UDM\_SETACCEL**](udm-setaccel.md) message.</span></span> <span data-ttu-id="ce254-148">Pour récupérer les informations d’accélération, utilisez le message [**UDM \_ GETACCEL**](udm-getaccel.md) .</span><span class="sxs-lookup"><span data-stu-id="ce254-148">To retrieve acceleration information, use the [**UDM\_GETACCEL**](udm-getaccel.md) message.</span></span>

## <a name="default-up-down-controls-message-processing"></a><span data-ttu-id="ce254-149">Up-Down par défaut contrôle le traitement des messages</span><span class="sxs-lookup"><span data-stu-id="ce254-149">Default Up-Down Controls Message Processing</span></span>

<span data-ttu-id="ce254-150">Cette section décrit les messages Windows standard traités par un contrôle up-out.</span><span class="sxs-lookup"><span data-stu-id="ce254-150">This section describes the standard Windows messages processed by an up-down control.</span></span>



| <span data-ttu-id="ce254-151">Message</span><span class="sxs-lookup"><span data-stu-id="ce254-151">Message</span></span>                                        | <span data-ttu-id="ce254-152">Traitement effectué</span><span class="sxs-lookup"><span data-stu-id="ce254-152">Processing performed</span></span>                                                                                                                                                                                         |
|------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="ce254-153">**création de WM \_**</span><span class="sxs-lookup"><span data-stu-id="ce254-153">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)             | <span data-ttu-id="ce254-154">Alloue et Initialise une structure de données privée et enregistre son adresse sous forme de données de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ce254-154">Allocates and initializes a private data structure and saves its address as window data.</span></span>                                                                                                                     |
| [<span data-ttu-id="ce254-155">**\_destructeur WM**</span><span class="sxs-lookup"><span data-stu-id="ce254-155">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)           | <span data-ttu-id="ce254-156">Libère les données allouées pendant le traitement de [**\_ Create WM**](/windows/desktop/winmsg/wm-create) .</span><span class="sxs-lookup"><span data-stu-id="ce254-156">Frees data allocated during [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) processing.</span></span>                                                                                                                                   |
| [<span data-ttu-id="ce254-157">**\_activer WM**</span><span class="sxs-lookup"><span data-stu-id="ce254-157">**WM\_ENABLE**</span></span>](/windows/desktop/winmsg/wm-enable)             | <span data-ttu-id="ce254-158">Invalide la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ce254-158">Invalidates the window.</span></span>                                                                                                                                                                                      |
| [<span data-ttu-id="ce254-159">**WM- \_ touche**</span><span class="sxs-lookup"><span data-stu-id="ce254-159">**WM\_KEYDOWN**</span></span>](/windows/desktop/inputdev/wm-keydown)         | <span data-ttu-id="ce254-160">Modifie la position actuelle dans le cas d’une flèche haut ou flèche bas.</span><span class="sxs-lookup"><span data-stu-id="ce254-160">Changes the current position in the case of an UP ARROW or DOWN ARROW key.</span></span>                                                                                                                                   |
| [<span data-ttu-id="ce254-161">**WM \_ KEYUP**</span><span class="sxs-lookup"><span data-stu-id="ce254-161">**WM\_KEYUP**</span></span>](/windows/desktop/inputdev/wm-keyup)             | <span data-ttu-id="ce254-162">Termine la modification de la position.</span><span class="sxs-lookup"><span data-stu-id="ce254-162">Completes the position change.</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="ce254-163">**\_LBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="ce254-163">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown) | <span data-ttu-id="ce254-164">Capture la souris.</span><span class="sxs-lookup"><span data-stu-id="ce254-164">Captures the mouse.</span></span> <span data-ttu-id="ce254-165">Si la fenêtre associée est un contrôle d’édition ou une zone de liste, elle définit le focus sur la fenêtre associée.</span><span class="sxs-lookup"><span data-stu-id="ce254-165">If the buddy window is an edit control or list box, it sets the focus to the buddy window.</span></span> <span data-ttu-id="ce254-166">Si la souris se trouve au-dessus du bouton haut ou de la flèche vers le haut, elle commence à modifier la position et définit un minuteur.</span><span class="sxs-lookup"><span data-stu-id="ce254-166">If the mouse is over the up or down button, it begins changing the position and sets a timer.</span></span> |
| [<span data-ttu-id="ce254-167">**\_LBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="ce254-167">**WM\_LBUTTONUP**</span></span>](/windows/desktop/inputdev/wm-lbuttonup)     | <span data-ttu-id="ce254-168">Termine la modification de la position et libère la capture de la souris si le contrôle up-up a capturé la souris.</span><span class="sxs-lookup"><span data-stu-id="ce254-168">Completes the position change and releases the mouse capture if the up-down control has captured the mouse.</span></span> <span data-ttu-id="ce254-169">Si la fenêtre associée est un contrôle d’édition, elle sélectionne tout le texte du contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="ce254-169">If the buddy window is an edit control, it selects all the text in the edit control.</span></span>             |
| [<span data-ttu-id="ce254-170">**\_peinture WM**</span><span class="sxs-lookup"><span data-stu-id="ce254-170">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                  | <span data-ttu-id="ce254-171">Peint le contrôle up-up.</span><span class="sxs-lookup"><span data-stu-id="ce254-171">Paints the up-down control.</span></span> <span data-ttu-id="ce254-172">Si le paramètre *wParam* est non null, le contrôle suppose que la valeur est un **HDC** et peint à l’aide de ce contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="ce254-172">If the *wParam* parameter is non-NULL, the control assumes that the value is an **HDC** and paints using that device context.</span></span>                                                    |
| [<span data-ttu-id="ce254-173">**\_minuteur WM**</span><span class="sxs-lookup"><span data-stu-id="ce254-173">**WM\_TIMER**</span></span>](/windows/desktop/winmsg/wm-timer)               | <span data-ttu-id="ce254-174">Modifie la position actuelle si la souris est maintenue sur un bouton et qu’un intervalle suffisant s’est écoulé.</span><span class="sxs-lookup"><span data-stu-id="ce254-174">Changes the current position if the mouse is being held down over a button and a sufficient interval has elapsed.</span></span>                                                                                            |



 

 

 