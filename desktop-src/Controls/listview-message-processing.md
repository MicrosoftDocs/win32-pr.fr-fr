---
title: Traitement par défaut des messages List-View
description: Cette section répertorie le traitement des messages de fenêtre effectué par un contrôle List-View.
ms.assetid: c634c446-37e5-4f7c-b337-306c29961e58
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 27daa334b8640c855c150216f68e8b243cacbc7b2fe9a218a7e3e17bf69402b8
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/11/2021
ms.locfileid: "119698839"
---
# <a name="default-list-view-message-processing"></a>Traitement par défaut des messages List-View

Cette section répertorie le traitement des messages de fenêtre effectué par un contrôle List-View.

## <a name="message-processing"></a>Traitement de message

Le tableau suivant décrit le traitement des messages de fenêtre effectué par un contrôle List-View.



| Message                  | Traitement effectué                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|--------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **\_caractère WM**             | Recherche un élément de liste qui commence par le caractère spécifié et, si l’élément est trouvé, sélectionne et définit le focus sur l’élément. Plusieurs caractères reçus dans un intervalle de délai d’attente, actuellement résolus à une seconde, sont concaténés, et le contrôle List-View recherche un élément qui commence par la chaîne résultante.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM, \_ commande**          | Traite les codes de notification en [ \_ mise à jour](en-update.md) et en [ \_ KILLFOCUS](en-killfocus.md) et transfère toutes les autres notifications de contrôle d’édition à la fenêtre parente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **création de WM \_**           | Effectue une initialisation supplémentaire à [**WM \_ NCCREATE**](/windows/desktop/winmsg/wm-nccreate). Si le style de fenêtre [**LVS \_ SHAREIMAGELISTS**](list-view-window-styles.md) n’est pas spécifié, le contrôle de liste crée les listes d’images icône et petite icône à ce stade.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **\_destructeur WM**          | Libère les ressources allouées pendant la [**\_ création de WM**](/windows/desktop/winmsg/wm-create).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **\_ERASEBKGND WM**       | Efface l’arrière-plan de la fenêtre en utilisant la couleur d’arrière-plan actuelle pour le contrôle d’affichage de liste. Si la couleur d’arrière-plan est la \_ valeur CLR None, le contrôle de vue de liste transfère le message à la fenêtre parente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **\_GETDLGCODE WM**       | Retourne une combinaison des valeurs DLGC \_ WANTTAB et DLGC \_ WANTARROWS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **WM \_ GETFONT**          | Retourne le handle de la police d’étiquette actuelle.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **\_HSCROLL WM**          | Fait défiler le contrôle List-View horizontalement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **WM- \_ touche**          | Traite les touches espace, entrée et flèche et envoie un code de notification KeyOut [LVN \_ ](lvn-keydown.md) à la fenêtre parente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **\_KILLFOCUS WM**        | Repeint l’élément de liste ayant le focus, le cas échéant, et envoie un code de notification [ \_ KILLFOCUS nm](nm-killfocus.md) à la fenêtre parente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **\_LBUTTONDBLCLK WM**    | Envoie à la fenêtre parente un code [ \_ de notification DBLCLK nm (List View)](nm-dblclk-list-view.md) .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **\_LBUTTONDOWN WM**      | Traité de différentes manières selon qu’une opération de clic ou de glissement est lancée. Pour déterminer l’opération impliquée, le contrôle List-View entre dans une boucle de messages modale jusqu’à ce que le bouton soit relâché ou que la souris soit déplacée. Dans le cas d’un clic, le contrôle List-View peut changer l’élément qui a le focus et les éléments qui sont sélectionnés, en tenant compte de la position du curseur, de l’état des touches Maj et CTRL, et ainsi de suite. Le contrôle List-View envoie ensuite sa fenêtre parente un code [ \_ de notification de clic (List View) nm](nm-click-list-view.md) .<br/> Si le glissement commence sur un élément, le contrôle List-View sélectionne et définit le focus sur l’élément. Ensuite, il envoie un code de notification [LVN \_ BEGINDRAG](lvn-begindrag.md) à la fenêtre parente. La fenêtre parente est responsable de l’exécution de l’opération glisser.<br/> Si le glissement commence sur l’arrière-plan de la fenêtre, le contrôle List-View entre dans une autre boucle de messages modale, ce qui permet à l’utilisateur de former un rectangle en faisant glisser la souris. Les éléments du rectangle sont sélectionnés.<br/> |
| **\_NCCREATE WM**         | Alloue et Initialise une structure de données interne, puis appelle la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **\_NCDESTROY WM**        | Libère les ressources allouées par le contrôle List-View. À moins que le style [**LVS \_ SHAREIMAGELISTS**](list-view-window-styles.md) soit utilisé, cela comprend la suppression des listes d’images complètes et de petite taille.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **\_notification WM**           | Codes de notification de contrôle d’en-tête de processus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **\_peinture WM**            | Affiche tous les éléments de la région de mise à jour. Pour les éléments de rappel, le contrôle envoie d’abord un code de notification [LVN \_ GETDISPINFO](lvn-getdispinfo.md) à la fenêtre propriétaire pour demander des informations d’affichage. Si le paramètre *wParam* est non null, le contrôle suppose que la valeur est un HDC et peint à l’aide de ce contexte de périphérique.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **\_RBUTTONDOWN WM**      | Traité de la même façon que le message [**WM \_ LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) , à ceci près que le contrôle envoie un code de notification [nm \_ RCLICK (List View)](nm-rclick-list-view.md) (au lieu d’un [ \_ clic sur nm (mode liste)](nm-click-list-view.md)) et un code de notification [LVN \_ BEGINRDRAG](lvn-beginrdrag.md) (au lieu de [LVN \_ BEGINDRAG](lvn-begindrag.md)). Notez que le contrôle traite le message [**WM \_ RBUTTONUP**](/windows/desktop/inputdev/wm-rbuttonup) correspondant et ne le distribue pas. Par conséquent, les applications ne peuvent pas voir ce message, même en sous-classant le contrôle.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM \_ SetFocus**         | Repeint l’élément de liste ayant le focus, le cas échéant, et envoie un code de notification [nm \_ SetFocus](nm-setfocus.md) à la fenêtre parente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **\_SetFont WM**          | Enregistre le handle de police spécifié, transfère le message à la fenêtre d’en-tête, le cas échéant, puis repeint à l’aide de la nouvelle police.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **\_SETREDRAW WM**        | Active ou désactive le rafraîchissement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **\_minuteur WM**            | Commence la modification d’une étiquette d’élément. Si l’utilisateur clique sur l’étiquette de l’élément ayant le focus, le contrôle List-View définit un minuteur au lieu de passer immédiatement en mode édition. Le minuteur permet au contrôle de vue de liste de *ne pas* passer en mode édition si l’utilisateur double-clique sur l’étiquette.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **\_VSCROLL WM**          | Fait défiler verticalement le contrôle d’affichage de liste.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **\_WINDOWPOSCHANGED WM** | Met à jour les barres de défilement de la fenêtre. Si la vue actuelle est un affichage icône ou petite icône et que le style de [**\_ réorganisation LVS**](list-view-window-styles.md) est spécifié, le contrôle List-View organise également les éléments de liste.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **\_WININICHANGE WM**     | Traite les modifications apportées aux mesures système.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |



 

 

