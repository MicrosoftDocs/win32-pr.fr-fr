---
title: À propos des contrôles ToolBar
description: Une barre d’outils est un contrôle qui contient un ou plusieurs boutons.
ms.assetid: b5a00a81-8d23-4844-8b0a-776e7cceced8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 263d95b13ddee54561cf1b0bb9d003d5d34cdf8d
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "103941389"
---
# <a name="about-toolbar-controls"></a><span data-ttu-id="4dc5d-103">À propos des contrôles ToolBar</span><span class="sxs-lookup"><span data-stu-id="4dc5d-103">About Toolbar Controls</span></span>

<span data-ttu-id="4dc5d-104">Une barre d’outils est un contrôle qui contient un ou plusieurs boutons.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-104">A toolbar is a control that contains one or more buttons.</span></span> <span data-ttu-id="4dc5d-105">Chaque bouton, lorsque l’utilisateur clique sur un utilisateur, envoie un message de commande à la fenêtre parente.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-105">Each button, when clicked by a user, sends a command message to the parent window.</span></span> <span data-ttu-id="4dc5d-106">En règle générale, les boutons d’une barre d’outils correspondent aux éléments du menu de l’application, ce qui offre un moyen supplémentaire et plus direct à l’utilisateur d’accéder aux commandes d’une application.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-106">Typically, the buttons in a toolbar correspond to items in the application's menu, providing an additional and more direct way for the user to access an application's commands.</span></span>

<span data-ttu-id="4dc5d-107">La capture d’écran suivante montre une fenêtre qui contient une barre d’outils simple pour les opérations sur les fichiers.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-107">The following screen shot shows a window that contains a simple toolbar for file operations.</span></span> <span data-ttu-id="4dc5d-108">L’application a activé les styles visuels.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-108">The application has enabled visual styles.</span></span> <span data-ttu-id="4dc5d-109">Le bouton enregistrer est « actif », car le curseur se trouve au-dessus de celui-ci lorsque la capture d’écran a été prise.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-109">The Save button is "hot" because the cursor was hovering over it when the screen shot was taken.</span></span> <span data-ttu-id="4dc5d-110">L’apparence réelle du contrôle varie selon le système d’exploitation et le thème sélectionné par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-110">The actual appearance of the control varies depending on the operating system and the user-selected theme.</span></span>

![capture d’écran d’une fenêtre avec une barre d’outils à trois boutons ; un bouton est actif](images/tb-withstyles.png)

<span data-ttu-id="4dc5d-112">La capture d’écran suivante montre le même contrôle dans une application qui a été compilée sans que les styles visuels soient activés.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-112">The following screen shot shows the same control in an application that was compiled without visual styles enabled.</span></span>

![capture d’écran d’une fenêtre sans styles visuels : aucun des boutons ne semble chaud](images/tb-wostyles.png)

<span data-ttu-id="4dc5d-114">Les rubriques suivantes décrivent les fonctionnalités à prendre en compte lors de la planification d’une barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-114">The following topics discuss features to consider when planning a toolbar.</span></span> <span data-ttu-id="4dc5d-115">Pour plus d’informations sur l’implémentation et un exemple de code, consultez [utilisation des contrôles ToolBar](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-115">For specific information on implementation, and example code, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

-   [<span data-ttu-id="4dc5d-116">Spécifier la taille et la position de la barre d’outils</span><span class="sxs-lookup"><span data-stu-id="4dc5d-116">Specifying Toolbar Size and Position</span></span>](#specifying-toolbar-size-and-position)
-   [<span data-ttu-id="4dc5d-117">Barres d’outils transparentes</span><span class="sxs-lookup"><span data-stu-id="4dc5d-117">Transparent Toolbars</span></span>](#transparent-toolbars)
-   [<span data-ttu-id="4dc5d-118">Barres d’outils de style liste</span><span class="sxs-lookup"><span data-stu-id="4dc5d-118">List-style Toolbars</span></span>](#list-style-toolbars)
-   [<span data-ttu-id="4dc5d-119">Définition des images de bouton</span><span class="sxs-lookup"><span data-stu-id="4dc5d-119">Defining Button Images</span></span>](#defining-button-images)
    -   [<span data-ttu-id="4dc5d-120">Définition d’images de bouton à l’aide de bitmaps</span><span class="sxs-lookup"><span data-stu-id="4dc5d-120">Defining Button Images by Using Bitmaps</span></span>](#defining-button-images-by-using-bitmaps)
    -   [<span data-ttu-id="4dc5d-121">Définition d’images de bouton à l’aide de listes d’images</span><span class="sxs-lookup"><span data-stu-id="4dc5d-121">Defining Button Images by Using Image Lists</span></span>](#defining-button-images-by-using-image-lists)
-   [<span data-ttu-id="4dc5d-122">Définition du texte pour les boutons</span><span class="sxs-lookup"><span data-stu-id="4dc5d-122">Defining Text for Buttons</span></span>](#defining-text-for-buttons)
-   [<span data-ttu-id="4dc5d-123">Ajout de boutons de barre d’outils</span><span class="sxs-lookup"><span data-stu-id="4dc5d-123">Adding Toolbar Buttons</span></span>](#adding-toolbar-buttons)
    -   [<span data-ttu-id="4dc5d-124">Styles de boutons de barre d’outils</span><span class="sxs-lookup"><span data-stu-id="4dc5d-124">Toolbar Button Styles</span></span>](#toolbar-button-styles)
    -   [<span data-ttu-id="4dc5d-125">États des boutons de barre d’outils</span><span class="sxs-lookup"><span data-stu-id="4dc5d-125">Toolbar Button States</span></span>](#toolbar-button-states)
    -   [<span data-ttu-id="4dc5d-126">Identificateur de commande</span><span class="sxs-lookup"><span data-stu-id="4dc5d-126">Command Identifier</span></span>](#command-identifier)
    -   [<span data-ttu-id="4dc5d-127">Taille et position des boutons</span><span class="sxs-lookup"><span data-stu-id="4dc5d-127">Button Size and Position</span></span>](#button-size-and-position)
-   [<span data-ttu-id="4dc5d-128">Activation de la personnalisation</span><span class="sxs-lookup"><span data-stu-id="4dc5d-128">Enabling Customization</span></span>](#enabling-customization)
-   [<span data-ttu-id="4dc5d-129">Activation du suivi actif</span><span class="sxs-lookup"><span data-stu-id="4dc5d-129">Enabling Hot-tracking</span></span>](#enabling-hot-tracking)

## <a name="specifying-toolbar-size-and-position"></a><span data-ttu-id="4dc5d-130">Spécifier la taille et la position de la barre d’outils</span><span class="sxs-lookup"><span data-stu-id="4dc5d-130">Specifying Toolbar Size and Position</span></span>

<span data-ttu-id="4dc5d-131">Si vous créez une barre d’outils à l’aide de [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex), la fonction vous permet de spécifier, en pixels, la hauteur et la largeur de la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-131">If you create a toolbar using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex), the function enables you to specify in pixels the height and width of the toolbar.</span></span>

> [!Note]  
> <span data-ttu-id="4dc5d-132">L’utilisation de [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) n’est pas recommandée, car elle ne prend pas en charge les nouvelles fonctionnalités des barres d’outils, y compris les listes d’images.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-132">Using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) is not recommended, as it does not support new features of toolbars, including image lists.</span></span> <span data-ttu-id="4dc5d-133">Pour plus d’informations sur la création de barres d’outils, consultez [utilisation des contrôles ToolBar](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-133">For more information about creating toolbars, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

<span data-ttu-id="4dc5d-134">La fonction [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) n’a pas de paramètres pour spécifier la taille de la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-134">The [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have parameters for specifying toolbar size.</span></span> <span data-ttu-id="4dc5d-135">La procédure de fenêtre de barre d’outils définit automatiquement la taille et la position de la fenêtre de la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-135">The toolbar window procedure automatically sets the size and position of the toolbar window.</span></span> <span data-ttu-id="4dc5d-136">La hauteur est basée sur la hauteur des boutons dans la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-136">The height is based on the height of the buttons in the toolbar.</span></span> <span data-ttu-id="4dc5d-137">La largeur est identique à la largeur de la zone cliente de la fenêtre parente.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-137">The width is the same as the width of the parent window's client area.</span></span> <span data-ttu-id="4dc5d-138">Pour modifier les paramètres de taille automatique, envoyez un message [**to \_ SETBUTTONSIZE**](tb-setbuttonsize.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-138">To change the automatic size settings, send a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span> <span data-ttu-id="4dc5d-139">Les styles de contrôle communs [**CCS \_ Top**](common-control-styles.md) et [**CCS \_ Bottom**](common-control-styles.md) déterminent si la barre d’outils est positionnée le long du bord supérieur ou inférieur de la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-139">The [**CCS\_TOP**](common-control-styles.md) and [**CCS\_BOTTOM**](common-control-styles.md) common control styles determine whether the toolbar is positioned along the top or bottom of the client area.</span></span> <span data-ttu-id="4dc5d-140">Par défaut, une barre d’outils a le style **CCS \_ Top** .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-140">By default, a toolbar has the **CCS\_TOP** style.</span></span>

<span data-ttu-id="4dc5d-141">En outre, la procédure de fenêtre de barre d’outils ajuste automatiquement la taille de la barre d’outils chaque fois qu’elle reçoit un message de taille [**WM \_**](/windows/desktop/winmsg/wm-size) ou [**to \_ AutoSize**](tb-autosize.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-141">Also, the toolbar window procedure automatically adjusts the size of the toolbar whenever it receives a [**WM\_SIZE**](/windows/desktop/winmsg/wm-size) or [**TB\_AUTOSIZE**](tb-autosize.md) message.</span></span> <span data-ttu-id="4dc5d-142">Une application doit envoyer l’un de ces messages chaque fois que la taille de la fenêtre parente change ou après l’envoi d’un message nécessitant l’ajustement de la taille de la barre d’outils (par exemple, un message de [**\_ SETBUTTONSIZE to**](tb-setbuttonsize.md) ).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-142">An application should send either of these messages whenever the size of the parent window changes or after sending a message that requires adjusting the size of the toolbar—for example, a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span>

<span data-ttu-id="4dc5d-143">Les comportements de dimensionnement et de positionnement par défaut de la barre d’outils peuvent être désactivés en définissant les styles de contrôle communs [**CCS \_ NORESIZE**](common-control-styles.md) et [**CCS \_ NOPARENTALIGN**](common-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-143">The toolbar default sizing and positioning behaviors can be turned off by setting the [**CCS\_NORESIZE**](common-control-styles.md) and [**CCS\_NOPARENTALIGN**](common-control-styles.md) common control styles.</span></span> <span data-ttu-id="4dc5d-144">Les contrôles Toolbar qui sont hébergés par les contrôles Rebar doivent définir ces styles, car le contrôle rebar contrôle la taille et la position de la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-144">Toolbar controls that are hosted by rebar controls must set these styles because the rebar control sizes and positions the toolbar.</span></span>

## <a name="transparent-toolbars"></a><span data-ttu-id="4dc5d-145">Barres d’outils transparentes</span><span class="sxs-lookup"><span data-stu-id="4dc5d-145">Transparent Toolbars</span></span>

<span data-ttu-id="4dc5d-146">Les contrôles ToolBar prennent en charge une apparence transparente qui permet d’afficher la zone cliente sous la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-146">Toolbar controls support a transparent look that allows the client area under the toolbar to show through.</span></span> <span data-ttu-id="4dc5d-147">Il existe deux types de barres d’outils transparentes, celles avec des boutons plats et des boutons à trois dimensions.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-147">There are two kinds of transparent toolbars, ones with flat buttons and ones with three-dimensional buttons.</span></span> <span data-ttu-id="4dc5d-148">Si vous souhaitez que votre application corresponde à l’interface Windows, utilisez la barre d’outils style transparent transparent.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-148">If you want your application to match the Windows interface, use the flat transparent style toolbar.</span></span>

<span data-ttu-id="4dc5d-149">La capture d’écran suivante montre les deux types de barres d’outils transparentes, sans utiliser les styles visuels.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-149">The following screen shot shows the two kinds of transparent toolbars, not using visual styles.</span></span>

![capture d’écran de deux fenêtres avec différents styles de barres d’outils, mais les deux barres d’outils sont transparentes](images/toolbartrans.jpg)

<span data-ttu-id="4dc5d-151">La capture d’écran suivante montre une barre d’outils transparente telle qu’elle peut apparaître dans Windows Vista, avec les styles visuels activés.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-151">The following screen shot shows a transparent toolbar as it might appear in Windows Vista, with visual styles enabled.</span></span> <span data-ttu-id="4dc5d-152">La couleur d’arrière-plan de la boîte de dialogue a été modifiée pour rendre la transparence plus évidente.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-152">The background color of the dialog box has been changed to make the transparency more obvious.</span></span>

![capture d’écran d’une fenêtre dans Windows Vista avec une barre d’outils transparente](images/tb-transparent.png)

<span data-ttu-id="4dc5d-154">Pour créer une barre d’outils transparente, il vous suffit d’ajouter [**TBSTYLE \_ Flat**](toolbar-control-and-button-styles.md) ou [**TBSTYLE \_ transparent**](toolbar-control-and-button-styles.md) au paramètre de style Window de [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-154">To create a transparent toolbar, all you need to do is add [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) or [**TBSTYLE\_TRANSPARENT**](toolbar-control-and-button-styles.md) to the window style parameter of [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span></span> <span data-ttu-id="4dc5d-155">Si vous ne souhaitez pas qu’une ligne apparaisse pour indiquer le bas de la barre d’outils, n’utilisez pas le style de fenêtre [**WS \_ Border**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-155">If you do not want a line to appear to indicate the bottom of the toolbar, do not use the [**WS\_BORDER**](/windows/desktop/winmsg/window-styles) window style.</span></span>

> [!Note]  
> <span data-ttu-id="4dc5d-156">Lorsque vous utilisez des styles visuels, les barres d’outils peuvent être plates par défaut.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-156">When using visual styles, toolbars may be flat by default.</span></span>

 

## <a name="list-style-toolbars"></a><span data-ttu-id="4dc5d-157">Barres d’outils de style liste</span><span class="sxs-lookup"><span data-stu-id="4dc5d-157">List-style Toolbars</span></span>

<span data-ttu-id="4dc5d-158">Les boutons de la barre d’outils vous permettent d’afficher à la fois le texte et les bitmaps.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-158">Toolbar buttons enable you to display both text and bitmaps.</span></span> <span data-ttu-id="4dc5d-159">Les boutons d’une barre d’outils créée à l’aide du style de [**\_ liste TBSTYLE**](toolbar-control-and-button-styles.md) placent le texte à droite de l’image bitmap au lieu de le placer sous celui-ci.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-159">The buttons on a toolbar created with the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) style place text to the right of the bitmap instead of under it.</span></span>

<span data-ttu-id="4dc5d-160">La capture d’écran suivante montre une barre d’outils avec le style de liste.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-160">The following screen shot shows a toolbar with the list style.</span></span>

![capture d’écran d’une barre d’outils avec le texte à droite de chaque icône](images/tb-liststyle.png)

<span data-ttu-id="4dc5d-162">Vous pouvez utiliser le style de barre d’outils de [**\_ liste TBSTYLE**](toolbar-control-and-button-styles.md) en combinaison avec le style [**TBSTYLE \_ Flat**](toolbar-control-and-button-styles.md) style pour créer une barre d’outils avec des boutons à deux dimensions.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-162">You can use the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) toolbar style in combination with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style to create a toolbar with flat buttons.</span></span>

## <a name="defining-button-images"></a><span data-ttu-id="4dc5d-163">Définition des images de bouton</span><span class="sxs-lookup"><span data-stu-id="4dc5d-163">Defining Button Images</span></span>

<span data-ttu-id="4dc5d-164">Il existe deux façons de spécifier les images pour les boutons, par images bitmap ou par listes d’images.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-164">There are two ways to specify the images for buttons—by bitmaps or by image lists.</span></span> <span data-ttu-id="4dc5d-165">Une application doit choisir la méthode à utiliser.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-165">An application must choose which method to use.</span></span> <span data-ttu-id="4dc5d-166">Elle ne peut pas utiliser les deux méthodes avec le même contrôle ToolBar.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-166">It cannot use both methods with the same toolbar control.</span></span> <span data-ttu-id="4dc5d-167">Notez que la fonction [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) utilise la méthode bitmap.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-167">Note that the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function uses the bitmap method.</span></span> <span data-ttu-id="4dc5d-168">Les applications qui souhaitent utiliser la méthode de liste d’images doivent utiliser la fonction [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) pour créer le contrôle de barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-168">Applications that want to use the image list method must use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create the toolbar control.</span></span>

### <a name="defining-button-images-by-using-bitmaps"></a><span data-ttu-id="4dc5d-169">Définition d’images de bouton à l’aide de bitmaps</span><span class="sxs-lookup"><span data-stu-id="4dc5d-169">Defining Button Images by Using Bitmaps</span></span>

<span data-ttu-id="4dc5d-170">Chaque bouton d’une barre d’outils peut inclure une image bitmap.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-170">Each button in a toolbar can include a bitmapped image.</span></span> <span data-ttu-id="4dc5d-171">Une barre d’outils utilise une liste interne pour stocker les informations dont elle a besoin pour dessiner les images.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-171">A toolbar uses an internal list to store the information that it needs to draw the images.</span></span> <span data-ttu-id="4dc5d-172">Quand vous appelez la fonction [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) , vous spécifiez une image bitmap monochrome ou couleur qui contient les images initiales, et la barre d’outils ajoute les informations à la liste interne d’images.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-172">When you call the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function, you specify a monochrome or color bitmap that contains the initial images, and the toolbar adds the information to the internal list of images.</span></span> <span data-ttu-id="4dc5d-173">Vous pouvez ajouter des images supplémentaires ultérieurement à l’aide du message [**to \_ ADDBITMAP**](tb-addbitmap.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-173">You can add additional images later by using the [**TB\_ADDBITMAP**](tb-addbitmap.md) message.</span></span>

<span data-ttu-id="4dc5d-174">Chaque image a un index de base zéro.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-174">Each image has a zero-based index.</span></span> <span data-ttu-id="4dc5d-175">La première image ajoutée à la liste interne a un index égal à 0, la deuxième image l’index 1, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-175">The first image added to the internal list has an index of 0, the second image has an index of 1, and so on.</span></span> <span data-ttu-id="4dc5d-176">[**To \_ ADDBITMAP**](tb-addbitmap.md) ajoute des images à la fin de la liste et retourne l’index de la première nouvelle image ajoutée.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-176">[**TB\_ADDBITMAP**](tb-addbitmap.md) adds images to the end of the list and returns the index of the first new image that it added.</span></span> <span data-ttu-id="4dc5d-177">Pour associer l’image à un bouton, vous devez envoyer un message [**to \_ ADDBUTTONS**](tb-addbuttons.md) et spécifier l’index de l’image après avoir ajouté des bitmaps à la liste d’images internes.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-177">To associate the image with a button, you must send a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message and specify the image's index after you add bitmaps to the internal image list.</span></span>

<span data-ttu-id="4dc5d-178">Windows suppose que toutes les images bitmap d’une barre d’outils ont la même taille.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-178">Windows assumes that all of a toolbar's bitmapped images are the same size.</span></span> <span data-ttu-id="4dc5d-179">Vous spécifiez la taille lors de la création de la barre d’outils à l’aide de [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-179">You specify the size when you create the toolbar by using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex).</span></span> <span data-ttu-id="4dc5d-180">Si vous utilisez la fonction [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) pour créer une barre d’outils, la taille des images est définie sur les dimensions par défaut de 16 par 15 pixels.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-180">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, the size of the images is set to the default dimensions of 16 by 15 pixels.</span></span> <span data-ttu-id="4dc5d-181">Vous pouvez utiliser le message [**to \_ SETBITMAPSIZE**](tb-setbitmapsize.md) pour modifier les dimensions des images bitmap, mais vous devez le faire avant d’ajouter des images à la liste interne.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-181">You can use the [**TB\_SETBITMAPSIZE**](tb-setbitmapsize.md) message to change the dimensions of the bitmapped images, but you must do so before adding any images to the internal list.</span></span>

### <a name="defining-button-images-by-using-image-lists"></a><span data-ttu-id="4dc5d-182">Définition d’images de bouton à l’aide de listes d’images</span><span class="sxs-lookup"><span data-stu-id="4dc5d-182">Defining Button Images by Using Image Lists</span></span>

<span data-ttu-id="4dc5d-183">Vous pouvez également stocker des images de bouton dans un ensemble de [listes d’images](image-lists.md).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-183">You can also store button images in a set of [Image Lists](image-lists.md).</span></span> <span data-ttu-id="4dc5d-184">Une liste d’images est une collection d’images de même taille, dont chacune peut être référencée par son index.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-184">An image list is a collection of images of the same size, each of which can be referred to by its index.</span></span> <span data-ttu-id="4dc5d-185">Les listes d’images sont utilisées pour gérer de grands ensembles d’icônes ou de bitmaps.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-185">Image lists are used to manage large sets of icons or bitmaps.</span></span> <span data-ttu-id="4dc5d-186">Vous pouvez utiliser jusqu’à trois listes d’images différentes pour afficher les boutons dans différents États, comme indiqué dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-186">You can use up to three different image lists to display buttons in various states, as shown in the following table.</span></span>



|          |                                                                                                                                                                                              |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="4dc5d-187">Normal</span><span class="sxs-lookup"><span data-stu-id="4dc5d-187">Normal</span></span>   | <span data-ttu-id="4dc5d-188">Boutons dans leur état par défaut.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-188">Buttons in their default state.</span></span>                                                                                                                                                              |
| <span data-ttu-id="4dc5d-189">Chaud</span><span class="sxs-lookup"><span data-stu-id="4dc5d-189">Hot</span></span>      | <span data-ttu-id="4dc5d-190">Boutons situés sous le pointeur ou appuyés.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-190">Buttons that are under the pointer or pressed.</span></span> <span data-ttu-id="4dc5d-191">Les éléments à chaud sont pris en charge uniquement dans les contrôles Toolbar qui ont le style à [**\_ deux dimensions TBSTYLE**](toolbar-control-and-button-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-191">Hot items are supported only in toolbar controls that have the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style.</span></span> |
| <span data-ttu-id="4dc5d-192">Désactivé</span><span class="sxs-lookup"><span data-stu-id="4dc5d-192">Disabled</span></span> | <span data-ttu-id="4dc5d-193">Boutons désactivés.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-193">Buttons that are disabled.</span></span>                                                                                                                                                                   |



 

<span data-ttu-id="4dc5d-194">Une fois la barre d’outils détruite, les applications doivent libérer toutes les listes d’images qu’elles ont créées.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-194">After the toolbar is destroyed, applications must free any image lists they have created.</span></span>

## <a name="defining-text-for-buttons"></a><span data-ttu-id="4dc5d-195">Définition du texte pour les boutons</span><span class="sxs-lookup"><span data-stu-id="4dc5d-195">Defining Text for Buttons</span></span>

<span data-ttu-id="4dc5d-196">Chaque bouton peut afficher une chaîne en plus de, ou à la place d’une image.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-196">Each button can display a string in addition to, or instead of, an image.</span></span> <span data-ttu-id="4dc5d-197">Une barre d’outils gère une liste interne qui contient toutes les chaînes disponibles pour les boutons de la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-197">A toolbar maintains an internal list that contains all the strings available to toolbar buttons.</span></span> <span data-ttu-id="4dc5d-198">Vous ajoutez des chaînes à la liste interne à l’aide du message de [**to \_ ADDSTRING**](tb-addstring.md) , en spécifiant l’adresse de la mémoire tampon contenant les chaînes à ajouter.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-198">You add strings to the internal list by using the [**TB\_ADDSTRING**](tb-addstring.md) message, specifying the address of the buffer containing the strings to add.</span></span> <span data-ttu-id="4dc5d-199">Chaque chaîne doit se terminer par un caractère null, et la dernière chaîne doit se terminer par deux caractères null.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-199">Each string must be null-terminated, and the last string must be terminated with two null characters.</span></span>

<span data-ttu-id="4dc5d-200">Chaque chaîne a un index de base zéro.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-200">Each string has a zero-based index.</span></span> <span data-ttu-id="4dc5d-201">La première chaîne ajoutée à la liste interne des chaînes a un index égal à 0, la deuxième chaîne l’index 1, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-201">The first string added to the internal list of strings has an index of 0, the second string has an index of 1, and so on.</span></span> <span data-ttu-id="4dc5d-202">[**To \_ ADDSTRING**](tb-addstring.md) ajoute des chaînes à la fin de la liste et retourne l’index de la première nouvelle chaîne.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-202">[**TB\_ADDSTRING**](tb-addstring.md) adds strings to the end of the list and returns the index of the first new string.</span></span> <span data-ttu-id="4dc5d-203">Vous utilisez l’index d’une chaîne pour associer la chaîne à un bouton.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-203">You use a string's index to associate the string with a button.</span></span>

<span data-ttu-id="4dc5d-204">L’utilisation de [**to \_ ADDSTRING**](tb-addstring.md) n’est pas la seule manière d’ajouter des chaînes à une barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-204">Using [**TB\_ADDSTRING**](tb-addstring.md) is not the only way to add strings to a toolbar.</span></span> <span data-ttu-id="4dc5d-205">Vous pouvez afficher une chaîne dans un bouton en passant un pointeur de chaîne dans le membre **iString** de la structure [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) qui est passée à [**to \_ ADDBUTTONS**](tb-addbuttons.md).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-205">You can display a string in a button by passing a string pointer in the **iString** member of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure that is passed to [**TB\_ADDBUTTONS**](tb-addbuttons.md).</span></span> <span data-ttu-id="4dc5d-206">En outre, vous pouvez utiliser [**to \_ SETBUTTONINFO**](tb-setbuttoninfo.md) pour affecter du texte à un bouton de barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-206">Additionally, you can use [**TB\_SETBUTTONINFO**](tb-setbuttoninfo.md) to assign text to a toolbar button.</span></span>

## <a name="adding-toolbar-buttons"></a><span data-ttu-id="4dc5d-207">Ajout de boutons de barre d’outils</span><span class="sxs-lookup"><span data-stu-id="4dc5d-207">Adding Toolbar Buttons</span></span>

<span data-ttu-id="4dc5d-208">Si vous utilisez la fonction [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) pour créer une barre d’outils, vous pouvez ajouter des boutons à la barre d’outils en remplissant un tableau de structures [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) et en spécifiant l’adresse du tableau dans l’appel de fonction.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-208">If you use the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function to create a toolbar, you can add buttons to the toolbar by filling an array of [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structures and specifying the address of the array in the function call.</span></span> <span data-ttu-id="4dc5d-209">Toutefois, la fonction [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) n’a pas de paramètre pour passer une structure **TBBUTTON** .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-209">However, the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have a parameter for passing a **TBBUTTON** structure.</span></span> <span data-ttu-id="4dc5d-210">**CreateWindowEx** crée une barre d’outils vide que vous remplissez en envoyant un message [**to \_ ADDBUTTONS**](tb-addbuttons.md) , en spécifiant l’adresse d’une structure **TBBUTTON** .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-210">**CreateWindowEx** creates an empty toolbar that you fill by sending a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message, specifying the address of a **TBBUTTON** structure.</span></span>

<span data-ttu-id="4dc5d-211">Après la création d’une barre d’outils, vous pouvez ajouter des boutons en envoyant un message [**to \_ INSERTBUTTON**](tb-insertbutton.md) ou [**to \_ ADDBUTTONS**](tb-addbuttons.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-211">After a toolbar is created, you can add buttons by sending a [**TB\_INSERTBUTTON**](tb-insertbutton.md) or [**TB\_ADDBUTTONS**](tb-addbuttons.md) message.</span></span> <span data-ttu-id="4dc5d-212">Chaque bouton est décrit par une structure [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) , qui définit les attributs du bouton, y compris les index de sa chaîne et de sa bitmap, ainsi que son style, État, identificateur de commande et valeur 32 bits définie par l’application.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-212">Each button is described by a [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure, which defines the attributes of the button, including the indexes of its string and bitmap as well as its style, state, command identifier, and application-defined 32-bit value.</span></span>

> [!Note]  
> <span data-ttu-id="4dc5d-213">Si vous utilisez la fonction [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) pour créer une barre d’outils, vous devez envoyer le message [**to \_ BUTTONSTRUCTSIZE**](tb-buttonstructsize.md) avant d’ajouter des boutons.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-213">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, you must send the [**TB\_BUTTONSTRUCTSIZE**](tb-buttonstructsize.md) message before adding any buttons.</span></span> <span data-ttu-id="4dc5d-214">Le message transmet la taille de la structure [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) à la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-214">The message passes the size of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure to the toolbar.</span></span>

 

### <a name="toolbar-button-styles"></a><span data-ttu-id="4dc5d-215">Styles de boutons de barre d’outils</span><span class="sxs-lookup"><span data-stu-id="4dc5d-215">Toolbar Button Styles</span></span>

<span data-ttu-id="4dc5d-216">Le style d’un bouton détermine la façon dont le bouton apparaît et comment il répond aux entrées d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-216">A button's style determines how the button appears and how it responds to user input.</span></span> <span data-ttu-id="4dc5d-217">Par exemple, le style de [**\_ bouton BTNS**](toolbar-control-and-button-styles.md) crée un bouton de barre d’outils qui se comporte comme un bouton de commande standard.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-217">For instance, the [**BTNS\_BUTTON**](toolbar-control-and-button-styles.md) style creates a toolbar button that behaves like a standard push button.</span></span> <span data-ttu-id="4dc5d-218">Un bouton dont le style [**de \_ contrôle BTNS**](toolbar-control-and-button-styles.md) est similaire à un bouton de commande standard, à ceci près qu’il bascule entre les États enfoncé et non enfoncé chaque fois que l’utilisateur clique dessus.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-218">A button that has the [**BTNS\_CHECK**](toolbar-control-and-button-styles.md) style is similar to a standard push button, except it toggles between the pressed and nonpressed states each time the user clicks it.</span></span>

<span data-ttu-id="4dc5d-219">Vous pouvez créer des groupes de boutons de barre d’outils qui agissent comme des cases d’option à l’aide du style [**BTNS \_**](toolbar-control-and-button-styles.md) ou [**BTNS \_ CHECKGROUP**](toolbar-control-and-button-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-219">You can create groups of toolbar buttons that act like radio buttons by using the [**BTNS\_GROUP**](toolbar-control-and-button-styles.md) or [**BTNS\_CHECKGROUP**](toolbar-control-and-button-styles.md) style.</span></span> <span data-ttu-id="4dc5d-220">Un bouton est alors maintenu enfoncé jusqu’à ce que l’utilisateur choisisse un autre bouton dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-220">This causes a button to stay pressed until the user chooses another button in the group.</span></span> <span data-ttu-id="4dc5d-221">Un groupe est défini en tant que collection contiguë de boutons, le tout avec le **BTNS \_ groupe** ou le style **BTNS \_ CHECKGROUP** .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-221">A group is defined as a contiguous collection of buttons, all with the **BTNS\_GROUP** or **BTNS\_CHECKGROUP** style.</span></span>

<span data-ttu-id="4dc5d-222">Le [**style \_ Sep BTNS**](toolbar-control-and-button-styles.md) crée un petit intervalle entre les boutons ou dessine une gravure entre les boutons des barres d’outils plates.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-222">The [**BTNS\_SEP**](toolbar-control-and-button-styles.md) style creates a small gap between buttons or draws an etch between buttons on flat toolbars.</span></span> <span data-ttu-id="4dc5d-223">Un bouton avec le **style \_ Sep BTNS** ne reçoit pas d’entrée utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-223">A button with the **BTNS\_SEP** style does not receive user input.</span></span>

<span data-ttu-id="4dc5d-224">La version 5,80 des contrôles communs a introduit de nouveaux styles de boutons de barre d’outils et renommé certains des anciens styles.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-224">Version 5.80 of the common controls introduced some new toolbar button styles and renamed some of the older styles.</span></span> <span data-ttu-id="4dc5d-225">Tous les indicateurs de style de bouton commencent désormais par BTNS \_ xxx au lieu de TBSTYLE \_ xxx.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-225">All button style flags now begin with BTNS\_XXX instead of TBSTYLE\_XXX.</span></span> <span data-ttu-id="4dc5d-226">Pour obtenir une liste et une description des styles de bouton, consultez [barre d’outils et styles de bouton](toolbar-control-and-button-styles.md).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-226">For a listing and discussion of the button styles, see [Toolbar Control and Button Styles](toolbar-control-and-button-styles.md).</span></span>

### <a name="toolbar-button-states"></a><span data-ttu-id="4dc5d-227">États des boutons de barre d’outils</span><span class="sxs-lookup"><span data-stu-id="4dc5d-227">Toolbar Button States</span></span>

<span data-ttu-id="4dc5d-228">Chaque bouton dans une barre d’outils a un État.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-228">Each button in a toolbar has a state.</span></span> <span data-ttu-id="4dc5d-229">La barre d’outils met à jour l’état d’un bouton pour refléter les actions de l’utilisateur, par exemple en cliquant sur le bouton.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-229">The toolbar updates a button's state to reflect user actions, such as clicking the button.</span></span> <span data-ttu-id="4dc5d-230">L’état indique si le bouton est actuellement enfoncé ou non enfoncé, activé ou désactivé, masqué ou visible.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-230">The state indicates whether the button is currently pressed or not pressed, enabled or disabled, hidden or visible.</span></span> <span data-ttu-id="4dc5d-231">Bien qu’une application définisse l’état initial d’un bouton lors de l’ajout du bouton à la barre d’outils, elle peut modifier et récupérer l’État en envoyant des messages [**to \_ GETSTATE to**](tb-getstate.md) et [**to \_ SETSTATE**](tb-setstate.md) à la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-231">Although an application sets a button's initial state when adding the button to the toolbar, it can change and retrieve the state by sending [**TB\_GETSTATE**](tb-getstate.md) and [**TB\_SETSTATE**](tb-setstate.md) messages to the toolbar.</span></span> <span data-ttu-id="4dc5d-232">Pour obtenir la liste des États des boutons de barre d’outils, consultez États de la [barre d’outils](toolbar-button-states.md).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-232">For a list of toolbar button states, see [Toolbar States](toolbar-button-states.md).</span></span>

### <a name="command-identifier"></a><span data-ttu-id="4dc5d-233">Identificateur de commande</span><span class="sxs-lookup"><span data-stu-id="4dc5d-233">Command Identifier</span></span>

<span data-ttu-id="4dc5d-234">Chaque bouton est associé à un identificateur de commande défini par l’application.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-234">Each button has an application-defined command identifier associated with it.</span></span> <span data-ttu-id="4dc5d-235">Les identificateurs de bouton sont généralement définis dans un fichier d’en-tête d’application.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-235">Button identifiers are usually defined in an application header file.</span></span> <span data-ttu-id="4dc5d-236">Par exemple, un bouton Coller peut être défini comme suit :</span><span class="sxs-lookup"><span data-stu-id="4dc5d-236">For example, a Paste button can be defined as:</span></span>


```
#define ID_PASTE 100
```



<span data-ttu-id="4dc5d-237">Lorsque l’utilisateur sélectionne un bouton, la barre d’outils envoie la fenêtre parente à une [**\_ commande WM**](/windows/desktop/menurc/wm-command) ou à un message [**WM \_ Notify**](wm-notify.md) qui comprend l’identificateur de commande du bouton.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-237">When the user selects a button, the toolbar sends the parent window a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) or [**WM\_NOTIFY**](wm-notify.md) message that includes the command identifier of the button.</span></span> <span data-ttu-id="4dc5d-238">La fenêtre parente examine l’identificateur de commande et exécute la commande associée au bouton.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-238">The parent window examines the command identifier and carries out the command associated with the button.</span></span> <span data-ttu-id="4dc5d-239">Pour plus d’informations sur le moment où les contrôles envoient des messages de **\_ commande WM** et lorsqu’ils envoient la **\_ notification WM**, consultez la section Notes de la documentation sur [**WM \_ Notify**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-239">For information about when controls send **WM\_COMMAND** messages and when they send **WM\_NOTIFY**, see the Remarks section of the [**WM\_NOTIFY**](wm-notify.md) documentation.</span></span>

### <a name="button-size-and-position"></a><span data-ttu-id="4dc5d-240">Taille et position des boutons</span><span class="sxs-lookup"><span data-stu-id="4dc5d-240">Button Size and Position</span></span>

<span data-ttu-id="4dc5d-241">Une barre d’outils effectue le suivi de ses boutons en attribuant à chaque bouton un index de position.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-241">A toolbar keeps track of its buttons by assigning each button a position index.</span></span> <span data-ttu-id="4dc5d-242">L’index est de base zéro ; autrement dit, le bouton le plus à gauche a un index égal à 0, le bouton suivant à droite a un index de 1, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-242">The index is zero-based; that is, the leftmost button has an index of 0, the next button to the right has an index of 1, and so on.</span></span> <span data-ttu-id="4dc5d-243">Une application doit spécifier l’index d’un bouton lors de l’envoi de messages pour récupérer des informations sur le bouton ou pour définir les attributs du bouton.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-243">An application must specify the index of a button when sending messages to retrieve information about the button or to set the button's attributes.</span></span>

<span data-ttu-id="4dc5d-244">Une barre d’outils met à jour les index de position lors de l’insertion et de la suppression de boutons.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-244">A toolbar updates the position indexes as buttons are inserted and removed.</span></span> <span data-ttu-id="4dc5d-245">Une application peut récupérer l’index de position actuel d’un bouton en utilisant le message [**to \_ COMMANDTOINDEX**](tb-commandtoindex.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-245">An application can retrieve the current position index of a button by using the [**TB\_COMMANDTOINDEX**](tb-commandtoindex.md) message.</span></span> <span data-ttu-id="4dc5d-246">Le message spécifie l’identificateur de commande d’un bouton, et la fenêtre de la barre d’outils utilise l’identificateur pour localiser le bouton et retourner son index de position.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-246">The message specifies the command identifier of a button, and the toolbar window uses the identifier to locate the button and return its position index.</span></span>

<span data-ttu-id="4dc5d-247">Tous les boutons d’une barre d’outils ont la même taille.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-247">All buttons in a toolbar are the same size.</span></span> <span data-ttu-id="4dc5d-248">La fonction [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) vous oblige à définir la taille initiale des boutons lorsque vous créez la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-248">The [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function requires you to set the initial size of the buttons when you create the toolbar.</span></span> <span data-ttu-id="4dc5d-249">Lorsque vous utilisez la fonction [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , la taille initiale est définie sur les dimensions par défaut 24 par 22 pixels.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-249">When you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, the initial size is set to the default dimensions of 24 by 22 pixels.</span></span> <span data-ttu-id="4dc5d-250">Vous pouvez utiliser le message [**to \_ SETBUTTONSIZE**](tb-setbuttonsize.md) pour modifier la taille du bouton, mais vous devez le faire avant d’ajouter des boutons à la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-250">You can use the [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message to change the button size, but you must do so before adding any buttons to the toolbar.</span></span> <span data-ttu-id="4dc5d-251">Le message [**to \_ GETITEMRECT**](tb-getitemrect.md) récupère les dimensions actuelles des boutons.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-251">The [**TB\_GETITEMRECT**](tb-getitemrect.md) message retrieves the current dimensions of the buttons.</span></span>

<span data-ttu-id="4dc5d-252">Lorsque vous ajoutez une chaîne plus longue que n’importe quelle chaîne actuellement dans la barre d’outils, la barre d’outils réinitialise automatiquement la largeur de ses boutons.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-252">When you add a string that is longer than any string currently in the toolbar, the toolbar automatically resets the width of its buttons.</span></span> <span data-ttu-id="4dc5d-253">La largeur est définie pour s’adapter à la chaîne la plus longue dans la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-253">The width is set to accommodate the longest string in the toolbar.</span></span>

## <a name="enabling-customization"></a><span data-ttu-id="4dc5d-254">Activation de la personnalisation</span><span class="sxs-lookup"><span data-stu-id="4dc5d-254">Enabling Customization</span></span>

<span data-ttu-id="4dc5d-255">Une barre d’outils offre des fonctionnalités de personnalisation intégrées que vous pouvez mettre à la disposition de l’utilisateur en donnant à la barre d’outils le style de contrôle commun [**\_ ajustable CCS**](common-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-255">A toolbar has built-in customization features that you can make available to the user by giving the toolbar the [**CCS\_ADJUSTABLE**](common-control-styles.md) common control style.</span></span> <span data-ttu-id="4dc5d-256">Les fonctionnalités de personnalisation permettent à l’utilisateur de faire glisser un bouton à un nouvel emplacement ou de supprimer un bouton en le faisant glisser en dehors de la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-256">The customization features allow the user to drag a button to a new position or to remove a button by dragging it off the toolbar.</span></span> <span data-ttu-id="4dc5d-257">En outre, l’utilisateur peut double-cliquer sur la barre d’outils pour afficher la boîte de dialogue Personnaliser la barre d’outils, qui lui permet d’ajouter, de supprimer et de réorganiser les boutons de barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-257">In addition, the user can double-click the toolbar to display the Customize Toolbar dialog box, which allows the user to add, delete, and rearrange toolbar buttons.</span></span> <span data-ttu-id="4dc5d-258">Pour afficher la boîte de dialogue, utilisez le message de [**\_ personnalisation to**](tb-customize.md) .</span><span class="sxs-lookup"><span data-stu-id="4dc5d-258">To display the dialog box, use the [**TB\_CUSTOMIZE**](tb-customize.md) message.</span></span> <span data-ttu-id="4dc5d-259">Une application détermine si les fonctionnalités de personnalisation sont disponibles pour l’utilisateur et contrôle l’étendue dans laquelle l’utilisateur peut personnaliser la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-259">An application determines whether the customization features are available to the user and controls the extent to which the user can customize the toolbar.</span></span>

<span data-ttu-id="4dc5d-260">Dans le cadre du processus de personnalisation, les applications doivent souvent enregistrer et restaurer l’état d’une barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-260">As part of the customization process, applications often need to save and restore a toolbar's state.</span></span> <span data-ttu-id="4dc5d-261">Par exemple, de nombreuses applications stockent l’état de la barre d’outils avant que l’utilisateur ne commence à personnaliser la barre d’outils au cas où l’utilisateur souhaiterait restaurer l’état d’origine de la barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-261">For instance, many applications store the toolbar state before the user begins customizing the toolbar in case the user later wants to restore the toolbar to its original state.</span></span> <span data-ttu-id="4dc5d-262">Le contrôle ToolBar ne conserve pas automatiquement un enregistrement de son état de prépersonnalisation.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-262">The toolbar control does not automatically keep a record of its precustomization state.</span></span> <span data-ttu-id="4dc5d-263">Votre application doit enregistrer l’état de la barre d’outils afin de la restaurer.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-263">Your application must save the toolbar state in order to restore it.</span></span> <span data-ttu-id="4dc5d-264">Pour plus d’informations, consultez [utilisation des contrôles ToolBar](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-264">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

## <a name="enabling-hot-tracking"></a><span data-ttu-id="4dc5d-265">Activation du suivi actif</span><span class="sxs-lookup"><span data-stu-id="4dc5d-265">Enabling Hot-tracking</span></span>

<span data-ttu-id="4dc5d-266">Le suivi à chaud signifie que lorsque le pointeur se déplace sur un élément, l’apparence du bouton change.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-266">Hot-tracking means that when the pointer moves over an item, the button's appearance changes.</span></span> <span data-ttu-id="4dc5d-267">Lorsque les styles visuels sont activés, les barres d’outils prennent en charge le suivi à chaud par défaut.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-267">When visual styles are enabled, toolbars support hot-tracking by default.</span></span> <span data-ttu-id="4dc5d-268">Sinon, seuls les contrôles de barre d’outils créés avec le style à [**\_ deux dimensions TBSTYLE**](toolbar-control-and-button-styles.md) prennent en charge le suivi à chaud.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-268">Otherwise, only toolbar controls created with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style support hot-tracking.</span></span> <span data-ttu-id="4dc5d-269">Vous pouvez utiliser d’autres styles de fenêtres en combinaison avec **TBSTYLE \_ Flat** pour produire des barres d’outils qui permettent le suivi à chaud, mais qui ont une apparence différente de celle d’une barre d’outils plate.</span><span class="sxs-lookup"><span data-stu-id="4dc5d-269">You can use other window styles in combination with **TBSTYLE\_FLAT** to produce toolbars that enable hot-tracking but have a different appearance from a flat toolbar.</span></span> <span data-ttu-id="4dc5d-270">Pour plus d’informations, consultez [utilisation des contrôles ToolBar](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="4dc5d-270">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

 