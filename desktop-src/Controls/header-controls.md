---
title: À propos des contrôles Header
description: Un contrôle header est une fenêtre qui est généralement positionnée au-dessus de colonnes de texte ou de nombres. Elle contient un titre pour chaque colonne et peut être divisée en plusieurs parties.
ms.assetid: b464fb9a-e342-4209-ba6f-15b5388f3914
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6d9beaa9dc3bd8eb94d749ec271902a480b853e
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "103730404"
---
# <a name="about-header-controls"></a><span data-ttu-id="0984a-104">À propos des contrôles Header</span><span class="sxs-lookup"><span data-stu-id="0984a-104">About Header Controls</span></span>

<span data-ttu-id="0984a-105">Un contrôle header est une fenêtre qui est généralement positionnée au-dessus de colonnes de texte ou de nombres.</span><span class="sxs-lookup"><span data-stu-id="0984a-105">A header control is a window that is usually positioned above columns of text or numbers.</span></span> <span data-ttu-id="0984a-106">Elle contient un titre pour chaque colonne et peut être divisée en plusieurs parties.</span><span class="sxs-lookup"><span data-stu-id="0984a-106">It contains a title for each column, and it can be divided into parts.</span></span> <span data-ttu-id="0984a-107">L’utilisateur peut faire glisser les séparateurs qui séparent les parties pour définir la largeur de chaque colonne.</span><span class="sxs-lookup"><span data-stu-id="0984a-107">The user can drag the dividers that separate the parts to set the width of each column.</span></span> <span data-ttu-id="0984a-108">L’illustration suivante montre un contrôle header qui contient des colonnes étiquetées qui fournissent des informations détaillées sur les fichiers d’un répertoire.</span><span class="sxs-lookup"><span data-stu-id="0984a-108">The following illustration shows a header control that has labeled columns that give detailed information about files in a directory.</span></span>

![capture d’écran d’une boîte de dialogue avec un contrôle d’en-tête à trois colonnes](images/header.png)

<span data-ttu-id="0984a-110">Vous pouvez créer un contrôle header à l’aide de la fonction [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , en spécifiant la classe de fenêtre d' [**\_ en-tête WC**](common-control-window-classes.md) et les [styles de contrôle d’en-tête](header-control-styles.md)appropriés.</span><span class="sxs-lookup"><span data-stu-id="0984a-110">You can create a header control by using the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**WC\_HEADER**](common-control-window-classes.md) window class and the appropriate [Header Control Styles](header-control-styles.md).</span></span> <span data-ttu-id="0984a-111">Cette classe de fenêtre est inscrite lors du chargement de la DLL de contrôles communs.</span><span class="sxs-lookup"><span data-stu-id="0984a-111">This window class is registered when the common control DLL is loaded.</span></span> <span data-ttu-id="0984a-112">Pour vous assurer que cette DLL est chargée, utilisez la fonction [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) .</span><span class="sxs-lookup"><span data-stu-id="0984a-112">To ensure that this DLL is loaded, use the [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) function.</span></span> <span data-ttu-id="0984a-113">Après avoir créé un contrôle header, vous pouvez le diviser en parties, définir le texte de chaque partie et contrôler l’apparence de la fenêtre à l’aide de messages de fenêtre d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="0984a-113">After you create a header control, you can divide it into parts, set the text in each part, and control the appearance of the window by using header window messages.</span></span>

<span data-ttu-id="0984a-114">Un contrôle header peut être créé en tant que fenêtre enfant d’un autre contrôle, tel qu’une zone de liste.</span><span class="sxs-lookup"><span data-stu-id="0984a-114">A header control can be created as a child window of another control, such as a list box.</span></span> <span data-ttu-id="0984a-115">Toutefois, le contrôle parent n’est pas informé du contrôle header et n’autorise pas l’espace occupé par l’en-tête, avec pour résultat que les éléments de liste apparaîtront derrière l’en-tête.</span><span class="sxs-lookup"><span data-stu-id="0984a-115">However, the parent control is not aware of the header control and does not allow for the space taken up by the header, with the result that list items will appear behind the header.</span></span> <span data-ttu-id="0984a-116">Si vous souhaitez utiliser un contrôle header dans une zone de liste ou un autre contrôle, le contrôle parent doit être owner-drawn afin que tous les éléments s’affichent dans la position correcte.</span><span class="sxs-lookup"><span data-stu-id="0984a-116">If you wish to use a header control in a list box or other control, the parent control must be owner-drawn so that all items are displayed in the correct position.</span></span>

<span data-ttu-id="0984a-117">Les contrôles d’affichage de liste ont déjà des contrôles Header.</span><span class="sxs-lookup"><span data-stu-id="0984a-117">List-view controls already have header controls.</span></span> <span data-ttu-id="0984a-118">Au lieu de créer un contrôle d’en-tête pour un contrôle List-View, vous utilisez [**LVM \_ GETHEADER**](lvm-getheader.md) ou [**ListView \_ GETHEADER**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getheader) pour récupérer le contrôle existant.</span><span class="sxs-lookup"><span data-stu-id="0984a-118">Instead of creating a header control for a list-view control, you use [**LVM\_GETHEADER**](lvm-getheader.md) or [**ListView\_GetHeader**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getheader) to retrieve the existing control.</span></span>

-   [<span data-ttu-id="0984a-119">Taille et position de contrôle d’en-tête</span><span class="sxs-lookup"><span data-stu-id="0984a-119">Header Control Size and Position</span></span>](#header-control-size-and-position)
-   [<span data-ttu-id="0984a-120">Éléments</span><span class="sxs-lookup"><span data-stu-id="0984a-120">Items</span></span>](#items)
-   [<span data-ttu-id="0984a-121">Contrôles Header owner-drawn</span><span class="sxs-lookup"><span data-stu-id="0984a-121">Owner-Drawn Header Controls</span></span>](#owner-drawn-header-controls)
-   [<span data-ttu-id="0984a-122">Filtres de contrôle d’en-tête</span><span class="sxs-lookup"><span data-stu-id="0984a-122">Header Control Filters</span></span>](#header-control-filters)
-   [<span data-ttu-id="0984a-123">Traitement par défaut des messages de contrôle d’en-tête</span><span class="sxs-lookup"><span data-stu-id="0984a-123">Default Header Control Message Processing</span></span>](#default-header-control-message-processing)

## <a name="header-control-size-and-position"></a><span data-ttu-id="0984a-124">Taille et position de contrôle d’en-tête</span><span class="sxs-lookup"><span data-stu-id="0984a-124">Header Control Size and Position</span></span>

<span data-ttu-id="0984a-125">En général, vous devez définir la taille et la position d’un contrôle d’en-tête pour qu’il s’ajuste aux limites d’un rectangle particulier, par exemple la zone cliente d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0984a-125">Typically, you must set the size and position of a header control to fit within the boundaries of a particular rectangle, such as the client area of a window.</span></span> <span data-ttu-id="0984a-126">À l’aide du message de [**\_ disposition HDM**](hdm-layout.md) , vous pouvez récupérer les valeurs de taille et de position appropriées à partir du contrôle header.</span><span class="sxs-lookup"><span data-stu-id="0984a-126">By using the [**HDM\_LAYOUT**](hdm-layout.md) message, you can retrieve the appropriate size and position values from the header control.</span></span>

<span data-ttu-id="0984a-127">Lors de l’envoi de la [**\_ disposition HDM**](hdm-layout.md), vous spécifiez l’adresse d’une structure [**HDLAYOUT**](/windows/win32/api/commctrl/ns-commctrl-hdlayout) qui contient les coordonnées du rectangle que le contrôle header doit occuper et fournit un pointeur vers une structure [**WINDOWPOS**](/windows/win32/api/winuser/ns-winuser-windowpos) .</span><span class="sxs-lookup"><span data-stu-id="0984a-127">When sending [**HDM\_LAYOUT**](hdm-layout.md), you specify the address of an [**HDLAYOUT**](/windows/win32/api/commctrl/ns-commctrl-hdlayout) structure that contains the coordinates of the rectangle that the header control is to occupy and provides a pointer to a [**WINDOWPOS**](/windows/win32/api/winuser/ns-winuser-windowpos) structure.</span></span> <span data-ttu-id="0984a-128">Le contrôle remplit la structure **WINDOWPOS** avec les valeurs de taille et de position appropriées pour positionner le contrôle le long du bord supérieur du rectangle spécifié.</span><span class="sxs-lookup"><span data-stu-id="0984a-128">The control fills the **WINDOWPOS** structure with size and position values appropriate for positioning the control along the top of the specified rectangle.</span></span> <span data-ttu-id="0984a-129">La valeur de hauteur est la somme des hauteurs des bordures horizontales du contrôle et de la hauteur moyenne des caractères de la police actuellement sélectionnée dans le contexte de périphérique du contrôle.</span><span class="sxs-lookup"><span data-stu-id="0984a-129">The height value is the sum of the heights of the control's horizontal borders and the average height of characters in the font currently selected into the control's device context.</span></span>

<span data-ttu-id="0984a-130">Si vous souhaitez utiliser la [**\_ disposition HDM**](hdm-layout.md) pour définir la taille initiale et la position d’un contrôle header, définissez l’état de visibilité initial du contrôle afin qu’il soit masqué.</span><span class="sxs-lookup"><span data-stu-id="0984a-130">If you want to use [**HDM\_LAYOUT**](hdm-layout.md) to set the initial size and position of a header control, set the initial visibility state of the control so that it is hidden.</span></span> <span data-ttu-id="0984a-131">Après avoir envoyé la **\_ disposition HDM** pour récupérer les valeurs de taille et de position, vous pouvez utiliser la fonction [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) pour définir la nouvelle taille, la position et l’état de visibilité.</span><span class="sxs-lookup"><span data-stu-id="0984a-131">After sending **HDM\_LAYOUT** to retrieve the size and position values, you can use the [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) function to set the new size, position, and visibility state.</span></span>

## <a name="items"></a><span data-ttu-id="0984a-132">Éléments</span><span class="sxs-lookup"><span data-stu-id="0984a-132">Items</span></span>

<span data-ttu-id="0984a-133">Un contrôle header contient généralement plusieurs éléments d’en-tête qui définissent les colonnes du contrôle.</span><span class="sxs-lookup"><span data-stu-id="0984a-133">A header control typically has several header items that define the columns of the control.</span></span> <span data-ttu-id="0984a-134">Vous ajoutez un élément à un contrôle header en envoyant le message [**HDM \_ INSERTITEM**](hdm-insertitem.md) au contrôle.</span><span class="sxs-lookup"><span data-stu-id="0984a-134">You add an item to a header control by sending the [**HDM\_INSERTITEM**](hdm-insertitem.md) message to the control.</span></span> <span data-ttu-id="0984a-135">Le message comprend l’adresse d’une structure [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) .</span><span class="sxs-lookup"><span data-stu-id="0984a-135">The message includes the address of an [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure.</span></span> <span data-ttu-id="0984a-136">Cette structure définit les propriétés de l’élément d’en-tête, qui peut inclure une chaîne, une image bitmap, une taille initiale et une valeur **lParam** définie par l’application.</span><span class="sxs-lookup"><span data-stu-id="0984a-136">This structure defines the properties of the header item, which can include a string, a bitmapped image, an initial size, and an application-defined **LPARAM** value.</span></span>

<span data-ttu-id="0984a-137">Le membre **fmt** de la structure [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) d’un élément peut inclure la **\_ chaîne HDF** ou l’indicateur de **\_ bitmap HDF** pour indiquer si le contrôle affiche la chaîne ou l’image bitmap de l’élément.</span><span class="sxs-lookup"><span data-stu-id="0984a-137">The **fmt** member of an item's [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure can include either the **HDF\_STRING** or **HDF\_BITMAP** flag to indicate whether the control displays the item's string or bitmap.</span></span> <span data-ttu-id="0984a-138">Si vous souhaitez afficher à la fois une chaîne et une bitmap, créez un élément owner-drawn en définissant le membre **fmt** de façon à inclure l’indicateur **\_ OwnerDraw HDF** .</span><span class="sxs-lookup"><span data-stu-id="0984a-138">If you want to display both a string and a bitmap, create an owner-drawn item by setting the **fmt** member to include the **HDF\_OWNERDRAW** flag.</span></span> <span data-ttu-id="0984a-139">La structure **HDITEM** spécifie également les indicateurs de mise en forme qui indiquent au contrôle s’il faut centrer, aligner à gauche ou aligner à droite la chaîne ou l’image bitmap dans le rectangle de l’élément.</span><span class="sxs-lookup"><span data-stu-id="0984a-139">The **HDITEM** structure also specifies formatting flags that tell the control whether to center, left-align, or right-align the string or bitmap in the item's rectangle.</span></span>

<span data-ttu-id="0984a-140">[**HDM \_ INSERTITEM**](hdm-insertitem.md) retourne l’index de l’élément qui vient d’être ajouté.</span><span class="sxs-lookup"><span data-stu-id="0984a-140">[**HDM\_INSERTITEM**](hdm-insertitem.md) returns the index of the newly added item.</span></span> <span data-ttu-id="0984a-141">Vous pouvez utiliser l’index dans d’autres messages pour définir des propriétés ou récupérer des informations sur l’élément.</span><span class="sxs-lookup"><span data-stu-id="0984a-141">You can use the index in other messages to set properties or retrieve information about the item.</span></span> <span data-ttu-id="0984a-142">Vous pouvez supprimer un élément à l’aide du message [**HDM \_ DELETEITEM**](hdm-deleteitem.md) , en spécifiant l’index de l’élément à supprimer.</span><span class="sxs-lookup"><span data-stu-id="0984a-142">You can delete an item by using the [**HDM\_DELETEITEM**](hdm-deleteitem.md) message, specifying the index of the item to delete.</span></span>

<span data-ttu-id="0984a-143">Vous pouvez utiliser le message [**HDM \_ SETITEM**](hdm-setitem.md) pour définir les propriétés d’un élément d’en-tête existant et le message [**HDM \_ GETITEM**](hdm-getitem.md) pour récupérer les propriétés actuelles d’un élément.</span><span class="sxs-lookup"><span data-stu-id="0984a-143">You can use the [**HDM\_SETITEM**](hdm-setitem.md) message to set the properties of an existing header item and the [**HDM\_GETITEM**](hdm-getitem.md) message to retrieve the current properties of an item.</span></span> <span data-ttu-id="0984a-144">Pour récupérer le nombre d’éléments dans un contrôle header, utilisez le message [**HDM \_ GETITEMCOUNT**](hdm-getitemcount.md) .</span><span class="sxs-lookup"><span data-stu-id="0984a-144">To retrieve a count of the items in a header control, use the [**HDM\_GETITEMCOUNT**](hdm-getitemcount.md) message.</span></span>

## <a name="owner-drawn-header-controls"></a><span data-ttu-id="0984a-145">Contrôles d’en-tête Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="0984a-145">Owner-Drawn Header Controls</span></span>

<span data-ttu-id="0984a-146">Vous pouvez définir des éléments individuels d’un contrôle header en tant qu’éléments owner-drawn.</span><span class="sxs-lookup"><span data-stu-id="0984a-146">You can define individual items of a header control to be owner-drawn items.</span></span> <span data-ttu-id="0984a-147">L’utilisation de cette technique vous donne plus de contrôle que vous ne le feriez avec l’apparence d’un élément d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="0984a-147">Using this technique gives you more control than you would otherwise have over the appearance of a header item.</span></span>

<span data-ttu-id="0984a-148">Vous pouvez utiliser le message [**HDM \_ INSERTITEM**](hdm-insertitem.md) pour insérer un nouvel élément owner-drawn dans un contrôle header ou le message [**HDM \_ SETITEM**](hdm-setitem.md) pour remplacer un élément existant par un élément owner-drawn.</span><span class="sxs-lookup"><span data-stu-id="0984a-148">You can use the [**HDM\_INSERTITEM**](hdm-insertitem.md) message to insert a new owner-drawn item into a header control or the [**HDM\_SETITEM**](hdm-setitem.md) message to change an existing item to an owner-drawn item.</span></span> <span data-ttu-id="0984a-149">Les deux messages incluent l’adresse d’une structure [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) , qui doit avoir le membre **fmt** défini sur la valeur **\_ OwnerDraw HDF** .</span><span class="sxs-lookup"><span data-stu-id="0984a-149">Both messages include the address of an [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure, which should have the **fmt** member set to the **HDF\_OWNERDRAW** value.</span></span>

<span data-ttu-id="0984a-150">Lorsqu’un contrôle header doit dessiner un élément owner-drawn, il envoie le message [**WM \_ DRAWITEM**](wm-drawitem.md) à la fenêtre parente.</span><span class="sxs-lookup"><span data-stu-id="0984a-150">When a header control must draw an owner-drawn item, it sends the [**WM\_DRAWITEM**](wm-drawitem.md) message to the parent window.</span></span> <span data-ttu-id="0984a-151">Le paramètre *wParam* du message est l’identificateur de fenêtre enfant du contrôle header et le paramètre *lParam* est l’adresse d’une structure [**drawitemstruct,**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) .</span><span class="sxs-lookup"><span data-stu-id="0984a-151">The *wParam* parameter of the message is the child window identifier of the header control, and the *lParam* parameter is an address of a [**DRAWITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) structure.</span></span> <span data-ttu-id="0984a-152">La fenêtre parente utilise les informations de la structure pour dessiner l’élément.</span><span class="sxs-lookup"><span data-stu-id="0984a-152">The parent window uses the information in the structure to draw the item.</span></span> <span data-ttu-id="0984a-153">Pour un élément owner-drawn dans un contrôle header, la structure **drawitemstruct,** contient les informations suivantes.</span><span class="sxs-lookup"><span data-stu-id="0984a-153">For an owner-drawn item in a header control, the **DRAWITEMSTRUCT** structure contains the following information.</span></span>



| <span data-ttu-id="0984a-154">Membre</span><span class="sxs-lookup"><span data-stu-id="0984a-154">Member</span></span>         | <span data-ttu-id="0984a-155">Description</span><span class="sxs-lookup"><span data-stu-id="0984a-155">Description</span></span>                                                                                                                                            |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0984a-156">**CtlType**</span><span class="sxs-lookup"><span data-stu-id="0984a-156">**CtlType**</span></span>    | <span data-ttu-id="0984a-157">[**ODT \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Type de contrôle owner-drawn de l’en-tête.</span><span class="sxs-lookup"><span data-stu-id="0984a-157">[**ODT\_HEADER**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) owner-drawn control type.</span></span>                                                                                        |
| <span data-ttu-id="0984a-158">**CtlID**</span><span class="sxs-lookup"><span data-stu-id="0984a-158">**CtlID**</span></span>      | <span data-ttu-id="0984a-159">Identificateur de la fenêtre enfant du contrôle header.</span><span class="sxs-lookup"><span data-stu-id="0984a-159">Child-window identifier of the header control.</span></span>                                                                                                         |
| <span data-ttu-id="0984a-160">**itemID**</span><span class="sxs-lookup"><span data-stu-id="0984a-160">**itemID**</span></span>     | <span data-ttu-id="0984a-161">Index de l’élément à dessiner.</span><span class="sxs-lookup"><span data-stu-id="0984a-161">Index of the item to be drawn.</span></span>                                                                                                                         |
| <span data-ttu-id="0984a-162">**itemAction**</span><span class="sxs-lookup"><span data-stu-id="0984a-162">**itemAction**</span></span> | <span data-ttu-id="0984a-163">[**Oda \_ DRAWENTIRE**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Drawing-indicateur d’action.</span><span class="sxs-lookup"><span data-stu-id="0984a-163">[**ODA\_DRAWENTIRE**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) drawing-action flag.</span></span>                                                                                         |
| <span data-ttu-id="0984a-164">**itemState**</span><span class="sxs-lookup"><span data-stu-id="0984a-164">**itemState**</span></span>  | <span data-ttu-id="0984a-165">[**ODS \_ Dessin sélectionné**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) -indicateur d’action si le curseur se trouve sur l’élément et que le bouton de la souris est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="0984a-165">[**ODS\_SELECTED**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) drawing-action flag if the cursor is on the item and the mouse button is down.</span></span> <span data-ttu-id="0984a-166">Dans le cas contraire, ce membre est égal à zéro.</span><span class="sxs-lookup"><span data-stu-id="0984a-166">Otherwise, this member is zero.</span></span> |
| <span data-ttu-id="0984a-167">**hwndItem**</span><span class="sxs-lookup"><span data-stu-id="0984a-167">**hwndItem**</span></span>   | <span data-ttu-id="0984a-168">Handle du contrôle d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="0984a-168">Handle to the header control.</span></span>                                                                                                                          |
| <span data-ttu-id="0984a-169">**hDC**</span><span class="sxs-lookup"><span data-stu-id="0984a-169">**hDC**</span></span>        | <span data-ttu-id="0984a-170">Handle vers le contexte de périphérique du contrôle header.</span><span class="sxs-lookup"><span data-stu-id="0984a-170">Handle to the device context of the header control.</span></span>                                                                                                    |
| <span data-ttu-id="0984a-171">**rcItem**</span><span class="sxs-lookup"><span data-stu-id="0984a-171">**rcItem**</span></span>     | <span data-ttu-id="0984a-172">Coordonnées de l’élément d’en-tête à dessiner.</span><span class="sxs-lookup"><span data-stu-id="0984a-172">Coordinates of the header item to be drawn.</span></span> <span data-ttu-id="0984a-173">Les coordonnées sont relatives au coin supérieur gauche du contrôle header.</span><span class="sxs-lookup"><span data-stu-id="0984a-173">The coordinates are relative to the upper-left corner of the header control.</span></span>                               |
| <span data-ttu-id="0984a-174">**DonnéesÉlément**</span><span class="sxs-lookup"><span data-stu-id="0984a-174">**itemData**</span></span>   | <span data-ttu-id="0984a-175">Valeur 32 bits définie par l’application et associée à l’élément.</span><span class="sxs-lookup"><span data-stu-id="0984a-175">Application-defined 32-bit value associated with the item.</span></span>                                                                                             |



 

## <a name="header-control-filters"></a><span data-ttu-id="0984a-176">Filtres de contrôle d’en-tête</span><span class="sxs-lookup"><span data-stu-id="0984a-176">Header Control Filters</span></span>

<span data-ttu-id="0984a-177">En spécifiant le style de fenêtre [**HDS \_ FILTERBAR**](header-control-styles.md) pour un contrôle d’en-tête, vous pouvez activer le positionnement des zones d’édition de filtre sous les en-têtes de colonne.</span><span class="sxs-lookup"><span data-stu-id="0984a-177">By specifying the [**HDS\_FILTERBAR**](header-control-styles.md) window style for a header control, you can enable the placement of filter edit boxes underneath the column headings.</span></span> <span data-ttu-id="0984a-178">Un bouton de filtre s’affiche à côté de la zone d’édition.</span><span class="sxs-lookup"><span data-stu-id="0984a-178">A filter button appears beside the edit box.</span></span> <span data-ttu-id="0984a-179">Vous pouvez implémenter le filtrage en répondant aux codes de notification [HDN \_ BEGINFILTEREDIT](hdn-beginfilteredit.md), [HDN \_ ENDFILTEREDIT](hdn-endfilteredit.md), [HDN \_ FILTERBTNCLICK](hdn-filterbtnclick.md)ou [HDN \_ ](hdn-filterchange.md) FILTERCHANGE.</span><span class="sxs-lookup"><span data-stu-id="0984a-179">You can implement filtering by responding to [HDN\_BEGINFILTEREDIT](hdn-beginfilteredit.md), [HDN\_ENDFILTEREDIT](hdn-endfilteredit.md), [HDN\_FILTERBTNCLICK](hdn-filterbtnclick.md), or [HDN\_FILTERCHANGE](hdn-filterchange.md) notification codes.</span></span>

<span data-ttu-id="0984a-180">Par défaut, la zone d’édition contient une invite demandant à l’utilisateur d’entrer du texte.</span><span class="sxs-lookup"><span data-stu-id="0984a-180">By default, the edit box contains a prompt for the user to enter text.</span></span> <span data-ttu-id="0984a-181">Vous pouvez restaurer la zone d’édition à cet État par défaut en utilisant l' [**en-tête \_ ClearFilter**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearfilter) ou l' [**en-tête \_ ClearAllFilters**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearallfilters).</span><span class="sxs-lookup"><span data-stu-id="0984a-181">You can restore the edit box to this default state by using [**Header\_ClearFilter**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearfilter) or [**Header\_ClearAllFilters**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearallfilters).</span></span>

<span data-ttu-id="0984a-182">L’exemple de code suivant montre comment récupérer le contrôle header d’un contrôle List View et comment ajouter une barre de filtre.</span><span class="sxs-lookup"><span data-stu-id="0984a-182">The following code example shows how to retrieve the header control from a list-view control and add a filter bar.</span></span>


```
// hList is the HWND of the list-view control.
HWND hHeader = ListView_GetHeader(hList);
LONG_PTR styles = GetWindowLongPtr(hHeader, GWL_STYLE);
SetWindowLongPtr(g_hHeader, GWL_STYLE, styles | HDS_FILTERBAR);
```



## <a name="default-header-control-message-processing"></a><span data-ttu-id="0984a-183">Traitement par défaut des messages de contrôle d’en-tête</span><span class="sxs-lookup"><span data-stu-id="0984a-183">Default Header Control Message Processing</span></span>

<span data-ttu-id="0984a-184">Cette section décrit les messages de fenêtre gérés par la procédure de fenêtre pour la classe de fenêtre d' [**\_ en-tête WC**](common-control-window-classes.md) .</span><span class="sxs-lookup"><span data-stu-id="0984a-184">This section describes the window messages handled by the window procedure for the [**WC\_HEADER**](common-control-window-classes.md) window class.</span></span>



| <span data-ttu-id="0984a-185">Message</span><span class="sxs-lookup"><span data-stu-id="0984a-185">Message</span></span>                                            | <span data-ttu-id="0984a-186">Traitement effectué</span><span class="sxs-lookup"><span data-stu-id="0984a-186">Processing performed</span></span>                                                                                                                                                                                                                                                                                          |
|----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="0984a-187">**création de WM \_**</span><span class="sxs-lookup"><span data-stu-id="0984a-187">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)                 | <span data-ttu-id="0984a-188">Initialise le contrôle header.</span><span class="sxs-lookup"><span data-stu-id="0984a-188">Initializes the header control.</span></span>                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="0984a-189">**\_destructeur WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-189">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)               | <span data-ttu-id="0984a-190">Réinitialise le contrôle header.</span><span class="sxs-lookup"><span data-stu-id="0984a-190">Uninitializes the header control.</span></span>                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="0984a-191">**\_ERASEBKGND WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-191">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="0984a-192">Remplit l’arrière-plan du contrôle d’en-tête à l’aide de la couleur d’arrière-plan actuelle du contrôle.</span><span class="sxs-lookup"><span data-stu-id="0984a-192">Fills the background of the header control using the control's current background color.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="0984a-193">**\_GETDLGCODE WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-193">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)         | <span data-ttu-id="0984a-194">Retourne une combinaison des valeurs [**DLGC \_ WANTTAB**](/windows/desktop/dlgbox/wm-getdlgcode) et [**DLGC \_ WANTARROWS**](/windows/desktop/dlgbox/wm-getdlgcode) .</span><span class="sxs-lookup"><span data-stu-id="0984a-194">Returns a combination of the [**DLGC\_WANTTAB**](/windows/desktop/dlgbox/wm-getdlgcode) and [**DLGC\_WANTARROWS**](/windows/desktop/dlgbox/wm-getdlgcode) values.</span></span>                                                                                                                     |
| [<span data-ttu-id="0984a-195">**WM \_ GETFONT**</span><span class="sxs-lookup"><span data-stu-id="0984a-195">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="0984a-196">Retourne le handle de la police actuelle, qui est utilisé par le contrôle header pour dessiner son texte.</span><span class="sxs-lookup"><span data-stu-id="0984a-196">Returns the handle to the current font, which is used by the header control to draw its text.</span></span>                                                                                                                                                                                                                 |
| [<span data-ttu-id="0984a-197">**\_LBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-197">**WM\_LBUTTONDBLCLK**</span></span>](/windows/desktop/inputdev/wm-lbuttondblclk) | <span data-ttu-id="0984a-198">Capture l’entrée de la souris.</span><span class="sxs-lookup"><span data-stu-id="0984a-198">Captures mouse input.</span></span> <span data-ttu-id="0984a-199">Si le curseur de la souris se trouve sur un séparateur, le contrôle envoie le code de notification [HDN \_ BEGINTRACK](hdn-begintrack.md) et commence à faire glisser le séparateur.</span><span class="sxs-lookup"><span data-stu-id="0984a-199">If the mouse cursor is on a divider, the control sends the [HDN\_BEGINTRACK](hdn-begintrack.md) notification code and begins dragging the divider.</span></span> <span data-ttu-id="0984a-200">Si le curseur se trouve sur un élément, l’élément est affiché dans un état appuyé.</span><span class="sxs-lookup"><span data-stu-id="0984a-200">If the cursor is on an item, the item is displayed in the pressed state.</span></span>                                                            |
| [<span data-ttu-id="0984a-201">**\_LBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-201">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="0984a-202">Identique au message [**WM \_ LBUTTONDBLCLK**](/windows/desktop/inputdev/wm-lbuttondblclk) .</span><span class="sxs-lookup"><span data-stu-id="0984a-202">Same as the [**WM\_LBUTTONDBLCLK**](/windows/desktop/inputdev/wm-lbuttondblclk) message.</span></span>                                                                                                                                                                                                                                       |
| [<span data-ttu-id="0984a-203">**\_LBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-203">**WM\_LBUTTONUP**</span></span>](/windows/desktop/inputdev/wm-lbuttonup)         | <span data-ttu-id="0984a-204">Libère la capture de la souris.</span><span class="sxs-lookup"><span data-stu-id="0984a-204">Releases the mouse capture.</span></span> <span data-ttu-id="0984a-205">Si le contrôle effectuait le suivi du mouvement de la souris, il envoie le code de notification [HDN \_ ENDTRACK](hdn-endtrack.md) et redessine le contrôle d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="0984a-205">If the control was tracking mouse movement, it sends the [HDN\_ENDTRACK](hdn-endtrack.md) notification code and redraws the header control.</span></span> <span data-ttu-id="0984a-206">Sinon, le contrôle envoie le code de notification [HDN \_ ITEMCLICK](hdn-itemclick.md) et redessine l’élément d’en-tête sur lequel l’utilisateur a cliqué.</span><span class="sxs-lookup"><span data-stu-id="0984a-206">Otherwise, the control sends the [HDN\_ITEMCLICK](hdn-itemclick.md) notification code and redraws the header item that was clicked.</span></span> |
| [<span data-ttu-id="0984a-207">**WM \_ MOUSEMOVE**</span><span class="sxs-lookup"><span data-stu-id="0984a-207">**WM\_MOUSEMOVE**</span></span>](/windows/desktop/inputdev/wm-mousemove)         | <span data-ttu-id="0984a-208">Si un séparateur est glissé, le contrôle envoie le code de notification de [ \_ piste HDN](hdn-track.md) et affiche l’élément à la nouvelle position.</span><span class="sxs-lookup"><span data-stu-id="0984a-208">If a divider is being dragged, the control sends the [HDN\_TRACK](hdn-track.md) notification code and displays the item at the new position.</span></span> <span data-ttu-id="0984a-209">Si le bouton gauche de la souris est enfoncé et que le curseur se trouve sur un élément, l’élément est affiché dans un état appuyé.</span><span class="sxs-lookup"><span data-stu-id="0984a-209">If the left mouse button is down and the cursor is on an item, the item is displayed in the pressed state.</span></span>                                                      |
| [<span data-ttu-id="0984a-210">**\_NCCREATE WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-210">**WM\_NCCREATE**</span></span>](/windows/desktop/winmsg/wm-nccreate)             | <span data-ttu-id="0984a-211">Alloue et Initialise une structure de données interne.</span><span class="sxs-lookup"><span data-stu-id="0984a-211">Allocates and initializes an internal data structure.</span></span>                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="0984a-212">**\_NCDESTROY WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-212">**WM\_NCDESTROY**</span></span>](/windows/desktop/winmsg/wm-ncdestroy)           | <span data-ttu-id="0984a-213">Libère les ressources allouées par le contrôle header après que le contrôle header n’a pas été initialisé.</span><span class="sxs-lookup"><span data-stu-id="0984a-213">Frees the resources allocated by the header control after the header control is uninitialized.</span></span>                                                                                                                                                                                                                |
| [<span data-ttu-id="0984a-214">**\_peinture WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-214">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                      | <span data-ttu-id="0984a-215">Peint la région non valide du contrôle header.</span><span class="sxs-lookup"><span data-stu-id="0984a-215">Paints the invalid region of the header control.</span></span> <span data-ttu-id="0984a-216">Si le paramètre *wParam* est non null, le contrôle suppose que la valeur est un HDC et peint à l’aide de ce contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="0984a-216">If the *wParam* parameter is non-NULL, the control assumes that the value is an HDC and paints using that device context.</span></span>                                                                                                                                    |
| [<span data-ttu-id="0984a-217">**\_SETCURSOR WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-217">**WM\_SETCURSOR**</span></span>](/windows/desktop/menurc/wm-setcursor)           | <span data-ttu-id="0984a-218">Définit la forme du curseur, selon que le curseur se trouve sur un séparateur ou dans un élément d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="0984a-218">Sets the cursor shape, depending on whether the cursor is on a divider or in a header item.</span></span>                                                                                                                                                                                                                   |
| [<span data-ttu-id="0984a-219">**\_SetFont WM**</span><span class="sxs-lookup"><span data-stu-id="0984a-219">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)               | <span data-ttu-id="0984a-220">Sélectionne un nouveau handle de police dans le contexte de périphérique pour le contrôle d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="0984a-220">Selects a new font handle into the device context for the header control.</span></span>                                                                                                                                                                                                                                     |



 

 

 