---
description: Objet volume
ms.assetid: 92013015-b0f5-4b92-937b-c2637f65810c
title: Objet volume
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e47092a237e7b0e9441b08c410d95d0836dbdb7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106538402"
---
# <a name="volume-object"></a><span data-ttu-id="bdb39-103">Objet volume</span><span class="sxs-lookup"><span data-stu-id="bdb39-103">Volume Object</span></span>

<span data-ttu-id="bdb39-104">\[À compter de Windows 8 et de Windows Server 2012, l’interface com du [service de disque virtuel](virtual-disk-service-portal.md) est remplacée par l' [API de gestion de stockage Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span><span class="sxs-lookup"><span data-stu-id="bdb39-104">\[Beginning with Windows 8 and Windows Server 2012, the [Virtual Disk Service](virtual-disk-service-portal.md) COM interface is superseded by the [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span></span>

<span data-ttu-id="bdb39-105">Un objet volume modélise une unité de stockage logique créée par un fournisseur de logiciels et présentée au système de fichiers en tant que disque.</span><span class="sxs-lookup"><span data-stu-id="bdb39-105">A volume object models a logical storage unit that is created by a software provider and presented to the file system as a disk.</span></span> <span data-ttu-id="bdb39-106">Chaque volume comprend au moins un plex de volume, qui est à son tour composé d’étendues provenant d’un ou de plusieurs disques.</span><span class="sxs-lookup"><span data-stu-id="bdb39-106">Each volume comprises at least one volume plex, which is in turn composed of extents from one or more disks.</span></span>

## <a name="volume-types"></a><span data-ttu-id="bdb39-107">Types de volume</span><span class="sxs-lookup"><span data-stu-id="bdb39-107">Volume Types</span></span>

<span data-ttu-id="bdb39-108">VDS prend en charge cinq types de volumes : simple, fractionné, agrégé par bandes, en miroir et agrégé par bandes avec parité.</span><span class="sxs-lookup"><span data-stu-id="bdb39-108">VDS supports five volume types: simple, spanned, striped, mirrored, and striped with parity.</span></span> <span data-ttu-id="bdb39-109">Les volumes simples, fractionnés et agrégés par bandes ne tolèrent pas les erreurs ; les volumes en miroir et en parité sont tolérants aux pannes.</span><span class="sxs-lookup"><span data-stu-id="bdb39-109">Simple, spanned, and striped volumes are non-fault tolerant; mirrored and parity volumes are fault tolerant.</span></span> <span data-ttu-id="bdb39-110">Le reste de cette section décrit chacun des types de volume VDS.</span><span class="sxs-lookup"><span data-stu-id="bdb39-110">The remainder of this section describes each of the VDS volume types.</span></span>

-   <span data-ttu-id="bdb39-111">Un volume simple est une partie d’un disque physique qui fonctionne comme s’il s’agissait d’une unité physiquement distincte.</span><span class="sxs-lookup"><span data-stu-id="bdb39-111">A simple volume is a portion of a physical disk that functions as though it were a physically separate unit.</span></span> <span data-ttu-id="bdb39-112">Un volume simple peut se composer d’une seule région sur un disque ou de plusieurs régions du même disque qui sont liées entre elles.</span><span class="sxs-lookup"><span data-stu-id="bdb39-112">A simple volume can consist of a single region on a disk or multiple regions of the same disk that are linked together.</span></span>
-   <span data-ttu-id="bdb39-113">Un volume fractionné associe des zones d’espace non alloué de plusieurs disques en un seul volume logique, ce qui vous permet d’utiliser plus efficacement tout l’espace et toutes les lettres de lecteur sur un système à plusieurs disques.</span><span class="sxs-lookup"><span data-stu-id="bdb39-113">A spanned volume combines areas of unallocated space from multiple disks into one logical volume, allowing you to more efficiently use all of the space and all the drive letters on a multiple-disk system.</span></span>
-   <span data-ttu-id="bdb39-114">Un volume agrégé par bandes est créé en combinant les zones d’espace libre sur deux disques ou plus en un seul volume logique.</span><span class="sxs-lookup"><span data-stu-id="bdb39-114">A striped volume is created by combining areas of free space on two or more disks into one logical volume.</span></span> <span data-ttu-id="bdb39-115">Les volumes agrégés par bandes utilisent RAID-0, qui répartit les données sur plusieurs disques.</span><span class="sxs-lookup"><span data-stu-id="bdb39-115">Striped volumes use RAID-0, which stripes data across multiple disks.</span></span> <span data-ttu-id="bdb39-116">Les volumes agrégés par bandes ne peuvent pas être étendus ou mis en miroir et n’offrent pas de tolérance de panne.</span><span class="sxs-lookup"><span data-stu-id="bdb39-116">Striped volumes cannot be extended or mirrored, and do not offer fault tolerance.</span></span> <span data-ttu-id="bdb39-117">Si l’un des disques contenant un volume agrégé par bandes échoue, l’ensemble du volume échoue.</span><span class="sxs-lookup"><span data-stu-id="bdb39-117">If one of the disks containing a striped volume fails, the entire volume fails.</span></span> <span data-ttu-id="bdb39-118">Lors de la création de volumes agrégés par bandes, il est préférable d’utiliser des disques de la même taille, du même modèle et du même fabricant.</span><span class="sxs-lookup"><span data-stu-id="bdb39-118">When creating striped volumes, it is best to use disks that are of the same size, model, and manufacturer.</span></span>
-   <span data-ttu-id="bdb39-119">Un volume en miroir est un volume à tolérance de panne qui fournit une redondance des données en utilisant deux copies, ou Plex, du volume pour dupliquer les données stockées sur le volume.</span><span class="sxs-lookup"><span data-stu-id="bdb39-119">A mirrored volume is a fault-tolerant volume that provides data redundancy by using two copies, or plexes, of the volume to duplicate the data that is stored on the volume.</span></span> <span data-ttu-id="bdb39-120">Toutes les données écrites sur le volume en miroir sont écrites sur les deux Plex, qui se trouvent sur des disques physiques distincts.</span><span class="sxs-lookup"><span data-stu-id="bdb39-120">All data that is written to the mirrored volume is written to both plexes, which are located on separate physical disks.</span></span> <span data-ttu-id="bdb39-121">En cas de défaillance de l’un des disques physiques, les données du disque défaillant deviennent indisponibles, mais le système continue à fonctionner à l’aide du disque non affecté.</span><span class="sxs-lookup"><span data-stu-id="bdb39-121">If one of the physical disks fails, the data on the failed disk becomes unavailable, but the system continues to operate using the unaffected disk.</span></span>
-   <span data-ttu-id="bdb39-122">Un volume agrégé par bandes avec parité est un volume à tolérance de panne avec des données et une parité entrelacées par intermittence sur au moins trois disques physiques.</span><span class="sxs-lookup"><span data-stu-id="bdb39-122">A striped with parity volume is a fault-tolerant volume with data and parity striped intermittently across three or more physical disks.</span></span> <span data-ttu-id="bdb39-123">En cas de défaillance d’une partie d’un disque physique, vous pouvez recréer les données qui se trouvaient sur la partie défaillante à partir des données restantes et de la parité.</span><span class="sxs-lookup"><span data-stu-id="bdb39-123">If a portion of a physical disk fails, you can recreate the data that was on the failed portion from the remaining data and parity.</span></span> <span data-ttu-id="bdb39-124">Ce type de volume (également appelé volume RAID-5) est une bonne solution pour la redondance des données dans un environnement informatique dans lequel la plupart des activités consistent à lire des données.</span><span class="sxs-lookup"><span data-stu-id="bdb39-124">This volume type (also called a RAID-5 volume) is a good solution for data redundancy in a computer environment in which most activity consists of reading data.</span></span>

### <a name="volume-creation"></a><span data-ttu-id="bdb39-125">Création du volume</span><span class="sxs-lookup"><span data-stu-id="bdb39-125">Volume Creation</span></span>

<span data-ttu-id="bdb39-126">Les fournisseurs de logiciels de base et dynamiques prennent en charge la création de volumes partiellement dirigés. un appelant spécifie uniquement les attributs qui présentent un intérêt particulier et permet au fournisseur de choisir le reste.</span><span class="sxs-lookup"><span data-stu-id="bdb39-126">Basic and dynamic software providers support partially directed volume creation; a caller specifies only those attributes that are of particular interest, and allows the provider to choose the rest.</span></span> <span data-ttu-id="bdb39-127">VDS monte automatiquement un volume nouvellement créé, sauf sur les plateformes Windows Server 2003, Enterprise Edition et Windows Server 2003, Datacenter Edition.</span><span class="sxs-lookup"><span data-stu-id="bdb39-127">VDS mounts a newly created volume automatically, except on Windows Server 2003, Enterprise Edition and Windows Server 2003, Datacenter Edition platforms.</span></span>

### <a name="working-with-volumes"></a><span data-ttu-id="bdb39-128">Utilisation des volumes</span><span class="sxs-lookup"><span data-stu-id="bdb39-128">Working with Volumes</span></span>

<span data-ttu-id="bdb39-129">Créez toujours un volume dans le même Pack que les disques qui y participent.</span><span class="sxs-lookup"><span data-stu-id="bdb39-129">Always create a volume within the same pack as the disks that contribute to it.</span></span> <span data-ttu-id="bdb39-130">Utilisez la méthode [**IVdsPack :: CreateVolume**](/windows/desktop/api/Vds/nf-vds-ivdspack-createvolume) pour créer un objet de volume.</span><span class="sxs-lookup"><span data-stu-id="bdb39-130">Use the [**IVdsPack::CreateVolume**](/windows/desktop/api/Vds/nf-vds-ivdspack-createvolume) method to create a new volume object.</span></span> <span data-ttu-id="bdb39-131">Vous pouvez déterminer les volumes contenus dans un pack spécifique en appelant la méthode [**QueryVolumes**](/windows/desktop/api/Vds/nf-vds-ivdspack-queryvolumes) , également exposée par [**IVdsPack**](/windows/desktop/api/Vds/nn-vds-ivdspack).</span><span class="sxs-lookup"><span data-stu-id="bdb39-131">You can determine the volumes that are contained within a specific pack by invoking the [**QueryVolumes**](/windows/desktop/api/Vds/nf-vds-ivdspack-queryvolumes) method, also exposed by [**IVdsPack**](/windows/desktop/api/Vds/nn-vds-ivdspack).</span></span> <span data-ttu-id="bdb39-132">Un appelant peut obtenir un pointeur vers un volume spécifique en sélectionnant l’objet de volume souhaité dans l’énumération retournée par **QueryVolumes**.</span><span class="sxs-lookup"><span data-stu-id="bdb39-132">A caller can get a pointer to a specific volume by selecting the desired volume object from the enumeration that is returned by **QueryVolumes**.</span></span> <span data-ttu-id="bdb39-133">Avec un objet volume, vous pouvez définir l’État. requête pour les plex ; Étendez et réduisez le volume ; Ajouter, rompre et supprimer des plex ; et supprimez le volume.</span><span class="sxs-lookup"><span data-stu-id="bdb39-133">With a volume object, you can set the status; query for plexes; extend and shrink the volume; add, break, and remove plexes; and delete the volume.</span></span>

<span data-ttu-id="bdb39-134">En plus de l’identificateur d’objet, d’un nom et d’un numéro de série, les propriétés de l’objet volume incluent le type de volume, la taille, l’État, l’intégrité, l’état de transition, les indicateurs et un type de système de fichiers recommandé.</span><span class="sxs-lookup"><span data-stu-id="bdb39-134">In addition to an object identifier, a name, and a serial number, volume object properties include the volume type, size, status, health, transition state, flags, and a recommended file system type.</span></span>

<span data-ttu-id="bdb39-135">Le tableau suivant répertorie les interfaces, énumérations et structures associées.</span><span class="sxs-lookup"><span data-stu-id="bdb39-135">The following table lists related interfaces, enumerations, and structures.</span></span>



| <span data-ttu-id="bdb39-136">Type</span><span class="sxs-lookup"><span data-stu-id="bdb39-136">Type</span></span>                                              | <span data-ttu-id="bdb39-137">Élément</span><span class="sxs-lookup"><span data-stu-id="bdb39-137">Element</span></span>                                                                                                                                                                                                               |
|---------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="bdb39-138">Interfaces toujours exposées par cet objet</span><span class="sxs-lookup"><span data-stu-id="bdb39-138">Interfaces that are always exposed by this object</span></span> | <span data-ttu-id="bdb39-139">[**IVdsVolume**](/windows/desktop/api/Vds/nn-vds-ivdsvolume), [**IVdsVolumeMF**](/windows/desktop/api/Vds/nn-vds-ivdsvolumemf), [**IVdsVolumeMF2**](/windows/desktop/api/Vds/nn-vds-ivdsvolumemf2) \* , [**IVdsVolumeOnline**](/windows/desktop/api/Vds/nn-vds-ivdsvolumeonline) \* et [**IVdsVolumeShrink**](/windows/desktop/api/Vds/nn-vds-ivdsvolumeshrink) \* .</span><span class="sxs-lookup"><span data-stu-id="bdb39-139">[**IVdsVolume**](/windows/desktop/api/Vds/nn-vds-ivdsvolume), [**IVdsVolumeMF**](/windows/desktop/api/Vds/nn-vds-ivdsvolumemf), [**IVdsVolumeMF2**](/windows/desktop/api/Vds/nn-vds-ivdsvolumemf2)\*, [**IVdsVolumeOnline**](/windows/desktop/api/Vds/nn-vds-ivdsvolumeonline)\*, and [**IVdsVolumeShrink**](/windows/desktop/api/Vds/nn-vds-ivdsvolumeshrink)\*.</span></span> |
| <span data-ttu-id="bdb39-140">Énumérations associées</span><span class="sxs-lookup"><span data-stu-id="bdb39-140">Associated enumerations</span></span>                           | <span data-ttu-id="bdb39-141">[**VDS \_ \_Indicateur de volume**](/windows/desktop/api/Vds/ne-vds-vds_volume_flag), [**\_ \_ État du volume VDS**](/windows/desktop/api/Vds/ne-vds-vds_volume_status), [**\_ \_ type de volume VDS**](/windows/desktop/api/Vds/ne-vds-vds_volume_type)et [**\_ \_ \_ type d’étendue de disque VDS**](/windows/desktop/api/Vds/ne-vds-vds_disk_extent_type).</span><span class="sxs-lookup"><span data-stu-id="bdb39-141">[**VDS\_VOLUME\_FLAG**](/windows/desktop/api/Vds/ne-vds-vds_volume_flag), [**VDS\_VOLUME\_STATUS**](/windows/desktop/api/Vds/ne-vds-vds_volume_status), [**VDS\_VOLUME\_TYPE**](/windows/desktop/api/Vds/ne-vds-vds_volume_type), and [**VDS\_DISK\_EXTENT\_TYPE**](/windows/desktop/api/Vds/ne-vds-vds_disk_extent_type).</span></span>            |
| <span data-ttu-id="bdb39-142">Structures associées</span><span class="sxs-lookup"><span data-stu-id="bdb39-142">Associated structures</span></span>                             | <span data-ttu-id="bdb39-143">[**VDS \_ La \_ prop**](/windows/desktop/api/Vds/ns-vds-vds_volume_prop) du volume et la [**\_ \_ notification du volume VDS**](/windows/desktop/api/Vds/ns-vds-vds_volume_notification).</span><span class="sxs-lookup"><span data-stu-id="bdb39-143">[**VDS\_VOLUME\_PROP**](/windows/desktop/api/Vds/ns-vds-vds_volume_prop) and [**VDS\_VOLUME\_NOTIFICATION**](/windows/desktop/api/Vds/ns-vds-vds_volume_notification).</span></span>                                                                                                        |



 

<span data-ttu-id="bdb39-144">**\* Windows Server 2003 :** ces interfaces ne sont pas prises en charge jusqu’à Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="bdb39-144">**\*Windows Server 2003:** These interfaces are not supported until Windows Vista.</span></span>

## <a name="related-topics"></a><span data-ttu-id="bdb39-145">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="bdb39-145">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="bdb39-146">Objets de fournisseur de logiciels</span><span class="sxs-lookup"><span data-stu-id="bdb39-146">Software Provider Objects</span></span>](software-provider-objects.md)
</dt> </dl>

 

 
