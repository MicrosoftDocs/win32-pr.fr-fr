---
description: Objet Pack
ms.assetid: e84a05a0-ea12-4bc1-83e1-1eb0dd291dc9
title: Objet Pack
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 02b01978747df5ccc273a31ae2f516b35c01df96
ms.sourcegitcommit: 37f276b5d887a3aad04b1ba86e390dea9d87e591
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/04/2021
ms.locfileid: "104570194"
---
# <a name="pack-object"></a><span data-ttu-id="937bc-103">Objet Pack</span><span class="sxs-lookup"><span data-stu-id="937bc-103">Pack Object</span></span>

<span data-ttu-id="937bc-104">\[À compter de Windows 8 et de Windows Server 2012, l’interface com du [service de disque virtuel](virtual-disk-service-portal.md) est remplacée par l' [API de gestion de stockage Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span><span class="sxs-lookup"><span data-stu-id="937bc-104">\[Beginning with Windows 8 and Windows Server 2012, the [Virtual Disk Service](virtual-disk-service-portal.md) COM interface is superseded by the [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span></span>

<span data-ttu-id="937bc-105">Un objet Pack modélise un groupe de disques, un ensemble de disques et de volumes gérés par le fournisseur de logiciels de base ou dynamique.</span><span class="sxs-lookup"><span data-stu-id="937bc-105">A pack object models a disk group, a collection of disks and volumes managed by the basic or dynamic software provider.</span></span> <span data-ttu-id="937bc-106">Un fournisseur peut contenir plusieurs objets Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-106">A provider can contain multiple pack objects.</span></span>

<span data-ttu-id="937bc-107">À l’aide de l’API, les applications peuvent diriger VDS pour ajouter un ou plusieurs disques à un Pack, lier les disques à des volumes et éventuellement déplacer les disques en tant qu’unité entre les ordinateurs hôtes.</span><span class="sxs-lookup"><span data-stu-id="937bc-107">Using the API, applications can direct VDS to add one or more disks to a pack, bind the disks into volumes, and optionally move the disks as a unit between hosts.</span></span> <span data-ttu-id="937bc-108">Vous ne pouvez pas importer un volume existant dans un Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-108">You cannot import an existing volume into a pack.</span></span>

> [!Note]  
> <span data-ttu-id="937bc-109">L’appartenance à un Pack n’implique pas la cohérence entre les disques en ce qui concerne les performances, les médias, le protocole d’interconnexion ou d’autres caractéristiques.</span><span class="sxs-lookup"><span data-stu-id="937bc-109">Membership in a pack does not imply consistency among disks with respect to performance, media, interconnection protocol, or other characteristics.</span></span>

 

<span data-ttu-id="937bc-110">Les objets disque ne sont pas alloués et gérés par VDS, ou ils sont membres d’un seul Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-110">Disk objects are either unallocated, and managed by VDS, or are members of exactly one pack.</span></span> <span data-ttu-id="937bc-111">Le fournisseur de logiciels de base peut comporter zéro, un ou plusieurs packs, chacun contenant un seul disque de base.</span><span class="sxs-lookup"><span data-stu-id="937bc-111">The basic software provider can have zero or more packs, each containing a single basic disk.</span></span> <span data-ttu-id="937bc-112">Le fournisseur n’impose aucune limite au nombre de volumes sur un disque de base.</span><span class="sxs-lookup"><span data-stu-id="937bc-112">The provider imposes no limits to the number of volumes on a basic disk.</span></span> <span data-ttu-id="937bc-113">Le fournisseur dynamique peut avoir zéro, un ou plusieurs packs avec plusieurs disques dynamiques dans chaque Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-113">The dynamic provider can have zero or more packs with multiple dynamic disks in each pack.</span></span> <span data-ttu-id="937bc-114">Ce fournisseur limite le nombre de volumes sur un disque, en fonction de la taille d’un mégaoctet de la base de données du gestionnaire de disque logique (LDM).</span><span class="sxs-lookup"><span data-stu-id="937bc-114">This provider limits the number of volumes on a disk, based on the one-megabyte size of the logical disk manager (LDM) database.</span></span> <span data-ttu-id="937bc-115">Étant donné qu’un volume a au moins un plex et une extension de disque, le nombre maximal de volumes pour un Pack est d’environ 1000.</span><span class="sxs-lookup"><span data-stu-id="937bc-115">Given that a volume has at least one plex and one disk extent, the maximum number of volumes to a pack is approximately 1000.</span></span> <span data-ttu-id="937bc-116">Le nombre maximal de disques tombe en panne.</span><span class="sxs-lookup"><span data-stu-id="937bc-116">The maximum number goes down as the number of disks goes up.</span></span>

<span data-ttu-id="937bc-117">En plus des objets disque, un pack peut contenir un ou plusieurs objets LUN implémentés par un ou plusieurs fournisseurs de matériel.</span><span class="sxs-lookup"><span data-stu-id="937bc-117">In addition to disk objects, a pack can contain one or more LUN objects implemented by one or more hardware providers.</span></span> <span data-ttu-id="937bc-118">Pour le noyau Windows, un numéro d’unité logique est simplement un autre disque.</span><span class="sxs-lookup"><span data-stu-id="937bc-118">To the Windows kernel, a LUN is just another disk.</span></span> <span data-ttu-id="937bc-119">(Les objets LUN doivent être démasqués sur l’ordinateur qui exécute le programme fournisseur.) Lorsque le disque est un numéro d’unité logique (LUN), l’objet LUN expose les interfaces [**IVdsLun**](/windows/desktop/api/Vds/nn-vds-ivdslun) et [**IVdsDisk**](/windows/desktop/api/Vds/nn-vds-ivdsdisk) .</span><span class="sxs-lookup"><span data-stu-id="937bc-119">(LUN objects must be unmasked to the computer that is executing the provider program.) When the disk is a LUN, the LUN object exposes both the [**IVdsLun**](/windows/desktop/api/Vds/nn-vds-ivdslun) and [**IVdsDisk**](/windows/desktop/api/Vds/nn-vds-ivdsdisk) interfaces.</span></span> <span data-ttu-id="937bc-120">Un objet Pack utilise **IVdsDisk**, au lieu de **IVdsLun**, pour énumérer les numéros d’unités logiques dans un Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-120">A pack object uses **IVdsDisk**, instead of **IVdsLun**, to enumerate the LUNs in a pack.</span></span> <span data-ttu-id="937bc-121">Pour obtenir une description plus détaillée d’un numéro d’unité logique, consultez l' [objet lun](lun-object.md).</span><span class="sxs-lookup"><span data-stu-id="937bc-121">For a more detailed description of a LUN, see the [LUN Object](lun-object.md).</span></span>

<span data-ttu-id="937bc-122">L’illustration suivante montre un pack avec deux membres : un disque et un numéro d’unité logique (LUN).</span><span class="sxs-lookup"><span data-stu-id="937bc-122">The following illustration shows a pack with two members: a disk and a LUN.</span></span> <span data-ttu-id="937bc-123">Une application peut ajouter ces objets à un Pack en ligne et créer un volume à partir du disque sous-jacent et des étendues de lecteur représentées par des piles de disques.</span><span class="sxs-lookup"><span data-stu-id="937bc-123">An application can add these objects to an online pack and create a volume from the underlying disk and drive extents represented by spindles.</span></span>

![Diagramme montrant un « pack » avec un disque et un LUN ajouté par une application pour créer un volume représenté par un « lecteur » et un « axe ».](images/vdsdisksareluns.png)

<span data-ttu-id="937bc-125">Utilisez la méthode [**IVdsSwProvider :: CreatePack**](/windows/desktop/api/Vds/nf-vds-ivdsswprovider-createpack) pour créer un nouvel objet Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-125">Use the [**IVdsSwProvider::CreatePack**](/windows/desktop/api/Vds/nf-vds-ivdsswprovider-createpack) method to create a new pack object.</span></span> <span data-ttu-id="937bc-126">Les appelants peuvent obtenir un pointeur vers un pack spécifique en sélectionnant l’objet Pack souhaité dans l’énumération retournée par la méthode [**IVdsSwProvider :: QueryPacks**](/windows/desktop/api/Vds/nf-vds-ivdsswprovider-querypacks) .</span><span class="sxs-lookup"><span data-stu-id="937bc-126">Callers can get a pointer to a specific pack by selecting the desired pack object from the enumeration that is returned by the [**IVdsSwProvider:: QueryPacks**](/windows/desktop/api/Vds/nf-vds-ivdsswprovider-querypacks) method.</span></span> <span data-ttu-id="937bc-127">Avec un objet Pack, vous pouvez ajouter, supprimer ou remplacer les membres d’un Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-127">With a pack object, you can add, remove, or replace the members of a pack.</span></span> <span data-ttu-id="937bc-128">Lorsque vous ajoutez un objet disque à un Pack, VDS Initialise un disque pour dissocier tous les volumes existants.</span><span class="sxs-lookup"><span data-stu-id="937bc-128">When you add a disk object to a pack, VDS initializes a disk to unbind all existing volumes.</span></span> <span data-ttu-id="937bc-129">En revanche, un numéro d’unité logique conserve tous les détails de liaison lorsqu’il est ajouté à un Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-129">In contrast, a LUN retains all binding details when it is added to a pack.</span></span> <span data-ttu-id="937bc-130">Si vous supprimez le dernier disque d’un Pack, VDS supprime l’objet Pack lorsque l’appelant libère la dernière référence à l’objet.</span><span class="sxs-lookup"><span data-stu-id="937bc-130">If you remove the last disk from a pack, VDS deletes the pack object when the caller releases the last reference to the object.</span></span>

<span data-ttu-id="937bc-131">Les propriétés d’objet incluent un identificateur d’objet, un nom, un état de Pack et des indicateurs.</span><span class="sxs-lookup"><span data-stu-id="937bc-131">Object properties include an object identifier, a name, pack status, and flags.</span></span> <span data-ttu-id="937bc-132">Un Pack en ligne est disponible pour la configuration et l’utilisation, un pack hors connexion n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="937bc-132">An online pack is available for configuration and use, an offline pack is unavailable.</span></span> <span data-ttu-id="937bc-133">VDS prend en charge un nombre quelconque de packs en ligne et hors connexion.</span><span class="sxs-lookup"><span data-stu-id="937bc-133">VDS supports any number of online and offline packs.</span></span>

<span data-ttu-id="937bc-134">**Windows Server 2003 :** Ne prend en charge qu’un seul Pack en ligne à la fois.</span><span class="sxs-lookup"><span data-stu-id="937bc-134">**Windows Server 2003:** Supports only one online pack at a time.</span></span>

<span data-ttu-id="937bc-135">VDS applique un quorum de disques en ligne au sein d’un Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-135">VDS enforces a quorum of online disks within a pack.</span></span> <span data-ttu-id="937bc-136">Le quorum détermine si un pack peut avoir un État en ligne et empêche plusieurs hôtes d’accorder un État en ligne au même Pack.</span><span class="sxs-lookup"><span data-stu-id="937bc-136">The quorum determines whether a pack can have an online status, and prevents multiple hosts from granting an online status to the same pack.</span></span> <span data-ttu-id="937bc-137">Si le nombre de disques en ligne d’un pack se situe sous le quorum (n/2 + 1), VDS met le Pack en ligne hors connexion.</span><span class="sxs-lookup"><span data-stu-id="937bc-137">If the number of online disks in a pack falls below the quorum (n/2 + 1), VDS takes the online pack offline.</span></span>

<span data-ttu-id="937bc-138">Le tableau suivant répertorie les interfaces, énumérations et structures associées.</span><span class="sxs-lookup"><span data-stu-id="937bc-138">The following table lists related interfaces, enumerations, and structures.</span></span>



| <span data-ttu-id="937bc-139">Type</span><span class="sxs-lookup"><span data-stu-id="937bc-139">Type</span></span>                                              | <span data-ttu-id="937bc-140">Élément</span><span class="sxs-lookup"><span data-stu-id="937bc-140">Element</span></span>                                                                                                |
|---------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="937bc-141">Interfaces toujours exposées par cet objet</span><span class="sxs-lookup"><span data-stu-id="937bc-141">Interfaces that are always exposed by this object</span></span> | <span data-ttu-id="937bc-142">[**IVdsPack**](/windows/desktop/api/Vds/nn-vds-ivdspack) et [**IVdsPack2**](/windows/desktop/api/Vds/nn-vds-ivdspack2) \* .</span><span class="sxs-lookup"><span data-stu-id="937bc-142">[**IVdsPack**](/windows/desktop/api/Vds/nn-vds-ivdspack) and [**IVdsPack2**](/windows/desktop/api/Vds/nn-vds-ivdspack2)\*.</span></span>                                     |
| <span data-ttu-id="937bc-143">Énumérations associées</span><span class="sxs-lookup"><span data-stu-id="937bc-143">Associated enumerations</span></span>                           | <span data-ttu-id="937bc-144">[**VDS \_ \_**](/windows/desktop/api/Vds/ne-vds-vds_pack_flag) État de l’indicateur de Pack et du [**\_ Pack \_ VDS**](/windows/desktop/api/Vds/ne-vds-vds_pack_status).</span><span class="sxs-lookup"><span data-stu-id="937bc-144">[**VDS\_PACK\_FLAG**](/windows/desktop/api/Vds/ne-vds-vds_pack_flag) and [**VDS\_PACK\_STATUS**](/windows/desktop/api/Vds/ne-vds-vds_pack_status).</span></span>             |
| <span data-ttu-id="937bc-145">Structures associées</span><span class="sxs-lookup"><span data-stu-id="937bc-145">Associated structures</span></span>                             | <span data-ttu-id="937bc-146">[**VDS \_ NOTIFICATION PACK \_ prop**](/windows/desktop/api/Vds/ns-vds-vds_pack_prop) et [**VDS \_ Pack \_**](/windows/desktop/api/Vds/ns-vds-vds_pack_notification).</span><span class="sxs-lookup"><span data-stu-id="937bc-146">[**VDS\_PACK\_PROP**](/windows/desktop/api/Vds/ns-vds-vds_pack_prop) and [**VDS\_PACK\_NOTIFICATION**](/windows/desktop/api/Vds/ns-vds-vds_pack_notification).</span></span> |



 

<span data-ttu-id="937bc-147">**\* Windows Server 2003 :** cette interface n’est pas prise en charge jusqu’à Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="937bc-147">**\*Windows Server 2003:** This interface is not supported until Windows Vista.</span></span>

## <a name="related-topics"></a><span data-ttu-id="937bc-148">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="937bc-148">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="937bc-149">Objets de fournisseur de logiciels</span><span class="sxs-lookup"><span data-stu-id="937bc-149">Software Provider Objects</span></span>](software-provider-objects.md)
</dt> <dt>

[<span data-ttu-id="937bc-150">LUN (objet)</span><span class="sxs-lookup"><span data-stu-id="937bc-150">LUN Object</span></span>](lun-object.md)
</dt> <dt>

[<span data-ttu-id="937bc-151">**IVdsLun**</span><span class="sxs-lookup"><span data-stu-id="937bc-151">**IVdsLun**</span></span>](/windows/desktop/api/Vds/nn-vds-ivdslun)
</dt> <dt>

[<span data-ttu-id="937bc-152">**IVdsDisk**</span><span class="sxs-lookup"><span data-stu-id="937bc-152">**IVdsDisk**</span></span>](/windows/desktop/api/Vds/nn-vds-ivdsdisk)
</dt> </dl>

 

 
