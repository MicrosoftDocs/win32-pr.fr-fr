---
description: 'Un demandeur peut arrêter un jeu de clichés instantanés à l’aide de la méthode IVssBackupComponents :: BreakSnapshotSet ou IVssBackupComponentsEx2 :: BreakSnapshotSetEx.'
ms.assetid: fb796b2f-b6fb-48ee-8d42-36f88cb165aa
title: Interruption de clichés instantanés
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7dac84c9f45d16d8a88f9d61ad6e4c277dfad3ae
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106539742"
---
# <a name="breaking-shadow-copies"></a><span data-ttu-id="2700f-103">Interruption de clichés instantanés</span><span class="sxs-lookup"><span data-stu-id="2700f-103">Breaking Shadow Copies</span></span>

<span data-ttu-id="2700f-104">Un demandeur peut arrêter un jeu de clichés instantanés à l’aide de la méthode [**IVssBackupComponents :: BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) ou [**IVssBackupComponentsEx2 :: BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex) .</span><span class="sxs-lookup"><span data-stu-id="2700f-104">A requester can break a shadow copy set by using the [**IVssBackupComponents::BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) or [**IVssBackupComponentsEx2::BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex) method.</span></span>

<span data-ttu-id="2700f-105">Un cliché instantané endommagé est un volume qui contient un cliché instantané qui n’est plus géré par VSS.</span><span class="sxs-lookup"><span data-stu-id="2700f-105">A broken shadow copy is a volume that contains a shadow copy that is no longer managed by VSS.</span></span> <span data-ttu-id="2700f-106">Le fait de rompre le cliché instantané n’a une signification que si le [*fournisseur*](vssgloss-p.md) du cliché instantané est un [*fournisseur de matériel*](vssgloss-h.md).</span><span class="sxs-lookup"><span data-stu-id="2700f-106">Breaking a shadow copy has meaning only if the shadow copy's [*provider*](vssgloss-p.md) is a [*hardware provider*](vssgloss-h.md).</span></span> <span data-ttu-id="2700f-107">Cela est dû au fait que seuls les fournisseurs de matériel peuvent implémenter un cliché instantané comme volume réel avec un cycle de vie indépendant de VSS.</span><span class="sxs-lookup"><span data-stu-id="2700f-107">This is because only hardware providers can implement a shadow copy as an actual volume with a life cycle independent of VSS.</span></span> <span data-ttu-id="2700f-108">Si VSS ne gère pas ce type de volume, il est toujours disponible.</span><span class="sxs-lookup"><span data-stu-id="2700f-108">If VSS does not manage such a volume, it still is available.</span></span>

<span data-ttu-id="2700f-109">Les fournisseurs de logiciels maintiennent les clichés instantanés uniquement lorsqu’ils sont impliqués dans les opérations VSS.</span><span class="sxs-lookup"><span data-stu-id="2700f-109">Software providers maintain shadow copies only while involved in VSS operations.</span></span> <span data-ttu-id="2700f-110">Pour cette raison, le fait de rompre le cliché instantané n’a aucune signification pour les fournisseurs de logiciels.</span><span class="sxs-lookup"><span data-stu-id="2700f-110">For that reason, breaking a shadow copy has no meaning for software providers.</span></span>

<span data-ttu-id="2700f-111">Si le cliché instantané a été géré par un fournisseur de matériel, le demandeur doit importer le cliché instantané avant d’appeler [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) ou [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex).</span><span class="sxs-lookup"><span data-stu-id="2700f-111">If the shadow copy was managed by a hardware provider, the requester must import the shadow copy before calling [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) or [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex).</span></span> <span data-ttu-id="2700f-112">En cas de clichés instantanés non transportables (créés par un fournisseur de matériel), ils sont importés implicitement dans le cadre de l’appel de [**IVssBackupComponents ::D osnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) .</span><span class="sxs-lookup"><span data-stu-id="2700f-112">In case of non-transportable (created by a hardware provider) shadow copies, they are imported implicitly as part of the [**IVssBackupComponents::DoSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) call.</span></span>

<span data-ttu-id="2700f-113">Une fois que le demandeur a appelé [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) ou [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex), le jeu de clichés instantanés est toujours accessible via ses objets Device ou d’autres chemins d’accès, mais il n’est plus un jeu de clichés instantanés.</span><span class="sxs-lookup"><span data-stu-id="2700f-113">After the requester has called [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) or [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex), the shadow copy set is still accessible via its device objects or other access paths, but it is no longer a shadow copy set.</span></span> <span data-ttu-id="2700f-114">Il peut être géré comme un ou plusieurs numéros d’unités logiques à l’aide des interfaces COM VDS (Virtual Disk Service).</span><span class="sxs-lookup"><span data-stu-id="2700f-114">It can be managed as one or more LUNs by using the Virtual Disk Service (VDS) COM interfaces.</span></span> <span data-ttu-id="2700f-115">À l’aide de VDS, un demandeur peut convertir les numéros d’unités logiques en lecture/écriture, les monter avec des lettres de lecteur ou les masquer/les démasquer sur d’autres ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="2700f-115">Using VDS, a requester can convert the LUNs to read/write, mount them with drive letters, or mask/unmask them to other computers.</span></span> <span data-ttu-id="2700f-116">Pour plus d’informations, consultez la documentation de l' [API VDS](../vds/virtual-disk-service-portal.md) .</span><span class="sxs-lookup"><span data-stu-id="2700f-116">See the [VDS API documentation](../vds/virtual-disk-service-portal.md) for more information.</span></span>

 

 
