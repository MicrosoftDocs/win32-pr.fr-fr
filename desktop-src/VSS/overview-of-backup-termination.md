---
description: Le tableau suivant montre la séquence des actions et des événements qui sont requis pour terminer une opération de sauvegarde. Pour plus d’informations, consultez vue d’ensemble du traitement d’une sauvegarde sous VSS.
ms.assetid: 12dcb2d1-614b-4c4c-a47c-342f79b20a62
title: Vue d’ensemble de l’arrêt de la sauvegarde
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4d9268bd8fd4ec51be2ee7a891d4dffb3a5cb1b9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106519857"
---
# <a name="overview-of-backup-termination"></a><span data-ttu-id="ab8d0-104">Vue d’ensemble de l’arrêt de la sauvegarde</span><span class="sxs-lookup"><span data-stu-id="ab8d0-104">Overview of Backup Termination</span></span>

<span data-ttu-id="ab8d0-105">Le tableau suivant montre la séquence des actions et des événements qui sont requis pour terminer une opération de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="ab8d0-105">The following table shows the sequence of actions and events that are required for a backup operation to be terminated.</span></span> <span data-ttu-id="ab8d0-106">Pour plus d’informations, consultez [vue d’ensemble du traitement d’une sauvegarde sous VSS](overview-of-processing-a-backup-under-vss.md).</span><span class="sxs-lookup"><span data-stu-id="ab8d0-106">For more information, see [Overview of Processing a Backup Under VSS](overview-of-processing-a-backup-under-vss.md).</span></span>



| <span data-ttu-id="ab8d0-107">Action du demandeur</span><span class="sxs-lookup"><span data-stu-id="ab8d0-107">Requester action</span></span>                                                                                                                                                                                                              | <span data-ttu-id="ab8d0-108">Événement</span><span class="sxs-lookup"><span data-stu-id="ab8d0-108">Event</span></span>                                                                 | <span data-ttu-id="ab8d0-109">Action d’écriture</span><span class="sxs-lookup"><span data-stu-id="ab8d0-109">Writer action</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ab8d0-110">Le demandeur termine le cliché instantané en libérant l’interface [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) ou en appelant [**IVssBackupComponents ::D eletesnapshots**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-deletesnapshots).</span><span class="sxs-lookup"><span data-stu-id="ab8d0-110">The requester terminates the shadow copy by releasing the [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) interface or by calling [**IVssBackupComponents::DeleteSnapshots**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-deletesnapshots).</span></span> | <span data-ttu-id="ab8d0-111">Aucune</span><span class="sxs-lookup"><span data-stu-id="ab8d0-111">None</span></span>                                                                  | <span data-ttu-id="ab8d0-112">Aucune</span><span class="sxs-lookup"><span data-stu-id="ab8d0-112">None</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="ab8d0-113">[**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) est libéré en appelant [**IUnknown :: Release**](/windows/win32/api/unknwn/nf-unknwn-iunknown-release).</span><span class="sxs-lookup"><span data-stu-id="ab8d0-113">[**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) is released by calling [**IUnknown::Release**](/windows/win32/api/unknwn/nf-unknwn-iunknown-release).</span></span>                                                                                                   | [<span data-ttu-id="ab8d0-114">*BackupShutdown*</span><span class="sxs-lookup"><span data-stu-id="ab8d0-114">*BackupShutdown*</span></span>](vssgloss-b.md) | <span data-ttu-id="ab8d0-115">Le writer gère l’événement avec [**CVssWriter :: OnBackupShutdown**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onbackupshutdown), ce qui lui permet de nettoyer tout état relatif au jeu de clichés instantanés.</span><span class="sxs-lookup"><span data-stu-id="ab8d0-115">The writer handles the event with [**CVssWriter::OnBackupShutdown**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onbackupshutdown), which allows it to clean up any state related to the shadow copy set.</span></span> <span data-ttu-id="ab8d0-116">Si l’opération de sauvegarde a échoué (c’est-à-dire qu’elle n’a pas généré d’événement [**BackupComplete**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-backupcomplete) ), l’enregistreur peut également avoir besoin d’effectuer la gestion des erreurs.</span><span class="sxs-lookup"><span data-stu-id="ab8d0-116">If the backup operation failed—that is, it did not generate a [**BackupComplete**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-backupcomplete) event—the writer may also have to perform error handling.</span></span> <span data-ttu-id="ab8d0-117">Pour plus d’informations, consultez [gestion des événements BackupShutdown](handling-backupshutdown-events.md) .</span><span class="sxs-lookup"><span data-stu-id="ab8d0-117">See [Handling BackupShutdown Events](handling-backupshutdown-events.md) for more information.</span></span> |



 

<span data-ttu-id="ab8d0-118">Étant donné qu’une interface [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) ne peut pas être réutilisée et que le destructeur de l’interface termine les clichés instantanés, il n’y a généralement aucune raison d’appeler [**IVssBackupComponents ::D eletesnapshots**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-deletesnapshots).</span><span class="sxs-lookup"><span data-stu-id="ab8d0-118">Because an [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) interface cannot be reused, and the destructor of the interface terminates the shadow copies, there is typically no reason to call [**IVssBackupComponents::DeleteSnapshots**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-deletesnapshots).</span></span> <span data-ttu-id="ab8d0-119">Cette méthode est conçue pour être utilisée conjointement avec la gestion des erreurs et l’abandon des sauvegardes (consultez [abandon des opérations VSS](aborting-vss-operations.md)).</span><span class="sxs-lookup"><span data-stu-id="ab8d0-119">This method is designed to be used in conjunction with error handling and aborting backups (see [Aborting VSS Operations](aborting-vss-operations.md)).</span></span>

 

 
