---
title: Vue d’ensemble de l’API Direct2D.
description: Fournit une vue d’ensemble du modèle objet Direct2D.
ms.assetid: b1362ef6-40fc-4fa5-ba5b-22c622c39f04
keywords:
- Direct2D, à propos de
- Direct2D, fichiers d’en-tête
- Direct2D, modèle objet
- Direct2D, interfaces
- Interface ID2D1Factory
- Direct2D, cibles de rendu
- cibles de rendu, à propos de
- Direct2D, commandes de dessin
- cibles de rendu, commandes de dessin
- Direct2D, gestion des erreurs
- cibles de rendu, gestion des erreurs
- gestion des erreurs
- pinceaux
- cibles de rendu, pinceaux
- geometries
- Direct2D, géométries
- bitmaps pour Direct2D
- Direct2D, bitmaps
- Primitives
- Direct2D, Primitives
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 858d03f626fe337b174f074d7725dcb1a636b463
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "106530794"
---
# <a name="direct2d-api-overview"></a><span data-ttu-id="fdc22-123">Vue d’ensemble de l’API Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-123">Direct2D API Overview</span></span>

<span data-ttu-id="fdc22-124">Direct2D fournit une API, similaire à Direct3D, à utiliser avec C ou C++.</span><span class="sxs-lookup"><span data-stu-id="fdc22-124">Direct2D provides an API, similar to Direct3D, for use with C or C++.</span></span> <span data-ttu-id="fdc22-125">L’API expose une variété de fonctionnalités liées au dessin :</span><span class="sxs-lookup"><span data-stu-id="fdc22-125">The API exposes a variety of drawing-related functionality:</span></span>

-   <span data-ttu-id="fdc22-126">Rendez les cibles pour l’affichage et le rendu hors écran à l’aide de Direct2D, Direct3D ou GDI.</span><span class="sxs-lookup"><span data-stu-id="fdc22-126">Render targets for display and off-screen rendering using Direct2D, Direct3D, or GDI.</span></span>
-   <span data-ttu-id="fdc22-127">Objets pour gérer l’état du dessin, tels que les transformations d’espace de coordonnées et les modes d’anticrénelage.</span><span class="sxs-lookup"><span data-stu-id="fdc22-127">Objects for managing drawing state such as coordinate space transforms and antialiasing modes.</span></span>
-   <span data-ttu-id="fdc22-128">Représentations des données géométriques et des fonctions de traitement de géométrie.</span><span class="sxs-lookup"><span data-stu-id="fdc22-128">Representations for geometric data, and functions for geometry processing.</span></span>
-   <span data-ttu-id="fdc22-129">Fonctionnalités de rendu pour les bitmaps, les géométries et le texte.</span><span class="sxs-lookup"><span data-stu-id="fdc22-129">Rendering functionality for bitmaps, geometries, and text.</span></span>
-   <span data-ttu-id="fdc22-130">Provisions pour l’utilisation de contenu graphique créé à l’aide de GDI ou Direct3D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-130">Provisions for using graphical content created using GDI or Direct3D.</span></span>

<span data-ttu-id="fdc22-131">Cette rubrique fournit une vue d’ensemble des objets qui composent l’API Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-131">This topic provides an overview of the objects that make up the Direct2D API.</span></span> <span data-ttu-id="fdc22-132">Il contient les sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="fdc22-132">It contains the following sections:</span></span>

-   [<span data-ttu-id="fdc22-133">Fichiers d’en-tête Direct2D</span><span class="sxs-lookup"><span data-stu-id="fdc22-133">Direct2D Header Files</span></span>](#direct2d-header-files)
-   [<span data-ttu-id="fdc22-134">Interfaces Direct2D</span><span class="sxs-lookup"><span data-stu-id="fdc22-134">Direct2D Interfaces</span></span>](#direct2d-interfaces)
-   [<span data-ttu-id="fdc22-135">Interface ID2D1Factory</span><span class="sxs-lookup"><span data-stu-id="fdc22-135">The ID2D1Factory Interface</span></span>](#the-id2d1factory-interface)
-   [<span data-ttu-id="fdc22-136">Cibles de rendu</span><span class="sxs-lookup"><span data-stu-id="fdc22-136">Render Targets</span></span>](#render-targets)
    -   [<span data-ttu-id="fdc22-137">Fonctionnalités de la cible de rendu</span><span class="sxs-lookup"><span data-stu-id="fdc22-137">Render Target Features</span></span>](#render-target-features)
    -   [<span data-ttu-id="fdc22-138">Afficher les ressources cibles</span><span class="sxs-lookup"><span data-stu-id="fdc22-138">Render Target Resources</span></span>](#render-target-resources)
    -   [<span data-ttu-id="fdc22-139">Commandes de dessin</span><span class="sxs-lookup"><span data-stu-id="fdc22-139">Drawing Commands</span></span>](#drawing-commands)
    -   [<span data-ttu-id="fdc22-140">Gestion des erreurs</span><span class="sxs-lookup"><span data-stu-id="fdc22-140">Error Handling</span></span>](#error-handling)
-   [<span data-ttu-id="fdc22-141">Ressources de dessin</span><span class="sxs-lookup"><span data-stu-id="fdc22-141">Drawing Resources</span></span>](#drawing-resources)
    -   [<span data-ttu-id="fdc22-142">Pinceaux</span><span class="sxs-lookup"><span data-stu-id="fdc22-142">Brushes</span></span>](#brushes)
    -   [<span data-ttu-id="fdc22-143">Géométries</span><span class="sxs-lookup"><span data-stu-id="fdc22-143">Geometries</span></span>](#geometries)
    -   [<span data-ttu-id="fdc22-144">Images bitmap</span><span class="sxs-lookup"><span data-stu-id="fdc22-144">Bitmaps</span></span>](#bitmaps)
-   [<span data-ttu-id="fdc22-145">Dessiner du texte</span><span class="sxs-lookup"><span data-stu-id="fdc22-145">Drawing Text</span></span>](#drawing-text)
-   [<span data-ttu-id="fdc22-146">Primitives Direct2D</span><span class="sxs-lookup"><span data-stu-id="fdc22-146">Direct2D Primitives</span></span>](#direct2d-primitives)
-   [<span data-ttu-id="fdc22-147">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="fdc22-147">Related topics</span></span>](#related-topics)

## <a name="direct2d-header-files"></a><span data-ttu-id="fdc22-148">Fichiers d’en-tête Direct2D</span><span class="sxs-lookup"><span data-stu-id="fdc22-148">Direct2D Header Files</span></span>

<span data-ttu-id="fdc22-149">L’API Direct2D est définie par les fichiers d’en-tête suivants.</span><span class="sxs-lookup"><span data-stu-id="fdc22-149">The Direct2D API is defined by the following header files.</span></span>

| <span data-ttu-id="fdc22-150">Fichier d’en-tête</span><span class="sxs-lookup"><span data-stu-id="fdc22-150">Header file</span></span>         | <span data-ttu-id="fdc22-151">Description</span><span class="sxs-lookup"><span data-stu-id="fdc22-151">Description</span></span>                                                                                                                  |
|---------------------|------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="fdc22-152">d2d1. h</span><span class="sxs-lookup"><span data-stu-id="fdc22-152">d2d1.h</span></span>              | <span data-ttu-id="fdc22-153">Définit les versions C et C++ de l’API Direct2D principale.</span><span class="sxs-lookup"><span data-stu-id="fdc22-153">Defines C and C++ versions of the primary Direct2D API.</span></span>                                                                      |
| <span data-ttu-id="fdc22-154">d2d1helper. h</span><span class="sxs-lookup"><span data-stu-id="fdc22-154">d2d1helper.h</span></span>        | <span data-ttu-id="fdc22-155">Définit des fonctions, des classes et des structures d’assistance C++.</span><span class="sxs-lookup"><span data-stu-id="fdc22-155">Defines C++ helper functions, classes, and structures.</span></span>                                                                       |
| <span data-ttu-id="fdc22-156">d2dbasetypes. h</span><span class="sxs-lookup"><span data-stu-id="fdc22-156">d2dbasetypes.h</span></span>      | <span data-ttu-id="fdc22-157">Définit des primitives de dessin pour Direct2D, telles que des points et des rectangles.</span><span class="sxs-lookup"><span data-stu-id="fdc22-157">Defines drawing primitives for Direct2D, such as points and rectangles.</span></span> <span data-ttu-id="fdc22-158">Cet en-tête est inclus dans d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="fdc22-158">This header is included with d2d1.h.</span></span>                 |
| <span data-ttu-id="fdc22-159">d2derr. h</span><span class="sxs-lookup"><span data-stu-id="fdc22-159">d2derr.h</span></span>            | <span data-ttu-id="fdc22-160">Définit les codes d’erreur pour Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-160">Defines the error codes for Direct2D.</span></span> <span data-ttu-id="fdc22-161">Cet en-tête est inclus dans d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="fdc22-161">This header is included with d2d1.h.</span></span>                                                   |
| <span data-ttu-id="fdc22-162">d2d1 \_ 1. h</span><span class="sxs-lookup"><span data-stu-id="fdc22-162">d2d1\_1.h</span></span>           | <span data-ttu-id="fdc22-163">Définit les versions C et C++ de l’API Direct2D principale pour Windows 8 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="fdc22-163">Defines C and C++ versions of the primary Direct2D API for Windows 8 and later.</span></span>                                              |
| <span data-ttu-id="fdc22-164">d2d1 \_ 1helper. h</span><span class="sxs-lookup"><span data-stu-id="fdc22-164">d2d1\_1helper.h</span></span>     | <span data-ttu-id="fdc22-165">Définit des fonctions, des classes et des structures d’assistance C++ pour Windows 8 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="fdc22-165">Defines C++ helper functions, classes, and structures for Windows 8 and later.</span></span>                                               |
| <span data-ttu-id="fdc22-166">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="fdc22-166">d2d1effects.h</span></span>       | <span data-ttu-id="fdc22-167">Définit les versions C et C++ de la partie effets d’image de l’API Direct2D pour Windows 8 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="fdc22-167">Defines C and C++ versions of the image effects part of the Direct2D API for Windows 8 and later.</span></span>                            |
| <span data-ttu-id="fdc22-168">d2d1effecthelpers. h</span><span class="sxs-lookup"><span data-stu-id="fdc22-168">d2d1effecthelpers.h</span></span> | <span data-ttu-id="fdc22-169">Définit les fonctions, les classes et les structures d’assistance C++ de la partie effets d’image de l’API Direct2D pour Windows 8 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="fdc22-169">Defines C++ helper functions, classes, and structures of the image effects part of the Direct2D API for Windows 8 and later.</span></span> |



 

<span data-ttu-id="fdc22-170">Pour utiliser Direct2D, votre application doit inclure le fichier d’en-tête d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="fdc22-170">To use Direct2D, your application should include the d2d1.h header file.</span></span>

<span data-ttu-id="fdc22-171">Pour compiler une application Direct2D, ajoutez d2d1. lib à la liste des bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="fdc22-171">To compile a Direct2D application, add d2d1.lib to the list of libraries.</span></span> <span data-ttu-id="fdc22-172">Vous pouvez trouver d2d1. h et d2d1. lib dans le [Kit de développement logiciel (SDK) Windows pour Windows 7](https://msdn.microsoft.com/windows/bb980924.aspx).</span><span class="sxs-lookup"><span data-stu-id="fdc22-172">You can find d2d1.h and d2d1.lib in [Windows Software Development Kit (SDK) for Windows 7](https://msdn.microsoft.com/windows/bb980924.aspx).</span></span>

<span data-ttu-id="fdc22-173">Les sections suivantes décrivent certaines des interfaces courantes fournies par l’API Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-173">The following sections describe some of the common interfaces provided by the Direct2D API.</span></span>

## <a name="direct2d-interfaces"></a><span data-ttu-id="fdc22-174">Interfaces Direct2D</span><span class="sxs-lookup"><span data-stu-id="fdc22-174">Direct2D Interfaces</span></span>

<span data-ttu-id="fdc22-175">À la racine de l’API Direct2D se trouvent les interfaces [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) et [**ID2D1Resource**](/windows/win32/api/d2d1/nn-d2d1-id2d1resource) .</span><span class="sxs-lookup"><span data-stu-id="fdc22-175">At the root of the Direct2D API are the [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) and [**ID2D1Resource**](/windows/win32/api/d2d1/nn-d2d1-id2d1resource) interfaces.</span></span> <span data-ttu-id="fdc22-176">Un objet **ID2D1Factory** crée des objets **ID2D1Resource** et sert de point de départ pour l’utilisation de Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-176">An **ID2D1Factory** object creates **ID2D1Resource** objects and serves as the starting point for using Direct2D.</span></span> <span data-ttu-id="fdc22-177">Tous les autres objets Direct2D héritent de l’interface **ID2D1Resource** .</span><span class="sxs-lookup"><span data-stu-id="fdc22-177">All other Direct2D objects inherit from the **ID2D1Resource** interface.</span></span> <span data-ttu-id="fdc22-178">Il existe deux types de ressources Direct2D : les ressources indépendantes du périphérique et les ressources dépendantes du périphérique.</span><span class="sxs-lookup"><span data-stu-id="fdc22-178">There are two types of Direct2D resources: device-independent resources and device-dependent resources.</span></span>

-   <span data-ttu-id="fdc22-179">Les ressources indépendantes du périphérique ne sont pas associées à un périphérique de rendu particulier et peuvent être conservées pendant toute la durée de vie d’une application.</span><span class="sxs-lookup"><span data-stu-id="fdc22-179">Device-independent resources are not associated with a particular rendering device and can persist for the life of an application.</span></span>
-   <span data-ttu-id="fdc22-180">Les ressources dépendantes de l’appareil sont associées à un appareil de rendu particulier et cessent de fonctionner si l’appareil est supprimé.</span><span class="sxs-lookup"><span data-stu-id="fdc22-180">Device-dependent resources are associated with a particular rendering device and cease to function if that device is removed.</span></span>

<span data-ttu-id="fdc22-181">(Pour plus d’informations sur les ressources et le partage de ressources, consultez la [vue d’ensemble des ressources](resources-and-resource-domains.md).)</span><span class="sxs-lookup"><span data-stu-id="fdc22-181">(For more information about resources and resource sharing, see the [Resources Overview](resources-and-resource-domains.md).)</span></span>

## <a name="the-id2d1factory-interface"></a><span data-ttu-id="fdc22-182">Interface ID2D1Factory</span><span class="sxs-lookup"><span data-stu-id="fdc22-182">The ID2D1Factory Interface</span></span>

<span data-ttu-id="fdc22-183">L’interface [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) est le point de départ pour l’utilisation de Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-183">The [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) interface is the starting point for using Direct2D.</span></span> <span data-ttu-id="fdc22-184">Vous utilisez un **ID2D1Factory** pour instancier des ressources Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-184">You use an **ID2D1Factory** to instantiate Direct2D resources.</span></span> <span data-ttu-id="fdc22-185">Pour créer un ID2D1Factory, vous utilisez l’une des méthodes [**CreateFactory**](/windows/win32/api/d2d1/nf-d2d1-d2d1createfactory) .</span><span class="sxs-lookup"><span data-stu-id="fdc22-185">To create an ID2D1Factory, you use one of the [**CreateFactory**](/windows/win32/api/d2d1/nf-d2d1-d2d1createfactory) methods.</span></span>

<span data-ttu-id="fdc22-186">Une fabrique définit un ensemble de méthodes Create *Resource* qui peuvent produire les ressources de dessin suivantes :</span><span class="sxs-lookup"><span data-stu-id="fdc22-186">A factory defines a set of Create *Resource* methods that can produce the following drawing resources:</span></span>

-   <span data-ttu-id="fdc22-187">Les cibles de rendu sont des objets qui restituent les commandes de dessin.</span><span class="sxs-lookup"><span data-stu-id="fdc22-187">Render targets are objects that render drawing commands.</span></span>
-   <span data-ttu-id="fdc22-188">Les blocs d’état de dessin sont des objets qui stockent des informations d’état de dessin, telles que la transformation actuelle et le mode d’anticrénelage.</span><span class="sxs-lookup"><span data-stu-id="fdc22-188">Drawing state blocks are objects that store drawing state information, such as the current transformation and antialiasing mode.</span></span>
-   <span data-ttu-id="fdc22-189">Les géométries sont des objets qui représentent des formes simples et potentiellement complexes.</span><span class="sxs-lookup"><span data-stu-id="fdc22-189">Geometries are objects that represent simple and potentially complex shapes.</span></span>

<span data-ttu-id="fdc22-190">L’un des objets les plus utiles qu’une fabrique peut créer est le [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget), décrit dans la section suivante.</span><span class="sxs-lookup"><span data-stu-id="fdc22-190">One of the most useful objects a factory can create is the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget), described in the following section.</span></span>

## <a name="render-targets"></a><span data-ttu-id="fdc22-191">Cibles de rendu</span><span class="sxs-lookup"><span data-stu-id="fdc22-191">Render Targets</span></span>

<span data-ttu-id="fdc22-192">Une cible de rendu est une ressource qui hérite de l’interface [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) .</span><span class="sxs-lookup"><span data-stu-id="fdc22-192">A render target is a resource that inherits from the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) interface.</span></span> <span data-ttu-id="fdc22-193">Une cible de rendu crée des ressources pour dessiner et effectuer des opérations de dessin.</span><span class="sxs-lookup"><span data-stu-id="fdc22-193">A render target creates resources for drawing and performs drawing operations.</span></span> <span data-ttu-id="fdc22-194">Il existe plusieurs types de cibles de rendu qui peuvent être utilisées pour restituer des graphiques des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="fdc22-194">There are several kinds of render targets that can be used to render graphics in the following ways:</span></span>

-   <span data-ttu-id="fdc22-195">Les objets [**ID2D1HwndRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1hwndrendertarget) affichent le contenu dans une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="fdc22-195">[**ID2D1HwndRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1hwndrendertarget) objects render content to a window.</span></span>
-   <span data-ttu-id="fdc22-196">Les objets [**ID2D1DCRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1dcrendertarget) sont rendus dans un contexte de périphérique GDI.</span><span class="sxs-lookup"><span data-stu-id="fdc22-196">[**ID2D1DCRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1dcrendertarget) objects render to a GDI device context.</span></span>
-   <span data-ttu-id="fdc22-197">Les objets cibles de rendu bitmap affichent le contenu dans une image bitmap hors écran.</span><span class="sxs-lookup"><span data-stu-id="fdc22-197">Bitmap render target objects render content to an off-screen bitmap.</span></span>
-   <span data-ttu-id="fdc22-198">Les objets cibles de rendu DXGI sont rendus sur une surface DXGI pour une utilisation avec Direct3D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-198">DXGI render target objects render to a DXGI surface for use with Direct3D.</span></span>

<span data-ttu-id="fdc22-199">Étant donné qu’une cible de rendu est associée à un appareil de rendu particulier, il s’agit d’une ressource dépendante de l’appareil qui cesse de fonctionner si l’appareil est supprimé.</span><span class="sxs-lookup"><span data-stu-id="fdc22-199">Because a render target is associated with a particular rendering device, it is a device-dependent resource and ceases to function if the device is removed.</span></span>

### <a name="render-target-features"></a><span data-ttu-id="fdc22-200">Fonctionnalités de la cible de rendu</span><span class="sxs-lookup"><span data-stu-id="fdc22-200">Render Target Features</span></span>

<span data-ttu-id="fdc22-201">Vous pouvez spécifier si une cible de rendu doit utiliser l’accélération matérielle et si l’affichage à distance doit être rendu par l’ordinateur local ou distant.</span><span class="sxs-lookup"><span data-stu-id="fdc22-201">You can specify whether a render target should use hardware acceleration and whether remote display should be rendered by the local or remote computer.</span></span> <span data-ttu-id="fdc22-202">Les cibles de rendu peuvent être configurées pour le rendu avec ou sans alias.</span><span class="sxs-lookup"><span data-stu-id="fdc22-202">Render targets can be set up for aliased or antialiased rendering.</span></span> <span data-ttu-id="fdc22-203">Pour le rendu des scènes avec un grand nombre de primitives, un développeur peut également restituer des graphiques 2D en mode alias et utiliser l’anticrénelage à plusieurs échantillons D3D pour obtenir une plus grande évolutivité.</span><span class="sxs-lookup"><span data-stu-id="fdc22-203">For rendering scenes with a large number of primitives, a developer can also render 2-D graphics in aliased mode and use D3D multisample antialiasing to achieve greater scalability.</span></span>

<span data-ttu-id="fdc22-204">Les cibles de rendu peuvent également regrouper des opérations de dessin dans des couches qui sont représentées par l’interface [**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer) .</span><span class="sxs-lookup"><span data-stu-id="fdc22-204">Render targets can also group drawing operations into layers that are represented by the [**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer) interface.</span></span> <span data-ttu-id="fdc22-205">Les couches sont utiles pour la collecte des opérations de dessin à combiner lors du rendu d’un frame.</span><span class="sxs-lookup"><span data-stu-id="fdc22-205">Layers are useful for collecting drawing operations to be composited together when rendering a frame.</span></span> <span data-ttu-id="fdc22-206">Pour certains scénarios, il peut s’agir d’une alternative utile au rendu d’une cible de rendu bitmap, puis de la réutilisation du contenu de l’image bitmap, car les coûts d’allocation pour la superposition sont inférieurs à ceux d’un [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget).</span><span class="sxs-lookup"><span data-stu-id="fdc22-206">For some scenarios, this can be a useful alternative to rendering to a bitmap render target, and then reusing the bitmap contents, as allocation costs for layering are lower than for an [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget).</span></span>

<span data-ttu-id="fdc22-207">Les cibles de rendu peuvent créer de nouvelles cibles de rendu qui sont compatibles avec elles-mêmes, ce qui est utile pour le rendu non-écran intermédiaire tout en conservant les diverses propriétés de cible de rendu qui ont été définies sur le d’origine.</span><span class="sxs-lookup"><span data-stu-id="fdc22-207">Render targets can create new render targets that are compatible with themselves, which is useful for intermediate off-screen rendering while retaining the various render-target properties that were set on the original.</span></span>

<span data-ttu-id="fdc22-208">Il est également possible d’effectuer un rendu à l’aide de GDI sur une cible de rendu Direct2D en appelant [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) sur une cible de rendu pour [**ID2D1GdiInteropRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1gdiinteroprendertarget), qui contient des méthodes [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc) et [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc) qui peuvent être utilisées pour récupérer un contexte de périphérique GDI.</span><span class="sxs-lookup"><span data-stu-id="fdc22-208">It is also possible to render using GDI on a Direct2D render target by calling [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) on a render target for [**ID2D1GdiInteropRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1gdiinteroprendertarget), which has [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc) and [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc) methods on it that can be used to retrieve a GDI device context.</span></span> <span data-ttu-id="fdc22-209">Le rendu via GDI est possible uniquement si la cible de rendu a été créée avec l’indicateur de [**\_ \_ \_ \_ \_ compatibilité GDI**](/windows/win32/api/d2d1/ne-d2d1-d2d1_render_target_usage) de l’utilisation de la cible de rendu d2d1 définie.</span><span class="sxs-lookup"><span data-stu-id="fdc22-209">Rendering via GDI is possible only if the render target was created with the [**D2D1\_RENDER\_TARGET\_USAGE\_GDI\_COMPATIBLE**](/windows/win32/api/d2d1/ne-d2d1-d2d1_render_target_usage) flag set.</span></span> <span data-ttu-id="fdc22-210">Cela est utile pour les applications qui s’affichent principalement avec Direct2D, mais qui ont un modèle d’extensibilité ou tout autre contenu hérité qui requiert la possibilité d’effectuer un rendu avec GDI.</span><span class="sxs-lookup"><span data-stu-id="fdc22-210">This is useful for applications that primarily render with Direct2D but have an extensibility model or other legacy content that requires the ability to render with GDI.</span></span> <span data-ttu-id="fdc22-211">Pour plus d’informations, consultez [vue d’ensemble de l’interopérabilité de Direct2D et GDI](direct2d-and-gdi-interoperation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fdc22-211">For more information, see the [Direct2D and GDI Interoperability Overview](direct2d-and-gdi-interoperation-overview.md).</span></span>

### <a name="render-target-resources"></a><span data-ttu-id="fdc22-212">Afficher les ressources cibles</span><span class="sxs-lookup"><span data-stu-id="fdc22-212">Render Target Resources</span></span>

<span data-ttu-id="fdc22-213">À l’instar d’une fabrique, une cible de rendu peut créer des ressources de dessin.</span><span class="sxs-lookup"><span data-stu-id="fdc22-213">Like a factory, a render target can create drawing resources.</span></span> <span data-ttu-id="fdc22-214">Toutes les ressources créées par une cible de rendu sont des ressources dépendantes de l’appareil (tout comme la cible de rendu).</span><span class="sxs-lookup"><span data-stu-id="fdc22-214">Any resources created by a render target are device-dependent resources (just like the render target).</span></span> <span data-ttu-id="fdc22-215">Une cible de rendu peut créer les types de ressources suivants :</span><span class="sxs-lookup"><span data-stu-id="fdc22-215">A render target can create the following types of resources:</span></span>

-   <span data-ttu-id="fdc22-216">Images bitmap</span><span class="sxs-lookup"><span data-stu-id="fdc22-216">Bitmaps</span></span>
-   <span data-ttu-id="fdc22-217">Pinceaux</span><span class="sxs-lookup"><span data-stu-id="fdc22-217">Brushes</span></span>
-   <span data-ttu-id="fdc22-218">Calques</span><span class="sxs-lookup"><span data-stu-id="fdc22-218">Layers</span></span>
-   <span data-ttu-id="fdc22-219">Maillages</span><span class="sxs-lookup"><span data-stu-id="fdc22-219">Meshes</span></span>

### <a name="drawing-commands"></a><span data-ttu-id="fdc22-220">Commandes de dessin</span><span class="sxs-lookup"><span data-stu-id="fdc22-220">Drawing Commands</span></span>

<span data-ttu-id="fdc22-221">Pour afficher le contenu, vous utilisez les méthodes de dessin de la cible de rendu.</span><span class="sxs-lookup"><span data-stu-id="fdc22-221">To render content, you use the render target drawing methods.</span></span> <span data-ttu-id="fdc22-222">Avant de commencer à dessiner, vous appelez la méthode [**ID2D1RenderTarget :: BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) .</span><span class="sxs-lookup"><span data-stu-id="fdc22-222">Before you begin drawing, you call the [**ID2D1RenderTarget::BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) method.</span></span> <span data-ttu-id="fdc22-223">Une fois que vous avez terminé le dessin, vous appelez la méthode [**ID2D1RenderTarget :: EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) .</span><span class="sxs-lookup"><span data-stu-id="fdc22-223">After you finished drawing, you call the [**ID2D1RenderTarget::EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method.</span></span> <span data-ttu-id="fdc22-224">Entre ces appels, vous utilisez des méthodes de dessin et de remplissage pour restituer les ressources de dessin.</span><span class="sxs-lookup"><span data-stu-id="fdc22-224">In between these calls, you use Draw and Fill methods to render drawing resources.</span></span> <span data-ttu-id="fdc22-225">La plupart des méthodes de dessin et de remplissage prennent une forme (une primitive ou une géométrie) et un pinceau pour remplir ou mettre en relief la forme.</span><span class="sxs-lookup"><span data-stu-id="fdc22-225">Most Draw and Fill methods take a shape (either a primitive or a geometry) and a brush for filling or outlining the shape.</span></span>

<span data-ttu-id="fdc22-226">Les cibles de rendu fournissent également des méthodes pour le découpage, l’application de masques d’opacité et la transformation de l’espace de coordonnées.</span><span class="sxs-lookup"><span data-stu-id="fdc22-226">Render targets also provide methods for clipping, applying opacity masks, and transforming the coordinate space.</span></span>

<span data-ttu-id="fdc22-227">Direct2D utilise un système de coordonnées gauche : les valeurs positives de l’axe des x continuent à droite et les valeurs positives de l’axe des y s’effectuent vers le bas.</span><span class="sxs-lookup"><span data-stu-id="fdc22-227">Direct2D uses a left-handed coordinate system: positive x-axis values proceed to the right and positive y-axis values proceed downward.</span></span>

### <a name="error-handling"></a><span data-ttu-id="fdc22-228">Gestion des erreurs</span><span class="sxs-lookup"><span data-stu-id="fdc22-228">Error Handling</span></span>

<span data-ttu-id="fdc22-229">Les commandes de dessin de la cible de rendu n’indiquent pas si l’opération demandée a réussi.</span><span class="sxs-lookup"><span data-stu-id="fdc22-229">Render target drawing commands do not indicate whether the requested operation was successful.</span></span> <span data-ttu-id="fdc22-230">Pour déterminer s’il y a eu des erreurs de dessin, appelez la méthode de [**vidage**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush) de la cible de rendu ou la méthode [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) pour obtenir un **HRESULT**.</span><span class="sxs-lookup"><span data-stu-id="fdc22-230">To find out whether there were drawing errors, call the render target [**Flush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush) method or [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method to obtain an **HRESULT**.</span></span>

## <a name="drawing-resources"></a><span data-ttu-id="fdc22-231">Ressources de dessin</span><span class="sxs-lookup"><span data-stu-id="fdc22-231">Drawing Resources</span></span>

<span data-ttu-id="fdc22-232">Les sections suivantes décrivent certaines des ressources qui peuvent être créées par la cible de rendu et les interfaces de fabrique.</span><span class="sxs-lookup"><span data-stu-id="fdc22-232">The following sections describe some of the resources that can be created by the render target and factory interfaces.</span></span>

### <a name="brushes"></a><span data-ttu-id="fdc22-233">Pinceaux</span><span class="sxs-lookup"><span data-stu-id="fdc22-233">Brushes</span></span>

<span data-ttu-id="fdc22-234">Un pinceau, représenté par l’interface [**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) , est une ressource dépendante de l’appareil, créée par une cible de rendu, qui peint une zone avec sa sortie.</span><span class="sxs-lookup"><span data-stu-id="fdc22-234">A brush, represented by the [**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) interface, is a device-dependent resource, created by a render target, that paints an area with its output.</span></span> <span data-ttu-id="fdc22-235">Des pinceaux différents ont différents types de sortie.</span><span class="sxs-lookup"><span data-stu-id="fdc22-235">Different brushes have different types of output.</span></span> <span data-ttu-id="fdc22-236">Certains pinceaux peignent une zone avec une couleur unie, d’autres avec un dégradé ou une image.</span><span class="sxs-lookup"><span data-stu-id="fdc22-236">Some brushes paint an area with a solid color, others with a gradient or an image.</span></span> <span data-ttu-id="fdc22-237">Direct2D fournit quatre types de pinceaux :</span><span class="sxs-lookup"><span data-stu-id="fdc22-237">Direct2D provides four types of brushes:</span></span>

-   <span data-ttu-id="fdc22-238">[**ID2D1SolidColorBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1solidcolorbrush) peint une zone avec une couleur unie.</span><span class="sxs-lookup"><span data-stu-id="fdc22-238">[**ID2D1SolidColorBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1solidcolorbrush) paints an area with a solid color.</span></span>
-   <span data-ttu-id="fdc22-239">[**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush) peint une zone avec un dégradé linéaire qui fusionne deux couleurs ou plus sur une ligne, l’axe du dégradé.</span><span class="sxs-lookup"><span data-stu-id="fdc22-239">[**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush) paints an area with a linear gradient that blends two or more colors across a line, the gradient axis.</span></span>
-   <span data-ttu-id="fdc22-240">[**ID2D1RadialGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1radialgradientbrush) peint une zone avec un dégradé radial qui fusionne deux couleurs ou plus autour d’une ellipse.</span><span class="sxs-lookup"><span data-stu-id="fdc22-240">[**ID2D1RadialGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1radialgradientbrush) paints an area with a radial gradient that blends two or more colors around an ellipse.</span></span>
-   <span data-ttu-id="fdc22-241">[**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush) peint une zone avec une image bitmap.</span><span class="sxs-lookup"><span data-stu-id="fdc22-241">[**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush) paints an area with a bitmap.</span></span>

<span data-ttu-id="fdc22-242">Pour créer un pinceau, vous utilisez l’une des méthodes de pinceau [**ID2D1RenderTarget ::**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)Create *<Type>* , telles que [**CreateRadialGradientBrush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createradialgradientbrush(constd2d1_radial_gradient_brush_properties__constd2d1_brush_properties__id2d1gradientstopcollection_id2d1radialgradientbrush)).</span><span class="sxs-lookup"><span data-stu-id="fdc22-242">To create a brush, you use one of the [**ID2D1RenderTarget::**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)Create *<Type>* Brush methods, such as [**CreateRadialGradientBrush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createradialgradientbrush(constd2d1_radial_gradient_brush_properties__constd2d1_brush_properties__id2d1gradientstopcollection_id2d1radialgradientbrush)).</span></span> <span data-ttu-id="fdc22-243">Les pinceaux peuvent être utilisés avec les méthodes de dessin et de remplissage d’une cible de rendu, soit pour peindre un trait ou un contour de forme, soit comme masque d’opacité.</span><span class="sxs-lookup"><span data-stu-id="fdc22-243">Brushes can be used with a render target Draw and Fill methods, either to paint a shape stroke or outline, or as an opacity mask.</span></span>

<span data-ttu-id="fdc22-244">Pour plus d’informations sur les pinceaux, consultez [vue d’ensemble des pinceaux](direct2d-brushes-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fdc22-244">For more information about brushes, see the [Brushes Overview](direct2d-brushes-overview.md).</span></span>

### <a name="geometries"></a><span data-ttu-id="fdc22-245">Géométries</span><span class="sxs-lookup"><span data-stu-id="fdc22-245">Geometries</span></span>

<span data-ttu-id="fdc22-246">En plus des primitives de dessin de base telles que les points, rectangles et ellipses, Direct2D fournit l’interface [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) pour décrire des formes simples et complexes.</span><span class="sxs-lookup"><span data-stu-id="fdc22-246">In addition to basic drawing primitives such as points, rectangles, and ellipses, Direct2D provides the [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) interface for describing simple and complex shapes.</span></span> <span data-ttu-id="fdc22-247">Les interfaces qui héritent de **ID2D1Geometry** définissent différents types de formes, telles que [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) pour représenter des rectangles, [**ID2D1RoundedRectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1roundedrectanglegeometry) pour représenter des rectangles arrondis, et [**ID2D1EllipseGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1ellipsegeometry) pour représenter des ellipses.</span><span class="sxs-lookup"><span data-stu-id="fdc22-247">Interfaces that inherit from **ID2D1Geometry** define different types of shapes, such as [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) for representing rectangles, [**ID2D1RoundedRectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1roundedrectanglegeometry) for representing rounded rectangles, and [**ID2D1EllipseGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1ellipsegeometry) for representing ellipses.</span></span>

<span data-ttu-id="fdc22-248">Des formes plus complexes peuvent être créées à l’aide de l’interface [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) pour spécifier une série de figures composée de lignes, de courbes et d’arcs.</span><span class="sxs-lookup"><span data-stu-id="fdc22-248">More complex shapes can be created by using the [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) interface to specify a series of figures composed of lines, curves, and arcs.</span></span> <span data-ttu-id="fdc22-249">Le **ID2D1GeometrySink** est passé à la méthode Open d’un [**ID2D1PathGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1pathgeometry) pour générer une géométrie complexe.</span><span class="sxs-lookup"><span data-stu-id="fdc22-249">The **ID2D1GeometrySink** is passed to the Open method of an [**ID2D1PathGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1pathgeometry) to generate a complex geometry.</span></span> <span data-ttu-id="fdc22-250">[**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink) peut également être utilisé avec l’API DirectWrite pour extraire des contours de chemin du texte mis en forme pour un rendu artistique.</span><span class="sxs-lookup"><span data-stu-id="fdc22-250">[**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink) can also be used with the DirectWrite API to extract path outlines of formatted text for artistic rendering.</span></span>

<span data-ttu-id="fdc22-251">Les interfaces Geometry fournissent des méthodes pour manipuler des formes en élargissant ou en simplifiant les géométries existantes, ou en générant l’intersection ou l’Union de plusieurs géométries.</span><span class="sxs-lookup"><span data-stu-id="fdc22-251">The geometry interfaces provide methods for manipulating shapes by widening or simplifying existing geometries, or by generating the intersection or union of multiple geometries.</span></span> <span data-ttu-id="fdc22-252">Elles fournissent également des méthodes pour déterminer si les géométries se croisent ou se chevauchent, récupèrent les informations relatives aux limites, calculent la zone ou la longueur d’une géométrie et interpolent des emplacements le long d’une géométrie.</span><span class="sxs-lookup"><span data-stu-id="fdc22-252">They also provide methods for determining whether geometries are intersecting or overlapping, retrieving bounds information, computing the area or length of a geometry, and interpolating locations along a geometry.</span></span> <span data-ttu-id="fdc22-253">Direct2D offre également la possibilité de créer un maillage de triangles qui est fractionné à partir d’une géométrie.</span><span class="sxs-lookup"><span data-stu-id="fdc22-253">Direct2D also provides the ability to create a mesh of triangles that is tessellated from a geometry.</span></span>

<span data-ttu-id="fdc22-254">Pour créer une géométrie, vous utilisez l’une des méthodes [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory):: Create *<Type>* Geometry, telles que [**CreatePathGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1factory-createpathgeometry).</span><span class="sxs-lookup"><span data-stu-id="fdc22-254">To create a geometry, you use one of the [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory)::Create *<Type>* Geometry methods, such as [**CreatePathGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1factory-createpathgeometry).</span></span> <span data-ttu-id="fdc22-255">Une géométrie est une ressource indépendante du périphérique.</span><span class="sxs-lookup"><span data-stu-id="fdc22-255">A geometry is a device-independent resource.</span></span>

<span data-ttu-id="fdc22-256">Pour afficher une géométrie, vous utilisez les méthodes [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry) et [**FillGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry) d’une cible de rendu.</span><span class="sxs-lookup"><span data-stu-id="fdc22-256">To render a geometry, you use the [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry) and [**FillGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry) methods of a render target.</span></span>

<span data-ttu-id="fdc22-257">Pour plus d’informations sur les géométries, consultez [vue d’ensemble des géométries](direct2d-geometries-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fdc22-257">For more information about geometries, see the [Geometries Overview](direct2d-geometries-overview.md).</span></span>

### <a name="bitmaps"></a><span data-ttu-id="fdc22-258">Images bitmap</span><span class="sxs-lookup"><span data-stu-id="fdc22-258">Bitmaps</span></span>

<span data-ttu-id="fdc22-259">Direct2D ne fournit pas de méthodes pour charger ou stocker des bitmaps ; au lieu de cela, il vous permet de créer des bitmaps à l’aide du [WIC (Windows Imaging Component)](../wic/-wic-about-windows-imaging-codec.md).</span><span class="sxs-lookup"><span data-stu-id="fdc22-259">Direct2D does not provide methods for loading or storing bitmaps; rather, it enables you to create bitmaps using the [Windows Imaging Component (WIC)](../wic/-wic-about-windows-imaging-codec.md).</span></span> <span data-ttu-id="fdc22-260">Les ressources bitmap peuvent être chargées à l’aide de WIC, puis utilisées pour créer un [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) via la méthode [**ID2D1RenderTarget :: CreateBitmapFromWicBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createbitmapfromwicbitmap(iwicbitmapsource_constd2d1_bitmap_properties_id2d1bitmap)) .</span><span class="sxs-lookup"><span data-stu-id="fdc22-260">Bitmap resources can be loaded using WIC and then used to create an [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) through the [**ID2D1RenderTarget::CreateBitmapFromWicBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createbitmapfromwicbitmap(iwicbitmapsource_constd2d1_bitmap_properties_id2d1bitmap)) method.</span></span>

<span data-ttu-id="fdc22-261">Les bitmaps peuvent également être créées à partir de données en mémoire qui ont été configurées par d’autres moyens.</span><span class="sxs-lookup"><span data-stu-id="fdc22-261">Bitmaps can also be created from in-memory data that was set up through other means.</span></span> <span data-ttu-id="fdc22-262">Une fois qu’une bitmap a été créée, elle peut être dessinée par la méthode [**DrawBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawbitmap(id2d1bitmap_constd2d1_rect_f__float_d2d1_bitmap_interpolation_mode_constd2d1_rect_f_)) de la cible de rendu ou par un pinceau bitmap.</span><span class="sxs-lookup"><span data-stu-id="fdc22-262">After a bitmap has been created, it can be drawn by the render target [**DrawBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawbitmap(id2d1bitmap_constd2d1_rect_f__float_d2d1_bitmap_interpolation_mode_constd2d1_rect_f_)) method or with a bitmap brush.</span></span>

<span data-ttu-id="fdc22-263">Étant donné que la création de ressources bitmap sur des cibles de rendu matériel est souvent une opération coûteuse, Direct2D peut mettre à jour le contenu d’une bitmap (ou d’une partie de la bitmap) à l’aide des méthodes [**CopyFromBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrombitmap), [**CopyFromRenderTarget**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfromrendertarget)et [**CopyFromMemory**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrommemory) .</span><span class="sxs-lookup"><span data-stu-id="fdc22-263">Because creating bitmap resources on hardware render targets is often an expensive operation, Direct2D can update the contents of a bitmap (or portion of the bitmap) by using the [**CopyFromBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrombitmap), [**CopyFromRenderTarget**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfromrendertarget), and [**CopyFromMemory**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrommemory) methods.</span></span> <span data-ttu-id="fdc22-264">L’utilisation de ces méthodes peut potentiellement enregistrer les coûts associés aux allocations de texture GPU supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="fdc22-264">Using these methods can potentially save the costs associated with additional GPU texture allocations.</span></span>

## <a name="drawing-text"></a><span data-ttu-id="fdc22-265">Dessiner du texte</span><span class="sxs-lookup"><span data-stu-id="fdc22-265">Drawing Text</span></span>

<span data-ttu-id="fdc22-266">Direct2D a été conçu pour fonctionner avec les opérations de texte de la nouvelle API Text, DirectWrite.</span><span class="sxs-lookup"><span data-stu-id="fdc22-266">Direct2D was designed to work with the text operations of the new text API, DirectWrite.</span></span> <span data-ttu-id="fdc22-267">Pour faciliter l’utilisation de l’API DirectWrite, les cibles de rendu fournissent trois méthodes pour le rendu des ressources de texte DirectWrite : [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)), [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout)et [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span><span class="sxs-lookup"><span data-stu-id="fdc22-267">To make using the DirectWrite API simpler, render targets provide three methods for rendering DirectWrite text resources: [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)), [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout), and [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span></span> <span data-ttu-id="fdc22-268">Étant donné que Direct2D utilise le GPU pour le processus de rendu de texte ClearType, Direct2D fournit une utilisation de l’UC inférieure à GDI pour les opérations de texte et une meilleure évolutivité à mesure que la puissance de traitement GPU est disponible.</span><span class="sxs-lookup"><span data-stu-id="fdc22-268">Because Direct2D uses the GPU for the ClearType text rendering process, Direct2D provides lower CPU usage than GDI for text operations and better scalability as more GPU processing power is available.</span></span>

<span data-ttu-id="fdc22-269">[**ID2D1RenderTarget ::D rawtext**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) est conçu pour les scénarios les plus simples impliquant le rendu d’une chaîne de texte Unicode avec une mise en forme minimale.</span><span class="sxs-lookup"><span data-stu-id="fdc22-269">The [**ID2D1RenderTarget::DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) is designed for the simplest scenarios involving rendering a string of Unicode text with minimal formatting.</span></span> <span data-ttu-id="fdc22-270">Une disposition plus complexe et une flexibilité typographique sont fournies par le biais de la méthode [**ID2D1RenderTarget ::D rawtextlayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) , qui utilise un objet [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) pour spécifier le contenu et la mise en forme à restituer.</span><span class="sxs-lookup"><span data-stu-id="fdc22-270">More complex layout and typographic flexibility is provided through the [**ID2D1RenderTarget::DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) method, which uses an [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) object to specify the content and formatting to be rendered.</span></span> <span data-ttu-id="fdc22-271">**IDWriteTextLayout** vous permet de spécifier une mise en forme individuelle pour les sous-chaînes de texte et d’autres options typographiques avancées.</span><span class="sxs-lookup"><span data-stu-id="fdc22-271">**IDWriteTextLayout** enables you to specify individual formatting for substrings of text and other advanced typography options.</span></span>

<span data-ttu-id="fdc22-272">Pour les scénarios où un contrôle précis de la disposition au niveau du glyphe est requis, la méthode [**ID2D1RenderTarget ::D rawglyphrun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) peut être utilisée conjointement avec les fonctionnalités de mesure fournies par [DirectWrite](../directwrite/direct-write-portal.md).</span><span class="sxs-lookup"><span data-stu-id="fdc22-272">For scenarios where precise control of glyph-level layout is required, the [**ID2D1RenderTarget::DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) method can be used in conjunction with the measurement facilities provided by [DirectWrite](../directwrite/direct-write-portal.md).</span></span>

<span data-ttu-id="fdc22-273">Pour utiliser l’API DirectWrite, incluez l’en-tête DWrite. h.</span><span class="sxs-lookup"><span data-stu-id="fdc22-273">To use the DirectWrite API, include the dwrite.h header.</span></span> <span data-ttu-id="fdc22-274">À l’instar de Direct2D, DirectWrite utilise une fabrique, [**IDWriteFactory**](/windows/win32/api/dwrite/nn-dwrite-idwritefactory) pour créer des objets de texte.</span><span class="sxs-lookup"><span data-stu-id="fdc22-274">Like Direct2D, DirectWrite uses a factory, [**IDWriteFactory**](/windows/win32/api/dwrite/nn-dwrite-idwritefactory) to create text objects.</span></span> <span data-ttu-id="fdc22-275">Utilisez la fonction [**DWriteCreateFactory**](/windows/win32/api/dwrite/nf-dwrite-dwritecreatefactory) pour créer une fabrique, puis utilisez ses méthodes Create pour créer des ressources DirectWrite (telles que [**IDWriteTextFormat**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))).</span><span class="sxs-lookup"><span data-stu-id="fdc22-275">Use the [**DWriteCreateFactory**](/windows/win32/api/dwrite/nf-dwrite-dwritecreatefactory) function to create a factory, and then use its Create methods to create DirectWrite resources (such as [**IDWriteTextFormat**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))).</span></span>

<span data-ttu-id="fdc22-276">Pour plus d’informations sur DirectWrite, consultez la rubrique [Présentation de DirectWrite](../directwrite/introducing-directwrite.md) .</span><span class="sxs-lookup"><span data-stu-id="fdc22-276">For more information about DirectWrite, see the [Introducing DirectWrite](../directwrite/introducing-directwrite.md) topic.</span></span>

## <a name="direct2d-primitives"></a><span data-ttu-id="fdc22-277">Primitives Direct2D</span><span class="sxs-lookup"><span data-stu-id="fdc22-277">Direct2D Primitives</span></span>

<span data-ttu-id="fdc22-278">Direct2D définit un ensemble de primitives similaires à celles fournies par d’autres API de dessin.</span><span class="sxs-lookup"><span data-stu-id="fdc22-278">Direct2D defines a set of primitives that are similar to those provided by other drawing APIs.</span></span> <span data-ttu-id="fdc22-279">Il fournit une structure de couleur, une structure de matrice pour effectuer des transformations, ainsi que des versions à virgule flottante et entières de points, de rectangles, de points de suspension et de structures de taille.</span><span class="sxs-lookup"><span data-stu-id="fdc22-279">It provides a color structure, a matrix structure for performing transformations, and floating-point and integer versions of points, rectangles, ellipses, and size structures.</span></span> <span data-ttu-id="fdc22-280">En général, vous utilisez les versions à virgule flottante de ces structures.</span><span class="sxs-lookup"><span data-stu-id="fdc22-280">Usually, you use the floating-point versions of these structures.</span></span>

<span data-ttu-id="fdc22-281">Vous n’utilisez pas une fabrique ou une cible de rendu pour instancier des primitives Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fdc22-281">You do not use a factory or a render target to instantiate Direct2D primitives.</span></span> <span data-ttu-id="fdc22-282">Vous pouvez les créer directement ou utiliser les méthodes d’assistance définies dans d2d1helper. h pour les créer.</span><span class="sxs-lookup"><span data-stu-id="fdc22-282">You can create them directly, or use the helper methods defined in d2d1helper.h to create them.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fdc22-283">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="fdc22-283">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fdc22-284">Référence Direct2D</span><span class="sxs-lookup"><span data-stu-id="fdc22-284">Direct2D Reference</span></span>](reference.md)
</dt> <dt>

[<span data-ttu-id="fdc22-285">Exemple de Hello World DirectWrite</span><span class="sxs-lookup"><span data-stu-id="fdc22-285">DirectWrite Hello World Sample</span></span>](/samples/browse/?redirectedfrom=MSDN-samples)
</dt> <dt>

[<span data-ttu-id="fdc22-286">Présentation de DirectWrite</span><span class="sxs-lookup"><span data-stu-id="fdc22-286">Introducing DirectWrite</span></span>](../directwrite/introducing-directwrite.md)
</dt> <dt>

[<span data-ttu-id="fdc22-287">Vue d’ensemble des ressources</span><span class="sxs-lookup"><span data-stu-id="fdc22-287">Resources Overview</span></span>](resources-and-resource-domains.md)
</dt> <dt>

[<span data-ttu-id="fdc22-288">Composant Imagerie Windows (WIC)</span><span class="sxs-lookup"><span data-stu-id="fdc22-288">Windows Imaging Component (WIC)</span></span>](../wic/-wic-about-windows-imaging-codec.md)
</dt> </dl>

 

 