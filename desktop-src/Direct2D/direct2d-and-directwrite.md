---
title: Rendu de texte avec Direct2D et DirectWrite
description: Contrairement à d’autres API, telles que GDI, GDI+ ou WPF, Direct2D interagit avec une autre API, DirectWrite, pour manipuler et restituer le texte. Cette rubrique décrit les avantages et l’interopérabilité de ces composants distincts.
ms.assetid: 1d5b8deb-34e2-433c-8de3-4ef66fb4e49d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e2c49a8f341377bcf78a9a99699a3bd4852411dd
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104564779"
---
# <a name="text-rendering-with-direct2d-and-directwrite"></a><span data-ttu-id="aeadb-104">Rendu de texte avec Direct2D et DirectWrite</span><span class="sxs-lookup"><span data-stu-id="aeadb-104">Text Rendering with Direct2D and DirectWrite</span></span>

<span data-ttu-id="aeadb-105">Contrairement à d’autres API, telles que [GDI](/windows/desktop/gdi/windows-gdi), GDI+ ou WPF, [Direct2D](./direct2d-portal.md) interagit avec une autre API, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal), pour manipuler et restituer le texte.</span><span class="sxs-lookup"><span data-stu-id="aeadb-105">Unlike other APIs, such as [GDI](/windows/desktop/gdi/windows-gdi), GDI+ or WPF, [Direct2D](./direct2d-portal.md) interoperates with another API, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal), to manipulate and render text.</span></span> <span data-ttu-id="aeadb-106">Cette rubrique décrit les avantages et l’interopérabilité de ces composants distincts.</span><span class="sxs-lookup"><span data-stu-id="aeadb-106">This topic describes the benefits and interoperation of these separate components.</span></span>

<span data-ttu-id="aeadb-107">Cette rubrique contient les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="aeadb-107">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="aeadb-108">Direct2D permet l’adoption incrémentielle</span><span class="sxs-lookup"><span data-stu-id="aeadb-108">Direct2D Enables Incremental Adoption</span></span>](#direct2d-enables-incremental-adoption)
-   [<span data-ttu-id="aeadb-109">Services de texte et rendu de texte</span><span class="sxs-lookup"><span data-stu-id="aeadb-109">Text Services versus Text Rendering</span></span>](#text-services-versus-text-rendering)
-   [<span data-ttu-id="aeadb-110">Glyphes et texte</span><span class="sxs-lookup"><span data-stu-id="aeadb-110">Glyphs versus Text</span></span>](#glyphs-versus-text)
-   [<span data-ttu-id="aeadb-111">DirectWrite et Direct2D</span><span class="sxs-lookup"><span data-stu-id="aeadb-111">DirectWrite and Direct2D</span></span>](#directwrite-and-direct2d)
    -   [<span data-ttu-id="aeadb-112">DrawText</span><span class="sxs-lookup"><span data-stu-id="aeadb-112">DrawText</span></span>](#drawtextlayout)
    -   [<span data-ttu-id="aeadb-113">DrawTextLayout</span><span class="sxs-lookup"><span data-stu-id="aeadb-113">DrawTextLayout</span></span>](#drawtextlayout)
    -   [<span data-ttu-id="aeadb-114">DrawGlyphRun</span><span class="sxs-lookup"><span data-stu-id="aeadb-114">DrawGlyphRun</span></span>](#drawglyphrun)
-   [<span data-ttu-id="aeadb-115">Rendu de glyphe</span><span class="sxs-lookup"><span data-stu-id="aeadb-115">Glyph Rendering</span></span>](#glyph-rendering)
-   [<span data-ttu-id="aeadb-116">Conclusion</span><span class="sxs-lookup"><span data-stu-id="aeadb-116">Conclusion</span></span>](#conclusion)

## <a name="direct2d-enables-incremental-adoption"></a><span data-ttu-id="aeadb-117">Direct2D permet l’adoption incrémentielle</span><span class="sxs-lookup"><span data-stu-id="aeadb-117">Direct2D Enables Incremental Adoption</span></span>

<span data-ttu-id="aeadb-118">Le déplacement d’une application d’une API Graphics vers une autre peut être difficile ou pas ce que vous souhaitez pour diverses raisons.</span><span class="sxs-lookup"><span data-stu-id="aeadb-118">Moving an application from one graphics API to another can be difficult or not what you want for various reasons.</span></span> <span data-ttu-id="aeadb-119">Cela peut être dû au fait que vous devez prendre en charge les plug-ins qui utilisent toujours les interfaces plus anciennes, car l’application elle-même est trop volumineuse pour porter vers une nouvelle API dans une version ou parce qu’une partie de l’API plus récente est souhaitable mais que l’ancienne API fonctionne correctement pour d’autres parties de l’application.</span><span class="sxs-lookup"><span data-stu-id="aeadb-119">This might be because you have to support plug-ins that still take the older interfaces, because the application itself is too large to port over to a new API in one release or because some part of the newer API is desirable but the older API is working well enough for other parts of the application.</span></span>

<span data-ttu-id="aeadb-120">Étant donné que [Direct2D](./direct2d-portal.md) et [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) sont implémentés en tant que composants distincts, vous pouvez mettre à niveau l’ensemble du système graphique 2D ou uniquement la partie texte de celui-ci.</span><span class="sxs-lookup"><span data-stu-id="aeadb-120">Because [Direct2D](./direct2d-portal.md) and [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) are implemented as separate components, you can upgrade your whole 2D graphics system or just the text part of it.</span></span> <span data-ttu-id="aeadb-121">Par exemple, vous pouvez mettre à jour une application pour qu’elle utilise DirectWrite pour le texte tout en continuant à utiliser [GDI](/windows/desktop/gdi/windows-gdi) ou GDI+ pour le rendu.</span><span class="sxs-lookup"><span data-stu-id="aeadb-121">For example, you could update an application to use DirectWrite for text but still use [GDI](/windows/desktop/gdi/windows-gdi) or GDI+ for rendering.</span></span>

## <a name="text-services-versus-text-rendering"></a><span data-ttu-id="aeadb-122">Services de texte et rendu de texte</span><span class="sxs-lookup"><span data-stu-id="aeadb-122">Text Services versus Text Rendering</span></span>

<span data-ttu-id="aeadb-123">À mesure que les applications ont évolué, leurs exigences en matière de traitement du texte ont augmenté de plus en plus complexe.</span><span class="sxs-lookup"><span data-stu-id="aeadb-123">As applications have evolved, their text processing requirements have grown increasingly complex.</span></span> <span data-ttu-id="aeadb-124">À première vue, le texte était généralement confiné à l’interface utilisateur disposée statiquement, et le texte était rendu dans une zone bien définie, telle qu’un bouton.</span><span class="sxs-lookup"><span data-stu-id="aeadb-124">At first, text was generally confined to statically laid-out UI, and the text was rendered in a well-defined box, such as a button.</span></span> <span data-ttu-id="aeadb-125">À mesure que les applications commençaient à être disponibles dans un nombre croissant de langages, cette approche est devenue plus difficile à supporter, car la largeur et la hauteur du texte traduit peuvent varier considérablement d’un langage à l’autre.</span><span class="sxs-lookup"><span data-stu-id="aeadb-125">As applications began to be available in a growing number of languages, this approach became more difficult to sustain because both the width and height of the translated text can vary significantly between languages.</span></span> <span data-ttu-id="aeadb-126">Pour s’adapter, les applications ont commencé à disposer de manière dynamique de leur interface utilisateur pour dépendre de la taille de rendu réelle du texte, plutôt que de l’inverse.</span><span class="sxs-lookup"><span data-stu-id="aeadb-126">To adapt, applications started to dynamically lay out their UI to depend on the actual rendered size of the text, instead of the other way around.</span></span>

<span data-ttu-id="aeadb-127">Pour aider les applications à effectuer cette tâche, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) fournit l’interface [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) .</span><span class="sxs-lookup"><span data-stu-id="aeadb-127">To help applications complete this task, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) provides the [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) interface.</span></span> <span data-ttu-id="aeadb-128">Cette API permet à une application de spécifier une partie de texte avec des caractéristiques complexes, telles que des polices et des tailles de police différentes, des soulignements, des strikethroughs, du texte bidirectionnel, des effets, des points de suspension et même des caractères non-glyphes incorporés (tels qu’une émoticône bitmap ou une icône).</span><span class="sxs-lookup"><span data-stu-id="aeadb-128">This API enables an application to specify a piece of text with complex characteristics such as different fonts and font sizes, underlines, strikethroughs, bi-directional text, effects, ellipsis and even embedded non-glyph characters (such as a bitmap emoticon or an icon).</span></span> <span data-ttu-id="aeadb-129">L’application peut ensuite modifier différentes caractéristiques du texte, car il détermine de manière itérative sa disposition d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="aeadb-129">The application can then change various characteristics of the text as it iteratively determines its UI layout.</span></span> <span data-ttu-id="aeadb-130">L' [exemple de Hello World DirectWrite](/samples/browse/?redirectedfrom=MSDN-samples), qui est présenté dans l’illustration suivante et dans la rubrique [Didacticiel : prise en main avec DirectWrite](/windows/desktop/DirectWrite/getting-started-with-directwrite) , présente un grand nombre de ces effets.</span><span class="sxs-lookup"><span data-stu-id="aeadb-130">The [DirectWrite Hello World Sample](/samples/browse/?redirectedfrom=MSDN-samples), which is shown in the following illustration and in the [Tutorial: Getting Started with DirectWrite](/windows/desktop/DirectWrite/getting-started-with-directwrite) topic, shows many of these effects.</span></span>

![capture d’écran de l’exemple « Hello World ».](images/dwrite-hello-world.png)

<span data-ttu-id="aeadb-132">La disposition peut positionner les glyphes idéalement en fonction de leurs largeurs (comme le fait WPF), ou il peut aligner les glyphes sur les positions de pixel les plus proches (comme le fait [GDI](/windows/desktop/gdi/windows-gdi) ).</span><span class="sxs-lookup"><span data-stu-id="aeadb-132">The layout can either position the glyphs ideally based on their widths (as WPF does), or it can snap the glyphs to the nearest pixel positions (as [GDI](/windows/desktop/gdi/windows-gdi) does).</span></span>

<span data-ttu-id="aeadb-133">En plus d’obtenir des mesures de texte, l’application peut effectuer un test de positionnement dans différentes parties du texte.</span><span class="sxs-lookup"><span data-stu-id="aeadb-133">In addition to obtaining text measurements, the application can hit test various parts of the text.</span></span> <span data-ttu-id="aeadb-134">Par exemple, il peut être utile de savoir qu’un clic a été effectué sur un lien hypertexte dans le texte.</span><span class="sxs-lookup"><span data-stu-id="aeadb-134">For example, it might want to know that a hyperlink in the text is clicked.</span></span> <span data-ttu-id="aeadb-135">(Pour plus d’informations sur le test de positionnement, consultez la rubrique [Comment effectuer un test de positionnement sur une disposition de texte](/windows/desktop/DirectWrite/how-to-perform-hit-testing-on-a-text-layout) .)</span><span class="sxs-lookup"><span data-stu-id="aeadb-135">(For more information about hit testing, see the [How to Perform Hit Testing on a Text Layout](/windows/desktop/DirectWrite/how-to-perform-hit-testing-on-a-text-layout) topic.)</span></span>

<span data-ttu-id="aeadb-136">L’interface de disposition du texte est dissociée de l’API de rendu utilisée par l’application, comme le montre le diagramme suivant :</span><span class="sxs-lookup"><span data-stu-id="aeadb-136">The text layout interface is decoupled from the rendering API that the application uses, as the following diagram shows:</span></span>

![diagramme de disposition du texte et de l’API graphique.](images/direct2d-directwrite1.png)

<span data-ttu-id="aeadb-138">Cette séparation est possible car DirectWrite fournit une interface de rendu ([**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer)) que les applications peuvent implémenter pour afficher du texte à l’aide de l’API graphique de votre choix.</span><span class="sxs-lookup"><span data-stu-id="aeadb-138">This separation is possible because DirectWrite provides a rendering interface ([**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer)) that applications can implement to render text by using whatever graphics API you want.</span></span> <span data-ttu-id="aeadb-139">L’application implémentée [**IDWriteTextRenderer ::D rawglyphrun**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) méthode de rappel est appelée par DirectWrite lors du rendu d’une disposition de texte.</span><span class="sxs-lookup"><span data-stu-id="aeadb-139">The application implemented [**IDWriteTextRenderer::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) callback method is called by DirectWrite when rendering a text layout.</span></span> <span data-ttu-id="aeadb-140">Il incombe à cette méthode d’effectuer les opérations de dessin ou de les passer.</span><span class="sxs-lookup"><span data-stu-id="aeadb-140">It is the responsibility of this method to perform the drawing operations or pass them along.</span></span>

<span data-ttu-id="aeadb-141">Pour dessiner des glyphes, [Direct2D](./direct2d-portal.md) fournit [**ID2D1RenderTarget ::D rawglyphrun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) pour le dessin sur une surface Direct2D et [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) fournit [**IDWriteBitmapRenderTarget ::D RAWGLYPHRUN**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) pour le dessin sur une surface GDI qui peut ensuite être transférée à une fenêtre à l’aide de GDI.</span><span class="sxs-lookup"><span data-stu-id="aeadb-141">For drawing glyphs, [Direct2D](./direct2d-portal.md) provides [**ID2D1RenderTarget::DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) for drawing to a Direct2D surface and [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) provides [**IDWriteBitmapRenderTarget::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) for drawing to a GDI surface that can then be transferred to a window by using GDI.</span></span> <span data-ttu-id="aeadb-142">En pratique, les **DrawGlyphRun** dans Direct2D et DirectWrite ont des paramètres compatibles avec la méthode [**DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) que l’application implémente sur [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer).</span><span class="sxs-lookup"><span data-stu-id="aeadb-142">Conveniently, **DrawGlyphRun** in both Direct2D and DirectWrite have exactly compatible parameters to the [**DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) method that the application implements on [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer).</span></span>

<span data-ttu-id="aeadb-143">À la suite d’une séparation similaire, les fonctionnalités spécifiques au texte (telles que l’énumération et la gestion des polices, l’analyse des glyphes, etc.) sont gérées par [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) au lieu de [Direct2D](./direct2d-portal.md).</span><span class="sxs-lookup"><span data-stu-id="aeadb-143">Following a similar separation, text-specific features (such as font enumeration and management, glyph analysis, and so on) are handled by [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) instead of [Direct2D](./direct2d-portal.md).</span></span> <span data-ttu-id="aeadb-144">Les objets DirectWrite sont acceptés directement par Direct2D.</span><span class="sxs-lookup"><span data-stu-id="aeadb-144">The DirectWrite objects are accepted directly by Direct2D.</span></span> <span data-ttu-id="aeadb-145">Pour aider les applications GDI existantes à tirer parti de DirectWrite, il fournit l’interface de méthode [**IDWriteGdiInterop**](/windows/desktop/api/dwrite/nn-dwrite-idwritegdiinterop) avec des méthodes pour effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="aeadb-145">To help existing GDI applications to take advantage of DirectWrite, it provides the [**IDWriteGdiInterop**](/windows/desktop/api/dwrite/nn-dwrite-idwritegdiinterop) method interface with methods to do the following:</span></span>

-   <span data-ttu-id="aeadb-146">Créez une police [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) à partir d’une police logique [GDI](/windows/desktop/gdi/windows-gdi) ([**CreateFontFromLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfromlogfont)).</span><span class="sxs-lookup"><span data-stu-id="aeadb-146">Create a [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) Font from a [GDI](/windows/desktop/gdi/windows-gdi) Logical Font ([**CreateFontFromLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfromlogfont)).</span></span>
-   <span data-ttu-id="aeadb-147">Conversion d’un type de police [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) en une police logique [GDI](/windows/desktop/gdi/windows-gdi) ([**ConvertFontFaceToLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-convertfontfacetologfont)).</span><span class="sxs-lookup"><span data-stu-id="aeadb-147">Convert from a [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) Font Face to a [GDI](/windows/desktop/gdi/windows-gdi) Logical Font ([**ConvertFontFaceToLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-convertfontfacetologfont)).</span></span>
-   <span data-ttu-id="aeadb-148">Récupérez le type de police [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) à partir de celui qui est sélectionné dans un HDC.</span><span class="sxs-lookup"><span data-stu-id="aeadb-148">Retrieve the [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) Font Face from the one that is selected into an HDC.</span></span> <span data-ttu-id="aeadb-149">([**CreateFontFaceFromHdc**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfacefromhdc))</span><span class="sxs-lookup"><span data-stu-id="aeadb-149">([**CreateFontFaceFromHdc**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfacefromhdc))</span></span>
-   <span data-ttu-id="aeadb-150">Créez une [](/windows/desktop/DirectWrite/direct-write-portal) [**cible de rendu de bitmap**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) DirectWrite dans la mémoire système ([**CreateBitmapRenderTarget**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createbitmaprendertarget)).</span><span class="sxs-lookup"><span data-stu-id="aeadb-150">Create a [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) [**bitmap render target**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) in system memory ([**CreateBitmapRenderTarget**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createbitmaprendertarget)).</span></span>

## <a name="glyphs-versus-text"></a><span data-ttu-id="aeadb-151">Glyphes et texte</span><span class="sxs-lookup"><span data-stu-id="aeadb-151">Glyphs versus Text</span></span>

<span data-ttu-id="aeadb-152">Le texte est un ensemble de points de code Unicode (caractères), avec différents modificateurs stylistiques (polices, poids, soulignements, strikethroughs, etc.) disposés dans un rectangle.</span><span class="sxs-lookup"><span data-stu-id="aeadb-152">Text is a set of Unicode code points (characters), with various stylistic modifiers (fonts, weights, underlines, strikethroughs, and so on) that is laid out in a rectangle.</span></span> <span data-ttu-id="aeadb-153">Un glyphe, en revanche, est un index particulier dans un fichier de police particulier.</span><span class="sxs-lookup"><span data-stu-id="aeadb-153">A glyph, in contrast, is a particular index into a particular font file.</span></span> <span data-ttu-id="aeadb-154">Un glyphe définit un ensemble de courbes qui peuvent être rendues, mais il n’a aucune signification textuelle.</span><span class="sxs-lookup"><span data-stu-id="aeadb-154">A glyph defines a set of curves which can be rendered, but, it doesn't have any textual meaning.</span></span> <span data-ttu-id="aeadb-155">Il peut y avoir un mappage plusieurs-à-plusieurs entre des glyphes et des caractères.</span><span class="sxs-lookup"><span data-stu-id="aeadb-155">There is potentially a many-to-many mapping between glyphs and characters.</span></span> <span data-ttu-id="aeadb-156">Une séquence de glyphes qui proviennent du même type de police et qui sont disposés de façon séquentielle sur une ligne de base est appelée [GlyphRun](/windows/desktop/DirectWrite/glyphs-and-glyph-runs).</span><span class="sxs-lookup"><span data-stu-id="aeadb-156">A sequence of glyphs that come from the same Font Face and that are laid-out sequentially on a baseline is called a [GlyphRun](/windows/desktop/DirectWrite/glyphs-and-glyph-runs).</span></span> <span data-ttu-id="aeadb-157">[DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) et [DIRECT2D](./direct2d-portal.md) appellent leurs API de rendu de glyphes les plus précises [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) et leurs signatures sont très similaires.</span><span class="sxs-lookup"><span data-stu-id="aeadb-157">Both [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) and [Direct2D](./direct2d-portal.md) call their most precise glyph rendering API [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) and they have very similar signatures.</span></span> <span data-ttu-id="aeadb-158">Les éléments suivants proviennent de [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) dans Direct2D :</span><span class="sxs-lookup"><span data-stu-id="aeadb-158">The following is from [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) in Direct2D:</span></span>


```
STDMETHOD_(void, DrawGlyphRun)(
        D2D1_POINT_2F baselineOrigin,
        __in CONST DWRITE_GLYPH_RUN *glyphRun,
        __in ID2D1Brush *foregroundBrush,
        DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL 
        ) PURE;
```



<span data-ttu-id="aeadb-159">Et cette méthode provient de [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) dans [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal):</span><span class="sxs-lookup"><span data-stu-id="aeadb-159">And this method is from [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) in [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal):</span></span>


```
STDMETHOD(DrawGlyphRun)(
        FLOAT baselineOriginX,
        FLOAT baselineOriginY,
        DWRITE_MEASURING_MODE measuringMode,
        __in DWRITE_GLYPH_RUN const* glyphRun,
        IDWriteRenderingParams* renderingParams,
        COLORREF textColor,
        __out_opt RECT* blackBoxRect = NULL
        ) PURE;
```



<span data-ttu-id="aeadb-160">La version [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) conserve l’origine de la ligne de base, le mode de mesure et les paramètres d’exécution du glyphe et comprend des paramètres supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="aeadb-160">The [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) version keeps the baseline origin, measuring mode and the glyph run parameters and includes additional parameters.</span></span>

<span data-ttu-id="aeadb-161">[DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) vous permet également d’utiliser un convertisseur personnalisé pour les glyphes en implémentant l’interface [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) .</span><span class="sxs-lookup"><span data-stu-id="aeadb-161">[DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) also enables you to use a custom renderer for glyphs by implementing the [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) interface.</span></span> <span data-ttu-id="aeadb-162">Cette interface a également une méthode **DrawGlyphRun** , comme le montre l’exemple de code suivant.</span><span class="sxs-lookup"><span data-stu-id="aeadb-162">This interface also has a **DrawGlyphRun** method, as the following code example shows.</span></span>


```
STDMETHOD(DrawGlyphRun)(
        __maybenull void* clientDrawingContext,
        FLOAT baselineOriginX,
        FLOAT baselineOriginY,
        DWRITE_MEASURING_MODE measuringMode,
        __in DWRITE_GLYPH_RUN const* glyphRun,
        __in DWRITE_GLYPH_RUN_DESCRIPTION const* glyphRunDescription,
        __maybenull IUnknown* clientDrawingEffect
        ) PURE;
```



<span data-ttu-id="aeadb-163">Cette version comprend davantage de paramètres qui sont utiles quand vous implémentez un [convertisseur de texte personnalisé](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer).</span><span class="sxs-lookup"><span data-stu-id="aeadb-163">This version includes more parameters that are useful when you implement a [custom text renderer](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer).</span></span> <span data-ttu-id="aeadb-164">Le paramètre final est utilisé pour les effets de dessin personnalisés implémentés par l’application.</span><span class="sxs-lookup"><span data-stu-id="aeadb-164">The final parameter is used for application-implemented custom drawing effects.</span></span> <span data-ttu-id="aeadb-165">(Pour plus d’informations sur les effets de dessin client, consultez [comment ajouter des effets de dessin client à une disposition de texte](/windows/desktop/DirectWrite/how-to-add-custom-drawing-efffects-to-a-text-layout).</span><span class="sxs-lookup"><span data-stu-id="aeadb-165">(For more information about client drawing effects see [How to Add Client Drawing Effects to a Text Layout](/windows/desktop/DirectWrite/how-to-add-custom-drawing-efffects-to-a-text-layout).</span></span>

<span data-ttu-id="aeadb-166">Chaque exécution de glyphe commence à une origine et est placée sur une ligne à partir de cette origine.</span><span class="sxs-lookup"><span data-stu-id="aeadb-166">Each glyph run starts at an origin and is put on a line starting from this origin.</span></span> <span data-ttu-id="aeadb-167">Les glyphes sont modifiés par la transformation universelle active et les paramètres de rendu de texte sélectionnés sur la cible de rendu associée.</span><span class="sxs-lookup"><span data-stu-id="aeadb-167">The glyphs are changed by the current world transform and the selected text rendering settings on the associated render target.</span></span> <span data-ttu-id="aeadb-168">Cette API est généralement appelée directement uniquement par les applications qui ont leur propre disposition (par exemple, un traitement de texte) ou par une application qui a implémenté l’interface [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) .</span><span class="sxs-lookup"><span data-stu-id="aeadb-168">This API is generally called directly only by applications that do their own layout (For example a Word Processor) or by an application that has implemented the [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) interface.</span></span>

## <a name="directwrite-and-direct2d"></a><span data-ttu-id="aeadb-169">DirectWrite et Direct2D</span><span class="sxs-lookup"><span data-stu-id="aeadb-169">DirectWrite and Direct2D</span></span>

<span data-ttu-id="aeadb-170">[Direct2D](./direct2d-portal.md) fournit des services de rendu de niveau glyphe par le biais de [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span><span class="sxs-lookup"><span data-stu-id="aeadb-170">[Direct2D](./direct2d-portal.md) provides glyph level rendering services through [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span></span> <span data-ttu-id="aeadb-171">Toutefois, cela nécessite que l’application implémente les détails du rendu, ce qui reproduit fondamentalement les fonctionnalités de l’API [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext) de GDI.</span><span class="sxs-lookup"><span data-stu-id="aeadb-171">However, this requires the application to implement the details of rendering, which basically reproduces the functionality of the [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext) API from GDI on its own.</span></span>

<span data-ttu-id="aeadb-172">Par conséquent, [Direct2D](./direct2d-portal.md) fournit des API qui acceptent du texte au lieu de glyphes : [**ID2D1RenderTarget ::D rawtextlayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) et [**ID2D1RenderTarget ::D rawtext**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span><span class="sxs-lookup"><span data-stu-id="aeadb-172">Therefore, [Direct2D](./direct2d-portal.md) provides APIs that accept text instead of glyphs: [**ID2D1RenderTarget::DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) and [**ID2D1RenderTarget::DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span></span> <span data-ttu-id="aeadb-173">Les deux méthodes sont rendues sur une surface Direct2D.</span><span class="sxs-lookup"><span data-stu-id="aeadb-173">Both methods render to a Direct2D surface.</span></span> <span data-ttu-id="aeadb-174">Pour effectuer un rendu sur une surface GDI, [**IDWriteBitmapRenderTarget ::D rawglyphrun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) est fourni.</span><span class="sxs-lookup"><span data-stu-id="aeadb-174">To render to a GDI surface, [**IDWriteBitmapRenderTarget::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) is provided.</span></span> <span data-ttu-id="aeadb-175">Toutefois, cette méthode requiert l’implémentation d’un convertisseur de texte personnalisé par l’application.</span><span class="sxs-lookup"><span data-stu-id="aeadb-175">But this method requires a custom text renderer to be implemented by the application.</span></span> <span data-ttu-id="aeadb-176">(Pour plus d’informations, consultez la rubrique [rendu dans une surface GDI](/windows/desktop/DirectWrite/render-to-a-gdi-surface) .)</span><span class="sxs-lookup"><span data-stu-id="aeadb-176">(For more information, see the [Render to a GDI Surface](/windows/desktop/DirectWrite/render-to-a-gdi-surface) topic.)</span></span>

<span data-ttu-id="aeadb-177">L’utilisation d’une application de texte commence généralement par simple : put **OK** ou **Cancel** sur un bouton de disposition fixe, par exemple.</span><span class="sxs-lookup"><span data-stu-id="aeadb-177">An application's usage of text typically starts simple: put **OK** or **Cancel** on a fixed-layout button, for example.</span></span> <span data-ttu-id="aeadb-178">Toutefois, au fil du temps, il devient plus complexe en tant qu’internationalisation et d’autres fonctionnalités sont ajoutées.</span><span class="sxs-lookup"><span data-stu-id="aeadb-178">However, over time, it becomes more complex as internationalization and other features are added.</span></span> <span data-ttu-id="aeadb-179">Finalement, de nombreuses applications devront utiliser les objets de mise en page [de texte de DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) et implémenter le convertisseur de texte.</span><span class="sxs-lookup"><span data-stu-id="aeadb-179">Eventually many applications will have to use [DirectWrite's](/windows/desktop/DirectWrite/direct-write-portal) text layout objects and implement the text renderer.</span></span>

<span data-ttu-id="aeadb-180">Par conséquent, [Direct2D](./direct2d-portal.md) fournit des API en couches qui permettent à une application de démarrer simplement et de croître plus sophistiquées sans devoir suivre ou abandonner son code de travail.</span><span class="sxs-lookup"><span data-stu-id="aeadb-180">Therefore, [Direct2D](./direct2d-portal.md) provides layered APIs that enable an application to start simply and grow more sophisticated without having to back-track or abandon their working code.</span></span> <span data-ttu-id="aeadb-181">Un affichage simplifié est illustré dans le diagramme suivant :</span><span class="sxs-lookup"><span data-stu-id="aeadb-181">A simplified view is shown in the following diagram:</span></span>

![diagramme d’application DirectWrite et Direct2D.](images/direct2d-directwrite2.png)

### <a name="drawtext"></a><span data-ttu-id="aeadb-183">DrawText</span><span class="sxs-lookup"><span data-stu-id="aeadb-183">DrawText</span></span>

<span data-ttu-id="aeadb-184">[**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) est le plus simple des API à utiliser.</span><span class="sxs-lookup"><span data-stu-id="aeadb-184">[**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) is the simplest of the APIs to use.</span></span> <span data-ttu-id="aeadb-185">Elle prend une chaîne Unicode, un pinceau de premier plan, un objet de format unique et un rectangle de destination.</span><span class="sxs-lookup"><span data-stu-id="aeadb-185">It takes a Unicode string, a foreground brush, a single format object and a destination rectangle.</span></span> <span data-ttu-id="aeadb-186">Elle disposera et effectuera le rendu de la chaîne entière dans le rectangle de disposition, et la décomposera éventuellement.</span><span class="sxs-lookup"><span data-stu-id="aeadb-186">It will lay out and render the whole string within the layout rectangle, and optionally clip it.</span></span> <span data-ttu-id="aeadb-187">Cela est utile lorsque vous placez un élément de texte simple dans une partie de l’interface utilisateur de disposition fixe.</span><span class="sxs-lookup"><span data-stu-id="aeadb-187">This is useful when you put a simple piece of text in a piece of fixed-layout UI.</span></span>

### <a name="drawtextlayout"></a><span data-ttu-id="aeadb-188">DrawTextLayout</span><span class="sxs-lookup"><span data-stu-id="aeadb-188">DrawTextLayout</span></span>

<span data-ttu-id="aeadb-189">En créant un objet [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) , une application peut commencer à mesurer et à réorganiser le texte et d’autres éléments d’interface utilisateur, et à prendre en charge plusieurs polices, styles, soulignements et strikethroughs.</span><span class="sxs-lookup"><span data-stu-id="aeadb-189">By creating an [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) object, an application can start measuring and arranging the text and other UI elements, and support multiple fonts, styles, underlines and strikethroughs.</span></span> <span data-ttu-id="aeadb-190">[Direct2D](./direct2d-portal.md) fournit l’API [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) qui accepte directement cet objet et restitue le texte à un point donné.</span><span class="sxs-lookup"><span data-stu-id="aeadb-190">[Direct2D](./direct2d-portal.md) provides the [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) API that directly accepts this object and renders the text at a given point.</span></span> <span data-ttu-id="aeadb-191">(La largeur et la hauteur sont fournies par l’objet Layout).</span><span class="sxs-lookup"><span data-stu-id="aeadb-191">(The width and height are provided by the layout object).</span></span> <span data-ttu-id="aeadb-192">En plus d’implémenter toutes les fonctionnalités de disposition du texte attendues, Direct2D interprète tout objet Effect comme un pinceau et applique ce pinceau à la plage de glyphes sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="aeadb-192">In addition to implementing all the expected text layout features, Direct2D will interpret any effect object as a brush and apply that brush to the selected range of glyphs.</span></span> <span data-ttu-id="aeadb-193">Il appelle également tous les objets Inline.</span><span class="sxs-lookup"><span data-stu-id="aeadb-193">It will also call any inline objects.</span></span> <span data-ttu-id="aeadb-194">Une application peut ensuite insérer des caractères non-glyphes (icônes) dans le texte si elle le souhaite.</span><span class="sxs-lookup"><span data-stu-id="aeadb-194">An application can then insert non-glyph characters (icons) into the text if it wishes.</span></span> <span data-ttu-id="aeadb-195">Un autre avantage de l’utilisation d’un objet de disposition de texte est que les positions de glyphe sont mises en cache dans celui-ci.</span><span class="sxs-lookup"><span data-stu-id="aeadb-195">Another advantage of using a text layout object is that the glyph positions are cached in it.</span></span> <span data-ttu-id="aeadb-196">Par conséquent, un gain de performances important est possible en réutilisant le même objet de disposition pour plusieurs appels de dessin et en évitant le recalcul des positions de glyphes pour chaque appel.</span><span class="sxs-lookup"><span data-stu-id="aeadb-196">Therefore, a large performance gain is possible by reusing the same layout object for multiple draw calls and avoiding recalculating the glyph positions for each call.</span></span> <span data-ttu-id="aeadb-197">Cette fonctionnalité n’est pas présente pour la [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))de GDI.</span><span class="sxs-lookup"><span data-stu-id="aeadb-197">This capability is not present for GDI's [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span></span>

### <a name="drawglyphrun"></a><span data-ttu-id="aeadb-198">DrawGlyphRun</span><span class="sxs-lookup"><span data-stu-id="aeadb-198">DrawGlyphRun</span></span>

<span data-ttu-id="aeadb-199">Enfin, l’application peut implémenter l’interface [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) elle-même et appeler [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) et [**FILLRECTANGLE**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillrectangle(constd2d1_rect_f_id2d1brush)) , ou toute autre API de rendu.</span><span class="sxs-lookup"><span data-stu-id="aeadb-199">Finally, the application can implement the [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) interface itself and call [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) and [**FillRectangle**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillrectangle(constd2d1_rect_f_id2d1brush)) itself, or any other rendering API.</span></span> <span data-ttu-id="aeadb-200">Toute l’interaction existante avec l’objet de mise en page de texte reste inchangée.</span><span class="sxs-lookup"><span data-stu-id="aeadb-200">All the existing interaction with the Text Layout object will remain unchanged.</span></span>

<span data-ttu-id="aeadb-201">Pour obtenir un exemple d’implémentation d’un convertisseur de texte personnalisé, consultez la rubrique [rendu à l’aide d’un convertisseur de texte personnalisé](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer) .</span><span class="sxs-lookup"><span data-stu-id="aeadb-201">For an example of how to implement a custom text renderer see the [Render Using a Custom Text Renderer](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer) topic.</span></span>

## <a name="glyph-rendering"></a><span data-ttu-id="aeadb-202">Rendu de glyphe</span><span class="sxs-lookup"><span data-stu-id="aeadb-202">Glyph Rendering</span></span>

<span data-ttu-id="aeadb-203">L’ajout de [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) à une application GDI existante permet à l’application d’utiliser l’API [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) pour afficher les glyphes.</span><span class="sxs-lookup"><span data-stu-id="aeadb-203">Adding [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) to an existing GDI application enables the application to use the [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) API to render glyphs.</span></span> <span data-ttu-id="aeadb-204">La méthode [**IDWriteBitmapRenderTarget ::D rawglyphrun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) fournie par DirectWrite s’affiche en couleur unie sur un contrôleur de périphérique de mémoire sans nécessiter d’API supplémentaires, telles que [Direct2D](./direct2d-portal.md).</span><span class="sxs-lookup"><span data-stu-id="aeadb-204">The [**IDWriteBitmapRenderTarget::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) method that DirectWrite provides will render in solid color to a memory DC without requiring any additional APIs, such as [Direct2D](./direct2d-portal.md).</span></span>

<span data-ttu-id="aeadb-205">Cela permet à l’application d’obtenir des fonctionnalités de rendu de texte avancées, telles que les suivantes :</span><span class="sxs-lookup"><span data-stu-id="aeadb-205">This enables the application to obtain advanced text rendering features such as the following:</span></span>

-   <span data-ttu-id="aeadb-206">La fonction ClearType sous-pixel permet à une application de placer des glyphes sur des positions de sous-pixel pour permettre le rendu des glyphes nets et la disposition des glyphes.</span><span class="sxs-lookup"><span data-stu-id="aeadb-206">Sub-pixel ClearType enables an application to put glyphs on sub-pixel positions to allow for both sharp glyph rendering and glyph layout.</span></span>
-   <span data-ttu-id="aeadb-207">L’anticrénelage de direction Y permet un rendu plus lisse des courbes sur les glyphes plus grands.</span><span class="sxs-lookup"><span data-stu-id="aeadb-207">Y-direction antialiasing enables smoother rendering of curves on larger glyphs.</span></span>

<span data-ttu-id="aeadb-208">Une application qui se déplace vers [Direct2D](./direct2d-portal.md) obtiendra également les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="aeadb-208">An application moving to [Direct2D](./direct2d-portal.md) will also obtain the following features:</span></span>

-   <span data-ttu-id="aeadb-209">Accélération matérielle.</span><span class="sxs-lookup"><span data-stu-id="aeadb-209">Hardware acceleration.</span></span>
-   <span data-ttu-id="aeadb-210">Capacité de remplir du texte à l’aide d’un pinceau [Direct2D](./direct2d-portal.md) arbitraire, tel que les dégradés radiaux, les dégradés linéaires et les bitmaps.</span><span class="sxs-lookup"><span data-stu-id="aeadb-210">The ability to fill text with an arbitrary [Direct2D](./direct2d-portal.md) brush, such as radial gradients, linear gradients, and bitmaps.</span></span>
-   <span data-ttu-id="aeadb-211">Prise en charge supplémentaire de la superposition et du découpage via les API [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)), [**PushLayer**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushlayer(constd2d1_layer_parameters__id2d1layer)) et [**CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) .</span><span class="sxs-lookup"><span data-stu-id="aeadb-211">More support for layering and clipping through the [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)), [**PushLayer**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushlayer(constd2d1_layer_parameters__id2d1layer)) and [**CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) APIs.</span></span>
-   <span data-ttu-id="aeadb-212">La possibilité de prendre en charge le rendu de texte en nuances de gris.</span><span class="sxs-lookup"><span data-stu-id="aeadb-212">The ability to support Grayscale text rendering.</span></span> <span data-ttu-id="aeadb-213">Cela remplit correctement le canal alpha de destination en fonction de l’opacité du pinceau de texte et de l’anticrénelage du texte.</span><span class="sxs-lookup"><span data-stu-id="aeadb-213">This correctly populates the destination alpha channel according to both the text brush opacity and the antialiasing of the text.</span></span>

<span data-ttu-id="aeadb-214">Pour prendre en charge efficacement l’accélération matérielle, [Direct2D](./direct2d-portal.md) utilise une approximation légèrement différente de la correction gamma appelée *Correction alpha*.</span><span class="sxs-lookup"><span data-stu-id="aeadb-214">To efficiently support hardware acceleration, [Direct2D](./direct2d-portal.md) uses a slightly different approximation to Gamma correction called *alpha correction*.</span></span> <span data-ttu-id="aeadb-215">Cela ne requiert pas Direct2D pour inspecter le pixel de couleur de la cible de rendu lors du rendu du texte.</span><span class="sxs-lookup"><span data-stu-id="aeadb-215">This does not require Direct2D to inspect the render target color pixel when rendering text.</span></span>

## <a name="conclusion"></a><span data-ttu-id="aeadb-216">Conclusion</span><span class="sxs-lookup"><span data-stu-id="aeadb-216">Conclusion</span></span>

<span data-ttu-id="aeadb-217">Cette rubrique explique les différences et similarités entre [Direct2D](./direct2d-portal.md) et [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) et les motivations architecturales pour les fournir comme API coopératives distinctes.</span><span class="sxs-lookup"><span data-stu-id="aeadb-217">This topic explains the differences and similarities between [Direct2D](./direct2d-portal.md) and [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) and the architectural motivations for providing them as separate, cooperative APIs.</span></span>

 

 