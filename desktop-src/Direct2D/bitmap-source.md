---
title: Effet de source bitmap
description: Utilisez l’effet de source bitmap pour générer un ID2D1Image à partir d’un IWICBitmapSource pour une utilisation en tant qu’entrée dans un graphique d’effet.
ms.assetid: 86646111-208A-4E6D-A28C-7B23A1742D24
keywords:
- effet de source bitmap
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a439c94f0f520b318b3cb3511775dbec58b6e139
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/12/2020
ms.locfileid: "103844241"
---
# <a name="bitmap-source-effect"></a><span data-ttu-id="b4176-104">Effet de source bitmap</span><span class="sxs-lookup"><span data-stu-id="b4176-104">Bitmap source effect</span></span>

<span data-ttu-id="b4176-105">Utilisez l’effet de source bitmap pour générer un [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) à partir d’un [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) pour une utilisation en tant qu’entrée dans un graphique d’effet.</span><span class="sxs-lookup"><span data-stu-id="b4176-105">Use the bitmap source effect to generate an [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) from a [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) for use as an input in an effect graph.</span></span> <span data-ttu-id="b4176-106">Cet effet effectue une mise à l’échelle et une rotation sur le processeur.</span><span class="sxs-lookup"><span data-stu-id="b4176-106">This effect performs scaling and rotation on the CPU.</span></span> <span data-ttu-id="b4176-107">Il peut également générer un mipmap de mémoire système, qui peut être une optimisation des performances pour la mise à l’échelle active des images très volumineuses à différentes résolutions réduites.</span><span class="sxs-lookup"><span data-stu-id="b4176-107">It can also optionally generate a system memory mipmap, which can be a performance optimization for actively scaling very large images at various reduced resolutions.</span></span>

> [!Note]  
> <span data-ttu-id="b4176-108">L’effet de la source bitmap prend son entrée comme une propriété, et non comme une entrée d’image.</span><span class="sxs-lookup"><span data-stu-id="b4176-108">The bitmap source effect takes its input as a property, not as an image input.</span></span> <span data-ttu-id="b4176-109">Vous devez utiliser la méthode [**SetValue**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1properties-setvalue(uint32_constbyte_uint32)) , et non la méthode [**SetInput**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1effect-setinput) .</span><span class="sxs-lookup"><span data-stu-id="b4176-109">You must use the [**SetValue**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1properties-setvalue(uint32_constbyte_uint32)) method, not the [**SetInput**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1effect-setinput) method.</span></span> <span data-ttu-id="b4176-110">La propriété *WicBitmapSource* est l’emplacement où vous spécifiez les données d’entrée de l’image.</span><span class="sxs-lookup"><span data-stu-id="b4176-110">The *WicBitmapSource* property is where you specify the image input data.</span></span>

 

<span data-ttu-id="b4176-111">Le CLSID de cet effet est CLSID \_ D2D1BitmapSource.</span><span class="sxs-lookup"><span data-stu-id="b4176-111">The CLSID for this effect is CLSID\_D2D1BitmapSource.</span></span>

-   [<span data-ttu-id="b4176-112">Propriétés d’effet</span><span class="sxs-lookup"><span data-stu-id="b4176-112">Effect properties</span></span>](#effect-properties)
-   [<span data-ttu-id="b4176-113">Modes d’interpolation</span><span class="sxs-lookup"><span data-stu-id="b4176-113">Interpolation modes</span></span>](#interpolation-modes)
-   [<span data-ttu-id="b4176-114">Orientation</span><span class="sxs-lookup"><span data-stu-id="b4176-114">Orientation</span></span>](#orientation)
-   [<span data-ttu-id="b4176-115">Modes alpha</span><span class="sxs-lookup"><span data-stu-id="b4176-115">Alpha modes</span></span>](#alpha-modes)
-   [<span data-ttu-id="b4176-116">Remarques</span><span class="sxs-lookup"><span data-stu-id="b4176-116">Remarks</span></span>](#remarks)
-   [<span data-ttu-id="b4176-117">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="b4176-117">Requirements</span></span>](#requirements)
-   [<span data-ttu-id="b4176-118">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="b4176-118">Related topics</span></span>](#related-topics)

## <a name="effect-properties"></a><span data-ttu-id="b4176-119">Propriétés d’effet</span><span class="sxs-lookup"><span data-stu-id="b4176-119">Effect properties</span></span>



| <span data-ttu-id="b4176-120">Nom complet et énumération d’index</span><span class="sxs-lookup"><span data-stu-id="b4176-120">Display name and index enumeration</span></span>                                                          | <span data-ttu-id="b4176-121">Description</span><span class="sxs-lookup"><span data-stu-id="b4176-121">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b4176-122">WicBitmapSource</span><span class="sxs-lookup"><span data-stu-id="b4176-122">WicBitmapSource</span></span><br/> <span data-ttu-id="b4176-123">\_Source de bitmap d2d1 BITMAPSOURCE \_ prop \_ WIC \_ \_</span><span class="sxs-lookup"><span data-stu-id="b4176-123">D2D1\_BITMAPSOURCE\_PROP\_WIC\_BITMAP\_SOURCE</span></span><br/>         | <span data-ttu-id="b4176-124">[IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource) contenant les données d’image à charger.</span><span class="sxs-lookup"><span data-stu-id="b4176-124">The [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource) containing the image data to be loaded.</span></span><br/> <span data-ttu-id="b4176-125">Le type est [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource).</span><span class="sxs-lookup"><span data-stu-id="b4176-125">The type is [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource).</span></span><br/> <span data-ttu-id="b4176-126">La valeur par défaut est NULL.</span><span class="sxs-lookup"><span data-stu-id="b4176-126">The default value is NULL.</span></span><br/>                                                                                                                                                                                                                   |
| <span data-ttu-id="b4176-127">Scale</span><span class="sxs-lookup"><span data-stu-id="b4176-127">Scale</span></span><br/> <span data-ttu-id="b4176-128">\_Échelle d2d1 BITMAPSOURCE \_ prop \_</span><span class="sxs-lookup"><span data-stu-id="b4176-128">D2D1\_BITMAPSOURCE\_PROP\_SCALE</span></span><br/>                                 | <span data-ttu-id="b4176-129">Le montant de l’échelle sur les directions X et Y.</span><span class="sxs-lookup"><span data-stu-id="b4176-129">The scale amount in the X and Y direction.</span></span> <span data-ttu-id="b4176-130">L’effet multiplie la largeur par la valeur X et la hauteur par la valeur Y.</span><span class="sxs-lookup"><span data-stu-id="b4176-130">The effect multiplies the width by the X value and the height by the Y value.</span></span> <span data-ttu-id="b4176-131">Cette propriété est un \_ vecteur d2d1 \_ 2F défini comme suit : (échelle X, échelle Y).</span><span class="sxs-lookup"><span data-stu-id="b4176-131">This property is a D2D1\_VECTOR\_2F defined as: (X scale, Y scale).</span></span> <span data-ttu-id="b4176-132">Les valeurs de mise à l’échelle sont FLOAT, sans unité, et doivent être positives ou égales à 0.</span><span class="sxs-lookup"><span data-stu-id="b4176-132">The scale amounts are FLOAT, unitless, and must be positive or 0.</span></span><br/> <span data-ttu-id="b4176-133">Le type est D2D1 \_ Vector \_ 2F.</span><span class="sxs-lookup"><span data-stu-id="b4176-133">The type is D2D1\_VECTOR\_2F.</span></span><br/> <span data-ttu-id="b4176-134">La valeur par défaut est {1.0 f, 1.0 f}.</span><span class="sxs-lookup"><span data-stu-id="b4176-134">The default value is {1.0f, 1.0f}.</span></span><br/>                                                                           |
| <span data-ttu-id="b4176-135">InterpolationMode.</span><span class="sxs-lookup"><span data-stu-id="b4176-135">InterpolationMode.</span></span><br/> <span data-ttu-id="b4176-136">\_Mode d’interpolation d2d1 BITMAPSOURCE \_ prop \_ \_</span><span class="sxs-lookup"><span data-stu-id="b4176-136">D2D1\_BITMAPSOURCE\_PROP\_INTERPOLATION\_MODE</span></span><br/>      | <span data-ttu-id="b4176-137">Mode d’interpolation utilisé pour mettre à l’échelle l’image.</span><span class="sxs-lookup"><span data-stu-id="b4176-137">The interpolation mode used to scale the image.</span></span> <span data-ttu-id="b4176-138">Pour plus d’informations, consultez [modes d’interpolation](#interpolation-modes) .</span><span class="sxs-lookup"><span data-stu-id="b4176-138">See [Interpolation modes](#interpolation-modes) for more info.</span></span><br/> <span data-ttu-id="b4176-139">Si le mode désactive le mipmap, BitmapSouce met en cache l’image à la résolution déterminée par les propriétés Scale et EnableDPICorrection.</span><span class="sxs-lookup"><span data-stu-id="b4176-139">If the mode disables the mipmap, then BitmapSouce will cache the image at the resolution determined by the Scale and EnableDPICorrection properties.</span></span><br/> <span data-ttu-id="b4176-140">Le type est D2D1 \_ \_ mode d’interpolation BITMAPSOURCE \_ .</span><span class="sxs-lookup"><span data-stu-id="b4176-140">The type is D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE.</span></span><br/> <span data-ttu-id="b4176-141">La valeur par défaut est D2D1 le \_ \_ mode d’interpolation BITMAPSOURCE \_ \_ linéaire.</span><span class="sxs-lookup"><span data-stu-id="b4176-141">The default value is D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_LINEAR.</span></span><br/> |
| <span data-ttu-id="b4176-142">EnableDPICorrection</span><span class="sxs-lookup"><span data-stu-id="b4176-142">EnableDPICorrection</span></span><br/> <span data-ttu-id="b4176-143">D2D1 \_ BITMAPSOURCE \_ prop \_ activer \_ la \_ Correction PPP</span><span class="sxs-lookup"><span data-stu-id="b4176-143">D2D1\_BITMAPSOURCE\_PROP\_ENABLE\_DPI\_CORRECTION</span></span><br/> | <span data-ttu-id="b4176-144">Si vous affectez la valeur TRUE à cette propriété, l’effet met à l’échelle l’image d’entrée pour convertir les PPP signalées par [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) en PPP du contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="b4176-144">If you set this to TRUE, the effect will scale the input image to convert the DPI reported by [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) to the DPI of the device context.</span></span> <span data-ttu-id="b4176-145">L’effet utilise le mode d’interpolation que vous définissez avec la propriété InterpolationMode.</span><span class="sxs-lookup"><span data-stu-id="b4176-145">The effect uses the interpolation mode you set with the InterpolationMode property.</span></span> <span data-ttu-id="b4176-146">Si vous définissez cette valeur sur FALSe, l’effet utilise une résolution de 96,0 pour l’image de sortie.</span><span class="sxs-lookup"><span data-stu-id="b4176-146">If you set this to FALSE, the effect uses a DPI of 96.0 for the output image.</span></span><br/> <span data-ttu-id="b4176-147">Le type est BOOL.</span><span class="sxs-lookup"><span data-stu-id="b4176-147">The type is BOOL.</span></span><br/> <span data-ttu-id="b4176-148">La valeur par défaut est FALSE.</span><span class="sxs-lookup"><span data-stu-id="b4176-148">The default value is FALSE.</span></span><br/>   |
| <span data-ttu-id="b4176-149">AlphaMode</span><span class="sxs-lookup"><span data-stu-id="b4176-149">AlphaMode</span></span><br/> <span data-ttu-id="b4176-150">D2D1 \_ BITMAPSOURCE \_ prop \_ ( \_ mode Alpha)</span><span class="sxs-lookup"><span data-stu-id="b4176-150">D2D1\_BITMAPSOURCE\_PROP\_ALPHA\_MODE</span></span><br/>                       | <span data-ttu-id="b4176-151">Mode Alpha de la sortie.</span><span class="sxs-lookup"><span data-stu-id="b4176-151">The alpha mode of the output.</span></span> <span data-ttu-id="b4176-152">Cette valeur peut être prémultipliée ou directe.</span><span class="sxs-lookup"><span data-stu-id="b4176-152">This can be either premultiplied or straight.</span></span> <span data-ttu-id="b4176-153">Pour plus d’informations, consultez [modes alpha](#alpha-modes) .</span><span class="sxs-lookup"><span data-stu-id="b4176-153">See [Alpha modes](#alpha-modes) for more info.</span></span><br/> <span data-ttu-id="b4176-154">Le type est D2D1 \_ le \_ mode Alpha BITMAPSOURCE \_ .</span><span class="sxs-lookup"><span data-stu-id="b4176-154">The type is D2D1\_BITMAPSOURCE\_ALPHA\_MODE.</span></span><br/> <span data-ttu-id="b4176-155">La valeur par défaut est D2D1 le \_ \_ mode Alpha BITMAPSOURCE \_ \_ prémultiplié.</span><span class="sxs-lookup"><span data-stu-id="b4176-155">The default value is D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_PREMULTIPLIED.</span></span><br/>                                                                                                                                                              |
| <span data-ttu-id="b4176-156">Orientation</span><span class="sxs-lookup"><span data-stu-id="b4176-156">Orientation</span></span><br/> <span data-ttu-id="b4176-157">\_Orientation d2d1 BITMAPSOURCE \_ prop \_</span><span class="sxs-lookup"><span data-stu-id="b4176-157">D2D1\_BITMAPSOURCE\_PROP\_ORIENTATION</span></span><br/>                     | <span data-ttu-id="b4176-158">Opération d’inversion et/ou de rotation à effectuer sur l’image.</span><span class="sxs-lookup"><span data-stu-id="b4176-158">A flip and/or rotation operation to be performed on the image.</span></span> <span data-ttu-id="b4176-159">Pour plus d’informations, consultez [orientation](#orientation) .</span><span class="sxs-lookup"><span data-stu-id="b4176-159">See [Orientation](#orientation) for more info.</span></span><br/> <span data-ttu-id="b4176-160">Le type est D2D1 \_ BITMAPSOURCE \_ orientation.</span><span class="sxs-lookup"><span data-stu-id="b4176-160">The type is D2D1\_BITMAPSOURCE\_ORIENTATION.</span></span><br/> <span data-ttu-id="b4176-161">La valeur par défaut est D2D1 l' \_ orientation de BITMAPSOURCE \_ \_ par défaut.</span><span class="sxs-lookup"><span data-stu-id="b4176-161">The default value is D2D1\_BITMAPSOURCE\_ORIENTATION\_DEFAULT.</span></span><br/>                                                                                                                                                                                 |



 

## <a name="interpolation-modes"></a><span data-ttu-id="b4176-162">Modes d’interpolation</span><span class="sxs-lookup"><span data-stu-id="b4176-162">Interpolation modes</span></span>

<span data-ttu-id="b4176-163">L’effet est interpolé à l’aide de ce mode lorsqu’il met à l’échelle une image ou lorsqu’il corrige les PPP.</span><span class="sxs-lookup"><span data-stu-id="b4176-163">The effect interpolates using this mode when it scales an image or when it corrects the DPI.</span></span> <span data-ttu-id="b4176-164">Les modes d’interpolation utilisés par cet effet sont calculés par le processeur, et non par le GPU.</span><span class="sxs-lookup"><span data-stu-id="b4176-164">The interpolation modes this effect uses are calculated by the CPU, not the GPU.</span></span>



| <span data-ttu-id="b4176-165">Nom</span><span class="sxs-lookup"><span data-stu-id="b4176-165">Name</span></span>                                                       | <span data-ttu-id="b4176-166">Description</span><span class="sxs-lookup"><span data-stu-id="b4176-166">Description</span></span>                                                                                                                                                                                                                          |
|------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b4176-167">\_Mode d' \_ interpolation BITMAPSOURCE \_ d2d1 \_ le plus proche \_ voisin</span><span class="sxs-lookup"><span data-stu-id="b4176-167">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_NEAREST\_NEIGHBOR</span></span> | <span data-ttu-id="b4176-168">Échantillonne le point unique le plus proche et l’utilise.</span><span class="sxs-lookup"><span data-stu-id="b4176-168">Samples the nearest single point and uses that.</span></span> <span data-ttu-id="b4176-169">Ne génère pas de mipmap.</span><span class="sxs-lookup"><span data-stu-id="b4176-169">Doesn't generate a mipmap.</span></span>                                                                                                                                                           |
| <span data-ttu-id="b4176-170">\_Mode d' \_ interpolation d2d1 BITMAPSOURCE \_ \_ linéaire</span><span class="sxs-lookup"><span data-stu-id="b4176-170">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_LINEAR</span></span>            | <span data-ttu-id="b4176-171">Utilise un échantillon à quatre points et une interpolation linéaire.</span><span class="sxs-lookup"><span data-stu-id="b4176-171">Uses a four point sample and linear interpolation.</span></span> <span data-ttu-id="b4176-172">Ne génère pas de mipmap.</span><span class="sxs-lookup"><span data-stu-id="b4176-172">Doesn't generate a mipmap.</span></span>                                                                                                                                                        |
| <span data-ttu-id="b4176-173">D2D1 \_ \_ mode d’interpolation \_ BITMAPSOURCE \_ cubique</span><span class="sxs-lookup"><span data-stu-id="b4176-173">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_CUBIC</span></span>             | <span data-ttu-id="b4176-174">Utilise un exemple de noyau cubique 16 pour l’interpolation.</span><span class="sxs-lookup"><span data-stu-id="b4176-174">Uses a 16 sample cubic kernel for interpolation.</span></span> <span data-ttu-id="b4176-175">Ne génère pas de mipmap.</span><span class="sxs-lookup"><span data-stu-id="b4176-175">Doesn't generate a mipmap.</span></span>                                                                                                                                                          |
| <span data-ttu-id="b4176-176">D2D1 \_ \_ mode d’interpolation \_ BITMAPSOURCE \_ fant</span><span class="sxs-lookup"><span data-stu-id="b4176-176">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_FANT</span></span>              | <span data-ttu-id="b4176-177">Utilise l’interpolation WIC fant, identique à l’interface [**IWICBitmapScaler**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapscaler) .</span><span class="sxs-lookup"><span data-stu-id="b4176-177">Uses the WIC fant interpolation, the same as the [**IWICBitmapScaler**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapscaler) interface.</span></span> <span data-ttu-id="b4176-178">Ne génère pas de mipmap.</span><span class="sxs-lookup"><span data-stu-id="b4176-178">Doesn't generate a mipmap.</span></span>                                                                                       |
| <span data-ttu-id="b4176-179">D2D1 \_ de \_ MIPMAP mode d’interpolation BITMAPSOURCE \_ \_ \_ linéaire</span><span class="sxs-lookup"><span data-stu-id="b4176-179">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_MIPMAP\_LINEAR</span></span>    | <span data-ttu-id="b4176-180">Génère une chaîne mipmap dans la mémoire système à l’aide de l’interpolation bilinéaire.</span><span class="sxs-lookup"><span data-stu-id="b4176-180">Generates mipmap chain in system memory using bilinear interpolation.</span></span> <span data-ttu-id="b4176-181">Pour chaque mipmap, l’effet s’ajuste au multiple le plus proche de 0,5 à l’aide de l’interpolation bilinéaire, puis ajuste la quantité restante à l’aide d’une interpolation linéaire.</span><span class="sxs-lookup"><span data-stu-id="b4176-181">For each mipmap the effect scales to the nearest multiple of 0.5 using bilinear interpolation and then scales the remaining amount using linear interpolation.</span></span> |



 

## <a name="orientation"></a><span data-ttu-id="b4176-182">Orientation</span><span class="sxs-lookup"><span data-stu-id="b4176-182">Orientation</span></span>

<span data-ttu-id="b4176-183">La propriété orientation peut être utilisée pour appliquer un indicateur d’orientation EXIF incorporé dans une image.</span><span class="sxs-lookup"><span data-stu-id="b4176-183">The Orientation property can be used to apply an EXIF orientation flag that is embedded within an image.</span></span>



| <span data-ttu-id="b4176-184">Nom</span><span class="sxs-lookup"><span data-stu-id="b4176-184">Name</span></span>                                                                    | <span data-ttu-id="b4176-185">Description</span><span class="sxs-lookup"><span data-stu-id="b4176-185">Description</span></span>                                                        |
|-------------------------------------------------------------------------|--------------------------------------------------------------------|
| <span data-ttu-id="b4176-186">D2D1 de l' \_ \_ orientation BITMAPSOURCE \_ par défaut</span><span class="sxs-lookup"><span data-stu-id="b4176-186">D2D1\_BITMAPSOURCE\_ORIENTATION\_DEFAULT</span></span>                                | <span data-ttu-id="b4176-187">Par défaut.</span><span class="sxs-lookup"><span data-stu-id="b4176-187">Default.</span></span> <span data-ttu-id="b4176-188">L’effet ne change pas l’orientation de l’entrée.</span><span class="sxs-lookup"><span data-stu-id="b4176-188">The effect doesn't change the orientation of the input.</span></span>   |
| <span data-ttu-id="b4176-189">D2D1 l’orientation de BITMAPSOURCE de l' \_ \_ \_ \_ horizontale</span><span class="sxs-lookup"><span data-stu-id="b4176-189">D2D1\_BITMAPSOURCE\_ORIENTATION\_FLIP\_HORIZONTAL</span></span>                       | <span data-ttu-id="b4176-190">Retourne l’image horizontalement.</span><span class="sxs-lookup"><span data-stu-id="b4176-190">Flips the image horizontally.</span></span>                                      |
| <span data-ttu-id="b4176-191">D2D1 \_ l' \_ orientation BITMAPSOURCE \_ pivoter \_ CLOCKWISE180</span><span class="sxs-lookup"><span data-stu-id="b4176-191">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE180</span></span>                   | <span data-ttu-id="b4176-192">Fait pivoter l’image dans le sens des aiguilles d’une montre à 180 degrés.</span><span class="sxs-lookup"><span data-stu-id="b4176-192">Rotates the image clockwise 180 degrees.</span></span>                           |
| <span data-ttu-id="b4176-193">D2D1 \_ l' \_ orientation BITMAPSOURCE \_ pivoter \_ CLOCKWISE180 \_ retourner \_ horizontalement</span><span class="sxs-lookup"><span data-stu-id="b4176-193">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE180\_FLIP\_HORIZONTAL</span></span> | <span data-ttu-id="b4176-194">Fait pivoter l’image dans le sens des aiguilles d’une montre à 180 degrés et l’inverse horizontalement.</span><span class="sxs-lookup"><span data-stu-id="b4176-194">Rotates the image clockwise 180 degrees and flips it horizontally.</span></span> |
| <span data-ttu-id="b4176-195">D2D1 \_ l' \_ orientation BITMAPSOURCE \_ pivoter \_ CLOCKWISE270 \_ retourner \_ horizontalement</span><span class="sxs-lookup"><span data-stu-id="b4176-195">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE270\_FLIP\_HORIZONTAL</span></span> | <span data-ttu-id="b4176-196">Fait pivoter l’image dans le sens des aiguilles d’une montre à 270 degrés et l’inverse horizontalement.</span><span class="sxs-lookup"><span data-stu-id="b4176-196">Rotates the image clockwise 270 degrees and flips it horizontally.</span></span> |
| <span data-ttu-id="b4176-197">D2D1 \_ l' \_ orientation BITMAPSOURCE \_ pivoter \_ CLOCKWISE90</span><span class="sxs-lookup"><span data-stu-id="b4176-197">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE90</span></span>                    | <span data-ttu-id="b4176-198">Fait pivoter l’image dans le sens des aiguilles d’une montre à 90 degrés.</span><span class="sxs-lookup"><span data-stu-id="b4176-198">Rotates the image clockwise 90 degrees.</span></span>                            |
| <span data-ttu-id="b4176-199">D2D1 \_ l' \_ orientation BITMAPSOURCE \_ pivoter \_ CLOCKWISE90 \_ retourner \_ horizontalement</span><span class="sxs-lookup"><span data-stu-id="b4176-199">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE90\_FLIP\_HORIZONTAL</span></span>  | <span data-ttu-id="b4176-200">Fait pivoter l’image dans le sens des aiguilles d’une montre à 90 degrés et l’inverse horizontalement.</span><span class="sxs-lookup"><span data-stu-id="b4176-200">Rotates the image clockwise 90 degrees and flips it horizontally.</span></span>  |
| <span data-ttu-id="b4176-201">D2D1 \_ l' \_ orientation BITMAPSOURCE \_ pivoter \_ CLOCKWISE270</span><span class="sxs-lookup"><span data-stu-id="b4176-201">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE270</span></span>                   | <span data-ttu-id="b4176-202">Fait pivoter l’image dans le sens des aiguilles d’une montre à 270 degrés.</span><span class="sxs-lookup"><span data-stu-id="b4176-202">Rotates the image clockwise 270 degrees.</span></span>                           |



 

<span data-ttu-id="b4176-203">Cet extrait de code montre comment convertir des valeurs d’orientation EXIF (définies dans propKey. h) en \_ valeurs d’orientation d2d1 BITMAPSOURCE \_ .</span><span class="sxs-lookup"><span data-stu-id="b4176-203">This code snippet demonstrates how to convert from EXIF orientation values (defined in propkey.h) to D2D1\_BITMAPSOURCE\_ORIENTATION values.</span></span>


```C++
#include <propkey.h>
#include <d2d1effects.h>

D2D1_BITMAPSOURCE_ORIENTATION GetBitmapSourceOrientation(unsigned short PhotoOrientation)
{
       switch (PhotoOrientation)
       {
       case PHOTO_ORIENTATION_NORMAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_DEFAULT;
       case PHOTO_ORIENTATION_FLIPHORIZONTAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE180:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE180;
       case PHOTO_ORIENTATION_FLIPVERTICAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE180_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_TRANSPOSE: 
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE90_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE270:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE90;
       case PHOTO_ORIENTATION_TRANSVERSE:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE270_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE90:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE270;
       default:
              return D2D1_BITMAPSOURCE_ORIENTATION_DEFAULT;
       }
}
```



## <a name="alpha-modes"></a><span data-ttu-id="b4176-204">Modes alpha</span><span class="sxs-lookup"><span data-stu-id="b4176-204">Alpha modes</span></span>



| <span data-ttu-id="b4176-205">Nom</span><span class="sxs-lookup"><span data-stu-id="b4176-205">Name</span></span>                                           | <span data-ttu-id="b4176-206">Description</span><span class="sxs-lookup"><span data-stu-id="b4176-206">Description</span></span>                                            |
|------------------------------------------------|--------------------------------------------------------|
| <span data-ttu-id="b4176-207">D2D1 \_ \_ mode Alpha \_ BITMAPSOURCE \_ prémultiplié</span><span class="sxs-lookup"><span data-stu-id="b4176-207">D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_PREMULTIPLIED</span></span> | <span data-ttu-id="b4176-208">La sortie d’effet utilise une alpha prémultipliée.</span><span class="sxs-lookup"><span data-stu-id="b4176-208">The effect output uses premultiplied alpha.</span></span><br/> |
| <span data-ttu-id="b4176-209">\_ \_ Mode Alpha BITMAPSOURCE \_ d2d1 \_ simple</span><span class="sxs-lookup"><span data-stu-id="b4176-209">D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_STRAIGHT</span></span>      | <span data-ttu-id="b4176-210">La sortie d’effet utilise l’alpha simple.</span><span class="sxs-lookup"><span data-stu-id="b4176-210">The effect output uses straight alpha.</span></span><br/>      |



 

## <a name="remarks"></a><span data-ttu-id="b4176-211">Notes</span><span class="sxs-lookup"><span data-stu-id="b4176-211">Remarks</span></span>

<span data-ttu-id="b4176-212">Pour optimiser les performances lors de l’utilisation conjointe de WIC et de [Direct2D](./direct2d-portal.md) , vous devez utiliser [**IWICFormatConverter**](/windows/desktop/api/wincodec/nn-wincodec-iwicformatconverter) pour convertir au format de pixel approprié en fonction du scénario de votre application et de la précision native de l’image.</span><span class="sxs-lookup"><span data-stu-id="b4176-212">To optimize performance when using WIC and [Direct2D](./direct2d-portal.md) together, you should use [**IWICFormatConverter**](/windows/desktop/api/wincodec/nn-wincodec-iwicformatconverter) to convert to an appropriate pixel format based your app s scenario and the image s native precision.</span></span>

<span data-ttu-id="b4176-213">Dans la plupart des cas, le pipeline [Direct2D](./direct2d-portal.md) de votre application nécessite uniquement 8 bits par canal (BPC) de précision, ou l’image fournit uniquement une précision de 8 BPC. par conséquent, vous devez convertir en GUID \_ WICPixelFormat32bppPBGRA.</span><span class="sxs-lookup"><span data-stu-id="b4176-213">In most cases, either your app s [Direct2D](./direct2d-portal.md) pipeline only requires 8 bits per channel (bpc) of precision, or the image only provides 8 bpc precision, and therefore you should convert to GUID\_WICPixelFormat32bppPBGRA.</span></span> <span data-ttu-id="b4176-214">Toutefois, si vous souhaitez tirer parti d’une précision supplémentaire fournie par une image (par exemple, un fichier JPEG-XR ou TIFF stocké avec une précision supérieure à 8 BPC), vous devez utiliser un format de pixel basé sur RVBA.</span><span class="sxs-lookup"><span data-stu-id="b4176-214">However, if you want to take advantage of extra precision provided by an image (for example, a JPEG-XR or TIFF stored with greater than 8 bpc precision), you should use an RGBA-based pixel format.</span></span> <span data-ttu-id="b4176-215">Le tableau ci-dessous fournit plus de détails.</span><span class="sxs-lookup"><span data-stu-id="b4176-215">The below table provides more details.</span></span>



| <span data-ttu-id="b4176-216">Précision souhaitée</span><span class="sxs-lookup"><span data-stu-id="b4176-216">Desired precision</span></span>   | <span data-ttu-id="b4176-217">Précision native de l’image</span><span class="sxs-lookup"><span data-stu-id="b4176-217">Native precision of the image</span></span> | <span data-ttu-id="b4176-218">Format de pixel recommandé</span><span class="sxs-lookup"><span data-stu-id="b4176-218">Recommended pixel format</span></span>                |
|---------------------|-------------------------------|-----------------------------------------|
| <span data-ttu-id="b4176-219">8 bits par canal</span><span class="sxs-lookup"><span data-stu-id="b4176-219">8 bits per channel</span></span>  | <span data-ttu-id="b4176-220"><= 8 bits par canal</span><span class="sxs-lookup"><span data-stu-id="b4176-220"><= 8 bits per channel</span></span>      | <span data-ttu-id="b4176-221">GUID \_ WICPixelFormat32bppPBGRA</span><span class="sxs-lookup"><span data-stu-id="b4176-221">GUID\_WICPixelFormat32bppPBGRA</span></span>          |
| <span data-ttu-id="b4176-222">Aussi élevée que possible</span><span class="sxs-lookup"><span data-stu-id="b4176-222">As high as possible</span></span> | <span data-ttu-id="b4176-223"><= 8 bits par canal</span><span class="sxs-lookup"><span data-stu-id="b4176-223"><= 8 bits per channel</span></span>      | <span data-ttu-id="b4176-224">GUID \_ WICPixelFormat32bppPBGRA</span><span class="sxs-lookup"><span data-stu-id="b4176-224">GUID\_WICPixelFormat32bppPBGRA</span></span>          |
| <span data-ttu-id="b4176-225">Aussi élevée que possible</span><span class="sxs-lookup"><span data-stu-id="b4176-225">As high as possible</span></span> | <span data-ttu-id="b4176-226">> 8 bits par canal</span><span class="sxs-lookup"><span data-stu-id="b4176-226">> 8 bits per channel</span></span>       | <span data-ttu-id="b4176-227">Ordre des canaux RVBA, alpha prémultiplié</span><span class="sxs-lookup"><span data-stu-id="b4176-227">RGBA channel order, premultiplied alpha</span></span> |



 

<span data-ttu-id="b4176-228">Étant donné que de nombreux formats d’image prennent en charge plusieurs niveaux de précision, vous devez utiliser [**IWICBitmapSource :: GetPixelFormat**](/windows/desktop/wic/-wic-codec-iwicbitmapsource-getpixelformat-proxy) pour obtenir le format de pixel d’image s natif, puis utiliser [**IWICPixelFormatInfo**](/windows/desktop/api/wincodec/nn-wincodec-iwicpixelformatinfo) pour déterminer le nombre de bits par canal de précision disponibles pour ce format.</span><span class="sxs-lookup"><span data-stu-id="b4176-228">Because many image formats support multiple levels of precision, you should use [**IWICBitmapSource::GetPixelFormat**](/windows/desktop/wic/-wic-codec-iwicbitmapsource-getpixelformat-proxy) to obtain the image s native pixel format, and then use [**IWICPixelFormatInfo**](/windows/desktop/api/wincodec/nn-wincodec-iwicpixelformatinfo) to determine how many bits per channel of precision are available for that format.</span></span> <span data-ttu-id="b4176-229">Notez également que tous les matériels ne prennent pas en charge les formats de pixel haute précision.</span><span class="sxs-lookup"><span data-stu-id="b4176-229">Also, note that not all hardware supports high precision pixel formats.</span></span> <span data-ttu-id="b4176-230">Dans ce cas, votre application peut avoir besoin de revenir à l’appareil WARP pour prendre en charge la haute précision.</span><span class="sxs-lookup"><span data-stu-id="b4176-230">In those cases your app may need to fall back to the WARP device to support high precision.</span></span>

## <a name="requirements"></a><span data-ttu-id="b4176-231">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="b4176-231">Requirements</span></span>



| <span data-ttu-id="b4176-232">Condition requise</span><span class="sxs-lookup"><span data-stu-id="b4176-232">Requirement</span></span> | <span data-ttu-id="b4176-233">Valeur</span><span class="sxs-lookup"><span data-stu-id="b4176-233">Value</span></span> |
|--------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="b4176-234">Client minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="b4176-234">Minimum supported client</span></span> | <span data-ttu-id="b4176-235">Windows 8 et mise à jour de plate-forme pour les applications de bureau Windows 7 \[ \| applications du Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="b4176-235">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="b4176-236">Serveur minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="b4176-236">Minimum supported server</span></span> | <span data-ttu-id="b4176-237">Windows 8 et mise à jour de plate-forme pour les applications de bureau Windows 7 \[ \| applications du Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="b4176-237">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="b4176-238">En-tête</span><span class="sxs-lookup"><span data-stu-id="b4176-238">Header</span></span>                   | <span data-ttu-id="b4176-239">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="b4176-239">d2d1effects.h</span></span>                                                                      |
| <span data-ttu-id="b4176-240">Bibliothèque</span><span class="sxs-lookup"><span data-stu-id="b4176-240">Library</span></span>                  | <span data-ttu-id="b4176-241">d2d1. lib, dxguid. lib</span><span class="sxs-lookup"><span data-stu-id="b4176-241">d2d1.lib, dxguid.lib</span></span>                                                               |



 

## <a name="related-topics"></a><span data-ttu-id="b4176-242">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="b4176-242">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b4176-243">**ID2D1Effect**</span><span class="sxs-lookup"><span data-stu-id="b4176-243">**ID2D1Effect**</span></span>](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> </dl>

 

