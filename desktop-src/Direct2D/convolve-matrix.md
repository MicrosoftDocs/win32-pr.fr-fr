---
title: Effet de matrice de convolution
description: Utilisez l’effet matrice convolution pour appliquer un noyau 2D arbitraire à une image. Vous pouvez utiliser cet effet pour brouiller, détecter les bords, faire un relief ou améliorer la netteté d’une image.
ms.assetid: D9C23AC4-0090-4F16-AC59-B952FB616FA9
keywords:
- effet matrice conversion
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 27951f5b9145dc46188e6b3112892d1a61856236
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/12/2020
ms.locfileid: "104566142"
---
# <a name="convolve-matrix-effect"></a><span data-ttu-id="0ce94-105">Effet de matrice de convolution</span><span class="sxs-lookup"><span data-stu-id="0ce94-105">Convolve matrix effect</span></span>

<span data-ttu-id="0ce94-106">Utilisez l’effet matrice convolution pour appliquer un noyau 2D arbitraire à une image.</span><span class="sxs-lookup"><span data-stu-id="0ce94-106">Use the convolve matrix effect to apply an arbitrary 2D kernel to an image.</span></span> <span data-ttu-id="0ce94-107">Vous pouvez utiliser cet effet pour brouiller, détecter les bords, faire un relief ou améliorer la netteté d’une image.</span><span class="sxs-lookup"><span data-stu-id="0ce94-107">You can use this effect to blur, detect edges, emboss, or sharpen an image.</span></span>

<span data-ttu-id="0ce94-108">Le CLSID de cet effet est CLSID \_ D2D1ConvolveMatrix.</span><span class="sxs-lookup"><span data-stu-id="0ce94-108">The CLSID for this effect is CLSID\_D2D1ConvolveMatrix.</span></span>

-   [<span data-ttu-id="0ce94-109">Exemple d’image</span><span class="sxs-lookup"><span data-stu-id="0ce94-109">Example image</span></span>](#example-image)
-   [<span data-ttu-id="0ce94-110">Propriétés d’effet</span><span class="sxs-lookup"><span data-stu-id="0ce94-110">Effect properties</span></span>](#effect-properties)
-   [<span data-ttu-id="0ce94-111">Modes de mise à l’échelle</span><span class="sxs-lookup"><span data-stu-id="0ce94-111">Scale modes</span></span>](#scale-modes)
-   [<span data-ttu-id="0ce94-112">Modes de bordure</span><span class="sxs-lookup"><span data-stu-id="0ce94-112">Border modes</span></span>](#border-modes)
-   [<span data-ttu-id="0ce94-113">Bitmap de sortie</span><span class="sxs-lookup"><span data-stu-id="0ce94-113">Output bitmap</span></span>](#output-bitmap)
-   [<span data-ttu-id="0ce94-114">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="0ce94-114">Requirements</span></span>](#requirements)
-   [<span data-ttu-id="0ce94-115">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="0ce94-115">Related topics</span></span>](#related-topics)

## <a name="example-image"></a><span data-ttu-id="0ce94-116">Exemple d’image</span><span class="sxs-lookup"><span data-stu-id="0ce94-116">Example image</span></span>

<span data-ttu-id="0ce94-117">L’exemple ci-dessous montre l’entrée et la sortie de l’effet de matrice convolution avec un noyau 3 x 3.</span><span class="sxs-lookup"><span data-stu-id="0ce94-117">The example here shows the input and output of the convolve matrix effect with a 3 x 3 kernel.</span></span>



| <span data-ttu-id="0ce94-118">Avant</span><span class="sxs-lookup"><span data-stu-id="0ce94-118">Before</span></span>                                                         |
|----------------------------------------------------------------|
| ![image avant l’effet.](images/default-before.jpg)     |
| <span data-ttu-id="0ce94-120">After</span><span class="sxs-lookup"><span data-stu-id="0ce94-120">After</span></span>                                                          |
| ![image après la transformation.](images/6-convolvematrix.png) |



 


```C++
ComPtr<ID2D1Effect> convolveMatrixEffect;
m_d2dContext->CreateEffect(CLSID_D2D1ConvolveMatrix, &convolveMatrixEffect);

convolveMatrixEffect->SetInput(0, bitmap);
float matrix[9] = {-1, -1, -1, -1, 9, -1, -1, -1, -1};
convolveMatrixEffect->SetValue(D2D1_CONVOLVEMATRIX_PROP_KERNEL_MATRIX, matrix);

m_d2dContext->BeginDraw();
m_d2dContext->DrawImage(convolveMatrixEffect.Get());
m_d2dContext->EndDraw();
```



## <a name="effect-properties"></a><span data-ttu-id="0ce94-122">Propriétés d’effet</span><span class="sxs-lookup"><span data-stu-id="0ce94-122">Effect properties</span></span>



| <span data-ttu-id="0ce94-123">Nom complet et énumération d’index</span><span class="sxs-lookup"><span data-stu-id="0ce94-123">Display name and index enumeration</span></span>                                                      | <span data-ttu-id="0ce94-124">Description</span><span class="sxs-lookup"><span data-stu-id="0ce94-124">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0ce94-125">KernelUnitLength</span><span class="sxs-lookup"><span data-stu-id="0ce94-125">KernelUnitLength</span></span><br/> <span data-ttu-id="0ce94-126">Longueur de l' \_ unité de noyau d2d1 CONVOLVEMATRIX \_ prop \_ \_ \_</span><span class="sxs-lookup"><span data-stu-id="0ce94-126">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_UNIT\_LENGTH</span></span><br/> | <span data-ttu-id="0ce94-127">Taille d’une unité dans le noyau.</span><span class="sxs-lookup"><span data-stu-id="0ce94-127">The size of one unit in the kernel.</span></span> <span data-ttu-id="0ce94-128">Les unités sont en (DIP/unité noyau), où une unité de noyau est la taille de l’élément dans le noyau de convolution.</span><span class="sxs-lookup"><span data-stu-id="0ce94-128">The units are in (DIPs/kernel unit), where a kernel unit is the size of the element in the convolution kernel.</span></span> <span data-ttu-id="0ce94-129">Une valeur de 1 (unité de noyau/DIP) correspond à un pixel dans une image à 96 ppp.</span><span class="sxs-lookup"><span data-stu-id="0ce94-129">A value of 1 (DIP/kernel unit) corresponds to one pixel in a image at 96 DPI.</span></span><br/> <span data-ttu-id="0ce94-130">Le type est FLOAT.</span><span class="sxs-lookup"><span data-stu-id="0ce94-130">The type is FLOAT.</span></span><br/> <span data-ttu-id="0ce94-131">La valeur par défaut est 1,0 f.</span><span class="sxs-lookup"><span data-stu-id="0ce94-131">The default value is 1.0f.</span></span><br/>                                                                                                                                                                                                                   |
| <span data-ttu-id="0ce94-132">Devient</span><span class="sxs-lookup"><span data-stu-id="0ce94-132">ScaleMode</span></span><br/> <span data-ttu-id="0ce94-133">MODE de mise à l' \_ échelle d2d1 CONVOLVEMATRIX \_ prop \_ \_</span><span class="sxs-lookup"><span data-stu-id="0ce94-133">D2D1\_CONVOLVEMATRIX\_PROP\_SCALE\_MODE</span></span><br/>                 | <span data-ttu-id="0ce94-134">Mode d’interpolation utilisé par l’effet pour mettre l’image à l’échelle de la longueur de l’unité de noyau correspondante.</span><span class="sxs-lookup"><span data-stu-id="0ce94-134">The interpolation mode the effect uses to scale the image to the corresponding kernel unit length.</span></span> <span data-ttu-id="0ce94-135">Il existe six modes de mise à l’échelle qui vont de la qualité et de la vitesse.</span><span class="sxs-lookup"><span data-stu-id="0ce94-135">There are six scale modes that range in quality and speed.</span></span><br/> <span data-ttu-id="0ce94-136">Le type est D2D1 \_ CONVOLVEMATRIX \_ Scale \_ mode.</span><span class="sxs-lookup"><span data-stu-id="0ce94-136">The type is D2D1\_CONVOLVEMATRIX\_SCALE\_MODE.</span></span><br/> <span data-ttu-id="0ce94-137">La valeur par défaut est D2D1 \_ CONVOLVEMATRIX \_ Scale \_ mode \_ linéaire.</span><span class="sxs-lookup"><span data-stu-id="0ce94-137">The default value is D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_LINEAR.</span></span><br/>                                                                                                                                                                                                                     |
| <span data-ttu-id="0ce94-138">KernelSizeX</span><span class="sxs-lookup"><span data-stu-id="0ce94-138">KernelSizeX</span></span><br/> <span data-ttu-id="0ce94-139">\_ \_ \_ Taille du noyau d2d1 CONVOLVEMATRIX prop \_ \_ X</span><span class="sxs-lookup"><span data-stu-id="0ce94-139">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_SIZE\_X</span></span><br/>           | <span data-ttu-id="0ce94-140">Largeur de la matrice du noyau.</span><span class="sxs-lookup"><span data-stu-id="0ce94-140">The width of the kernel matrix.</span></span> <span data-ttu-id="0ce94-141">Les unités sont spécifiées en unités de noyau.</span><span class="sxs-lookup"><span data-stu-id="0ce94-141">The units are specified in kernel units.</span></span> <span data-ttu-id="0ce94-142">Le type est UINT32.</span><span class="sxs-lookup"><span data-stu-id="0ce94-142">The type is UINT32.</span></span><br/> <span data-ttu-id="0ce94-143">La valeur par défaut est 3.</span><span class="sxs-lookup"><span data-stu-id="0ce94-143">The default value is 3.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="0ce94-144">KernelSizeY</span><span class="sxs-lookup"><span data-stu-id="0ce94-144">KernelSizeY</span></span><br/> <span data-ttu-id="0ce94-145">\_ \_ Taille du noyau de d2d1 CONVOLVEMATRIX prop \_ \_ \_ Y</span><span class="sxs-lookup"><span data-stu-id="0ce94-145">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_SIZE\_Y</span></span><br/>           | <span data-ttu-id="0ce94-146">Hauteur de la matrice de noyau.</span><span class="sxs-lookup"><span data-stu-id="0ce94-146">The height of the kernel matrix.</span></span> <span data-ttu-id="0ce94-147">Les unités sont spécifiées en unités de noyau.</span><span class="sxs-lookup"><span data-stu-id="0ce94-147">The units are specified in kernel units.</span></span> <span data-ttu-id="0ce94-148">Le type est UINT32.</span><span class="sxs-lookup"><span data-stu-id="0ce94-148">The type is UINT32.</span></span><br/> <span data-ttu-id="0ce94-149">La valeur par défaut est 3.</span><span class="sxs-lookup"><span data-stu-id="0ce94-149">The default value is 3.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="0ce94-150">KernelMatrix</span><span class="sxs-lookup"><span data-stu-id="0ce94-150">KernelMatrix</span></span><br/> <span data-ttu-id="0ce94-151">\_Matrice de noyau d2d1 CONVOLVEMATRIX \_ prop \_ \_</span><span class="sxs-lookup"><span data-stu-id="0ce94-151">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_MATRIX</span></span><br/>           | <span data-ttu-id="0ce94-152">Matrice de noyau à appliquer à l’image.</span><span class="sxs-lookup"><span data-stu-id="0ce94-152">The kernel matrix to be applied to the image.</span></span> <span data-ttu-id="0ce94-153">Les éléments de noyau ne sont pas limités et sont spécifiés en tant que valeurs float.</span><span class="sxs-lookup"><span data-stu-id="0ce94-153">The kernel elements aren't bounded and are specified as floats.</span></span><br/> <span data-ttu-id="0ce94-154">Le premier ensemble de nombres *KernelSizeX* dans le float \[ \] correspond à la première ligne du noyau.</span><span class="sxs-lookup"><span data-stu-id="0ce94-154">The first set of *KernelSizeX* numbers in the FLOAT\[\] corresponds to the first row in the kernel.</span></span> <span data-ttu-id="0ce94-155">Le deuxième ensemble de nombres *KernelSizeX* correspond à la deuxième ligne, et ainsi de suite jusqu’à *KernelSizeY* lignes.</span><span class="sxs-lookup"><span data-stu-id="0ce94-155">The second set of *KernelSizeX* numbers correspond to the second row, and so on up to *KernelSizeY* rows.</span></span><br/> <span data-ttu-id="0ce94-156">Le type est FLOAT \[ \] .</span><span class="sxs-lookup"><span data-stu-id="0ce94-156">The type is FLOAT\[\].</span></span><br/> <span data-ttu-id="0ce94-157">La valeur par défaut est {0.0 f, 0.0 f, 0.0 f, 0.0 f, 1.0 f, 0.0 f, 0.0 f, 0.0 f, 0.0 f}.</span><span class="sxs-lookup"><span data-stu-id="0ce94-157">The default value is {0.0f, 0.0f, 0.0f, 0.0f, 1.0f, 0.0f, 0.0f, 0.0f, 0.0f}.</span></span><br/>                                                       |
| <span data-ttu-id="0ce94-158">Diviseur</span><span class="sxs-lookup"><span data-stu-id="0ce94-158">Divisor</span></span><br/> <span data-ttu-id="0ce94-159">\_Diviseur d2d1 CONVOLVEMATRIX \_ prop \_</span><span class="sxs-lookup"><span data-stu-id="0ce94-159">D2D1\_CONVOLVEMATRIX\_PROP\_DIVISOR</span></span><br/>                       | <span data-ttu-id="0ce94-160">La matrice du noyau est appliquée à un pixel, puis le résultat est divisé par cette valeur.</span><span class="sxs-lookup"><span data-stu-id="0ce94-160">The kernel matrix is applied to a pixel and then the result is divided by this value.</span></span> <br/> <span data-ttu-id="0ce94-161">0 se comporte comme une valeur de float Epsilon.</span><span class="sxs-lookup"><span data-stu-id="0ce94-161">0 behaves as a value of float epsilon.</span></span><br/> <span data-ttu-id="0ce94-162">Le type est FLOAT.</span><span class="sxs-lookup"><span data-stu-id="0ce94-162">The type is FLOAT.</span></span><br/> <span data-ttu-id="0ce94-163">La valeur par défaut est 1,0 f.</span><span class="sxs-lookup"><span data-stu-id="0ce94-163">The default value is 1.0f.</span></span><br/>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="0ce94-164">Décalage</span><span class="sxs-lookup"><span data-stu-id="0ce94-164">Bias</span></span><br/> <span data-ttu-id="0ce94-165">D2D1 \_ CONVOLVEMATRIX \_ prop \_</span><span class="sxs-lookup"><span data-stu-id="0ce94-165">D2D1\_CONVOLVEMATRIX\_PROP\_BIAS</span></span><br/>                             | <span data-ttu-id="0ce94-166">L’effet applique la matrice du noyau, le diviseur, puis le biais est ajouté au résultat.</span><span class="sxs-lookup"><span data-stu-id="0ce94-166">The effect applies the kernel matrix, the divisor, and then the bias is added to the result.</span></span> <span data-ttu-id="0ce94-167">Le biais est illimité et sans unité.</span><span class="sxs-lookup"><span data-stu-id="0ce94-167">The bias is unbounded and unitless.</span></span> <span data-ttu-id="0ce94-168">Le type est FLOAT.</span><span class="sxs-lookup"><span data-stu-id="0ce94-168">The type is FLOAT.</span></span><br/> <span data-ttu-id="0ce94-169">La valeur par défaut est 0.0 f.</span><span class="sxs-lookup"><span data-stu-id="0ce94-169">The default value is 0.0f.</span></span><br/>                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="0ce94-170">KernelOffset</span><span class="sxs-lookup"><span data-stu-id="0ce94-170">KernelOffset</span></span><br/> <span data-ttu-id="0ce94-171">\_ \_ \_ Décalage du noyau d2d1 CONVOLVEMATRIX prop \_</span><span class="sxs-lookup"><span data-stu-id="0ce94-171">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_OFFSET</span></span><br/>           | <span data-ttu-id="0ce94-172">Décale le noyau de convolution d’une position centrée sur le pixel de sortie vers une position que vous spécifiez à gauche/à droite et vers le haut/vers le haut.</span><span class="sxs-lookup"><span data-stu-id="0ce94-172">Shifts the convolution kernel from a centered position on the output pixel to a position you specify left/right and up/down.</span></span> <span data-ttu-id="0ce94-173">Le décalage est défini en unités de noyau.</span><span class="sxs-lookup"><span data-stu-id="0ce94-173">The offset is defined in kernel units.</span></span><br/> <span data-ttu-id="0ce94-174">Avec des décalages et des tailles de noyau, les exemples de noyau de convolution ne s’afficheront pas sur un centre d’images en pixels.</span><span class="sxs-lookup"><span data-stu-id="0ce94-174">With some offsets and kernel sizes, the convolution kernel s samples won't land on a pixel image center.</span></span> <span data-ttu-id="0ce94-175">Les valeurs de pixel de l’exemple de noyau sont calculées par une interpolation bilinéaire.</span><span class="sxs-lookup"><span data-stu-id="0ce94-175">The pixel values for the kernel sample are computed by bilinear interpolation.</span></span><br/> <span data-ttu-id="0ce94-176">Le type est D2D1 \_ Vector \_ 2F.</span><span class="sxs-lookup"><span data-stu-id="0ce94-176">The type is D2D1\_VECTOR\_2F.</span></span><br/> <span data-ttu-id="0ce94-177">La valeur par défaut est {0.0 f, 0.0 f}.</span><span class="sxs-lookup"><span data-stu-id="0ce94-177">The default value is {0.0f, 0.0f}.</span></span><br/>                                                          |
| <span data-ttu-id="0ce94-178">PreserveAlpha</span><span class="sxs-lookup"><span data-stu-id="0ce94-178">PreserveAlpha</span></span><br/> <span data-ttu-id="0ce94-179">D2D1 \_ CONVOLVEMATRIX \_ prop \_ conserver \_ alpha</span><span class="sxs-lookup"><span data-stu-id="0ce94-179">D2D1\_CONVOLVEMATRIX\_PROP\_PRESERVE\_ALPHA</span></span><br/>         | <span data-ttu-id="0ce94-180">Spécifie si le noyau de convolution est appliqué au canal alpha ou uniquement aux canaux de couleur.</span><span class="sxs-lookup"><span data-stu-id="0ce94-180">Specifies whether the convolution kernel is applied to the alpha channel or only the color channels.</span></span><br/> <span data-ttu-id="0ce94-181">Si vous affectez la valeur **true** , le noyau de convolution est appliqué uniquement aux canaux de couleur.</span><span class="sxs-lookup"><span data-stu-id="0ce94-181">If you set this to **TRUE** the convolution kernel is applied only to the color channels.</span></span><br/> <span data-ttu-id="0ce94-182">Si vous définissez cette valeur sur **false** , le noyau de convolution est appliqué à tous les canaux.</span><span class="sxs-lookup"><span data-stu-id="0ce94-182">If you set this to **FALSE** the convolution kernel is applied to all channels.</span></span><br/> <span data-ttu-id="0ce94-183">Le type est BOOL.</span><span class="sxs-lookup"><span data-stu-id="0ce94-183">The type is BOOL.</span></span><br/> <span data-ttu-id="0ce94-184">La valeur par défaut est FALSE.</span><span class="sxs-lookup"><span data-stu-id="0ce94-184">The default value is FALSE.</span></span><br/>                                                                                                                                               |
| <span data-ttu-id="0ce94-185">BorderMode</span><span class="sxs-lookup"><span data-stu-id="0ce94-185">BorderMode</span></span><br/> <span data-ttu-id="0ce94-186">\_Mode de bordure d2d1 CONVOLVEMATRIX \_ prop \_ \_</span><span class="sxs-lookup"><span data-stu-id="0ce94-186">D2D1\_CONVOLVEMATRIX\_PROP\_BORDER\_MODE</span></span><br/>               | <span data-ttu-id="0ce94-187">Le mode utilisé pour calculer la bordure de l’image, soft ou Hard.</span><span class="sxs-lookup"><span data-stu-id="0ce94-187">The mode used to calculate the border of the image, soft or hard.</span></span> <span data-ttu-id="0ce94-188">Pour plus d’informations, consultez [modes de bordure](https://www.bing.com/search?q=Border+modes) .</span><span class="sxs-lookup"><span data-stu-id="0ce94-188">See [Border modes](https://www.bing.com/search?q=Border+modes) for more info.</span></span><br/> <span data-ttu-id="0ce94-189">Le type est D2D1 \_ Border \_ mode.</span><span class="sxs-lookup"><span data-stu-id="0ce94-189">The type is D2D1\_BORDER\_MODE.</span></span><br/> <span data-ttu-id="0ce94-190">La valeur par défaut est \_ d2d1 \_ en mode bordure \_ souple.</span><span class="sxs-lookup"><span data-stu-id="0ce94-190">The default value is D2D1\_BORDER\_MODE\_SOFT.</span></span><br/>                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="0ce94-191">ClampOutput</span><span class="sxs-lookup"><span data-stu-id="0ce94-191">ClampOutput</span></span><br/> <span data-ttu-id="0ce94-192">\_Sortie de Clamp d2d1 CONVOLVEMATRIX \_ prop \_ \_</span><span class="sxs-lookup"><span data-stu-id="0ce94-192">D2D1\_CONVOLVEMATRIX\_PROP\_CLAMP\_OUTPUT</span></span><br/>             | <span data-ttu-id="0ce94-193">Si l’effet fixe les valeurs de couleur entre 0 et 1 avant que l’effet ne passe les valeurs à l’effet suivant dans le graphique.</span><span class="sxs-lookup"><span data-stu-id="0ce94-193">Whether the effect clamps color values to between 0 and 1 before the effect passes the values to the next effect in the graph.</span></span> <span data-ttu-id="0ce94-194">L’effet serre les valeurs avant de prémultiplier le alpha.</span><span class="sxs-lookup"><span data-stu-id="0ce94-194">The effect clamps the values before it premultiplies the alpha .</span></span><br/> <span data-ttu-id="0ce94-195">Si vous affectez la valeur TRUE à cet effet, les valeurs sont ancrées.</span><span class="sxs-lookup"><span data-stu-id="0ce94-195">If you set this to TRUE the effect will clamp the values.</span></span> <span data-ttu-id="0ce94-196">Si vous définissez cette valeur sur FALSe, l’effet n’attache pas les valeurs de couleur, mais d’autres effets et la surface de sortie peuvent fixer les valeurs si elles n’ont pas une précision suffisamment élevée.</span><span class="sxs-lookup"><span data-stu-id="0ce94-196">If you set this to FALSE, the effect will not clamp the color values, but other effects and the output surface may clamp the values if they are not of high enough precision.</span></span><br/> <span data-ttu-id="0ce94-197">Le type est BOOL.</span><span class="sxs-lookup"><span data-stu-id="0ce94-197">The type is BOOL.</span></span><br/> <span data-ttu-id="0ce94-198">La valeur par défaut est FALSE.</span><span class="sxs-lookup"><span data-stu-id="0ce94-198">The default value is FALSE.</span></span><br/> |



 

## <a name="scale-modes"></a><span data-ttu-id="0ce94-199">Modes de mise à l’échelle</span><span class="sxs-lookup"><span data-stu-id="0ce94-199">Scale modes</span></span>



| <span data-ttu-id="0ce94-200">Énumération</span><span class="sxs-lookup"><span data-stu-id="0ce94-200">Enumeration</span></span>                                              | <span data-ttu-id="0ce94-201">Description</span><span class="sxs-lookup"><span data-stu-id="0ce94-201">Description</span></span>                                                                                                                                                                                          |
|----------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0ce94-202">MODE de mise à l' \_ échelle d2d1 CONVOLVEMATRIX \_ \_ \_ le plus proche \_ voisin</span><span class="sxs-lookup"><span data-stu-id="0ce94-202">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_NEAREST\_NEIGHBOR</span></span>     | <span data-ttu-id="0ce94-203">Échantillonne le point unique le plus proche et l’utilise.</span><span class="sxs-lookup"><span data-stu-id="0ce94-203">Samples the nearest single point and uses that.</span></span> <span data-ttu-id="0ce94-204">Ce mode utilise moins de temps de traitement, mais génère l’image de qualité la plus faible.</span><span class="sxs-lookup"><span data-stu-id="0ce94-204">This mode uses less processing time, but outputs the lowest quality image.</span></span>                                                                           |
| <span data-ttu-id="0ce94-205">D2D1 mode de mise à l' \_ \_ échelle CONVOLVEMATRIX \_ \_ linéaire</span><span class="sxs-lookup"><span data-stu-id="0ce94-205">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_LINEAR</span></span>                | <span data-ttu-id="0ce94-206">Utilise un échantillon à quatre points et une interpolation linéaire.</span><span class="sxs-lookup"><span data-stu-id="0ce94-206">Uses a four point sample and linear interpolation.</span></span> <span data-ttu-id="0ce94-207">Ce mode génère une image de qualité supérieure à celle du mode voisin le plus proche.</span><span class="sxs-lookup"><span data-stu-id="0ce94-207">This mode outputs a higher quality image than nearest neighbor mode.</span></span>                                                                              |
| <span data-ttu-id="0ce94-208">D2D1 mode de mise à l' \_ \_ échelle CONVOLVEMATRIX \_ \_ cubique</span><span class="sxs-lookup"><span data-stu-id="0ce94-208">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_CUBIC</span></span>                 | <span data-ttu-id="0ce94-209">Utilise un exemple de noyau cubique 16 pour l’interpolation.</span><span class="sxs-lookup"><span data-stu-id="0ce94-209">Uses a 16 sample cubic kernel for interpolation.</span></span> <span data-ttu-id="0ce94-210">Ce mode utilise le plus de temps de traitement, mais génère une image de qualité supérieure.</span><span class="sxs-lookup"><span data-stu-id="0ce94-210">This mode uses the most processing time, but outputs a higher quality image.</span></span>                                                                        |
| <span data-ttu-id="0ce94-211">MODE de mise à l' \_ échelle d2d1 CONVOLVEMATRIX \_ multi- \_ \_ \_ exemple \_ linéaire</span><span class="sxs-lookup"><span data-stu-id="0ce94-211">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_MULTI\_SAMPLE\_LINEAR</span></span> | <span data-ttu-id="0ce94-212">Utilise 4 échantillons linéaires au sein d’un même pixel pour une bonne anticrénelage.</span><span class="sxs-lookup"><span data-stu-id="0ce94-212">Uses 4 linear samples within a single pixel for good edge anti-aliasing.</span></span> <span data-ttu-id="0ce94-213">Ce mode est adapté à la réduction de la taille des images avec quelques pixels.</span><span class="sxs-lookup"><span data-stu-id="0ce94-213">This mode is good for scaling down by small amounts on images with few pixels.</span></span>                                              |
| <span data-ttu-id="0ce94-214">D2D1 \_ \_ mode Scale \_ CONVOLVEMATRIX \_ anisotrope</span><span class="sxs-lookup"><span data-stu-id="0ce94-214">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_ANISOTROPIC</span></span>           | <span data-ttu-id="0ce94-215">Utilise le filtrage anisotrope pour échantillonner un modèle en fonction de la forme transformée de l’image bitmap.</span><span class="sxs-lookup"><span data-stu-id="0ce94-215">Uses anisotropic filtering to sample a pattern according to the transformed shape of the bitmap.</span></span>                                                                                                     |
| <span data-ttu-id="0ce94-216">D2D1 \_ CONVOLVEMATRIX \_ \_ en mode Scale de \_ haute \_ qualité \_ cubique</span><span class="sxs-lookup"><span data-stu-id="0ce94-216">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_HIGH\_QUALITY\_CUBIC</span></span>  | <span data-ttu-id="0ce94-217">Utilise un noyau cubique de haute qualité variable pour effectuer une pré-réduire de l’image si downscaling est impliqué dans la matrice de transformation.</span><span class="sxs-lookup"><span data-stu-id="0ce94-217">Uses a variable size high quality cubic kernel to perform a pre-downscale the image if downscaling is involved in the transform matrix.</span></span> <span data-ttu-id="0ce94-218">Utilise ensuite le mode d’interpolation cubique pour la sortie finale.</span><span class="sxs-lookup"><span data-stu-id="0ce94-218">Then uses the cubic interpolation mode for the final output.</span></span> |



 

> [!Note]  
> <span data-ttu-id="0ce94-219">Si vous ne sélectionnez pas de mode, l’effet par défaut est D2D1 \_ CONVOLVEMATRIX \_ Scale \_ mode \_ linéaire.</span><span class="sxs-lookup"><span data-stu-id="0ce94-219">If you don't select a mode, the effect defaults to D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_LINEAR.</span></span>

 

## <a name="border-modes"></a><span data-ttu-id="0ce94-220">Modes de bordure</span><span class="sxs-lookup"><span data-stu-id="0ce94-220">Border modes</span></span>



| <span data-ttu-id="0ce94-221">Nom</span><span class="sxs-lookup"><span data-stu-id="0ce94-221">Name</span></span>                     | <span data-ttu-id="0ce94-222">Description</span><span class="sxs-lookup"><span data-stu-id="0ce94-222">Description</span></span>                                                                                                                                                                                                                                                              |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0ce94-223">\_Mode de bordure d2d1 \_ \_</span><span class="sxs-lookup"><span data-stu-id="0ce94-223">D2D1\_BORDER\_MODE\_SOFT</span></span> | <span data-ttu-id="0ce94-224">L’effet remplit l’image d’entrée avec des pixels noirs transparents pour les échantillons en dehors des limites d’entrée lorsqu’elle applique le noyau de convolution.</span><span class="sxs-lookup"><span data-stu-id="0ce94-224">The effect pads the input image with transparent black pixels for samples outside of the input bounds when it applies the convolution kernel.</span></span> <span data-ttu-id="0ce94-225">Cela crée une bordure douce pour l’image et, dans le processus, développe la bitmap de sortie de la taille du noyau.</span><span class="sxs-lookup"><span data-stu-id="0ce94-225">This creates a soft edge for the image, and in the process expands the output bitmap by the size of the kernel.</span></span><br/> |
| <span data-ttu-id="0ce94-226">D2D1 \_ mode de bordure \_ \_ difficile</span><span class="sxs-lookup"><span data-stu-id="0ce94-226">D2D1\_BORDER\_MODE\_HARD</span></span> | <span data-ttu-id="0ce94-227">L’effet étend l’image d’entrée avec une transformation de bordure de type miroir pour les exemples en dehors des limites d’entrée.</span><span class="sxs-lookup"><span data-stu-id="0ce94-227">The effect extends the input image with a mirror-type border transform for samples outside of the input bounds.</span></span> <span data-ttu-id="0ce94-228">La taille de l’image bitmap de sortie est égale à la taille de l’image bitmap d’entrée.</span><span class="sxs-lookup"><span data-stu-id="0ce94-228">The size of the output bitmap is equal to the size of the input bitmap.</span></span><br/>                                                                       |



 

## <a name="output-bitmap"></a><span data-ttu-id="0ce94-229">Bitmap de sortie</span><span class="sxs-lookup"><span data-stu-id="0ce94-229">Output bitmap</span></span>

<span data-ttu-id="0ce94-230">La taille de la sortie de l’effet dépend de la taille du noyau de convolution, du décalage du noyau, de la longueur de l’unité du noyau et du paramètre de mode de bordure.</span><span class="sxs-lookup"><span data-stu-id="0ce94-230">The size of the effect's output depends on the size of the convolution kernel, the kernel offset, the kernel unit length, and the border mode setting.</span></span>

## <a name="requirements"></a><span data-ttu-id="0ce94-231">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="0ce94-231">Requirements</span></span>



| <span data-ttu-id="0ce94-232">Condition requise</span><span class="sxs-lookup"><span data-stu-id="0ce94-232">Requirement</span></span> | <span data-ttu-id="0ce94-233">Valeur</span><span class="sxs-lookup"><span data-stu-id="0ce94-233">Value</span></span> |
|--------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="0ce94-234">Client minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="0ce94-234">Minimum supported client</span></span> | <span data-ttu-id="0ce94-235">Windows 8 et mise à jour de plate-forme pour les applications de bureau Windows 7 \[ \| applications du Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="0ce94-235">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="0ce94-236">Serveur minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="0ce94-236">Minimum supported server</span></span> | <span data-ttu-id="0ce94-237">Windows 8 et mise à jour de plate-forme pour les applications de bureau Windows 7 \[ \| applications du Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="0ce94-237">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="0ce94-238">En-tête</span><span class="sxs-lookup"><span data-stu-id="0ce94-238">Header</span></span>                   | <span data-ttu-id="0ce94-239">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="0ce94-239">d2d1effects.h</span></span>                                                                      |
| <span data-ttu-id="0ce94-240">Bibliothèque</span><span class="sxs-lookup"><span data-stu-id="0ce94-240">Library</span></span>                  | <span data-ttu-id="0ce94-241">d2d1. lib, dxguid. lib</span><span class="sxs-lookup"><span data-stu-id="0ce94-241">d2d1.lib, dxguid.lib</span></span>                                                               |



 

## <a name="related-topics"></a><span data-ttu-id="0ce94-242">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="0ce94-242">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0ce94-243">**ID2D1Effect**</span><span class="sxs-lookup"><span data-stu-id="0ce94-243">**ID2D1Effect**</span></span>](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> </dl>

 

