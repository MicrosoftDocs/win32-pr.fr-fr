---
title: Vue d'ensemble des transformations
description: Présente l’API de transformation Microsoft Direct2D pour Windows 7. Direct2D permet aux développeurs Win32 d’effectuer des transformations graphiques 2D.
ms.assetid: eea8177d-c19e-4972-a9a6-ad5d541b090f
keywords:
- Direct2D, vue d’ensemble des transformations
- Direct2D, systèmes de coordonnées
- Direct2D, cibles de rendu
- Direct2D, transformations 2D
- transformations 2D
- transformations, à propos de
- transformations, cibles de rendu
- transformations, objets
- cibles de rendu, transformations
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0b924c51d73e71f206fbb250f4a7dd50ca71db2a
ms.sourcegitcommit: f848119a8faa29b27585f4df53f6e50ee9666684
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/27/2021
ms.locfileid: "110549144"
---
# <a name="transforms-overview"></a><span data-ttu-id="533a7-113">Vue d'ensemble des transformations</span><span class="sxs-lookup"><span data-stu-id="533a7-113">Transforms Overview</span></span>

<span data-ttu-id="533a7-114">Cette rubrique décrit les principes de base des transformations Direct2D et comprend des exemples de diverses transformations.</span><span class="sxs-lookup"><span data-stu-id="533a7-114">This topic discusses the basics of Direct2D transforms and includes examples of various transforms.</span></span> <span data-ttu-id="533a7-115">Il contient les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="533a7-115">It contains the following parts:</span></span>

-   [<span data-ttu-id="533a7-116">Qu’est-ce qu’une transformation Direct2D ?</span><span class="sxs-lookup"><span data-stu-id="533a7-116">What Is a Direct2D Transform?</span></span>](#what-is-a-direct2d-transform)
-   [<span data-ttu-id="533a7-117">Espace de coordonnées Direct2D</span><span class="sxs-lookup"><span data-stu-id="533a7-117">The Direct2D Coordinate Space</span></span>](#the-direct2d-coordinate-space)
-   [<span data-ttu-id="533a7-118">Création de matrices de transformation</span><span class="sxs-lookup"><span data-stu-id="533a7-118">Creating Transformation Matrices</span></span>](#creating-transformation-matrices)
-   [<span data-ttu-id="533a7-119">Rendu des transformations cibles</span><span class="sxs-lookup"><span data-stu-id="533a7-119">Rendering Target Transforms</span></span>](#rendering-target-transforms)
-   [<span data-ttu-id="533a7-120">Transformations de pinceau</span><span class="sxs-lookup"><span data-stu-id="533a7-120">Brush Transforms</span></span>](#brush-transforms)
-   [<span data-ttu-id="533a7-121">Transformations géométriques</span><span class="sxs-lookup"><span data-stu-id="533a7-121">Geometry Transforms</span></span>](#geometry-transforms)
-   [<span data-ttu-id="533a7-122">Comment une transformation de cible de rendu affecte les clips</span><span class="sxs-lookup"><span data-stu-id="533a7-122">How a Render Target Transform Affects Clips</span></span>](#how-a-render-target-transform-affects-clips)
-   [<span data-ttu-id="533a7-123">Résumé</span><span class="sxs-lookup"><span data-stu-id="533a7-123">Summary</span></span>](#summary)
-   [<span data-ttu-id="533a7-124">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="533a7-124">Related topics</span></span>](#related-topics)

## <a name="what-is-a-direct2d-transform"></a><span data-ttu-id="533a7-125">Qu’est-ce qu’une transformation Direct2D ?</span><span class="sxs-lookup"><span data-stu-id="533a7-125">What Is a Direct2D Transform?</span></span>

<span data-ttu-id="533a7-126">Une transformation spécifie comment mapper les points d’un objet d’un espace de coordonnées à un autre ou d’une position à une autre dans le même espace de coordonnées.</span><span class="sxs-lookup"><span data-stu-id="533a7-126">A transform specifies how to map the points of an object from one coordinate space to another or from one position to another within the same coordinate space.</span></span> <span data-ttu-id="533a7-127">Ce mappage est décrit par une matrice de transformation, définie sous la forme d’une collection de trois lignes avec trois colonnes de valeurs FLOAT, comme indiqué dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="533a7-127">This mapping is described by a transformation matrix, defined as a collection of three rows with three columns of FLOAT values as shown in the following table.</span></span>



|    &nbsp;       |       &nbsp;    |  &nbsp; |
|-----------------|-----------------|-----|
| <span data-ttu-id="533a7-128">M11Default : 1,0</span><span class="sxs-lookup"><span data-stu-id="533a7-128">M11Default: 1.0</span></span> | <span data-ttu-id="533a7-129">M12Default : 0,0</span><span class="sxs-lookup"><span data-stu-id="533a7-129">M12Default: 0.0</span></span> | <span data-ttu-id="533a7-130">0.0</span><span class="sxs-lookup"><span data-stu-id="533a7-130">0.0</span></span> |
| <span data-ttu-id="533a7-131">M21Default : 0,0</span><span class="sxs-lookup"><span data-stu-id="533a7-131">M21Default: 0.0</span></span> | <span data-ttu-id="533a7-132">M22Default : 1,0</span><span class="sxs-lookup"><span data-stu-id="533a7-132">M22Default: 1.0</span></span> | <span data-ttu-id="533a7-133">0.0</span><span class="sxs-lookup"><span data-stu-id="533a7-133">0.0</span></span> |
| <span data-ttu-id="533a7-134">M31OffsetX : 0,0</span><span class="sxs-lookup"><span data-stu-id="533a7-134">M31OffsetX: 0.0</span></span> | <span data-ttu-id="533a7-135">M32OffsetY : 0,0</span><span class="sxs-lookup"><span data-stu-id="533a7-135">M32OffsetY: 0.0</span></span> | <span data-ttu-id="533a7-136">1.0</span><span class="sxs-lookup"><span data-stu-id="533a7-136">1.0</span></span> |



 

<span data-ttu-id="533a7-137">Dans cette matrice, les membres M11, M12, M21 et M22 définissent une transformation linéaire qui peut mettre à l’échelle, faire pivoter ou incliner un objet. les éléments OffsetX et OffsetY définissent la traduction à appliquer une fois la transformation linéaire effectuée.</span><span class="sxs-lookup"><span data-stu-id="533a7-137">In this matrix, the M11, M12, M21, and M22 members define a linear transformation that can scale, rotate, or skew an object; the OffsetX and OffsetY members define the translation to be applied after the linear transformation has been made.</span></span> <span data-ttu-id="533a7-138">Pour les transformations affines, les valeurs de la troisième colonne sont toujours 0,0, 0,0 et 1,0.</span><span class="sxs-lookup"><span data-stu-id="533a7-138">For affine transformations, the values in the third column are always 0.0, 0.0, and 1.0.</span></span>

<span data-ttu-id="533a7-139">Comme Direct2D ne prend en charge que les transformations affinées (linéaires), sa matrice de transformation est définie en tant que matrice 3 par 2, en omettant la troisième colonne de la matrice de transformation précédente.</span><span class="sxs-lookup"><span data-stu-id="533a7-139">Because Direct2D supports only affine (linear) transformations, its transformation matrix is defined as a 3-by-2 matrix, omitting the third column from the previous transformation matrix.</span></span> <span data-ttu-id="533a7-140">Le tableau suivant montre la disposition de la matrice de transformation Direct2D.</span><span class="sxs-lookup"><span data-stu-id="533a7-140">The following table shows the layout of the Direct2D transformation matrix.</span></span>



|    &nbsp;       |       &nbsp;    | 
|-----------------|-----------------|
| <span data-ttu-id="533a7-141">M11Default : 1,0</span><span class="sxs-lookup"><span data-stu-id="533a7-141">M11Default: 1.0</span></span> | <span data-ttu-id="533a7-142">M12Default : 0,0</span><span class="sxs-lookup"><span data-stu-id="533a7-142">M12Default: 0.0</span></span> |
| <span data-ttu-id="533a7-143">M21Default : 0,0</span><span class="sxs-lookup"><span data-stu-id="533a7-143">M21Default: 0.0</span></span> | <span data-ttu-id="533a7-144">M22Default : 1,0</span><span class="sxs-lookup"><span data-stu-id="533a7-144">M22Default: 1.0</span></span> |
| <span data-ttu-id="533a7-145">M31OffsetX : 0,0</span><span class="sxs-lookup"><span data-stu-id="533a7-145">M31OffsetX: 0.0</span></span> | <span data-ttu-id="533a7-146">M32OffsetY : 0,0</span><span class="sxs-lookup"><span data-stu-id="533a7-146">M32OffsetY: 0.0</span></span> |



 

<span data-ttu-id="533a7-147">Dans Direct2D, cette matrice 3 par 2 est représentée par la structure matrice de la [**\_ \_ matrice d2d1**](/windows/desktop/api/dcommon/ns-dcommon-d2d_matrix_3x2_f) .</span><span class="sxs-lookup"><span data-stu-id="533a7-147">In Direct2D, this 3-by-2 matrix is represented by the [**D2D1\_MATRIX\_3X2**](/windows/desktop/api/dcommon/ns-dcommon-d2d_matrix_3x2_f) structure.</span></span> <span data-ttu-id="533a7-148">Pour simplifier les opérations de matrice courantes, Direct2D fournit également une classe nommée [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f), qui est dérivée de la structure matrice de la **\_ matrice \_ d2d1** .</span><span class="sxs-lookup"><span data-stu-id="533a7-148">To simplify common matrix operations, Direct2D also provides a class named [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f), which is derived from the **D2D1\_MATRIX\_3X2** structure.</span></span>

<span data-ttu-id="533a7-149">Le constructeur par défaut pour [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f) laisse l’objet non initialisé.</span><span class="sxs-lookup"><span data-stu-id="533a7-149">The default constructor for [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f) leaves the object uninitialized.</span></span> <span data-ttu-id="533a7-150">Pour récupérer une matrice d’identité, utilisez [**Matrix3x2F :: Identity**](/windows/desktop/api/d2d1helper/nf-d2d1helper-identitymatrix).</span><span class="sxs-lookup"><span data-stu-id="533a7-150">To retrieve an identity matrix, use [**Matrix3x2F::Identity**](/windows/desktop/api/d2d1helper/nf-d2d1helper-identitymatrix).</span></span>

<span data-ttu-id="533a7-151">Lorsqu’une transformation d’identité est appliquée à un objet, elle ne modifie pas la position, la forme ou la taille de l’objet.</span><span class="sxs-lookup"><span data-stu-id="533a7-151">When an identity transform is applied to an object, it does not change the position, shape, or size of the object.</span></span> <span data-ttu-id="533a7-152">Elle est similaire à la façon dont la multiplication d’un nombre par 1 ne change pas le nombre.</span><span class="sxs-lookup"><span data-stu-id="533a7-152">It is similar to the way that multiplying a number by 1 does not change the number.</span></span> <span data-ttu-id="533a7-153">En d’autres termes, la transformation d’identité laisse les coordonnées des points seuls et ne déplace pas les points vers une nouvelle position.</span><span class="sxs-lookup"><span data-stu-id="533a7-153">In other words, the identity transform leaves the coordinates of points alone and does not shift the points to a new position.</span></span> <span data-ttu-id="533a7-154">Toute transformation autre que la transformation d’identité modifie la position, la forme et/ou la taille des objets.</span><span class="sxs-lookup"><span data-stu-id="533a7-154">Any transform other than the identity transform will modify the position, shape, and/or size of objects.</span></span>

<span data-ttu-id="533a7-155">Les transformations sont des coordonnées, et il est important de comprendre l’espace de coordonnées Direct2D pour comprendre l’utilisation des transformations.</span><span class="sxs-lookup"><span data-stu-id="533a7-155">Transforms are all about coordinates, and understanding the Direct2D coordinate space is important for understanding the use of transformations.</span></span>

## <a name="the-direct2d-coordinate-space"></a><span data-ttu-id="533a7-156">Espace de coordonnées Direct2D</span><span class="sxs-lookup"><span data-stu-id="533a7-156">The Direct2D Coordinate Space</span></span>

<span data-ttu-id="533a7-157">Direct2D utilise un espace de coordonnées droitier. autrement dit, les valeurs positives de l’axe des x augmentent vers la droite et les valeurs positives de l’axe des y augmentent vers le bas.</span><span class="sxs-lookup"><span data-stu-id="533a7-157">Direct2D uses a left-handed coordinate space; that is, positive x-axis values increase to the right and positive y-axis values increase downward.</span></span> <span data-ttu-id="533a7-158">Tout ce qui se trouve sur l’écran est positionné par rapport à l’origine, qui est le point où les axes x et y se croisent (0,0), comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="533a7-158">Everything on the screen is positioned relative to the origin, which is the point where the x-axis and y-axis intersect (0, 0), as shown in the following illustration.</span></span> <span data-ttu-id="533a7-159">Les cibles de rendu Direct2D utilisent cet espace de coordonnées.</span><span class="sxs-lookup"><span data-stu-id="533a7-159">Direct2D render targets use this coordinate space.</span></span>

![illustration de l’axe x et de l’axe y d’un espace de coordonnées droitier](images/coordinatespace.png)

<span data-ttu-id="533a7-161">En manipulant des valeurs dans une matrice de transformation, vous pouvez faire pivoter, mettre à l’échelle, incliner et déplacer (translater) un objet.</span><span class="sxs-lookup"><span data-stu-id="533a7-161">By manipulating values in a transformation matrix, you can rotate, scale, skew, and move (translate) an object.</span></span> <span data-ttu-id="533a7-162">Par exemple, si vous définissez OffsetX sur 100 et OffsetY sur 200, vous déplacez l’objet vers la droite de 100 pixels et de 200 pixels.</span><span class="sxs-lookup"><span data-stu-id="533a7-162">For example, if you set OffsetX to 100 and OffsetY to 200, you move the object to the right 100 pixels and down 200 pixels.</span></span>

<span data-ttu-id="533a7-163">Pour afficher l’effet du déplacement d’un objet, vous devez appliquer la transformation de translation pour restituer des cibles, des pinceaux ou des géométries.</span><span class="sxs-lookup"><span data-stu-id="533a7-163">To show the effect of the object move, you need to apply the translation transformation to render targets, brushes, or geometries.</span></span> <span data-ttu-id="533a7-164">L’application d’une transformation aux cibles de rendu affecte la totalité de l’écran, tandis que l’application d’une transformation à un pinceau ou une géométrie affecte uniquement ce pinceau ou cette géométrie spécifique.</span><span class="sxs-lookup"><span data-stu-id="533a7-164">Applying a transform to render targets affects the entire screen, while applying a transform to a brush or a geometry only affects that specific brush or geometry.</span></span> <span data-ttu-id="533a7-165">Pour créer une matrice de transformation, utilisez la classe [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) .</span><span class="sxs-lookup"><span data-stu-id="533a7-165">To create a transformation matrix, use the [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) class.</span></span>

## <a name="creating-transformation-matrices"></a><span data-ttu-id="533a7-166">Création de matrices de transformation</span><span class="sxs-lookup"><span data-stu-id="533a7-166">Creating Transformation Matrices</span></span>

<span data-ttu-id="533a7-167">Pour créer des transformations de rotation, de mise à l’échelle, d’inclinaison et de translation, la classe [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) fournit les méthodes statiques indiquées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="533a7-167">For creating rotation, scale, skew, and translation transformations, the [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) class provides the static methods shown in the following table.</span></span> <span data-ttu-id="533a7-168">L’exemple de colonne de la table contient des liens vers les rubriques de procédures qui montrent comment utiliser chaque méthode de transformation.</span><span class="sxs-lookup"><span data-stu-id="533a7-168">The Example column of the table contains links to the how-to topics that demonstrate how to use each transformation method.</span></span>



| <span data-ttu-id="533a7-169">Méthode</span><span class="sxs-lookup"><span data-stu-id="533a7-169">Method</span></span>                                                                   | <span data-ttu-id="533a7-170">Description</span><span class="sxs-lookup"><span data-stu-id="533a7-170">Description</span></span>                                                                                                     | <span data-ttu-id="533a7-171">Exemple</span><span class="sxs-lookup"><span data-stu-id="533a7-171">Example</span></span>                                            | <span data-ttu-id="533a7-172">Illustration</span><span class="sxs-lookup"><span data-stu-id="533a7-172">Illustration</span></span>                                                                                                                            |
|--------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="533a7-173">**matrix3x2f :: Rotate**</span><span class="sxs-lookup"><span data-stu-id="533a7-173">**matrix3x2f::rotate**</span></span>](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-rotation)                          | <span data-ttu-id="533a7-174">crée une transformation de rotation qui a l’angle et le point central spécifiés.</span><span class="sxs-lookup"><span data-stu-id="533a7-174">creates a rotation transformation that has the specified angle and center point.</span></span>                                | [<span data-ttu-id="533a7-175">Comment faire pivoter un objet</span><span class="sxs-lookup"><span data-stu-id="533a7-175">how to rotate an object</span></span>](how-to-rotate.md)       | ![illustration d’un carré pivoté de 45 degrés dans le sens des aiguilles d’une montre autour du centre du carré d’origine](images/rotate-ovw.png)                 |
| <span data-ttu-id="533a7-177">[**matrix3x2f :: Scale**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-scale(d2d1_size_f_d2d1_point_2f))</span><span class="sxs-lookup"><span data-stu-id="533a7-177">[**matrix3x2f::scale**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-scale(d2d1_size_f_d2d1_point_2f))</span></span> | <span data-ttu-id="533a7-178">crée une transformation d’échelle qui a les facteurs d’échelle et le point central spécifiés.</span><span class="sxs-lookup"><span data-stu-id="533a7-178">creates a scale transformation that has the specified scale factors and center point.</span></span>                           | [<span data-ttu-id="533a7-179">mise à l’échelle d’un objet</span><span class="sxs-lookup"><span data-stu-id="533a7-179">how to scale an object</span></span>](how-to-scale.md)         | ![illustration d’un 130% à l’échelle carrée](images/scale-ovw.png)                                                                           |
| [<span data-ttu-id="533a7-181">**matrix3x2f :: Skew**</span><span class="sxs-lookup"><span data-stu-id="533a7-181">**matrix3x2f::skew**</span></span>](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-skew)                              | <span data-ttu-id="533a7-182">crée une transformation d’inclinaison qui a les valeurs de l’axe des x et de l’axe des y et du point central spécifiés.</span><span class="sxs-lookup"><span data-stu-id="533a7-182">creates a skew transformation that has the specified x-axis and y-axis values and center point.</span></span>                 | [<span data-ttu-id="533a7-183">comment incliner un objet</span><span class="sxs-lookup"><span data-stu-id="533a7-183">how to skew an object</span></span>](how-to-skew.md)           | ![illustration d’un carré incliné de 30 degrés dans le sens inverse des aiguilles d’une montre à partir de l’axe y](images/skew-ovw.png)                                     |
| <span data-ttu-id="533a7-185">[**matrix3x2f :: translation**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-translation(d2d1_size_f))</span><span class="sxs-lookup"><span data-stu-id="533a7-185">[**matrix3x2f::translation**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-translation(d2d1_size_f))</span></span>                | <span data-ttu-id="533a7-186">crée une transformation de traduction et spécifie les déplacements dans la direction de l’axe x et de l’axe y.</span><span class="sxs-lookup"><span data-stu-id="533a7-186">creates a translation transformation and specifies the displacements in the direction of the x-axis and y-axis.</span></span> | [<span data-ttu-id="533a7-187">Comment traduire un objet</span><span class="sxs-lookup"><span data-stu-id="533a7-187">how to translate an object</span></span>](how-to-translate.md) | ![illustration d’un carré déplacé de 20 unités le long de l’axe x positif et de 10 unités le long de l’axe y positif](images/translation-ovw.png) |



 

## <a name="rendering-target-transforms"></a><span data-ttu-id="533a7-189">Rendu des transformations cibles</span><span class="sxs-lookup"><span data-stu-id="533a7-189">Rendering Target Transforms</span></span>

<span data-ttu-id="533a7-190">Une cible de rendu est une ressource qui hérite de l’interface [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) .</span><span class="sxs-lookup"><span data-stu-id="533a7-190">A render target is a resource that inherits from the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) interface.</span></span> <span data-ttu-id="533a7-191">Il crée des ressources pour le dessin et effectue des opérations de dessin réelles.</span><span class="sxs-lookup"><span data-stu-id="533a7-191">It creates resources for drawing and performs actual drawing operations.</span></span> <span data-ttu-id="533a7-192">Il fournit également des méthodes pour transformer l’espace de coordonnées.</span><span class="sxs-lookup"><span data-stu-id="533a7-192">It also provides methods for transforming the coordinate space.</span></span> <span data-ttu-id="533a7-193">Vous pouvez appeler la méthode [**ID2D1RenderTarget :: setTransform**](id2d1rendertarget-settransform.md) pour appliquer la transformation spécifiée à la cible de rendu.</span><span class="sxs-lookup"><span data-stu-id="533a7-193">You can call the [**ID2D1RenderTarget::SetTransform**](id2d1rendertarget-settransform.md) method to apply the specified transform to the render target.</span></span> <span data-ttu-id="533a7-194">Toutes les opérations de dessin suivantes se produisent dans l’espace transformé.</span><span class="sxs-lookup"><span data-stu-id="533a7-194">All subsequent drawing operations occur in the transformed space.</span></span>

<span data-ttu-id="533a7-195">Pour afficher le contenu, utilisez les méthodes de dessin de la cible de rendu.</span><span class="sxs-lookup"><span data-stu-id="533a7-195">To render content, use the render target's drawing methods.</span></span> <span data-ttu-id="533a7-196">Avant de commencer le dessin, appelez la méthode [**BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) .</span><span class="sxs-lookup"><span data-stu-id="533a7-196">Before you begin drawing, call the [**BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) method.</span></span> <span data-ttu-id="533a7-197">Pour terminer le rendu du contenu, appelez la méthode [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) .</span><span class="sxs-lookup"><span data-stu-id="533a7-197">To finish rendering content, call the [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method.</span></span> <span data-ttu-id="533a7-198">Pour obtenir un exemple, consultez Guide pratique [pour appliquer plusieurs transformations à un objet](how-to-apply-multiple-transforms.md).</span><span class="sxs-lookup"><span data-stu-id="533a7-198">For an example, see [How to Apply Multiple Transforms to an Object](how-to-apply-multiple-transforms.md).</span></span>

## <a name="brush-transforms"></a><span data-ttu-id="533a7-199">Transformations de pinceau</span><span class="sxs-lookup"><span data-stu-id="533a7-199">Brush Transforms</span></span>

<span data-ttu-id="533a7-200">Vous pouvez ajuster la transformation sur le pinceau en appelant [**setTransform**](/windows/win32/api/d2d1/nf-d2d1-id2d1brush-settransform(constd2d1_matrix_3x2_f_)).</span><span class="sxs-lookup"><span data-stu-id="533a7-200">You can adjust the transform on the brush by calling [**SetTransform**](/windows/win32/api/d2d1/nf-d2d1-id2d1brush-settransform(constd2d1_matrix_3x2_f_)).</span></span> <span data-ttu-id="533a7-201">Pour cette transformation, vous pouvez considérer le pinceau comme un grand morceau de papier et les différentes primitives de rendu (texte, géométrie, Rectangle, etc.) en tant que stencils.</span><span class="sxs-lookup"><span data-stu-id="533a7-201">For this transform, you can think of the brush as a large piece of paper and of the different rendering primitives (text, geometry, rectangle and so on) as stencils.</span></span> <span data-ttu-id="533a7-202">Lorsque vous ajustez la transformation du pinceau, c’est comme si vous détouriez la grande partie du papier sous le gabarit, sans modifier la position du gabarit lui-même.</span><span class="sxs-lookup"><span data-stu-id="533a7-202">When you adjust the brush transform, it is as if you were sliding the large piece of paper underneath the stencil, without changing the position of the stencil itself.</span></span> <span data-ttu-id="533a7-203">Vous pouvez utiliser cette technique pour mettre le texte en fondu du jaune au noir dans l’espace 3D.</span><span class="sxs-lookup"><span data-stu-id="533a7-203">You can use this technique to make the text fade from yellow to black away into 3D space.</span></span>

<span data-ttu-id="533a7-204">Lorsque la transformation du pinceau est la transformation d’identité, les pinceaux apparaissent dans le même espace de coordonnées que la cible de rendu dans laquelle elles sont dessinées.</span><span class="sxs-lookup"><span data-stu-id="533a7-204">When the brush transform is the identity transform, brushes appear in the same coordinate space as the render target in which they are drawn.</span></span> <span data-ttu-id="533a7-205">La transformation de pinceau permet à un appelant de modifier la façon dont les coordonnées du pinceau sont mappées à cet espace.</span><span class="sxs-lookup"><span data-stu-id="533a7-205">The brush transform enables a caller to alter how brush coordinates map to this space.</span></span>

<span data-ttu-id="533a7-206">L’espace de pinceau est spécifié différemment dans Direct2D que dans Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="533a7-206">The brush space is specified differently in Direct2D than in Windows Presentation Foundation (WPF).</span></span> <span data-ttu-id="533a7-207">Dans Direct2D, l’espace de pinceau n’est pas relatif à l’objet qui est dessiné, mais plutôt au système de coordonnées actuel de la cible de rendu, transformé par la transformation de pinceau, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="533a7-207">In Direct2D, the brush space is not relative to the object being drawn, but rather is the current coordinate system of the render target, transformed by the brush transform, if there is one.</span></span> <span data-ttu-id="533a7-208">Pour que le pinceau remplisse un objet tel qu’il a été effectué dans WPF, vous devez convertir l’origine de l’espace du pinceau en angle supérieur gauche du cadre englobant de l’objet, puis mettre à l’échelle l’espace du pinceau afin que la vignette de base remplisse le cadre englobant de l’objet.</span><span class="sxs-lookup"><span data-stu-id="533a7-208">To have the brush fill an object as was done in WPF, you must translate the brush space origin to the top-left corner of the object's bounding box, and then scale the brush space so that the base tile fills the bounding box of the object.</span></span>

<span data-ttu-id="533a7-209">Pour plus d’informations sur les transformations de pinceau, consultez [vue d’ensemble des pinceaux Direct2D](direct2d-brushes-overview.md).</span><span class="sxs-lookup"><span data-stu-id="533a7-209">For more information about brush transforms, see [Direct2D Brushes Overview](direct2d-brushes-overview.md).</span></span>

## <a name="geometry-transforms"></a><span data-ttu-id="533a7-210">Transformations géométriques</span><span class="sxs-lookup"><span data-stu-id="533a7-210">Geometry Transforms</span></span>

<span data-ttu-id="533a7-211">Lorsque vous mettez à l’échelle, déplacez, Traduisez ou inclinez des géométries, vous pouvez appliquer directement une transformation à une géométrie spécifique, et non à une transformation de cible de rendu qui affecterait la totalité de l’écran.</span><span class="sxs-lookup"><span data-stu-id="533a7-211">When you scale, move, translate, or skew geometries, you can directly apply a transform to a specific geometry, not to a render target transform that would affect the entire screen.</span></span> <span data-ttu-id="533a7-212">Une transformation de cible de rendu affecte généralement le trait et le remplissage d’une géométrie.</span><span class="sxs-lookup"><span data-stu-id="533a7-212">A render target transform generally affects the stroke and fill of a geometry.</span></span> <span data-ttu-id="533a7-213">En revanche, une transformation Geometry affecte uniquement le remplissage d’une géométrie, car la transformation est appliquée à une géométrie avant d’être rayée.</span><span class="sxs-lookup"><span data-stu-id="533a7-213">By contrast, a geometry transform only affects the fill of a geometry, because the transform is applied to a geometry before it is stroked.</span></span>

> [!Note]  
> <span data-ttu-id="533a7-214">À compter de Windows 8, la transformation universelle n’a aucune incidence sur le trait si vous définissez le type de trait sur [**d2d1 \_ Stroke \_ transformation \_ type \_ fixed**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type) ou [**d2d1 \_ Stroke \_ \_ type transformation \_ fine**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type).</span><span class="sxs-lookup"><span data-stu-id="533a7-214">Starting with Windows 8, the world transform doesn't affect the stroke if you set the stroke type to [**D2D1\_STROKE\_TRANSFORM\_TYPE\_FIXED**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type) or [**D2D1\_STROKE\_TRANSFORM\_TYPE\_HAIRLINE**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type).</span></span>

 

<span data-ttu-id="533a7-215">Vous pouvez ajuster la transformation sur une géométrie en appelant [**ID2D1Factory :: CreateTransformedGeometry**](/previous-versions/windows/desktop/legacy/dd371304(v=vs.85)) pour créer un objet [**ID2D1TransformedGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1transformedgeometry) .</span><span class="sxs-lookup"><span data-stu-id="533a7-215">You can adjust the transform on a geometry by calling [**ID2D1Factory::CreateTransformedGeometry**](/previous-versions/windows/desktop/legacy/dd371304(v=vs.85)) to create an [**ID2D1TransformedGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1transformedgeometry) object.</span></span> <span data-ttu-id="533a7-216">Pour plus d’informations sur les transformations géométriques, consultez [vue d’ensemble des géométries Direct2D](direct2d-geometries-overview.md).</span><span class="sxs-lookup"><span data-stu-id="533a7-216">For more information about geometry transforms, see [Direct2D Geometries Overview](direct2d-geometries-overview.md).</span></span>

## <a name="how-a-render-target-transform-affects-clips"></a><span data-ttu-id="533a7-217">Comment une transformation de cible de rendu affecte les clips</span><span class="sxs-lookup"><span data-stu-id="533a7-217">How a Render Target Transform Affects Clips</span></span>

<span data-ttu-id="533a7-218">La transformation sur une cible de rendu affecte le calcul du cadre englobant d’un élément aligné sur l’axe.</span><span class="sxs-lookup"><span data-stu-id="533a7-218">The transform on a render target affects how the bounding box of an axis-aligned clip is computed.</span></span> <span data-ttu-id="533a7-219">Lorsque le [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) est appelé, le paramètre *clipRect* est transformé par la transformation universelle active définie sur la cible de rendu.</span><span class="sxs-lookup"><span data-stu-id="533a7-219">When the [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) is called, the *clipRect* parameter is transformed by the current world transform that is set on the render target.</span></span> <span data-ttu-id="533a7-220">Une fois la transformation appliquée au *clipRect*, le cadre englobant aligné sur l’axe pour le *clipRect* est calculé.</span><span class="sxs-lookup"><span data-stu-id="533a7-220">After the transform is applied to the *clipRect*, the axis-aligned bounding box for the *clipRect* is computed.</span></span> <span data-ttu-id="533a7-221">Pour plus d’efficacité, le contenu est découpé dans ce cadre englobant aligné sur l’axe et non dans le *clipRect* d’origine qui est passé.</span><span class="sxs-lookup"><span data-stu-id="533a7-221">For efficiency, the contents are clipped to this axis-aligned bounding box and not to the original *clipRect* that is passed in.</span></span> <span data-ttu-id="533a7-222">Les diagrammes suivants montrent comment une transformation de rotation est appliquée à la cible de rendu, au *clipRect* résultant et à un cadre englobant aligné sur l’axe calculé.</span><span class="sxs-lookup"><span data-stu-id="533a7-222">The following diagrams show how a rotation transform is applied to the render target, the resulting *clipRect*, and a calculated axis-aligned bounding box.</span></span>

1.  <span data-ttu-id="533a7-223">Supposons que le rectangle de l’illustration suivante est une cible de rendu qui est alignée sur les pixels de l’écran.</span><span class="sxs-lookup"><span data-stu-id="533a7-223">Assume that the rectangle in the following illustration is a render target that is aligned to the screen pixels.</span></span>

    ![illustration d’un rectangle (cible de rendu)](images/pushaxisalignedclip-step1-rendertarget.png)

2.  <span data-ttu-id="533a7-225">Applique une transformation de rotation à la cible de rendu.</span><span class="sxs-lookup"><span data-stu-id="533a7-225">Apply a rotation transform to the render target.</span></span> <span data-ttu-id="533a7-226">Dans l’illustration suivante, le rectangle noir représente la cible de rendu d’origine et le rectangle en pointillés rouges représente la cible de rendu transformée.</span><span class="sxs-lookup"><span data-stu-id="533a7-226">In the following illustration, the black rectangle represents the original render target and the red dashed rectangle represents the transformed render target.</span></span>

    ![illustration du rectangle d’origine et d’un rectangle pivoté (cible de rendu transformée)](images/pushaxisalignedclip-step2-transformed.png)

3.  <span data-ttu-id="533a7-228">Après l’appel de [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) , la transformation de rotation est appliquée au *clipRect*.</span><span class="sxs-lookup"><span data-stu-id="533a7-228">After [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) is called, the rotation transform is applied to the *clipRect*.</span></span> <span data-ttu-id="533a7-229">Dans l’illustration suivante, le rectangle bleu représente le *clipRect* transformé.</span><span class="sxs-lookup"><span data-stu-id="533a7-229">In the following illustration, the blue rectangle represents the transformed *clipRect*.</span></span>

    ![illustration d’un rectangle bleu plus petit (clipRect) à l’intérieur du rectangle pivoté (cible de rendu transformée)](images/pushaxisalignedclip-step3-cliprecttransformed.png)

4.  <span data-ttu-id="533a7-231">Le cadre englobant aligné sur l’axe est calculé.</span><span class="sxs-lookup"><span data-stu-id="533a7-231">The axis-aligned bounding box is calculated.</span></span> <span data-ttu-id="533a7-232">Dans l’illustration suivante, le rectangle en pointillés verts représente le cadre englobant.</span><span class="sxs-lookup"><span data-stu-id="533a7-232">In the following illustration, the green dashed rectangle represents the bounding box.</span></span> <span data-ttu-id="533a7-233">Tout le contenu est découpé en zone englobante alignée sur l’axe.</span><span class="sxs-lookup"><span data-stu-id="533a7-233">All contents are clipped to this axis-aligned bounding box.</span></span>

    ![illustration d’un cadre englobant vert sur le petit rectangle bleu (clipRect)](images/pushaxisalignedclip-step4-boundingbox.png)

## <a name="summary"></a><span data-ttu-id="533a7-235">Résumé</span><span class="sxs-lookup"><span data-stu-id="533a7-235">Summary</span></span>

<span data-ttu-id="533a7-236">Direct2D permet de transformer facilement des objets à deux dimensions à l’aide d’espaces de coordonnées simplifiés et de classes associées.</span><span class="sxs-lookup"><span data-stu-id="533a7-236">Direct2D makes it easy to transform two-dimensional objects with simplified coordinate spaces and related classes.</span></span> <span data-ttu-id="533a7-237">À l’aide de différents types de transformations, vous pouvez traduire, faire pivoter, incliner et mettre à l’échelle vos objets pour obtenir de nombreux effets visuels impressionnants.</span><span class="sxs-lookup"><span data-stu-id="533a7-237">By using various types of transforms, you can translate, rotate, skew, and scale your objects to achieve many impressive visual effects.</span></span>

## <a name="related-topics"></a><span data-ttu-id="533a7-238">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="533a7-238">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="533a7-239">Référence Direct2D</span><span class="sxs-lookup"><span data-stu-id="533a7-239">Direct2D Reference</span></span>](reference.md)
</dt> </dl>

 

 