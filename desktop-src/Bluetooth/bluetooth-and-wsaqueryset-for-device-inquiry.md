---
title: Bluetooth et WSAQUERYSET pour la consultation des appareils
description: Utilisé pour faciliter la découverte d’appareils et de services dans l’espace de noms Bluetooth, NS \_ BTH.
ms.assetid: 0c0d26f7-b6c3-42a9-8c01-118278c381cc
keywords:
- Bluetooth et WSAQUERYSET pour la consultation des appareils Bluetooth
- WSAQUERYSET Bluetooth, pour la consultation des appareils
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7de7adf8c15907fe539ddac5133df08d68ee7c4f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103727644"
---
# <a name="bluetooth-and-wsaqueryset-for-device-inquiry"></a><span data-ttu-id="97dfb-105">Bluetooth et WSAQUERYSET pour la consultation des appareils</span><span class="sxs-lookup"><span data-stu-id="97dfb-105">Bluetooth and WSAQUERYSET for Device Inquiry</span></span>

<span data-ttu-id="97dfb-106">Dans Bluetooth, la structure [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) est utilisée pour faciliter la découverte des appareils et services dans l’espace de noms Bluetooth, NS \_ BTH.</span><span class="sxs-lookup"><span data-stu-id="97dfb-106">In Bluetooth, the [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure, is used to facilitate the discovery of devices and services in the Bluetooth namespace, NS\_BTH.</span></span>

<span data-ttu-id="97dfb-107">Les fonctions [**WSALookupServiceBegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) et [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) utilisent la structure [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) pour obtenir des informations sur le processus de demande de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="97dfb-107">The [**WSALookupServiceBegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) and [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) functions use the [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure to obtain information about the device inquiry process.</span></span> <span data-ttu-id="97dfb-108">Le tableau suivant répertorie et décrit les valeurs de membre dans la structure **WSAQUERYSET** .</span><span class="sxs-lookup"><span data-stu-id="97dfb-108">The following table lists and describes member values in the **WSAQUERYSET** structure.</span></span>

| <span data-ttu-id="97dfb-109">Membre</span><span class="sxs-lookup"><span data-stu-id="97dfb-109">Member</span></span>                      | <span data-ttu-id="97dfb-110">Entrée dans WSALookupServiceBegin avec des \_ conteneurs lup spécifiés</span><span class="sxs-lookup"><span data-stu-id="97dfb-110">Input to WSALookupServiceBegin with LUP\_CONTAINERS specified</span></span>                                                                                                                                              | <span data-ttu-id="97dfb-111">Valeur retournée par WSALookupServiceNext</span><span class="sxs-lookup"><span data-stu-id="97dfb-111">Returned value from WSALookupServiceNext</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="97dfb-112">**dwSize nul**</span><span class="sxs-lookup"><span data-stu-id="97dfb-112">**dwSize**</span></span>                  | <span data-ttu-id="97dfb-113">Doit être défini sur **sizeof**([**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)).</span><span class="sxs-lookup"><span data-stu-id="97dfb-113">Must be set to **sizeof**([**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)).</span></span>                                                                                                                                       | <span data-ttu-id="97dfb-114">**sizeof**([**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)) retourné par System.</span><span class="sxs-lookup"><span data-stu-id="97dfb-114">**sizeof**([**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)) returned by system.</span></span>                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="97dfb-115">**dwOutputFlags**</span><span class="sxs-lookup"><span data-stu-id="97dfb-115">**dwOutputFlags**</span></span>           | <span data-ttu-id="97dfb-116">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-116">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-117">Peut avoir un ou plusieurs de ces indicateurs définis : **BTHNS \_ result \_ Device \_ Connected** spécifie que l’appareil est connecté.</span><span class="sxs-lookup"><span data-stu-id="97dfb-117">May have one or more of these flags set: **BTHNS\_RESULT\_DEVICE\_CONNECTED** Specifies the device is connected.</span></span><br/> <span data-ttu-id="97dfb-118">**BTHNS \_ RÉSULTAT de l' \_ appareil \_ mémorisé** spécifie que l’appareil est un appareil mémorisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-118">**BTHNS\_RESULT\_DEVICE\_REMEMBERED** Specifies the device is a remembered device.</span></span> <span data-ttu-id="97dfb-119">Tous les appareils mémorisés ne sont pas authentifiés.</span><span class="sxs-lookup"><span data-stu-id="97dfb-119">Not all remembered devices are authenticated.</span></span><br/> <span data-ttu-id="97dfb-120">**BTHNS \_ RÉSULTAT de l' \_ \_ authentification** de l’appareil : spécifie que l’appareil est authentifié, couplé ou lié.</span><span class="sxs-lookup"><span data-stu-id="97dfb-120">**BTHNS\_RESULT\_DEVICE\_AUTHENTICATED** Specifies the device is authenticated, paired, or bonded.</span></span> <span data-ttu-id="97dfb-121">Tous les appareils authentifiés sont mémorisés.</span><span class="sxs-lookup"><span data-stu-id="97dfb-121">All authenticated devices are remembered.</span></span><br/> |
| <span data-ttu-id="97dfb-122">**lpszServiceInstanceName**</span><span class="sxs-lookup"><span data-stu-id="97dfb-122">**lpszServiceInstanceName**</span></span> | <span data-ttu-id="97dfb-123">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-123">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-124">Nom complet de l’appareil, retourné à l’origine à partir d’une opération de demande de nom distant Bluetooth et éventuellement mis à jour par l’utilisateur local.</span><span class="sxs-lookup"><span data-stu-id="97dfb-124">Display name of the device, originally returned from a Bluetooth Remote Name Request operation, and possibly updated by the local user.</span></span> <span data-ttu-id="97dfb-125">Retourné si **lup \_ Return \_ Name** est spécifié.</span><span class="sxs-lookup"><span data-stu-id="97dfb-125">Returned if **LUP\_RETURN\_NAME** is specified.</span></span>                                                                                                                                                                                                                                         |
| <span data-ttu-id="97dfb-126">**lpServiceClassId**</span><span class="sxs-lookup"><span data-stu-id="97dfb-126">**lpServiceClassId**</span></span>        | <span data-ttu-id="97dfb-127">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-127">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-128">Le champ de la classe de périphérique (COD) Bluetooth 32 bits est mappé au membre **Data1** du GUID.</span><span class="sxs-lookup"><span data-stu-id="97dfb-128">The 32-bit Bluetooth class of device (COD) field mapped to the **Data1** member of the GUID.</span></span> <span data-ttu-id="97dfb-129">Retourné si **le \_ \_ type de retour lup** est spécifié.</span><span class="sxs-lookup"><span data-stu-id="97dfb-129">Returned if **LUP\_RETURN\_TYPE** is specified.</span></span>                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="97dfb-130">**lpVersion**</span><span class="sxs-lookup"><span data-stu-id="97dfb-130">**lpVersion**</span></span>               | <span data-ttu-id="97dfb-131">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-131">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-132">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-132">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="97dfb-133">**lpszComment**</span><span class="sxs-lookup"><span data-stu-id="97dfb-133">**lpszComment**</span></span>             | <span data-ttu-id="97dfb-134">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-134">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-135">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-135">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="97dfb-136">**dwNameSpace**</span><span class="sxs-lookup"><span data-stu-id="97dfb-136">**dwNameSpace**</span></span>             | <span data-ttu-id="97dfb-137">Doit être NS \_ BTH.</span><span class="sxs-lookup"><span data-stu-id="97dfb-137">Must be NS\_BTH.</span></span>                                                                                                                                                                                           | <span data-ttu-id="97dfb-138">Retourne **le \_ BTH NS**.</span><span class="sxs-lookup"><span data-stu-id="97dfb-138">Returns **NS\_BTH**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="97dfb-139">**lpNSProviderId**</span><span class="sxs-lookup"><span data-stu-id="97dfb-139">**lpNSProviderId**</span></span>          | <span data-ttu-id="97dfb-140">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-140">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-141">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-141">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="97dfb-142">**lpszContext**</span><span class="sxs-lookup"><span data-stu-id="97dfb-142">**lpszContext**</span></span>             | <span data-ttu-id="97dfb-143">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-143">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-144">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-144">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="97dfb-145">**dwNumberOfProtocols**</span><span class="sxs-lookup"><span data-stu-id="97dfb-145">**dwNumberOfProtocols**</span></span>     | <span data-ttu-id="97dfb-146">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-146">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-147">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-147">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="97dfb-148">**lpafpProtocols**</span><span class="sxs-lookup"><span data-stu-id="97dfb-148">**lpafpProtocols**</span></span>          | <span data-ttu-id="97dfb-149">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-149">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-150">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-150">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="97dfb-151">**lpszQueryString**</span><span class="sxs-lookup"><span data-stu-id="97dfb-151">**lpszQueryString**</span></span>         | <span data-ttu-id="97dfb-152">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-152">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-153">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-153">Not used.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="97dfb-154">**dwNumberOfCsAddrs**</span><span class="sxs-lookup"><span data-stu-id="97dfb-154">**dwNumberOfCsAddrs**</span></span>       | <span data-ttu-id="97dfb-155">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-155">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-156">Indique le nombre d’éléments dans le tableau de structures d' [**\_ informations CSADDR**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info) .</span><span class="sxs-lookup"><span data-stu-id="97dfb-156">Indicates the number of elements in the array of [**CSADDR\_INFO**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info) structures.</span></span>                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="97dfb-157">**lpcsaBuffer**</span><span class="sxs-lookup"><span data-stu-id="97dfb-157">**lpcsaBuffer**</span></span>             | <span data-ttu-id="97dfb-158">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="97dfb-158">Not used.</span></span>                                                                                                                                                                                                  | <span data-ttu-id="97dfb-159">Pointeur vers une structure d' [**\_ informations CSADDR**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info) avec son membre **LocalAddr. lpSockaddr** pointant vers une structure [**sockaddr \_ BTH**](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth) avec l’adresse du périphérique distant.</span><span class="sxs-lookup"><span data-stu-id="97dfb-159">Pointer to a [**CSADDR\_INFO**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info) structure with its **LocalAddr.lpSockaddr** member pointing to a [**SOCKADDR\_BTH**](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth) structure with the address of the remote device.</span></span> <span data-ttu-id="97dfb-160">Retourné si **lup \_ renvoie \_ addr** est spécifié.</span><span class="sxs-lookup"><span data-stu-id="97dfb-160">Returned if **LUP\_RETURN\_ADDR** is specified.</span></span>                                                                                                                                                                  |
| <span data-ttu-id="97dfb-161">**lpBlob**</span><span class="sxs-lookup"><span data-stu-id="97dfb-161">**lpBlob**</span></span>                  | <span data-ttu-id="97dfb-162">Optionnel.</span><span class="sxs-lookup"><span data-stu-id="97dfb-162">Optional.</span></span> <span data-ttu-id="97dfb-163">Peut pointer vers une structure d' [**objet BLOB**](/windows/desktop/api/nspapi/ns-nspapi-blob) qui pointe vers une structure d' [**\_ \_ appareil de requête BTH**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_device) qui peut limiter la longueur des opérations de recherche de périphérique non mises en cache.</span><span class="sxs-lookup"><span data-stu-id="97dfb-163">May point to a [**BLOB**](/windows/desktop/api/nspapi/ns-nspapi-blob) structure that points to a [**BTH\_QUERY\_DEVICE**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_device) structure that may limit the length of non-cached device inquiry operations.</span></span> | <span data-ttu-id="97dfb-164">Pointeur vers une structure [**BLOB**](/windows/desktop/api/nspapi/ns-nspapi-blob) qui pointe vers une structure d' [**\_ \_ informations d’appareil BTH**](/windows/desktop/api/Bthdef/ns-bthdef-bth_device_info) .</span><span class="sxs-lookup"><span data-stu-id="97dfb-164">Pointer to a [**BLOB**](/windows/desktop/api/nspapi/ns-nspapi-blob) structure that points to a [**BTH\_DEVICE\_INFO**](/windows/desktop/api/Bthdef/ns-bthdef-bth_device_info) structure.</span></span> <span data-ttu-id="97dfb-165">**lpBlob** est retourné si **l' \_ \_ objet blob de retour lup** est spécifié.</span><span class="sxs-lookup"><span data-stu-id="97dfb-165">**lpBlob** is returned if **LUP\_RETURN\_BLOB** is specified.</span></span> <span data-ttu-id="97dfb-166">Spécifiez le **\_ \_ nom de retour lup** pour récupérer le champ nom des **\_ \_ informations sur l’appareil BTH**.</span><span class="sxs-lookup"><span data-stu-id="97dfb-166">Specify **LUP\_RETURN\_NAME** to retrieve the name field of **BTH\_DEVICE\_INFO**.</span></span>                                                                                                                                                     |



 

## <a name="related-topics"></a><span data-ttu-id="97dfb-167">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="97dfb-167">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="97dfb-168">Bluetooth et WSAQUERYSET pour set service</span><span class="sxs-lookup"><span data-stu-id="97dfb-168">Bluetooth and WSAQUERYSET for Set Service</span></span>](bluetooth-and-wsaqueryset-for-set-service.md)
</dt> <dt>

[<span data-ttu-id="97dfb-169">WSAQUERYSET pour la recherche de service et Bluetooth</span><span class="sxs-lookup"><span data-stu-id="97dfb-169">Bluetooth and WSAQUERYSET for Service Inquiry</span></span>](bluetooth-and-wsaqueryset-for-service-inquiry.md)
</dt> <dt>

[<span data-ttu-id="97dfb-170">Bluetooth et objet BLOB</span><span class="sxs-lookup"><span data-stu-id="97dfb-170">Bluetooth and BLOB</span></span>](bluetooth-and-blob.md)
</dt> <dt>

[<span data-ttu-id="97dfb-171">Bluetooth et WSALookupServiceBegin</span><span class="sxs-lookup"><span data-stu-id="97dfb-171">Bluetooth and WSALookupServiceBegin</span></span>](bluetooth-and-wsasetservice.md)
</dt> <dt>

[<span data-ttu-id="97dfb-172">Bluetooth et WSALookupServiceNext</span><span class="sxs-lookup"><span data-stu-id="97dfb-172">Bluetooth and WSALookupServiceNext</span></span>](bluetooth-and-wsasetservice.md)
</dt> <dt>

[<span data-ttu-id="97dfb-173">**OBJET BLOB**</span><span class="sxs-lookup"><span data-stu-id="97dfb-173">**BLOB**</span></span>](/windows/desktop/api/nspapi/ns-nspapi-blob)
</dt> <dt>

[<span data-ttu-id="97dfb-174">**\_informations sur l’appareil BTH \_**</span><span class="sxs-lookup"><span data-stu-id="97dfb-174">**BTH\_DEVICE\_INFO**</span></span>](/windows/desktop/api/Bthdef/ns-bthdef-bth_device_info)
</dt> <dt>

[<span data-ttu-id="97dfb-175">**\_périphérique de requête BTH \_**</span><span class="sxs-lookup"><span data-stu-id="97dfb-175">**BTH\_QUERY\_DEVICE**</span></span>](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_device)
</dt> <dt>

[<span data-ttu-id="97dfb-176">**\_informations CSADDR**</span><span class="sxs-lookup"><span data-stu-id="97dfb-176">**CSADDR\_INFO**</span></span>](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info)
</dt> <dt>

[<span data-ttu-id="97dfb-177">**SOCKADDR \_ BTH**</span><span class="sxs-lookup"><span data-stu-id="97dfb-177">**SOCKADDR\_BTH**</span></span>](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth)
</dt> <dt>

[<span data-ttu-id="97dfb-178">**WSAQUERYSET**</span><span class="sxs-lookup"><span data-stu-id="97dfb-178">**WSAQUERYSET**</span></span>](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)
</dt> <dt>

[<span data-ttu-id="97dfb-179">Windows Sockets</span><span class="sxs-lookup"><span data-stu-id="97dfb-179">Windows Sockets</span></span>](/windows/desktop/WinSock/windows-sockets-start-page-2)
</dt> </dl>

 

