---
title: Désactivation de la sécurité d’activation
description: Désactivation de la sécurité d’activation
ms.assetid: 3474f8ad-f041-4886-ad39-ff0603c5c69e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7da3ebd7cc03d79fc38fbafe3bc652efc3499437
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "104382951"
---
# <a name="turning-off-activation-security"></a><span data-ttu-id="714ab-103">Désactivation de la sécurité d’activation</span><span class="sxs-lookup"><span data-stu-id="714ab-103">Turning Off Activation Security</span></span>

<span data-ttu-id="714ab-104">Normalement, l’activation utilise des paramètres de sécurité par défaut.</span><span class="sxs-lookup"><span data-stu-id="714ab-104">Normally, activation uses default security settings.</span></span> <span data-ttu-id="714ab-105">Toutefois, vous pouvez contrôler la sécurité d’activation en spécifiant une structure [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) , qui est un membre de la structure [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) qui est passée aux fonctions d’activation.</span><span class="sxs-lookup"><span data-stu-id="714ab-105">However, you can control activation security by specifying a [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure, which is a member of the [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) structure that is passed to the activation functions.</span></span> <span data-ttu-id="714ab-106">Si le client spécifie un niveau d’authentification RPC \_ C \_ Authn \_ niveau \_ None dans la structure **COAUTHINFO** , l’authentification n’est pas tentée.</span><span class="sxs-lookup"><span data-stu-id="714ab-106">If the client specifies an authentication level of RPC\_C\_AUTHN\_LEVEL\_NONE in the **COAUTHINFO** structure, authentication is not attempted.</span></span> <span data-ttu-id="714ab-107">Dans le cas contraire, une tentative d’activation sécurisée est tentée et, si l’authentification échoue, l’activation échoue.</span><span class="sxs-lookup"><span data-stu-id="714ab-107">Otherwise, secure activation is attempted, and if authentication fails, activation fails.</span></span>

<span data-ttu-id="714ab-108">Si le client ne spécifie pas une structure [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) explicite et définit plutôt le pointeur sur **null**, com tente d’authentifier le client.</span><span class="sxs-lookup"><span data-stu-id="714ab-108">If the client does not specify an explicit [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure and instead sets the pointer to **NULL**, COM will attempt to authenticate the client.</span></span> <span data-ttu-id="714ab-109">S’il ne peut pas authentifier le client, COM vérifie le descripteur de sécurité d’autorisation d’exécution pour déterminer s’il existe une liste DACL **null** ou une liste de contrôle d’accès qui autorise l’accès à tout le monde.</span><span class="sxs-lookup"><span data-stu-id="714ab-109">If it cannot authenticate the client, COM checks the launch permission security descriptor to see whether there is a **NULL** DACL or an ACL that allows access to Everyone.</span></span> <span data-ttu-id="714ab-110">Si cette vérification s’effectue correctement, le serveur est lancé.</span><span class="sxs-lookup"><span data-stu-id="714ab-110">If this check succeeds, the server is launched.</span></span> <span data-ttu-id="714ab-111">Par conséquent, même si le client ne spécifie pas de structure **COAUTHINFO**, une activation non sécurisée peut avoir lieu lorsque le serveur le permet.</span><span class="sxs-lookup"><span data-stu-id="714ab-111">Therefore, even if the client does not specify a **COAUTHINFO** structure, unsecure activation may take place when the server allows it.</span></span>

> [!Note]  
> <span data-ttu-id="714ab-112">Pour permettre aux utilisateurs réseau non authentifiés d’exécuter une application COM, les rôles d’application doivent inclure l’utilisateur anonyme.</span><span class="sxs-lookup"><span data-stu-id="714ab-112">To allow unauthenticated network users to run a COM application, the application roles must include the Anonymous user.</span></span> <span data-ttu-id="714ab-113">À compter de Windows Server 2003, par défaut, l’utilisateur anonyme n’est pas inclus dans le groupe tout le monde.</span><span class="sxs-lookup"><span data-stu-id="714ab-113">Starting with Windows Server 2003, by default, the Anonymous user is not included in the Everyone group.</span></span>

 

<span data-ttu-id="714ab-114">Pourquoi un client souhaite-t-il désactiver la sécurité d’activation de manière explicite même si l’activation non sécurisée finira par se produire si le serveur l’autorise ?</span><span class="sxs-lookup"><span data-stu-id="714ab-114">Why would a client want to turn off activation security explicitly even though unsecure activation will eventually take place if the server allows it?</span></span> <span data-ttu-id="714ab-115">Étant donné que la désactivation explicite de la sécurité d’activation augmente les performances lorsque le client ne souhaite pas ou n’a pas besoin de vérifications de sécurité.</span><span class="sxs-lookup"><span data-stu-id="714ab-115">Because explicitly turning off activation security increases performance when the client does not want or need security checks.</span></span>

<span data-ttu-id="714ab-116">Les opérations suivantes doivent être effectuées pour désactiver explicitement la sécurité d’activation :</span><span class="sxs-lookup"><span data-stu-id="714ab-116">The following things must be done to explicitly turn off activation security:</span></span>

-   <span data-ttu-id="714ab-117">Le client doit spécifier un niveau d’authentification du \_ \_ niveau AUTHn RPC- \_ \_ None dans la structure [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) qui est membre de la structure [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) fournie à la fonction d’activation.</span><span class="sxs-lookup"><span data-stu-id="714ab-117">The client must specify an authentication level of RPC\_C\_AUTHN\_LEVEL\_NONE in the [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure that is a member of the [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) structure supplied to the activation function.</span></span>
-   <span data-ttu-id="714ab-118">Le client doit spécifier un niveau d’emprunt d’identité de l' \_ emprunt d’identité RPC C \_ IMP \_ \_ dans la structure [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) qui est membre de la structure [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) fournie à la fonction d’activation.</span><span class="sxs-lookup"><span data-stu-id="714ab-118">The client must specify an impersonation level of RPC\_C\_IMP\_LEVEL\_IMPERSONATE in the [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure that is a member of the [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) structure supplied to the activation function.</span></span> <span data-ttu-id="714ab-119">Si cette valeur n’est pas passée, le serveur RPC \_ S Server n’est pas \_ \_ disponible.</span><span class="sxs-lookup"><span data-stu-id="714ab-119">If this value is not passed, you will get RPC\_S\_SERVER\_UNAVAILABLE.</span></span>
-   <span data-ttu-id="714ab-120">Le serveur doit spécifier **tout le monde** pour les **autorisations de lancement par défaut**.</span><span class="sxs-lookup"><span data-stu-id="714ab-120">The server must specify **Everyone** for **Default Launch Permissions**.</span></span> <span data-ttu-id="714ab-121">La méthode recommandée pour effectuer cette tâche consiste à utiliser Dcomcnfg.exe comme suit :</span><span class="sxs-lookup"><span data-stu-id="714ab-121">The recommended way to perform this task is to use Dcomcnfg.exe as follows:</span></span>
    1.  <span data-ttu-id="714ab-122">Exécutez Dcomcnfg.exe.</span><span class="sxs-lookup"><span data-stu-id="714ab-122">Run Dcomcnfg.exe.</span></span>
    2.  <span data-ttu-id="714ab-123">Dans la page **applications** , sélectionnez l’application qui représente le serveur.</span><span class="sxs-lookup"><span data-stu-id="714ab-123">On the **Applications** page, select the application that represents the server.</span></span> <span data-ttu-id="714ab-124">Cliquez sur le bouton des **Propriétés** (ou double-cliquez sur l’application sélectionnée).</span><span class="sxs-lookup"><span data-stu-id="714ab-124">Click the **Properties** button (or double-click the selected application).</span></span>
    3.  <span data-ttu-id="714ab-125">Sur la page de propriétés **sécurité** , cliquez sur le bouton **utiliser des autorisations d’exécution personnalisées** .</span><span class="sxs-lookup"><span data-stu-id="714ab-125">On the **Security** property page, click the **Use Custom Launch Permissions** button.</span></span>
    4.  <span data-ttu-id="714ab-126">Cliquez sur le bouton **modifier** dans la zone **autorisations d’exécution** .</span><span class="sxs-lookup"><span data-stu-id="714ab-126">Click the **Edit** button in the **Launch Permissions** area.</span></span>
    5.  <span data-ttu-id="714ab-127">Dans la boîte de dialogue autorisations de la **valeur du Registre** , cliquez sur le bouton **Ajouter** .</span><span class="sxs-lookup"><span data-stu-id="714ab-127">In the **Registry Value Permissions** dialog box, click the **Add** button.</span></span>
    6.  <span data-ttu-id="714ab-128">Sélectionnez l’entrée pour **tout le monde** dans la zone de liste.</span><span class="sxs-lookup"><span data-stu-id="714ab-128">Select the entry for **Everyone** in the list box.</span></span>
    7.  <span data-ttu-id="714ab-129">Dans la zone **de liste type d’accès** , choisissez **autoriser le lancement**.</span><span class="sxs-lookup"><span data-stu-id="714ab-129">In the **Type of Access** list box, choose **Allow Launch**.</span></span>
    8.  <span data-ttu-id="714ab-130">Cliquez sur le bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="714ab-130">Click the **OK** button.</span></span>

> [!Note]  
> <span data-ttu-id="714ab-131">Dans Windows Server 2003, la fonctionnalité d’authentification de l’application système COM+ comprend la valeur EOAC \_ Disable \_ AAA.</span><span class="sxs-lookup"><span data-stu-id="714ab-131">In Windows Server 2003, the authentication capability for the COM+ system application includes the value EOAC\_DISABLE\_AAA.</span></span> <span data-ttu-id="714ab-132">Cette valeur, qui désactive les activations AAA (Activate-As-Activator), est utilisée dans l’appel de [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) lors du lancement de l’application système.</span><span class="sxs-lookup"><span data-stu-id="714ab-132">This value, which disables activate-as-activator (AAA) activations, is used in the [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) call when launching the system application.</span></span> <span data-ttu-id="714ab-133">La définition de la fonctionnalité d’authentification sur EOAC \_ Disable \_ AAA permet à une application qui s’exécute sous un compte privilégié (tel que LocalSystem) d’empêcher son identité d’être utilisée pour lancer des composants non fiables.</span><span class="sxs-lookup"><span data-stu-id="714ab-133">Setting the authentication capability to EOAC\_DISABLE\_AAA allows an application that runs under a privileged account (such as LocalSystem) to help prevent its identity from being used to launch untrusted components.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="714ab-134">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="714ab-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="714ab-135">Désactivation de la sécurité de l’appel</span><span class="sxs-lookup"><span data-stu-id="714ab-135">Turning Off Call Security</span></span>](turning-off-call-security.md)
</dt> </dl>

 

 