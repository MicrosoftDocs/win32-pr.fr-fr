---
title: Protocole Kerberos V5
description: Protocole Kerberos V5
ms.assetid: a53a1edf-f374-4cbf-8050-7cde45284157
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 68d78c4bdc457007c04ad66163e2ebfd7f5397f9
ms.sourcegitcommit: 3e70ae762629e244028b437420ed50b5850db4e3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/20/2020
ms.locfileid: "106533553"
---
# <a name="kerberos-v5-protocol"></a><span data-ttu-id="28ffe-103">Protocole Kerberos V5</span><span class="sxs-lookup"><span data-stu-id="28ffe-103">Kerberos v5 Protocol</span></span>

<span data-ttu-id="28ffe-104">Le protocole d’authentification Kerberos V5 possède un identificateur de service d’authentification RPC \_ C \_ Authn \_ GSS \_ Kerberos.</span><span class="sxs-lookup"><span data-stu-id="28ffe-104">The Kerberos v5 authentication protocol has an authentication service identifier of RPC\_C\_AUTHN\_GSS\_KERBEROS.</span></span> <span data-ttu-id="28ffe-105">Le protocole Kerberos définit la manière dont les clients interagissent avec un service d’authentification réseau et est standardisé par l’IETF (Internet Engineering Task Force) en septembre 1993, dans le document [RFC 1510](https://www.ietf.org/rfc/rfc1510.txt).</span><span class="sxs-lookup"><span data-stu-id="28ffe-105">The Kerberos protocol defines how clients interact with a network authentication service and was standardized by the Internet Engineering Task Force (IETF) in September 1993, in document [RFC 1510](https://www.ietf.org/rfc/rfc1510.txt).</span></span> <span data-ttu-id="28ffe-106">Les clients obtiennent des tickets du centre de distribution de clés Kerberos (KDC), et ils présentent ces tickets aux serveurs lorsque les connexions sont établies.</span><span class="sxs-lookup"><span data-stu-id="28ffe-106">Clients obtain tickets from the Kerberos Key Distribution Center (KDC), and they present these tickets to servers when connections are established.</span></span> <span data-ttu-id="28ffe-107">Les tickets Kerberos représentent les informations d'identification réseau du client.</span><span class="sxs-lookup"><span data-stu-id="28ffe-107">Kerberos tickets represent the client's network credentials.</span></span>

<span data-ttu-id="28ffe-108">Comme NTLM, le protocole Kerberos utilise le nom de domaine, le nom d’utilisateur et le mot de passe pour représenter l’identité du client.</span><span class="sxs-lookup"><span data-stu-id="28ffe-108">Like NTLM, the Kerberos protocol uses the domain name, user name, and password to represent the client's identity.</span></span> <span data-ttu-id="28ffe-109">Le ticket Kerberos initial obtenu à partir du KDC lorsque l’utilisateur ouvre une session est basé sur un hachage chiffré du mot de passe de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="28ffe-109">The initial Kerberos ticket obtained from the KDC when the user logs on is based on an encrypted hash of the user's password.</span></span> <span data-ttu-id="28ffe-110">Ce ticket initial est mis en cache.</span><span class="sxs-lookup"><span data-stu-id="28ffe-110">This initial ticket is cached.</span></span> <span data-ttu-id="28ffe-111">Lorsque l’utilisateur tente de se connecter à un serveur, le protocole Kerberos examine le cache de tickets pour rechercher un ticket valide pour ce serveur.</span><span class="sxs-lookup"><span data-stu-id="28ffe-111">When the user tries to connect to a server, the Kerberos protocol checks the ticket cache for a valid ticket for that server.</span></span> <span data-ttu-id="28ffe-112">Si aucun ticket n’est disponible, le ticket initial de l’utilisateur est envoyé au centre de gestion de clés (KDC), ainsi qu’une demande de ticket pour le serveur spécifié.</span><span class="sxs-lookup"><span data-stu-id="28ffe-112">If one is not available, the initial ticket for the user is sent to the KDC along with a request for a ticket for the specified server.</span></span> <span data-ttu-id="28ffe-113">Ce ticket de session est ajouté au cache, et il peut être utilisé pour se connecter au même serveur jusqu’à ce que le ticket expire.</span><span class="sxs-lookup"><span data-stu-id="28ffe-113">That session ticket is added to the cache, and it can be used to connect to the same server until the ticket expires.</span></span>

<span data-ttu-id="28ffe-114">Lorsqu’un serveur appelle [**CoQueryClientBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryclientblanket) à l’aide du protocole Kerberos, le nom de domaine et le nom d’utilisateur du client sont retournés.</span><span class="sxs-lookup"><span data-stu-id="28ffe-114">When a server calls [**CoQueryClientBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryclientblanket) using the Kerberos protocol, the client's domain name and user name are returned.</span></span> <span data-ttu-id="28ffe-115">Lorsqu’un serveur appelle [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), le jeton du client est retourné.</span><span class="sxs-lookup"><span data-stu-id="28ffe-115">When a server calls [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), the client's token is returned.</span></span> <span data-ttu-id="28ffe-116">Ces comportements sont les mêmes que lors de l’utilisation de NTLM.</span><span class="sxs-lookup"><span data-stu-id="28ffe-116">These behaviors are the same as when using NTLM.</span></span>

<span data-ttu-id="28ffe-117">Le protocole Kerberos fonctionne à travers les limites de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="28ffe-117">The Kerberos protocol works across computer boundaries.</span></span> <span data-ttu-id="28ffe-118">Les ordinateurs clients et serveurs doivent tous deux se trouver dans des domaines, et ces domaines doivent avoir une relation d’approbation.</span><span class="sxs-lookup"><span data-stu-id="28ffe-118">The client and server computers must both be in domains, and those domains must have a trust relationship.</span></span>

<span data-ttu-id="28ffe-119">Le protocole Kerberos nécessite une authentification mutuelle et le prend en charge à distance.</span><span class="sxs-lookup"><span data-stu-id="28ffe-119">The Kerberos protocol requires mutual authentication and supports it remotely.</span></span> <span data-ttu-id="28ffe-120">Le client doit spécifier le nom principal du serveur et l’identité du serveur doit correspondre exactement au nom du principal.</span><span class="sxs-lookup"><span data-stu-id="28ffe-120">The client must specify the principal name of the server, and the server's identity must match that principal name exactly.</span></span> <span data-ttu-id="28ffe-121">Si le client spécifie la **valeur null** pour le nom principal du serveur ou si le nom du principal ne correspond pas au serveur, l’appel échoue.</span><span class="sxs-lookup"><span data-stu-id="28ffe-121">If the client specifies **NULL** for the server's principal name or if the principal name doesn't match the server, the call will fail.</span></span>

<span data-ttu-id="28ffe-122">Avec le protocole Kerberos, les niveaux d’emprunt d’identité identifient, Impersonate et Delegate peuvent être utilisés.</span><span class="sxs-lookup"><span data-stu-id="28ffe-122">With the Kerberos protocol, the impersonation levels identify, impersonate, and delegate can be used.</span></span> <span data-ttu-id="28ffe-123">Lorsqu’un serveur appelle [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), le jeton retourné est valide sur l’ordinateur pendant une période de temps comprise entre 5 minutes et 8 heures.</span><span class="sxs-lookup"><span data-stu-id="28ffe-123">When a server calls [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), the token returned is valid off the computer for some time period between 5 minutes and 8 hours.</span></span> <span data-ttu-id="28ffe-124">Après ce délai, il ne peut être utilisé que sur l’ordinateur serveur.</span><span class="sxs-lookup"><span data-stu-id="28ffe-124">After this time, it can be used on the server computer only.</span></span> <span data-ttu-id="28ffe-125">Si un serveur est « exécuter en tant qu’activateur » et que l’activation est effectuée avec le protocole Kerberos, le jeton du serveur expirera entre 5 minutes et 8 heures après l’activation.</span><span class="sxs-lookup"><span data-stu-id="28ffe-125">If a server is "run as activator" and the activation is done with the Kerberos protocol, the server's token will expire between 5 minutes and 8 hours after activation.</span></span>

<span data-ttu-id="28ffe-126">Le protocole d’authentification Kerberos V5 implémenté par WindowsÂ prend en charge le [masquage](cloaking.md).</span><span class="sxs-lookup"><span data-stu-id="28ffe-126">The Kerberos v5 authentication protocol implemented by WindowsÂ supports [cloaking](cloaking.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="28ffe-127">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="28ffe-127">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="28ffe-128">Packages COM et de sécurité</span><span class="sxs-lookup"><span data-stu-id="28ffe-128">COM and Security Packages</span></span>](com-and-security-packages.md)
</dt> </dl>

 

 




