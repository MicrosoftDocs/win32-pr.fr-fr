---
title: Définition de la sécurité Process-Wide dans le registre
description: Si vous souhaitez définir la sécurité pour un processus entier, une solution consiste à définir les niveaux de sécurité souhaités dans le registre.
ms.assetid: 87f0a64f-f3ec-4ee2-8d65-4f82e8971f0b
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d303f184229cb20aef1cbf71733956a3b6ce6618
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "103941400"
---
# <a name="setting-process-wide-security-through-the-registry"></a><span data-ttu-id="df85f-103">Définition de la sécurité Process-Wide dans le registre</span><span class="sxs-lookup"><span data-stu-id="df85f-103">Setting Process-Wide Security Through the Registry</span></span>

<span data-ttu-id="df85f-104">Si vous souhaitez définir la sécurité pour un processus entier, une solution consiste à définir les niveaux de sécurité souhaités dans le registre.</span><span class="sxs-lookup"><span data-stu-id="df85f-104">If you want to set security for an entire process, one solution is to set the security levels you want in the registry.</span></span> <span data-ttu-id="df85f-105">Si votre application ne peut pas appeler [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) ou si vous préférez ne pas utiliser la sécurité par programmation, cela peut être une bonne option.</span><span class="sxs-lookup"><span data-stu-id="df85f-105">If your application cannot call [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) or if you prefer not to use programmatic security, this might be a good option.</span></span> <span data-ttu-id="df85f-106">Si vous décidez de définir la sécurité au niveau du processus à l’aide du Registre, sachez que si vous appelez **CoInitializeSecurity** au sein de votre programme, vous utiliserez les valeurs dans **CoInitializeSecurity** et ignorez les valeurs de registre.</span><span class="sxs-lookup"><span data-stu-id="df85f-106">If you decide to set process-wide security using the registry, you should be aware that if you call **CoInitializeSecurity** within your program COM will use the values in **CoInitializeSecurity** and ignore the registry values.</span></span>

<span data-ttu-id="df85f-107">Il existe deux façons de définir la sécurité dans le registre de votre application :</span><span class="sxs-lookup"><span data-stu-id="df85f-107">There are two ways to set security in the registry for your application:</span></span>

-   <span data-ttu-id="df85f-108">Vous pouvez utiliser Dcomcnfg.exe, qui fournit une interface utilisateur simple pour modifier les valeurs de sécurité.</span><span class="sxs-lookup"><span data-stu-id="df85f-108">You can use Dcomcnfg.exe, which provides a simple user interface for modifying security values.</span></span> <span data-ttu-id="df85f-109">Tous les serveurs COM peuvent être configurés à l’aide de Dcomcnfg.exe.</span><span class="sxs-lookup"><span data-stu-id="df85f-109">All COM servers can be configured using Dcomcnfg.exe.</span></span> <span data-ttu-id="df85f-110">Pour plus d’informations, consultez Définition de la [sécurité Process-Wide à l’aide de DCOMCNFG](setting-processwide-security-using-dcomcnfg.md).</span><span class="sxs-lookup"><span data-stu-id="df85f-110">For more information, see [Setting Process-Wide Security Using DCOMCNFG](setting-processwide-security-using-dcomcnfg.md).</span></span> <span data-ttu-id="df85f-111">Toutefois, les applications clientes n’apparaissent normalement pas dans Dcomcnfg.exe, sauf si le client crée un GUID et l’entre dans le registre.</span><span class="sxs-lookup"><span data-stu-id="df85f-111">However, client applications do not normally appear in Dcomcnfg.exe unless the client creates a GUID and enters it in the registry.</span></span>
-   <span data-ttu-id="df85f-112">Vous pouvez définir des valeurs de sécurité sous la clé [AppID](appid-key.md) pour l’application.</span><span class="sxs-lookup"><span data-stu-id="df85f-112">You can set security values under the [AppID](appid-key.md) key for the application.</span></span> <span data-ttu-id="df85f-113">Le reste de cette rubrique explique comment définir la sécurité dans le registre à l’aide de la clé **AppID** .</span><span class="sxs-lookup"><span data-stu-id="df85f-113">The rest of this topic explains how to set security in the registry using the **AppID** key.</span></span>

<span data-ttu-id="df85f-114">Un AppID est un GUID qui représente un processus serveur pour une ou plusieurs classes.</span><span class="sxs-lookup"><span data-stu-id="df85f-114">An AppID is a GUID that represents a server process for one or more classes.</span></span> <span data-ttu-id="df85f-115">Chaque classe est associée à un seul AppID, et les AppID ne peuvent être affectés qu’à des exe.</span><span class="sxs-lookup"><span data-stu-id="df85f-115">Each class is associated with exactly one AppID, and AppIDs can be assigned only to EXEs.</span></span> <span data-ttu-id="df85f-116">Les dll n’obtiennent pas d’AppID à moins qu’elles ne s’exécutent dans un substitut, puis il s’agit du processus de substitution qui a l’AppID.</span><span class="sxs-lookup"><span data-stu-id="df85f-116">DLLs do not get AppIDs unless they are running in a surrogate, and then it is the surrogate process that has the AppID.</span></span> <span data-ttu-id="df85f-117">Si plusieurs dll sont chargées dans un substitut, chaque substitut n’a qu’un seul AppID.</span><span class="sxs-lookup"><span data-stu-id="df85f-117">If multiple DLLs are loaded into a surrogate, each surrogate has only one AppID.</span></span>

<span data-ttu-id="df85f-118">Pour certains serveurs COM, le code d’inscription génère une AppID et place dans le registre les entrées qui mappent l’AppID au nom de l’exécutable.</span><span class="sxs-lookup"><span data-stu-id="df85f-118">For some COM servers, the registration code generates an AppID and places entries in the registry that map the AppID to the name of the executable.</span></span> <span data-ttu-id="df85f-119">Toutefois, certains serveurs COM n’offrent pas cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="df85f-119">But some COM servers do not provide this functionality.</span></span> <span data-ttu-id="df85f-120">Toutefois, si le code d’inscription du serveur ajoute une entrée pour HKCR \\ CLSID {ServerCLSID} \\ [LocalServer32](localserver32.md) lors de l’exécution de dcomcnfg.exe, il ajoute automatiquement un AppID pour le CLSID.</span><span class="sxs-lookup"><span data-stu-id="df85f-120">However, if the server's registration code adds an entry for HKCR\\CLSID{ServerCLSID}\\[LocalServer32](localserver32.md) when dcomcnfg.exe is run, it will automatically add an AppID for the CLSID.</span></span>

<span data-ttu-id="df85f-121">Pour un client COM qui n’est pas un serveur, ce mappage n’est pas créé, car le client n’est jamais inscrit.</span><span class="sxs-lookup"><span data-stu-id="df85f-121">For a COM client that is not a server, this mapping is not created because the client is never registered.</span></span> <span data-ttu-id="df85f-122">Par conséquent, pour définir la sécurité à l’aide de la clé **AppID** , le client doit créer les entrées de Registre nécessaires, soit par programme à l’aide des [fonctions de registre](/windows/desktop/SysInfo/registry-functions) , soit à l’aide de Regedit.</span><span class="sxs-lookup"><span data-stu-id="df85f-122">Therefore, to set security using the **AppID** key, the client must create the necessary registry entries, either programmatically by using the [registry functions](/windows/desktop/SysInfo/registry-functions) or by using regedit.</span></span>

<span data-ttu-id="df85f-123">Si vous décidez de définir la sécurité au niveau du processus dans le Registre sous la clé **AppID** , sachez qu’il existe deux valeurs nommées sous la clé **AppID** que vous pouvez définir sans disposer des autorisations d’administrateur :</span><span class="sxs-lookup"><span data-stu-id="df85f-123">If you decide to set process-wide security in the registry under the **AppID** key, be aware that there are two named values under the **AppID** key that you can set without having administrator permissions:</span></span>

-   [<span data-ttu-id="df85f-124">AccessPermission</span><span class="sxs-lookup"><span data-stu-id="df85f-124">AccessPermission</span></span>](accesspermission.md)
-   [<span data-ttu-id="df85f-125">AuthenticationLevel</span><span class="sxs-lookup"><span data-stu-id="df85f-125">AuthenticationLevel</span></span>](authenticationlevel.md)

<span data-ttu-id="df85f-126">Les valeurs **AuthenticationLevel** et **AccessPermission** sont définies indépendamment et ont des valeurs par défaut distinctes.</span><span class="sxs-lookup"><span data-stu-id="df85f-126">The **AuthenticationLevel** and **AccessPermission** values are set independently and have separate default values.</span></span> <span data-ttu-id="df85f-127">Si la valeur **AuthenticationLevel** n’est pas présente, la valeur [LegacyAuthenticationLevel](legacyauthenticationlevel.md) est utilisée comme valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="df85f-127">If the **AuthenticationLevel** value is not present, the [LegacyAuthenticationLevel](legacyauthenticationlevel.md) value is used as the default.</span></span> <span data-ttu-id="df85f-128">De même, si la valeur **AccessPermission** n’est pas présente, la valeur [DefaultAccessPermission](defaultaccesspermission.md) est utilisée comme valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="df85f-128">Similarly, if the **AccessPermission** value is not present, the [DefaultAccessPermission](defaultaccesspermission.md) value is used as the default.</span></span> <span data-ttu-id="df85f-129">Toutefois, les valeurs **AuthenticationLevel** et **AccessPermission** sont interdépendantes des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="df85f-129">However, the **AuthenticationLevel** and the **AccessPermission** values are interrelated in the following ways:</span></span>

-   <span data-ttu-id="df85f-130">Si **AuthenticationLevel** a la valeur None, les valeurs **AccessPermission** et **DefaultAccessPermission** sont ignorées pour cette application.</span><span class="sxs-lookup"><span data-stu-id="df85f-130">If the **AuthenticationLevel** is none, the **AccessPermission** and **DefaultAccessPermission** values are ignored for that application.</span></span>
-   <span data-ttu-id="df85f-131">Si **AuthenticationLevel** n’est pas présent et que **LegacyAuthenticationLevel** a la valeur None, les valeurs **AccessPermission** et **DefaultAccessPermission** sont ignorées pour cette application.</span><span class="sxs-lookup"><span data-stu-id="df85f-131">If the **AuthenticationLevel** is not present and the **LegacyAuthenticationLevel** is none, the **AccessPermission** and **DefaultAccessPermission** values are ignored for that application.</span></span>

## <a name="related-topics"></a><span data-ttu-id="df85f-132">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="df85f-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="df85f-133">Définition de la sécurité Process-Wide</span><span class="sxs-lookup"><span data-stu-id="df85f-133">Setting Process-Wide Security</span></span>](setting-processwide-security.md)
</dt> </dl>

 

 