---
title: Mécanismes d’inertie
description: Mécanismes d’inertie
ms.assetid: 188b6936-b36e-4e57-9118-8b61ed134c17
keywords:
- Tactile Windows, inertie
- Tactile Windows, animation lisse
- Tactile Windows, marge élastique
- inertie, mécanique
- inertie, principes de base du calcul
- inertie, présentation physique
- inertie, animation lisse
- inertie, marge élastique
- animation lisse
- marge élastique
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: be79b27900c6921c972710e7e922ab42b834afc1
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104309522"
---
# <a name="inertia-mechanics"></a><span data-ttu-id="76b01-113">Mécanismes d’inertie</span><span class="sxs-lookup"><span data-stu-id="76b01-113">Inertia Mechanics</span></span>

<span data-ttu-id="76b01-114">L’inertie est utilisée pour effectuer des calculs pour animer le déplacement des objets et pour activer la prise en charge de la convivialité générique dans les applications qui incorporent la fonction tactile Windows.</span><span class="sxs-lookup"><span data-stu-id="76b01-114">Inertia is used to perform calculations for animating object movement and to enable support for generic usability in applications incorporating Windows Touch.</span></span> <span data-ttu-id="76b01-115">Cette section illustre les fonctionnalités suivantes qui sont activées par inertie.</span><span class="sxs-lookup"><span data-stu-id="76b01-115">This section illustrates the following features that are enabled by inertia.</span></span>

-   <span data-ttu-id="76b01-116">Brève vue d’ensemble de la physique d’inertie.</span><span class="sxs-lookup"><span data-stu-id="76b01-116">A brief overview of inertia physics.</span></span>
-   <span data-ttu-id="76b01-117">Animation lisse des objets à l’aide des propriétés de vélocité et de décélération.</span><span class="sxs-lookup"><span data-stu-id="76b01-117">Smooth object animation using the velocity and deceleration properties.</span></span>
-   <span data-ttu-id="76b01-118">Animation lisse des objets à l’aide d’une propriété de déplacement.</span><span class="sxs-lookup"><span data-stu-id="76b01-118">Smooth object animation using a displacement property.</span></span>
-   <span data-ttu-id="76b01-119">Rebond à partir des bords de l’écran à l’aide de limites élastiques.</span><span class="sxs-lookup"><span data-stu-id="76b01-119">Bouncing from the screen edges using elastic bounds.</span></span>

## <a name="inertia-physics-overview"></a><span data-ttu-id="76b01-120">Vue d’ensemble physique de l’inertie</span><span class="sxs-lookup"><span data-stu-id="76b01-120">Inertia Physics Overview</span></span>

<span data-ttu-id="76b01-121">Le processeur d’inertie utilise un modèle physique simple qui incorpore une position, une valeur de décélération et une rapidité initiale.</span><span class="sxs-lookup"><span data-stu-id="76b01-121">The inertia processor uses a simple physics model that incorporates a position, a deceleration value, and an initial velocity.</span></span> <span data-ttu-id="76b01-122">L’heure est utilisée comme entrée dynamique dans le modèle pour déterminer la position actuelle d’un objet en cours de déplacement.</span><span class="sxs-lookup"><span data-stu-id="76b01-122">Time is used as the dynamic input to the model to determine the current position of an object being displaced.</span></span> <span data-ttu-id="76b01-123">Le graphique et la formule suivants décrivent le modèle physique utilisé pour calculer les positions des objets.</span><span class="sxs-lookup"><span data-stu-id="76b01-123">The following graph and formula outline the physics model used for calculating object positions.</span></span>

![illustration illustrant le graphique et la formule utilisés pour calculer les positions des objets](images/velocity.png)

<span data-ttu-id="76b01-125">Dans la formule utilisée pour calculer la position actuelle (x), la vélocité initiale (v) est multipliée par le temps écoulé (t) et est réduite par le facteur de décélération (d) multiplié par le temps.</span><span class="sxs-lookup"><span data-stu-id="76b01-125">In the formula used for calculating the current position (x), the initial velocity (v) is multiplied by the time elapsed (t) and is reduced by the deceleration factor (d) times time squared.</span></span> <span data-ttu-id="76b01-126">Cela entraîne une décélération lisse des objets.</span><span class="sxs-lookup"><span data-stu-id="76b01-126">This results in smooth object deceleration.</span></span> <span data-ttu-id="76b01-127">Dans l’illustration précédente de la partie initiale (la plus à gauche) de la courbe, l’objet se déplace rapidement, car sa vélocité actuelle est la vélocité initiale.</span><span class="sxs-lookup"><span data-stu-id="76b01-127">In the previous illustration at the initial (leftmost) part of the curve, the object is moving quickly because its current velocity is the initial velocity.</span></span> <span data-ttu-id="76b01-128">À la dernière partie (la plus à droite) de la courbe, l’objet a été complètement arrêté, car sa vélocité est 0.</span><span class="sxs-lookup"><span data-stu-id="76b01-128">At the final (rightmost) part of the curve, the object has completely stopped because its velocity is 0.</span></span> <span data-ttu-id="76b01-129">Les calculs de vélocité d’objet pour la vélocité x, la vélocité y et la vélocité de rotation utilisent tous cette formule pour les calculs.</span><span class="sxs-lookup"><span data-stu-id="76b01-129">Object velocity calculations for x-velocity, y-velocity, and rotational velocity all use this formula for calculations.</span></span>

<span data-ttu-id="76b01-130">Toute distance utilisée pour le processeur d’inertie est relative.</span><span class="sxs-lookup"><span data-stu-id="76b01-130">All distance used for the inertia processor is relative.</span></span> <span data-ttu-id="76b01-131">Si vous souhaitez utiliser des coordonnées d’écran, vous transmettez des coordonnées d’écran au processeur de manipulation (ou d’inertie); Si vous souhaitez utiliser des coordonnées absolues, vous devez les transmettre au processeur que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="76b01-131">If you want to use screen coordinates, you pass screen coordinates to the manipulation (or inertia) processor; if you want to use absolute coordinates, you pass those into the processor you are using.</span></span> <span data-ttu-id="76b01-132">Quelles que soient les valeurs que vous utilisez, le processeur de manipulation utilise des battements d’horloge en millisecondes pour traiter le temps.</span><span class="sxs-lookup"><span data-stu-id="76b01-132">Regardless of the values that you are using, the manipulation processor will use millisecond clock ticks for processing the time.</span></span> <span data-ttu-id="76b01-133">Ces valeurs peuvent être passées directement au processeur d’inertie à l’aide de la méthode [**ProcessTime**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-processtime) ou en utilisant l’horodatage par défaut via les appels au [**processus**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span><span class="sxs-lookup"><span data-stu-id="76b01-133">These values can either be passed directly to the inertia processor using the [**ProcessTime**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-processtime) method or by using the default timestamp through calls to [**Process**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span></span>

## <a name="smooth-object-animation-using-the-velocity-and-deceleration-properties"></a><span data-ttu-id="76b01-134">Animation lisse des objets à l’aide des propriétés de vélocité et de décélération</span><span class="sxs-lookup"><span data-stu-id="76b01-134">Smooth Object Animation using the Velocity and Deceleration Properties</span></span>

<span data-ttu-id="76b01-135">Vous pouvez activer l’animation lisse en interagissant directement avec le modèle physique en définissant les valeurs de vélocité et de décélération dans l’interface du processeur d’inertie, puis en appelant le [**processus**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span><span class="sxs-lookup"><span data-stu-id="76b01-135">You can enable smooth animation by directly interacting with the physics model by setting the velocity and deceleration values in the inertia processor interface and then calling [**Process**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span></span> <span data-ttu-id="76b01-136">Le **processus** appelant déclenche des manipulations d’objets qui, à leur tour, doivent provoquer des mises à jour de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="76b01-136">Calling **Process** will trigger object manipulations which in turn should cause UI updates.</span></span> <span data-ttu-id="76b01-137">Les valeurs de vélocité d’objet passées au processeur d’inertie sont généralement récupérées à partir du processeur de manipulation une fois l’opération terminée.</span><span class="sxs-lookup"><span data-stu-id="76b01-137">Object velocity values passed to the inertia processor are typically taken from the manipulation processor upon completion.</span></span> <span data-ttu-id="76b01-138">Votre valeur de décélération dépend de la durée pendant laquelle vous souhaitez que votre objet soit animé et des unités que vous utilisez pour vos calculs.</span><span class="sxs-lookup"><span data-stu-id="76b01-138">Your deceleration value will be dependent on how long you want your object to be animated for and the units that you are using for your calculations.</span></span> <span data-ttu-id="76b01-139">Étant donné que les valeurs sont dépendantes, vous devez parfois mettre à l’échelle la vitesse d’entrée à partir du processeur maniplation et utiliser des valeurs arbitraires pour la décélération.</span><span class="sxs-lookup"><span data-stu-id="76b01-139">Because the values are dependent, sometimes you must scale the input velocity from the maniplation processor and use arbitrary values for deceleration.</span></span> <span data-ttu-id="76b01-140">Les valeurs suivantes sont typiques pour les différents scénarios dans lesquels vous passez des valeurs centipixel à partir des propriétés x et y de la structure [**TOUCHINPUT**](/windows/win32/api/winuser/ns-winuser-touchinput) au processeur de manipulation.</span><span class="sxs-lookup"><span data-stu-id="76b01-140">The following values are typical for various scenarios where you are passing centipixel values from the x and y properties of the [**TOUCHINPUT**](/windows/win32/api/winuser/ns-winuser-touchinput) structure to the manipulation processor.</span></span>



| <span data-ttu-id="76b01-141">Scénario</span><span class="sxs-lookup"><span data-stu-id="76b01-141">Scenario</span></span>    | <span data-ttu-id="76b01-142">Jeu de propriétés</span><span class="sxs-lookup"><span data-stu-id="76b01-142">Property Set</span></span>                                                                       | <span data-ttu-id="76b01-143">Valeur de décélération</span><span class="sxs-lookup"><span data-stu-id="76b01-143">Deceleration Value</span></span> | <span data-ttu-id="76b01-144">Mise à l’échelle d’entrée de vélocité classique</span><span class="sxs-lookup"><span data-stu-id="76b01-144">Typical Velocity Input Scaling</span></span>                                  | <span data-ttu-id="76b01-145">Notes</span><span class="sxs-lookup"><span data-stu-id="76b01-145">Notes</span></span>                                                                                 |
|-------------|------------------------------------------------------------------------------------|--------------------|-----------------------------------------------------------------|---------------------------------------------------------------------------------------|
| <span data-ttu-id="76b01-146">Traduction</span><span class="sxs-lookup"><span data-stu-id="76b01-146">Translation</span></span> | [<span data-ttu-id="76b01-147">**DesiredDeceleration**</span><span class="sxs-lookup"><span data-stu-id="76b01-147">**DesiredDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desireddeceleration)               | <span data-ttu-id="76b01-148">0,003 f</span><span class="sxs-lookup"><span data-stu-id="76b01-148">0.003f</span></span>             | <span data-ttu-id="76b01-149">Aucun</span><span class="sxs-lookup"><span data-stu-id="76b01-149">None.</span></span>                                                           | <span data-ttu-id="76b01-150">L’utilisation de cette valeur entraîne des animations à distance plus longues lors de l’utilisation de l’entrée tactile.</span><span class="sxs-lookup"><span data-stu-id="76b01-150">Using this value will result in longer distance animations when using touch input.</span></span>    |
| <span data-ttu-id="76b01-151">Traduction</span><span class="sxs-lookup"><span data-stu-id="76b01-151">Translation</span></span> | [<span data-ttu-id="76b01-152">**DesiredDeceleration**</span><span class="sxs-lookup"><span data-stu-id="76b01-152">**DesiredDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desireddeceleration)               | <span data-ttu-id="76b01-153">0,001 f</span><span class="sxs-lookup"><span data-stu-id="76b01-153">0.001f</span></span>             | <span data-ttu-id="76b01-154">Vitesse initiale de 1/20 pour les entrées tactiles, aucune pour les entrées de souris</span><span class="sxs-lookup"><span data-stu-id="76b01-154">1/20th initial velocity for touch inputs, none for mouse inputs</span></span> | <span data-ttu-id="76b01-155">L’utilisation de cette valeur est animée pour environ une deuxième entrée de vélocité standard donnée.</span><span class="sxs-lookup"><span data-stu-id="76b01-155">Using this value will animate for around a second given typical velocity inputs.</span></span>      |
| <span data-ttu-id="76b01-156">Traduction</span><span class="sxs-lookup"><span data-stu-id="76b01-156">Translation</span></span> | [<span data-ttu-id="76b01-157">**DesiredDeceleration**</span><span class="sxs-lookup"><span data-stu-id="76b01-157">**DesiredDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desireddeceleration)               | <span data-ttu-id="76b01-158">0,5 f</span><span class="sxs-lookup"><span data-stu-id="76b01-158">0.5f</span></span>               | <span data-ttu-id="76b01-159">Aucun</span><span class="sxs-lookup"><span data-stu-id="76b01-159">None</span></span>                                                            | <span data-ttu-id="76b01-160">L’utilisation de cette valeur donne un sentiment naturel à l’animation sur les grands écrans tactiles Windows.</span><span class="sxs-lookup"><span data-stu-id="76b01-160">Using this value gives a natural feel to animation on large Windows Touch displays.</span></span>   |
| <span data-ttu-id="76b01-161">Rotation</span><span class="sxs-lookup"><span data-stu-id="76b01-161">Rotation</span></span>    | [<span data-ttu-id="76b01-162">**DesiredAngularDeceleration**</span><span class="sxs-lookup"><span data-stu-id="76b01-162">**DesiredAngularDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desiredangulardeceleration) | <span data-ttu-id="76b01-163">0.000015 f</span><span class="sxs-lookup"><span data-stu-id="76b01-163">0.000015f</span></span>          | <span data-ttu-id="76b01-164">Radians convertis en degrés.</span><span class="sxs-lookup"><span data-stu-id="76b01-164">Radians converted to degrees.</span></span>                                   | <span data-ttu-id="76b01-165">L’utilisation de cette valeur entraîne des animations de rotation plus longues lors de l’utilisation de l’entrée tactile.</span><span class="sxs-lookup"><span data-stu-id="76b01-165">Using this value results in longer rotational animations when using touch input.</span></span>      |
| <span data-ttu-id="76b01-166">Rotation</span><span class="sxs-lookup"><span data-stu-id="76b01-166">Rotation</span></span>    | [<span data-ttu-id="76b01-167">**DesiredAngularDeceleration**</span><span class="sxs-lookup"><span data-stu-id="76b01-167">**DesiredAngularDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desiredangulardeceleration) | <span data-ttu-id="76b01-168">0,00001 f</span><span class="sxs-lookup"><span data-stu-id="76b01-168">0.00001f</span></span>           | <span data-ttu-id="76b01-169">Delta de rotation 1/40th pour les entrées tactiles, aucune pour les entrées de souris</span><span class="sxs-lookup"><span data-stu-id="76b01-169">1/40th rotation delta for touch inputs, none for mouse inputs</span></span>   | <span data-ttu-id="76b01-170">Cette valeur est exprimée en radians. vous devez donc utiliser de très petites valeurs de décélération et de vélocité.</span><span class="sxs-lookup"><span data-stu-id="76b01-170">This value is in radians so you must use very small deceleration and velocity values.</span></span> |
| <span data-ttu-id="76b01-171">Rotation</span><span class="sxs-lookup"><span data-stu-id="76b01-171">Rotation</span></span>    | [<span data-ttu-id="76b01-172">**DesiredAngularDeceleration**</span><span class="sxs-lookup"><span data-stu-id="76b01-172">**DesiredAngularDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desiredangulardeceleration) | <span data-ttu-id="76b01-173">0.000005 f</span><span class="sxs-lookup"><span data-stu-id="76b01-173">0.000005f</span></span>          | <span data-ttu-id="76b01-174">Aucun</span><span class="sxs-lookup"><span data-stu-id="76b01-174">None</span></span>                                                            | <span data-ttu-id="76b01-175">Cette valeur a un aspect naturel sur les grands affichages tactiles Windows.</span><span class="sxs-lookup"><span data-stu-id="76b01-175">This value has a natural feel on large Windows Touch displays.</span></span>                        |



 

## <a name="smooth-object-animation-using-the-desired-displacement-property"></a><span data-ttu-id="76b01-176">Animation lisse des objets à l’aide de la propriété de déplacement souhaitée</span><span class="sxs-lookup"><span data-stu-id="76b01-176">Smooth Object Animation using the Desired Displacement Property</span></span>

<span data-ttu-id="76b01-177">Dans certains cas, vous ne souhaitez pas utiliser l’entrée de l’utilisateur pour le déplacement de l’objet, mais vous souhaitez tout de même qu’un objet s’anime en douceur sur l’écran.</span><span class="sxs-lookup"><span data-stu-id="76b01-177">In some cases, you don't want to use the user's input for object displacement, but you still want an object to smoothly animate across the screen.</span></span> <span data-ttu-id="76b01-178">Dans ce cas, vous pouvez utiliser les propriétés de déplacement dans le processeur d’inertie pour que le processeur calcule la rapidité initiale pour déplacer un objet sur l’écran.</span><span class="sxs-lookup"><span data-stu-id="76b01-178">In this case, you can use displacement properties in the inertia processor to have the processor calculate the initial velocity for moving an object across the screen.</span></span>

## <a name="controlling-object-position-using-elastic-bounds"></a><span data-ttu-id="76b01-179">Contrôle de la position d’un objet à l’aide de limites élastiques</span><span class="sxs-lookup"><span data-stu-id="76b01-179">Controlling Object Position Using Elastic Bounds</span></span>

<span data-ttu-id="76b01-180">Une fois que vous avez un objet qui se déplace à travers l’écran, vous souhaiterez généralement qu’il s’arrête avant de sortir du point de vue de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="76b01-180">After you have an object that is moving across the screen, you will typically want for it to stop before it goes outside of the user's viewpoint.</span></span> <span data-ttu-id="76b01-181">Le processeur d’inertie active cette fonctionnalité via les propriétés des marges et des marges élastiques.</span><span class="sxs-lookup"><span data-stu-id="76b01-181">The inertia processor enables this functionality through the boundary and elastic margin properties.</span></span> <span data-ttu-id="76b01-182">L’illustration suivante montre les différentes propriétés de limite et de marge dans une application classique.</span><span class="sxs-lookup"><span data-stu-id="76b01-182">The following image illustrates the various boundary and margin properties in a typical application.</span></span>

![capture d’écran montrant les propriétés des marges et des marges élastiques](images/elastic-illustrated.png)

<span data-ttu-id="76b01-184">Vous définissez les limites gauche, supérieure, droite et inférieure et les marges élastiques pour votre application, et le processeur d’inertie gère les éléments d’interface utilisateur dans les limites.</span><span class="sxs-lookup"><span data-stu-id="76b01-184">You set the left, upper, right, and lower boundaries and elastic margins for your application, and the inertia processor will handle keeping UI elements within the bounds.</span></span> <span data-ttu-id="76b01-185">Quand un objet atteint une marge élastique, il ralentit jusqu’à ce qu’il atteigne la limite.</span><span class="sxs-lookup"><span data-stu-id="76b01-185">When an object reaches an elastic margin, it will slow down until it reaches the boundary.</span></span> <span data-ttu-id="76b01-186">Elle ne retournera jamais cette marge pendant l’inertie, mais continuera à se déplacer jusqu’à ce que le composant d’inertie perpendiculaire de l’objet décélère à 0.</span><span class="sxs-lookup"><span data-stu-id="76b01-186">It will never leave that margin again during inertia, but will still move until the object's perpendicular inertia component decelerates to 0.</span></span> <span data-ttu-id="76b01-187">Dans l’illustration, un cercle est placé vers la limite élastique gauche.</span><span class="sxs-lookup"><span data-stu-id="76b01-187">In the illustration, a circle is displaced toward the left elastic boundary.</span></span> <span data-ttu-id="76b01-188">La flèche pleine indique la direction de la manipulation ; le cercle plein est la position initiale de l’objet. la flèche pleine est constituée des modifications apportées avant que le cercle atteigne la marge élastique ; la flèche pointillée indique où le processeur d’inertie manipule le cercle après avoir atteint la marge ; et les cercles en pointillés indiquent où l’objet s’arrête.</span><span class="sxs-lookup"><span data-stu-id="76b01-188">The solid arrow shows the direction of the manipulation; the solid circle is the initial position of the object; the solid arrow is the changes made before the circle hits the elastic margin; the dashed arrow shows where the inertia processor manipulates the circle after it hits the margin; and the dashed circles show where the object stops.</span></span>

> [!Note]  
> <span data-ttu-id="76b01-189">La définition des propriétés de marge déplace les limites vers l’extérieur.</span><span class="sxs-lookup"><span data-stu-id="76b01-189">Setting the margin properties will move the bounds outward.</span></span> <span data-ttu-id="76b01-190">Par exemple, si la limite supérieure est définie sur 50 et que vous définissez ensuite la marge élastique supérieure sur 10, votre limite supérieure devient alors de 40.</span><span class="sxs-lookup"><span data-stu-id="76b01-190">For example, if your top boundary is set to 50 and then you set the top elastic margin to 10, your top boundary will effectively become 40.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="76b01-191">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="76b01-191">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="76b01-192">Gestion de l’inertie dans du code non managé</span><span class="sxs-lookup"><span data-stu-id="76b01-192">Handling Inertia in Unmanaged Code</span></span>](handling-inertia-in-unmanaged-code.md)
</dt> <dt>

[<span data-ttu-id="76b01-193">Inertie</span><span class="sxs-lookup"><span data-stu-id="76b01-193">Inertia</span></span>](getting-started-with-inertia.md)
</dt> <dt>

[<span data-ttu-id="76b01-194">Manipulations</span><span class="sxs-lookup"><span data-stu-id="76b01-194">Manipulations</span></span>](getting-started-with-manipulations.md)
</dt> </dl>

 

 




