---
title: Utilisation des fonctions GDI avec WCS
description: Il existe différentes fonctions dans l’interface GDI (Graphics Device Interface) qui utilisent ou opèrent sur les données de couleur.
ms.assetid: a19ec8b9-11c9-4fde-a99a-7f4a112b49e7
keywords:
- Système de couleurs Windows (WCS), GDI (Graphics Device Interface)
- WCS (Windows Color System), GDI (Graphics Device Interface)
- gestion des couleurs des images, GDI (Graphics Device Interface)
- gestion des couleurs, GDI (Graphics Device Interface)
- couleurs, GDI (Graphics Device Interface)
- interface GDI (Graphics Device Interface)
- GDI (Graphics Device Interface)
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f411d5d91c36bf5d2f2fa82f332c9b15519d800d
ms.sourcegitcommit: 38954f8f0d70f44bff4a943784f468ebd7ef691a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/26/2021
ms.locfileid: "106525767"
---
# <a name="using-gdi-functions-with-wcs"></a><span data-ttu-id="96f49-110">Utilisation des fonctions GDI avec WCS</span><span class="sxs-lookup"><span data-stu-id="96f49-110">Using GDI Functions With WCS</span></span>

<span data-ttu-id="96f49-111">Il existe différentes fonctions dans l’interface GDI (Graphics Device Interface) qui utilisent ou opèrent sur les données de couleur.</span><span class="sxs-lookup"><span data-stu-id="96f49-111">There are various functions in the graphics device interface (GDI) that use or operate on color data.</span></span> <span data-ttu-id="96f49-112">Certains sont activés pour une utilisation avec WCS et d’autres non.</span><span class="sxs-lookup"><span data-stu-id="96f49-112">Some are enabled for use with WCS and some are not.</span></span> <span data-ttu-id="96f49-113">Les fonctions GDI suivantes s’appliquent à ICM :</span><span class="sxs-lookup"><span data-stu-id="96f49-113">The following GDI functions are relevant to ICM:</span></span>

-   [<span data-ttu-id="96f49-114">Fonctions de contexte de périphérique avec WCS</span><span class="sxs-lookup"><span data-stu-id="96f49-114">Device Context Functions with WCS</span></span>](#device-context-functions-with-wcs)
-   [<span data-ttu-id="96f49-115">Fonctions de stylet et de pinceau avec WCS</span><span class="sxs-lookup"><span data-stu-id="96f49-115">Pen And Brush Functions with WCS</span></span>](#pen-and-brush-functions-with-wcs)
-   [<span data-ttu-id="96f49-116">Fonctions de sortie de texte avec WCS</span><span class="sxs-lookup"><span data-stu-id="96f49-116">Text Output Functions with WCS</span></span>](#text-output-functions-with-wcs)
-   [<span data-ttu-id="96f49-117">Fonctions bitmap avec WCS</span><span class="sxs-lookup"><span data-stu-id="96f49-117">Bitmap Functions with WCS</span></span>](#bitmap-functions-with-wcs)

## <a name="device-context-functions-with-wcs"></a><span data-ttu-id="96f49-118">Fonctions de contexte de périphérique avec WCS</span><span class="sxs-lookup"><span data-stu-id="96f49-118">Device Context Functions with WCS</span></span>



|                    |                                                                                                                                                                                                                                 |
|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="96f49-119">CreateCompatibleDC</span><span class="sxs-lookup"><span data-stu-id="96f49-119">CreateCompatibleDC</span></span> | <span data-ttu-id="96f49-120">Si le contexte de périphérique (DC) qui est passé à cette fonction par le biais de son paramètre HDC est activé pour ICM, alors le DC créé par la fonction est également compatible avec ICM.</span><span class="sxs-lookup"><span data-stu-id="96f49-120">If the device context (DC) that is passed to this function through its hdc parameter is enabled for ICM, then the DC the function creates is also ICM-enabled.</span></span> <span data-ttu-id="96f49-121">Les espaces de couleurs source et de destination sont spécifiés dans le DC.</span><span class="sxs-lookup"><span data-stu-id="96f49-121">The source and destination color spaces are specified in the DC.</span></span> |
| <span data-ttu-id="96f49-122">CreateDC</span><span class="sxs-lookup"><span data-stu-id="96f49-122">CreateDC</span></span>           | <span data-ttu-id="96f49-123">ICM peut être activé en définissant le membre dmICMMethod de la structure DEVMODE pointée par le paramètre pInitData sur la valeur appropriée.</span><span class="sxs-lookup"><span data-stu-id="96f49-123">ICM can be enabled by setting the dmICMMethod member of the DEVMODE structure pointed to by the pInitData parameter to the appropriate value.</span></span> <span data-ttu-id="96f49-124">Pour plus d’informations, consultez la documentation dans le kit de développement Platform SDK sur la structure DEVMODE.</span><span class="sxs-lookup"><span data-stu-id="96f49-124">For details, see the documentation in the Platform SDK on the DEVMODE structure.</span></span>  |
| <span data-ttu-id="96f49-125">ResetDC</span><span class="sxs-lookup"><span data-stu-id="96f49-125">ResetDC</span></span>            | <span data-ttu-id="96f49-126">Le profil de couleurs du contexte de périphérique spécifié par le paramètre HDC sera réinitialisé en fonction des informations contenues dans la structure DEVMODE spécifiée par le paramètre lpInitData.</span><span class="sxs-lookup"><span data-stu-id="96f49-126">The color profile of the device context specified by the hdc parameter will be reset based on the information in the DEVMODE structure specified by the lpInitData parameter.</span></span>                                                   |



 

## <a name="pen-and-brush-functions-with-wcs"></a><span data-ttu-id="96f49-127">Fonctions de stylet et de pinceau avec WCS</span><span class="sxs-lookup"><span data-stu-id="96f49-127">Pen And Brush Functions with WCS</span></span>



|                 |                                                                                                                                               |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="96f49-128">Fonctions de pinceau</span><span class="sxs-lookup"><span data-stu-id="96f49-128">Brush Functions</span></span> | <span data-ttu-id="96f49-129">Aucune gestion des couleurs n’est effectuée lors de la création du pinceau.</span><span class="sxs-lookup"><span data-stu-id="96f49-129">No color management is done at brush creation.</span></span> <span data-ttu-id="96f49-130">Toutefois, la gestion des couleurs est effectuée lorsque le pinceau est sélectionné dans un contrôleur de périphérique compatible ICM.</span><span class="sxs-lookup"><span data-stu-id="96f49-130">However, color management will be performed when the brush is selected into an ICM-enabled DC.</span></span> |
| <span data-ttu-id="96f49-131">CreatePen</span><span class="sxs-lookup"><span data-stu-id="96f49-131">CreatePen</span></span>       | <span data-ttu-id="96f49-132">Aucune gestion des couleurs n’est effectuée lors de la création du stylet.</span><span class="sxs-lookup"><span data-stu-id="96f49-132">No color management is done at pen creation.</span></span> <span data-ttu-id="96f49-133">Toutefois, la gestion des couleurs est effectuée lorsque le pinceau est sélectionné dans un contrôleur de périphérique compatible ICM.</span><span class="sxs-lookup"><span data-stu-id="96f49-133">However, color management will be performed when the brush is selected into an ICM-enabled DC.</span></span>   |
| <span data-ttu-id="96f49-134">ExtCreatePen</span><span class="sxs-lookup"><span data-stu-id="96f49-134">ExtCreatePen</span></span>    | <span data-ttu-id="96f49-135">Aucune gestion des couleurs n’est effectuée lors de la création du stylet.</span><span class="sxs-lookup"><span data-stu-id="96f49-135">No color management is done at pen creation.</span></span> <span data-ttu-id="96f49-136">Toutefois, la gestion des couleurs est effectuée lorsque le pinceau est sélectionné dans un contrôleur de périphérique compatible ICM.</span><span class="sxs-lookup"><span data-stu-id="96f49-136">However, color management will be performed when the brush is selected into an ICM-enabled DC.</span></span>   |
| <span data-ttu-id="96f49-137">SelectObject</span><span class="sxs-lookup"><span data-stu-id="96f49-137">SelectObject</span></span>    | <span data-ttu-id="96f49-138">Si l’objet sélectionné est un pinceau ou un stylet, la gestion des couleurs est effectuée.</span><span class="sxs-lookup"><span data-stu-id="96f49-138">If the object being selected is a brush or a pen, color management is performed.</span></span>                                                              |
| <span data-ttu-id="96f49-139">SetDCBrushColor</span><span class="sxs-lookup"><span data-stu-id="96f49-139">SetDCBrushColor</span></span> | <span data-ttu-id="96f49-140">La gestion des couleurs est effectuée si WCS est activé.</span><span class="sxs-lookup"><span data-stu-id="96f49-140">Color management is performed if WCS is enabled.</span></span>                                                                                              |
| <span data-ttu-id="96f49-141">SetDCPenColor</span><span class="sxs-lookup"><span data-stu-id="96f49-141">SetDCPenColor</span></span>   | <span data-ttu-id="96f49-142">La gestion des couleurs est effectuée si WCS est activé.</span><span class="sxs-lookup"><span data-stu-id="96f49-142">Color management is performed if WCS is enabled.</span></span>                                                                                              |



 

## <a name="text-output-functions-with-wcs"></a><span data-ttu-id="96f49-143">Fonctions de sortie de texte avec WCS</span><span class="sxs-lookup"><span data-stu-id="96f49-143">Text Output Functions with WCS</span></span>



|              |                                                  |
|--------------|--------------------------------------------------|
| <span data-ttu-id="96f49-144">SetBkColor</span><span class="sxs-lookup"><span data-stu-id="96f49-144">SetBkColor</span></span>   | <span data-ttu-id="96f49-145">La gestion des couleurs est effectuée si WCS est activé.</span><span class="sxs-lookup"><span data-stu-id="96f49-145">Color management is performed if WCS is enabled.</span></span> |
| <span data-ttu-id="96f49-146">SetTextColor</span><span class="sxs-lookup"><span data-stu-id="96f49-146">SetTextColor</span></span> | <span data-ttu-id="96f49-147">La gestion des couleurs est effectuée si WCS est activé.</span><span class="sxs-lookup"><span data-stu-id="96f49-147">Color management is performed if WCS is enabled.</span></span> |



 

## <a name="bitmap-functions-with-wcs"></a><span data-ttu-id="96f49-148">Fonctions bitmap avec WCS</span><span class="sxs-lookup"><span data-stu-id="96f49-148">Bitmap Functions with WCS</span></span>



|                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="96f49-149">BitBlt</span><span class="sxs-lookup"><span data-stu-id="96f49-149">BitBlt</span></span>            | <span data-ttu-id="96f49-150">Aucune gestion des couleurs n’est effectuée quand BLITS se produit.</span><span class="sxs-lookup"><span data-stu-id="96f49-150">No color management is performed when blits occur.</span></span>                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="96f49-151">CreateDIBitmap</span><span class="sxs-lookup"><span data-stu-id="96f49-151">CreateDIBitmap</span></span>    | <span data-ttu-id="96f49-152">Le paramètre fuUsage spécifie que le membre bmiColors de la structure BITMAPINFO, pointé par le paramètre lpbmi ne contient pas d’informations sur les couleurs.</span><span class="sxs-lookup"><span data-stu-id="96f49-152">The fuUsage parameter specifies that the bmiColors member of the BITMAPINFO structure pointed at by the lpbmi parameter does or does not contain color information.</span></span> <span data-ttu-id="96f49-153">Si ce n’est pas le cas, aucune gestion des couleurs n’est effectuée pour cette bitmap.</span><span class="sxs-lookup"><span data-stu-id="96f49-153">If it does not, no color management is performed for this bitmap.</span></span> <span data-ttu-id="96f49-154">La bitmap doit utiliser la version 4 ou la version 5 de la structure BITMAPINFO, pour que la gestion des couleurs soit activée.</span><span class="sxs-lookup"><span data-stu-id="96f49-154">The bitmap must use version 4 or version 5 of the BITMAPINFO structure for color management to be enabled.</span></span> <span data-ttu-id="96f49-155">Le contenu de la bitmap résultante ne correspond pas à la couleur après la création de l’image bitmap.</span><span class="sxs-lookup"><span data-stu-id="96f49-155">The contents of the resulting bitmap are not color matched after the bitmap has been created.</span></span> |
| <span data-ttu-id="96f49-156">CreateDIBSection</span><span class="sxs-lookup"><span data-stu-id="96f49-156">CreateDIBSection</span></span>  | <span data-ttu-id="96f49-157">Si la structure BITMAPINFO, transmise via le paramètre pbmi n’est pas la version 4 ou la version 5, aucune gestion des couleurs n’est effectuée.</span><span class="sxs-lookup"><span data-stu-id="96f49-157">If the BITMAPINFO structure passed through the pbmi parameter is not version 4 or version 5, no color management is done.</span></span> <span data-ttu-id="96f49-158">S’il s’agit de la version 4 ou 5, la gestion des couleurs est activée et l’espace de couleurs spécifié est associé à l’image bitmap.</span><span class="sxs-lookup"><span data-stu-id="96f49-158">If it is version 4 or 5, color management is enabled, and the specified color space is associated with the bitmap.</span></span>                                                                                                                                                                                                   |
| <span data-ttu-id="96f49-159">MaskBlt</span><span class="sxs-lookup"><span data-stu-id="96f49-159">MaskBlt</span></span>           | <span data-ttu-id="96f49-160">Aucune gestion des couleurs n’est effectuée quand BLITS se produit.</span><span class="sxs-lookup"><span data-stu-id="96f49-160">No color management is performed when blits occur.</span></span>                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="96f49-161">SelectObject</span><span class="sxs-lookup"><span data-stu-id="96f49-161">SelectObject</span></span>      | <span data-ttu-id="96f49-162">Si l’objet est une bitmap créée avec CreateDIBSection, la gestion des couleurs est effectuée.</span><span class="sxs-lookup"><span data-stu-id="96f49-162">If the object is a bitmap created with CreateDIBSection, color management is performed.</span></span> <span data-ttu-id="96f49-163">L’espace colorimétrique de la bitmap est utilisé comme espace colorimétrique de destination.</span><span class="sxs-lookup"><span data-stu-id="96f49-163">The bitmap's color space is used as the destination color space.</span></span>                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="96f49-164">SetDIBits</span><span class="sxs-lookup"><span data-stu-id="96f49-164">SetDIBits</span></span>         | <span data-ttu-id="96f49-165">La gestion des couleurs est effectuée.</span><span class="sxs-lookup"><span data-stu-id="96f49-165">Color management is performed.</span></span> <span data-ttu-id="96f49-166">Si la structure BITMAPINFO, spécifiée n’est pas la version 4 ou la version 5, le profil de couleurs du contrôleur de domaine actuel est utilisé en tant que profil d’espace de couleurs source.</span><span class="sxs-lookup"><span data-stu-id="96f49-166">If the specified BITMAPINFO structure is not version 4 or version 5, the color profile of the current DC is used as the source color space profile.</span></span> <span data-ttu-id="96f49-167">Si ce n’est pas le cas, l’espace sRVB est utilisé.</span><span class="sxs-lookup"><span data-stu-id="96f49-167">If it does not have one, the sRGB space is used.</span></span> <span data-ttu-id="96f49-168">Si la structure BITMAPINFO, spécifiée est la version 4 ou la version 5, le profil d’espace colorimétrique spécifié dans l’en-tête bitmap est utilisé comme profil d’espace colorimétrique source.</span><span class="sxs-lookup"><span data-stu-id="96f49-168">If the specified BITMAPINFO structure is version 4 or version 5, the color space profile specified in the bitmap header is used as the source color space profile.</span></span>                                         |
| <span data-ttu-id="96f49-169">SetDIBitsToDevice</span><span class="sxs-lookup"><span data-stu-id="96f49-169">SetDIBitsToDevice</span></span> | <span data-ttu-id="96f49-170">La gestion des couleurs est effectuée.</span><span class="sxs-lookup"><span data-stu-id="96f49-170">Color management is performed.</span></span> <span data-ttu-id="96f49-171">Si la structure BITMAPINFO, spécifiée n’est pas la version 4 ou la version 5, le profil de couleurs du contexte de périphérique actuel est utilisé en tant que profil d’espace de couleurs source.</span><span class="sxs-lookup"><span data-stu-id="96f49-171">If the specified BITMAPINFO structure is not version 4 or version 5, the color profile of the current device context is used as the source color space profile.</span></span> <span data-ttu-id="96f49-172">Si ce n’est pas le cas, l’espace de couleurs sRVB est utilisé.</span><span class="sxs-lookup"><span data-stu-id="96f49-172">If it doesn't have one, the sRGB color space is used.</span></span> <span data-ttu-id="96f49-173">Si la structure BITMAPINFO, spécifiée est la version 4 ou la version 5, le profil d’espace colorimétrique associé à la bitmap est utilisé comme espace de couleur source.</span><span class="sxs-lookup"><span data-stu-id="96f49-173">If the specified BITMAPINFO structure is version 4 or version 5, the color space profile associated with the bitmap is used as the source color space.</span></span>                                    |
| <span data-ttu-id="96f49-174">SetDIBColorTable</span><span class="sxs-lookup"><span data-stu-id="96f49-174">SetDIBColorTable</span></span>  | <span data-ttu-id="96f49-175">Aucune gestion des couleurs n’est effectuée.</span><span class="sxs-lookup"><span data-stu-id="96f49-175">No color management is performed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="96f49-176">StretchBlt</span><span class="sxs-lookup"><span data-stu-id="96f49-176">StretchBlt</span></span>        | <span data-ttu-id="96f49-177">Aucune gestion des couleurs n’est effectuée quand BLITS se produit.</span><span class="sxs-lookup"><span data-stu-id="96f49-177">No color management is performed when blits occur.</span></span>                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="96f49-178">StretchDIBits</span><span class="sxs-lookup"><span data-stu-id="96f49-178">StretchDIBits</span></span>     | <span data-ttu-id="96f49-179">La gestion des couleurs est effectuée.</span><span class="sxs-lookup"><span data-stu-id="96f49-179">Color management is performed.</span></span> <span data-ttu-id="96f49-180">Si la structure BITMAPINFO, spécifiée n’est pas la version 4 ou la version 5, le profil de couleurs du contrôleur de domaine actuel est utilisé en tant que profil d’espace de couleurs source.</span><span class="sxs-lookup"><span data-stu-id="96f49-180">If the specified BITMAPINFO structure is not version 4 or version 5, the color profile of the current DC is used as the source color space profile.</span></span> <span data-ttu-id="96f49-181">Si ce n’est pas le cas, l’espace sRVB est utilisé.</span><span class="sxs-lookup"><span data-stu-id="96f49-181">If it does not have one, the sRGB space is used.</span></span> <span data-ttu-id="96f49-182">Si la structure BITMAPINFO, spécifiée est la version 4 ou la version 5, le profil d’espace colorimétrique spécifié dans l’en-tête bitmap est utilisé comme profil d’espace colorimétrique source.</span><span class="sxs-lookup"><span data-stu-id="96f49-182">If the specified BITMAPINFO structure is version 4 or version 5, the color space profile specified in the bitmap header is used as the source color space profile.</span></span>                                         |



 

 

 




