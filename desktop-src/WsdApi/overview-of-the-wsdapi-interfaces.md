---
description: L’API WSDAPI (Web Services on Devices) est utilisée pour développer des applications clientes qui recherchent et accèdent à des appareils, ainsi que pour développer des hôtes d’appareils et des services associés qui s’exécutent sur Windows Vista et Windows Server 2008.
ms.assetid: 2b23d7d3-3b06-48c8-993e-49c72b139624
title: Vue d’ensemble des interfaces WSDAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1f3e728971741f97707c1dc72effdaf0ca17dbb2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106517006"
---
# <a name="overview-of-the-wsdapi-interfaces"></a><span data-ttu-id="1f0cf-103">Vue d’ensemble des interfaces WSDAPI</span><span class="sxs-lookup"><span data-stu-id="1f0cf-103">Overview of the WSDAPI Interfaces</span></span>

<span data-ttu-id="1f0cf-104">L’API WSDAPI (Web Services on Devices) est utilisée pour développer des applications clientes qui recherchent et accèdent à des appareils, ainsi que pour développer des hôtes d’appareils et des services associés qui s’exécutent sur Windows Vista et Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-104">Web Services on Devices API (WSDAPI) is used to develop client applications that find and access devices, and to develop device hosts and associated services that run on Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="1f0cf-105">L’API de [détection de fonction](/previous-versions/windows/desktop/fundisc/fd-portal) et l’outil [WsdCodeGen](web-services-for-devices-code-generator.md) sont des outils supplémentaires qui peuvent être utilisés pour le client, l’hôte d’appareil et le développement de services.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-105">The [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) API and the [WsdCodeGen](web-services-for-devices-code-generator.md) tool are supplemental tools that can be used for client, device host, and service development.</span></span> <span data-ttu-id="1f0cf-106">Les interfaces WSDAPI peuvent être utilisées directement pour exposer des fonctionnalités avancées.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-106">The WSDAPI interfaces can be used directly to expose advanced functionality.</span></span>

## <a name="major-wsdapi-interfaces"></a><span data-ttu-id="1f0cf-107">Principales interfaces WSDAPI</span><span class="sxs-lookup"><span data-stu-id="1f0cf-107">Major WSDAPI interfaces</span></span>

<span data-ttu-id="1f0cf-108">Les quatre principales interfaces WSDAPI sont [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider), [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher), [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy)et [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost).</span><span class="sxs-lookup"><span data-stu-id="1f0cf-108">The four major WSDAPI interfaces are [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider), [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher), [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy), and [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost).</span></span> <span data-ttu-id="1f0cf-109">Pour obtenir la liste de toutes les interfaces WSDAPI, consultez [services Web sur les interfaces des appareils](web-services-for-devices-interfaces.md).</span><span class="sxs-lookup"><span data-stu-id="1f0cf-109">For a list of all of the WSDAPI interfaces, see [Web Services on Devices Interfaces](web-services-for-devices-interfaces.md).</span></span>

## <a name="iwsdiscoveryprovider"></a><span data-ttu-id="1f0cf-110">IWSDiscoveryProvider</span><span class="sxs-lookup"><span data-stu-id="1f0cf-110">IWSDiscoveryProvider</span></span>

<span data-ttu-id="1f0cf-111">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) est utilisé pour implémenter les fonctionnalités de WS-Discovery sur les clients.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-111">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) is used to implement WS-Discovery functionality on clients.</span></span>

<span data-ttu-id="1f0cf-112">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) émet des problèmes WS-Discovery [sonder](probe-message.md) et [résoudre](resolve-message.md) les messages, et reçoit les messages [Hello](hello-message.md), [Bye](bye-message.md), [messages ProbeMatches](probematches-message.md)et [ResolveMatches](resolvematches-message.md) .</span><span class="sxs-lookup"><span data-stu-id="1f0cf-112">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) issues WS-Discovery [Probe](probe-message.md) and [Resolve](resolve-message.md) messages, and receives [Hello](hello-message.md), [Bye](bye-message.md), [ProbeMatches](probematches-message.md), and [ResolveMatches](resolvematches-message.md) messages.</span></span> <span data-ttu-id="1f0cf-113">Utilisez les informations récupérées via l’interface **IWSDiscoveryProvider** lors de la création d’une interface [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) utilisée pour décrire et contrôler un appareil DPWS spécifique.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-113">Use the information retrieved through the **IWSDiscoveryProvider** interface when creating an [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface used to describe and control a specific DPWS device.</span></span>

<span data-ttu-id="1f0cf-114">Une interface [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) n’est pas nécessaire lors de la résolution d’une adresse d’appareil DPWS particulière avant la création d’un proxy d’appareil.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-114">An [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) interface is not necessary when simply resolving a particular DPWS device address before creating a device proxy.</span></span> <span data-ttu-id="1f0cf-115">[**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) résoudra automatiquement l’adresse de l’appareil, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-115">[**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) will automatically resolve the device address if required.</span></span>

<span data-ttu-id="1f0cf-116">L’API de [détection de fonction](/previous-versions/windows/desktop/fundisc/fd-portal) peut être utilisée pour la découverte d’appareils et de services génériques, car l’API peut découvrir des appareils DPWS et également des appareils utilisant d’autres protocoles.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-116">The [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) API can be used for generic device and service discovery, as the API can discover DPWS devices and also devices using other protocols.</span></span> <span data-ttu-id="1f0cf-117">Envisagez d’utiliser la découverte de fonction lors de l’écriture d’une application de découverte générique.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-117">Consider using Function Discovery when writing a generic discovery application.</span></span>

## <a name="iwsdiscoverypublisher"></a><span data-ttu-id="1f0cf-118">IWSDiscoveryPublisher</span><span class="sxs-lookup"><span data-stu-id="1f0cf-118">IWSDiscoveryPublisher</span></span>

<span data-ttu-id="1f0cf-119">[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) est utilisé pour implémenter les fonctionnalités de WS-Discovery sur les services cibles, tels que les appareils.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-119">[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) is used to implement WS-Discovery functionality on target services, such as devices.</span></span>

<span data-ttu-id="1f0cf-120">[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) permet à une application de publier sa présence à l’aide de messages WS-Discovery Hello et Bye.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-120">[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) allows an application to publish its presence using WS-Discovery Hello and Bye messages.</span></span> <span data-ttu-id="1f0cf-121">Cette interface permet à une application de recevoir des requêtes de sonde et de résolution, et de construire et d’envoyer des réponses messages ProbeMatches et ResolveMatches.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-121">This interface allows an application to receive Probe and Resolve requests, and construct and send ProbeMatches and ResolveMatches responses.</span></span>

<span data-ttu-id="1f0cf-122">Une interface [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) n’est pas nécessaire lors de la publication simple de l’existence d’un objet [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) .</span><span class="sxs-lookup"><span data-stu-id="1f0cf-122">An [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) interface is not necessary when simply publishing the existence of an [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) object.</span></span> <span data-ttu-id="1f0cf-123">**IWSDDeviceHost** gère sa propre présence WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-123">**IWSDDeviceHost** manages its own WS-Discovery presence.</span></span>

## <a name="iwsddeviceproxy"></a><span data-ttu-id="1f0cf-124">IWSDDeviceProxy</span><span class="sxs-lookup"><span data-stu-id="1f0cf-124">IWSDDeviceProxy</span></span>

<span data-ttu-id="1f0cf-125">[**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) est utilisé pour implémenter les fonctionnalités WS-Discovery, WS-MetadataExchange et de contrôle côté client.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-125">[**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) is used to implement client-side WS-Discovery, WS-MetadataExchange, and control functionality.</span></span> <span data-ttu-id="1f0cf-126">Cette fonctionnalité comprend un canal sécurisé facultatif, des fonctionnalités WS-Eventing et des pièces jointes.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-126">This functionality includes optional secure channel, WS-Eventing, and attachment capabilities.</span></span>

<span data-ttu-id="1f0cf-127">L’interface [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) a les trois utilisations suivantes.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-127">The [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface has the following three uses.</span></span>

-   <span data-ttu-id="1f0cf-128">Résout les adresses d’appareils logiques, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-128">Resolves logical device addresses, if necessary.</span></span>
-   <span data-ttu-id="1f0cf-129">Initie les demandes de métadonnées aux appareils pour énumérer les types et les adresses des services.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-129">Initiates metadata requests to devices to enumerate the types and addresses of services.</span></span>
-   <span data-ttu-id="1f0cf-130">Fournit une source pour les objets [**IWSDServiceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsdserviceproxy) , qui peuvent être utilisés pour émettre des messages de contrôle à des services spécifiques sur un appareil.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-130">Provides a source for [**IWSDServiceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsdserviceproxy) objects, which can be used to issue control messages to specific services on a device.</span></span>

<span data-ttu-id="1f0cf-131">L’objet [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) est généralement créé et utilisé entièrement dans le code généré par [WsdCodeGen](web-services-for-devices-code-generator.md).</span><span class="sxs-lookup"><span data-stu-id="1f0cf-131">The [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) object is typically created and used entirely inside code generated by [WsdCodeGen](web-services-for-devices-code-generator.md).</span></span>

## <a name="iwsddevicehost"></a><span data-ttu-id="1f0cf-132">IWSDDeviceHost</span><span class="sxs-lookup"><span data-stu-id="1f0cf-132">IWSDDeviceHost</span></span>

<span data-ttu-id="1f0cf-133">[**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) est utilisé pour implémenter la fonctionnalité WS-Discovery, WS-MetadataExchange et l’hébergement de service côté appareil.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-133">[**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) is used to implement device-side WS-Discovery, WS-MetadataExchange, and service hosting functionality.</span></span> <span data-ttu-id="1f0cf-134">Les services hébergés peuvent répondre aux messages de contrôle et peuvent prendre en charge les fonctionnalités de canal sécurisé, WS-Eventing et pièce jointe.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-134">Hosted services may respond to control messages, and may support secure channel, WS-Eventing, and attachment capabilities.</span></span>

<span data-ttu-id="1f0cf-135">L’interface [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) utilise les éléments suivants.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-135">The [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) interface has the following uses.</span></span>

-   <span data-ttu-id="1f0cf-136">Héberge des objets de service.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-136">Hosts service objects.</span></span>
-   <span data-ttu-id="1f0cf-137">Annonce la présence d’un hôte d’appareil sur le réseau à l’aide de WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-137">Announces the presence of a device host on the network using WS-Discovery.</span></span>
-   <span data-ttu-id="1f0cf-138">Répond aux demandes WS-MetadataExchange et décrit les types et les emplacements des services hébergés.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-138">Responds to WS-MetadataExchange requests and describes the types and locations of hosted services.</span></span>
-   <span data-ttu-id="1f0cf-139">Distribue les demandes réseau en objets de service.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-139">Dispatches network requests into service objects.</span></span>

<span data-ttu-id="1f0cf-140">Les fonctionnalités de gestion des abonnements WS-Discovery, WS-MetadataExchange et WS-Eventing sont gérées entièrement au sein de l’objet hôte de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-140">WS-Discovery, WS-MetadataExchange, and WS-Eventing subscription management functionality is handled entirely within the device host object.</span></span> <span data-ttu-id="1f0cf-141">Pour pouvoir héberger un service à l’intérieur d’un hôte d’appareil, les conditions suivantes doivent être respectées.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-141">Before a service can be hosted inside a device host, the following requirements must be met.</span></span>

-   <span data-ttu-id="1f0cf-142">L’hôte doit être créé en appelant [**WSDCreateDeviceHost**](/windows/desktop/api/WsdHost/nf-wsdhost-wsdcreatedevicehost).</span><span class="sxs-lookup"><span data-stu-id="1f0cf-142">The host must be created by calling [**WSDCreateDeviceHost**](/windows/desktop/api/WsdHost/nf-wsdhost-wsdcreatedevicehost).</span></span>
-   <span data-ttu-id="1f0cf-143">Les métadonnées associées au service doivent être inscrites.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-143">The metadata associated with the service must be registered.</span></span>
-   <span data-ttu-id="1f0cf-144">Le service lui-même doit être inscrit.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-144">The service itself must be registered.</span></span>
-   <span data-ttu-id="1f0cf-145">L’hôte de l’appareil doit être démarré.</span><span class="sxs-lookup"><span data-stu-id="1f0cf-145">The device host must be started.</span></span>

<span data-ttu-id="1f0cf-146">L’objet [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) est généralement créé et utilisé dans le code généré par [WsdCodeGen](web-services-for-devices-code-generator.md).</span><span class="sxs-lookup"><span data-stu-id="1f0cf-146">The [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) object is typically created and used inside code generated by [WsdCodeGen](web-services-for-devices-code-generator.md).</span></span>

 

 
