---
description: Répertorie les procédures de diagnostic à utiliser lors du dépannage des applications WSDAPI.
ms.assetid: befe4234-8d3a-4fc5-9a7d-faca94964af6
title: Résolution des problèmes liés aux autres applications WSDAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 28a421f26237cc14d07a43e00faeb6d8bf49aa02
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106517571"
---
# <a name="troubleshooting-other-wsdapi-applications"></a><span data-ttu-id="c3440-103">Résolution des problèmes liés aux autres applications WSDAPI</span><span class="sxs-lookup"><span data-stu-id="c3440-103">Troubleshooting Other WSDAPI Applications</span></span>

<span data-ttu-id="c3440-104">Les applications peuvent appeler directement des interfaces et des fonctions WSDAPI pour effectuer la découverte des appareils et l’échange de métadonnées.</span><span class="sxs-lookup"><span data-stu-id="c3440-104">Applications can directly call into WSDAPI interfaces and functions to perform device discovery and metadata exchange.</span></span> <span data-ttu-id="c3440-105">Les modèles de message utilisés par ces applications varient.</span><span class="sxs-lookup"><span data-stu-id="c3440-105">The message patterns used by these applications vary.</span></span>

<span data-ttu-id="c3440-106">L’objectif de ce guide de résolution des problèmes est d’aider les développeurs d’applications WSDAPI à implémenter correctement un proxy d’appareil.</span><span class="sxs-lookup"><span data-stu-id="c3440-106">The goal of this troubleshooting guide is to help WSDAPI application developers successfully implement a device proxy.</span></span> <span data-ttu-id="c3440-107">Ce guide n’a pas pour but de vous aider à résoudre tous les aspects de WSDAPI.</span><span class="sxs-lookup"><span data-stu-id="c3440-107">This guide is not intended to help troubleshoot all aspects of WSDAPI.</span></span> <span data-ttu-id="c3440-108">Si le proxy de l’appareil a été créé avec succès et que le client et l’hôte peuvent se voir sur le réseau, ce guide ne peut pas résoudre les problèmes de l’application.</span><span class="sxs-lookup"><span data-stu-id="c3440-108">If the device proxy has been successfully created and the client and host can see each other on the network, then this guide cannot address the application's problems.</span></span> <span data-ttu-id="c3440-109">Pour résoudre les problèmes liés aux applications, suivez les instructions de la section [activation du suivi wsdapi](enabling-wsdapi-tracing.md) et contactez le support Microsoft pour obtenir de l’aide.</span><span class="sxs-lookup"><span data-stu-id="c3440-109">To troubleshoot these application problems, follow the instructions in [Enabling WSDAPI Tracing](enabling-wsdapi-tracing.md) and contact Microsoft support for further assistance.</span></span>

## <a name="troubleshooting-clients-calling-wsdcreatedeviceproxy"></a><span data-ttu-id="c3440-110">Résolution des problèmes des clients appelant WSDCreateDeviceProxy</span><span class="sxs-lookup"><span data-stu-id="c3440-110">Troubleshooting clients calling WSDCreateDeviceProxy</span></span>

<span data-ttu-id="c3440-111">Les applications appellent [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) pour créer et initialiser une instance de l’interface [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) .</span><span class="sxs-lookup"><span data-stu-id="c3440-111">Applications call [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) to create and initialize an instance of the [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface.</span></span> <span data-ttu-id="c3440-112">Cet objet proxy d’appareil peut être utilisé pour publier des services sur un appareil et pour échanger des métadonnées.</span><span class="sxs-lookup"><span data-stu-id="c3440-112">This device proxy object can be used to advertise services on a device and also to exchange metadata.</span></span>

<span data-ttu-id="c3440-113">Une application qui appelle [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) utilise toujours les messages suivants.</span><span class="sxs-lookup"><span data-stu-id="c3440-113">An application calling [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) always uses the following messages.</span></span>

-   [<span data-ttu-id="c3440-114">Get</span><span class="sxs-lookup"><span data-stu-id="c3440-114">Get</span></span>](get--metadata-exchange--http-request-and-message.md)
-   [<span data-ttu-id="c3440-115">GetResponse</span><span class="sxs-lookup"><span data-stu-id="c3440-115">GetResponse</span></span>](getresponse--metadata-exchange--message.md)

<span data-ttu-id="c3440-116">Une application appelant [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) utilise parfois les messages suivants.</span><span class="sxs-lookup"><span data-stu-id="c3440-116">An application calling [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) sometimes uses the following messages.</span></span>

-   [<span data-ttu-id="c3440-117">Résolution</span><span class="sxs-lookup"><span data-stu-id="c3440-117">Resolve</span></span>](resolve-message.md)
-   [<span data-ttu-id="c3440-118">ResolveMatches</span><span class="sxs-lookup"><span data-stu-id="c3440-118">ResolveMatches</span></span>](resolvematches-message.md)

<span data-ttu-id="c3440-119">Les messages [Resolve](resolve-message.md) et [ResolveMatches](resolvematches-message.md) sont générés lorsqu’une adresse d’appareil logique (autrement dit, une adresse de périphérique de la forme urn : UUID : {Guid}) est passée à *pszDeviceId*.</span><span class="sxs-lookup"><span data-stu-id="c3440-119">[Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are generated when a logical device address (that is, a device address of the form urn:uuid:{guid}) is passed to *pszDeviceId*.</span></span> <span data-ttu-id="c3440-120">Ces messages ne sont pas générés lorsqu’une adresse d’appareil physique est transmise à *pszDeviceId*.</span><span class="sxs-lookup"><span data-stu-id="c3440-120">These messages are not generated when a physical device address is passed to *pszDeviceId*.</span></span> <span data-ttu-id="c3440-121">Lorsque les messages Resolve et ResolveMatches sont utilisés, ils sont envoyés avant les [messages d’extraction et de](getresponse--metadata-exchange--message.md) [récupération](get--metadata-exchange--http-request-and-message.md) .</span><span class="sxs-lookup"><span data-stu-id="c3440-121">When Resolve and ResolveMatches messages are used, they are sent before the [Get](get--metadata-exchange--http-request-and-message.md) and [GetResponse](getresponse--metadata-exchange--message.md) messages.</span></span>

<span data-ttu-id="c3440-122">Les procédures de diagnostic suivantes doivent être utilisées (dans l’ordre) pour aider à identifier les problèmes liés à une application appelant [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) à l’aide d’une adresse d’appareil physique.</span><span class="sxs-lookup"><span data-stu-id="c3440-122">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) with a physical device address.</span></span>

1.  <span data-ttu-id="c3440-123">[Inspectez les paramètres de l’adaptateur et du pare-feu](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-123">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="c3440-124">[Utilisez un hôte et un client génériques pour l’échange de métadonnées http](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-124">[Use a generic host and client for HTTP metadata exchange](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span></span>
3.  <span data-ttu-id="c3440-125">[Utilisez la journalisation WinHTTP pour vérifier le trafic d’extraction](using-winhttp-logging-to-verify-get-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-125">[Use WinHTTP logging to verify Get traffic](using-winhttp-logging-to-verify-get-traffic.md).</span></span>
4.  <span data-ttu-id="c3440-126">[Inspectez les traces réseau pour l’échange de métadonnées http](inspecting-network-traces-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-126">[Inspect network traces for HTTP metadata exchange](inspecting-network-traces-for-http-metadata-exchange.md).</span></span>

<span data-ttu-id="c3440-127">Les procédures de diagnostic suivantes doivent être utilisées (dans l’ordre) pour aider à identifier les problèmes liés à une application appelant [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) à l’aide d’une adresse d’appareil logique.</span><span class="sxs-lookup"><span data-stu-id="c3440-127">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) with a logical device address.</span></span>

1.  <span data-ttu-id="c3440-128">[Inspectez les paramètres de l’adaptateur et du pare-feu](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-128">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="c3440-129">[Utilisez un hôte et un client génériques pour UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-129">[Use a generic host and client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span></span>
3.  <span data-ttu-id="c3440-130">[Utilisez le client de débogage WSD pour vérifier le trafic de multidiffusion](using-wsddebug-client-to-verify-multicast-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-130">[Use WSD Debug Client to verify multicast traffic](using-wsddebug-client-to-verify-multicast-traffic.md).</span></span>
4.  <span data-ttu-id="c3440-131">[Inspectez les suivis réseau pour le service WS-Discovery UDP](inspecting-network-traces-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-131">[Inspect network traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).</span></span>
5.  <span data-ttu-id="c3440-132">[Utilisez un hôte et un client génériques pour l’échange de métadonnées http](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-132">[Use a generic host and client for HTTP metadata exchange](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span></span>
6.  <span data-ttu-id="c3440-133">[Utilisez la journalisation WinHTTP pour vérifier le trafic d’extraction](using-winhttp-logging-to-verify-get-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-133">[Use WinHTTP logging to verify Get traffic](using-winhttp-logging-to-verify-get-traffic.md).</span></span>
7.  <span data-ttu-id="c3440-134">[Inspectez les traces réseau pour l’échange de métadonnées http](inspecting-network-traces-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-134">[Inspect network traces for HTTP metadata exchange](inspecting-network-traces-for-http-metadata-exchange.md).</span></span>

<span data-ttu-id="c3440-135">Vérifiez que les messages [Resolve](resolve-message.md) et [ResolveMatches](resolvematches-message.md) sont générés et répondent aux exigences du trafic.</span><span class="sxs-lookup"><span data-stu-id="c3440-135">Verify that [Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are generated and meet traffic requirements.</span></span> <span data-ttu-id="c3440-136">Il n’est pas nécessaire de rechercher les messages [Probe](probe-message.md) ou [messages ProbeMatches](probematches-message.md) dans la sortie du client de débogage WSD ou dans les suivis réseau.</span><span class="sxs-lookup"><span data-stu-id="c3440-136">It is not necessary to look for [Probe](probe-message.md) or [ProbeMatches](probematches-message.md) messages in the WSD Debug Client output or in the network traces.</span></span>

## <a name="troubleshooting-clients-calling-wsdcreatedeviceproxyadvanced"></a><span data-ttu-id="c3440-137">Résolution des problèmes des clients appelant WSDCreateDeviceProxyAdvanced</span><span class="sxs-lookup"><span data-stu-id="c3440-137">Troubleshooting clients calling WSDCreateDeviceProxyAdvanced</span></span>

<span data-ttu-id="c3440-138">Les applications appellent [**WSDCreateDeviceProxyAdvanced**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) pour créer et initialiser une instance de l’interface [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) .</span><span class="sxs-lookup"><span data-stu-id="c3440-138">Applications call [**WSDCreateDeviceProxyAdvanced**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) to create and initialize an instance of the [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface.</span></span> <span data-ttu-id="c3440-139">Contrairement à [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy), **WSDCreateDeviceProxyAdvanced** a un paramètre *pDeviceAddress* qui est utilisé pour définir l’adresse de transport de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="c3440-139">Unlike [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy), **WSDCreateDeviceProxyAdvanced** has a *pDeviceAddress* parameter that is used to define the device transport address.</span></span> <span data-ttu-id="c3440-140">Si cette adresse de transport est spécifiée, la résolution des adresses logiques n’est pas [obligatoire et les](resolve-message.md) messages [ResolveMatches](resolvematches-message.md) ne sont pas générés.</span><span class="sxs-lookup"><span data-stu-id="c3440-140">If this transport address is specified, then logical address resolution is not required and [Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are not generated.</span></span>

<span data-ttu-id="c3440-141">Si *pDeviceAddress* a la valeur **null** et que *pszDeviceId* est une adresse logique, la résolution d’adresse est requise et les messages [de résolution et de](resolve-message.md) [ResolveMatches](resolvematches-message.md) sont générés.</span><span class="sxs-lookup"><span data-stu-id="c3440-141">If *pDeviceAddress* is set to **NULL** and *pszDeviceId* is a logical address, then address resolution is required and [Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are generated.</span></span>

<span data-ttu-id="c3440-142">Les procédures de diagnostic suivantes doivent être utilisées (dans l’ordre) pour aider à identifier les problèmes liés à une application appelant [**WSDCreateDeviceProxyAdvanced**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) avec un paramètre _pDeviceAddress_ non **null**.</span><span class="sxs-lookup"><span data-stu-id="c3440-142">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**WSDCreateDeviceProxyAdvanced**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) with a non-**NULL**_pDeviceAddress_ parameter.</span></span> <span data-ttu-id="c3440-143">Ces procédures peuvent également être utilisées lorsque *pDeviceAddress* a la **valeur null** et que *pszDeviceId* est une adresse physique.</span><span class="sxs-lookup"><span data-stu-id="c3440-143">These procedures can also be used when *pDeviceAddress* is **NULL** and *pszDeviceId* is a physical address.</span></span>

1.  <span data-ttu-id="c3440-144">[Inspectez les paramètres de l’adaptateur et du pare-feu](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-144">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="c3440-145">[Utilisez un hôte et un client génériques pour l’échange de métadonnées http](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-145">[Use a generic host and client for HTTP metadata exchange](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span></span>
3.  <span data-ttu-id="c3440-146">[Utilisez la journalisation WinHTTP pour vérifier le trafic d’extraction](using-winhttp-logging-to-verify-get-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-146">[Use WinHTTP logging to verify Get traffic](using-winhttp-logging-to-verify-get-traffic.md).</span></span>
4.  <span data-ttu-id="c3440-147">[Inspectez les traces réseau pour l’échange de métadonnées http](inspecting-network-traces-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-147">[Inspect network traces for HTTP metadata exchange](inspecting-network-traces-for-http-metadata-exchange.md).</span></span>

<span data-ttu-id="c3440-148">Les procédures de diagnostic suivantes doivent être utilisées (dans l’ordre) pour aider à identifier les problèmes liés à une application appelant [**WSDCreateDeviceProxyAdvanced**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) avec *PDeviceAddress* défini sur **null** et avec *pszDeviceId* défini sur une adresse logique.</span><span class="sxs-lookup"><span data-stu-id="c3440-148">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**WSDCreateDeviceProxyAdvanced**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxyadvanced) with *pDeviceAddress* set to **NULL** and with *pszDeviceId* set to a logical address.</span></span>

1.  <span data-ttu-id="c3440-149">[Inspectez les paramètres de l’adaptateur et du pare-feu](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-149">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="c3440-150">[Utilisez un hôte et un client génériques pour UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-150">[Use a generic host and client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span></span>
3.  <span data-ttu-id="c3440-151">[Utilisez le client de débogage WSD pour vérifier le trafic de multidiffusion](using-wsddebug-client-to-verify-multicast-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-151">[Use WSD Debug Client to verify multicast traffic](using-wsddebug-client-to-verify-multicast-traffic.md).</span></span>
4.  <span data-ttu-id="c3440-152">[Inspectez les suivis réseau pour le service WS-Discovery UDP](inspecting-network-traces-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-152">[Inspect network traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).</span></span>
5.  <span data-ttu-id="c3440-153">[Utilisez un hôte et un client génériques pour l’échange de métadonnées http](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-153">[Use a generic host and client for HTTP metadata exchange](using-a-generic-host-and-client-for-http-metadata-exchange.md).</span></span>
6.  <span data-ttu-id="c3440-154">[Utilisez la journalisation WinHTTP pour vérifier le trafic d’extraction](using-winhttp-logging-to-verify-get-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-154">[Use WinHTTP logging to verify Get traffic](using-winhttp-logging-to-verify-get-traffic.md).</span></span>
7.  <span data-ttu-id="c3440-155">[Inspectez les traces réseau pour l’échange de métadonnées http](inspecting-network-traces-for-http-metadata-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-155">[Inspect network traces for HTTP metadata exchange](inspecting-network-traces-for-http-metadata-exchange.md).</span></span>

<span data-ttu-id="c3440-156">Vérifiez que les messages [Resolve](resolve-message.md) et [ResolveMatches](resolvematches-message.md) sont générés et répondent aux exigences du trafic.</span><span class="sxs-lookup"><span data-stu-id="c3440-156">Verify that [Resolve](resolve-message.md) and [ResolveMatches](resolvematches-message.md) messages are generated and meet traffic requirements.</span></span> <span data-ttu-id="c3440-157">Il n’est pas nécessaire de rechercher les messages [Probe](probe-message.md) ou [messages ProbeMatches](probematches-message.md) dans la sortie du client de débogage WSD ou dans les suivis réseau.</span><span class="sxs-lookup"><span data-stu-id="c3440-157">It is not necessary to look for [Probe](probe-message.md) or [ProbeMatches](probematches-message.md) messages in the WSD Debug Client output or in the network traces.</span></span>

## <a name="troubleshooting-clients-using-the-iwsdiscoveryprovider-interface"></a><span data-ttu-id="c3440-158">Résolution des problèmes des clients à l’aide de l’interface IWSDiscoveryProvider</span><span class="sxs-lookup"><span data-stu-id="c3440-158">Troubleshooting clients using the IWSDiscoveryProvider interface</span></span>

<span data-ttu-id="c3440-159">Les applications qui appellent l’interface [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) n’effectuent pas d’échange de métadonnées.</span><span class="sxs-lookup"><span data-stu-id="c3440-159">Applications calling into the [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) interface do not perform metadata exchange.</span></span> <span data-ttu-id="c3440-160">Cette interface est utilisée uniquement pour la découverte.</span><span class="sxs-lookup"><span data-stu-id="c3440-160">This interface is only used for discovery.</span></span> <span data-ttu-id="c3440-161">Les modèles de message et les procédures de résolution des problèmes sont différents pour chaque méthode appelée sur l’interface **IWSDiscoveryProvider** .</span><span class="sxs-lookup"><span data-stu-id="c3440-161">The message patterns and troubleshooting procedures are different for each method called on the **IWSDiscoveryProvider** interface.</span></span>

<span data-ttu-id="c3440-162">Lorsqu’une application appelle [**IWSDiscoveryProvider :: SearchByType**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbytype), un message de [sondage](probe-message.md) est généré.</span><span class="sxs-lookup"><span data-stu-id="c3440-162">When an application calls [**IWSDiscoveryProvider::SearchByType**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbytype), a [Probe](probe-message.md) message is generated.</span></span> <span data-ttu-id="c3440-163">Le message de sondage est envoyé par la multidiffusion UDP au port 3702.</span><span class="sxs-lookup"><span data-stu-id="c3440-163">The Probe message is sent by UDP multicast to port 3702.</span></span> <span data-ttu-id="c3440-164">Un message [messages ProbeMatches](probematches-message.md) est généré en réponse.</span><span class="sxs-lookup"><span data-stu-id="c3440-164">A [ProbeMatches](probematches-message.md) message is generated in response.</span></span> <span data-ttu-id="c3440-165">Le message messages ProbeMatches est envoyé par la monodiffusion UDP et provient du port 3702.</span><span class="sxs-lookup"><span data-stu-id="c3440-165">The ProbeMatches message is sent by UDP unicast and it originates from port 3702.</span></span>

<span data-ttu-id="c3440-166">Quand une application appelle [**IWSDiscoveryProvider :: SearchById**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyid), un message de [résolution](resolve-message.md) est généré.</span><span class="sxs-lookup"><span data-stu-id="c3440-166">When an application calls [**IWSDiscoveryProvider::SearchById**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyid), a [Resolve](resolve-message.md) message is generated.</span></span> <span data-ttu-id="c3440-167">Un message de résolution est envoyé par la multidiffusion UDP au port 3702.</span><span class="sxs-lookup"><span data-stu-id="c3440-167">A Resolve message is sent by UDP multicast to port 3702.</span></span> <span data-ttu-id="c3440-168">Un message [ResolveMatches](resolvematches-message.md) est généré en réponse.</span><span class="sxs-lookup"><span data-stu-id="c3440-168">A [ResolveMatches](resolvematches-message.md) message is generated in response.</span></span> <span data-ttu-id="c3440-169">Le ResolveMatches est envoyé par la monodiffusion UDP et provient du port 3702.</span><span class="sxs-lookup"><span data-stu-id="c3440-169">The ResolveMatches is sent by UDP unicast and it originates from port 3702.</span></span>

<span data-ttu-id="c3440-170">Les procédures de diagnostic suivantes doivent être utilisées (dans l’ordre) pour aider à identifier les problèmes liés à une application appelant [**IWSDiscoveryProvider :: SearchByType**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbytype) ou [**IWSDiscoveryProvider :: SearchById**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyid).</span><span class="sxs-lookup"><span data-stu-id="c3440-170">The following diagnostic procedures should be used (in order) to help identify problems with an application calling [**IWSDiscoveryProvider::SearchByType**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbytype) or [**IWSDiscoveryProvider::SearchById**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyid).</span></span> <span data-ttu-id="c3440-171">Vérifiez que les messages générés par l’API appelée répondent aux exigences de trafic.</span><span class="sxs-lookup"><span data-stu-id="c3440-171">Verify that the messages generated by the called API satisfy the traffic requirements.</span></span>

1.  <span data-ttu-id="c3440-172">[Inspectez les paramètres de l’adaptateur et du pare-feu](inspecting-adapter-and-firewall-settings.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-172">[Inspect adapter and firewall settings](inspecting-adapter-and-firewall-settings.md).</span></span>
2.  <span data-ttu-id="c3440-173">[Utilisez un hôte et un client génériques pour UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-173">[Use a generic host and client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span></span>
3.  <span data-ttu-id="c3440-174">[Utilisez le client de débogage WSD pour vérifier le trafic de multidiffusion](using-wsddebug-client-to-verify-multicast-traffic.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-174">[Use WSD Debug Client to verify multicast traffic](using-wsddebug-client-to-verify-multicast-traffic.md).</span></span>
4.  <span data-ttu-id="c3440-175">[Inspectez les suivis réseau pour le service WS-Discovery UDP](inspecting-network-traces-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-175">[Inspect network traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md).</span></span>

<span data-ttu-id="c3440-176">Si une application appelle [**IWSDiscoveryProvider :: SearchByAddress**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyaddress), il s’agit d’une application de découverte dirigée.</span><span class="sxs-lookup"><span data-stu-id="c3440-176">If an application calls [**IWSDiscoveryProvider::SearchByAddress**](/windows/desktop/api/WsdDisco/nf-wsddisco-iwsdiscoveryprovider-searchbyaddress), then it is a directed discovery application.</span></span> <span data-ttu-id="c3440-177">Pour plus d’informations sur le dépannage, consultez [Dépannage des applications à l’aide de la découverte dirigée](troubleshooting-applications-using-directed-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="c3440-177">For more troubleshooting information, see [Troubleshooting Applications Using Directed Discovery](troubleshooting-applications-using-directed-discovery.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="c3440-178">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="c3440-178">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c3440-179">Résolution des problèmes de Prise en main avec WSDAPI</span><span class="sxs-lookup"><span data-stu-id="c3440-179">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> </dl>

 

 



