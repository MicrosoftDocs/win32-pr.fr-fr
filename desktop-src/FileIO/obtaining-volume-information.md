---
description: Avant d’accéder aux fichiers et aux répertoires d’un volume donné, vous devez déterminer les fonctionnalités du système de fichiers à l’aide de la fonction GetVolumeInformation.
ms.assetid: 008e0cc4-bc12-47e8-a8b7-d4fa9395fceb
title: Obtention d’informations sur le volume
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8fc5323c3f82db1115a81902f156e9366abad31e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104527045"
---
# <a name="obtaining-volume-information"></a><span data-ttu-id="cadd7-103">Obtention d’informations sur le volume</span><span class="sxs-lookup"><span data-stu-id="cadd7-103">Obtaining Volume Information</span></span>

<span data-ttu-id="cadd7-104">La fonction [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) récupère des informations sur le système de fichiers sur un volume donné.</span><span class="sxs-lookup"><span data-stu-id="cadd7-104">The [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) function retrieves information about the file system on a given volume.</span></span> <span data-ttu-id="cadd7-105">Ces informations incluent le nom du volume, le numéro de série du volume, le nom du système de fichiers, les indicateurs du système de fichiers, la longueur maximale d’un nom de fichier, etc.</span><span class="sxs-lookup"><span data-stu-id="cadd7-105">This information includes the volume name, volume serial number, file system name, file system flags, maximum length of a file name, and so on.</span></span> <span data-ttu-id="cadd7-106">Avant d’accéder aux fichiers et aux répertoires d’un volume donné, vous devez déterminer les fonctionnalités du système de fichiers à l’aide de la fonction [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) .</span><span class="sxs-lookup"><span data-stu-id="cadd7-106">Before you access files and directories on a given volume, you should determine the capabilities of the file system by using the [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) function.</span></span> <span data-ttu-id="cadd7-107">Cette fonction retourne des valeurs que vous pouvez utiliser pour adapter votre application afin qu’elle fonctionne correctement avec le système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="cadd7-107">This function returns values that you can use to adapt your application to work effectively with the file system.</span></span>

<span data-ttu-id="cadd7-108">En général, vous devez éviter d’utiliser des mémoires tampons statiques pour les noms de fichiers et les chemins d’accès.</span><span class="sxs-lookup"><span data-stu-id="cadd7-108">In general, you should avoid using static buffers for file names and paths.</span></span> <span data-ttu-id="cadd7-109">Utilisez plutôt les valeurs retournées par [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) pour allouer les tampons selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="cadd7-109">Instead, use the values returned by [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) to allocate buffers as you need them.</span></span> <span data-ttu-id="cadd7-110">Si vous devez utiliser des mémoires tampons statiques, réservez 256 caractères pour les noms de fichiers et 260 caractères pour les chemins d’accès.</span><span class="sxs-lookup"><span data-stu-id="cadd7-110">If you must use static buffers, reserve 256 characters for file names and 260 characters for paths.</span></span>

<span data-ttu-id="cadd7-111">Les fonctions [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya) et [**GetWindowsDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getwindowsdirectorya) récupèrent les chemins d’accès au répertoire système et au répertoire Windows, respectivement.</span><span class="sxs-lookup"><span data-stu-id="cadd7-111">The [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya) and [**GetWindowsDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getwindowsdirectorya) functions retrieve the paths to the system directory and the Windows directory, respectively.</span></span>

<span data-ttu-id="cadd7-112">La fonction [**GetDiskFreeSpace**](/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespacea) récupère des informations organisationnelles sur un volume, y compris le nombre d’octets par secteur, le nombre de secteurs par cluster, le nombre de clusters libres et le nombre total de clusters.</span><span class="sxs-lookup"><span data-stu-id="cadd7-112">The [**GetDiskFreeSpace**](/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespacea) function retrieves organizational information about a volume, including the number of bytes per sector, the number of sectors per cluster, the number of free clusters, and the total number of clusters.</span></span> <span data-ttu-id="cadd7-113">Toutefois, **GetDiskFreeSpace** ne peut pas signaler des tailles de volume supérieures à 2 Go.</span><span class="sxs-lookup"><span data-stu-id="cadd7-113">However, **GetDiskFreeSpace** cannot report volume sizes that are greater than 2 GB.</span></span> <span data-ttu-id="cadd7-114">Pour vous assurer que votre application fonctionne avec des disques durs de grande capacité, utilisez la fonction [**GetDiskFreeSpaceEx**](/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespaceexa) .</span><span class="sxs-lookup"><span data-stu-id="cadd7-114">To ensure that your application works with large capacity hard drives, use the [**GetDiskFreeSpaceEx**](/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespaceexa) function.</span></span>

<span data-ttu-id="cadd7-115">La fonction [**GetDriveType**](/windows/desktop/api/FileAPI/nf-fileapi-getdrivetypea) indique si le volume référencé par la lettre de lecteur spécifiée est un lecteur amovible, fixe, CD-ROM, RAM ou réseau.</span><span class="sxs-lookup"><span data-stu-id="cadd7-115">The [**GetDriveType**](/windows/desktop/api/FileAPI/nf-fileapi-getdrivetypea) function indicates whether the volume referenced by the specified drive letter is a removable, fixed, CD-ROM, RAM, or network drive.</span></span>

<span data-ttu-id="cadd7-116">La fonction [**GetLogicalDrives**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives) identifie les volumes présents.</span><span class="sxs-lookup"><span data-stu-id="cadd7-116">The [**GetLogicalDrives**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives) function identifies the volumes present.</span></span> <span data-ttu-id="cadd7-117">La fonction [**GetLogicalDriveStrings**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw) récupère une chaîne se terminant par un caractère null pour chaque volume présent.</span><span class="sxs-lookup"><span data-stu-id="cadd7-117">The [**GetLogicalDriveStrings**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw) function retrieves a null-terminated string for each volume present.</span></span> <span data-ttu-id="cadd7-118">Utilisez ces chaînes chaque fois qu’un répertoire racine est requis.</span><span class="sxs-lookup"><span data-stu-id="cadd7-118">Use these strings whenever a root directory is required.</span></span>

## <a name="related-topics"></a><span data-ttu-id="cadd7-119">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="cadd7-119">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cadd7-120">Reconnaissance du système de fichiers</span><span class="sxs-lookup"><span data-stu-id="cadd7-120">File System Recognition</span></span>](file-system-recognition.md)
</dt> </dl>

 

 
