---
description: Vous pouvez réduire l’impact de votre application sur d’autres clients et l’impact qu’elle a sur votre application en accordant autant de partage que possible, en demandant le niveau d’accès minimal nécessaire et en utilisant le verrou opportuniste le moins intrusif adapté à votre application.
ms.assetid: c28b0ae0-0d35-4b59-9f54-87c55ca72716
title: Réponse du serveur pour les demandes d’ouverture sur les fichiers verrouillés
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8d397613f6b54f2b42c26a5674a787b796f5f19e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104526859"
---
# <a name="server-response-to-open-requests-on-locked-files"></a><span data-ttu-id="ef572-103">Réponse du serveur pour les demandes d’ouverture sur les fichiers verrouillés</span><span class="sxs-lookup"><span data-stu-id="ef572-103">Server Response to Open Requests on Locked Files</span></span>

<span data-ttu-id="ef572-104">La durée de vie d’un verrou opportuniste comprend trois intervalles de temps distincts.</span><span class="sxs-lookup"><span data-stu-id="ef572-104">The life of an opportunistic lock includes three distinct time spans.</span></span> <span data-ttu-id="ef572-105">Au cours de chaque, le serveur détermine, par différents moyens, sa réaction à une demande d’un client pour ouvrir un fichier verrouillé par un autre client.</span><span class="sxs-lookup"><span data-stu-id="ef572-105">During each, the server determines by different means its reaction to a request from a client to open a file locked by another client.</span></span> <span data-ttu-id="ef572-106">En général, vous pouvez réduire l’impact de votre application sur d’autres clients et l’impact qu’elle a sur votre application en accordant autant de partage que possible, en demandant le niveau d’accès minimal nécessaire et en utilisant le verrou opportuniste le moins intrusif adapté à votre application.</span><span class="sxs-lookup"><span data-stu-id="ef572-106">In general, you can minimize the impact your application has on other clients and the impact they have on your application by granting as much sharing as possible, requesting the minimum access level necessary, and using the least intrusive opportunistic lock suitable for your application.</span></span>

<span data-ttu-id="ef572-107">Tout d’abord, la période après laquelle le serveur ouvre un fichier pour un client, mais avant d’accorder un verrou.</span><span class="sxs-lookup"><span data-stu-id="ef572-107">First is the period after the server opens a file for a client but before it grants a lock.</span></span> <span data-ttu-id="ef572-108">Pendant ce temps, aucun verrou n’existe sur le fichier, et le serveur dépend du partage, des modes d’accès et du type de verrou opportuniste que vous demandez pour déterminer sa réaction à une autre demande d’ouverture du même fichier.</span><span class="sxs-lookup"><span data-stu-id="ef572-108">During this time, no lock exists on the file, and the server depends on sharing, access modes, and the type of opportunistic lock you request to determine its reaction to another request to open the same file.</span></span> <span data-ttu-id="ef572-109">Par exemple, si vous ouvrez le fichier en question pour l’accès en écriture, vous pouvez empêcher d’accorder des verrous opportunistes qui autorisent l’accès à la mise en cache de lecture à d’autres clients.</span><span class="sxs-lookup"><span data-stu-id="ef572-109">For example, if you open the file in question for write access, you may inhibit granting opportunistic locks that allow read caching access to other clients.</span></span> <span data-ttu-id="ef572-110">L’intervalle de temps avant que le serveur n’accorde un verrou se trouve généralement dans la plage de millisecondes, mais peut être plus long.</span><span class="sxs-lookup"><span data-stu-id="ef572-110">The time span before the server grants a lock is typically in the millisecond range but may be longer.</span></span>

<span data-ttu-id="ef572-111">Une fois le verrou opportuniste accordé, le serveur examine le verrou pour déterminer la réaction du serveur à une demande d’ouverture sur un fichier verrouillé.</span><span class="sxs-lookup"><span data-stu-id="ef572-111">After the opportunistic lock is granted, the server examines the lock to determine server reaction to an open request on a locked file.</span></span> <span data-ttu-id="ef572-112">Là encore, la façon dont votre application a ouvert le fichier et le type de verrou qu’il détient affecte la façon dont le serveur répond.</span><span class="sxs-lookup"><span data-stu-id="ef572-112">Again, how your application opened the file and the type of lock it holds affects how the server responds.</span></span> <span data-ttu-id="ef572-113">Pour plus d’informations sur la façon dont le serveur répond dans chaque cas, consultez [types de verrous opportunistes](types-of-opportunistic-locks.md).</span><span class="sxs-lookup"><span data-stu-id="ef572-113">For more information on how the server responds in each case, see [Types of Opportunistic Locks](types-of-opportunistic-locks.md).</span></span>

<span data-ttu-id="ef572-114">Enfin, il existe une étendue après que le serveur a déterminé que votre verrouillage doit être interrompu (terminé), mais avant que votre application n’ait terminé sa réaction à l’arrêt.</span><span class="sxs-lookup"><span data-stu-id="ef572-114">Finally, there is the span after the server determines that your lock should be broken (ended) but before your application completes its reaction to the break.</span></span> <span data-ttu-id="ef572-115">Selon le type de verrou, votre application peut rétrograder le verrou à un niveau inférieur ou à aucun.</span><span class="sxs-lookup"><span data-stu-id="ef572-115">Depending on the type of lock, your application can downgrade the lock to a lower level or to none at all.</span></span> <span data-ttu-id="ef572-116">Votre application peut également fermer le fichier et le verrou.</span><span class="sxs-lookup"><span data-stu-id="ef572-116">Your application can also close the file and the lock.</span></span> <span data-ttu-id="ef572-117">Pendant ce temps, le serveur conserve dans abeyance toutes les demandes d’autres clients pour ouvrir le fichier précédemment verrouillé.</span><span class="sxs-lookup"><span data-stu-id="ef572-117">During this time, the server holds in abeyance any requests from other clients to open the formerly locked file.</span></span> <span data-ttu-id="ef572-118">Cet intervalle de temps peut être compris entre les millisecondes et les dizaines de secondes.</span><span class="sxs-lookup"><span data-stu-id="ef572-118">This time span may range from milliseconds to tens of seconds.</span></span> <span data-ttu-id="ef572-119">Pour plus d’informations, consultez [interruption des verrous opportunistes](breaking-opportunistic-locks.md).</span><span class="sxs-lookup"><span data-stu-id="ef572-119">For more information, see [Breaking Opportunistic Locks](breaking-opportunistic-locks.md).</span></span>

 

 



