---
description: Un nom de périphérique MS-DOS est une jonction qui pointe vers le chemin d’accès d’un périphérique MS-DOS. Ces jonctions composent l’espace de noms du périphérique MS-DOS.
ms.assetid: 7d802e9f-dc09-4e3d-b064-e9b57af396e2
title: Définition d’un nom de périphérique MS-DOS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7ed89e1d9938e320ecce3ff0b35b8ae0792fe219
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106538871"
---
# <a name="defining-an-ms-dos-device-name"></a><span data-ttu-id="477b3-104">Définition d’un nom de périphérique MS-DOS</span><span class="sxs-lookup"><span data-stu-id="477b3-104">Defining an MS-DOS Device Name</span></span>

<span data-ttu-id="477b3-105">Un nom de périphérique MS-DOS est une jonction qui pointe vers le chemin d’accès d’un périphérique MS-DOS.</span><span class="sxs-lookup"><span data-stu-id="477b3-105">An MS-DOS device name is a junction that points to the path of an MS-DOS device.</span></span> <span data-ttu-id="477b3-106">Ces jonctions composent l’espace de noms du périphérique MS-DOS.</span><span class="sxs-lookup"><span data-stu-id="477b3-106">These junctions make up the MS-DOS device namespace.</span></span> <span data-ttu-id="477b3-107">Appelez les fonctions [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) et [**SetVolumeMountPoint**](/windows/desktop/api/WinBase/nf-winbase-setvolumemountpointa) pour créer et modifier ces jonctions.</span><span class="sxs-lookup"><span data-stu-id="477b3-107">Call the [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) and [**SetVolumeMountPoint**](/windows/desktop/api/WinBase/nf-winbase-setvolumemountpointa) functions to create and modify these junctions.</span></span> <span data-ttu-id="477b3-108">[**DeleteVolumeMountPoint**](/windows/desktop/api/FileAPI/nf-fileapi-deletevolumemountpointw) supprime une jonction créée par **SetVolumeMountPoint**, et **DefineDosDevice** supprime les jonctions qu’elle crée.</span><span class="sxs-lookup"><span data-stu-id="477b3-108">[**DeleteVolumeMountPoint**](/windows/desktop/api/FileAPI/nf-fileapi-deletevolumemountpointw) deletes a junction created by **SetVolumeMountPoint**, and **DefineDosDevice** deletes junctions it creates.</span></span>

<span data-ttu-id="477b3-109">Une fois qu’un nom de périphérique MS-DOS est défini, il reste visible pour tous les processus.</span><span class="sxs-lookup"><span data-stu-id="477b3-109">After an MS-DOS device name is defined, it remains visible to all processes.</span></span>

-   <span data-ttu-id="477b3-110">Tous les périphériques MS-DOS sont identifiés par Windows via un ID d’authentification.</span><span class="sxs-lookup"><span data-stu-id="477b3-110">All MS-DOS devices are identified by Windows through an authentication ID.</span></span> <span data-ttu-id="477b3-111">Un ID d’authentification est le LUID (identificateur unique local) associé à chaque session de connexion au moment de sa création.</span><span class="sxs-lookup"><span data-stu-id="477b3-111">An authentication ID is the LUID (locally unique identifier) associated with each logon session when created.</span></span>
-   <span data-ttu-id="477b3-112">La visibilité d’un nom de périphérique MS-DOS est classée comme globale ou locale, et est définie comme telle par son inclusion dans les espaces de noms de périphérique MS-DOS global et de périphérique MS-DOS local.</span><span class="sxs-lookup"><span data-stu-id="477b3-112">The visibility of an MS-DOS device name is categorized as either global or local, and is defined as such by its inclusion in the Global MS-DOS Device and Local MS-DOS Device namespaces.</span></span> <span data-ttu-id="477b3-113">Le contenu des périphériques MS-DOS de l’espace de noms global est accessible par tous les utilisateurs, et le contenu des périphériques MS-DOS de l’espace de noms local est accessible uniquement par l’utilisateur dont le jeton d’accès contient le AuthenticationID associé à cet espace de noms d’appareil MS-DOS local.</span><span class="sxs-lookup"><span data-stu-id="477b3-113">The contents of MS-DOS devices in the Global namespace can be accessed by all users, and the contents of MS-DOS devices in the Local namespace can be accessed only by the user whose access token contains the AuthenticationID associated with that Local MS-DOS device namespace.</span></span>

<span data-ttu-id="477b3-114">Plusieurs espaces de noms d’appareils MS-DOS locaux et un seul espace de noms de périphérique MS-DOS global peuvent exister simultanément et sur un ordinateur.</span><span class="sxs-lookup"><span data-stu-id="477b3-114">Multiple Local MS-DOS Device namespaces and only one Global MS-DOS Device namespace may exist at one time and on one machine.</span></span>

<span data-ttu-id="477b3-115">Notez que seuls les processus qui s’exécutent dans le contexte LocalSystem peuvent appeler [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) pour créer un périphérique MS-DOS dans l’espace de noms de périphérique MS-DOS global.</span><span class="sxs-lookup"><span data-stu-id="477b3-115">Note that only processes running in the LocalSystem context can call [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) to create an MS-DOS device in the Global MS-DOS device namespace.</span></span> <span data-ttu-id="477b3-116">En outre, l’espace de noms de l’appareil MS-DOS local correspondant à un AuthenticationID spécifique est supprimé lorsque la dernière référence à ce AuthenticationID est supprimée.</span><span class="sxs-lookup"><span data-stu-id="477b3-116">Also, the Local MS-DOS device namespace corresponding to a specific AuthenticationID is deleted when the last reference to that AuthenticationID is removed.</span></span>

<span data-ttu-id="477b3-117">Lorsque votre code interroge un nom de périphérique MS-DOS existant en appelant [**QueryDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew), il commence par Rechercher l’espace de noms de l’appareil ms-dos local.</span><span class="sxs-lookup"><span data-stu-id="477b3-117">When your code queries an existing MS-DOS device name by calling [**QueryDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew), it first searches the Local MS-DOS Device namespace.</span></span> <span data-ttu-id="477b3-118">Si ce n’est pas le cas, la fonction recherchera ensuite l’espace de noms de l’appareil MS-DOS global.</span><span class="sxs-lookup"><span data-stu-id="477b3-118">If it is not found there, the function will then search the Global MS-DOS Device namespace.</span></span> <span data-ttu-id="477b3-119">Lorsque votre code interroge tous les noms de périphériques MS-DOS existants à l’aide de cette fonction, la liste des noms retournés dépend de s’il s’exécute dans le contexte LocalSystem.</span><span class="sxs-lookup"><span data-stu-id="477b3-119">When your code queries all existing MS-DOS device names through this function, the list of names that are returned is dependent on whether it is running in the LocalSystem context.</span></span> <span data-ttu-id="477b3-120">Dans ce cas, seuls les noms des périphériques MS-DOS inclus dans l’espace de noms du périphérique MS-DOS global sont renvoyés.</span><span class="sxs-lookup"><span data-stu-id="477b3-120">If so, only the MS-DOS device names included in the Global MS-DOS Device namespace will be returned.</span></span> <span data-ttu-id="477b3-121">Si ce n’est pas le cas, une concaténation des noms des appareils dans les espaces de noms des périphériques MS-DOS globaux et locaux est retournée.</span><span class="sxs-lookup"><span data-stu-id="477b3-121">If not, a concatenation of the device names in the Global and Local MS-DOS Device namespaces will be returned.</span></span> <span data-ttu-id="477b3-122">Si un nom de périphérique existe dans les deux espaces de noms, **QueryDosDevice** retourne l’entrée dans l’espace de noms de l’appareil ms-dos local.</span><span class="sxs-lookup"><span data-stu-id="477b3-122">If a device name exists in both namespaces, **QueryDosDevice** will return the entry in the Local MS-DOS Device namespace.</span></span> <span data-ttu-id="477b3-123">Cela s’applique également à la liste de tous les noms de périphériques MS-DOS retournés par [**GetLogicalDrives**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives) et [**GetLogicalDriveStrings**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw).</span><span class="sxs-lookup"><span data-stu-id="477b3-123">This also applies to the list of all MS-DOS device names returned by [**GetLogicalDrives**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives) and [**GetLogicalDriveStrings**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw).</span></span>

<span data-ttu-id="477b3-124">Notez que le scénario suivant peut se produire :</span><span class="sxs-lookup"><span data-stu-id="477b3-124">Note that the following scenario may occur:</span></span>

1.  <span data-ttu-id="477b3-125">L’utilisateur A, qui ne s’exécute pas dans le contexte LocalSystem, crée un nom de périphérique dans l’espace de noms de l’appareil MS-DOS local correspondant, et ce nom d’appareil n’existe pas dans l’espace de noms du périphérique MS-DOS global.</span><span class="sxs-lookup"><span data-stu-id="477b3-125">User A, who is not running within the LocalSystem context, creates a device name in the corresponding Local MS-DOS Device namespace, and that device name does not exist in the Global MS-DOS Device namespace.</span></span>
2.  <span data-ttu-id="477b3-126">L’utilisateur B, qui s’exécute dans le contexte LocalSystem, crée le même nom de périphérique dans l’espace de noms de périphérique MS-DOS global.</span><span class="sxs-lookup"><span data-stu-id="477b3-126">User B, who is running within the LocalSystem context, creates the same device name in the Global MS-DOS Device namespace.</span></span>

<span data-ttu-id="477b3-127">Dans ce scénario, l’utilisateur A n’a pas accès au nom de l’appareil dans l’espace de noms de l’appareil MS-DOS global tant qu’il n’a pas supprimé ou renommé le nom de l’appareil dans son espace de noms de périphérique MS-DOS local.</span><span class="sxs-lookup"><span data-stu-id="477b3-127">In this scenario, User A will not have access to the device name in the Global MS-DOS Device namespace until he or she removes or renames the device name in his or her Local MS-DOS Device namespace.</span></span> <span data-ttu-id="477b3-128">Pour réduire la probabilité d’apparition de ce scénario, les lettres de lecteur MS-DOS doivent être allouées dans l’espace de noms d’appareil MS-DOS global à partir de C : et se terminant par et z :.</span><span class="sxs-lookup"><span data-stu-id="477b3-128">To reduce the likelihood of this scenario occurring, MS-DOS drive letters should be allocated in the Global MS-DOS Device namespace starting with C: and ending with Z:.</span></span> <span data-ttu-id="477b3-129">Cette séquence doit être inversée pour l’allocation des lettres de lecteur MS-DOS dans l’espace de noms de l’appareil MS-DOS local.</span><span class="sxs-lookup"><span data-stu-id="477b3-129">This sequence should be reversed for the allocation of MS-DOS drive letters in the Local MS-DOS Device namespace.</span></span>

<span data-ttu-id="477b3-130">Si vous n’êtes pas en cours d’exécution dans le contexte LocalSystem, [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) ne vous permet pas de définir un nom de périphérique dans l’espace de noms de l’appareil ms-dos local si ce nom de périphérique existe déjà dans vos espaces de noms de périphérique MS-DOS local ou global.</span><span class="sxs-lookup"><span data-stu-id="477b3-130">If you are not running within the LocalSystem context, [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) will not allow you to define a device name in the Local MS-DOS Device namespace if that device name already exists in your Local or Global MS-DOS Device namespaces.</span></span> <span data-ttu-id="477b3-131">Appelez [**QueryDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew) avant d’appeler **DefineDosDevice** pour déterminer si le nom de l’appareil que vous avez l’intention de définir existe dans vos espaces de noms de périphérique MS-DOS.</span><span class="sxs-lookup"><span data-stu-id="477b3-131">Call [**QueryDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew) before calling **DefineDosDevice** to determine whether the device name you intend to define exists in your MS-DOS Device namespaces.</span></span>

## <a name="related-topics"></a><span data-ttu-id="477b3-132">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="477b3-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="477b3-133">Nommage des fichiers, chemins d’accès et espaces de noms</span><span class="sxs-lookup"><span data-stu-id="477b3-133">Naming Files, Paths, and Namespaces</span></span>](naming-a-file.md)
</dt> </dl>

 

 



