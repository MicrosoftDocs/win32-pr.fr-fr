---
description: Codes de contrôle NTFS (TxF) transactionnels.
ms.assetid: b66d322a-a971-4219-bb5b-dc69b10b2581
title: Codes de contrôle TxF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8ef99a111a32aa5d2a7fd5997a855ce08e595ad6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106513206"
---
# <a name="txf-control-codes"></a><span data-ttu-id="7222c-103">Codes de contrôle TxF</span><span class="sxs-lookup"><span data-stu-id="7222c-103">TxF Control Codes</span></span>

<span data-ttu-id="7222c-104">\[Microsoft recommande vivement aux développeurs d’utiliser d’autres moyens pour répondre aux besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="7222c-104">\[Microsoft strongly recommends developers utilize alternative means to achieve your application s needs.</span></span> <span data-ttu-id="7222c-105">De nombreux scénarios pour lesquels TxF a été développé peuvent être obtenus à l’aide de techniques plus simples et plus facilement disponibles.</span><span class="sxs-lookup"><span data-stu-id="7222c-105">Many scenarios that TxF was developed for can be achieved through simpler and more readily available techniques.</span></span> <span data-ttu-id="7222c-106">En outre, TxF peut ne pas être disponible dans les versions futures de Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="7222c-106">Furthermore, TxF may not be available in future versions of Microsoft Windows.</span></span> <span data-ttu-id="7222c-107">Pour plus d’informations et pour obtenir des alternatives à TxF, consultez [alternatives à l’utilisation de NTFS transactionnel](deprecation-of-txf.md).\]</span><span class="sxs-lookup"><span data-stu-id="7222c-107">For more information, and alternatives to TxF, please see [Alternatives to using Transactional NTFS](deprecation-of-txf.md).\]</span></span>

<span data-ttu-id="7222c-108">NTFS transactionnel (TxF) fournit les codes de contrôle suivants.</span><span class="sxs-lookup"><span data-stu-id="7222c-108">Transactional NTFS (TxF) provides the following control codes.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="7222c-109">Dans cette section</span><span class="sxs-lookup"><span data-stu-id="7222c-109">In this section</span></span>



| <span data-ttu-id="7222c-110">Code de contrôle</span><span class="sxs-lookup"><span data-stu-id="7222c-110">Control Code</span></span>                                                                                                 | <span data-ttu-id="7222c-111">Description</span><span class="sxs-lookup"><span data-stu-id="7222c-111">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                             |
|--------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="7222c-112">**FSCTL \_ TXFS \_ Create \_ MINIVERSION**</span><span class="sxs-lookup"><span data-stu-id="7222c-112">**FSCTL\_TXFS\_CREATE\_MINIVERSION**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_create_miniversion)<br/>                         | <span data-ttu-id="7222c-113">Crée un nouveau [miniversion](glossary.md) pour le fichier spécifié.</span><span class="sxs-lookup"><span data-stu-id="7222c-113">Creates a new [miniversion](glossary.md) for the specified file.</span></span> <br/> <span data-ttu-id="7222c-114">Miniversions vous permet de faire référence à un instantané du fichier au cours d’une transaction.</span><span class="sxs-lookup"><span data-stu-id="7222c-114">Miniversions allow you to refer to a snapshot of the file during a transaction.</span></span> <span data-ttu-id="7222c-115">Les miniversions sont ignorés lorsqu’une transaction est validée ou restaurée.</span><span class="sxs-lookup"><span data-stu-id="7222c-115">Miniversions are discarded when a transaction is committed or rolled back.</span></span><br/>                                                                                                                                                                      |
| [<span data-ttu-id="7222c-116">**FSCTL \_ TXFS \_ obtient les \_ informations de métadonnées \_**</span><span class="sxs-lookup"><span data-stu-id="7222c-116">**FSCTL\_TXFS\_GET\_METADATA\_INFO**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_get_metadata_info)<br/>                          | <span data-ttu-id="7222c-117">Récupère les métadonnées NTFS (TxF) transactionnelles pour un fichier et le **GUID** de la transaction qui a verrouillé le fichier spécifié (si le fichier est verrouillé).</span><span class="sxs-lookup"><span data-stu-id="7222c-117">Retrieves Transacted NTFS (TxF) metadata for a file and the **GUID** of the transaction that has locked the specified file (if the file is locked).</span></span> <br/>                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="7222c-118">**FSCTL \_ TXFS \_ obtient la \_ \_ version transactionnelle**</span><span class="sxs-lookup"><span data-stu-id="7222c-118">**FSCTL\_TXFS\_GET\_TRANSACTED\_VERSION**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_get_transacted_version)<br/>                | <span data-ttu-id="7222c-119">Retourne une structure de [**\_ \_ \_ version transactionnelle TXFS**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_get_transacted_version) .</span><span class="sxs-lookup"><span data-stu-id="7222c-119">Returns a [**TXFS\_GET\_TRANSACTED\_VERSION**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_get_transacted_version) structure.</span></span> <span data-ttu-id="7222c-120">La structure identifie la version la plus récemment validée du fichier spécifié, le numéro de version du descripteur.</span><span class="sxs-lookup"><span data-stu-id="7222c-120">The structure identifies the most recently committed version of the specified file, the version number of the handle.</span></span> <br/>                                                                                                                                                                                                            |
| [<span data-ttu-id="7222c-121">**FSCTL \_ TXFS \_ Lister les \_ \_ fichiers verrouillés par transaction \_**</span><span class="sxs-lookup"><span data-stu-id="7222c-121">**FSCTL\_TXFS\_LIST\_TRANSACTION\_LOCKED\_FILES**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_list_transaction_locked_files)<br/> | <span data-ttu-id="7222c-122">Retourne la liste de tous les fichiers actuellement verrouillés par la transaction spécifiée.</span><span class="sxs-lookup"><span data-stu-id="7222c-122">Returns a list of all files currently locked by the specified transaction.</span></span> <span data-ttu-id="7222c-123">Si la valeur de retour est **erreur \_ plus de \_ données**, elle retourne la longueur de la mémoire tampon requise pour contenir la liste complète des fichiers au moment de cet appel.</span><span class="sxs-lookup"><span data-stu-id="7222c-123">If the return value is **ERROR\_MORE\_DATA**, it returns the length of the buffer required to hold the complete list of files at the time of this call.</span></span><br/>                                                                                                                                                                                           |
| [<span data-ttu-id="7222c-124">**FSCTL \_ TXFS \_ liste des \_ transactions**</span><span class="sxs-lookup"><span data-stu-id="7222c-124">**FSCTL\_TXFS\_LIST\_TRANSACTIONS**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_list_transactions)<br/>                           | <span data-ttu-id="7222c-125">Retourne une liste de toutes les transactions actuellement impliquées dans le gestionnaire de ressources spécifié.</span><span class="sxs-lookup"><span data-stu-id="7222c-125">Returns a list of all the transactions currently involved in the specified resource manager.</span></span><br/>                                                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="7222c-126">**FSCTL \_ TXFS \_ modifier \_ RM**</span><span class="sxs-lookup"><span data-stu-id="7222c-126">**FSCTL\_TXFS\_MODIFY\_RM**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_modify_rm)<br/>                                           | <span data-ttu-id="7222c-127">Définit le mode de journalisation et les informations de paramètre de journal pour un gestionnaire de ressources secondaire (RM).</span><span class="sxs-lookup"><span data-stu-id="7222c-127">Sets the log mode and log parameter information for a secondary resource manager (RM).</span></span><br/>                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="7222c-128">**\_ \_ \_ informations sur les requêtes RM FSCTL TXFS \_**</span><span class="sxs-lookup"><span data-stu-id="7222c-128">**FSCTL\_TXFS\_QUERY\_RM\_INFORMATION**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_query_rm_information)<br/>                    | <span data-ttu-id="7222c-129">Récupère des informations pour un gestionnaire de ressources (RM).</span><span class="sxs-lookup"><span data-stu-id="7222c-129">Retrieves information for a resource manager (RM).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="7222c-130">**FSCTL \_ TXFS \_ lire \_ les \_ informations de sauvegarde**</span><span class="sxs-lookup"><span data-stu-id="7222c-130">**FSCTL\_TXFS\_READ\_BACKUP\_INFORMATION**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_read_backup_information)<br/>              | <span data-ttu-id="7222c-131">Retourne des informations spécifiques NTFS (TxF) relatives au fichier spécifié.</span><span class="sxs-lookup"><span data-stu-id="7222c-131">Returns Transactional NTFS (TxF) specific information for the specified file.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="7222c-132">**\_ \_ informations sur le point d’enregistrement FSCTL TXFS \_**</span><span class="sxs-lookup"><span data-stu-id="7222c-132">**FSCTL\_TXFS\_SAVEPOINT\_INFORMATION**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_savepoint_information)<br/>                   | <span data-ttu-id="7222c-133">Le [**FSCTL \_ TXFS \_ point \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_savepoint_information) de contrôle d’informations de point d’enregistrement de contrôle contrôle le paramètre, l’effacement et la restauration jusqu’au point de sauvegarde spécifié.</span><span class="sxs-lookup"><span data-stu-id="7222c-133">The [**FSCTL\_TXFS\_SAVEPOINT\_INFORMATION**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_savepoint_information) control code controls setting, clearing, and rolling back to the specified savepoint.</span></span><br/> <span data-ttu-id="7222c-134">Pour effectuer cette opération, appelez la fonction [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) avec les paramètres suivants.</span><span class="sxs-lookup"><span data-stu-id="7222c-134">To perform this operation, call the [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) function with the following parameters.</span></span><br/>                                                                                                                 |
| [<span data-ttu-id="7222c-135">**\_transaction FSCTL \_ TXFS \_ active**</span><span class="sxs-lookup"><span data-stu-id="7222c-135">**FSCTL\_TXFS\_TRANSACTION\_ACTIVE**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_transaction_active)<br/>                         | <span data-ttu-id="7222c-136">Retourne une valeur booléenne qui indique si des transactions sont actives sur le volume associé lors de la prise de l’instantané.</span><span class="sxs-lookup"><span data-stu-id="7222c-136">Returns a Boolean value that indicates if there were any transactions active on the associated volume when the snapshot was taken.</span></span> <span data-ttu-id="7222c-137">Cet appel est valide uniquement pour les volumes d’instantanés en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="7222c-137">This call is only valid for read-only snapshot volumes.</span></span><br/>                                                                                                                                                                                                                                   |
| [<span data-ttu-id="7222c-138">**FSCTL \_ TXFS \_ écrire \_ des \_ informations de sauvegarde**</span><span class="sxs-lookup"><span data-stu-id="7222c-138">**FSCTL\_TXFS\_WRITE\_BACKUP\_INFORMATION**</span></span>](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_write_backup_information)<br/>            | <span data-ttu-id="7222c-139">Écrit des informations spécifiques NTFS (TxF) transactionnelles dans un fichier spécifié.</span><span class="sxs-lookup"><span data-stu-id="7222c-139">Writes Transactional NTFS (TxF) specific information to a specified file.</span></span> <span data-ttu-id="7222c-140">Le membre de la **mémoire tampon** de la structure d’informations de sauvegarde d’écriture de TXFS doit être le membre de la **mémoire tampon** de la structure d’informations de sauvegarde de lecture TXFS retournée par [**FSCTL \_ TXFS \_ lire \_ \_**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_read_backup_information) [**\_ \_ \_ \_ les**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_read_backup_information_out) informations de sauvegarde. [**\_ \_ \_**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_write_backup_information)</span><span class="sxs-lookup"><span data-stu-id="7222c-140">The **Buffer** member of the [**TXFS\_WRITE\_BACKUP\_INFORMATION**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_write_backup_information) structure must be the **Buffer** member of the [**TXFS\_READ\_BACKUP\_INFORMATION\_OUT**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_read_backup_information_out) structure returned by [**FSCTL\_TXFS\_READ\_BACKUP\_INFORMATION**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_read_backup_information).</span></span><br/> |



 

 

