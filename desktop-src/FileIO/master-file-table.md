---
description: Toutes les informations relatives à un fichier, y compris sa taille, son horodatage, ses autorisations et son contenu, sont stockées dans des entrées de table de fichiers maîtres (MFT) ou dans un espace en dehors de la MFT qui est décrit par les entrées MFT.
ms.assetid: e0933846-278e-4bc8-8982-c5819c252dad
title: Table de fichiers maîtres (systèmes de fichiers locaux)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 260740c03e7b7e4ebe9c7e8ec90035431f6be649
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106521173"
---
# <a name="master-file-table-local-file-systems"></a><span data-ttu-id="e7fdb-103">Table de fichiers maîtres (systèmes de fichiers locaux)</span><span class="sxs-lookup"><span data-stu-id="e7fdb-103">Master File Table (Local File Systems)</span></span>

<span data-ttu-id="e7fdb-104">Le système de fichiers NTFS contient un fichier appelé *table de fichiers maîtres*(MFT).</span><span class="sxs-lookup"><span data-stu-id="e7fdb-104">The NTFS file system contains a file called the *master file table*, or MFT.</span></span> <span data-ttu-id="e7fdb-105">Il existe au moins une entrée dans la table MFT pour chaque fichier sur un volume de système de fichiers NTFS, y compris la MFT proprement dite.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-105">There is at least one entry in the MFT for every file on an NTFS file system volume, including the MFT itself.</span></span> <span data-ttu-id="e7fdb-106">Toutes les informations relatives à un fichier, y compris sa taille, son horodatage, ses autorisations et son contenu, sont stockées dans des entrées MFT ou dans un espace en dehors de la MFT qui est décrit par les entrées MFT.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-106">All information about a file, including its size, time and date stamps, permissions, and data content, is stored either in MFT entries, or in space outside the MFT that is described by MFT entries.</span></span>

<span data-ttu-id="e7fdb-107">À mesure que des fichiers sont ajoutés à un volume de système de fichiers NTFS, davantage d’entrées sont ajoutées à la MFT et la taille de la MFT augmente.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-107">As files are added to an NTFS file system volume, more entries are added to the MFT and the MFT increases in size.</span></span> <span data-ttu-id="e7fdb-108">Lorsque des fichiers sont supprimés d’un volume de système de fichiers NTFS, leurs entrées MFT sont marquées comme étant libres et peuvent être réutilisées.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-108">When files are deleted from an NTFS file system volume, their MFT entries are marked as free and may be reused.</span></span> <span data-ttu-id="e7fdb-109">Toutefois, l’espace disque alloué à ces entrées n’est pas réalloué et la taille de la MFT ne diminue pas.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-109">However, disk space that has been allocated for these entries is not reallocated, and the size of the MFT does not decrease.</span></span>

<span data-ttu-id="e7fdb-110">Le système de fichiers NTFS réserve de l’espace pour la MFT afin que la MFT reste la plus contiguë possible au fur et à mesure qu’elle se développe.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-110">The NTFS file system reserves space for the MFT to keep the MFT as contiguous as possible as it grows.</span></span> <span data-ttu-id="e7fdb-111">L’espace réservé par le système de fichiers NTFS pour la MFT dans chaque volume est appelé zone MFT.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-111">The space reserved by the NTFS file system for the MFT in each volume is called the MFT zone.</span></span> <span data-ttu-id="e7fdb-112">L’espace pour les fichiers et les répertoires est également alloué à partir de cet espace, mais uniquement après que tout l’espace du volume en dehors de la zone MFT a été alloué.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-112">Space for file and directories are also allocated from this space, but only after all of the volume space outside of the MFT zone has been allocated.</span></span>

<span data-ttu-id="e7fdb-113">Selon la taille moyenne des fichiers et d’autres variables, la zone MFT réservée ou l’espace non réservé sur le disque peuvent être alloués en premier au fur et à mesure que le disque se remplit.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-113">Depending on the average file size and other variables, either the reserved MFT zone or the unreserved space on the disk may be allocated first as the disk fills to capacity.</span></span> <span data-ttu-id="e7fdb-114">Les volumes avec un petit nombre de fichiers relativement volumineux allouent l’espace non réservé en premier, tandis que les volumes avec un grand nombre de fichiers relativement petits allouent la zone MFT en premier.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-114">Volumes with a small number of relatively large files will allocate the unreserved space first, while volumes with a large number of relatively small files allocate the MFT zone first.</span></span> <span data-ttu-id="e7fdb-115">Dans les deux cas, la fragmentation de la table MFT commence à avoir lieu lorsqu’une région ou l’autre est entièrement allouée.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-115">In either case, fragmentation of the MFT starts to take place when one region or the other becomes fully allocated.</span></span> <span data-ttu-id="e7fdb-116">Si l’espace non réservé est entièrement alloué, l’espace des fichiers et répertoires utilisateur est alloué à partir de la zone MFT.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-116">If the unreserved space is completely allocated, space for user files and directories will be allocated from the MFT zone.</span></span> <span data-ttu-id="e7fdb-117">Si la zone MFT est entièrement allouée, l’espace des nouvelles entrées MFT sera alloué à partir de l’espace non réservé.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-117">If the MFT zone is completely allocated, space for new MFT entries will be allocated from the unreserved space.</span></span>

<span data-ttu-id="e7fdb-118">La table MFT elle-même peut être défragmentée.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-118">The MFT itself can be defragmented.</span></span> <span data-ttu-id="e7fdb-119">Pour réduire le risque que la zone MFT devienne entièrement allouée avant la fin du processus de défragmentation, laissez autant d’espace au début de la zone MFT que possible avant de défragmenter le volume.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-119">To reduce the chance of the MFT zone becoming fully allocated before the defragmentation process is complete, leave as much space at the beginning of the MFT zone as possible before defragmenting the volume.</span></span> <span data-ttu-id="e7fdb-120">Si la zone MFT est entièrement allouée avant la fin de la défragmentation, il doit y avoir un espace non alloué en dehors de la zone MFT.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-120">If the MFT zone becomes fully allocated before defragmentation has completed, there must be unallocated space outside of the MFT zone.</span></span>

<span data-ttu-id="e7fdb-121">La zone MFT par défaut est calculée et réservée par le système lorsqu’elle monte le volume, et est basée sur la taille du volume.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-121">The default MFT zone is calculated and reserved by the system when it mounts the volume, and is based on volume size.</span></span> <span data-ttu-id="e7fdb-122">Vous pouvez augmenter la zone MFT au moyen de l’entrée de Registre détaillée dans [l’Article 174619 de la base de connaissances Microsoft](https://support.microsoft.com/kb/174619), mais vous ne pouvez pas réduire la taille de la zone MFT par défaut par rapport à ce qui est calculé.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-122">You can increase the MFT zone by means of the registry entry detailed in [Microsoft Knowledge Base Article 174619](https://support.microsoft.com/kb/174619), but you cannot make the default MFT zone smaller than what is calculated.</span></span> <span data-ttu-id="e7fdb-123">L’amélioration de la zone MFT ne diminue pas l’espace disque que les utilisateurs peuvent utiliser pour les fichiers de données.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-123">Increasing the MFT zone does not decrease the disk space that users can use for data files.</span></span>

<span data-ttu-id="e7fdb-124">Pour déterminer la taille actuelle de la MFT, analysez le lecteur du système de fichiers NTFS à l’aide du défragmenteur de disque, puis cliquez sur le bouton **afficher le rapport** .</span><span class="sxs-lookup"><span data-stu-id="e7fdb-124">To determine the current size of the MFT, analyze the NTFS file system drive with Disk Defragmenter, then click the **View Report** button.</span></span> <span data-ttu-id="e7fdb-125">Les statistiques de lecteur s’affichent, y compris la taille MFT actuelle et le nombre de fragments.</span><span class="sxs-lookup"><span data-stu-id="e7fdb-125">The drive statistics will be displayed, including the current MFT size, and number of fragments.</span></span> <span data-ttu-id="e7fdb-126">Vous pouvez également obtenir la taille de la MFT en utilisant le code de contrôle de [**\_ \_ \_ \_ données du volume NTFS FSCTL**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data) .</span><span class="sxs-lookup"><span data-stu-id="e7fdb-126">You can also obtain the size of the MFT by using the [**FSCTL\_GET\_NTFS\_VOLUME\_DATA**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data) control code.</span></span>

 

 
