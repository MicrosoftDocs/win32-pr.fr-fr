---
title: Création de requêtes efficaces
description: Le tableau suivant identifie les concepts importants à prendre en compte lors de la création d’une requête efficace.
ms.assetid: 1eb92d74-0a17-43f9-b5bf-eed731a52551
ms.tgt_platform: multiple
keywords:
- Active Directory exemples Active Directory, création de requêtes efficaces
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8902fd3d512b940890ebdfd4c2640786c88c82a
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/17/2020
ms.locfileid: "103724580"
---
# <a name="creating-efficient-queries"></a><span data-ttu-id="b6e48-104">Création de requêtes efficaces</span><span class="sxs-lookup"><span data-stu-id="b6e48-104">Creating Efficient Queries</span></span>

<span data-ttu-id="b6e48-105">Le tableau suivant identifie les concepts importants à prendre en compte lors de la création d’une requête efficace.</span><span class="sxs-lookup"><span data-stu-id="b6e48-105">The following table identifies important concepts to consider when creating an efficient query.</span></span>



| <span data-ttu-id="b6e48-106">Domaine</span><span class="sxs-lookup"><span data-stu-id="b6e48-106">Area</span></span>                  | <span data-ttu-id="b6e48-107">Description</span><span class="sxs-lookup"><span data-stu-id="b6e48-107">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b6e48-108">Indexation</span><span class="sxs-lookup"><span data-stu-id="b6e48-108">Indexing</span></span>              | <span data-ttu-id="b6e48-109">Assurez-vous que le filtre de requête contient au moins un attribut indexé.</span><span class="sxs-lookup"><span data-stu-id="b6e48-109">Ensure that the query filter contains at least one indexed attribute.</span></span><br/> <span data-ttu-id="b6e48-110">Pour plus d’informations, consultez [attributs indexés](indexed-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="b6e48-110">For more information, see [Indexed Attributes](indexed-attributes.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="b6e48-111">Classe et catégorie</span><span class="sxs-lookup"><span data-stu-id="b6e48-111">Class vs. Category</span></span>    | <span data-ttu-id="b6e48-112">L’instruction « objectClass = XYZ » fait référence aux objets d’annuaire dans lesquels « XYZ » représente une classe dans la hiérarchie de classes d’objets, tandis que « objectCategory = XYZ » fait référence aux objets d’annuaire dans lesquels « XYZ » identifie une classe spécifique dans la hiérarchie de classes d’objets.</span><span class="sxs-lookup"><span data-stu-id="b6e48-112">The statement "objectClass=xyz" refers to directory objects in which "xyz" represents any class in the object class hierarchy, whereas "objectCategory=xyz", refers to those directory objects in which "xyz" identifies a specific class in the object class hierarchy.</span></span> <span data-ttu-id="b6e48-113">La propriété [**objectClass**](/windows/desktop/ADSchema/a-objectclass) peut accepter plusieurs valeurs, alors que [**objectCategory**](/windows/desktop/ADSchema/a-objectcategory) prend une seule valeur et est, par conséquent, mieux adapté à la correspondance de type d’objets dans une recherche de répertoire.</span><span class="sxs-lookup"><span data-stu-id="b6e48-113">The [**objectClass**](/windows/desktop/ADSchema/a-objectclass) property can take multiple values, whereas [**objectCategory**](/windows/desktop/ADSchema/a-objectcategory) takes a single value and is, thus, better suited for type matching of objects in a directory search.</span></span><br/>                                                                                                                                                                                          |
| <span data-ttu-id="b6e48-114">Recherche de texte</span><span class="sxs-lookup"><span data-stu-id="b6e48-114">Text searching</span></span>        | <span data-ttu-id="b6e48-115">Évitez de rechercher du texte au milieu et à la fin d’une chaîne.</span><span class="sxs-lookup"><span data-stu-id="b6e48-115">Avoid searching for text in the middle and on the end of a string.</span></span><br/> <span data-ttu-id="b6e48-116">Par exemple, « CN = \* Hill \* » ou « CN = \* larouse ».</span><span class="sxs-lookup"><span data-stu-id="b6e48-116">For example, "cn=\*hille\*" or "cn=\*larouse".</span></span><br/> <span data-ttu-id="b6e48-117">L’utilisation de critères de correspondance plus spécifiques tend à augmenter les performances de recherche.</span><span class="sxs-lookup"><span data-stu-id="b6e48-117">Using more specific matching criteria tends to increase search performance.</span></span> <span data-ttu-id="b6e48-118">Cela est dû au fait que Active Directory Domain Services évalue tous les prédicats, identifie les index, puis choisit un index le plus susceptible de produire le plus petit ensemble de valeurs retournées.</span><span class="sxs-lookup"><span data-stu-id="b6e48-118">This is because Active Directory Domain Services will evaluate all predicates, identifies the indices, and then chooses one index most likely to yield the smallest set of returned values.</span></span> <span data-ttu-id="b6e48-119">Cette technique ne fonctionne pas correctement avec les recherches de type mi et de chaîne de fin.</span><span class="sxs-lookup"><span data-stu-id="b6e48-119">This technique does not work well with mid- and end-string searches.</span></span> <span data-ttu-id="b6e48-120">Si vous n’avez pas d’autre option que l’utilisation de ces recherches, vous pouvez définir un index de tuple pour l’attribut.</span><span class="sxs-lookup"><span data-stu-id="b6e48-120">If you have no other option other than using these searches, you can define a tuple index for the attribute.</span></span><br/> <span data-ttu-id="b6e48-121">Pour plus d’informations sur les index de tuple, consultez fonctionnement de [l’indexation des tuples](how-tuple-indexing-works.md).</span><span class="sxs-lookup"><span data-stu-id="b6e48-121">For more details about tuple indexes see [How Tuple Indexing Works](how-tuple-indexing-works.md).</span></span><br/> |
| <span data-ttu-id="b6e48-122">Recherche de la sous-arborescence</span><span class="sxs-lookup"><span data-stu-id="b6e48-122">Subtree searching</span></span>     | <span data-ttu-id="b6e48-123">Utilisez le catalogue global si vous envisagez de rechercher des sous-arborescences.</span><span class="sxs-lookup"><span data-stu-id="b6e48-123">Use the global catalog if you are considering subtree searches.</span></span> <span data-ttu-id="b6e48-124">Le repérage des références nécessite des ressources étendues.</span><span class="sxs-lookup"><span data-stu-id="b6e48-124">Chasing referrals requires extensive resources.</span></span><br/> <span data-ttu-id="b6e48-125">Pour plus d’informations, consultez [spécification d’autres options de recherche](specifying-other-search-options.md).</span><span class="sxs-lookup"><span data-stu-id="b6e48-125">For more information, see [Specifying Other Search Options](specifying-other-search-options.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="b6e48-126">Utilisation de la pagination</span><span class="sxs-lookup"><span data-stu-id="b6e48-126">Use of paging</span></span>         | <span data-ttu-id="b6e48-127">Supposons qu’une recherche de sous-arborescence retourne un jeu de résultats volumineux.</span><span class="sxs-lookup"><span data-stu-id="b6e48-127">Assume that a subtree search will return a large result set.</span></span> <span data-ttu-id="b6e48-128">Utilisez la pagination lorsque vous effectuez des recherches sous-arborescences.</span><span class="sxs-lookup"><span data-stu-id="b6e48-128">Use paging when performing subtree searches.</span></span> <span data-ttu-id="b6e48-129">Le serveur diffuse un jeu de résultats volumineux dans des segments, ce qui réduit les ressources mémoire côté serveur.</span><span class="sxs-lookup"><span data-stu-id="b6e48-129">The server will stream a large result set in chunks reducing the server side memory resources.</span></span> <span data-ttu-id="b6e48-130">Cela réduit l’utilisation du réseau et réduit le besoin d’envoyer de gros segments de données sur un réseau.</span><span class="sxs-lookup"><span data-stu-id="b6e48-130">This minimizes network usage and reduces the need for sending large chunks of data over a network.</span></span><br/> <span data-ttu-id="b6e48-131">Pour plus d’informations, consultez [spécification d’autres options de recherche](specifying-other-search-options.md).</span><span class="sxs-lookup"><span data-stu-id="b6e48-131">For more information, see [Specifying Other Search Options](specifying-other-search-options.md).</span></span><br/>                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="b6e48-132">Combiner des recherches</span><span class="sxs-lookup"><span data-stu-id="b6e48-132">Combine searches</span></span>      | <span data-ttu-id="b6e48-133">Utilisez plusieurs attributs pour une recherche.</span><span class="sxs-lookup"><span data-stu-id="b6e48-133">Use multiple attributes for a search.</span></span> <span data-ttu-id="b6e48-134">Une recherche d’un objet qui lit deux attributs est plus efficace que deux recherches du même objet, chacune retournant un attribut.</span><span class="sxs-lookup"><span data-stu-id="b6e48-134">One search of an object that reads two attributes is more efficient than two searches of the same object, each returning one attribute.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="b6e48-135">Utilisation efficace de bind</span><span class="sxs-lookup"><span data-stu-id="b6e48-135">Efficient use of bind</span></span> | <span data-ttu-id="b6e48-136">Effectuer une liaison à un objet une fois et conserver le handle de liaison pour le reste de la session.</span><span class="sxs-lookup"><span data-stu-id="b6e48-136">Bind to an object one time and hold the binding handle for the rest of the session.</span></span> <span data-ttu-id="b6e48-137">Ne pas lier et annuler la liaison pour chaque appel.</span><span class="sxs-lookup"><span data-stu-id="b6e48-137">Do not bind and unbind for each call.</span></span> <span data-ttu-id="b6e48-138">Si vous utilisez ADO ou OLE DB, ne créez pas de nombreux objets de connexion.</span><span class="sxs-lookup"><span data-stu-id="b6e48-138">If you use ADO or OLE DB, do not create many connection objects.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="b6e48-139">Mise en cache RoodDSE</span><span class="sxs-lookup"><span data-stu-id="b6e48-139">RoodDSE caching</span></span>       | <span data-ttu-id="b6e48-140">Lisez le rootDSE une fois et rappelez son contenu pour le reste de votre session.</span><span class="sxs-lookup"><span data-stu-id="b6e48-140">Read the rootDSE one time and remember its contents for the rest of your session.</span></span><br/> <span data-ttu-id="b6e48-141">Pour plus d’informations, consultez [liaison sans serveur et RootDSE](serverless-binding-and-rootdse.md).</span><span class="sxs-lookup"><span data-stu-id="b6e48-141">For more information, see [Serverless Binding and RootDSE](serverless-binding-and-rootdse.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="b6e48-142">Conservation de la référence</span><span class="sxs-lookup"><span data-stu-id="b6e48-142">Reference persistance</span></span> | <span data-ttu-id="b6e48-143">Conservez les références aux objets en tant que GUID, pas les noms distinctifs, afin d’être renommé et supprimé en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="b6e48-143">Persist references to objects as GUIDs, not distinguished names, in order to be rename and delete safe.</span></span><br/> <span data-ttu-id="b6e48-144">Pour plus d’informations, consultez [utilisation d’objectGUID pour la liaison à un objet](using-objectguid-to-bind-to-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="b6e48-144">For more information, see [Using objectGUID to Bind to an Object](using-objectguid-to-bind-to-an-object.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |



 

 

