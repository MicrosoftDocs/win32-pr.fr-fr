---
title: Fonctions de gestion de la réplication et du contrôleur de domaine
description: Cette rubrique contient la liste des fonctions utilisées pour le contrôleur de domaine et la gestion de la réplication.
ms.assetid: a92783c2-ffb8-473e-8484-1c05ca5453ff
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 00660658874bad4e34a8f6917e08289007cec4d7
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/17/2020
ms.locfileid: "104031027"
---
# <a name="domain-controller-and-replication-management-functions"></a><span data-ttu-id="0e490-103">Fonctions de gestion de la réplication et du contrôleur de domaine</span><span class="sxs-lookup"><span data-stu-id="0e490-103">Domain Controller and Replication Management Functions</span></span>

<span data-ttu-id="0e490-104">Le contrôleur de domaine (DC) et les fonctions de gestion de la réplication fournissent des outils pour rechercher des données sur un contrôleur de domaine, convertir les noms d’objets réseau entre différents formats, manipuler des noms de principal du service (SPN) et des agents de service d’annuaire (DSA) et gérer la réplication de serveurs.</span><span class="sxs-lookup"><span data-stu-id="0e490-104">The domain controller (DC) and replication management functions provide tools for finding data about a DC, converting the names of network objects between different formats, manipulating service principal names (SPNs) and directory service agents (DSAs), and managing replication of servers.</span></span> <span data-ttu-id="0e490-105">Les fonctions suivantes permettent aux développeurs de travailler avec les contrôleurs de domaine, la réplication et le service d’annuaire :</span><span class="sxs-lookup"><span data-stu-id="0e490-105">The following functions enable developers to work with domain controllers, replication, and the directory service:</span></span>

-   [<span data-ttu-id="0e490-106">**DsAddSidHistory**</span><span class="sxs-lookup"><span data-stu-id="0e490-106">**DsAddSidHistory**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsaddsidhistorya)
-   [<span data-ttu-id="0e490-107">**DsBind**</span><span class="sxs-lookup"><span data-stu-id="0e490-107">**DsBind**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda)
-   [<span data-ttu-id="0e490-108">**DsBindingSetTimeout**</span><span class="sxs-lookup"><span data-stu-id="0e490-108">**DsBindingSetTimeout**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindingsettimeout)
-   [<span data-ttu-id="0e490-109">**DsBindToISTG**</span><span class="sxs-lookup"><span data-stu-id="0e490-109">**DsBindToISTG**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindtoistga)
-   [<span data-ttu-id="0e490-110">**DsBindWithCred**</span><span class="sxs-lookup"><span data-stu-id="0e490-110">**DsBindWithCred**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda)
-   [<span data-ttu-id="0e490-111">**DsBindWithSpn**</span><span class="sxs-lookup"><span data-stu-id="0e490-111">**DsBindWithSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithspna)
-   [<span data-ttu-id="0e490-112">**DsBindWithSpnEx**</span><span class="sxs-lookup"><span data-stu-id="0e490-112">**DsBindWithSpnEx**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithspnexa)
-   [<span data-ttu-id="0e490-113">**DsClientMakeSpnForTargetServer**</span><span class="sxs-lookup"><span data-stu-id="0e490-113">**DsClientMakeSpnForTargetServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsclientmakespnfortargetservera)
-   [<span data-ttu-id="0e490-114">**DsCrackNames**</span><span class="sxs-lookup"><span data-stu-id="0e490-114">**DsCrackNames**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dscracknamesa)
-   [<span data-ttu-id="0e490-115">**DsCrackSpn**</span><span class="sxs-lookup"><span data-stu-id="0e490-115">**DsCrackSpn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dscrackspna)
-   [<span data-ttu-id="0e490-116">**DsCrackUnquotedMangledRdn**</span><span class="sxs-lookup"><span data-stu-id="0e490-116">**DsCrackUnquotedMangledRdn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dscrackunquotedmangledrdna)
-   [<span data-ttu-id="0e490-117">**DsFreeDomainControllerInfo**</span><span class="sxs-lookup"><span data-stu-id="0e490-117">**DsFreeDomainControllerInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreedomaincontrollerinfoa)
-   [<span data-ttu-id="0e490-118">**DsFreeNameResult**</span><span class="sxs-lookup"><span data-stu-id="0e490-118">**DsFreeNameResult**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreenameresulta)
-   [<span data-ttu-id="0e490-119">**DsFreePasswordCredentials**</span><span class="sxs-lookup"><span data-stu-id="0e490-119">**DsFreePasswordCredentials**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreepasswordcredentials)
-   [<span data-ttu-id="0e490-120">**DsFreeSchemaGuidMap**</span><span class="sxs-lookup"><span data-stu-id="0e490-120">**DsFreeSchemaGuidMap**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreeschemaguidmapa)
-   [<span data-ttu-id="0e490-121">**DsFreeSpnArray**</span><span class="sxs-lookup"><span data-stu-id="0e490-121">**DsFreeSpnArray**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreespnarraya)
-   [<span data-ttu-id="0e490-122">**DsGetDomainControllerInfo**</span><span class="sxs-lookup"><span data-stu-id="0e490-122">**DsGetDomainControllerInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsgetdomaincontrollerinfoa)
-   [<span data-ttu-id="0e490-123">**DsGetRdnW**</span><span class="sxs-lookup"><span data-stu-id="0e490-123">**DsGetRdnW**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsgetrdnw)
-   [<span data-ttu-id="0e490-124">**DsGetSpn**</span><span class="sxs-lookup"><span data-stu-id="0e490-124">**DsGetSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsgetspna)
-   [<span data-ttu-id="0e490-125">**DsInheritSecurityIdentity**</span><span class="sxs-lookup"><span data-stu-id="0e490-125">**DsInheritSecurityIdentity**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsinheritsecurityidentitya)
-   [<span data-ttu-id="0e490-126">**DsIsMangledDn**</span><span class="sxs-lookup"><span data-stu-id="0e490-126">**DsIsMangledDn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsismangleddna)
-   [<span data-ttu-id="0e490-127">**DsIsMangledRdnValue**</span><span class="sxs-lookup"><span data-stu-id="0e490-127">**DsIsMangledRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsismangledrdnvaluea)
-   [<span data-ttu-id="0e490-128">**DsListDomainsInSite**</span><span class="sxs-lookup"><span data-stu-id="0e490-128">**DsListDomainsInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistdomainsinsitea)
-   [<span data-ttu-id="0e490-129">**DsListInfoForServer**</span><span class="sxs-lookup"><span data-stu-id="0e490-129">**DsListInfoForServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistinfoforservera)
-   [<span data-ttu-id="0e490-130">**DsListRoles**</span><span class="sxs-lookup"><span data-stu-id="0e490-130">**DsListRoles**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistrolesa)
-   [<span data-ttu-id="0e490-131">**DsListServersForDomainInSite**</span><span class="sxs-lookup"><span data-stu-id="0e490-131">**DsListServersForDomainInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistserversfordomaininsitea)
-   [<span data-ttu-id="0e490-132">**DsListServersInSite**</span><span class="sxs-lookup"><span data-stu-id="0e490-132">**DsListServersInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistserversinsitea)
-   [<span data-ttu-id="0e490-133">**DsListSites**</span><span class="sxs-lookup"><span data-stu-id="0e490-133">**DsListSites**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistsitesa)
-   [<span data-ttu-id="0e490-134">**DsMakePasswordCredentials**</span><span class="sxs-lookup"><span data-stu-id="0e490-134">**DsMakePasswordCredentials**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsmakepasswordcredentialsa)
-   [<span data-ttu-id="0e490-135">**DsMakeSpn**</span><span class="sxs-lookup"><span data-stu-id="0e490-135">**DsMakeSpn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsmakespna)
-   [<span data-ttu-id="0e490-136">**DsMapSchemaGuids**</span><span class="sxs-lookup"><span data-stu-id="0e490-136">**DsMapSchemaGuids**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsmapschemaguidsa)
-   [<span data-ttu-id="0e490-137">**DsQuerySitesByCost**</span><span class="sxs-lookup"><span data-stu-id="0e490-137">**DsQuerySitesByCost**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsquerysitesbycosta)
-   [<span data-ttu-id="0e490-138">**DsQuerySitesFree**</span><span class="sxs-lookup"><span data-stu-id="0e490-138">**DsQuerySitesFree**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsquerysitesfree)
-   [<span data-ttu-id="0e490-139">**DsQuoteRdnValue**</span><span class="sxs-lookup"><span data-stu-id="0e490-139">**DsQuoteRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsquoterdnvaluea)
-   [<span data-ttu-id="0e490-140">**DsRemoveDsDomain**</span><span class="sxs-lookup"><span data-stu-id="0e490-140">**DsRemoveDsDomain**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsremovedsdomaina)
-   [<span data-ttu-id="0e490-141">**DsRemoveDsServer**</span><span class="sxs-lookup"><span data-stu-id="0e490-141">**DsRemoveDsServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsremovedsservera)
-   [<span data-ttu-id="0e490-142">**DsReplicaAdd**</span><span class="sxs-lookup"><span data-stu-id="0e490-142">**DsReplicaAdd**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda)
-   [<span data-ttu-id="0e490-143">**DsReplicaConsistencyCheck**</span><span class="sxs-lookup"><span data-stu-id="0e490-143">**DsReplicaConsistencyCheck**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaconsistencycheck)
-   [<span data-ttu-id="0e490-144">**DsReplicaDel**</span><span class="sxs-lookup"><span data-stu-id="0e490-144">**DsReplicaDel**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela)
-   [<span data-ttu-id="0e490-145">**DsReplicaFreeInfo**</span><span class="sxs-lookup"><span data-stu-id="0e490-145">**DsReplicaFreeInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicafreeinfo)
-   [<span data-ttu-id="0e490-146">**DsReplicaGetInfo**</span><span class="sxs-lookup"><span data-stu-id="0e490-146">**DsReplicaGetInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicagetinfow)
-   [<span data-ttu-id="0e490-147">**DsReplicaGetInfo2**</span><span class="sxs-lookup"><span data-stu-id="0e490-147">**DsReplicaGetInfo2**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicagetinfo2w)
-   [<span data-ttu-id="0e490-148">**DsReplicaModify**</span><span class="sxs-lookup"><span data-stu-id="0e490-148">**DsReplicaModify**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya)
-   [<span data-ttu-id="0e490-149">**DsReplicaSync**</span><span class="sxs-lookup"><span data-stu-id="0e490-149">**DsReplicaSync**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca)
-   [<span data-ttu-id="0e490-150">**DsReplicaSyncAll**</span><span class="sxs-lookup"><span data-stu-id="0e490-150">**DsReplicaSyncAll**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla)
-   [<span data-ttu-id="0e490-151">**DsReplicaUpdateRefs**</span><span class="sxs-lookup"><span data-stu-id="0e490-151">**DsReplicaUpdateRefs**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa)
-   [<span data-ttu-id="0e490-152">**DsReplicaVerifyObjects**</span><span class="sxs-lookup"><span data-stu-id="0e490-152">**DsReplicaVerifyObjects**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaverifyobjectsa)
-   [<span data-ttu-id="0e490-153">**DsServerRegisterSpn**</span><span class="sxs-lookup"><span data-stu-id="0e490-153">**DsServerRegisterSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsserverregisterspna)
-   [<span data-ttu-id="0e490-154">**DsUnBind**</span><span class="sxs-lookup"><span data-stu-id="0e490-154">**DsUnBind**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda)
-   [<span data-ttu-id="0e490-155">**DsUnquoteRdnValue**</span><span class="sxs-lookup"><span data-stu-id="0e490-155">**DsUnquoteRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsunquoterdnvaluea)
-   [<span data-ttu-id="0e490-156">**DsWriteAccountSpn**</span><span class="sxs-lookup"><span data-stu-id="0e490-156">**DsWriteAccountSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dswriteaccountspna)
-   <span data-ttu-id="0e490-157">[**SyncUpdateProc**](/previous-versions/windows/desktop/legacy/ms677968(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="0e490-157">[**SyncUpdateProc**](/previous-versions/windows/desktop/legacy/ms677968(v=vs.85))</span></span>

<span data-ttu-id="0e490-158">La plupart de ces fonctions nécessitent un handle lié au service d’annuaire.</span><span class="sxs-lookup"><span data-stu-id="0e490-158">Most of these functions require a handle bound to the directory service.</span></span> <span data-ttu-id="0e490-159">Les fonctions [**DsBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda) et [**DsBindWithCred**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda) démarrent une session RPC avec un contrôleur de domaine particulier, puis lient un handle au service d’annuaire et retournent le descripteur.</span><span class="sxs-lookup"><span data-stu-id="0e490-159">The [**DsBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda) and [**DsBindWithCred**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda) functions start an RPC session with a particular domain controller, then they bind a handle to the directory service and return the handle.</span></span> <span data-ttu-id="0e490-160">Lorsque le descripteur n’est plus nécessaire, utilisez la fonction [**DsUnBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda) pour mettre fin à la session RPC et annuler la liaison du descripteur.</span><span class="sxs-lookup"><span data-stu-id="0e490-160">When the handle is no longer required, use the [**DsUnBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda) function to end the RPC session and unbind the handle.</span></span>

<span data-ttu-id="0e490-161">La réplication se produit entre un serveur source et un serveur de destination.</span><span class="sxs-lookup"><span data-stu-id="0e490-161">Replication occurs between a source server and a destination server.</span></span> <span data-ttu-id="0e490-162">Un serveur source gère une liste de serveurs de destination vers laquelle il doit répliquer, et un serveur de destination gère une liste de serveurs source à partir desquels il reçoit la réplication.</span><span class="sxs-lookup"><span data-stu-id="0e490-162">A source server maintains a list of destination servers to which it should replicate, and a destination server maintains a list of source servers from which it receives replication.</span></span> <span data-ttu-id="0e490-163">Utilisez la fonction [**DsReplicaAdd**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda) pour ajouter à la liste des serveurs source sur un serveur de destination et utilisez la fonction [**DsReplicaDel**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela) pour supprimer les références de la liste serveur source sur un serveur de destination.</span><span class="sxs-lookup"><span data-stu-id="0e490-163">Use the [**DsReplicaAdd**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda) function to add to the list of source servers on a destination server, and use the [**DsReplicaDel**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela) function to remove references from the source server list on a destination server.</span></span> <span data-ttu-id="0e490-164">La fonction [**DsReplicaModify**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya) peut être utilisée pour modifier une référence de serveur source existante sur un serveur de destination.</span><span class="sxs-lookup"><span data-stu-id="0e490-164">The [**DsReplicaModify**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya) function may be used to change an existing source server reference on a destination server.</span></span> <span data-ttu-id="0e490-165">Pour modifier la liste des serveurs de destination sur un serveur source, utilisez la fonction [**DsReplicaUpdateRefs**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa) .</span><span class="sxs-lookup"><span data-stu-id="0e490-165">To change the list of destination servers on a source server, use the [**DsReplicaUpdateRefs**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa) function.</span></span>

<span data-ttu-id="0e490-166">La réplication réelle est effectuée par les fonctions [**DsReplicaSync**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca) et [**DsReplicaSyncAll**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla) .</span><span class="sxs-lookup"><span data-stu-id="0e490-166">Actual replication is performed by the [**DsReplicaSync**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca) and [**DsReplicaSyncAll**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla) functions.</span></span> <span data-ttu-id="0e490-167">La fonction **DsReplicaSync** synchronise un serveur de destination spécifique avec un seul serveur source.</span><span class="sxs-lookup"><span data-stu-id="0e490-167">The **DsReplicaSync** function synchronizes a specific destination server with a single source server.</span></span> <span data-ttu-id="0e490-168">Utilisez la fonction **DsReplicaSyncAll** pour synchroniser un serveur de destination avec tous les autres serveurs du site.</span><span class="sxs-lookup"><span data-stu-id="0e490-168">Use the **DsReplicaSyncAll** function to synchronize a destination server with all other servers in the site.</span></span>

 

 