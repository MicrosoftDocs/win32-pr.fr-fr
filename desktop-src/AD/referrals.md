---
title: Références (AD DS)
description: Active Directory Domain Services conserver les données de référence dans les objets crossRef stockés dans le conteneur partitions (crossRefContainer) dans le conteneur de configuration.
ms.assetid: e4d6cc8a-9c2c-4e0f-acca-e9ecdd5e879b
ms.tgt_platform: multiple
keywords:
- PUBLICITÉ sur les références
- Active Directory, références
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f63c87fb0248d85ab20191296f9659eb58e460f6
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/17/2020
ms.locfileid: "106510455"
---
# <a name="referrals-ad-ds"></a><span data-ttu-id="7ca87-105">Références (AD DS)</span><span class="sxs-lookup"><span data-stu-id="7ca87-105">Referrals (AD DS)</span></span>

<span data-ttu-id="7ca87-106">Active Directory Domain Services conserver les données de référence dans les objets [**crossRef**](/windows/desktop/ADSchema/c-crossref) stockés dans le conteneur partitions ([**crossRefContainer**](/windows/desktop/ADSchema/c-crossrefcontainer)) dans le conteneur de configuration.</span><span class="sxs-lookup"><span data-stu-id="7ca87-106">Active Directory Domain Services maintain referral data in [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects stored in the partitions container ([**crossRefContainer**](/windows/desktop/ADSchema/c-crossrefcontainer)) in the configuration container.</span></span> <span data-ttu-id="7ca87-107">Dans la rubrique choix de la [recherche](where-to-search.md) , les références sont discutées dans le contexte d’un domaine dans une arborescence de domaine et de la génération de références aux domaines subordonnés dans une recherche de sous-arborescence.</span><span class="sxs-lookup"><span data-stu-id="7ca87-107">In the [Deciding Where to Search](where-to-search.md) topic, referrals are discussed in the context of a domain within a domain tree and the generation of referrals to subordinate domains on a subtree search.</span></span>

<span data-ttu-id="7ca87-108">Active Directory Domain Services créer et gérer des objets [**crossRef**](/windows/desktop/ADSchema/c-crossref) pour tous les domaines de la forêt.</span><span class="sxs-lookup"><span data-stu-id="7ca87-108">Active Directory Domain Services create and maintains [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects for all domains in the forest.</span></span> <span data-ttu-id="7ca87-109">En outre, il existe des objets **crossRef** pour les conteneurs de schéma et de configuration.</span><span class="sxs-lookup"><span data-stu-id="7ca87-109">In addition, there are **crossRef** objects for the configuration and schema containers.</span></span> <span data-ttu-id="7ca87-110">Ces objets **crossRef** sont utilisés pour générer des références en réponse aux requêtes qui demandent des données sur les objets qui existent dans la forêt, mais qui ne sont pas contenus dans le serveur d’annuaire qui gère la demande.</span><span class="sxs-lookup"><span data-stu-id="7ca87-110">These **crossRef** objects are used to generate referrals in response to queries that request data about objects that exist in the forest, but not contained on the directory server handling the request.</span></span> <span data-ttu-id="7ca87-111">Il s’agit de *références croisées internes*, car elles font référence à des domaines, des schémas et des conteneurs de configuration au sein de la forêt.</span><span class="sxs-lookup"><span data-stu-id="7ca87-111">These are called *internal cross references*, because they refer to domains, schema, and configuration containers within the forest.</span></span>

<span data-ttu-id="7ca87-112">Si le repérage de références n’est pas activé et qu’une recherche de sous-arborescence est effectuée, la recherche renvoie tous les objets du domaine spécifié qui répondent aux critères de recherche.</span><span class="sxs-lookup"><span data-stu-id="7ca87-112">If referral chasing is not enabled and a subtree search is performed, the search will return all objects within the specified domain that meet the search criteria.</span></span> <span data-ttu-id="7ca87-113">La recherche retourne également les références à tous les domaines subordonnés qui sont des descendants directs du domaine du serveur d’annuaire.</span><span class="sxs-lookup"><span data-stu-id="7ca87-113">The search will also return referrals to any subordinate domains that are direct descendants of the directory server domain.</span></span> <span data-ttu-id="7ca87-114">Le client doit résoudre les références en liant le chemin d’accès spécifié par la référence et en envoyant une autre requête.</span><span class="sxs-lookup"><span data-stu-id="7ca87-114">The client must resolve the referrals by binding to the path specified by the referral and submitting another query.</span></span>

<span data-ttu-id="7ca87-115">Si le repérage de références est activé et qu’une recherche de sous-arborescence est effectuée, l’API LDAP sous-jacente tente automatiquement d’établir une liaison avec les références et d’ajouter les résultats de la recherche au jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="7ca87-115">If referral chasing is turned on and a subtree search is performed, the underlying LDAP API will automatically attempt to bind to any referrals and add the search results to the result set.</span></span> <span data-ttu-id="7ca87-116">Dans la plupart des cas, le repérage de références est transparent pour l’appelant.</span><span class="sxs-lookup"><span data-stu-id="7ca87-116">In most cases, the referral chasing will be transparent to the caller.</span></span> <span data-ttu-id="7ca87-117">Si la référence est un objet d’un domaine ou d’une forêt différent, l’API LDAP sous-jacente tente d’utiliser les informations d’identification actuelles pour établir une liaison à la cible de la référence.</span><span class="sxs-lookup"><span data-stu-id="7ca87-117">If the referral is to an object in a different domain or forest, the underlying LDAP API will attempt to use the current credentials to bind to the target of the referral.</span></span> <span data-ttu-id="7ca87-118">Si cette opération réussit, le repérage de références est transparent.</span><span class="sxs-lookup"><span data-stu-id="7ca87-118">If this is successful, the referral chasing will be transparent.</span></span> <span data-ttu-id="7ca87-119">En cas d’échec, la référence et un code d’erreur de référence sont renvoyés.</span><span class="sxs-lookup"><span data-stu-id="7ca87-119">If this is not successful, the referral and a referral error code will be returned.</span></span>

<span data-ttu-id="7ca87-120">Pour plus d’informations sur la définition de la préférence de recherche de repérage de références, consultez [spécification d’autres options de recherche](specifying-other-search-options.md).</span><span class="sxs-lookup"><span data-stu-id="7ca87-120">For more information about setting the referral chasing search preference, see [Specifying Other Search Options](specifying-other-search-options.md).</span></span>

<span data-ttu-id="7ca87-121">Outre les propriétés [**dNSRoot**](/windows/desktop/ADSchema/a-dnsroot) (nom DNS du domaine) et [**NCName**](/windows/desktop/ADSchema/a-ncname) (nom unique pour le domaine), l’objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) contient également le **nETBIOSName** (nom NetBIOS du domaine) et le **trustParent** (nom unique de l’objet **crossRef** qui représente le domaine parent direct du domaine).</span><span class="sxs-lookup"><span data-stu-id="7ca87-121">In addition to the [**dnsRoot**](/windows/desktop/ADSchema/a-dnsroot) (DNS name of the domain) and [**nCName**](/windows/desktop/ADSchema/a-ncname) (distinguished name for the domain) properties, the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object also contains the **nETBIOSName** (NetBIOS name of the domain) and **trustParent** (distinguished name for the **crossRef** object that represents the domain's direct parent domain) properties.</span></span>

<span data-ttu-id="7ca87-122">Active Directory Domain Services pouvez également faire référence à des *références croisées externes* qui font référence à des objets en dehors de la forêt.</span><span class="sxs-lookup"><span data-stu-id="7ca87-122">Active Directory Domain Services can also have *external cross references* that refer to objects outside of the forest.</span></span> <span data-ttu-id="7ca87-123">Les références croisées externes doivent être ajoutées explicitement par un administrateur.</span><span class="sxs-lookup"><span data-stu-id="7ca87-123">External cross references must be added explicitly by an administrator.</span></span> <span data-ttu-id="7ca87-124">N’oubliez pas que le serveur cible de la référence croisée externe doit avoir une racine DNS ; autrement dit, il doit adhérer à la RFC 2247.</span><span class="sxs-lookup"><span data-stu-id="7ca87-124">Be aware that the target server of the external cross reference must have a DNS root; that is, it must adhere to RFC 2247.</span></span>

<span data-ttu-id="7ca87-125">Une référence croisée externe fait référence à un objet sur toute autre forêt, à condition que le nom soit unique dans la forêt cible.</span><span class="sxs-lookup"><span data-stu-id="7ca87-125">An external cross reference refers to an object on any other forest, as long as the name is unique in the target forest.</span></span> <span data-ttu-id="7ca87-126">Par exemple, les applications clientes LDAP utilisées par votre entreprise peuvent envoyer des opérations à vos serveurs d’annuaire pour Fabrikam.com.</span><span class="sxs-lookup"><span data-stu-id="7ca87-126">For example, LDAP client applications that are used by your company can submit operations to your directory servers for Fabrikam.com.</span></span> <span data-ttu-id="7ca87-127">Vous créez un objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) pour Fabrikam.com.</span><span class="sxs-lookup"><span data-stu-id="7ca87-127">You create a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object for Fabrikam.com.</span></span> <span data-ttu-id="7ca87-128">Maintenant, au lieu de renvoyer une erreur d’objet introuvable, vos serveurs d’annuaire peuvent retourner une référence à un objet dans le domaine Fabrikam.com et les clients peuvent effectuer une recherche dans la référence.</span><span class="sxs-lookup"><span data-stu-id="7ca87-128">Now, instead of returning an Object Not Found error, your directory servers can return a referral to an object in the Fabrikam.com domain and the clients can chase the referral.</span></span> <span data-ttu-id="7ca87-129">Par exemple, si vous avez un objet avec le nom unique suivant :</span><span class="sxs-lookup"><span data-stu-id="7ca87-129">For example, if you have an object with the following distinguished name:</span></span>


```C++
CN=SomeObject,OU=SomeOU,DC=Fabrikam,DC=Com
```



<span data-ttu-id="7ca87-130">Vous pouvez ajouter une référence croisée externe pour un objet portant le nom « ChildOfSomeObject ».</span><span class="sxs-lookup"><span data-stu-id="7ca87-130">You can add an external cross reference for an object with the name "ChildOfSomeObject".</span></span>


```C++
CN=ChildOfSomeObject,CN=SomeObject,OU=SomeOU,DC=Fabrikam,DC=Com
```



<span data-ttu-id="7ca87-131">Une recherche de sous-arborescence contenant « SomeObject » renverra également une référence à « ChildOfSomeObject ».</span><span class="sxs-lookup"><span data-stu-id="7ca87-131">A subtree search that contains "SomeObject" will also return a referral to "ChildOfSomeObject".</span></span> <span data-ttu-id="7ca87-132">N’oubliez pas qu’il doit y avoir un serveur LDAP à l’adresse spécifiée par la référence (l’une des propriétés de l’objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) ) et que ce serveur LDAP doit servir l’espace de noms identifié par « ChildOfSomeObject ».</span><span class="sxs-lookup"><span data-stu-id="7ca87-132">Be aware that there must be an LDAP server at the address that is specified by the referral (one of the properties on the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object) and that this LDAP server must serve the namespace that is identified by "ChildOfSomeObject".</span></span>

<span data-ttu-id="7ca87-133">Étant donné que les objets [**crossRef**](/windows/desktop/ADSchema/c-crossref) sont stockés dans le conteneur de configuration, chaque contrôleur de domaine (DC) possède une copie de tous les objets **crossRef** .</span><span class="sxs-lookup"><span data-stu-id="7ca87-133">Because [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects are stored in the configuration container, each domain controller (DC) has a copy of all **crossRef** objects.</span></span> <span data-ttu-id="7ca87-134">Par conséquent, chaque contrôleur de domaine contient des données relatives à chaque domaine de la forêt, ainsi qu’à leurs relations supérieures/subordonnées.</span><span class="sxs-lookup"><span data-stu-id="7ca87-134">Therefore, every DC contains data about every domain in the forest as well as their superior/subordinate relationships.</span></span> <span data-ttu-id="7ca87-135">Cela permet à chaque contrôleur de domaine de générer des références à n’importe quel domaine de la forêt et des références pour des conteneurs de domaine, de schéma ou de configuration subordonnés inexplorés dans une recherche de sous-arborescence.</span><span class="sxs-lookup"><span data-stu-id="7ca87-135">This enables each DC to generate referrals to any domain in the forest and referrals for unexplored subordinate domain, schema, or configuration containers on a subtree search.</span></span>

<span data-ttu-id="7ca87-136">Pour plus d’informations sur les références, consultez :</span><span class="sxs-lookup"><span data-stu-id="7ca87-136">For more information about referrals, see:</span></span>

-   [<span data-ttu-id="7ca87-137">Quand des références sont générées</span><span class="sxs-lookup"><span data-stu-id="7ca87-137">When Referrals Are Generated</span></span>](when-referrals-are-generated.md)
-   [<span data-ttu-id="7ca87-138">Création d’une référence externe</span><span class="sxs-lookup"><span data-stu-id="7ca87-138">Creating an External Referral</span></span>](creating-an-external-referral.md)

<span data-ttu-id="7ca87-139">Pour plus d’informations et pour obtenir un exemple de code qui montre comment obtenir le nom unique du conteneur partitions, consultez [l’exemple de code pour localiser le conteneur partitions](example-code-for-locating-the-partitions-container.md).</span><span class="sxs-lookup"><span data-stu-id="7ca87-139">For more information and a code example that shows how to obtain the distinguished name of the partitions container, see [Example Code for Locating the Partitions Container](example-code-for-locating-the-partitions-container.md).</span></span>

 

 