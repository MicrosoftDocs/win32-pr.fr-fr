---
title: Énumération des partitions d’annuaire d’applications dans une forêt
description: À l’instar des partitions de domaine, chaque partition d’annuaire d’applications est représentée par un objet crossRef dans le conteneur partitions de la partition de configuration.
ms.assetid: dd1ff72d-ed19-4e8c-a401-a5b1b3d577e8
ms.tgt_platform: multiple
keywords:
- Énumération des partitions de l’annuaire d’applications dans une forêt Active Directory
- Partitions de l’annuaire d’applications Active Directory, énumération dans une forêt
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8d42bbe28ef37932394721d0c234ba3970ac263b
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/17/2020
ms.locfileid: "104031011"
---
# <a name="enumerating-application-directory-partitions-in-a-forest"></a><span data-ttu-id="8c92a-105">Énumération des partitions d’annuaire d’applications dans une forêt</span><span class="sxs-lookup"><span data-stu-id="8c92a-105">Enumerating Application Directory Partitions in a Forest</span></span>

<span data-ttu-id="8c92a-106">À l’instar des partitions de domaine, chaque partition d’annuaire d’applications est représentée par un objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) dans le conteneur partitions de la partition de configuration.</span><span class="sxs-lookup"><span data-stu-id="8c92a-106">Like domain partitions, every application directory partition is represented by a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object in the Partitions container of the configuration partition.</span></span> <span data-ttu-id="8c92a-107">Chaque objet **crossRef** stocke des données sur sa partition correspondante.</span><span class="sxs-lookup"><span data-stu-id="8c92a-107">Each **crossRef** object stores data about its corresponding partition.</span></span>

<span data-ttu-id="8c92a-108">Un objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) qui représente une partition de domaine est distingué d’un objet **crossRef** qui représente une partition de l’annuaire d’applications par le contenu de l’attribut [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) .</span><span class="sxs-lookup"><span data-stu-id="8c92a-108">A [**crossRef**](/windows/desktop/ADSchema/c-crossref) object that represents a domain partition is distinguished from a **crossRef** object that represents an application directory partition by the contents of the [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) attribute.</span></span> <span data-ttu-id="8c92a-109">L’objet **crossRef** qui représente une partition de domaine aura à la fois les indicateurs de domaine [**ADS \_ systemFlags \_ CR \_ NTDS \_ NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) et **ADS \_ systemFlags \_ CR \_ NTDS \_** définis dans l’attribut **systemFlags** .</span><span class="sxs-lookup"><span data-stu-id="8c92a-109">The **crossRef** object that represents a domain partition will have both the [**ADS\_SYSTEMFLAG\_CR\_NTDS\_NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) and **ADS\_SYSTEMFLAG\_CR\_NTDS\_DOMAIN** flags set in the **systemFlags** attribute.</span></span> <span data-ttu-id="8c92a-110">L’objet **crossRef** qui représente une partition d’annuaire d’applications aura l’indicateur de contexte de nommage de domaine **ad \_ systemFlags \_ CR \_ NTDS \_** défini et l’indicateur de **\_ domaine ADS systemFlags \_ CR \_ NTDS \_** ne sera pas défini dans l’attribut **systemFlags** .</span><span class="sxs-lookup"><span data-stu-id="8c92a-110">The **crossRef** object that represents an application directory partition will have the **ADS\_SYSTEMFLAG\_CR\_NTDS\_NC** flag set and the **ADS\_SYSTEMFLAG\_CR\_NTDS\_DOMAIN** flag will not be set in the **systemFlags** attribute.</span></span>

<span data-ttu-id="8c92a-111">Les objets [**crossRef**](/windows/desktop/ADSchema/c-crossref) qui représentent les partitions de schéma et de configuration comporteront également l’indicateur [**\_ \_ NC systemFlags CR \_ NTDS NTDS \_ de ADS**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) et l’indicateur de **\_ domaine AD systemFlags \_ CR \_ NTDS \_** ne sera pas défini dans l’attribut [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) .</span><span class="sxs-lookup"><span data-stu-id="8c92a-111">The [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects that represent the Schema and Configuration partitions will also have the have [**ADS\_SYSTEMFLAG\_CR\_NTDS\_NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) flag set and the **ADS\_SYSTEMFLAG\_CR\_NTDS\_DOMAIN** flag will not be set in the [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) attribute.</span></span> <span data-ttu-id="8c92a-112">Cela requiert que ces deux objets **crossRef** soient distingués par le contenu de l’attribut [**NCName**](/windows/desktop/ADSchema/a-ncname) .</span><span class="sxs-lookup"><span data-stu-id="8c92a-112">This requires that these two **crossRef** objects be distinguished by the contents of the [**nCName**](/windows/desktop/ADSchema/a-ncname) attribute.</span></span> <span data-ttu-id="8c92a-113">L’attribut **NCName** pour l’objet **crossRef** qui représente le conteneur de schéma sera identique à l’attribut **schemaNamingContext** de l’objet rootDSE.</span><span class="sxs-lookup"><span data-stu-id="8c92a-113">The **nCName** attribute for the **crossRef** object that represents the Schema container will be identical to the **schemaNamingContext** attribute of the RootDSE object.</span></span> <span data-ttu-id="8c92a-114">De même, l’attribut **NCName** pour l’objet **crossRef** qui représente le conteneur de configuration est identique à l’attribut **configurationNamingContext** de l’objet rootDSE.</span><span class="sxs-lookup"><span data-stu-id="8c92a-114">Similarly, the **nCName** attribute for the **crossRef** object that represents the Configuration container will be identical to the **configurationNamingContext** attribute of the RootDSE object.</span></span>

<span data-ttu-id="8c92a-115">**Pour identifier toutes les partitions d’annuaire d’applications dans une forêt, procédez comme suit :**</span><span class="sxs-lookup"><span data-stu-id="8c92a-115">**To identify all application directory partitions in a forest, perform the following steps**</span></span>

1.  <span data-ttu-id="8c92a-116">Dans le conteneur partitions de la partition de configuration, recherchez ou Énumérez tous les objets [**crossRef**](/windows/desktop/ADSchema/c-crossref) .</span><span class="sxs-lookup"><span data-stu-id="8c92a-116">In the Partitions container of the configuration partition, search for or enumerate all [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects.</span></span>
2.  <span data-ttu-id="8c92a-117">Si l’indicateur de domaine ADS [**\_ systemFlags \_ CR \_ NTDS \_**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) de l’objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) n’est pas défini ou que l’indicateur de **\_ \_ \_ \_ domaine ADS systemFlags CR** est défini dans la valeur de l’attribut [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) , excluez l’objet du jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="8c92a-117">If a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object does not have the [**ADS\_SYSTEMFLAG\_CR\_NTDS\_NC**](/windows/win32/api/iads/ne-iads-ads_systemflag_enum) flag set or has the **ADS\_SYSTEMFLAG\_CR\_NTDS\_DOMAIN** flag set in the [**systemFlags**](/windows/desktop/ADSchema/a-systemflags) attribute value, exclude the object from the result set.</span></span>
3.  <span data-ttu-id="8c92a-118">Excluez la partition de schéma du jeu de résultats en comparant l’attribut [**NCName**](/windows/desktop/ADSchema/a-ncname) de l’objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) à l’attribut **schemaNamingContext** de l’objet rootDSE.</span><span class="sxs-lookup"><span data-stu-id="8c92a-118">Exclude the Schema partition from the result set by comparing the [**nCName**](/windows/desktop/ADSchema/a-ncname) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object to the **schemaNamingContext** attribute of the RootDSE object.</span></span>
4.  <span data-ttu-id="8c92a-119">Excluez la partition de configuration du jeu de résultats en comparant l’attribut [**NCName**](/windows/desktop/ADSchema/a-ncname) de l’objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) à l’attribut **configurationNamingContext** de l’objet rootDSE.</span><span class="sxs-lookup"><span data-stu-id="8c92a-119">Exclude the Configuration partition from the result set by comparing the [**nCName**](/windows/desktop/ADSchema/a-ncname) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object to the **configurationNamingContext** attribute of the RootDSE object.</span></span>
5.  <span data-ttu-id="8c92a-120">Les autres objets [**crossRef**](/windows/desktop/ADSchema/c-crossref) dans le jeu de résultats représentent tous des partitions d’annuaire d’applications.</span><span class="sxs-lookup"><span data-stu-id="8c92a-120">The remaining [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects in the result set all represent application directory partitions.</span></span>

 

 