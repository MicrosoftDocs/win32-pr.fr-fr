---
title: Contextes de sécurité et Active Directory Domain Services
description: Quand une application est liée à un contrôleur de domaine Active Directory (DC), elle le fait dans le contexte de sécurité d’une entité de sécurité, qui peut être un utilisateur ou une entité, telle qu’un ordinateur ou un service système.
ms.assetid: 7ad0acbe-f81b-46d6-be87-3526b0bfbd1b
ms.tgt_platform: multiple
keywords:
- Active Directory Active Directory, contextes de sécurité
- contextes de sécurité Active Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c337cb05f8158dbb90f231652c42fb10a486aef4
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/17/2020
ms.locfileid: "104030982"
---
# <a name="security-contexts-and-active-directory-domain-services"></a><span data-ttu-id="ea2d9-105">Contextes de sécurité et Active Directory Domain Services</span><span class="sxs-lookup"><span data-stu-id="ea2d9-105">Security Contexts and Active Directory Domain Services</span></span>

<span data-ttu-id="ea2d9-106">Quand une application est liée à un contrôleur de domaine Active Directory (DC), elle le fait dans le contexte de sécurité d’une entité de sécurité, qui peut être un utilisateur ou une entité, telle qu’un ordinateur ou un service système.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-106">When an application binds to an Active Directory Domain Controller (DC), it does so in the security context of a security principal, which can be a user or an entity such as a computer or a system service.</span></span> <span data-ttu-id="ea2d9-107">Le contexte de sécurité est le compte d’utilisateur utilisé par le système pour appliquer la sécurité lorsqu’un thread tente d’accéder à un objet sécurisable.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-107">The security context is the user account that the system uses to enforce security when a thread attempts to access a securable object.</span></span> <span data-ttu-id="ea2d9-108">Ces données incluent l’identificateur de sécurité (SID) de l’utilisateur, les appartenances aux groupes et les privilèges.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-108">This data includes the user security identifier (SID), group memberships, and privileges.</span></span>

<span data-ttu-id="ea2d9-109">Un utilisateur établit un contexte de sécurité en présentant les informations d’identification pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-109">A user establishes a security context by presenting credentials for authentication.</span></span> <span data-ttu-id="ea2d9-110">Si les informations d’identification sont authentifiées, le système génère un jeton d’accès qui identifie les appartenances aux groupes et les privilèges associés au compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-110">If the credentials are authenticated, the system produces an access token that identifies the group memberships and privileges associated with the user account.</span></span> <span data-ttu-id="ea2d9-111">Le système vérifie votre jeton d’accès lorsque vous tentez d’accéder à un objet d’annuaire.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-111">The system verifies your access token when you attempt to access a directory object.</span></span> <span data-ttu-id="ea2d9-112">Il compare les données de votre jeton d’accès aux comptes et groupes auxquels le descripteur de sécurité de l’objet a accordé ou refusé l’accès.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-112">It compares the data in your access token to the accounts and groups granted or denied access by the object security descriptor.</span></span>

<span data-ttu-id="ea2d9-113">Utilisez les méthodes suivantes pour contrôler le contexte de sécurité avec lequel vous établissez une liaison à un contrôleur de Active Directory :</span><span class="sxs-lookup"><span data-stu-id="ea2d9-113">Use the following methods to control the security context with which you bind to an Active Directory DC:</span></span>

-   <span data-ttu-id="ea2d9-114">Liez à l’aide de l’option **\_ \_ d’authentification sécurisée ADS** avec la fonction [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) ou la méthode [**IADsOpenDSObject :: OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) et spécifiez explicitement un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-114">Bind using the **ADS\_SECURE\_AUTHENTICATION** option with the [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) function or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) method and explicitly specify a user name and password.</span></span> <span data-ttu-id="ea2d9-115">Le système authentifie ces informations d’identification et génère un jeton d’accès qu’il utilise pour la vérification de l’accès pendant la durée de cette liaison.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-115">The system authenticates these credentials and generates an access token that it uses for access verification for the duration of that binding.</span></span> <span data-ttu-id="ea2d9-116">Pour en savoir plus, consultez [Authentification](authentication.md).</span><span class="sxs-lookup"><span data-stu-id="ea2d9-116">For more information, see [Authentication](authentication.md).</span></span>
-   <span data-ttu-id="ea2d9-117">Établissez une liaison à l’aide de l’option **\_ \_ d’authentification sécurisée ADS** , mais sans spécifier d’informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-117">Bind using the **ADS\_SECURE\_AUTHENTICATION** option, but without specifying credentials.</span></span> <span data-ttu-id="ea2d9-118">Si vous n’empruntez pas l’identité d’un utilisateur, le système utilise le contexte de sécurité principal de votre application, autrement dit, le contexte de sécurité de l’utilisateur qui a démarré votre application.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-118">If you are not impersonating a user, the system uses the primary security context of your application, that is, the security context of the user who started your application.</span></span> <span data-ttu-id="ea2d9-119">Dans le cas d’un service système, il s’agit du contexte de sécurité du compte de service ou du compte LocalSystem.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-119">In the case of a system service, this is the security context of the service account or the LocalSystem account.</span></span>
-   <span data-ttu-id="ea2d9-120">Emprunter l’identité d’un utilisateur, puis établir une liaison avec **\_ \_ l’authentification sécurisée ADS**, mais sans spécifier d’informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-120">Impersonate a user and then bind with **ADS\_SECURE\_AUTHENTICATION**, but without specifying credentials.</span></span> <span data-ttu-id="ea2d9-121">Dans ce cas, le système utilise le contexte de sécurité du client dont l’identité est empruntée.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-121">In this case, the system uses the security context of the client that is impersonated.</span></span> <span data-ttu-id="ea2d9-122">Pour plus d’informations, consultez [emprunt d’identité du client](/windows/desktop/SecAuthZ/client-impersonation).</span><span class="sxs-lookup"><span data-stu-id="ea2d9-122">For more information, see [Client Impersonation](/windows/desktop/SecAuthZ/client-impersonation).</span></span>
-   <span data-ttu-id="ea2d9-123">Liez à l’aide de [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) ou [**IADsOpenDSObject :: OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) avec l’option **\_ aucune \_ authentification ADS** .</span><span class="sxs-lookup"><span data-stu-id="ea2d9-123">Bind using [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) with the **ADS\_NO\_AUTHENTICATION** option.</span></span> <span data-ttu-id="ea2d9-124">Cette méthode effectue une liaison sans authentification et génère « everyone » comme contexte de sécurité.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-124">This method binds without authentication and results in "Everyone" as the security context.</span></span> <span data-ttu-id="ea2d9-125">Seul le fournisseur LDAP prend en charge cette option.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-125">Only the LDAP provider supports this option.</span></span>

<span data-ttu-id="ea2d9-126">Si possible, liez sans spécifier d’informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-126">If possible, bind without specifying credentials.</span></span> <span data-ttu-id="ea2d9-127">Autrement dit, utilisez le contexte de sécurité de l’utilisateur connecté ou du client dont l’identité est empruntée.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-127">That is, use the security context of the logged-on user or the impersonated client.</span></span> <span data-ttu-id="ea2d9-128">Cela vous permet d’éviter la mise en cache des informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-128">This enables you to avoid caching credentials.</span></span> <span data-ttu-id="ea2d9-129">Si vous devez utiliser d’autres informations d’identification de l’utilisateur, vous pouvez demander les informations d’identification, établir une liaison avec eux, mais pas les mettre en cache.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-129">If you must use alternate user credentials, prompt for the credentials, bind with them, but do not cache them.</span></span> <span data-ttu-id="ea2d9-130">Pour utiliser le même contexte de sécurité dans plusieurs opérations de liaison, vous pouvez spécifier le nom d’utilisateur et le mot de passe pour la première opération de liaison, puis spécifier uniquement le nom d’utilisateur pour effectuer des liaisons ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-130">To use the same security context in multiple bind operations, you can specify the user name and password for the first bind operation and then specify only the user name to make subsequent binds.</span></span> <span data-ttu-id="ea2d9-131">Pour plus d’informations sur l’utilisation de cette technique, consultez [authentification](authentication.md).</span><span class="sxs-lookup"><span data-stu-id="ea2d9-131">For more information about using this technique, see [Authentication](authentication.md).</span></span>

<span data-ttu-id="ea2d9-132">Certains contextes de sécurité sont plus puissants que d’autres.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-132">Some security contexts are more powerful than others.</span></span> <span data-ttu-id="ea2d9-133">Par exemple, le compte LocalSystem sur un contrôleur de domaine dispose d’un accès complet à Active Directory Domain Services, alors qu’un utilisateur standard n’a qu’un accès limité à certains objets de l’annuaire.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-133">For example, the LocalSystem account on a domain controller has complete access to Active Directory Domain Services, whereas a typical user has only limited access to a some of the objects in the directory.</span></span> <span data-ttu-id="ea2d9-134">En général, votre application ne doit pas s’exécuter dans un contexte de sécurité puissant, tel que LocalSystem, lorsqu’un contexte de sécurité moins puissant suffit pour effectuer les opérations.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-134">In general, your application should not run in a powerful security context, such as LocalSystem, when a less powerful security context is sufficient to perform the operations.</span></span> <span data-ttu-id="ea2d9-135">Cela signifie que vous pouvez diviser votre application en composants distincts, chacun d’entre eux s’exécutant dans un contexte de sécurité adapté aux opérations à effectuer.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-135">This means that you may want to divide your application into separate components, each of which runs in a security context appropriate to the operations to perform.</span></span> <span data-ttu-id="ea2d9-136">Par exemple, la configuration de votre application peut être divisée comme suit :</span><span class="sxs-lookup"><span data-stu-id="ea2d9-136">For example, your application setup can be divided as follows:</span></span>

-   <span data-ttu-id="ea2d9-137">Effectuez des modifications de schéma et des extensions dans le contexte d’un utilisateur qui est membre du groupe administrateurs de schéma.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-137">Perform schema changes and extensions in the context of a user who is a member of the Schema Administrators group.</span></span>
-   <span data-ttu-id="ea2d9-138">Effectuez les modifications du conteneur de configuration dans le contexte d’un utilisateur membre du groupe administrateurs de l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-138">Perform configuration container changes in the context of a user who is a member of the Enterprise Administrators group.</span></span>
-   <span data-ttu-id="ea2d9-139">Effectuez des modifications de conteneur de domaine dans le contexte d’un utilisateur membre du groupe administrateurs de domaine.</span><span class="sxs-lookup"><span data-stu-id="ea2d9-139">Perform domain container changes in the context of a user who is a member of the Domain Administrators group.</span></span>

 

 