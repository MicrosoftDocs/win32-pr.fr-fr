---
title: Énumération des réplicas d’une partition d’annuaire d’applications
description: Cette rubrique montre comment énumérer les réplicas pour une partition de l’annuaire d’applications.
ms.assetid: a1d6865b-ec77-4687-9da7-7fc717568bda
ms.tgt_platform: multiple
keywords:
- Énumération des réplicas d’une partition de l’annuaire d’applications Active Directory
- Partitions de l’annuaire d’applications Active Directory, énumération des réplicas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d1415c147fe4320e5f8169487a656db4f365f03a
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/17/2020
ms.locfileid: "103940829"
---
# <a name="enumerating-replicas-of-an-application-directory-partition"></a><span data-ttu-id="cf180-105">Énumération des réplicas d’une partition d’annuaire d’applications</span><span class="sxs-lookup"><span data-stu-id="cf180-105">Enumerating Replicas of an Application Directory Partition</span></span>

<span data-ttu-id="cf180-106">Lorsqu’un réplica d’une partition d’annuaire d’applications est ajouté, le nom unique de l’objet [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) pour le contrôleur de domaine qui contiendra le réplica est ajouté à l’attribut [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) de l’objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) .</span><span class="sxs-lookup"><span data-stu-id="cf180-106">When a replica of an application directory partition is added, the distinguished name of the [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) object for the domain controller that will contain the replica is added to the [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object.</span></span> <span data-ttu-id="cf180-107">L’objet **crossRef** utilisé représente la partition de l’annuaire d’applications.</span><span class="sxs-lookup"><span data-stu-id="cf180-107">The **crossRef** object used represents the application directory partition.</span></span>

<span data-ttu-id="cf180-108">**Pour énumérer les réplicas d’une partition d’annuaire d’applications**</span><span class="sxs-lookup"><span data-stu-id="cf180-108">**To enumerate the replicas for an application directory partition**</span></span>

1.  <span data-ttu-id="cf180-109">Recherchez dans le conteneur de partitions un objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) dont la valeur d’attribut [**NCName**](/windows/desktop/ADSchema/a-ncname) est égale au nom unique de la partition d’annuaire d’applications.</span><span class="sxs-lookup"><span data-stu-id="cf180-109">Search the Partitions container for a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object that has an [**nCName**](/windows/desktop/ADSchema/a-ncname) attribute value that is equal to the distinguished name of the application directory partition.</span></span>
2.  <span data-ttu-id="cf180-110">Utilisez chaque valeur de l’attribut [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) de l’objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) pour effectuer la liaison à l’objet [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) du serveur.</span><span class="sxs-lookup"><span data-stu-id="cf180-110">Use each value of the [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object to bind to the [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) object of the server.</span></span>
3.  <span data-ttu-id="cf180-111">Obtenez l’ADsPath pour le parent de chaque objet [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) .</span><span class="sxs-lookup"><span data-stu-id="cf180-111">Obtain the ADsPath for the parent of each [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) object.</span></span> <span data-ttu-id="cf180-112">Il s’agit d’un objet qui représente le serveur de contrôleur de domaine.</span><span class="sxs-lookup"><span data-stu-id="cf180-112">This is an object that represents the domain controller server.</span></span> <span data-ttu-id="cf180-113">Utilisez l’ADsPath pour établir une liaison à l’objet serveur.</span><span class="sxs-lookup"><span data-stu-id="cf180-113">Use the ADsPath to bind to the server object.</span></span>
4.  <span data-ttu-id="cf180-114">Obtenez la valeur d’attribut [**dNSHostName**](/windows/desktop/ADSchema/a-dnshostname) de l’objet serveur.</span><span class="sxs-lookup"><span data-stu-id="cf180-114">Obtain the [**dNSHostName**](/windows/desktop/ADSchema/a-dnshostname) attribute value of the server object.</span></span> <span data-ttu-id="cf180-115">Il s’agit d’une propriété à valeur unique qui contient le nom DNS du serveur.</span><span class="sxs-lookup"><span data-stu-id="cf180-115">This is a single-value property that contains the DNS name of the server.</span></span>

<span data-ttu-id="cf180-116">En raison de la latence de réplication et des retards planifiés de l’exécution du KCC, il est possible que les réplicas actifs réels pour une partition d’annuaire d’applications ne correspondent pas à la liste des contrôleurs de domaine indiquée par l’attribut [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) de l’objet [**crossRef**](/windows/desktop/ADSchema/c-crossref) .</span><span class="sxs-lookup"><span data-stu-id="cf180-116">Due to replication latency and scheduled KCC run delays, it is possible the actual active replicas for an application directory partition may not match the list of domain controllers indicated by the [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object.</span></span> <span data-ttu-id="cf180-117">Une façon plus précise, mais moins efficace de déterminer les réplicas actifs réels d’une partition d’annuaire d’applications consiste à rechercher tous les objets [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) de la forêt qui ont un attribut [**MSDS-hasMasterNCs**](/windows/desktop/ADSchema/a-msds-hasmasterncs) qui contient le nom unique de la partition de l’annuaire d’applications.</span><span class="sxs-lookup"><span data-stu-id="cf180-117">A more accurate, but less efficient way to determine the actual active replicas of an application directory partition is to search for all [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) objects in the forest that have a [**msDS-hasMasterNCs**](/windows/desktop/ADSchema/a-msds-hasmasterncs) attribute that contains the distinguished name of the application directory partition.</span></span> <span data-ttu-id="cf180-118">L’attribut **MSDS-hasMasterNCs** contient les noms uniques de toutes les partitions d’annuaires accessibles en écriture que le contrôleur de domaine héberge, y compris les partitions d’annuaire d’applications.</span><span class="sxs-lookup"><span data-stu-id="cf180-118">The **msDS-hasMasterNCs** attribute contains the distinguished names of all writable directory partitions that the domain controller hosts, including application directory partitions.</span></span>

 

 