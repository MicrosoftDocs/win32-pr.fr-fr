---
title: Modèle de réplication du programmeur dans Active Directory Domain Services
description: Vous trouverez ci-dessous une description du modèle de réplication pour Active Directory Domain Services.
ms.assetid: 45baf7ff-9474-4f86-81c8-03336901fec2
ms.tgt_platform: multiple
keywords:
- Modèle de programmeur d’Active Directory de réplication Active Directory
- Modèle de réplication du programmeur dans Active Directory Domain Services
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9ada20bc07411528eaea4b7ff8c773c50ae8b6ec
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104028517"
---
# <a name="a-programmers-model-of-replication-in-active-directory-domain-services"></a><span data-ttu-id="12dec-105">Modèle de réplication du programmeur dans Active Directory Domain Services</span><span class="sxs-lookup"><span data-stu-id="12dec-105">A Programmer's Model of Replication in Active Directory Domain Services</span></span>

<span data-ttu-id="12dec-106">Vous trouverez ci-dessous une description du modèle de réplication pour Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="12dec-106">The following is a description of the replication model for Active Directory Domain Services.</span></span>

<span data-ttu-id="12dec-107">Toutes les mises à jour du contrôleur de domaine Active Directory sont effectuées à l’aide de requêtes LDAP qui créent, modifient ou suppriment un objet pour chaque demande.</span><span class="sxs-lookup"><span data-stu-id="12dec-107">All updates to the Active Directory Domain Controller (DC) are performed using LDAP requests that create, modify, or delete one object for each request.</span></span> <span data-ttu-id="12dec-108">Une requête unique peut définir ou modifier plusieurs attributs sur un objet.</span><span class="sxs-lookup"><span data-stu-id="12dec-108">A single request can set or modify multiple attributes on an object.</span></span>

<span data-ttu-id="12dec-109">Une demande de mise à jour est traitée comme une transaction atomique sur un contrôleur de périphérique.</span><span class="sxs-lookup"><span data-stu-id="12dec-109">An update request is processed as an atomic transaction at some DC.</span></span> <span data-ttu-id="12dec-110">Soit la totalité de la mise à jour a lieu, soit aucune ne l’est.</span><span class="sxs-lookup"><span data-stu-id="12dec-110">Either the entire update happens or none of it does.</span></span> <span data-ttu-id="12dec-111">Si le demandeur reçoit une réponse correcte à une demande de mise à jour, la totalité de la demande a réussi (validée).</span><span class="sxs-lookup"><span data-stu-id="12dec-111">If the requester receives a successful response to an update request, that entire request has succeeded (committed).</span></span> <span data-ttu-id="12dec-112">C’est ce que l’on appelle une « écriture d’origine ».</span><span class="sxs-lookup"><span data-stu-id="12dec-112">This is called an "originating write."</span></span> <span data-ttu-id="12dec-113">Plusieurs requêtes LDAP ne peuvent pas être regroupées en une seule transaction plus grande.</span><span class="sxs-lookup"><span data-stu-id="12dec-113">Multiple LDAP requests cannot be grouped into a single larger transaction.</span></span>

<span data-ttu-id="12dec-114">Dans une écriture d’origine, un contrôleur de périphérique calcule un « tampon » pour chaque valeur d’attribut nouvelle ou modifiée, et joint ce marqueur à la valeur. ainsi, lorsque la valeur est répliquée, le tampon est également répliqué.</span><span class="sxs-lookup"><span data-stu-id="12dec-114">In an originating write, a DC computes a "stamp" for each new or modified attribute value, and attaches this stamp to the value so when the value is replicated, the stamp is replicated too.</span></span> <span data-ttu-id="12dec-115">Le nouveau tampon est unique et, dans le cas d’une mise à jour, le nouveau tampon est plus grand que l’estampille sur l’ancienne valeur de ce contrôleur de périphérique.</span><span class="sxs-lookup"><span data-stu-id="12dec-115">The new stamp is unique, and in case of an update, the new stamp is larger than the stamp on the old value at that DC.</span></span>

<span data-ttu-id="12dec-116">Parfois, un contrôleur de périphérique sélectionne l’ensemble des objets qui ont été modifiés depuis la dernière réplication du contrôleur de l’objet.</span><span class="sxs-lookup"><span data-stu-id="12dec-116">Occasionally, a DC selects the set of objects that have changed since the last time the DC performed replication.</span></span> <span data-ttu-id="12dec-117">Ensuite, pour chaque objet, il envoie un seul message à tous les autres contrôleurs de service qui contiennent toutes les valeurs actuelles des attributs modifiés depuis la dernière réplication de l’objet.</span><span class="sxs-lookup"><span data-stu-id="12dec-117">Then, for each object, it sends a single message to all other DCs that contain all the current values of attributes changed since the last time the object was replicated.</span></span> <span data-ttu-id="12dec-118">Les messages de réplication sont fiables et sont remis dans l’ordre, mais ils peuvent nécessiter plus de temps pour être remis.</span><span class="sxs-lookup"><span data-stu-id="12dec-118">Replication messages are reliable and are delivered in order, but may require more time to be delivered.</span></span>

<span data-ttu-id="12dec-119">Lorsqu’un contrôleur de périphérique reçoit un message de réplication d’un autre contrôleur de périphérique, il le traite comme suit : pour chaque attribut modifié, si le tampon sur la valeur dans le message de réplication est plus grand que le marqueur sur la valeur actuelle, le contrôleur de service applique la mise à jour ; dans le cas contraire, le contrôleur de réseau ignore la mise à jour.</span><span class="sxs-lookup"><span data-stu-id="12dec-119">When one DC receives a replication message from another DC, it processes it as follows: For each modified attribute, if the stamp on the value in the replication message is larger than the stamp on the current value, the DC applies the update; otherwise the DC discards the update.</span></span> <span data-ttu-id="12dec-120">Chaque message de réplication est appliqué comme une transaction atomique, tout comme une écriture d’origine.</span><span class="sxs-lookup"><span data-stu-id="12dec-120">Each replication message is applied as an atomic transaction, just like an originating write.</span></span>

<span data-ttu-id="12dec-121">Il s’agit du modèle de réplication Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="12dec-121">That is the Active Directory Domain Services replication model.</span></span> <span data-ttu-id="12dec-122">Les propriétés clés de ce modèle sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="12dec-122">Key properties of this model include:</span></span>

-   <span data-ttu-id="12dec-123">Une écriture d’origine dans un objet unique est atomique.</span><span class="sxs-lookup"><span data-stu-id="12dec-123">An originating write to a single object is atomic.</span></span>
-   <span data-ttu-id="12dec-124">Lors de la réplication des modifications, toutes les modifications apportées par une écriture d’origine sont envoyées ou aucune d’entre elles n’est.</span><span class="sxs-lookup"><span data-stu-id="12dec-124">When replicating changes, either all the changes made by an originating write are sent or none of them are.</span></span>
-   <span data-ttu-id="12dec-125">Une écriture répliquée sur un objet unique est atomique, mais les conflits sont résolus par attribut.</span><span class="sxs-lookup"><span data-stu-id="12dec-125">A replicated write to a single object is atomic, but conflicts are resolved attribute-by-attribute.</span></span>

<span data-ttu-id="12dec-126">Le modèle ne garantit pas l’ordre de réplication des modifications apportées aux différents objets.</span><span class="sxs-lookup"><span data-stu-id="12dec-126">The model does not guarantee the replication ordering of changes made to different objects.</span></span> <span data-ttu-id="12dec-127">N’écrivez pas d’applications qui partent du principe que les modifications sont répliquées dans l’ordre d’origine des écritures.</span><span class="sxs-lookup"><span data-stu-id="12dec-127">Do not write applications that assume that changes are replicated in originating-write order.</span></span> <span data-ttu-id="12dec-128">Le modèle ne garantit pas que si un attribut d’un objet est modifié deux fois, les deux valeurs sont répliquées ; La réplication envoie uniquement la valeur actuelle au moment de la réplication.</span><span class="sxs-lookup"><span data-stu-id="12dec-128">The model does not guarantee that if an attribute of an object is changed twice, both values will be replicated; Replication sends only the current value at the time of replication.</span></span>

<span data-ttu-id="12dec-129">Le modèle diffère de la réalité de plusieurs façons qui affectent uniquement les performances.</span><span class="sxs-lookup"><span data-stu-id="12dec-129">The model differs from reality in several ways that only affect performance.</span></span> <span data-ttu-id="12dec-130">Par exemple, le serveur Active Directory envoie des messages de réplication contenant les modifications apportées à plusieurs objets, mais traite le contenu d’un tel message à plusieurs objets comme s’il s’agissait d’une série de messages à un seul objet.</span><span class="sxs-lookup"><span data-stu-id="12dec-130">For example, the Active Directory Server sends replication messages containing the changes to multiple objects, but processes the contents of such a multi-object message as if it were a series of single-object messages.</span></span> <span data-ttu-id="12dec-131">Le serveur Active Directory n’effectue pas la réplication point à point comme décrit dans le modèle, mais effectue plutôt une réplication transitive plus complexe et plus efficace qui est fonctionnellement équivalente au modèle.</span><span class="sxs-lookup"><span data-stu-id="12dec-131">The Active Directory Server does not perform point-to-point replication as described in the model, but instead performs a more complex and more efficient transitive replication that is functionally equivalent to the model.</span></span>

 

 




