---
title: Recommandations pour les applications d’extension de schéma
description: Cette rubrique contient des recommandations relatives aux applications d’extension de schéma.
ms.assetid: 615e927e-a113-4557-b354-55a208a649eb
ms.tgt_platform: multiple
keywords:
- Recommandations pour les applications d’extension de schéma AD
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2393211eb910ce4bc490667398da7f38d212ddcf
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/17/2020
ms.locfileid: "104101429"
---
# <a name="recommendations-for-schema-extension-applications"></a><span data-ttu-id="462cc-104">Recommandations pour les applications d’extension de schéma</span><span class="sxs-lookup"><span data-stu-id="462cc-104">Recommendations for Schema Extension Applications</span></span>

<span data-ttu-id="462cc-105">Outre les conditions préalables, les meilleures pratiques suivantes sont recommandées pour les applications d’extension de schéma :</span><span class="sxs-lookup"><span data-stu-id="462cc-105">In addition to the prerequisites, the following best practices are recommended for schema extension applications:</span></span>

-   <span data-ttu-id="462cc-106">Recherchez le contrôleur de schéma.</span><span class="sxs-lookup"><span data-stu-id="462cc-106">Find the schema master.</span></span> <span data-ttu-id="462cc-107">Établissez une liaison avec le schéma sur le contrôleur de bus qui est le contrôleur de schéma.</span><span class="sxs-lookup"><span data-stu-id="462cc-107">Bind to the schema on the DC that is the schema master.</span></span> <span data-ttu-id="462cc-108">Évitez de modifier inutilement le rôle de contrôleur de schéma entre les contrôleurs de schéma.</span><span class="sxs-lookup"><span data-stu-id="462cc-108">Avoid unnecessarily changing the schema master role between DCs.</span></span> <span data-ttu-id="462cc-109">Pour effectuer une liaison au conteneur de schéma sur le contrôleur de schéma.</span><span class="sxs-lookup"><span data-stu-id="462cc-109">To bind to the schema container on the schema master.</span></span> <span data-ttu-id="462cc-110">Pour plus d’informations, consultez [Configuration requise pour l’installation d’une extension de schéma](prerequisites-for-installing-a-schema-extension.md).</span><span class="sxs-lookup"><span data-stu-id="462cc-110">For more information, see [Prerequisites for Installing a Schema Extension](prerequisites-for-installing-a-schema-extension.md).</span></span>
-   <span data-ttu-id="462cc-111">Avant d’effectuer une action, vérifiez la propriété **allowedChildClassesEffective** du conteneur de schéma pour vérifier que vous pouvez créer des attributs et/ou des classes.</span><span class="sxs-lookup"><span data-stu-id="462cc-111">Before performing any action, check the **allowedChildClassesEffective** property of the schema container to verify that you can create attributes and/or classes.</span></span> <span data-ttu-id="462cc-112">Si **attributeSchema** et **classSchema** ne sont pas des valeurs dans cette propriété, vous ne disposez pas des droits suffisants pour ajouter des attributs ou des classes au schéma.</span><span class="sxs-lookup"><span data-stu-id="462cc-112">If **attributeSchema** and **classSchema** are not values in that property, you do not have sufficient rights to add attributes or classes to the schema.</span></span> <span data-ttu-id="462cc-113">Pour plus d’informations, consultez [exemple de code pour la vérification des droits de création d’objets de schéma](example-code-for-checking-for-rights-to-create-schema-objects.md).</span><span class="sxs-lookup"><span data-stu-id="462cc-113">For more information, see [Example Code for Checking for Rights to Create Schema Objects](example-code-for-checking-for-rights-to-create-schema-objects.md).</span></span>
-   <span data-ttu-id="462cc-114">Vérifiez que la mise à jour du schéma autorisée est correctement définie dans le Registre du contrôleur de schéma.</span><span class="sxs-lookup"><span data-stu-id="462cc-114">Ensure that the Schema Update Allowed is set appropriately in the registry of the schema master.</span></span> <span data-ttu-id="462cc-115">Pour créer ou définir cette valeur, restaurez son état d’origine dans le cadre de la routine de nettoyage de votre application.</span><span class="sxs-lookup"><span data-stu-id="462cc-115">To create or set this value, restore it to its original state as part of your application clean-up routine.</span></span> <span data-ttu-id="462cc-116">Pour plus d’informations sur la vérification et la définition de cette valeur, consultez [la page activation des modifications de schéma sur le contrôleur de schéma](enabling-schema-changes-at-the-schema-master.md).</span><span class="sxs-lookup"><span data-stu-id="462cc-116">For more information about checking and setting this value, see [Enabling Schema Changes at the Schema Master](enabling-schema-changes-at-the-schema-master.md).</span></span>
-   <span data-ttu-id="462cc-117">Avant d’ajouter des attributs ou des classes, assurez-vous qu’ils n’existent pas déjà.</span><span class="sxs-lookup"><span data-stu-id="462cc-117">Before adding attributes or classes, be sure that they do not already exist.</span></span> <span data-ttu-id="462cc-118">S’ils existent, vérifiez qu’il s’agit des mêmes attributs ou classes que ceux que vous ajoutez et non d’un attribut ou d’une classe créé par une personne avec une syntaxe et des propriétés différentes qui sont incompatibles avec vos attributs ou classes.</span><span class="sxs-lookup"><span data-stu-id="462cc-118">If they do exist, verify that they are the same attributes or classes you are adding and not an attribute or class created by someone with different syntax and properties that are incompatible with your attributes or classes.</span></span>

    <span data-ttu-id="462cc-119">Pour les attributs, utilisez la requête pour **CN**, **AttributeID**, **governsID**, **lDAPDisplayName** et **schemaIDGUID** pour vous assurer qu’ils ne sont pas déjà utilisés.</span><span class="sxs-lookup"><span data-stu-id="462cc-119">For attributes, query for **cn**, **attributeID**, **governsID**, **lDAPDisplayName**, and **schemaIDGUID** to ensure they are not already used.</span></span> <span data-ttu-id="462cc-120">Si vous ajoutez un ensemble d’attributs liés (un lien suivant, un lien précédent), assurez-vous que les **LinkId** s ne sont pas déjà utilisés.</span><span class="sxs-lookup"><span data-stu-id="462cc-120">If you add a set of linked attributes (one forward link, one back link), ensure that the **linkID** s are not already used.</span></span> <span data-ttu-id="462cc-121">Requête pour **governsID** , car l’identificateur d’objet (OID) doit être unique parmi les attributs et les classes.</span><span class="sxs-lookup"><span data-stu-id="462cc-121">Query for **governsID** because the object identifier (OID) must be unique among attributes and classes.</span></span>

    <span data-ttu-id="462cc-122">Pour les classes, interrogez **CN**, **governsID**, **AttributeID**, **lDAPDisplayName** et **schemaIDGUID** pour vous assurer qu’ils ne sont pas déjà utilisés.</span><span class="sxs-lookup"><span data-stu-id="462cc-122">For classes, query for **cn**, **governsID**, **attributeID**, **lDAPDisplayName**, and **schemaIDGUID** to ensure they are not already used.</span></span> <span data-ttu-id="462cc-123">Requête pour **AttributeID** , car l’OID doit être unique parmi les classes et les attributs.</span><span class="sxs-lookup"><span data-stu-id="462cc-123">Query for **attributeID** because the OID must be unique among classes and attributes.</span></span>

    <span data-ttu-id="462cc-124">Pour plus d’informations sur la vérification des collisions de noms, consultez [exemple de code pour la détection des collisions de noms de schéma](example-code-for-detecting-schema-naming-collisions.md).</span><span class="sxs-lookup"><span data-stu-id="462cc-124">For more information about checking for naming collisions, see [Example Code for Detecting Schema Naming Collisions](example-code-for-detecting-schema-naming-collisions.md).</span></span>

    <span data-ttu-id="462cc-125">S’il existe des attributs ou des classes qui sont en conflit avec vos nouveaux attributs ou classes, votre application ne doit pas appliquer vos modifications de schéma.</span><span class="sxs-lookup"><span data-stu-id="462cc-125">If attributes or classes exist that conflict with your new attributes or classes, your application should not apply your schema changes.</span></span>

-   <span data-ttu-id="462cc-126">Si une telle collision existe, votre application ne doit pas appliquer vos modifications de schéma.</span><span class="sxs-lookup"><span data-stu-id="462cc-126">If such a collision exists, your application should not apply your schema changes.</span></span> <span data-ttu-id="462cc-127">Il se peut que l’administrateur de schéma doive résoudre le conflit, puis exécuter à nouveau votre application.</span><span class="sxs-lookup"><span data-stu-id="462cc-127">The schema administrator may need to resolve the collision and then run your application again.</span></span> <span data-ttu-id="462cc-128">Vous pouvez également utiliser un **lDAPDisplayName** différent ; Toutefois, toutes les applications qui utilisent l’attribut ou l’objet doivent être conscientes de cette modification.</span><span class="sxs-lookup"><span data-stu-id="462cc-128">Alternatively, a different **lDAPDisplayName** could be used; however, any applications using the attribute or object must be aware of that change.</span></span> <span data-ttu-id="462cc-129">Pour éviter les collisions d’OID, obtenez un OID auprès d’une autorité d’inscription de noms ISO.</span><span class="sxs-lookup"><span data-stu-id="462cc-129">To help avoid OID collisions, obtain an OID from an ISO name registration authority.</span></span>
-   <span data-ttu-id="462cc-130">Si votre application dépend des attributs ou des classes qu’elle a ajoutés, mettez à jour le cache de schéma avant d’ajouter les nouveaux attributs ou classes qui dépendent de ces attributs ou classes.</span><span class="sxs-lookup"><span data-stu-id="462cc-130">If your application is dependent on attributes or classes that it has added, update the schema cache before adding the new attributes or classes that are dependent on those attributes or classes.</span></span> <span data-ttu-id="462cc-131">N’oubliez pas que l’attribut opérationnel **schemaUpdateNow** est synchrone.</span><span class="sxs-lookup"><span data-stu-id="462cc-131">Be aware that the **schemaUpdateNow** operational attribute is synchronous.</span></span> <span data-ttu-id="462cc-132">Autrement dit, l’appel de la méthode [**IADs ::P ut**](/windows/desktop/api/iads/nf-iads-iads-put) se bloque jusqu’à ce que le cache du schéma soit mis à jour.</span><span class="sxs-lookup"><span data-stu-id="462cc-132">That is, the [**IADs::Put**](/windows/desktop/api/iads/nf-iads-iads-put) method call will block until the schema cache is updated.</span></span> <span data-ttu-id="462cc-133">Lorsque l’appel est retourné, le cache de schéma a été mis à jour et les nouveaux attributs et/ou classes sont accessibles.</span><span class="sxs-lookup"><span data-stu-id="462cc-133">When the call returns, the schema cache has been updated and the new attributes and/or classes are accessible.</span></span>

    <span data-ttu-id="462cc-134">Pour plus d’informations sur la mise à jour du cache de schéma, consultez [l’exemple de code pour la mise à jour du cache de schéma](example-code-for-updating-the-schema-cache.md).</span><span class="sxs-lookup"><span data-stu-id="462cc-134">For more information about how to update the schema cache, see [Example Code for Updating the Schema Cache](example-code-for-updating-the-schema-cache.md).</span></span>

 

 