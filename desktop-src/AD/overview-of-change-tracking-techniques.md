---
title: Vue d’ensemble des techniques de Change Tracking
description: Il existe plusieurs façons de faire en sorte que les mécanismes de suivi des modifications aient une portée différente pour le suivi des modifications qu’une application peut suivre les modifications apportées à un attribut unique d’un objet unique, à tous les objets d’un domaine, et ainsi de suite.
ms.assetid: 7359e851-61b7-420d-beb0-f7f33f79b007
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 91fce20dc5e9fe8fe98937bb13885be577185e04
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104028598"
---
# <a name="overview-of-change-tracking-techniques"></a><span data-ttu-id="3ce55-103">Vue d’ensemble des techniques de Change Tracking</span><span class="sxs-lookup"><span data-stu-id="3ce55-103">Overview of Change Tracking Techniques</span></span>

<span data-ttu-id="3ce55-104">Les mécanismes de suivi des modifications peuvent différer de plusieurs façons :</span><span class="sxs-lookup"><span data-stu-id="3ce55-104">There are several ways that change tracking mechanisms can differ:</span></span>

-   <span data-ttu-id="3ce55-105">Étendue pour le suivi des modifications : une application peut suivre les modifications apportées à un attribut d’un seul objet, à tous les objets d’un domaine, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="3ce55-105">Scope for tracking changes: An application can track changes to a single attribute of a single object, to all objects in a domain, and so on.</span></span> <span data-ttu-id="3ce55-106">Si le mécanisme correspond aux spécifications de l’application, l’application reçoit au minimum des données non pertinentes, ce qui améliore les performances.</span><span class="sxs-lookup"><span data-stu-id="3ce55-106">If the mechanism matches the requirements of the application, the application receives a minimum of irrelevant data, and thus this enhances performance.</span></span>
-   <span data-ttu-id="3ce55-107">Actualité : une application est notifiée de chaque modification au fur et à mesure qu’elle se produit, ou peut être avertie de l’effet net des modifications sur une période de minutes ou d’heures.</span><span class="sxs-lookup"><span data-stu-id="3ce55-107">Timeliness: An application is notified of every change as it happens, or can be notified of the net effect of changes over a period of minutes or hours.</span></span>

    <span data-ttu-id="3ce55-108">Le traitement des données moins rapidement peut s’avérer plus efficace, car plusieurs modifications peuvent être réduites en une seule.</span><span class="sxs-lookup"><span data-stu-id="3ce55-108">Processing less timely data may be more efficient, because several changes may be collapsed into one.</span></span> <span data-ttu-id="3ce55-109">Par exemple, si un attribut change trois fois dans un intervalle d’une heure, une application notifiée des modifications accumulées sur une heure est notifiée d’une seule modification d’attribut, et non pas de trois.</span><span class="sxs-lookup"><span data-stu-id="3ce55-109">For example, if an attribute changes three times within a one hour interval, an application notified of changes accumulated over an hour will be notified of just one attribute change, not three.</span></span>

    <span data-ttu-id="3ce55-110">Lorsque vous réfléchissez à la chronologie, tenez compte de l’effet de la latence de réplication.</span><span class="sxs-lookup"><span data-stu-id="3ce55-110">When thinking about timeliness, consider the effect of replication latency.</span></span> <span data-ttu-id="3ce55-111">Une mise à jour qui provient d’un contrôleur de domaine n’est pas répliquée instantanément sur un autre contrôleur de domaine.</span><span class="sxs-lookup"><span data-stu-id="3ce55-111">An update that originates on one domain controller does not replicate to another domain controller instantly.</span></span> <span data-ttu-id="3ce55-112">L’exigence d’une chronologie de suivi des modifications bien meilleure que la latence de réplication attendue n’offre souvent aucun avantage réel pour l’application.</span><span class="sxs-lookup"><span data-stu-id="3ce55-112">Requiring change-tracking timeliness much better than the expected replication latency often gives no real benefit to the application.</span></span>

-   <span data-ttu-id="3ce55-113">Interrogation et notification : avec l’interrogation, une application envoie régulièrement une demande à un contrôleur de domaine pour recevoir les données de suivi des modifications.</span><span class="sxs-lookup"><span data-stu-id="3ce55-113">Polling versus notification: With polling, an application periodically makes a request to a domain controller to receive change tracking data.</span></span> <span data-ttu-id="3ce55-114">Avec notification, le contrôleur de domaine envoie les modifications à l’application uniquement lorsque des modifications se produisent.</span><span class="sxs-lookup"><span data-stu-id="3ce55-114">With notification the domain controller sends changes to the application only when changes occur.</span></span>

    <span data-ttu-id="3ce55-115">La surcharge de l’interrogation est évidente : l’application peut demander des données de suivi des modifications si rien ne s’est produit.</span><span class="sxs-lookup"><span data-stu-id="3ce55-115">The overhead of polling is obvious: The application may request change tracking data when nothing significant has occurred.</span></span> <span data-ttu-id="3ce55-116">La surcharge de la notification est plus subtile.</span><span class="sxs-lookup"><span data-stu-id="3ce55-116">The overhead of notification is more subtle.</span></span> <span data-ttu-id="3ce55-117">Le serveur doit conserver les données relatives aux demandes de notification et doit consulter ces données pour décider s’il faut envoyer une notification.</span><span class="sxs-lookup"><span data-stu-id="3ce55-117">The server must maintain data about notification requests and must consult this data to decide whether or not to send a notification.</span></span> <span data-ttu-id="3ce55-118">Cela peut ajouter de la surcharge aux demandes de mise à jour normales.</span><span class="sxs-lookup"><span data-stu-id="3ce55-118">This can add overhead to normal update requests.</span></span>

-   <span data-ttu-id="3ce55-119">Exprimant la connaissance de l’application : persistante et temporaire : chaque mécanisme de suivi des modifications doit inclure une méthode pour le serveur contenant les données suivies pour comprendre l’état de la connaissance de l’application, afin que l’idée de « modification » soit bien définie.</span><span class="sxs-lookup"><span data-stu-id="3ce55-119">Expressing the application's knowledge: persistent versus temporary: Every change tracking mechanism must include some method for the server holding the data tracked to understand the application's state of knowledge, so that the idea of "change" is well defined.</span></span> <span data-ttu-id="3ce55-120">Par exemple, l’état de la connaissance de l’application peut être exprimé sous la forme « mis à jour avec toutes les modifications qui se sont produites sur le DC d avant le t t ».</span><span class="sxs-lookup"><span data-stu-id="3ce55-120">For example, the application's state of knowledge might be expressed as "Updated with all changes that occurred on DC d before time t."</span></span> <span data-ttu-id="3ce55-121">Un mécanisme basé sur cette façon d’exprimer l’état des connaissances d’une application permet à l’application d’obtenir efficacement des modifications qui se sont produites plus tard qu’une durée spécifiée.</span><span class="sxs-lookup"><span data-stu-id="3ce55-121">A mechanism based on this way of expressing an application's state of knowledge would provide an efficient way for the application to obtain changes that have occurred later than a specified time.</span></span>

    <span data-ttu-id="3ce55-122">Si l’expression de la base de connaissances de l’application peut être persistante, c’est-à-dire stockée de façon plus importante, comme dans un fichier ou une base de données, le redémarrage de l’application est moins gourmand en ressources que s’il ne l’est pas.</span><span class="sxs-lookup"><span data-stu-id="3ce55-122">If the expression of the application's knowledge can be persisted, that is, stored recoverably, as in a file or database, application restart is less resource intensive than if it cannot.</span></span> <span data-ttu-id="3ce55-123">Dans l’exemple ci-dessus, l’expression de la connaissance de l’application peut être rendue persistante en enregistrant le DC d et l’heure t.</span><span class="sxs-lookup"><span data-stu-id="3ce55-123">In the example above, the expression of the application's knowledge can be persisted by recording the DC d and the time t.</span></span> <span data-ttu-id="3ce55-124">Certains mécanismes de notification de modification n’autorisent pas la conservation de ces données.</span><span class="sxs-lookup"><span data-stu-id="3ce55-124">Some change notification mechanisms do not allow this data to be persisted.</span></span> <span data-ttu-id="3ce55-125">Le serveur et l’application doivent se synchroniser avec un autre mécanisme au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="3ce55-125">The server and application must synchronize with some other mechanism when the application starts.</span></span> <span data-ttu-id="3ce55-126">Cela nécessite beaucoup de ressources si plusieurs objets sont impliqués et peut impliquer une programmation complexe.</span><span class="sxs-lookup"><span data-stu-id="3ce55-126">This is resource-intensive if multiple objects are involved, and can involve complex programming.</span></span>

<span data-ttu-id="3ce55-127">Utilisez les techniques suivantes pour suivre les modifications apportées à Active Directory Domain Services :</span><span class="sxs-lookup"><span data-stu-id="3ce55-127">Use the following techniques to track changes in Active Directory Domain Services:</span></span>

-   <span data-ttu-id="3ce55-128">Utilisez le contrôle de notification de modification pour lancer une recherche asynchrone permanente pour les modifications qui correspondent à un filtre spécifié.</span><span class="sxs-lookup"><span data-stu-id="3ce55-128">Use the change notification control to initiate a persistent asynchronous search for changes that match a specified filter.</span></span> <span data-ttu-id="3ce55-129">Pour plus d’informations, consultez [notifications de modifications dans Active Directory Domain Services](change-notifications-in-active-directory-domain-services.md).</span><span class="sxs-lookup"><span data-stu-id="3ce55-129">For more information, see [Change Notifications in Active Directory Domain Services](change-notifications-in-active-directory-domain-services.md).</span></span>
-   <span data-ttu-id="3ce55-130">Utilisez une recherche de synchronisation d’annuaires (DirSync) pour récupérer les modifications qui se sont produites depuis la recherche DirSync précédente.</span><span class="sxs-lookup"><span data-stu-id="3ce55-130">Use a directory synchronization (DirSync) search to retrieve changes that have occurred since the previous DirSync search.</span></span> <span data-ttu-id="3ce55-131">Pour plus d’informations, consultez [interrogation des modifications à l’aide du contrôle DirSync](polling-for-changes-using-the-dirsync-control.md).</span><span class="sxs-lookup"><span data-stu-id="3ce55-131">For more information, see [Polling for Changes Using the DirSync Control](polling-for-changes-using-the-dirsync-control.md).</span></span>
-   <span data-ttu-id="3ce55-132">Utilisez l’attribut USNChanged pour rechercher des objets qui ont été modifiés depuis la recherche précédente.</span><span class="sxs-lookup"><span data-stu-id="3ce55-132">Use the USNChanged attribute to search for objects that have changed since the previous search.</span></span> <span data-ttu-id="3ce55-133">Pour plus d’informations, consultez [interrogation des modifications à l’aide de USNChanged](polling-for-changes-using-usnchanged.md).</span><span class="sxs-lookup"><span data-stu-id="3ce55-133">For more information, see [Polling for Changes Using USNChanged](polling-for-changes-using-usnchanged.md).</span></span>

<span data-ttu-id="3ce55-134">Le contrôle de notification de modification est conçu pour les applications ou services qui requièrent raisonnablement des notifications de modifications peu fréquentes.</span><span class="sxs-lookup"><span data-stu-id="3ce55-134">The change notification control is designed for applications or services that require reasonably prompt notification of infrequent changes.</span></span> <span data-ttu-id="3ce55-135">Par exemple, un service ou un programme qui stocke les données de configuration sur le serveur Active Directory et qui doivent être avertis rapidement en cas de modification.</span><span class="sxs-lookup"><span data-stu-id="3ce55-135">An example is a service or program that stores configuration data on the Active Directory server and must be notified promptly when a change occurs.</span></span> <span data-ttu-id="3ce55-136">N’oubliez pas qu’il existe des limitations du contrôle de notification.</span><span class="sxs-lookup"><span data-stu-id="3ce55-136">Be aware that there are limitations of the notification control.</span></span>

-   <span data-ttu-id="3ce55-137">L’incitation des notifications dépend de la latence de réplication et de l’emplacement où la modification s’est produite.</span><span class="sxs-lookup"><span data-stu-id="3ce55-137">The promptness of notifications depends on replication latency and where the change occurred.</span></span> <span data-ttu-id="3ce55-138">Vous pouvez être averti quand une modification est répliquée dans le réplica que vous analysez, mais que la modification a peut-être été apportée plus tôt sur un autre réplica.</span><span class="sxs-lookup"><span data-stu-id="3ce55-138">You may be notified promptly when a change replicates into the replica you are monitoring, but the change may have originated much earlier on some other replica.</span></span>
-   <span data-ttu-id="3ce55-139">Le contrôle est limité à l’analyse d’un seul objet ou des enfants immédiats d’un conteneur.</span><span class="sxs-lookup"><span data-stu-id="3ce55-139">The control is restricted to monitoring a single object or the immediate children of a container.</span></span> <span data-ttu-id="3ce55-140">Les applications qui doivent surveiller plusieurs conteneurs ou objets non liés peuvent inscrire jusqu’à cinq demandes de notification.</span><span class="sxs-lookup"><span data-stu-id="3ce55-140">Applications that must monitor multiple containers or unrelated objects can register up to five notification requests.</span></span>
-   <span data-ttu-id="3ce55-141">Si un trop grand nombre de clients écoutent des modifications fréquentes, cela aura un impact sur les performances du serveur.</span><span class="sxs-lookup"><span data-stu-id="3ce55-141">If too many clients are listening for changes that occur frequently, it will impact the performance of the server.</span></span> <span data-ttu-id="3ce55-142">En général, les applications doivent limiter leur utilisation de ce contrôle pour des raisons de performances sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="3ce55-142">In general, applications should limit their use of this control for performance reasons on the server.</span></span> <span data-ttu-id="3ce55-143">Si vous n’avez pas besoin d’en savoir plus sur les modifications immédiatement, il peut être préférable d’interroger régulièrement les modifications au lieu d’utiliser la notification de modification.</span><span class="sxs-lookup"><span data-stu-id="3ce55-143">If you do not need to know about changes immediately, it may be best to periodically poll for changes instead of using change notification.</span></span>

<span data-ttu-id="3ce55-144">Les techniques de recherche DirSync et USNChanged sont conçues pour les applications qui maintiennent la cohérence entre les données sur le serveur Active Directory et les données correspondantes dans d’autres stockages.</span><span class="sxs-lookup"><span data-stu-id="3ce55-144">The DirSync and USNChanged search techniques are designed for applications that maintain consistency between data on the Active Directory server and corresponding data in some other storage.</span></span> <span data-ttu-id="3ce55-145">Ces techniques sont utilisées par les applications qui interrogent régulièrement les modifications.</span><span class="sxs-lookup"><span data-stu-id="3ce55-145">These techniques are used by applications that periodically poll for changes.</span></span> <span data-ttu-id="3ce55-146">La technique DirSync est basée sur un contrôle serveur LDAP que vous pouvez utiliser via des API ADSI ou LDAP.</span><span class="sxs-lookup"><span data-stu-id="3ce55-146">The DirSync technique is based on an LDAP server control that you can use through ADSI or LDAP APIs.</span></span> <span data-ttu-id="3ce55-147">Les inconvénients du contrôle DirSync sont qu’il ne peut être utilisé que par un compte doté de privilèges élevés, tel qu’un administrateur de domaine.</span><span class="sxs-lookup"><span data-stu-id="3ce55-147">The disadvantages of the DirSync control are that it can only be used by a highly privileged account, such as a domain administrator.</span></span> <span data-ttu-id="3ce55-148">La liste suivante répertorie les limitations du contrôle DirSync :</span><span class="sxs-lookup"><span data-stu-id="3ce55-148">The following is a list of limitations of DirSync control:</span></span>

-   <span data-ttu-id="3ce55-149">Le contrôle DirSync ne peut être utilisé que par un compte doté de privilèges élevés, tel qu’un administrateur de domaine.</span><span class="sxs-lookup"><span data-stu-id="3ce55-149">The DirSync control can only be used by a highly privileged account, such as a domain administrator.</span></span>
-   <span data-ttu-id="3ce55-150">Le contrôle DirSync peut uniquement surveiller l’intégralité d’un contexte d’appellation.</span><span class="sxs-lookup"><span data-stu-id="3ce55-150">The DirSync control can only monitor an entire naming context.</span></span> <span data-ttu-id="3ce55-151">Vous ne pouvez pas limiter l’étendue d’une recherche DirSync pour surveiller uniquement un sous-arbre, un conteneur ou un objet spécifique dans un contexte d’appellation.</span><span class="sxs-lookup"><span data-stu-id="3ce55-151">You cannot limit the scope of a DirSync search to monitor only a specific subtree, container, or object in a naming context.</span></span>

<span data-ttu-id="3ce55-152">La technique USNChanged ne présente pas ces limitations, bien qu’elle soit un peu plus compliquée à utiliser que DirSync.</span><span class="sxs-lookup"><span data-stu-id="3ce55-152">The USNChanged technique does not have these limitations, although it is somewhat more complicated to use than DirSync.</span></span>

 

 




