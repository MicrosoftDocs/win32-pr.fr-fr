---
title: À propos de l’authentification mutuelle à l’aide de Kerberos
description: Dans l’authentification mutuelle, le client et le service doivent vérifier leurs identités respectives avant d’exécuter des fonctions d’application.
ms.assetid: 5ce923d6-bede-4acb-b297-e93f2f506ea9
ms.tgt_platform: multiple
keywords:
- À propos de l’authentification mutuelle à l’aide de Kerberos AD
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9685dad0bd20f233b8dcb0ecf12af338f318646f
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104028515"
---
# <a name="about-mutual-authentication-using-kerberos"></a><span data-ttu-id="29070-104">À propos de l’authentification mutuelle à l’aide de Kerberos</span><span class="sxs-lookup"><span data-stu-id="29070-104">About Mutual Authentication Using Kerberos</span></span>

<span data-ttu-id="29070-105">Dans l’authentification mutuelle, le client et le service doivent vérifier leurs identités respectives avant d’exécuter des fonctions d’application.</span><span class="sxs-lookup"><span data-stu-id="29070-105">In mutual authentication, the client and service must verify their respective identities to each other before performing application functions.</span></span> <span data-ttu-id="29070-106">Aucune des parties ne peut effectuer des opérations avec l’autre tant que l’identité n’a pas été vérifiée ; autrement dit, le service doit être en mesure de vérifier le client sans interroger le client et le client doit être en mesure de vérifier le service sans interroger le service.</span><span class="sxs-lookup"><span data-stu-id="29070-106">Neither party can perform operations with the other until identity has been verified; that is, the service must be able to verify the client without querying the client and the client must be able to verify the service without querying the service.</span></span>

<span data-ttu-id="29070-107">La valeur d’un service qui peut authentifier un client est bien connue.</span><span class="sxs-lookup"><span data-stu-id="29070-107">The value of a service that can authenticate a client is well-known.</span></span> <span data-ttu-id="29070-108">Par exemple, un service de fichiers emprunte l’identité d’un client pour déterminer les fichiers auxquels le client peut accéder.</span><span class="sxs-lookup"><span data-stu-id="29070-108">For example, a file service impersonates a client to determine which files the client can access.</span></span>

<span data-ttu-id="29070-109">La valeur d’un client qui peut authentifier un service est moins comprise.</span><span class="sxs-lookup"><span data-stu-id="29070-109">The value of a client that can authenticate a service is less understood.</span></span> <span data-ttu-id="29070-110">L’authentification d’un service permet au client d’approuver les données qu’il obtient du service et d’être sécurisé lors de l’envoi de données sensibles au service.</span><span class="sxs-lookup"><span data-stu-id="29070-110">Authenticating a service enables the client to trust the data that it gets from the service and to be secure in sending sensitive data to the service.</span></span> <span data-ttu-id="29070-111">La capacité d’un client à authentifier un service est particulièrement importante dans les applications client/service qui prennent en charge la délégation du contexte de sécurité du client. autrement dit, le client autorise le service à agir en tant que délégué pour accéder à des services ou des ressources réseau supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="29070-111">The ability of a client to authenticate a service is particularly important in client/service applications that support delegation of the client's security context; that is, the client authorizes the service to act as its delegate in accessing additional services or network resources.</span></span>

<span data-ttu-id="29070-112">Un service authentifie un client comme suit : le client établit un contexte de sécurité local soit en s’exécutant dans un contexte précédemment établi, par exemple dans la session d’un utilisateur connecté, soit en fournissant explicitement des informations d’identification au fournisseur de sécurité sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="29070-112">A service authenticates a client as follows: The client establishes a local security context either by executing in a previously established context, for example, in the session of a logged-in user, or by explicitly presenting credentials to the underlying security provider.</span></span> <span data-ttu-id="29070-113">Le service ne peut pas accepter les connexions à partir de n’importe quel client non authentifié.</span><span class="sxs-lookup"><span data-stu-id="29070-113">The service cannot accept connections from any unauthenticated client.</span></span>

<span data-ttu-id="29070-114">Le mécanisme Kerberos par lequel un client authentifie un service fonctionne comme suit : lorsqu’un service est installé, un programme d’installation de service, exécuté avec des privilèges d’administrateur, inscrit un ou plusieurs noms de principal du service (SPN) uniques pour chaque instance de service.</span><span class="sxs-lookup"><span data-stu-id="29070-114">The Kerberos mechanism by which a client authenticates a service works as follows: When a service is installed, a service installer, running with administrator privileges, registers one or more unique SPNs for each service instance.</span></span> <span data-ttu-id="29070-115">Les noms sont enregistrés dans le contrôleur de domaine Active Directory (DC) sur l’objet de compte d’utilisateur ou d’ordinateur que l’instance de service utilisera pour ouvrir une session.</span><span class="sxs-lookup"><span data-stu-id="29070-115">The names are registered in the Active Directory Domain Controller (DC) on the user or computer account object that the service instance will use to log on.</span></span> <span data-ttu-id="29070-116">Lorsqu’un client demande une connexion à un service, il compose un SPN pour une instance de service, à l’aide des données connues ou des données fournies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="29070-116">When a client requests a connection to a service, it composes an SPN for a service instance, using known data or data provided by the user.</span></span> <span data-ttu-id="29070-117">Le client utilise ensuite le package SSPI Negotiate pour présenter le nom de principal du service au centre de distribution de clés (KDC) pour le compte de domaine client.</span><span class="sxs-lookup"><span data-stu-id="29070-117">The client then uses the SSPI negotiate package to present the SPN to the Key Distribution Center (KDC) for the client domain account.</span></span> <span data-ttu-id="29070-118">Le KDC recherche dans la forêt un compte d’utilisateur ou d’ordinateur sur lequel le SPN est inscrit.</span><span class="sxs-lookup"><span data-stu-id="29070-118">The KDC searches the forest for a user or computer account on which that SPN is registered.</span></span> <span data-ttu-id="29070-119">Si le SPN est inscrit sur plusieurs comptes, l’authentification échoue.</span><span class="sxs-lookup"><span data-stu-id="29070-119">If the SPN is registered on more than one account, the authentication fails.</span></span> <span data-ttu-id="29070-120">Dans le cas contraire, le centre KDC chiffre un message à l’aide du mot de passe du compte sur lequel le SPN a été inscrit.</span><span class="sxs-lookup"><span data-stu-id="29070-120">Otherwise, the KDC encrypts a message using the password of the account on which the SPN was registered.</span></span> <span data-ttu-id="29070-121">Le KDC transmet ce message chiffré au client, qui à son tour le transmet à l’instance de service.</span><span class="sxs-lookup"><span data-stu-id="29070-121">The KDC passes this encrypted message to the client, which in turn passes it to the service instance.</span></span> <span data-ttu-id="29070-122">Le service utilise le package SSPI Negotiate pour déchiffrer le message, qu’il transmet au client et sur le KDC du client.</span><span class="sxs-lookup"><span data-stu-id="29070-122">The service uses the SSPI negotiate package to decrypt the message, which it passes back to the client and on to the client's KDC.</span></span> <span data-ttu-id="29070-123">Le KDC authentifie le service si le message déchiffré correspond à son message d’origine.</span><span class="sxs-lookup"><span data-stu-id="29070-123">The KDC authenticates the service if the decrypted message matches its original message.</span></span>

-   <span data-ttu-id="29070-124">Pour plus d’informations sur la composition et l’inscription des noms de principal du service, consultez. [Noms de principal du service](service-principal-names.md)</span><span class="sxs-lookup"><span data-stu-id="29070-124">For more information about composing and registering SPNs, see .[Service Principal Names](service-principal-names.md)</span></span>
-   <span data-ttu-id="29070-125">Pour plus d’informations et pour obtenir un exemple de code qui compose un SPN pour un service Windows Sockets qui se publie lui-même avec un point de connexion de service, consultez [composition des noms de principal du service pour un service avec SCP](composing-the-spns-for-a-service-with-an-scp.md).</span><span class="sxs-lookup"><span data-stu-id="29070-125">For more information and a code example that composes an SPN for a Windows Sockets service that publishes itself with a service connection point, see [Composing the SPNs for a Service with an SCP](composing-the-spns-for-a-service-with-an-scp.md).</span></span>
-   <span data-ttu-id="29070-126">Pour plus d’informations et pour obtenir un exemple de code qui compose un SPN pour un service RPC, consultez [composition de SPN pour un service RpcNs](composing-spns-for-an-rpcns-service.md).</span><span class="sxs-lookup"><span data-stu-id="29070-126">For more information and a code example that composes an SPN for an RPC service, see [Composing SPNs for an RpcNs Service](composing-spns-for-an-rpcns-service.md).</span></span>

 

 




