---
description: Définit une liste de compteurs logiquement liés.
ms.assetid: d094146a-389e-4053-8ee5-acd29254e817
title: Type complexe counterSet
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- kbSyntax
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 95d3abd57a14648013a74b841b898c8a4abf229815e56a68ffc95dbafa1567f0
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/11/2021
ms.locfileid: "119775399"
---
# <a name="counterset-complex-type"></a>Type complexe counterSet

Définit une liste de compteurs logiquement liés.

``` syntax
<xs:complexType name="counterSet">
    <xs:sequence>
        <xs:element name="structs"
            type="man:structs"
            minOccurs="0"
            maxOccurs="1"
         />
        <xs:element name="counter"
            type="man:counter"
            minOccurs="1"
            maxOccurs="unbounded"
         />
    </xs:sequence>
    <xs:attribute name="symbol"
        type="man:CSymbolType"
        use="required"
     />
    <xs:attribute name="guid"
        type="man:GUIDType"
        use="required"
     />
    <xs:attribute name="uri"
        type="xs:anyURI"
        use="required"
     />
    <xs:attribute name="name"
        use="required"
    >
        <xs:simpleType>
            <xs:restriction
                base="xs:string"
            >
                <xs:maxLength
                    value="1023"
                 />
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="description"
        type="xs:string"
        use="required"
     />
    <xs:attribute name="instances"
        use="optional"
        default="single"
    >
        <xs:simpleType>
            <xs:restriction
                base="xs:string"
            >
                <xs:enumeration
                    value="single"
                 />
                <xs:enumeration
                    value="multiple"
                 />
                <xs:enumeration
                    value="globalAggregate"
                 />
                <xs:enumeration
                    value="multipleAggregate"
                 />
                <xs:enumeration
                    value="globalAggregateHistory"
                 />
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
</xs:complexType>
```

## <a name="child-elements"></a>Éléments enfants



| Élément     | Type                                                             | Description                                                                                            |
|-------------|------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| **)** | [**homme : compteur**](performance-counters-counter-complex-type.md) | Définit un compteur fourni par le fournisseur.<br/>                                               |
| **structs** | [**homme : structs**](performance-counters-structs-complex-type.md) | Liste d’éléments de struct qui contiennent des valeurs pour les compteurs définis dans cet ensemble de compteurs.<br/> |



## <a name="attributes"></a>Attributs



| Nom        | Type                                                                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-------------|-------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| description | **xs:string**                                                           | Brève description de l’ensemble de compteurs. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| guid        | [**homme : GUIDType**](performance-counters-guidtype-simple-type.md)       | GUID qui identifie de façon unique l’ensemble de compteurs. L’inscription de l’ensemble de compteurs échoue si le GUID est déjà inscrit. Pour mettre à jour un ensemble de compteurs inscrit, vous devez d’abord désinstaller l’ensemble de compteurs, puis l’inscrire de nouveau. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| instances   |                                                                         | Détermine si l’ensemble de compteurs peut contenir plusieurs instances. La liste suivante répertorie les valeurs possibles :<br/> <dl> <dt><span id="single"></span><span id="SINGLE"></span>Single</dt> <dd> Définit un ensemble de compteurs dans lequel une seule instance des compteurs de l’ensemble de compteurs peut exister. Spécifiez cette valeur si les compteurs fournissent des mesures à l’ensemble du système, telles que la mémoire physique. Il s’agit de la valeur par défaut.<br/> </dd> <dt><span id="multiple"></span><span id="MULTIPLE"></span>plusieurs</dt> <dd> Définit un ensemble de compteurs où plusieurs instances des compteurs de l’ensemble de compteurs peuvent exister. Spécifiez cette valeur si les compteurs fournissent des mesures par instance, telles que le temps processeur par processus.<br/> </dd> <dt><span id="globalAggregate"></span><span id="globalaggregate"></span><span id="GLOBALAGGREGATE"></span>globalAggregate</dt> <dd> Définit un ensemble de compteurs d’instance unique où les compteurs de l’ensemble de compteurs doivent être agrégés à partir de différentes sources actives. Par exemple, vous pouvez créer un ensemble de compteurs contenant un compteur qui compte le nombre de lectures sur le disque d’un disque dur. Si l’ordinateur a trois disques durs et qu’un consommateur demande le nombre de lectures sur le disque, PERFLIB obtient le nombre de lectures sur chaque disque et additionne leurs valeurs individuelles. <br/> </dd> <dt><span id="multipleAggregate"></span><span id="multipleaggregate"></span><span id="MULTIPLEAGGREGATE"></span>multipleAggregate</dt> <dd> Définit un ensemble de compteurs d’instances multiples dans lequel les compteurs de l’ensemble de compteurs doivent être agrégés sur toutes les instances de ce compteur. Par exemple, vous pouvez créer un ensemble de compteurs pour une application multithread qui contient un compteur qui mesure les performances des threads (chaque thread ferait référence à une instance de l’ensemble de compteurs). Lorsqu’un consommateur interroge le compteur temps total d’exécution des threads, PERFLIB totalise la durée d’exécution totale du thread à partir de chaque instance.<br/> </dd> <dt><span id="globalAggregateHistory"></span><span id="globalaggregatehistory"></span><span id="GLOBALAGGREGATEHISTORY"></span>globalAggregateHistory</dt> <dd> Définit un ensemble de compteurs d’instance unique dont les valeurs de compteur sont mises en cache pendant la durée de vie du consommateur. Notez que tous les compteurs de l’ensemble de compteurs sont mis en cache. Pour mettre en cache uniquement des compteurs spécifiques, Décorez ces compteurs avec l’attribut historique.<br/> À l’aide de l’exemple de lecture sur le disque de globalAggregate, toutes les valeurs de compteur dans l’ensemble de compteurs sont mises en cache. Si un disque n’est pas disponible, la dernière valeur mise en cache pour le nombre total d’octets lus par ce disque serait toujours disponible pour l’application consommateur.<br/> </dd> </dl> |
| name        |                                                                         | Nom complet de l’ensemble de compteurs. Doit être inférieur à 1 024 caractères. Cette valeur respecte la casse. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| symbole      | [**homme : CSymbolType**](performance-counters-csymboltype-simple-type.md) | Nom symbolique qui identifie l’ensemble de compteurs. L’outil [CTRPP](ctrpp.md) crée une variable GUID que vous pouvez utiliser lors de l’appel de fonctions qui requièrent le GUID de l’ensemble de compteurs (par exemple, [**PerfCreateInstance**](/windows/desktop/api/Perflib/nf-perflib-perfcreateinstance)). Le nom de la variable est de la forme *SymbolicName* GUID. <br/> Si vous incluez l’argument **-prefix** lors de l’appel de [CTRPP](ctrpp.md), la chaîne de préfixe est ajoutée au début du nom symbolique.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| URI         | **xs:anyURI**                                                           | Identificateur de ressource uniforme unique qui permet aux utilisateurs d’accéder aux compteurs de l’ensemble de compteurs à partir de n’importe quel emplacement.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |



## <a name="requirements"></a>Configuration requise



| Condition requise | Valeur |
|-------------------------------------|------------------------------------------------------|
| Client minimal pris en charge<br/> | Windows \[Applications de bureau Vista uniquement\]<br/>       |
| Serveur minimal pris en charge<br/> | Windows Serveur 2008 \[ applications de bureau uniquement\]<br/> |



 

 




