---
description: Si vous fournissez des compteurs sur un ordinateur 64 bits, vous devez installer la version 32 bits et 64 bits de votre fournisseur sur l’ordinateur si vous souhaitez prendre en charge les consommateurs 32 bits et 64 bits.
ms.assetid: 2dba2c46-0185-4ce6-a7cc-27cdd9b19b70
title: Support 64 bits
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e465529f35d8a9becb2583e9d5c00ac19a74d3be
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106530862"
---
# <a name="64-bit-support"></a><span data-ttu-id="18341-103">Support 64 bits</span><span class="sxs-lookup"><span data-stu-id="18341-103">64-bit Support</span></span>

<span data-ttu-id="18341-104">Une DLL du fournisseur de données de performances 64 bits ne peut pas s’exécuter dans un processus consommateur 32 bits et une DLL du fournisseur de données de performance 32 bits ne peut pas s’exécuter dans un processus de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="18341-104">A 64-bit performance data provider DLL cannot run in a 32-bit consumer process and a 32-bit performance data provider DLL cannot run in a 64-bit process.</span></span> <span data-ttu-id="18341-105">L’inscription du fournisseur ne prend en charge qu’une seule `Library` valeur pour le chemin d’accès à votre dll de fournisseur de données de performances. vous ne pouvez donc pas fournir différents chemins d’accès à utiliser par les consommateurs 32 bits et les consommateurs de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="18341-105">The provider registration only supports a single `Library` value for the path to your performance data provider DLL so you cannot supply different paths to be used by 32-bit consumers and 64-bit consumers.</span></span>

<span data-ttu-id="18341-106">Les options suivantes sont disponibles pour prendre en charge les fournisseurs v1 sur les systèmes d’exploitation 64 bits :</span><span class="sxs-lookup"><span data-stu-id="18341-106">The following options are available to support V1 providers on 64-bit operating systems:</span></span>

- <span data-ttu-id="18341-107">**Recommandé :** Installez et enregistrez le chemin d’accès à la version 32 bits de votre DLL de fournisseur.</span><span class="sxs-lookup"><span data-stu-id="18341-107">**Recommended:** Install and register the path to the 32-bit version of your provider DLL.</span></span>
  - <span data-ttu-id="18341-108">les consommateurs 32 bits fonctionnent en mode natif : ils chargent votre DLL du fournisseur 32 bits dans le processus consommateur 32 bits.</span><span class="sxs-lookup"><span data-stu-id="18341-108">32-bit consumers will work natively: They will load your 32-bit provider DLL into the 32-bit consumer process.</span></span>
  - <span data-ttu-id="18341-109">les consommateurs 64 bits fonctionnent indirectement : ils ne peuvent pas charger votre DLL du fournisseur 32 bits dans le processus consommateur 64 bits, mais Windows revient automatiquement à la création d’un processus de perfhost 32 bits, au chargement de votre DLL du fournisseur 32 bits dans le processus perfhost et à l’envoi des données de performances du processus perfhost 32 bits vers le processus consommateur 64 bits.</span><span class="sxs-lookup"><span data-stu-id="18341-109">64-bit consumers will work indirectly: They will be unable to load your 32-bit provider DLL into the 64-bit consumer process, but Windows will automatically fall back to creating a 32-bit perfhost process, loading your 32-bit provider DLL into the perfhost process, and sending performance data from the 32-bit perfhost process to the 64-bit consumer process.</span></span>
- <span data-ttu-id="18341-110">**64-bit uniquement :** Installez et enregistrez le chemin d’accès à la version 64 bits de votre DLL de fournisseur.</span><span class="sxs-lookup"><span data-stu-id="18341-110">**64-bit only:** Install and register the path to the 64-bit version of your provider DLL.</span></span>
  - <span data-ttu-id="18341-111">les consommateurs 32 bits échouent : ils ne peuvent pas charger votre DLL du fournisseur 64 bits dans le processus 32 bits.</span><span class="sxs-lookup"><span data-stu-id="18341-111">32-bit consumers will fail: They will be unable to load your 64-bit provider DLL into the 32-bit process.</span></span>
  - <span data-ttu-id="18341-112">les consommateurs 64 bits fonctionnent en mode natif : ils chargent votre DLL du fournisseur 32 bits in-process.</span><span class="sxs-lookup"><span data-stu-id="18341-112">64-bit consumers will work natively: They will load your 32-bit provider DLL in-process.</span></span>

> [!NOTE]
> <span data-ttu-id="18341-113">Plusieurs fournisseurs de données de performances Windows intégrés installent une DLL 32 bits dans `%systemroot%\syswow64` , installent une dll 64 bits dans `%systemroot%\system32` et inscrivent le `Library` chemin d’accès en tant que `%systemroot%\system32\ProviderName.dll` , ce qui permet la redirection du système de fichiers pour résoudre le chemin d’accès à la dll appropriée.</span><span class="sxs-lookup"><span data-stu-id="18341-113">Several built-in Windows performance data providers install a 32-bit DLL into `%systemroot%\syswow64`, install a 64-bit DLL into `%systemroot%\system32`, and register the `Library` path as `%systemroot%\system32\ProviderName.dll`, allowing filesystem redirection to resolve the path to the appropriate DLL.</span></span> <span data-ttu-id="18341-114">Cela est pris en charge uniquement pour les fournisseurs de données de performances qui font partie du système d’exploitation Windows.</span><span class="sxs-lookup"><span data-stu-id="18341-114">This is supported only for performance data providers that are part of the Windows operating system.</span></span> <span data-ttu-id="18341-115">Les fournisseurs qui ne font pas partie du système d’exploitation Windows ne doivent pas installer les fichiers dans le `Windows` dossier.</span><span class="sxs-lookup"><span data-stu-id="18341-115">Providers that are not part of the Windows operating system must not install files into the `Windows` folder.</span></span> <span data-ttu-id="18341-116">Les fichiers non reconnus dans le `Windows` dossier peuvent être supprimés pendant la maintenance ou la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="18341-116">Unrecognized files in the `Windows` folder may be removed during servicing or upgrade.</span></span>
