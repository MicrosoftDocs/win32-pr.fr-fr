---
description: À partir de Windows Server 2003, le groupe utilisateurs de l’analyseur de performances et le groupe utilisateurs du journal des performances ont été mis à la disposition des développeurs et des utilisateurs des dll de performances et des fonctions API de performance Data Helper (PDH).
ms.assetid: 423359be-9d41-4a5f-91cd-f6d7a6a91d9d
title: Restriction de l’accès aux DLL d’extension de performance
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dd433cad68ec3e50f6b17994da98164e2ae9f237
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103865093"
---
# <a name="restricting-access-to-performance-extension-dlls"></a><span data-ttu-id="20274-103">Restriction de l’accès aux DLL d’extension de performance</span><span class="sxs-lookup"><span data-stu-id="20274-103">Restricting Access to Performance Extension DLLs</span></span>

<span data-ttu-id="20274-104">À partir de Windows Server 2003, le groupe utilisateurs de l’analyseur de performances et le groupe utilisateurs du journal des performances ont été mis à la disposition des développeurs et des utilisateurs des dll de performances et des fonctions API de performance Data Helper (PDH).</span><span class="sxs-lookup"><span data-stu-id="20274-104">Beginning with Windows Server 2003, the Performance Monitor Users group and the Performance Log Users group were made available to developers and users of performance DLLs and the Performance Data Helper (PDH) API functions.</span></span> <span data-ttu-id="20274-105">Ces groupes de sécurité des performances sont destinés à être utilisés par les administrateurs système pour limiter l’accès aux informations exposées par les dll de performance à une liste spécifique d’utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="20274-105">These performance security groups are intended for use by system administrators in restricting access to the information exposed by performance DLLs to a specific list of users.</span></span>

<span data-ttu-id="20274-106">Le groupe utilisateurs de l’analyseur de performances est destiné à inclure les utilisateurs qui affichent les données des compteurs et n’enregistre pas les données des compteurs à l’aide du service Journaux et alertes de performance.</span><span class="sxs-lookup"><span data-stu-id="20274-106">The Performance Monitor Users group is intended to include users that view counter data and do not log counter data using the Performance Logs and Alerts service.</span></span> <span data-ttu-id="20274-107">Le groupe utilisateurs du journal de performances doit inclure des utilisateurs qui ont l’autorisation d’utiliser les journaux de performances et le service d’alerte pour enregistrer les compteurs sur le serveur local ou distant.</span><span class="sxs-lookup"><span data-stu-id="20274-107">The Performance Log Users group should include users that have permission to use the Performance Logs and Alert service to log counters on the local or remote server.</span></span> <span data-ttu-id="20274-108">Les privilèges de ce groupe incluent également la création de fichiers journaux sur des systèmes locaux ou distants, l’utilisation du service d’alertes et l’exécution de programmes dans le cadre du service.</span><span class="sxs-lookup"><span data-stu-id="20274-108">Privileges of this group also include creating log files on local or remote systems, using the alerts service, and running programs as part of the service.</span></span>

<span data-ttu-id="20274-109">Notez que ces groupes de sécurité de performance ne sont pas eux-mêmes un mécanisme de restriction d’accès.</span><span class="sxs-lookup"><span data-stu-id="20274-109">Note that these performance security groups are not by themselves an access restriction mechanism.</span></span> <span data-ttu-id="20274-110">Pour ce faire, vous devez utiliser ces groupes avec le modèle de contrôle d’accès aux objets Windows.</span><span class="sxs-lookup"><span data-stu-id="20274-110">You must use these groups with the Windows object access-control model to do this.</span></span>

<span data-ttu-id="20274-111">La plupart des applications communiquent avec la DLL de performance via un mécanisme IPC, en général la mémoire partagée.</span><span class="sxs-lookup"><span data-stu-id="20274-111">Most applications communicate with the performance DLL through an IPC mechanism, typically shared memory.</span></span> <span data-ttu-id="20274-112">Par conséquent, vous pouvez ajouter les membres d’un groupe de sécurité de performances au descripteur de sécurité de l’objet de mémoire partagée pour limiter l’accès à la DLL aux membres du groupe de sécurité.</span><span class="sxs-lookup"><span data-stu-id="20274-112">Therefore, you can add the members of a performance security group to the security descriptor of the shared memory object to restrict access to the DLL to those members of the security group.</span></span> <span data-ttu-id="20274-113">Dans ce cas, vous devez également ajouter les membres du groupe au descripteur de sécurité des objets système auxquels la DLL de performance accède pour fournir des données de compteur, par exemple, des fichiers journaux et des dossiers.</span><span class="sxs-lookup"><span data-stu-id="20274-113">When doing this, you must also add the group members to the security descriptor of the system objects that the performance DLL accesses in order to provide counter data, for example, log files and folders.</span></span> <span data-ttu-id="20274-114">Pour plus d’informations sur l’ajout de listes de contrôle d’accès aux descripteurs de sécurité des objets, consultez Modification de l' [ACL d’un objet](/windows/desktop/SecAuthZ/modifying-the-acls-of-an-object-in-c--).</span><span class="sxs-lookup"><span data-stu-id="20274-114">For more detailed information on adding ACLs to object security descriptors, refer to [Modifying an Object's ACL](/windows/desktop/SecAuthZ/modifying-the-acls-of-an-object-in-c--).</span></span>

<span data-ttu-id="20274-115">Une autre méthode que vous pouvez utiliser pour modifier les informations de liste de contrôle d’accès du descripteur de sécurité d’un objet système IPC consiste à spécifier les membres de la liste de groupes de sécurité des performances avec le langage SDDL (Security Descriptor Definition Language) et à appeler [**convertstringsecuritydescriptortosecuritydescriptor a**](/windows/desktop/api/sddl/nf-sddl-convertstringsecuritydescriptortosecuritydescriptora) pour créer le descripteur de sécurité.</span><span class="sxs-lookup"><span data-stu-id="20274-115">Another method you can use to modify the ACL information of an IPC system object's security descriptor is to specify the members of the performance security group list with Security Descriptor Definition Language (SDDL) and call [**ConvertStringSecurityDescriptorToSecurityDescriptor**](/windows/desktop/api/sddl/nf-sddl-convertstringsecuritydescriptortosecuritydescriptora) to create the security descriptor.</span></span> <span data-ttu-id="20274-116">Ce descripteur de sécurité est ensuite attaché à l’objet système IPC.</span><span class="sxs-lookup"><span data-stu-id="20274-116">This security descriptor is then attached to the IPC system object.</span></span> <span data-ttu-id="20274-117">L’exemple suivant illustre une chaîne SDDL qui comprend le groupe utilisateurs de l’analyseur de performances, MU et le groupe utilisateurs du journal des performances, LU.</span><span class="sxs-lookup"><span data-stu-id="20274-117">The following shows an SDDL string that includes the Performance Monitor Users group, MU, and the Performance Log Users group, LU.</span></span>

``` syntax
D:(A;OICI;GA;;;SY)(A;OICI;GA;;;BA)(A;OICI;FRFWFXSDRC;;;NS)(A;OICI;FRFWFXSDRC;;;LU)(A;OICI;FRFX;;;MU) 
```

 

 
