---
description: Un événement de débogage est un incident dans le processus en cours de débogage qui amène le système à notifier le débogueur.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: Événements de débogage
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7d1f9f723e55b75b32d9f9e3cbf4baac0a8cc683dd3a5aa1b95a2931bceba29
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/11/2021
ms.locfileid: "119642189"
---
# <a name="debugging-events"></a>Événements de débogage

Un événement de débogage est un incident dans le processus en cours de débogage qui amène le système à notifier le débogueur. Les événements de débogage incluent la création d’un processus, la création d’un thread, le chargement d’une bibliothèque de liens dynamiques (DLL), le déchargement d’une DLL, l’envoi d’une chaîne de sortie et la génération d’une exception.

Si un événement de débogage se produit alors qu’un débogueur attend un, le système remplit la structure [**d' \_ événements de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) spécifiée par [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) avec des informations décrivant l’événement.

Lorsque le système notifie le débogueur d’un événement de débogage, il suspend également tous les threads dans le processus affecté. Les threads ne reprennent pas l’exécution jusqu’à ce que le débogueur continue l’événement de débogage à l’aide de [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Les événements de débogage suivants peuvent se produire lors du débogage d’un processus.



| Événement de débogage                          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CRÉER \_ un \_ événement de débogage de processus \_<br/> | Généré chaque fois qu’un nouveau processus est créé dans un processus en cours de débogage ou à chaque fois que le débogueur commence à déboguer un processus déjà actif. Le système génère cet événement de débogage avant que le processus ne commence à s’exécuter en mode utilisateur et avant que le système ne génère d’autres événements de débogage pour le nouveau processus. <br/> La structure d' [**\_ événement de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contient une structure de [**création d' \_ \_ \_ informations de débogage de processus**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) . Cette structure comprend un handle vers le nouveau processus, un handle vers le fichier image du processus, un handle vers le thread initial du processus et d’autres informations qui décrivent le nouveau processus.<br/> Le handle du processus a un processus \_ de \_ lecture et de traitement de l’accès en écriture de la \_ machine virtuelle \_ . Si un débogueur a ces types d’accès à un thread, il peut lire et écrire dans la mémoire du processus à l’aide des fonctions [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) et [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) . Si le système a déjà signalé un \_ événement de débogage de processus de sortie \_ \_ , le système ferme ce handle quand le débogueur appelle la fonction [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/> Le handle du fichier image du processus possède un \_ accès en lecture générique et est ouvert pour le partage de lecture. Le débogueur doit fermer ce handle lors du traitement de l' \_ événement de débogage créer un processus \_ \_ .<br/> Le handle du thread initial du processus dispose d’un \_ contexte d’extraction de thread, d’un \_ contexte de groupe de threads \_ \_ et \_ \_ d’un accès de reprise de suspension de thread à ce thread. Si un débogueur a ces types d’accès à un thread, il peut lire et écrire dans les registres du thread à l’aide des fonctions [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) et [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) et peut suspendre et reprendre le thread à l’aide des fonctions [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) et [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) . Si le système a déjà signalé un \_ événement de débogage de processus de sortie \_ \_ , le système ferme ce handle quand le débogueur appelle la fonction [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/> |
| CRÉER \_ un \_ événement de débogage de thread \_<br/>  | Généré chaque fois qu’un nouveau thread est créé dans un processus en cours de débogage ou à chaque fois que le débogueur commence à déboguer un processus déjà actif. Cet événement de débogage est généré avant que le nouveau thread commence à s’exécuter en mode utilisateur. <br/> La structure d' [**\_ événement de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contient une structure de [**création d' \_ \_ \_ informations de débogage de thread**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) . Cette structure comprend un handle vers le nouveau thread et l’adresse de départ du thread. Le handle possède un \_ \_ contexte d’extraction de thread, un contexte de groupe de threads \_ \_ et \_ \_ un accès de reprise de suspension de thread au thread. Si un débogueur a ces types d’accès à un thread, il peut lire et écrire dans les registres du thread à l’aide des fonctions [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) et [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) et peut suspendre et reprendre le thread à l’aide des fonctions [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) et [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) .<br/> Si le système a déjà signalé un \_ \_ événement de débogage \_ de thread de sortie, le système ferme le descripteur du nouveau thread lorsque le débogueur appelle la fonction [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \_événement de débogage d’exception \_<br/>       | Généré chaque fois qu’une exception se produit dans le processus en cours de débogage. Les exceptions possibles incluent la tentative d’accès à la mémoire inaccessible, l’exécution d’instructions de point d’arrêt, la tentative de division par zéro, ou toute autre exception notée dans la [gestion structurée des exceptions](structured-exception-handling.md). <br/> La structure d' [**\_ événement de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contient une structure d' [**\_ \_ informations de débogage d’exception**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) . Cette structure décrit l’exception qui a provoqué l’événement de débogage.<br/> Outre les conditions d’exception standard, un code d’exception supplémentaire peut se produire lors du débogage de processus de console. Le système génère un code de l' \_ exception C du contrôle dbg \_ quand Ctrl + c est entré dans un processus de console qui gère les signaux Ctrl + c et est en cours de débogage. Ce code d’exception ne doit pas être géré par les applications. Une application ne doit jamais utiliser un gestionnaire d’exceptions pour le gérer. Elle est déclenchée uniquement pour l’avantage du débogueur et est utilisée uniquement quand un débogueur est attaché au processus de console.<br/> Si un processus n’est pas en cours de débogage ou si le débogueur passe l' \_ exception C du contrôle dbg non \_ gérée (à l’aide de la commande GN), la liste des fonctions de gestionnaire de l’application est recherchée, comme indiqué pour la fonction [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) .<br/> Si le débogueur gère l' \_ exception C du contrôle dbg \_ (à l’aide de la commande GH), une application ne remarquera pas le Ctrl + C sauf dans du code comme celui-ci.<br/> `while ((inputChar = getchar()) != EOF) ...`<br/> Par conséquent, le débogueur ne peut pas être utilisé pour arrêter l’attente de lecture dans un tel code.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| QUITTER \_ l' \_ événement de débogage de processus \_<br/>   | Généré chaque fois que le dernier thread d’un processus en cours de débogage se termine. Cet événement de débogage se produit immédiatement après que le système a déchargé les dll du processus et mis à jour le code de sortie du processus. <br/> La structure d' [**\_ événement de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contient une structure d' [**\_ \_ \_ informations de débogage de processus de sortie**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info) qui spécifie le code de sortie.<br/> Le débogueur libère toutes les structures internes associées au processus lors de la réception de cet événement de débogage. Le système ferme le handle du débogueur du processus de sortie et de tous les threads du processus. Le débogueur ne doit pas fermer ces handles.<br/> La partie en mode noyau de l’arrêt du processus ne peut pas être effectuée tant que le débogueur qui reçoit cet événement n’appelle [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Jusqu’à présent, les handles de processus sont ouverts et l’espace d’adressage virtuel n’est pas libéré, de sorte que le débogueur peut examiner le processus enfant. Pour recevoir une notification lorsque la partie en mode noyau de l’arrêt du processus est terminée, dupliquez le descripteur renvoyé avec CREATe \_ process \_ Debug \_ Event, appelez **ContinueDebugEvent**, puis attendez que le handle de processus dupliqué soit signalé.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| QUITTER \_ l' \_ événement de débogage de thread \_<br/>    | Généré chaque fois qu’un thread qui fait partie d’un processus en cours de débogage se termine. Le système génère cet événement de débogage immédiatement après avoir mis à jour le code de sortie du thread. <br/> La structure d' [**\_ événement de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contient une structure d' [**\_ \_ \_ informations de débogage de sortie de thread**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info) qui spécifie le code de sortie.<br/> Cet événement de débogage ne se produit pas si le thread de sortie est le dernier thread d’un processus. Dans ce cas, l’événement de débogage d’événement de débogage de processus de sortie \_ \_ se produit à la \_ place.<br/> Le débogueur libère toutes les structures internes associées au thread à la réception de cet événement de débogage. Le système ferme le handle du débogueur du thread de sortie. Le débogueur ne doit pas fermer ce handle.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \_événement de \_ débogage de la dll de chargement \_<br/>       | Généré chaque fois qu’un processus en cours de débogage charge une DLL. Cet événement de débogage se produit lorsque le chargeur du système résout des liens vers une DLL ou lorsque le processus débogué utilise la fonction [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) . Cet événement de débogage se produit uniquement la première fois que le système attache une DLL à l’espace d’adressage virtuel d’un processus. <br/> La structure d' [**\_ événement de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contient une structure d' [**\_ \_ \_ informations de débogage de dll de chargement**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) . Cette structure comprend un handle vers la DLL nouvellement chargée, l’adresse de base de la DLL et d’autres informations qui décrivent la DLL. Le débogueur doit fermer le descripteur du handle de DLL lors du traitement de l' \_ événement de débogage de la dll de chargement \_ \_ .<br/> En règle générale, un débogueur charge une table de symboles associée à la DLL à la réception de cet événement de débogage.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| \_événement de chaîne de débogage de sortie \_ \_<br/>  | Généré lorsqu’un processus en cours de débogage utilise le <br/>Fonction [**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) . La structure d' [**\_ événement de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contient une structure d’informations de la [**\_ \_ chaîne \_ de débogage de sortie**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) . Cette structure spécifie l’adresse, la longueur et le format de la chaîne de débogage.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| décharger l' \_ \_ événement de débogage dll \_<br/>     | Généré chaque fois qu’un processus en cours de débogage décharge une DLL à l’aide de la fonction [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) . Cet événement de débogage se produit uniquement lors du dernier déchargement d’une DLL d’un espace d’adressage de processus (autrement dit, lorsque le nombre d’utilisations de la DLL est égal à zéro). <br/> La structure d' [**\_ événement de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contient une structure d' [**\_ \_ \_ informations de débogage dll de déchargement**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) . Cette structure spécifie l’adresse de base de la DLL dans l’espace d’adressage du processus qui décharge la DLL.<br/> En règle générale, un débogueur décharge une table de symboles associée à la DLL lors de la réception de cet événement de débogage.<br/> Lorsqu’un processus se termine, le système décharge automatiquement les dll du processus, mais ne génère pas d’événement de \_ \_ débogage d’événement de déchargement de dll de déchargement \_ .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| \_événement RIP<br/>                    | Généré à chaque débogage d’un processus en dehors du contrôle du débogueur système.<br/> La structure d' [**\_ événement de débogage**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contient une structure d' [**\_ informations RIP**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) . Cette structure spécifie l’erreur et le type d’erreur.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
