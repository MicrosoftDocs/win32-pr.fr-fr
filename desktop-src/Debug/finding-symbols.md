---
description: Une fois qu’un fichier de symboles a été chargé dans le gestionnaire de symboles, une application peut utiliser les fonctions de localisateur de symboles pour retourner les informations de symbole pour une adresse spécifiée.
ms.assetid: bfc068e1-eced-4ab2-80a3-acc2ed07c841
title: Recherche de symboles
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f65830032cf363771b14f779726c59d976e8d30
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104109967"
---
# <a name="finding-symbols"></a><span data-ttu-id="87d7d-103">Recherche de symboles</span><span class="sxs-lookup"><span data-stu-id="87d7d-103">Finding Symbols</span></span>

<span data-ttu-id="87d7d-104">Une fois qu’un fichier de symboles a été chargé dans le gestionnaire de symboles, une application peut utiliser les fonctions de localisateur de symboles pour retourner les informations de symbole pour une adresse spécifiée.</span><span class="sxs-lookup"><span data-stu-id="87d7d-104">After a symbol file has been loaded into the symbol handler, an application can use the symbol locator functions to return symbol information for a specified address.</span></span> <span data-ttu-id="87d7d-105">Ces fonctions peuvent également rechercher un nom de fichier de code source et un emplacement de numéro de ligne pour une adresse.</span><span class="sxs-lookup"><span data-stu-id="87d7d-105">These functions can also find a source code file name and line number location for an address.</span></span>

## <a name="enumerating-symbol-files"></a><span data-ttu-id="87d7d-106">Énumération des fichiers de symboles</span><span class="sxs-lookup"><span data-stu-id="87d7d-106">Enumerating Symbol Files</span></span>

<span data-ttu-id="87d7d-107">Pour récupérer une liste de tous les fichiers de symboles chargés par nom de module, appelez la fonction [**SymEnumerateModules64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumeratemodules) .</span><span class="sxs-lookup"><span data-stu-id="87d7d-107">To retrieve a list of all symbol files loaded by module name, call the [**SymEnumerateModules64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumeratemodules) function.</span></span> <span data-ttu-id="87d7d-108">Pour obtenir un exemple, consultez [énumération des modules de symboles](enumerating-symbol-modules.md).</span><span class="sxs-lookup"><span data-stu-id="87d7d-108">For an example, see [Enumerating Symbol Modules](enumerating-symbol-modules.md).</span></span> <span data-ttu-id="87d7d-109">Pour récupérer une liste de symboles pour un module donné, appelez la fonction [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) .</span><span class="sxs-lookup"><span data-stu-id="87d7d-109">To retrieve a list of symbols for a given module, call the [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) function.</span></span> <span data-ttu-id="87d7d-110">Pour obtenir un exemple, consultez [énumération de symboles](enumerating-symbols.md).</span><span class="sxs-lookup"><span data-stu-id="87d7d-110">For an example, see [Enumerating Symbols](enumerating-symbols.md).</span></span>

## <a name="retrieving-symbols-by-address"></a><span data-ttu-id="87d7d-111">Récupération de symboles par adresse</span><span class="sxs-lookup"><span data-stu-id="87d7d-111">Retrieving Symbols by Address</span></span>

<span data-ttu-id="87d7d-112">Pour récupérer des informations symboliques pour une adresse spécifique, utilisez la fonction [**SymFromAddr**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromaddr) .</span><span class="sxs-lookup"><span data-stu-id="87d7d-112">To retrieve symbolic information for a specific address, use the [**SymFromAddr**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromaddr) function.</span></span> <span data-ttu-id="87d7d-113">Cette fonction récupère les informations et les stocke dans une structure d' [**\_ informations de symbole**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) .</span><span class="sxs-lookup"><span data-stu-id="87d7d-113">This function retrieves information and stores it in a [**SYMBOL\_INFO**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) structure.</span></span> <span data-ttu-id="87d7d-114">Étant donné que les noms de symboles sont de longueur variable, vous devez fournir un espace de mémoire tampon supplémentaire à la suite de la déclaration de structure des **\_ informations de symbole** .</span><span class="sxs-lookup"><span data-stu-id="87d7d-114">Because symbol names are variable in length, you must provide additional buffer space following the **SYMBOL\_INFO** structure declaration.</span></span> <span data-ttu-id="87d7d-115">Pour obtenir un exemple, consultez [récupération des informations de symbole par adresse](retrieving-symbol-information-by-address.md).</span><span class="sxs-lookup"><span data-stu-id="87d7d-115">For an example, see [Retrieving Symbol Information by Address](retrieving-symbol-information-by-address.md).</span></span>

<span data-ttu-id="87d7d-116">Notez que l’adresse n’a pas besoin d’être sur une limite de symboles.</span><span class="sxs-lookup"><span data-stu-id="87d7d-116">Note that the address does not need to be on a symbol boundary.</span></span> <span data-ttu-id="87d7d-117">Si l’adresse vient après le début d’un symbole mais avant la fin du symbole (le début du symbole plus la taille du symbole), la fonction recherche le symbole.</span><span class="sxs-lookup"><span data-stu-id="87d7d-117">If the address comes after the beginning of a symbol but before the end of the symbol (the beginning of the symbol plus the symbol size), the function will locate the symbol.</span></span>

## <a name="retrieving-symbols-by-symbol-name"></a><span data-ttu-id="87d7d-118">Récupération de symboles par nom de symbole</span><span class="sxs-lookup"><span data-stu-id="87d7d-118">Retrieving Symbols by Symbol Name</span></span>

<span data-ttu-id="87d7d-119">Pour récupérer des informations symboliques dans une structure d' [**\_ informations de symboles**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) pour un module et un nom de symbole spécifiques, utilisez la fonction [**SymFromName**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) .</span><span class="sxs-lookup"><span data-stu-id="87d7d-119">To retrieve symbolic information in a [**SYMBOL\_INFO**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) structure for a specific module and symbol name, use the [**SymFromName**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) function.</span></span> <span data-ttu-id="87d7d-120">Si le chargement de symboles différé est défini, **SymFromName** tente de charger le fichier de symboles pour un module s’il n’a pas déjà été chargé.</span><span class="sxs-lookup"><span data-stu-id="87d7d-120">If deferred symbol loading is set, **SymFromName** will attempt to load the symbol file for a module if it has not already been loaded.</span></span> <span data-ttu-id="87d7d-121">Pour spécifier un nom de module avec un nom de symbole, utilisez la syntaxe *module*! *SymName*.</span><span class="sxs-lookup"><span data-stu-id="87d7d-121">To specify a module name along with a symbol name, use the syntax *Module*!*SymName*.</span></span> <span data-ttu-id="87d7d-122">Le caractère «  ! » délimite le nom du module du nom du symbole.</span><span class="sxs-lookup"><span data-stu-id="87d7d-122">The "!" character delimits the module name from the symbol name.</span></span> <span data-ttu-id="87d7d-123">Pour obtenir un exemple, consultez [extraction d’informations de symboles par nom](retrieving-symbol-information-by-name.md).</span><span class="sxs-lookup"><span data-stu-id="87d7d-123">For an example, see [Retrieving Symbol Information by Name](retrieving-symbol-information-by-name.md).</span></span>

## <a name="retrieving-line-numbers-by-address"></a><span data-ttu-id="87d7d-124">Récupération des numéros de ligne par adresse</span><span class="sxs-lookup"><span data-stu-id="87d7d-124">Retrieving Line Numbers by Address</span></span>

<span data-ttu-id="87d7d-125">Pour récupérer l’emplacement du code source pour une adresse spécifique, utilisez la fonction [**SymGetLineFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromaddr) .</span><span class="sxs-lookup"><span data-stu-id="87d7d-125">To retrieve the source code location for a specific address, use the [**SymGetLineFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromaddr) function.</span></span> <span data-ttu-id="87d7d-126">Cette fonction remplit une structure [**imagehlp \_ LINE64**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_line) qui comprend le nom du fichier source et l’emplacement du numéro de ligne référencé par l’adresse spécifiée.</span><span class="sxs-lookup"><span data-stu-id="87d7d-126">This function fills an [**IMAGEHLP\_LINE64**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_line) structure that includes the source file name and line number location referred to by the specified address.</span></span> <span data-ttu-id="87d7d-127">Pour obtenir un exemple, consultez [récupération des informations de symbole par adresse](retrieving-symbol-information-by-address.md).</span><span class="sxs-lookup"><span data-stu-id="87d7d-127">For an example, see [Retrieving Symbol Information by Address](retrieving-symbol-information-by-address.md).</span></span>

## <a name="retrieving-line-numbers-by-symbol-name"></a><span data-ttu-id="87d7d-128">Récupération des numéros de ligne par nom de symbole</span><span class="sxs-lookup"><span data-stu-id="87d7d-128">Retrieving Line Numbers by Symbol Name</span></span>

<span data-ttu-id="87d7d-129">Pour récupérer l’emplacement du code source d’un nom de symbole spécifique, utilisez la fonction [**SymGetLineFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromname) .</span><span class="sxs-lookup"><span data-stu-id="87d7d-129">To retrieve source code location for a specific symbol name, use the [**SymGetLineFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromname) function.</span></span> <span data-ttu-id="87d7d-130">Cette fonction est similaire à [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname), mais récupère une structure [**imagehlp \_ LINE64**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_line) .</span><span class="sxs-lookup"><span data-stu-id="87d7d-130">This function is similar to [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname), but retrieves an [**IMAGEHLP\_LINE64**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_line) structure.</span></span> <span data-ttu-id="87d7d-131">Pour utiliser [**SymGetLineFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromaddr) ou **SymGetLineFromName64**, vous devez définir l’option de lignes de charge ( \_ lignes de charge SYMOPT \_ ) à l’aide de la fonction [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) .</span><span class="sxs-lookup"><span data-stu-id="87d7d-131">To use [**SymGetLineFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetlinefromaddr) or **SymGetLineFromName64**, you must set the load lines option (SYMOPT\_LOAD\_LINES) using the [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) function.</span></span> <span data-ttu-id="87d7d-132">Pour obtenir un exemple, consultez [extraction d’informations de symboles par nom](retrieving-symbol-information-by-name.md).</span><span class="sxs-lookup"><span data-stu-id="87d7d-132">For an example, see [Retrieving Symbol Information by Name](retrieving-symbol-information-by-name.md).</span></span>

 

 



