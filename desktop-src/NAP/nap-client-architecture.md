---
title: Architecture du client NAP
description: Un client NAP est un ordinateur exécutant Windows XP avec Service Pack 3 (SP3), Windows Vista ou Windows Server 2008 qui comprend la plateforme NAP.
ms.assetid: 163c33c9-b18b-49f9-a2a1-fd90a1dc0826
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 15862eaa6ae4f4c1f79c53cf9d540aedec295e8a
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104310990"
---
# <a name="nap-client-architecture"></a><span data-ttu-id="1a5c9-103">Architecture du client NAP</span><span class="sxs-lookup"><span data-stu-id="1a5c9-103">NAP Client Architecture</span></span>

> [!Note]  
> <span data-ttu-id="1a5c9-104">La plate-forme de protection d’accès réseau n’est pas disponible à partir de Windows 10</span><span class="sxs-lookup"><span data-stu-id="1a5c9-104">The Network Access Protection platform is not available starting with Windows 10</span></span>

 

<span data-ttu-id="1a5c9-105">Un client NAP est un ordinateur exécutant Windows XP avec Service Pack 3 (SP3), Windows Vista ou Windows Server 2008 qui comprend la plateforme NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-105">A NAP client is a computer running Windows XP with Service Pack 3 (SP3), Windows Vista, or Windows Server 2008 that includes the NAP platform.</span></span>

<span data-ttu-id="1a5c9-106">Cette illustration montre l’architecture de la plateforme NAP sur un client NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-106">This figure shows the architecture of the NAP platform on a NAP client.</span></span>

![architecture de la plateforme NAP sur un client NAP](images/nap-client-side-arch.png)

<span data-ttu-id="1a5c9-108">L’architecture du client NAP se compose des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="1a5c9-108">The NAP client architecture consists of the following:</span></span>

-   <span data-ttu-id="1a5c9-109">Couche de composants du client de mise en œuvre (EC)</span><span class="sxs-lookup"><span data-stu-id="1a5c9-109">A layer of Enforcement Client (EC) components</span></span>

    <span data-ttu-id="1a5c9-110">Chaque EC NAP est défini pour un autre type d’accès réseau.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-110">Each NAP EC is defined for a different type of network access.</span></span> <span data-ttu-id="1a5c9-111">Par exemple, il existe une configuration NAP pour la configuration DHCP et une protection d’accès réseau (EC) NAP pour les connexions VPN d’accès à distance.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-111">For example, there is a NAP EC for DHCP configuration and a NAP EC for remote access VPN connections.</span></span> <span data-ttu-id="1a5c9-112">L’EC NAP peut être mis en correspondance avec un type spécifique de point de contrainte de mise en conformité NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-112">The NAP EC can be matched to a specific type of NAP enforcement point.</span></span> <span data-ttu-id="1a5c9-113">Par exemple, l’EC NAP DHCP est conçu pour fonctionner avec un point de contrainte de mise en conformité NAP basé sur DHCP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-113">For example, the DHCP NAP EC is designed to work with a DHCP-based NAP enforcement point.</span></span> <span data-ttu-id="1a5c9-114">Certains logiciels NAP ECs sont fournis avec la plateforme NAP et des fournisseurs de logiciels tiers, ou Microsoft peuvent en fournir d’autres.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-114">Some NAP ECs are provided with the NAP platform and third-party software vendors or Microsoft can provide others.</span></span>

-   <span data-ttu-id="1a5c9-115">Une couche de composants de l’agent d’intégrité système (SHA)</span><span class="sxs-lookup"><span data-stu-id="1a5c9-115">A layer of System Health Agent (SHA) components</span></span>

    <span data-ttu-id="1a5c9-116">Un composant SHA gère et signale un ou plusieurs éléments de l’intégrité du système.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-116">An SHA component maintains and reports one or multiple elements of system health.</span></span> <span data-ttu-id="1a5c9-117">Par exemple, il peut y avoir un SHA pour les signatures antivirus et un SHA pour les mises à jour du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-117">For example, there might be an SHA for antivirus signatures and an SHA for operating system updates.</span></span> <span data-ttu-id="1a5c9-118">Un SHA peut être mis en correspondance avec un serveur de mise à jour, qui est un ordinateur qui contient des ressources de mise à jour d’intégrité auxquelles les clients NAP peuvent accéder pour remédier à leur état non conforme.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-118">An SHA can be matched to a remediation server, which is a computer that contains health update resources that NAP clients can access to remediate their noncompliant state.</span></span> <span data-ttu-id="1a5c9-119">Par exemple, un SHA pour vérifier les signatures antivirus est mis en correspondance avec le serveur qui contient le dernier fichier de signature antivirus.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-119">For example, an SHA for checking antivirus signatures is matched to the server that contains the latest antivirus signature file.</span></span> <span data-ttu-id="1a5c9-120">Il n’est pas nécessaire de disposer d’un serveur de mise à jour correspondant.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-120">SHAs do not have to have a corresponding remediation server.</span></span> <span data-ttu-id="1a5c9-121">Par exemple, un agent SHA peut simplement vérifier les paramètres du système local pour s’assurer qu’un pare-feu basé sur l’hôte est activé.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-121">For example, an SHA can just check local system settings to ensure that a host-based firewall is enabled.</span></span> <span data-ttu-id="1a5c9-122">Windows Vista et Windows XP Service Pack 3 incluent l’agent d’intégrité de la sécurité Windows (WSHA) qui surveille les paramètres du Security Center Windows.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-122">Windows Vista and Windows XP Service Pack 3 include the Windows Security Health Agent (WSHA) that monitors the settings of the Windows Security Center.</span></span> <span data-ttu-id="1a5c9-123">Les fournisseurs de logiciels tiers ou Microsoft peuvent fournir des SHA supplémentaires à la plate-forme NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-123">Third-party software vendors or Microsoft can provide additional SHAs to the NAP platform.</span></span>

-   <span data-ttu-id="1a5c9-124">Agent NAP</span><span class="sxs-lookup"><span data-stu-id="1a5c9-124">NAP Agent</span></span>

    <span data-ttu-id="1a5c9-125">Conserve les informations d’état d’intégrité actuelles du client NAP et facilite la communication entre les couches EC et SHA NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-125">Maintains the current health state information of the NAP client and facilitates communication between the NAP EC and SHA layers.</span></span> <span data-ttu-id="1a5c9-126">L’agent NAP est fourni avec la plateforme NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-126">The NAP Agent is provided with the NAP platform.</span></span>

-   <span data-ttu-id="1a5c9-127">API de l’agent d’intégrité système</span><span class="sxs-lookup"><span data-stu-id="1a5c9-127">System Health Agent API</span></span>

    <span data-ttu-id="1a5c9-128">Fournit un ensemble de fonctions qui permettent à Sha de s’inscrire auprès de l’agent NAP, d’indiquer l’état d’intégrité du système, de répondre aux requêtes d’état d’intégrité du système à partir de l’agent NAP et à l’agent NAP de transmettre les informations de correction de l’intégrité du système à un SHA.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-128">Provides a set of functions that allow SHAs to register with the NAP Agent, to indicate system health status, respond to queries for system health status from the NAP Agent, and for the NAP Agent to pass system health remediation information to an SHA.</span></span> <span data-ttu-id="1a5c9-129">L’API SHA permet aux fournisseurs de créer et d’installer des SHA supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-129">The SHA API allows vendors to create and install additional SHAs.</span></span> <span data-ttu-id="1a5c9-130">L’API SHA est fournie avec la plateforme NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-130">The SHA API is provided with the NAP platform.</span></span> <span data-ttu-id="1a5c9-131">Consultez les interfaces NAP suivantes : [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md)et [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md).</span><span class="sxs-lookup"><span data-stu-id="1a5c9-131">See the following NAP interfaces: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md), and [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md).</span></span>

<span data-ttu-id="1a5c9-132">Pour indiquer l’état d’intégrité d’un SHA spécifique, un SHA crée une déclaration d’intégrité ([**SOH**](/windows/win32/api/naptypes/ns-naptypes-soh)) et le transmet à l’agent NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-132">To indicate the health state of a specific SHA, an SHA creates a statement of health ([**SoH**](/windows/win32/api/naptypes/ns-naptypes-soh)) and passes it to the NAP Agent.</span></span> <span data-ttu-id="1a5c9-133">Une SoH peut contenir un ou plusieurs éléments de l’intégrité du système.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-133">An SoH can contain one or multiple elements of system health.</span></span> <span data-ttu-id="1a5c9-134">Par exemple, l’algorithme SHA pour un programme antivirus peut créer une SoH contenant l’état du logiciel antivirus en cours d’exécution sur l’ordinateur, sa version et la dernière mise à jour de signature antivirus reçue.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-134">For example, the SHA for an antivirus program can create an SoH containing the state of the antivirus software running on the computer, its version, and the last antivirus signature update received.</span></span> <span data-ttu-id="1a5c9-135">Chaque fois qu’un algorithme SHA met à jour son état, il crée une SoH et le transmet à l’agent NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-135">Whenever an SHA updates its status, it creates a new SoH and passes it to the NAP Agent.</span></span> <span data-ttu-id="1a5c9-136">Pour indiquer l’état d’intégrité global d’un client NAP, l’agent NAP utilise une déclaration d’intégrité du système (SSoH), qui comprend des informations de version pour le client NAP et l’ensemble de SoHs pour l’agent d’intégrité installé.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-136">To indicate the overall health state of a NAP client, the NAP Agent uses a system statement of health (SSoH), which includes version information for the NAP client and the set of SoHs for the installed SHAs.</span></span>

<span data-ttu-id="1a5c9-137">Les sections suivantes décrivent en détail les composants de l’architecture du client NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-137">The following sections describe the components of the NAP client architecture in further detail.</span></span>

## <a name="nap-enforcement-client"></a><span data-ttu-id="1a5c9-138">Client de contrainte de mise en conformité NAP</span><span class="sxs-lookup"><span data-stu-id="1a5c9-138">NAP Enforcement Client</span></span>

<span data-ttu-id="1a5c9-139">Un client de contrainte de mise en conformité NAP demande un certain niveau d’accès à un réseau, passe l’état d’intégrité de l’ordinateur à un point de contrainte de mise en conformité NAP qui fournit l’accès au réseau.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-139">A NAP Enforcement Client (EC) requests some level of access to a network, passes the computer's health status to a NAP enforcement point that is providing the network access.</span></span> <span data-ttu-id="1a5c9-140">Les points de contrainte de mise en conformité NAP sont des ordinateurs ou des périphériques d’accès réseau qui utilisent NAP ou peuvent être utilisés avec NAP pour exiger l’évaluation de l’état d’intégrité d’un client NAP et fournir un accès réseau ou une communication limité.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-140">NAP enforcement points are computers or network access devices that use NAP or can be used with NAP to require the evaluation of a NAP client’s health state and provide restricted network access or communication.</span></span> <span data-ttu-id="1a5c9-141">Si l’intégrité de l’ordinateur n’est pas conforme, la protection d’accès réseau (EC) NAP indique l’État restreint du client NAP à d’autres composants de l’architecture du client NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-141">If the computer’s health is not compliant, the NAP EC indicates the restricted status of the NAP client to other components of the NAP client architecture.</span></span>

<span data-ttu-id="1a5c9-142">La protection d’accès réseau (NAP) pour la plateforme NAP fournie dans Windows XP avec SP3, Windows Vista et Windows Server 2008 est la suivante :</span><span class="sxs-lookup"><span data-stu-id="1a5c9-142">The NAP ECs for the NAP platform supplied in Windows XP with SP3, Windows Vista, and Windows Server 2008 are the following:</span></span>

-   <span data-ttu-id="1a5c9-143">IPsec NAP IPsec pour les communications protégées par IPsec.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-143">An IPsec NAP EC for IPsec-protected communications.</span></span>
-   <span data-ttu-id="1a5c9-144">Une protection d’accès réseau (NAP) EAPHost pour les connexions authentifiées par 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-144">An EAPHost NAP EC for 802.1X-authenticated connections.</span></span>
-   <span data-ttu-id="1a5c9-145">Un VPN NAP pour les connexions VPN d’accès à distance.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-145">A VPN NAP EC for remote access VPN connections.</span></span>
-   <span data-ttu-id="1a5c9-146">Une configuration d’adresse IPv4 DHCP NAP pour DHCP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-146">A DHCP NAP EC for DHCP-based IPv4 address configuration.</span></span>
-   <span data-ttu-id="1a5c9-147">Une passerelle TS NAP pour les connexions de passerelle TS.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-147">A TS Gateway NAP EC for TS Gateway connections.</span></span>

<span data-ttu-id="1a5c9-148">Pour Windows XP avec SP3, il existe des connexions NAP et sans fil authentifiées NAP pour 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-148">For Windows XP with SP3, there are separate NAP ECs for 802.1X-authenticated wired and wireless connections.</span></span>

### <a name="ipsec-nap-ec"></a><span data-ttu-id="1a5c9-149">IPsec NAP EC</span><span class="sxs-lookup"><span data-stu-id="1a5c9-149">IPsec NAP EC</span></span>

<span data-ttu-id="1a5c9-150">La protection d’accès réseau (EC) IPsec est un composant qui obtient les SSoH de l’agent NAP et les envoie à une autorité HRA, un ordinateur exécutant Windows Server 2008 et Internet Information Services (IIS) qui obtient les certificats d’intégrité d’une autorité de certification (CA) pour les ordinateurs conformes.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-150">The IPsec NAP EC is a component that obtains the SSoH from the NAP Agent and sends it to a Health Registration Authority (HRA), a computer running Windows Server 2008 and Internet Information Services (IIS) that obtains health certificates from a certification authority (CA) for compliant computers.</span></span> <span data-ttu-id="1a5c9-151">La protection d’accès réseau IPsec EC est connue sous le nom de partie de confiance IPsec dans le composant logiciel enfichable de configuration du client NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-151">The IPsec NAP EC is known as the IPsec Relying Party EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="1a5c9-152">Le EC IPsec NAP interagit également avec les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="1a5c9-152">The IPsec NAP EC also interacts with the following:</span></span>

-   <span data-ttu-id="1a5c9-153">Magasin de certificats pour stocker le certificat d’intégrité.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-153">The certificate store to store the health certificate.</span></span>
-   <span data-ttu-id="1a5c9-154">Les composants IPsec dans Windows pour s’assurer que le certificat d’intégrité est utilisé pour la communication protégée par IPsec.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-154">The IPsec components in Windows to ensure that the health certificate is used for IPsec-protected communication.</span></span>
-   <span data-ttu-id="1a5c9-155">Le pare-feu basé sur l’hôte (tel que le pare-feu Windows) afin que le trafic protégé par IPsec soit autorisé par le pare-feu.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-155">The host-based firewall (such as Windows Firewall) so that IPsec-protected traffic is allowed by the firewall.</span></span>

### <a name="eaphost-nap-ec"></a><span data-ttu-id="1a5c9-156">Protection d’accès réseau EAPHost</span><span class="sxs-lookup"><span data-stu-id="1a5c9-156">EAPHost NAP EC</span></span>

<span data-ttu-id="1a5c9-157">La protection d’accès réseau (NAP) EAPHost est un composant qui obtient le SSoH à partir de l’agent NAP et l’envoie en tant que message-longueur-valeur (TLV) PEAP pour les connexions authentifiées par 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-157">The EAPHost NAP EC is a component that obtains the SSoH from the NAP Agent and sends it as a PEAP-Type-Length-Value (TLV) message for 802.1X-authenticated connections.</span></span> <span data-ttu-id="1a5c9-158">La protection d’accès réseau (NAP) EAPHost est connue sous le nom de mise en quarantaine EAP dans le composant logiciel enfichable Configuration du client NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-158">The EAPHost NAP EC is known as the EAP Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="vpn-nap-ec"></a><span data-ttu-id="1a5c9-159">VPN NAP EC</span><span class="sxs-lookup"><span data-stu-id="1a5c9-159">VPN NAP EC</span></span>

<span data-ttu-id="1a5c9-160">La solution de protection d’accès réseau VPN EC est fonctionnelle dans le service de gestionnaire de connexions d’accès à distance qui obtient le SSoH à partir de l’agent NAP et l’envoie en tant que message PEAP-TLV pour les connexions VPN d’accès à distance.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-160">The VPN NAP EC is functionality in the Remote Access Connection Manager service that obtains the SSoH from the NAP Agent and sends it as a PEAP-TLV message for remote access VPN connections.</span></span> <span data-ttu-id="1a5c9-161">La protection d’accès réseau VPN EC est appelée mise en quarantaine de l’accès à distance dans le composant logiciel enfichable Configuration du client NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-161">The VPN NAP EC is known as the Remote Access Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="dhcp-nap-ec"></a><span data-ttu-id="1a5c9-162">PROTECTION D’ACCÈS RÉSEAU DHCP EC</span><span class="sxs-lookup"><span data-stu-id="1a5c9-162">DHCP NAP EC</span></span>

<span data-ttu-id="1a5c9-163">La protection d’accès réseau DHCP EC est une fonctionnalité du service client DHCP qui utilise des messages DHCP standard pour échanger des messages d’intégrité du système et des informations d’accès réseau limitées.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-163">The DHCP NAP EC is functionality in the DHCP Client service that uses industry standard DHCP messages to exchange system health messages and limited network access information.</span></span> <span data-ttu-id="1a5c9-164">La stratégie IPsec DHCP EC est appelée mise en quarantaine DHCP EC dans le composant logiciel enfichable Configuration du client NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-164">The IPsec DHCP EC is known as the DHCP Quarantine EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="1a5c9-165">L’EC NAP DHCP obtient le SSoH à partir de l’agent NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-165">The DHCP NAP EC obtains the SSoH from the NAP Agent.</span></span> <span data-ttu-id="1a5c9-166">Le service client DHCP fragmente le SSoH, si nécessaire, et place chaque fragment dans une option DHCP spécifique au fournisseur Microsoft, qui est envoyée dans les messages DHCPDiscover, DHCPRequest ou DHCPInform.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-166">The DHCP Client service fragments the SSoH, if required, and puts each fragment into a Microsoft vendor-specific DHCP option that is sent in DHCPDiscover, DHCPRequest or DHCPInform messages.</span></span> <span data-ttu-id="1a5c9-167">Les messages DHCPDecline et DHCPRelease ne contiennent pas le SSoH.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-167">DHCPDecline and DHCPRelease messages do not contain the SSoH.</span></span>

## <a name="system-health-agent"></a><span data-ttu-id="1a5c9-168">Agent d’intégrité système</span><span class="sxs-lookup"><span data-stu-id="1a5c9-168">System Health Agent</span></span>

<span data-ttu-id="1a5c9-169">Un agent d’intégrité système (SHA) effectue des mises à jour de l’intégrité du système et publie son état sous la forme d’une SoH auprès de l’agent NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-169">A System Health Agent (SHA) performs system health updates and publishes its status in the form of an SoH to the NAP Agent.</span></span> <span data-ttu-id="1a5c9-170">L’SoH contient des informations que le serveur de stratégie de contrôle d’intégrité NAP peut utiliser pour vérifier que l’ordinateur client est dans l’état d’intégrité requis.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-170">The SoH contains information that the NAP health policy server can use to verify that the client computer is in the required state of health.</span></span> <span data-ttu-id="1a5c9-171">Un SHA est mis en correspondance avec un programme de validation d’intégrité système (SHV) côté serveur de l’architecture de la plateforme NAP.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-171">An SHA is matched to a System Health Validator (SHV) on the server-side of the NAP platform architecture.</span></span> <span data-ttu-id="1a5c9-172">Le VALIDateur correspondant peut renvoyer une réponse SoH (SoHR) au client NAP, qui est transmis par le EC NAP et l’agent NAP au SHA, en l’informant de la marche à suivre si l’agent SHA n’est pas dans un état d’intégrité requis.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-172">The corresponding SHV can return an SoH Response (SoHR) to the NAP client, which is passed by the NAP EC and the NAP Agent to the SHA, informing it of what to do if the SHA is not in a required state of health.</span></span> <span data-ttu-id="1a5c9-173">Par exemple, le SoHR envoyé par un programme de contrôle d’intégrité de l’antivirus peut indiquer à l’SHA antivirus correspondant d’interroger un serveur de signature antivirus pour obtenir la dernière version du fichier de signature de l’antivirus.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-173">For example, the SoHR sent by an antivirus SHV could instruct the corresponding antivirus SHA to query an antivirus signature server to obtain the latest version of the antivirus signature file.</span></span> <span data-ttu-id="1a5c9-174">Le SoHR peut également inclure le nom ou l’adresse IP du serveur de signature antivirus à interroger.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-174">The SoHR can also include the name or IP address of the antivirus signature server to query.</span></span>

<span data-ttu-id="1a5c9-175">Un agent SHA peut utiliser un client de stratégie installé localement pour faciliter les fonctions de gestion de l’intégrité du système avec un serveur de stratégie.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-175">An SHA can use a locally installed policy client to assist in system health management functions in conjunction with a policy server.</span></span> <span data-ttu-id="1a5c9-176">Par exemple, une mise à jour logicielle SHA peut utiliser le logiciel client installé localement (le client de stratégie) pour effectuer la vérification de version et l’installation et la mise à jour des fonctions avec le serveur de mises à jour logicielles (le serveur de stratégie).</span><span class="sxs-lookup"><span data-stu-id="1a5c9-176">For example, a software update SHA can use the locally installed software client software (the policy client) to perform version checking and installation and update functions with the software update server (the policy server).</span></span>

## <a name="nap-agent"></a><span data-ttu-id="1a5c9-177">Agent NAP</span><span class="sxs-lookup"><span data-stu-id="1a5c9-177">NAP Agent</span></span>

<span data-ttu-id="1a5c9-178">L’agent NAP fournit les services suivants :</span><span class="sxs-lookup"><span data-stu-id="1a5c9-178">The NAP Agent provides the following services:</span></span>

-   <span data-ttu-id="1a5c9-179">Collecte les SoHs à partir de chaque SHA et les met en cache.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-179">Collects the SoHs from each SHA and caches them.</span></span> <span data-ttu-id="1a5c9-180">Le cache SoH est mis à jour chaque fois qu’un agent SHA fournit une SoH nouvelle ou mise à jour.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-180">The SoH cache is updated whenever an SHA supplies a new or updated SoH.</span></span>
-   <span data-ttu-id="1a5c9-181">Stocke le SSoH et le fournit à NAP ECs à la demande.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-181">Stores the SSoH and supplies it to the NAP ECs upon request.</span></span>
-   <span data-ttu-id="1a5c9-182">Transmet des notifications à Sha lorsque l’État restreint change.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-182">Passes notifications to SHAs when the restricted state changes.</span></span>
-   <span data-ttu-id="1a5c9-183">Conserve l’État restreint du système et collecte des informations d’État à partir de chaque SHA.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-183">Maintains the system restricted state and collects status information from each SHA.</span></span>
-   <span data-ttu-id="1a5c9-184">Passe SoHRs à l’algorithme SHA approprié.</span><span class="sxs-lookup"><span data-stu-id="1a5c9-184">Passes SoHRs to the appropriate SHA.</span></span>

 

 




