---
description: Le développement d’une infrastructure réseau de haut niveau sécurisée est une priorité pour la plupart des développeurs d’applications réseau. Toutefois, la sécurité de socket est souvent négligée en étant très importante lorsque vous envisagez une solution entièrement sécurisée.
ms.assetid: b37a3e33-65ee-43b1-bc8b-3280db7ebee4
title: Utilisation de SO_REUSEADDR et SO_EXCLUSIVEADDRUSE
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aaa4024f031102cbd634c235bb39f4c7860e6c1d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103756999"
---
# <a name="using-so_reuseaddr-and-so_exclusiveaddruse"></a><span data-ttu-id="861da-104">Utilisation \_ de so REUSEADDR et so \_ EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="861da-104">Using SO\_REUSEADDR and SO\_EXCLUSIVEADDRUSE</span></span>

<span data-ttu-id="861da-105">Le développement d’une infrastructure réseau de haut niveau sécurisée est une priorité pour la plupart des développeurs d’applications réseau.</span><span class="sxs-lookup"><span data-stu-id="861da-105">Developing a secure high-level network infrastructure is a priority for most network application developers.</span></span> <span data-ttu-id="861da-106">Toutefois, la sécurité de socket est souvent négligée en étant très importante lorsque vous envisagez une solution entièrement sécurisée.</span><span class="sxs-lookup"><span data-stu-id="861da-106">However, socket security is often overlooked despite being very critical when considering a fully secure solution.</span></span> <span data-ttu-id="861da-107">La sécurité des sockets, en particulier, concerne les processus qui se lient au même port précédemment lié par un autre processus d’application.</span><span class="sxs-lookup"><span data-stu-id="861da-107">Socket security, specifically, deals with processes that bind to the same port previously bound by another application process.</span></span> <span data-ttu-id="861da-108">Dans le passé, il était possible pour une application réseau de « détourner » le port d’une autre application, ce qui pourrait facilement entraîner une attaque par déni de service ou un vol de données.</span><span class="sxs-lookup"><span data-stu-id="861da-108">In the past, it was possible for a network application to "hijack" the port of another application, which could easily lead to a "denial of service" attack or data theft.</span></span>

<span data-ttu-id="861da-109">En général, la sécurité de socket s’applique aux processus côté serveur.</span><span class="sxs-lookup"><span data-stu-id="861da-109">In general, socket security applies to server-side processes.</span></span> <span data-ttu-id="861da-110">Plus précisément, la sécurité de socket s’applique à toute application réseau qui accepte les connexions et reçoit le trafic de datagramme IP.</span><span class="sxs-lookup"><span data-stu-id="861da-110">More specifically, socket security applies to any network application that accepts connections and receives IP datagram traffic.</span></span> <span data-ttu-id="861da-111">Ces applications sont généralement liées à un port bien connu et sont des cibles communes pour le code réseau malveillant.</span><span class="sxs-lookup"><span data-stu-id="861da-111">These applications typically bind to a well-known port and are common targets for malicious network code.</span></span>

<span data-ttu-id="861da-112">Les applications clientes sont moins susceptibles d’être les cibles de telles attaques, pas parce qu’elles sont moins vulnérables, mais parce que la plupart des clients se lient aux ports locaux « éphémères » plutôt qu’aux ports de « service » statiques.</span><span class="sxs-lookup"><span data-stu-id="861da-112">Client applications are less likely to be the targets of such attacks — not because they are less susceptible, but because most clients bind to "ephemeral" local ports rather than static "service" ports.</span></span> <span data-ttu-id="861da-113">Les applications réseau clientes doivent toujours être liées à des ports éphémères (en spécifiant le port 0 dans la structure [**sockaddr**](sockaddr-2.md) désignée par le paramètre *Name* lors de l’appel de la fonction [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) ), à moins qu’il y ait une raison architecturale impérieuse de ne pas le faire.</span><span class="sxs-lookup"><span data-stu-id="861da-113">Client network applications should always bind to ephemeral ports (by specifying port 0 in the [**SOCKADDR**](sockaddr-2.md) structure pointed to by the *name* parameter when calling the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) function) unless there is a compelling architectural reason not to.</span></span> <span data-ttu-id="861da-114">Les ports locaux éphémères sont constitués de ports supérieurs au port 49151.</span><span class="sxs-lookup"><span data-stu-id="861da-114">The ephemeral local ports consist of ports greater than port 49151.</span></span> <span data-ttu-id="861da-115">La plupart des applications serveur pour les services dédiés sont liées à un port réservé bien connu qui est inférieur ou égal au port 49151.</span><span class="sxs-lookup"><span data-stu-id="861da-115">Most server applications for dedicated services bind to a well-known reserved port that is less than or equal to port 49151.</span></span> <span data-ttu-id="861da-116">Ainsi, pour la plupart des applications, il n’y a généralement pas de conflit entre les demandes de liaison entre les applications clientes et serveur.</span><span class="sxs-lookup"><span data-stu-id="861da-116">So for most applications, there is not usually a conflict for bind requests between client and server applications.</span></span>

<span data-ttu-id="861da-117">Cette section décrit le niveau de sécurité par défaut sur les différentes plates-formes Microsoft Windows et la façon dont les options de socket spécifiques **, \_ REUSEADDR** et [ \_ EXCLUSIVEADDRUSE](so-exclusiveaddruse.md) , influencent et affectent la sécurité des applications réseau.</span><span class="sxs-lookup"><span data-stu-id="861da-117">This section describes the default level of security on various Microsoft Windows platforms and how the specific socket options **SO\_REUSEADDR** and [SO\_EXCLUSIVEADDRUSE](so-exclusiveaddruse.md) impact and affect network application security.</span></span> <span data-ttu-id="861da-118">Une fonctionnalité supplémentaire appelée sécurité de socket améliorée est disponible sur Windows Server 2003 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="861da-118">An additional feature called enhanced socket security is available on Windows Server 2003 and later.</span></span> <span data-ttu-id="861da-119">La disponibilité de ces options de socket et de la sécurité de socket améliorée varie selon les versions des systèmes d’exploitation Microsoft, comme indiqué dans le tableau ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="861da-119">The availability of these socket options and enhanced socket security varies across versions of Microsoft operating systems, as shown in the table below.</span></span>

| <span data-ttu-id="861da-120">Plateforme</span><span class="sxs-lookup"><span data-stu-id="861da-120">Platform</span></span>            | <span data-ttu-id="861da-121">\_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="861da-121">SO\_REUSEADDR</span></span> | <span data-ttu-id="861da-122">\_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="861da-122">SO\_EXCLUSIVEADDRUSE</span></span>                  | <span data-ttu-id="861da-123">Sécurité de socket améliorée</span><span class="sxs-lookup"><span data-stu-id="861da-123">Enhanced socket security</span></span> |
|---------------------|---------------|---------------------------------------|--------------------------|
| <span data-ttu-id="861da-124">Windows 95</span><span class="sxs-lookup"><span data-stu-id="861da-124">Windows 95</span></span>          | <span data-ttu-id="861da-125">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-125">Available</span></span>     | <span data-ttu-id="861da-126">Non disponible</span><span class="sxs-lookup"><span data-stu-id="861da-126">Not Available</span></span>                         | <span data-ttu-id="861da-127">Non disponible</span><span class="sxs-lookup"><span data-stu-id="861da-127">Not Available</span></span>            |
| <span data-ttu-id="861da-128">Windows 98</span><span class="sxs-lookup"><span data-stu-id="861da-128">Windows 98</span></span>          | <span data-ttu-id="861da-129">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-129">Available</span></span>     | <span data-ttu-id="861da-130">Non disponible</span><span class="sxs-lookup"><span data-stu-id="861da-130">Not Available</span></span>                         | <span data-ttu-id="861da-131">Non disponible</span><span class="sxs-lookup"><span data-stu-id="861da-131">Not Available</span></span>            |
| <span data-ttu-id="861da-132">Windows me</span><span class="sxs-lookup"><span data-stu-id="861da-132">Windows Me</span></span>          | <span data-ttu-id="861da-133">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-133">Available</span></span>     | <span data-ttu-id="861da-134">Non disponible</span><span class="sxs-lookup"><span data-stu-id="861da-134">Not Available</span></span>                         | <span data-ttu-id="861da-135">Non disponible</span><span class="sxs-lookup"><span data-stu-id="861da-135">Not Available</span></span>            |
| <span data-ttu-id="861da-136">Windows NT 4.0</span><span class="sxs-lookup"><span data-stu-id="861da-136">Windows NT 4.0</span></span>      | <span data-ttu-id="861da-137">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-137">Available</span></span>     | <span data-ttu-id="861da-138">Disponible dans le Service Pack 4 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="861da-138">Available in Service Pack 4 and later</span></span> | <span data-ttu-id="861da-139">Non disponible</span><span class="sxs-lookup"><span data-stu-id="861da-139">Not Available</span></span>            |
| <span data-ttu-id="861da-140">Windows 2000</span><span class="sxs-lookup"><span data-stu-id="861da-140">Windows 2000</span></span>        | <span data-ttu-id="861da-141">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-141">Available</span></span>     | <span data-ttu-id="861da-142">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-142">Available</span></span>                             | <span data-ttu-id="861da-143">Non disponible</span><span class="sxs-lookup"><span data-stu-id="861da-143">Not Available</span></span>            |
| <span data-ttu-id="861da-144">Windows XP</span><span class="sxs-lookup"><span data-stu-id="861da-144">Windows XP</span></span>          | <span data-ttu-id="861da-145">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-145">Available</span></span>     | <span data-ttu-id="861da-146">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-146">Available</span></span>                             | <span data-ttu-id="861da-147">Non disponible</span><span class="sxs-lookup"><span data-stu-id="861da-147">Not Available</span></span>            |
| <span data-ttu-id="861da-148">Windows Server 2003</span><span class="sxs-lookup"><span data-stu-id="861da-148">Windows Server 2003</span></span> | <span data-ttu-id="861da-149">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-149">Available</span></span>     | <span data-ttu-id="861da-150">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-150">Available</span></span>                             | <span data-ttu-id="861da-151">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-151">Available</span></span>                |
| <span data-ttu-id="861da-152">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="861da-152">Windows Vista</span></span>       | <span data-ttu-id="861da-153">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-153">Available</span></span>     | <span data-ttu-id="861da-154">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-154">Available</span></span>                             | <span data-ttu-id="861da-155">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-155">Available</span></span>                |
| <span data-ttu-id="861da-156">Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="861da-156">Windows Server 2008</span></span> | <span data-ttu-id="861da-157">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-157">Available</span></span>     | <span data-ttu-id="861da-158">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-158">Available</span></span>                             | <span data-ttu-id="861da-159">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-159">Available</span></span>                |
| <span data-ttu-id="861da-160">Windows 7and plus récent</span><span class="sxs-lookup"><span data-stu-id="861da-160">Windows 7and newer</span></span>  | <span data-ttu-id="861da-161">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-161">Available</span></span>     | <span data-ttu-id="861da-162">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-162">Available</span></span>                             | <span data-ttu-id="861da-163">Disponible</span><span class="sxs-lookup"><span data-stu-id="861da-163">Available</span></span>                |

## <a name="using-so_reuseaddr"></a><span data-ttu-id="861da-164">Utilisation de SO \_ REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="861da-164">Using SO\_REUSEADDR</span></span>

<span data-ttu-id="861da-165">L’option de socket **\_ REUSEADDR** permet à un socket de se lier de force à un port utilisé par un autre Socket.</span><span class="sxs-lookup"><span data-stu-id="861da-165">The **SO\_REUSEADDR** socket option allows a socket to forcibly bind to a port in use by another socket.</span></span> <span data-ttu-id="861da-166">Le deuxième Socket appelle [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) avec le paramètre *Nom_option* défini sur **so \_ REUSEADDR** et le paramètre *optval* défini sur une valeur booléenne **true** avant d’appeler [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) sur le même port que le socket d’origine.</span><span class="sxs-lookup"><span data-stu-id="861da-166">The second socket calls [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) with the *optname* parameter set to **SO\_REUSEADDR** and the *optval* parameter set to a boolean value of **TRUE** before calling [**bind**](/windows/win32/api/winsock/nf-winsock-bind) on the same port as the original socket.</span></span> <span data-ttu-id="861da-167">Une fois le deuxième Socket lié avec succès, le comportement de tous les sockets liés à ce port est indéterminé.</span><span class="sxs-lookup"><span data-stu-id="861da-167">Once the second socket has successfully bound, the behavior for all sockets bound to that port is indeterminate.</span></span> <span data-ttu-id="861da-168">Par exemple, si tous les sockets sur le même port fournissent le service TCP, toute demande de connexion TCP entrante sur le port ne peut pas être garantie par le socket approprié ; le comportement est non déterministe.</span><span class="sxs-lookup"><span data-stu-id="861da-168">For example, if all of the sockets on the same port provide TCP service, any incoming TCP connection requests over the port cannot be guaranteed to be handled by the correct socket — the behavior is non-deterministic.</span></span> <span data-ttu-id="861da-169">Un programme malveillant peut utiliser par **conséquent \_ REUSEADDR** pour lier de force les sockets déjà utilisés pour les services de protocole réseau standard afin de refuser l’accès à ces services.</span><span class="sxs-lookup"><span data-stu-id="861da-169">A malicious program can use **SO\_REUSEADDR** to forcibly bind sockets already in use for standard network protocol services in order to deny access to those service.</span></span> <span data-ttu-id="861da-170">Aucun privilège spécial n’est requis pour utiliser cette option.</span><span class="sxs-lookup"><span data-stu-id="861da-170">No special privileges are required to use this option.</span></span>

<span data-ttu-id="861da-171">Si une application cliente est liée à un port avant qu’une application serveur puisse se lier au même port, des problèmes peuvent se produire.</span><span class="sxs-lookup"><span data-stu-id="861da-171">If a client application binds to a port before a server application is able to bind to the same port, then problems may result.</span></span> <span data-ttu-id="861da-172">Si l’application serveur est liée de force à l’aide de l’option de socket **\_ REUSEADDR** sur le même port, le comportement de tous les sockets liés à ce port est indéterminé.</span><span class="sxs-lookup"><span data-stu-id="861da-172">If the server application forcibly binds using the **SO\_REUSEADDR** socket option to the same port, then the behavior for all sockets bound to that port is indeterminate.</span></span>

<span data-ttu-id="861da-173">L’exception à ce comportement non déterministe est Sockets multidiffusion.</span><span class="sxs-lookup"><span data-stu-id="861da-173">The exception to this non-deterministic behavior is multicast sockets.</span></span> <span data-ttu-id="861da-174">Si deux sockets sont liés à la même interface et au même port et sont membres du même groupe de multidiffusion, les données sont remises aux deux sockets, plutôt qu’à un choix arbitraire.</span><span class="sxs-lookup"><span data-stu-id="861da-174">If two sockets are bound to the same interface and port and are members of the same multicast group, data will be delivered to both sockets, rather than an arbitrarily chosen one.</span></span>

## <a name="using-so_exclusiveaddruse"></a><span data-ttu-id="861da-175">Utilisation de SO \_ EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="861da-175">Using SO\_EXCLUSIVEADDRUSE</span></span>

<span data-ttu-id="861da-176">Avant l’introduction de l’option de socket **\_ EXCLUSIVEADDRUSE** , il était très peu important pour un développeur d’applications réseau d’empêcher un programme malveillant de se lier au port sur lequel l’application réseau avait ses propres Sockets liés.</span><span class="sxs-lookup"><span data-stu-id="861da-176">Before the **SO\_EXCLUSIVEADDRUSE** socket option was introduced, there was very little a network application developer could do to prevent a malicious program from binding to the port on which the network application had its own sockets bound.</span></span> <span data-ttu-id="861da-177">Afin de résoudre ce problème de sécurité, Windows Sockets a introduit l’option de socket **\_ EXCLUSIVEADDRUSE** , qui est devenue disponible sur Windows NT 4,0 avec Service Pack 4 (SP4) et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="861da-177">In order to address this security issue, Windows Sockets introduced the **SO\_EXCLUSIVEADDRUSE** socket option, which became available on Windows NT 4.0 with Service Pack 4 (SP4) and later.</span></span>

<span data-ttu-id="861da-178">L’option de socket **\_ EXCLUSIVEADDRUSE** ne peut être utilisée que par les membres du groupe de sécurité Administrateurs sur Windows XP et les versions antérieures.</span><span class="sxs-lookup"><span data-stu-id="861da-178">The **SO\_EXCLUSIVEADDRUSE** socket option can only be used by members of the Administrators security group on Windows XP and earlier.</span></span> <span data-ttu-id="861da-179">Les raisons pour lesquelles cette spécification a été modifiée sur Windows Server 2003 et versions ultérieures sont décrites plus loin dans cet article.</span><span class="sxs-lookup"><span data-stu-id="861da-179">The reasons why this requirement was changed on Windows Server 2003 and later are discussed later in the article.</span></span>

<span data-ttu-id="861da-180">L' **option \_ so EXCLUSIVEADDRUSE** est définie en appelant la fonction [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) avec le paramètre *nom_option* défini sur **so \_ EXCLUSIVEADDRUSE** et le paramètre *optval* défini sur une valeur booléenne **true** avant la liaison du Socket.</span><span class="sxs-lookup"><span data-stu-id="861da-180">The **SO\_EXCLUSIVEADDRUSE** option is set by calling the [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) function with the *optname* parameter set to **SO\_EXCLUSIVEADDRUSE** and the *optval* parameter set to a boolean value of **TRUE** before the socket is bound.</span></span> <span data-ttu-id="861da-181">Une fois l’option définie, le comportement des appels de [**liaison**](/windows/win32/api/winsock/nf-winsock-bind) suivants diffère selon l’adresse réseau spécifiée dans chaque appel de **liaison** .</span><span class="sxs-lookup"><span data-stu-id="861da-181">After the option is set, the behavior of subsequent [**bind**](/windows/win32/api/winsock/nf-winsock-bind) calls differs depending on the network address specified in each **bind** call.</span></span>

<span data-ttu-id="861da-182">Le tableau ci-dessous décrit le comportement qui se produit dans Windows XP et les versions antérieures lorsqu’un deuxième Socket tente de se lier à une adresse précédemment liée par un premier socket à l’aide d’options de socket spécifiques.</span><span class="sxs-lookup"><span data-stu-id="861da-182">The table below describes the behavior that occurs in Windows XP and earlier when a second socket attempts to bind to an address previously bound to by a first socket using specific socket options.</span></span>

> [!NOTE]  
> <span data-ttu-id="861da-183">Dans le tableau ci-dessous, « caractère générique » désigne l’adresse générique du protocole donné (par exemple, « 0.0.0.0 » pour IPv4 et «  :: » pour IPv6).</span><span class="sxs-lookup"><span data-stu-id="861da-183">In the table below, "wildcard" denotes the wildcard address for the given protocol (such as "0.0.0.0" for IPv4 and "::" for IPv6).</span></span> <span data-ttu-id="861da-184">« Spécifique » indique qu’une adresse IP spécifique a été attribuée à une interface.</span><span class="sxs-lookup"><span data-stu-id="861da-184">"Specific" denotes a specific IP address assigned an interface.</span></span> <span data-ttu-id="861da-185">Les cellules de tableau indiquent si la liaison est réussie (« Success ») ou si une erreur est retournée (« INUSE » pour l’erreur [WSAEADDRINUSE](windows-sockets-error-codes-2.md) ; « ACCÈS » pour l’erreur [WSAEACCES](windows-sockets-error-codes-2.md) ).</span><span class="sxs-lookup"><span data-stu-id="861da-185">The table cells indicate whether or not the bind is successful ("Success") or an error is returned ("INUSE" for the [WSAEADDRINUSE](windows-sockets-error-codes-2.md) error; "ACCESS" for the [WSAEACCES](windows-sockets-error-codes-2.md) error).</span></span>

<table>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2" rowspan="3"><span data-ttu-id="861da-186">Premier appel de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>liaison</strong></a></span><span class="sxs-lookup"><span data-stu-id="861da-186">First <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
        <td bgcolor="#C0C0C0" colspan="6"><span data-ttu-id="861da-187">Deuxième appel de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>liaison</strong></a></span><span class="sxs-lookup"><span data-stu-id="861da-187">Second <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="861da-188">Default</span><span class="sxs-lookup"><span data-stu-id="861da-188">Default</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="861da-189">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="861da-189">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="861da-190">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="861da-190">SO_EXCLUSIVEADDRUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-191">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-191">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-192">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-192">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-193">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-193">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-194">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-194">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-195">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-195">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-196">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-196">Specific</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="861da-197">Default</span><span class="sxs-lookup"><span data-stu-id="861da-197">Default</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-198">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-198">Wildcard</span></span></td>
        <td><span data-ttu-id="861da-199">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-199">INUSE</span></span></td>
        <td><span data-ttu-id="861da-200">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-200">INUSE</span></span></td>
        <td><span data-ttu-id="861da-201">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-201">Success</span></span></td>
        <td><span data-ttu-id="861da-202">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-202">Success</span></span></td>
        <td><span data-ttu-id="861da-203">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-203">INUSE</span></span></td>
        <td><span data-ttu-id="861da-204">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-204">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-205">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-205">Specific</span></span></td>
        <td><span data-ttu-id="861da-206">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-206">INUSE</span></span></td>
        <td><span data-ttu-id="861da-207">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-207">INUSE</span></span></td>
        <td><span data-ttu-id="861da-208">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-208">Success</span></span></td>
        <td><span data-ttu-id="861da-209">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-209">Success</span></span></td>
        <td><span data-ttu-id="861da-210">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-210">INUSE</span></span></td>
        <td><span data-ttu-id="861da-211">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-211">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="861da-212">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="861da-212">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-213">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-213">Wildcard</span></span></td>
        <td><span data-ttu-id="861da-214">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-214">INUSE</span></span></td>
        <td><span data-ttu-id="861da-215">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-215">INUSE</span></span></td>
        <td><span data-ttu-id="861da-216">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-216">Success</span></span></td>
        <td><span data-ttu-id="861da-217">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-217">Success</span></span></td>
        <td><span data-ttu-id="861da-218">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-218">INUSE</span></span></td>
        <td><span data-ttu-id="861da-219">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-219">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-220">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-220">Specific</span></span></td>
        <td><span data-ttu-id="861da-221">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-221">INUSE</span></span></td>
        <td><span data-ttu-id="861da-222">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-222">INUSE</span></span></td>
        <td><span data-ttu-id="861da-223">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-223">Success</span></span></td>
        <td><span data-ttu-id="861da-224">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-224">Success</span></span></td>
        <td><span data-ttu-id="861da-225">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-225">INUSE</span></span></td>
        <td><span data-ttu-id="861da-226">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-226">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="861da-227">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="861da-227">SO_EXCLUSIVEADDRUSE</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-228">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-228">Wildcard</span></span></td>
        <td><span data-ttu-id="861da-229">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-229">INUSE</span></span></td>
        <td><span data-ttu-id="861da-230">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-230">INUSE</span></span></td>
        <td><span data-ttu-id="861da-231">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-231">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-232">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-232">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-233">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-233">INUSE</span></span></td>
        <td><span data-ttu-id="861da-234">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-234">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-235">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-235">Specific</span></span></td>
        <td><span data-ttu-id="861da-236">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-236">INUSE</span></span></td>
        <td><span data-ttu-id="861da-237">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-237">INUSE</span></span></td>
        <td><span data-ttu-id="861da-238">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-238">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-239">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-239">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-240">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-240">INUSE</span></span></td>
        <td><span data-ttu-id="861da-241">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-241">INUSE</span></span></td>
    </tr>
</table>

<span data-ttu-id="861da-242">Lorsque deux sockets sont liés au même numéro de port mais sur des interfaces explicites différentes, il n’y a aucun conflit.</span><span class="sxs-lookup"><span data-stu-id="861da-242">When two sockets are bound to the same port number but on different explicit interfaces, there is no conflict.</span></span> <span data-ttu-id="861da-243">Par exemple, dans le cas où un ordinateur a deux interfaces IP, 10.0.0.1 et 10.99.99.99, si le premier appel à [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) est sur 10.0.0.1 avec le port défini sur 5150 et **\_ EXCLUSIVEADDRUSE** spécifié, un deuxième appel à **Bind** sur 10.99.99.99 avec le port est également défini sur 5150 et aucune option spécifiée n’est établie.</span><span class="sxs-lookup"><span data-stu-id="861da-243">For example, in the case where a computer has two IP interfaces, 10.0.0.1 and 10.99.99.99, if the first call to [**bind**](/windows/win32/api/winsock/nf-winsock-bind) is on 10.0.0.1 with the port set to 5150 and **SO\_EXCLUSIVEADDRUSE** specified, then a second call to **bind** on 10.99.99.99 with the port also set to 5150 and no options specified will succeed.</span></span> <span data-ttu-id="861da-244">Toutefois, si le premier Socket est lié à l’adresse générique et au port 5150, tout appel de liaison suivant au port 5150 **avec \_ EXCLUSIVEADDRUSE** défini échoue avec [WSAEADDRINUSE](windows-sockets-error-codes-2.md) ou [WSAEACCES](windows-sockets-error-codes-2.md) retourné par l’opération de **liaison** .</span><span class="sxs-lookup"><span data-stu-id="861da-244">However, if the first socket is bound to the wildcard address and port 5150, then any subsequent bind call to port 5150 with **SO\_EXCLUSIVEADDRUSE** set will fail with either [WSAEADDRINUSE](windows-sockets-error-codes-2.md) or [WSAEACCES](windows-sockets-error-codes-2.md) returned by the **bind** operation.</span></span>

<span data-ttu-id="861da-245">Dans le cas où le premier appel à [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) définit soit **\_ REUSEADDR** , soit aucune option de socket, le deuxième appel de **liaison** « pirate » le port et l’application ne peut pas déterminer lequel des deux sockets ont reçu des paquets spécifiques envoyés au port « partagé ».</span><span class="sxs-lookup"><span data-stu-id="861da-245">In the case where the first call to [**bind**](/windows/win32/api/winsock/nf-winsock-bind) sets either **SO\_REUSEADDR** or no socket options at all, the second **bind** call will "hijack" the port and the application will be unable to determine which of the two sockets received specific packets sent to the "shared" port.</span></span>

<span data-ttu-id="861da-246">Une application classique qui appelle la fonction de [**liaison**](/windows/win32/api/winsock/nf-winsock-bind) n’alloue pas le socket lié pour une utilisation exclusive, à moins que l’option de socket **so \_ EXCLUSIVEADDRUSE** soit appelée sur le socket avant l’appel à la fonction de **liaison** .</span><span class="sxs-lookup"><span data-stu-id="861da-246">A typical application that calls the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) function does not allocate the bound socket for exclusive use, unless the **SO\_EXCLUSIVEADDRUSE** socket option is called on the socket before the call to the **bind** function.</span></span> <span data-ttu-id="861da-247">Si une application cliente est liée à un port éphémère ou à un port spécifique avant qu’une application serveur ne se connecte au même port, des problèmes peuvent se produire.</span><span class="sxs-lookup"><span data-stu-id="861da-247">If a client application binds to an ephemeral port or a specific port before a server application binds to the same port, then problems can result.</span></span> <span data-ttu-id="861da-248">L’application serveur peut être liée de force au même port à l’aide de l’option de socket **so \_ REUSEADDR** sur le socket avant d’appeler la fonction **Bind** , mais le comportement de tous les sockets liés à ce port est alors indéterminé.</span><span class="sxs-lookup"><span data-stu-id="861da-248">The server application can forcibly bind to the same port by using the **SO\_REUSEADDR** socket option on the socket before calling the **bind** function, but the behavior for all sockets bound to that port is then indeterminate.</span></span> <span data-ttu-id="861da-249">Si l’application serveur tente d’utiliser l’option de socket **so \_ EXCLUSIVEADDRUSE** pour l’utilisation exclusive du port, la demande échoue.</span><span class="sxs-lookup"><span data-stu-id="861da-249">If the server application tries to use the **SO\_EXCLUSIVEADDRUSE** socket option for exclusive use of the port, the request will fail.</span></span>

<span data-ttu-id="861da-250">À l’inverse, un socket avec l' **ensemble \_ EXCLUSIVEADDRUSE, qui** ne peut pas être réutilisé immédiatement après la fermeture du Socket.</span><span class="sxs-lookup"><span data-stu-id="861da-250">Conversely, a socket with the **SO\_EXCLUSIVEADDRUSE** set cannot necessarily be reused immediately after socket closure.</span></span> <span data-ttu-id="861da-251">Par exemple, si un socket d’écoute **avec \_ EXCLUSIVEADDRUSE** défini accepte une connexion et est ensuite fermé, un autre socket (également avec **\_ EXCLUSIVEADDRUSE**) ne peut pas se lier au même port que le premier Socket jusqu’à ce que la connexion d’origine devienne inactive.</span><span class="sxs-lookup"><span data-stu-id="861da-251">For example, if a listening socket with **SO\_EXCLUSIVEADDRUSE** set accepts a connection and is then subsequently closed, another socket (also with **SO\_EXCLUSIVEADDRUSE**) cannot bind to the same port as the first socket until the original connection becomes inactive.</span></span>

<span data-ttu-id="861da-252">Ce problème peut devenir compliqué, car le protocole de transport sous-jacent peut ne pas mettre fin à la connexion même si le socket a été fermé.</span><span class="sxs-lookup"><span data-stu-id="861da-252">This issue can become complicated because the underlying transport protocol may not terminate the connection even though the socket has been closed.</span></span> <span data-ttu-id="861da-253">Même après la fermeture du socket par l’application, le système doit transmettre toutes les données mises en mémoire tampon, envoyer un message de déconnexion approprié à l’homologue et attendre un message de déconnexion approprié de l’homologue.</span><span class="sxs-lookup"><span data-stu-id="861da-253">Even after the socket has been closed by the application, the system must transmit any buffered data, send a graceful disconnect message to the peer, and wait for a corresponding graceful disconnect message from the peer.</span></span> <span data-ttu-id="861da-254">Il est possible que le protocole de transport sous-jacent ne libère jamais la connexion ; par exemple, l’homologue participant à la connexion d’origine peut annoncer une fenêtre de taille nulle ou une autre forme de configuration « attaque ».</span><span class="sxs-lookup"><span data-stu-id="861da-254">It is possible that the underlying transport protocol might never release the connection; for example, the peer participating in the original connection might advertise a zero-size window, or some other form of "attack" configuration.</span></span> <span data-ttu-id="861da-255">Dans ce cas, la connexion client reste dans un état actif malgré la demande de la fermer, car les données non acquittées restent dans la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="861da-255">In such a case, the client connection remains in an active state despite the request to close it, since unacknowledged data remains in the buffer.</span></span>

<span data-ttu-id="861da-256">Pour éviter cette situation, les applications réseau doivent garantir un arrêt correct en appelant [**Shutdown**](/windows/win32/api/winsock/nf-winsock-shutdown) avec l' \_ indicateur SD Send défini, puis attendre dans une boucle [**recv**](/windows/win32/api/winsock/nf-winsock-recv) jusqu’à ce que zéro octet soit renvoyé sur la connexion.</span><span class="sxs-lookup"><span data-stu-id="861da-256">To avoid this situation, network applications should ensure a graceful shutdown by calling [**shutdown**](/windows/win32/api/winsock/nf-winsock-shutdown) with the SD\_SEND flag set, and then wait in a [**recv**](/windows/win32/api/winsock/nf-winsock-recv) loop until zero bytes are returned over the connection.</span></span> <span data-ttu-id="861da-257">Cela garantit que toutes les données sont reçues par l’homologue et confirme de la même manière à l’homologue qu’il a reçu toutes les données transmises, ainsi qu’à éviter le problème de réutilisation des ports susmentionné.</span><span class="sxs-lookup"><span data-stu-id="861da-257">This guarantees that all data is received by the peer and likewise confirms with the peer that it has received all of the transmitted data, as well as avoiding the aforementioned port reuse issue.</span></span>

<span data-ttu-id="861da-258">L' \_ option de socket so peut être définie sur un socket pour empêcher le port de passer à un état d’attente « actif »; Toutefois, cela est déconseillé car il peut entraîner des effets souhaités, tels que la réinitialisation des connexions.</span><span class="sxs-lookup"><span data-stu-id="861da-258">The SO\_LINGER socket option may be set on a socket to prevent the port from transitioning to an "active" wait state; however, this is discouraged as it can lead to desired effects, such as reset connections.</span></span> <span data-ttu-id="861da-259">Par exemple, si les données sont reçues par l’homologue mais qu’elles ne le sont pas, et que l’ordinateur local ferme le socket avec, si tel est le cas \_ , la connexion entre les deux ordinateurs est réinitialisée et les données sans accusé de réception sont ignorées par l’homologue.</span><span class="sxs-lookup"><span data-stu-id="861da-259">For example, if data is received by the peer but remains unacknowledged by it, and the local computer closes the socket with SO\_LINGER set on it, the connection between the two computers is reset and the unacknowledged data discarded by the peer.</span></span> <span data-ttu-id="861da-260">Il est difficile de choisir un délai d’attente approprié, car une valeur de délai d’expiration plus faible entraîne souvent des interruptions soudaines des connexions, alors que des valeurs de délai d’expiration plus élevées laissent le système vulnérable aux attaques par déni de service (en établissant de nombreuses connexions et en bloquant/bloquant les threads d’application).</span><span class="sxs-lookup"><span data-stu-id="861da-260">Picking a suitable time to linger is difficult as a smaller timeout value often results in suddenly aborted connections, whereas larger timeout values leave the system vulnerable to denial-of-service attacks (by establishing many connections and potentially stalling/blocking application threads).</span></span> <span data-ttu-id="861da-261">La fermeture d’un socket qui a une valeur de délai d’attente différente de zéro peut également provoquer le blocage de l’appel [**opération closesocket**](/windows/win32/api/winsock/nf-winsock-closesocket) .</span><span class="sxs-lookup"><span data-stu-id="861da-261">Closing a socket that has a nonzero linger timeout value may also cause the [**closesocket**](/windows/win32/api/winsock/nf-winsock-closesocket) call to block.</span></span>

## <a name="enhanced-socket-security"></a><span data-ttu-id="861da-262">Sécurité de socket améliorée</span><span class="sxs-lookup"><span data-stu-id="861da-262">Enhanced Socket Security</span></span>

<span data-ttu-id="861da-263">La sécurité de socket améliorée a été ajoutée avec la sortie de Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="861da-263">Enhanced socket security was added with the release of Windows Server 2003.</span></span> <span data-ttu-id="861da-264">Dans les versions précédentes du système d’exploitation de serveur Microsoft, la sécurité de socket par défaut permettait facilement de détourner les ports des applications insoupçonnées.</span><span class="sxs-lookup"><span data-stu-id="861da-264">In previous Microsoft server operating system releases, the default socket security easily allowed processes to hijack ports from unsuspecting applications.</span></span> <span data-ttu-id="861da-265">Dans Windows Server 2003, les sockets ne sont pas dans un État partageable par défaut.</span><span class="sxs-lookup"><span data-stu-id="861da-265">In Windows Server 2003, sockets are not in a sharable state by default.</span></span> <span data-ttu-id="861da-266">Par conséquent, si une application veut permettre à d’autres processus de réutiliser un port sur lequel un socket est déjà lié, elle doit l’activer spécifiquement.</span><span class="sxs-lookup"><span data-stu-id="861da-266">Therefore, if an application wants to allow other processes to reuse a port on which a socket is already bound, it must specifically enable it.</span></span> <span data-ttu-id="861da-267">Si tel est le cas, le premier socket à appeler [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) sur le port doit avoir **\_ REUSEADDR** défini sur le Socket.</span><span class="sxs-lookup"><span data-stu-id="861da-267">If that is the case, the first socket to call [**bind**](/windows/win32/api/winsock/nf-winsock-bind) on the port must have **SO\_REUSEADDR** set on the socket.</span></span> <span data-ttu-id="861da-268">La seule exception à ce cas se produit lorsque le deuxième appel de **liaison** est effectué par le même compte d’utilisateur qui a effectué l’appel d’origine à la **liaison**.</span><span class="sxs-lookup"><span data-stu-id="861da-268">The only exception to this case occurs when the second **bind** call is performed by the same user account that made the original call to **bind**.</span></span> <span data-ttu-id="861da-269">Cette exception existe uniquement pour assurer la compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="861da-269">This exception exists solely to provide backward compatibility.</span></span>

<span data-ttu-id="861da-270">Le tableau ci-dessous décrit le comportement qui se produit dans Windows Server 2003 et les systèmes d’exploitation ultérieurs lorsqu’un deuxième Socket tente de se lier à une adresse précédemment liée par un premier socket à l’aide d’options de socket spécifiques.</span><span class="sxs-lookup"><span data-stu-id="861da-270">The table below describes the behavior that occurs in Windows Server 2003 and later operating systems when a second socket attempts to bind to an address previously bound to by a first socket using specific socket options.</span></span>

> [!NOTE]
> <span data-ttu-id="861da-271">Dans le tableau ci-dessous, « caractère générique » désigne l’adresse générique du protocole donné (par exemple, « 0.0.0.0 » pour IPv4 et «  :: » pour IPv6).</span><span class="sxs-lookup"><span data-stu-id="861da-271">In the table below, "wildcard" denotes the wildcard address for the given protocol (such as "0.0.0.0" for IPv4 and "::" for IPv6).</span></span> <span data-ttu-id="861da-272">« Spécifique » indique qu’une adresse IP spécifique a été attribuée à une interface.</span><span class="sxs-lookup"><span data-stu-id="861da-272">"Specific" denotes a specific IP address assigned an interface.</span></span> <span data-ttu-id="861da-273">Les cellules de tableau indiquent si la liaison est réussie (« Success ») ou si l’erreur retournée (« INUSE » pour l’erreur [WSAEADDRINUSE](windows-sockets-error-codes-2.md) ; « ACCÈS » pour l’erreur [WSAEACCES](windows-sockets-error-codes-2.md) ).</span><span class="sxs-lookup"><span data-stu-id="861da-273">The table cells indicate whether or not the bind is successful ("Success") or the error returned ("INUSE" for the [WSAEADDRINUSE](windows-sockets-error-codes-2.md) error; "ACCESS" for the [WSAEACCES](windows-sockets-error-codes-2.md) error).</span></span>
>
> <span data-ttu-id="861da-274">Notez également que dans cette table spécifique, les deux appels de [**liaison**](/windows/win32/api/winsock/nf-winsock-bind) sont effectués sous le même compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="861da-274">Also note that in this specific table, both [**bind**](/windows/win32/api/winsock/nf-winsock-bind) calls are made under the same user account.</span></span>

<table>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2" rowspan="3"><span data-ttu-id="861da-275">Premier appel de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>liaison</strong></a></span><span class="sxs-lookup"><span data-stu-id="861da-275">First <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
        <td bgcolor="#C0C0C0" colspan="6"><span data-ttu-id="861da-276">Deuxième appel de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>liaison</strong></a></span><span class="sxs-lookup"><span data-stu-id="861da-276">Second <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="861da-277">Default</span><span class="sxs-lookup"><span data-stu-id="861da-277">Default</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="861da-278">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="861da-278">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="861da-279">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="861da-279">SO_EXCLUSIVEADDRUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-280">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-280">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-281">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-281">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-282">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-282">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-283">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-283">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-284">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-284">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-285">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-285">Specific</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="861da-286">Default</span><span class="sxs-lookup"><span data-stu-id="861da-286">Default</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-287">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-287">Wildcard</span></span></td>
        <td><span data-ttu-id="861da-288">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-288">INUSE</span></span></td>
        <td><span data-ttu-id="861da-289">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-289">Success</span></span></td>
        <td><span data-ttu-id="861da-290">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-290">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-291">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-291">Success</span></span></td>
        <td><span data-ttu-id="861da-292">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-292">INUSE</span></span></td>
        <td><span data-ttu-id="861da-293">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-293">Success</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-294">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-294">Specific</span></span></td>
        <td><span data-ttu-id="861da-295">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-295">Success</span></span></td>
        <td><span data-ttu-id="861da-296">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-296">INUSE</span></span></td>
        <td><span data-ttu-id="861da-297">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-297">Success</span></span></td>
        <td><span data-ttu-id="861da-298">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-298">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-299">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-299">INUSE</span></span></td>
        <td><span data-ttu-id="861da-300">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-300">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="861da-301">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="861da-301">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-302">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-302">Wildcard</span></span></td>
        <td><span data-ttu-id="861da-303">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-303">INUSE</span></span></td>
        <td><span data-ttu-id="861da-304">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-304">Success</span></span></td>
        <td><span data-ttu-id="861da-305">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-305">Success</span></span></td>
        <td><span data-ttu-id="861da-306">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-306">Success</span></span></td>
        <td><span data-ttu-id="861da-307">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-307">INUSE</span></span></td>
        <td><span data-ttu-id="861da-308">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-308">Success</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-309">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-309">Specific</span></span></td>
        <td><span data-ttu-id="861da-310">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-310">Success</span></span></td>
        <td><span data-ttu-id="861da-311">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-311">INUSE</span></span></td>
        <td><span data-ttu-id="861da-312">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-312">Success</span></span></td>
        <td><span data-ttu-id="861da-313">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-313">Success</span></span></td>
        <td><span data-ttu-id="861da-314">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-314">INUSE</span></span></td>
        <td><span data-ttu-id="861da-315">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-315">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="861da-316">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="861da-316">SO_EXCLUSIVEADDRUSE</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-317">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-317">Wildcard</span></span></td>
        <td><span data-ttu-id="861da-318">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-318">INUSE</span></span></td>
        <td><span data-ttu-id="861da-319">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-319">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-320">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-320">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-321">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-321">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-322">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-322">INUSE</span></span></td>
        <td><span data-ttu-id="861da-323">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-323">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-324">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-324">Specific</span></span></td>
        <td><span data-ttu-id="861da-325">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-325">Success</span></span></td>
        <td><span data-ttu-id="861da-326">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-326">INUSE</span></span></td>
        <td><span data-ttu-id="861da-327">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-327">Success</span></span></td>
        <td><span data-ttu-id="861da-328">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-328">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-329">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-329">INUSE</span></span></td>
        <td><span data-ttu-id="861da-330">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-330">INUSE</span></span></td>
    </tr>
</table>

<span data-ttu-id="861da-331">Quelques entrées du tableau ci-dessus méritent une explication.</span><span class="sxs-lookup"><span data-stu-id="861da-331">A few entries in the table above merit explanation.</span></span>

<span data-ttu-id="861da-332">Par exemple, si le premier appelant définit **\_ EXCLUSIVEADDRUSE** sur une adresse spécifique et que le deuxième appelant tente d’appeler [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) avec une adresse générique sur le même port, le deuxième appel de **liaison** sera effectué.</span><span class="sxs-lookup"><span data-stu-id="861da-332">For example, if the first caller sets **SO\_EXCLUSIVEADDRUSE** on a specific address, and second caller attempts to call [**bind**](/windows/win32/api/winsock/nf-winsock-bind) with a wildcard address on the same port, the second **bind** call will succeed.</span></span> <span data-ttu-id="861da-333">Dans ce cas particulier, le deuxième appelant est lié à toutes les interfaces, à l’exception de l’adresse spécifique à laquelle le premier appelant est lié.</span><span class="sxs-lookup"><span data-stu-id="861da-333">In this particular case, the second caller is bound to all interfaces except the specific address to which the first caller is bound.</span></span> <span data-ttu-id="861da-334">Notez que l’inverse de ce cas de figure n’est pas vrai : si le premier appelant définit **so \_ EXCLUSIVEADDRUSE** et appelle **Bind** avec l’indicateur de caractère générique, le deuxième appelant n’est pas en mesure d’appeler **Bind** avec le même port.</span><span class="sxs-lookup"><span data-stu-id="861da-334">Note that the reverse of this case is not true: if the first caller sets **SO\_EXCLUSIVEADDRUSE** and calls **bind** with the wildcard flag, the second caller is not able to call **bind** with the same port.</span></span>

<span data-ttu-id="861da-335">Le comportement de liaison de socket change lorsque les appels de liaison de socket sont effectués sous des comptes d’utilisateur différents.</span><span class="sxs-lookup"><span data-stu-id="861da-335">The socket binding behavior changes when the socket bind calls are made under different user accounts.</span></span> <span data-ttu-id="861da-336">Le tableau ci-dessous spécifie le comportement qui se produit dans Windows Server 2003 et les systèmes d’exploitation ultérieurs lorsqu’un deuxième Socket tente de se lier à une adresse précédemment liée par un premier socket à l’aide d’options de socket spécifiques et d’un autre compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="861da-336">The table below specifies the behavior that occurs in Windows Server 2003 and later operating systems when a second socket attempts to bind to an address previously bound to by a first socket using specific socket options and a different user account.</span></span>

<table>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2" rowspan="3"><span data-ttu-id="861da-337">Premier appel de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>liaison</strong></a></span><span class="sxs-lookup"><span data-stu-id="861da-337">First <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
        <td bgcolor="#C0C0C0" colspan="6"><span data-ttu-id="861da-338">Deuxième appel de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>liaison</strong></a></span><span class="sxs-lookup"><span data-stu-id="861da-338">Second <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="861da-339">Default</span><span class="sxs-lookup"><span data-stu-id="861da-339">Default</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="861da-340">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="861da-340">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="861da-341">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="861da-341">SO_EXCLUSIVEADDRUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-342">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-342">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-343">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-343">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-344">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-344">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-345">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-345">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-346">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-346">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-347">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-347">Specific</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="861da-348">Default</span><span class="sxs-lookup"><span data-stu-id="861da-348">Default</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-349">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-349">Wildcard</span></span></td>
        <td><span data-ttu-id="861da-350">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-350">INUSE</span></span></td>
        <td><span data-ttu-id="861da-351">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-351">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-352">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-352">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-353">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-353">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-354">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-354">INUSE</span></span></td>
        <td><span data-ttu-id="861da-355">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-355">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-356">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-356">Specific</span></span></td>
        <td><span data-ttu-id="861da-357">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-357">Success</span></span></td>
        <td><span data-ttu-id="861da-358">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-358">INUSE</span></span></td>
        <td><span data-ttu-id="861da-359">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-359">Success</span></span></td>
        <td><span data-ttu-id="861da-360">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-360">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-361">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-361">INUSE</span></span></td>
        <td><span data-ttu-id="861da-362">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-362">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="861da-363">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="861da-363">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-364">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-364">Wildcard</span></span></td>
        <td><span data-ttu-id="861da-365">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-365">INUSE</span></span></td>
        <td><span data-ttu-id="861da-366">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-366">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-367">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-367">Success</span></span></td>
        <td><span data-ttu-id="861da-368">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-368">Success</span></span></td>
        <td><span data-ttu-id="861da-369">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-369">INUSE</span></span></td>
        <td><span data-ttu-id="861da-370">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-370">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-371">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-371">Specific</span></span></td>
        <td><span data-ttu-id="861da-372">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-372">Success</span></span></td>
        <td><span data-ttu-id="861da-373">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-373">INUSE</span></span></td>
        <td><span data-ttu-id="861da-374">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-374">Success</span></span></td>
        <td><span data-ttu-id="861da-375">Opération réussie</span><span class="sxs-lookup"><span data-stu-id="861da-375">Success</span></span></td>
        <td><span data-ttu-id="861da-376">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-376">INUSE</span></span></td>
        <td><span data-ttu-id="861da-377">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-377">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="861da-378">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="861da-378">SO_EXCLUSIVEADDRUSE</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-379">Caractère générique</span><span class="sxs-lookup"><span data-stu-id="861da-379">Wildcard</span></span></td>
        <td><span data-ttu-id="861da-380">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-380">INUSE</span></span></td>
        <td><span data-ttu-id="861da-381">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-381">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-382">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-382">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-383">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-383">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-384">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-384">INUSE</span></span></td>
        <td><span data-ttu-id="861da-385">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-385">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="861da-386">Spécifique</span><span class="sxs-lookup"><span data-stu-id="861da-386">Specific</span></span></td>
        <td><span data-ttu-id="861da-387">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-387">Success</span></span></td>
        <td><span data-ttu-id="861da-388">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-388">INUSE</span></span></td>
        <td><span data-ttu-id="861da-389">Succès</span><span class="sxs-lookup"><span data-stu-id="861da-389">Success</span></span></td>
        <td><span data-ttu-id="861da-390">ACCESS</span><span class="sxs-lookup"><span data-stu-id="861da-390">ACCESS</span></span></td>
        <td><span data-ttu-id="861da-391">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-391">INUSE</span></span></td>
        <td><span data-ttu-id="861da-392">UTILISÉES</span><span class="sxs-lookup"><span data-stu-id="861da-392">INUSE</span></span></td>
    </tr>
</table>

<span data-ttu-id="861da-393">Notez que le comportement par défaut est différent lorsque les appels de [**liaison**](/windows/win32/api/winsock/nf-winsock-bind) sont effectués sous des comptes d’utilisateur différents.</span><span class="sxs-lookup"><span data-stu-id="861da-393">Note that the default behavior is different when the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) calls are made under different user accounts.</span></span> <span data-ttu-id="861da-394">Si le premier appelant ne définit aucune option sur le socket et se lie à l’adresse générique, le deuxième appelant ne peut pas définir l’option **so \_ REUSEADDR** et effectuer une liaison avec le même port.</span><span class="sxs-lookup"><span data-stu-id="861da-394">If the first caller does not set any options on the socket and binds to the wildcard address, then the second caller cannot set the **SO\_REUSEADDR** option and successfully bind to the same port.</span></span> <span data-ttu-id="861da-395">Le comportement par défaut sans option Set retourne également une erreur.</span><span class="sxs-lookup"><span data-stu-id="861da-395">The default behavior with no options set returns an error, as well.</span></span>

<span data-ttu-id="861da-396">Sur Windows Vista et versions ultérieures, vous pouvez créer un socket de pile double qui fonctionne sur IPv6 et IPv4.</span><span class="sxs-lookup"><span data-stu-id="861da-396">On Windows Vista and later, a dual stack socket can be created which operates over both IPv6 and IPv4.</span></span> <span data-ttu-id="861da-397">Lorsqu’un socket à double pile est lié à l’adresse générique, le port donné est réservé sur les piles de mise en réseau IPv4 et IPv6 et les vérifications associées à **so \_ REUSEADDR** et **\_ EXCLUSIVEADDRUSE** (Si défini) sont effectuées.</span><span class="sxs-lookup"><span data-stu-id="861da-397">When a dual stack socket is bound to the wildcard address, the given port is reserved on both the IPv4 and IPv6 networking stacks and the checks associated with **SO\_REUSEADDR** and **SO\_EXCLUSIVEADDRUSE** (if set) are made.</span></span> <span data-ttu-id="861da-398">Ces vérifications doivent être exécutées sur les deux piles de mise en réseau.</span><span class="sxs-lookup"><span data-stu-id="861da-398">These checks must succeed on both networking stacks.</span></span> <span data-ttu-id="861da-399">Par exemple, si un socket TCP à double pile **définit \_ EXCLUSIVEADDRUSE** , puis tente d’établir une liaison avec le port 5000, aucun autre socket TCP ne peut être précédemment lié au port 5000 (caractère générique ou spécifique).</span><span class="sxs-lookup"><span data-stu-id="861da-399">For example, if a dual stack TCP socket sets **SO\_EXCLUSIVEADDRUSE** and then tries to bind to port 5000, then no other TCP socket can be previously bound to port 5000 (either wildcard or specific).</span></span> <span data-ttu-id="861da-400">Dans ce cas, si un socket TCP IPv4 était précédemment lié à l’adresse de bouclage sur le port 5000, l’appel de [**liaison**](/windows/win32/api/winsock/nf-winsock-bind) pour le socket à double pile échouait avec [WSAEACCES](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="861da-400">In this case if an IPv4 TCP socket was previously bound to the loopback address on port 5000, the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) call for the dual stack socket would fail with [WSAEACCES](windows-sockets-error-codes-2.md).</span></span>

## <a name="application-strategies"></a><span data-ttu-id="861da-401">Stratégies d’application</span><span class="sxs-lookup"><span data-stu-id="861da-401">Application Strategies</span></span>

<span data-ttu-id="861da-402">Lors du développement d’une application réseau qui fonctionne au niveau de la couche de sockets, il est important de prendre en compte le type de sécurité de socket nécessaire.</span><span class="sxs-lookup"><span data-stu-id="861da-402">When developing network application that operate at the socket layer, it is important to consider the type of socket security necessary.</span></span> <span data-ttu-id="861da-403">Les applications clientes (applications qui connectent ou envoient des données à un service) requièrent rarement des étapes supplémentaires, car elles sont liées à un port local (éphémère) aléatoire.</span><span class="sxs-lookup"><span data-stu-id="861da-403">Client applications — applications that connect or send data to a service — rarely require any additional steps since they bind to a random local (ephemeral) port.</span></span> <span data-ttu-id="861da-404">Si le client requiert une liaison de port local spécifique pour fonctionner correctement, vous devez prendre en compte la sécurité du Socket.</span><span class="sxs-lookup"><span data-stu-id="861da-404">If the client does require a specific local port binding in order to function correctly, then you must consider socket security.</span></span>

<span data-ttu-id="861da-405">L’option **so \_ REUSEADDR** a très peu d’utilisations dans des applications normales, à l’exception des sockets multidiffusion, où les données sont remises à tous les sockets liés au même port.</span><span class="sxs-lookup"><span data-stu-id="861da-405">The **SO\_REUSEADDR** option has very few uses in normal applications aside from multicast sockets where data is delivered to all of the sockets bound on the same port.</span></span> <span data-ttu-id="861da-406">Dans le cas contraire, toute application qui définit cette option de socket doit être repensée pour supprimer la dépendance, car elle est de plus en plus vulnérable à « le piratage de Sockets ».</span><span class="sxs-lookup"><span data-stu-id="861da-406">Otherwise, any application that sets this socket option should be redesigned to remove the dependency since it is eminently vulnerable to "socket hijacking".</span></span> <span data-ttu-id="861da-407">Tant que l’option de socket **\_ REUSEADDR** peut être utilisée pour détourner potentiellement un port dans une application serveur, l’application doit être considérée comme non sécurisée.</span><span class="sxs-lookup"><span data-stu-id="861da-407">As long as **SO\_REUSEADDR** socket option can be used to potentially hijack a port in a server application, the application must be considered to be not secure.</span></span>

<span data-ttu-id="861da-408">Toutes les applications serveur doivent **définir \_ EXCLUSIVEADDRUSE** pour un niveau élevé de sécurité de Socket.</span><span class="sxs-lookup"><span data-stu-id="861da-408">All server applications must set **SO\_EXCLUSIVEADDRUSE** for a strong level of socket security.</span></span> <span data-ttu-id="861da-409">Non seulement il empêche les logiciels malveillants de détourner le port, mais il indique également si une autre application est liée au port demandé.</span><span class="sxs-lookup"><span data-stu-id="861da-409">Not only does it prevent malicious software from hijacking the port, but it also indicates whether or not another application is bound to the requested port.</span></span> <span data-ttu-id="861da-410">Par exemple, un appel à [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) sur l’adresse générique par un processus avec l’option de socket **\_ EXCLUSIVEADDRUSE** définie échoue si un autre processus est actuellement lié au même port sur une interface spécifique.</span><span class="sxs-lookup"><span data-stu-id="861da-410">For example, a call to [**bind**](/windows/win32/api/winsock/nf-winsock-bind) on the wildcard address by a process with the **SO\_EXCLUSIVEADDRUSE** socket option set will fail if another process is currently bound to the same port on a specific interface.</span></span>

<span data-ttu-id="861da-411">Enfin, même si la sécurité de socket a été améliorée dans Windows Server 2003, une application doit toujours définir l’option de socket **so \_ EXCLUSIVEADDRUSE** pour s’assurer qu’elle est liée à toutes les interfaces spécifiques que le processus a demandées.</span><span class="sxs-lookup"><span data-stu-id="861da-411">Lastly, even though socket security has been improved in Windows Server 2003, an application should always set the **SO\_EXCLUSIVEADDRUSE** socket option to ensure that it binds to all the specific interfaces the process has requested.</span></span> <span data-ttu-id="861da-412">La sécurité des sockets dans Windows Server 2003 ajoute un niveau accru de sécurité pour les applications héritées, mais les développeurs d’applications doivent toujours concevoir leurs produits avec tous les aspects de la sécurité à l’esprit.</span><span class="sxs-lookup"><span data-stu-id="861da-412">The socket security in Windows Server 2003 adds an increased level of security for legacy applications, but application developers must still design their products with all aspects of security in mind.</span></span>
