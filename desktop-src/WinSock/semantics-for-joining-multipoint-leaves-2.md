---
description: Dans l’exemple suivant, un socket multipoint est décrit fréquemment en définissant son rôle dans l’un des deux plans (contrôle ou données).
ms.assetid: 34f639e2-9363-4f3f-a8de-b7c5d12618c9
title: Sémantique pour joindre des feuilles multipoint
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df12683838fbad89f717b08d7a19802f24556761
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106520502"
---
# <a name="semantics-for-joining-multipoint-leaves"></a><span data-ttu-id="c0530-103">Sémantique pour joindre des feuilles multipoint</span><span class="sxs-lookup"><span data-stu-id="c0530-103">Semantics for Joining Multipoint Leaves</span></span>

<span data-ttu-id="c0530-104">Dans l’exemple suivant, un socket multipoint est décrit fréquemment en définissant son rôle dans l’un des deux plans (contrôle ou données).</span><span class="sxs-lookup"><span data-stu-id="c0530-104">In the following, a multipoint socket is frequently described by defining its role in one of the two planes (control or data).</span></span> <span data-ttu-id="c0530-105">Il est important de comprendre que ce même socket a un rôle dans l’autre plan, mais cela n’est pas mentionné afin de conserver les références courtes.</span><span class="sxs-lookup"><span data-stu-id="c0530-105">It should be understood that this same socket has a role in the other plane, but this is not mentioned in order to keep the references short.</span></span> <span data-ttu-id="c0530-106">Par exemple, lorsqu’une référence est faite à un « \_ Socket racine c », il peut s’agir d’une \_ racine racine/d \_ ou d’un \_ Socket feuille c racine/d \_ .</span><span class="sxs-lookup"><span data-stu-id="c0530-106">For example when a reference is made to a "c\_root socket", this could be either a c\_root/d\_root or a c\_root/d\_leaf socket.</span></span>

<span data-ttu-id="c0530-107">Dans les schémas de plan de contrôle enracinés, de nouveaux nœuds terminaux sont ajoutés à une session multipoint dans l’une ou l’autre des deux méthodes.</span><span class="sxs-lookup"><span data-stu-id="c0530-107">In rooted control plane schemes, new leaf nodes are added to a multipoint session in one or both of two different ways.</span></span> <span data-ttu-id="c0530-108">Dans la première méthode, la racine utilise [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) pour établir une connexion avec un nœud terminal et l’inviter à devenir participant.</span><span class="sxs-lookup"><span data-stu-id="c0530-108">In the first method, the root uses [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to initiate a connection with a leaf node and to invite it to become a participant.</span></span> <span data-ttu-id="c0530-109">Sur le nœud terminal, l’application pair doit avoir créé un \_ Socket feuille c et utilisé [**Listen**](/windows/desktop/api/Winsock2/nf-winsock2-listen) pour le définir en mode écoute.</span><span class="sxs-lookup"><span data-stu-id="c0530-109">On the leaf node, the peer application must have created a c\_leaf socket and used [**listen**](/windows/desktop/api/Winsock2/nf-winsock2-listen) to set it into listen mode.</span></span> <span data-ttu-id="c0530-110">Le nœud terminal reçoit une \_ indication FD Accept lorsqu’il est invité à rejoindre la session et signale sa volonté de s’y joindre en appelant [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span><span class="sxs-lookup"><span data-stu-id="c0530-110">The leaf node receives an FD\_ACCEPT indication when invited to join the session, and signals its willingness to join by calling [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span></span> <span data-ttu-id="c0530-111">L’application racine reçoit ensuite une \_ indication FD Connect lorsque l’opération de **jointure** est terminée.</span><span class="sxs-lookup"><span data-stu-id="c0530-111">The root application then receives an FD\_CONNECT indication when the **join** operation has been completed.</span></span>

<span data-ttu-id="c0530-112">Dans la deuxième méthode, les rôles sont fondamentalement inversés.</span><span class="sxs-lookup"><span data-stu-id="c0530-112">In the second method, the roles are essentially reversed.</span></span> <span data-ttu-id="c0530-113">L’application racine crée un \_ Socket racine c et le définit en mode d’écoute.</span><span class="sxs-lookup"><span data-stu-id="c0530-113">The root application creates a c\_root socket and sets it into listen mode.</span></span> <span data-ttu-id="c0530-114">Un nœud feuille souhaitant rejoindre la session crée un \_ Socket feuille c et utilise [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) pour initier la connexion et demander des admission.</span><span class="sxs-lookup"><span data-stu-id="c0530-114">A leaf node wishing to join the session creates a c\_leaf socket and uses [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to initiate the connection and request admittance.</span></span> <span data-ttu-id="c0530-115">L’application racine reçoit le FD \_ Accept quand une requête admission entrante arrive et admet le nœud terminal en appelant [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span><span class="sxs-lookup"><span data-stu-id="c0530-115">The root application receives FD\_ACCEPT when an incoming admittance request arrives, and admits the leaf node by calling [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span></span> <span data-ttu-id="c0530-116">Le nœud terminal reçoit FD \_ Connect lorsqu’il a été admis.</span><span class="sxs-lookup"><span data-stu-id="c0530-116">The leaf node receives FD\_CONNECT when it has been admitted.</span></span>

<span data-ttu-id="c0530-117">Dans un plan de contrôle sans racine, où tous les nœuds sont des \_ feuilles c, le [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) est utilisé pour initier l’inclusion d’un nœud dans une session multipoint existante.</span><span class="sxs-lookup"><span data-stu-id="c0530-117">In a nonrooted control plane, where all nodes are c\_leaf's, the [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) is used to initiate the inclusion of a node into an existing multipoint session.</span></span> <span data-ttu-id="c0530-118">Une \_ indication FD Connect est fournie lorsque la jointure est terminée et que le descripteur de socket retourné est utilisable dans la session multipoint.</span><span class="sxs-lookup"><span data-stu-id="c0530-118">An FD\_CONNECT indication is provided when the join has been completed and the returned socket descriptor is usable in the multipoint session.</span></span> <span data-ttu-id="c0530-119">Dans le cas de la multidiffusion IP, cela correspond à l' \_ option IP ajouter \_ un socket d’appartenance.</span><span class="sxs-lookup"><span data-stu-id="c0530-119">In the case of IP multicast, this would correspond to the IP\_ADD\_MEMBERSHIP socket option.</span></span>

<span data-ttu-id="c0530-120">(Les lecteurs connaissant l’utilisation de la multidiffusion IP du protocole UDP sans connexion peuvent être concernés par la sémantique orientée connexion présentée ici.</span><span class="sxs-lookup"><span data-stu-id="c0530-120">(Readers familiar with IP multicast's use of the connectionless UDP protocol may be concerned by the connection-oriented semantics presented here.</span></span> <span data-ttu-id="c0530-121">En particulier, la notion d’utilisation de [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) sur un socket UDP et l’attente d’une \_ indication FD Connect peut être troublantes.</span><span class="sxs-lookup"><span data-stu-id="c0530-121">In particular the notion of using [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) on a UDP socket and waiting for an FD\_CONNECT indication may be troubling.</span></span> <span data-ttu-id="c0530-122">Toutefois, l’application d’une sémantique orientée connexion à des protocoles sans connexion est beaucoup plus importante.</span><span class="sxs-lookup"><span data-stu-id="c0530-122">There is, however, ample precedent for applying connection-oriented semantics to connectionless protocols.</span></span> <span data-ttu-id="c0530-123">Elle est autorisée et parfois utile, par exemple, pour appeler la fonction de [**connexion**](/windows/desktop/api/Winsock2/nf-winsock2-connect) standard sur un socket UDP.</span><span class="sxs-lookup"><span data-stu-id="c0530-123">It is allowed and sometimes useful, for example, to invoke the standard [**connect**](/windows/desktop/api/Winsock2/nf-winsock2-connect) function on a UDP socket.</span></span> <span data-ttu-id="c0530-124">Le résultat général de l’application de la sémantique orientée connexion aux sockets sans connexion est une restriction dans la manière dont ces Sockets peuvent être utilisés, et c’est également le cas ici.</span><span class="sxs-lookup"><span data-stu-id="c0530-124">The general result of applying connection-oriented semantics to connectionless sockets is a restriction in how such sockets may be used, and this is the case here, as well.</span></span> <span data-ttu-id="c0530-125">Un socket UDP utilisé dans **WSAJoinLeaf** présente certaines restrictions et attend une \_ indication FD Connect (qui, dans ce cas, indique simplement que le message IGMP correspondant a été envoyé) est une limite de ce type.)</span><span class="sxs-lookup"><span data-stu-id="c0530-125">A UDP socket used in **WSAJoinLeaf** will have certain restrictions, and waiting for an FD\_CONNECT indication (which in this case simply indicates that the corresponding IGMP message has been sent) is one such limitation.)</span></span>

<span data-ttu-id="c0530-126">Par conséquent, il existe trois instances où une application utilise [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) en tant que :</span><span class="sxs-lookup"><span data-stu-id="c0530-126">There are therefore, three instances where an application would use [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) acting as a:</span></span>

-   <span data-ttu-id="c0530-127">Racine multipoint et invitation à une nouvelle feuille pour rejoindre la session</span><span class="sxs-lookup"><span data-stu-id="c0530-127">Multipoint root and inviting a new leaf to join the session</span></span>
-   <span data-ttu-id="c0530-128">Feuille effectuant une demande admission à une session multipoint enracinée</span><span class="sxs-lookup"><span data-stu-id="c0530-128">Leaf making an admittance request to a rooted multipoint session</span></span>
-   <span data-ttu-id="c0530-129">Feuille de recherche de admission dans une session multipoint sans racine (par exemple, la multidiffusion IP)</span><span class="sxs-lookup"><span data-stu-id="c0530-129">Leaf seeking admittance to a nonrooted multipoint session (for example, IP multicast)</span></span>

 

 



