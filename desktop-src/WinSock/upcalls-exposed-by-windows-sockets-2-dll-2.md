---
description: Cette section répertorie les appels que les fournisseurs de services peuvent effectuer dans le client Windows Sockets.
ms.assetid: a2069814-de95-40a2-ab09-c5187ecd56a7
title: Appels exposés par la DLL Windows Sockets 2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3575dc0ecf03c4907f6c418448a84f95a48fda94
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106537050"
---
# <a name="upcalls-exposed-by-windows-sockets-2-dll"></a><span data-ttu-id="1f8ac-103">Appels exposés par la DLL Windows Sockets 2</span><span class="sxs-lookup"><span data-stu-id="1f8ac-103">Upcalls Exposed by Windows Sockets 2 DLL</span></span>

<span data-ttu-id="1f8ac-104">Cette section répertorie les appels que les fournisseurs de services peuvent effectuer dans le client Windows Sockets.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-104">This section lists the upcalls that service providers may make into the Windows Sockets client.</span></span> <span data-ttu-id="1f8ac-105">Les fournisseurs de services reçoivent une table de dispatch de l’appel en tant que paramètre de la fonction [**WSPStartup**](/windows/desktop/api/Ws2spi/nf-ws2spi-wspstartup) et utilisent les entrées de cette table pour effectuer les appels.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-105">Service providers receive an upcall dispatch table as a parameter to [**WSPStartup**](/windows/desktop/api/Ws2spi/nf-ws2spi-wspstartup) function, and use entries in this table to make the upcalls.</span></span> <span data-ttu-id="1f8ac-106">Par conséquent, un client n’a pas besoin d’exporter ses fonctions WPU.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-106">Therefore, a client does not need to export its WPU functions.</span></span>

<span data-ttu-id="1f8ac-107">Il n’est pas obligatoire que les fournisseurs utilisent tous ces appels.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-107">It is not mandatory that providers use all of these upcalls.</span></span> <span data-ttu-id="1f8ac-108">Le tableau suivant indique les rappels qui doivent être utilisés et ceux qui sont facultatifs.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-108">The following table indicates which upcalls must be used and which are optional.</span></span>

| <span data-ttu-id="1f8ac-109">Fonction</span><span class="sxs-lookup"><span data-stu-id="1f8ac-109">Function</span></span>                                                               | <span data-ttu-id="1f8ac-110">Description</span><span class="sxs-lookup"><span data-stu-id="1f8ac-110">Description</span></span>                                                                                                              | <span data-ttu-id="1f8ac-111">Statut</span><span class="sxs-lookup"><span data-stu-id="1f8ac-111">Status</span></span>                         | <span data-ttu-id="1f8ac-112">Signification</span><span class="sxs-lookup"><span data-stu-id="1f8ac-112">Meaning</span></span>                                                                                                                                                                          |
|------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|--------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1f8ac-113">**WPUCloseEvent**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-113">**WPUCloseEvent**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpucloseevent)                               | <span data-ttu-id="1f8ac-114">Ferme un handle d’objet d’événement ouvert.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-114">Closes an open event object handle.</span></span>                                                                                      | <span data-ttu-id="1f8ac-115">Optionnel.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-115">Optional.</span></span>                      | <span data-ttu-id="1f8ac-116">Le fournisseur peut utiliser un appel Windows approprié à la place.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-116">The provider may use an an appropriate Windows call instead.</span></span>                                                                                                                     |
| [<span data-ttu-id="1f8ac-117">**WPUCloseSocketHandle**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-117">**WPUCloseSocketHandle**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuclosesockethandle)                 | <span data-ttu-id="1f8ac-118">Ferme un handle de socket alloué par la DLL Windows Sockets.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-118">Closes a socket handle allocated by the Windows Sockets DLL.</span></span>                                                             | <span data-ttu-id="1f8ac-119">Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-119">Required.</span></span>                      | <span data-ttu-id="1f8ac-120">Le \_32.dll Ws2 doit interroger et/ou modifier les informations d’état internes associées au handle de Socket.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-120">The Ws2\_32.dll needs to query and/or modify internal state information associated with the socket handle.</span></span>                                                                       |
| [<span data-ttu-id="1f8ac-121">**WPUCloseThread**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-121">**WPUCloseThread**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuclosethread)                             | <span data-ttu-id="1f8ac-122">Ferme un ID de thread pour un thread de service interne.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-122">Closes a thread ID for an internal service thread.</span></span>                                                                       |                                |                                                                                                                                                                                  |
| [<span data-ttu-id="1f8ac-123">**WPUCompleteOverlappedRequest**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-123">**WPUCompleteOverlappedRequest**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpucompleteoverlappedrequest) | <span data-ttu-id="1f8ac-124">Fournit une notification de fin d’exécution d’e/s avec chevauchement où le mécanisme d’achèvement est autre que le mode utilisateur APC.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-124">Delivers overlapped I/O completion notification where the completion mechanism is something other than user mode APC.</span></span>    |                                |                                                                                                                                                                                  |
| [<span data-ttu-id="1f8ac-125">**WPUCreateEvent**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-125">**WPUCreateEvent**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpucreateevent)                             | <span data-ttu-id="1f8ac-126">Crée un nouvel objet d’événement.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-126">Creates a new event object.</span></span>                                                                                              | <span data-ttu-id="1f8ac-127">Optionnel.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-127">Optional.</span></span>                      | <span data-ttu-id="1f8ac-128">Le fournisseur peut utiliser un appel Windows approprié à la place.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-128">The provider may use an appropriate Windows call instead.</span></span>                                                                                                                        |
| [<span data-ttu-id="1f8ac-129">**WPUCreateSocketHandle**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-129">**WPUCreateSocketHandle**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpucreatesockethandle)               | <span data-ttu-id="1f8ac-130">Crée un nouveau handle de socket pour les fournisseurs nonIFS.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-130">Creates a new socket handle for nonIFS providers.</span></span>                                                                        | <span data-ttu-id="1f8ac-131">Requis pour les fournisseurs nonIFS.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-131">Required for nonIFS providers.</span></span> | <span data-ttu-id="1f8ac-132">Le \_32.dll Ws2 doit interroger et/ou modifier les informations d’état internes associées au handle de Socket.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-132">The Ws2\_32.dll needs to query and/or modify internal state information associated with the socket handle.</span></span>                                                                       |
| [<span data-ttu-id="1f8ac-133">**WPUFDIsSet**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-133">**WPUFDIsSet**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpufdisset)                                     | <span data-ttu-id="1f8ac-134">Vérifie l’appartenance du handle de socket spécifié.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-134">Checks the membership of the specified socket handle.</span></span>                                                                    | <span data-ttu-id="1f8ac-135">Optionnel.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-135">Optional.</span></span>                      | <span data-ttu-id="1f8ac-136">Il s’agit simplement d’une fonction pratique qui sait comment explorer des structures de [**\_ jeux FD**](/windows/desktop/api/winsock/nf-winsock-fd_set) .</span><span class="sxs-lookup"><span data-stu-id="1f8ac-136">This is just a convenience function that knows how to dig through [**fd\_set**](/windows/desktop/api/winsock/nf-winsock-fd_set) structures.</span></span> <span data-ttu-id="1f8ac-137">Un fournisseur devra peut-être explorer ces structures de manière explicite.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-137">A provider may need to dig through these structures explicitly anyway.</span></span> |
| [<span data-ttu-id="1f8ac-138">**WPUGetProviderPath**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-138">**WPUGetProviderPath**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpugetproviderpath)                     | <span data-ttu-id="1f8ac-139">Récupère le chemin d’accès de la DLL pour le fournisseur spécifié.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-139">Retrieves the DLL path for the specified provider.</span></span>                                                                       | <span data-ttu-id="1f8ac-140">Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-140">Required.</span></span>                      | <span data-ttu-id="1f8ac-141">Seule la \_32.dll Ws2 peut savoir où une couche de protocole adjacente (potentiellement d’un autre fournisseur) a été installée.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-141">Only the Ws2\_32.dll would know where an adjacent protocol layer (potentially from another vendor) has been installed.</span></span>                                                           |
| [<span data-ttu-id="1f8ac-142">**WPUModifyIFSHandle**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-142">**WPUModifyIFSHandle**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpumodifyifshandle)                     | <span data-ttu-id="1f8ac-143">Reçoit un descripteur IFS modifié (peut-être) à partir de la DLL Windows Sockets.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-143">Receives a (possibly) modified IFS handle from the Windows Sockets DLL.</span></span>                                                  | <span data-ttu-id="1f8ac-144">Requis pour les fournisseurs IFS.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-144">Required for IFS providers.</span></span>    | <span data-ttu-id="1f8ac-145">Le \_32.dll Ws2 doit interroger et/ou modifier les informations d’état internes associées au handle de Socket.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-145">The Ws2\_32.dll needs to query and/or modify internal state information associated with the socket handle.</span></span>                                                                       |
| [<span data-ttu-id="1f8ac-146">**WPUPostMessage**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-146">**WPUPostMessage**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpupostmessage)                             | <span data-ttu-id="1f8ac-147">Exécute la fonction [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) standard d’une manière qui conserve la compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-147">Performs the standard [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) function in a way that maintains backward compatibility.</span></span> | <span data-ttu-id="1f8ac-148">Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-148">Required.</span></span>                      | <span data-ttu-id="1f8ac-149">Windows 2000 et Windows NT uniquement.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-149">Windows 2000 and Windows NT only.</span></span> <span data-ttu-id="1f8ac-150">Windows 95 permet de poster un message à partir du mode noyau.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-150">Windows 95 allows post message from kernel mode.</span></span>                                                                                               |
| [<span data-ttu-id="1f8ac-151">**WPUQueryBlockingCallback**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-151">**WPUQueryBlockingCallback**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuqueryblockingcallback)         | <span data-ttu-id="1f8ac-152">Retourne un pointeur vers la fonction de raccordement de blocage d’un thread.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-152">Returns a pointer to a thread's blocking hook function.</span></span>                                                                  | <span data-ttu-id="1f8ac-153">Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-153">Required.</span></span>                      | <span data-ttu-id="1f8ac-154">Il n’existe aucune fonctionnalité Windows correspondante.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-154">There is no corresponding Windows functionality.</span></span> <span data-ttu-id="1f8ac-155">Seul le \_32.dll Ws2 a les informations pour y parvenir.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-155">Only the Ws2\_32.dll has the information to accomplish this.</span></span>                                                                    |
| [<span data-ttu-id="1f8ac-156">**WPUQuerySocketHandleContext**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-156">**WPUQuerySocketHandleContext**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuquerysockethandlecontext)   | <span data-ttu-id="1f8ac-157">Obtient la valeur de contexte d’un socket (fournisseurs nonIFS uniquement).</span><span class="sxs-lookup"><span data-stu-id="1f8ac-157">Gets a socket's context value (nonIFS providers only).</span></span>                                                                   | <span data-ttu-id="1f8ac-158">Requis pour les fournisseurs nonIFS.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-158">Required for nonIFS providers.</span></span> | <span data-ttu-id="1f8ac-159">Le \_32.dll Ws2 doit interroger et/ou modifier les informations d’état internes associées au handle de Socket.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-159">The Ws2\_32.dll needs to query and/or modify internal state information associated with the socket handle.</span></span>                                                                       |
| [<span data-ttu-id="1f8ac-160">**WPUQueueApc**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-160">**WPUQueueApc**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuqueueapc)                                   | <span data-ttu-id="1f8ac-161">Met en file d’attente un APC en mode utilisateur vers le thread spécifié.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-161">Queues a user-mode APC to the specified thread.</span></span>                                                                          | <span data-ttu-id="1f8ac-162">Optionnel.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-162">Optional.</span></span>                      | <span data-ttu-id="1f8ac-163">Le [**QueueUserApc**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-queueuserapc) peut également être utilisé.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-163">The [**QueueUserApc**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-queueuserapc) may also be used.</span></span>                                                                                                                      |
| [<span data-ttu-id="1f8ac-164">**WPUResetEvent**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-164">**WPUResetEvent**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpuresetevent)                               | <span data-ttu-id="1f8ac-165">Réinitialise un objet d’événement.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-165">Resets an event object.</span></span>                                                                                                  | <span data-ttu-id="1f8ac-166">Optionnel.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-166">Optional.</span></span>                      | <span data-ttu-id="1f8ac-167">Le fournisseur peut utiliser un appel Windows approprié à la place.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-167">The provider may use an appropriate Windows call instead.</span></span>                                                                                                                        |
| [<span data-ttu-id="1f8ac-168">**WPUSetEvent**</span><span class="sxs-lookup"><span data-stu-id="1f8ac-168">**WPUSetEvent**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wpusetevent)                                   | <span data-ttu-id="1f8ac-169">Définit un objet d’événement.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-169">Sets an event object.</span></span>                                                                                                    | <span data-ttu-id="1f8ac-170">Optionnel.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-170">Optional.</span></span>                      | <span data-ttu-id="1f8ac-171">Le fournisseur peut utiliser un appel Windows approprié à la place.</span><span class="sxs-lookup"><span data-stu-id="1f8ac-171">The provider may use an appropriate Windows call instead.</span></span>                                                                                                                        |



 

 

 
