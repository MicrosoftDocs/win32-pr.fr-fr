---
description: Le tableau suivant décrit les \_ options de socket UDP IPPROTO qui s’appliquent aux sockets créés pour les familles d’adresses IPv4 et IPv6 (AF \_ inet et AF \_ inet6) avec le paramètre de protocole à la fonction de socket spécifiée comme UDP (IPPROTO \_ UDP).
ms.assetid: 579448a1-22af-488f-a1f5-97ba69a15524
title: IPPROTO_UDP socket, options
ms.topic: article
ms.date: 10/02/2019
ms.openlocfilehash: 6f1f25ebae34d7db4290ab23bbf799fc0e0b68df
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/22/2021
ms.locfileid: "106530303"
---
# <a name="ipproto_udp-socket-options"></a><span data-ttu-id="5de0b-103">\_Options de socket UDP IPPROTO</span><span class="sxs-lookup"><span data-stu-id="5de0b-103">IPPROTO\_UDP socket options</span></span>

<span data-ttu-id="5de0b-104">Le tableau suivant décrit les options de socket **\_ UDP IPPROTO** qui s’appliquent aux sockets créés pour les familles d’adresses IPv4 et IPv6 (AF \_ inet et AF \_ inet6) avec le paramètre de *protocole* à la fonction de [**Socket**](/windows/win32/api/Winsock2/nf-winsock2-socket) spécifiée comme UDP (IPPROTO \_ UDP).</span><span class="sxs-lookup"><span data-stu-id="5de0b-104">The following table describes **IPPROTO\_UDP** socket options that apply to sockets created for the IPv4 and IPv6 address families (AF\_INET and AF\_INET6) with the *protocol* parameter to the [**socket**](/windows/win32/api/Winsock2/nf-winsock2-socket) function specified as UDP (IPPROTO\_UDP).</span></span> <span data-ttu-id="5de0b-105">Consultez les pages de référence des fonctions [**getsockopt**](/windows/win32/api/winsock/nf-winsock-getsockopt) et [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) pour plus d’informations sur l’obtention et la définition des options de Socket.</span><span class="sxs-lookup"><span data-stu-id="5de0b-105">See the [**getsockopt**](/windows/win32/api/winsock/nf-winsock-getsockopt) and [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) function reference pages for more information on getting and setting socket options.</span></span>

<span data-ttu-id="5de0b-106">Pour énumérer les protocoles et découvrir les propriétés prises en charge pour chaque protocole installé, utilisez la fonction [**WSAEnumProtocols**](/windows/win32/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols)ou [**WSCEnumProtocols32**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols32) .</span><span class="sxs-lookup"><span data-stu-id="5de0b-106">To enumerate protocols and discover supported properties for each installed protocol, use the [**WSAEnumProtocols**](/windows/win32/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols), or [**WSCEnumProtocols32**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols32) function.</span></span>

## <a name="options"></a><span data-ttu-id="5de0b-107">Options</span><span class="sxs-lookup"><span data-stu-id="5de0b-107">Options</span></span>

| <span data-ttu-id="5de0b-108">Option</span><span class="sxs-lookup"><span data-stu-id="5de0b-108">Option</span></span> | <span data-ttu-id="5de0b-109">Obtenir</span><span class="sxs-lookup"><span data-stu-id="5de0b-109">Get</span></span> | <span data-ttu-id="5de0b-110">Définissez</span><span class="sxs-lookup"><span data-stu-id="5de0b-110">Set</span></span> | <span data-ttu-id="5de0b-111">Type Optval</span><span class="sxs-lookup"><span data-stu-id="5de0b-111">Optval type</span></span> | <span data-ttu-id="5de0b-112">Description</span><span class="sxs-lookup"><span data-stu-id="5de0b-112">Description</span></span> |
|-|-|-|-|-|
| <span data-ttu-id="5de0b-113">\_Couverture de la somme de contrôle Udp \_ (ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="5de0b-113">UDP\_CHECKSUM\_COVERAGE (ws2tcpip.h)</span></span> | <span data-ttu-id="5de0b-114">Oui</span><span class="sxs-lookup"><span data-stu-id="5de0b-114">yes</span></span> | <span data-ttu-id="5de0b-115">Oui</span><span class="sxs-lookup"><span data-stu-id="5de0b-115">yes</span></span> | <span data-ttu-id="5de0b-116">DWORD (booléen)</span><span class="sxs-lookup"><span data-stu-id="5de0b-116">DWORD (boolean)</span></span> | <span data-ttu-id="5de0b-117">Lorsque la **valeur est true**, les datagrammes UDP sont envoyés avec une somme de contrôle.</span><span class="sxs-lookup"><span data-stu-id="5de0b-117">When **TRUE**, UDP datagrams are sent with a checksum.</span></span> |
| <span data-ttu-id="5de0b-118">UDP \_ NOcheckes (ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="5de0b-118">UDP\_NOCHECKSUM (ws2tcpip.h)</span></span> | <span data-ttu-id="5de0b-119">Oui</span><span class="sxs-lookup"><span data-stu-id="5de0b-119">yes</span></span> | <span data-ttu-id="5de0b-120">Oui</span><span class="sxs-lookup"><span data-stu-id="5de0b-120">yes</span></span> | <span data-ttu-id="5de0b-121">DWORD (booléen)</span><span class="sxs-lookup"><span data-stu-id="5de0b-121">DWORD (boolean)</span></span> | <span data-ttu-id="5de0b-122">Lorsque la **valeur est true**, les datagrammes UDP sont envoyés avec la somme de contrôle égale à zéro.</span><span class="sxs-lookup"><span data-stu-id="5de0b-122">When **TRUE**, UDP datagrams are sent with the checksum of zero.</span></span> <span data-ttu-id="5de0b-123">Requis pour les fournisseurs de services.</span><span class="sxs-lookup"><span data-stu-id="5de0b-123">Required for service providers.</span></span> <span data-ttu-id="5de0b-124">Si un fournisseur de services ne dispose pas d’un mécanisme permettant de désactiver le calcul de la somme de contrôle UDP, il peut simplement stocker cette option sans entreprendre aucune action.</span><span class="sxs-lookup"><span data-stu-id="5de0b-124">If a service provider does not have a mechanism to disable UDP checksum calculation, it may simply store this option without taking any action.</span></span> <span data-ttu-id="5de0b-125">Cette option n’est pas prise en charge pour IPv6.</span><span class="sxs-lookup"><span data-stu-id="5de0b-125">This option is not supported for IPv6.</span></span> |
| <span data-ttu-id="5de0b-126">UDP_RECV_MAX_COALESCED_SIZE (ws2ipdef. h ; include ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="5de0b-126">UDP_RECV_MAX_COALESCED_SIZE (ws2ipdef.h; include ws2tcpip.h)</span></span> | <span data-ttu-id="5de0b-127">Oui</span><span class="sxs-lookup"><span data-stu-id="5de0b-127">yes</span></span> | <span data-ttu-id="5de0b-128">Oui</span><span class="sxs-lookup"><span data-stu-id="5de0b-128">yes</span></span> | <span data-ttu-id="5de0b-129">DWORD</span><span class="sxs-lookup"><span data-stu-id="5de0b-129">DWORD</span></span> | <span data-ttu-id="5de0b-130">Lorsqu’il est défini sur une valeur différente de zéro, plusieurs Datagrammes reçus peuvent être fusionnés dans une mémoire tampon de messages unique avant d’être signalés à votre application.</span><span class="sxs-lookup"><span data-stu-id="5de0b-130">When set to a non-zero value, multiple received datagrams may be coalesced into a single message buffer before being indicated to your application.</span></span> <span data-ttu-id="5de0b-131">La valeur de l’option représente la taille maximale du message, en octets, pour les messages fusionnés qui peuvent être indiqués à votre application.</span><span class="sxs-lookup"><span data-stu-id="5de0b-131">The option value represents the maximum message size in bytes for coalesced messages that can be indicated to your application.</span></span> <span data-ttu-id="5de0b-132">Les messages non fusionnés supérieurs à la valeur de l’option peuvent toujours être indiqués.</span><span class="sxs-lookup"><span data-stu-id="5de0b-132">Un-coalesced messages larger than the option value may still be indicated.</span></span> <span data-ttu-id="5de0b-133">La valeur par défaut est 0 (aucune fusion).</span><span class="sxs-lookup"><span data-stu-id="5de0b-133">The default value is 0 (no coalescing).</span></span> <span data-ttu-id="5de0b-134">Les datagrammes sont fusionnés uniquement s’ils proviennent de la même adresse source et du même port.</span><span class="sxs-lookup"><span data-stu-id="5de0b-134">Datagrams will only be coalesced if they originated from the same source address and port.</span></span> <span data-ttu-id="5de0b-135">Tous les datagrammes fusionnés auront la même taille &mdash; , sauf le dernier datagramme, qui peut être plus petit.</span><span class="sxs-lookup"><span data-stu-id="5de0b-135">All datagrams coalesced will be of the same size&mdash;except the last datagram, which may be smaller.</span></span> <span data-ttu-id="5de0b-136">Si votre application souhaite récupérer les tailles des datagrammes (à l’exception du dernier datagramme, qui peut différer) qui ont été fusionnés, vous devez utiliser une API de réception qui prend en charge les informations de contrôle (par exemple, [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)).</span><span class="sxs-lookup"><span data-stu-id="5de0b-136">If your application wants to retrieve the datagram sizes (except the last datagram, which may differ) that were coalesced, you must use a receive API that supports control information (such as [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)).</span></span> <span data-ttu-id="5de0b-137">La taille de tous les messages sauf le dernier se trouve dans le message de contrôle **UDP_COALESCED_INFO** , qui est de type DWORD.</span><span class="sxs-lookup"><span data-stu-id="5de0b-137">The size of all but the last message can be found in the **UDP_COALESCED_INFO** control message, which is of type DWORD.</span></span> <span data-ttu-id="5de0b-138">Pour la sécurité de type, votre application doit utiliser les fonctions [WSAGetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudprecvmaxcoalescedsize) et [WSASetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudprecvmaxcoalescedsize) au lieu de l’option de socket directement.</span><span class="sxs-lookup"><span data-stu-id="5de0b-138">For type safety, your application should use the [WSAGetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudprecvmaxcoalescedsize) and [WSASetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudprecvmaxcoalescedsize) functions instead of the socket option directly.</span></span> |
| <span data-ttu-id="5de0b-139">UDP_SEND_MSG_SIZE (ws2ipdef. h ; include ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="5de0b-139">UDP_SEND_MSG_SIZE (ws2ipdef.h; include ws2tcpip.h)</span></span> | <span data-ttu-id="5de0b-140">Oui</span><span class="sxs-lookup"><span data-stu-id="5de0b-140">yes</span></span> | <span data-ttu-id="5de0b-141">Oui</span><span class="sxs-lookup"><span data-stu-id="5de0b-141">yes</span></span> | <span data-ttu-id="5de0b-142">DWORD</span><span class="sxs-lookup"><span data-stu-id="5de0b-142">DWORD</span></span> | <span data-ttu-id="5de0b-143">Lorsqu’elle est définie sur une valeur différente de zéro, les mémoires tampons envoyées par votre application sont réparties en plusieurs messages par la pile de mise en réseau.</span><span class="sxs-lookup"><span data-stu-id="5de0b-143">When set to a non-zero value, buffers sent by your application are broken down into multiple messages by the networking stack.</span></span> <span data-ttu-id="5de0b-144">La valeur de l’option représente la taille de chaque message interrompu.</span><span class="sxs-lookup"><span data-stu-id="5de0b-144">The option value represents the size of each broken-down message.</span></span> <span data-ttu-id="5de0b-145">La valeur de l’option est représentée en octets.</span><span class="sxs-lookup"><span data-stu-id="5de0b-145">The option value is represented in bytes.</span></span> <span data-ttu-id="5de0b-146">La taille du dernier segment peut être inférieure à la valeur de l’option.</span><span class="sxs-lookup"><span data-stu-id="5de0b-146">The last segment's size may be less than the value of the option.</span></span> <span data-ttu-id="5de0b-147">La valeur par défaut est 0 (aucune segmentation).</span><span class="sxs-lookup"><span data-stu-id="5de0b-147">The default value is 0 (no segmentation).</span></span> <span data-ttu-id="5de0b-148">Votre application doit définir une valeur inférieure à la MTU du chemin d’accès aux destinations afin d’éviter la fragmentation IP.</span><span class="sxs-lookup"><span data-stu-id="5de0b-148">Your application should set a value that is lower than the MTU of the path to the destination(s) in order to avoid IP fragmentation.</span></span> <span data-ttu-id="5de0b-149">Pour la sécurité de type, votre application doit utiliser les fonctions [WSAGetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudpsendmessagesize) et [WSASetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudpsendmessagesize) au lieu de l’option de socket directement.</span><span class="sxs-lookup"><span data-stu-id="5de0b-149">For type safety, your application should use the [WSAGetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudpsendmessagesize) and [WSASetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudpsendmessagesize) functions instead of the socket option directly.</span></span> |

## <a name="legacy-windows-support-for-ipproto_udp-options"></a><span data-ttu-id="5de0b-150">Prise en charge Windows héritée pour les \_ options UDP IPPROTO</span><span class="sxs-lookup"><span data-stu-id="5de0b-150">Legacy Windows support for IPPROTO\_UDP options</span></span>

<span data-ttu-id="5de0b-151">**UDP \_ La \_ couverture** de la somme de contrôle n’est pas disponible sur Windows 2000 et sur Windows NT4.</span><span class="sxs-lookup"><span data-stu-id="5de0b-151">**UDP\_CHECKSUM\_COVERAGE** is unavailable on Windows 2000 and on Windows NT4.</span></span> <span data-ttu-id="5de0b-152">**UDP \_ La \_ couverture de somme de contrôle** et les **\_ nochecks UDP** ne sont pas disponibles sur Windows 9x/me.</span><span class="sxs-lookup"><span data-stu-id="5de0b-152">**UDP\_CHECKSUM\_COVERAGE** and **UDP\_NOCHECKSUM** are unavailable on Windows 9x/Me.</span></span> 

## <a name="remarks"></a><span data-ttu-id="5de0b-153">Notes</span><span class="sxs-lookup"><span data-stu-id="5de0b-153">Remarks</span></span>

<span data-ttu-id="5de0b-154">Dans le kit de développement logiciel (SDK) Microsoft Windows publié pour Windows Vista et versions ultérieures, l’Organisation des fichiers d’en-tête a changé et le niveau **\_ UDP IPPROTO** est défini dans le fichier d’en-tête *Ws2def. h* qui est automatiquement inclus dans le fichier d’en-tête *Winsock2. h* .</span><span class="sxs-lookup"><span data-stu-id="5de0b-154">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and **IPPROTO\_UDP** level is defined in the *Ws2def.h* header file which is automatically included in the *Winsock2.h* header file.</span></span> <span data-ttu-id="5de0b-155">Les options de socket **\_ UDP IPPROTO** sont définies dans le fichier d’en-tête *Ws2tcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="5de0b-155">The **IPPROTO\_UDP** socket options are defined in the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="5de0b-156">Le fichier d’en-tête *Ws2def. h* ne doit jamais être utilisé directement.</span><span class="sxs-lookup"><span data-stu-id="5de0b-156">The *Ws2def.h* header file should never be used directly.</span></span>

## <a name="requirements"></a><span data-ttu-id="5de0b-157">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="5de0b-157">Requirements</span></span>

| <span data-ttu-id="5de0b-158">Condition requise</span><span class="sxs-lookup"><span data-stu-id="5de0b-158">Requirement</span></span> | <span data-ttu-id="5de0b-159">Valeur</span><span class="sxs-lookup"><span data-stu-id="5de0b-159">Value</span></span> |
|-|-|
| <span data-ttu-id="5de0b-160">En-tête</span><span class="sxs-lookup"><span data-stu-id="5de0b-160">Header</span></span><br/> | <dl> <span data-ttu-id="5de0b-161"><dt>ws2ipdef. h (include ws2tcpip. h) et ws2tcpip. h</dt> <dt>Winsock2. h sur Windows Server 2003, Windows XP et Windows 2000</dt></span><span class="sxs-lookup"><span data-stu-id="5de0b-161"><dt>ws2ipdef.h (include ws2tcpip.h), and ws2tcpip.h</dt> <dt>Winsock2.h on Windows Server 2003, Windows XP, and Windows 2000</dt></span></span> </dl> |
