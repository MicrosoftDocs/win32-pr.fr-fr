---
description: Les interfaces de programmation utilisées pour interroger les différents types d’espaces de noms et pour enregistrer des informations dans un espace de noms, si elles sont prises en charge, diffèrent considérablement.
ms.assetid: 6a037e8d-49f3-4286-929a-8bb64ea0960f
title: Architecture du fournisseur d’espace de noms dans le SPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e1cb567933cae60f56137eba39845bf27ad8c1a8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104201425"
---
# <a name="namespace-provider-architecture-in-the-spi"></a><span data-ttu-id="f0424-103">Architecture du fournisseur d’espace de noms dans le SPI</span><span class="sxs-lookup"><span data-stu-id="f0424-103">Namespace Provider Architecture in the SPI</span></span>

<span data-ttu-id="f0424-104">Les interfaces de programmation utilisées pour interroger les différents types d’espaces de noms et pour enregistrer des informations dans un espace de noms, si elles sont prises en charge, diffèrent considérablement.</span><span class="sxs-lookup"><span data-stu-id="f0424-104">Programmatic interfaces used to query the various types of namespaces and to register information within a namespace, if supported, differ widely.</span></span> <span data-ttu-id="f0424-105">Un fournisseur d’espaces de noms est une application résidente localement qui peut être mappée entre l’index SPI de l’espace de noms Windows Sockets et un espace de noms existant qui peut être implémenté localement ou accessible via le réseau.</span><span class="sxs-lookup"><span data-stu-id="f0424-105">A namespace provider is a locally-resident application that can map between the Windows Sockets namespace SPI and some existing namespace that could be implemented locally or accessed through the network.</span></span> <span data-ttu-id="f0424-106">Cette procédure est illustrée comme suit :</span><span class="sxs-lookup"><span data-stu-id="f0424-106">This is illustrated as follows:</span></span>

![diagramme du fournisseur d’espaces de noms](images/ovrvw3-1.png)

> [!Note]  
> <span data-ttu-id="f0424-108">Il est possible pour un espace de noms donné, par exemple DNS, d’avoir plusieurs fournisseurs d’espaces de noms installés sur un ordinateur donné.</span><span class="sxs-lookup"><span data-stu-id="f0424-108">It is possible for a given namespace, for example DNS, to have more than one namespace provider installed on a given computer.</span></span>

 

<span data-ttu-id="f0424-109">Comme indiqué ci-dessus, le terme générique, service, fait référence à la moitié du serveur d’une application client/serveur.</span><span class="sxs-lookup"><span data-stu-id="f0424-109">As mentioned above, the generic term, service, refers to the server-half of a client/server application.</span></span> <span data-ttu-id="f0424-110">Dans Windows Sockets, un service est associé à une classe de service et chaque instance d’un service particulier a un nom de service qui doit être unique dans la classe de service.</span><span class="sxs-lookup"><span data-stu-id="f0424-110">In Windows Sockets, a service is associated with a service class and each instance of a particular service has a service name which must be unique within the service class.</span></span> <span data-ttu-id="f0424-111">Le serveur FTP, SQL Server, XYZ Corp. Employee info Server, etc. sont des exemples de classes de service.</span><span class="sxs-lookup"><span data-stu-id="f0424-111">Examples of service classes include FTP Server, SQL Server, XYZ Corp. Employee Info Server, and so on.</span></span>

<span data-ttu-id="f0424-112">Comme l’exemple tente d’illustrer, certaines classes de service sont bien connues, tandis que d’autres sont uniques et spécifiques à une application verticale particulière.</span><span class="sxs-lookup"><span data-stu-id="f0424-112">As the example attempts to illustrate, some service classes are well known while others are unique and specific to a particular vertical application.</span></span> <span data-ttu-id="f0424-113">Dans les deux cas, chaque classe de service est représentée par un nom de classe et un identificateur de classe.</span><span class="sxs-lookup"><span data-stu-id="f0424-113">In either case, every service class is represented by both a class name and a class identifier.</span></span> <span data-ttu-id="f0424-114">Le nom de classe ne doit pas nécessairement être unique, mais l’identificateur de classe doit être.</span><span class="sxs-lookup"><span data-stu-id="f0424-114">The class name does not necessarily need to be unique, but the class identifier must be.</span></span> <span data-ttu-id="f0424-115">Les identificateurs globaux uniques (GUID) sont utilisés pour représenter des ID de classe de service.</span><span class="sxs-lookup"><span data-stu-id="f0424-115">Globally Unique Identifiers (GUIDs) are used to represent service class IDs.</span></span> <span data-ttu-id="f0424-116">Pour les services connus, les noms de classe et les identificateurs de classe (GUID) ont été préalloués, et les macros sont disponibles pour la conversion entre, par exemple, les numéros de port TCP et les GUID d’identificateur de classe correspondants.</span><span class="sxs-lookup"><span data-stu-id="f0424-116">For well-known services, class names, and class identifiers (GUIDs) have been preallocated, and macros are available to convert between, for example, TCP port numbers and the corresponding class identifier GUIDs.</span></span> <span data-ttu-id="f0424-117">Pour les autres services, le développeur choisit le nom de la classe et utilise l’utilitaire Uuidgen.exe pour générer un GUID pour l’identificateur de classe.</span><span class="sxs-lookup"><span data-stu-id="f0424-117">For other services, the developer chooses the class name and uses the Uuidgen.exe utility to generate a GUID for the class identifier.</span></span>

<span data-ttu-id="f0424-118">Le concept d’une classe de service existe pour permettre l’établissement d’un ensemble d’attributs qui sont communs à toutes les instances d’un service particulier.</span><span class="sxs-lookup"><span data-stu-id="f0424-118">The concept of a service class exists to allow a set of attributes to be established that are held in common by all instances of a particular service.</span></span> <span data-ttu-id="f0424-119">Cet ensemble d’attributs est fourni aux sockets Windows au moment où la classe de service est définie et est appelé informations de schéma de la classe de service.</span><span class="sxs-lookup"><span data-stu-id="f0424-119">This set of attributes is supplied to Windows Sockets at the time the service class is defined, and is referred to as the service class schema information.</span></span> <span data-ttu-id="f0424-120">Le \_32.dll Ws2 relaie ensuite ces informations à tous les fournisseurs d’espaces de noms actifs.</span><span class="sxs-lookup"><span data-stu-id="f0424-120">The Ws2\_32.dll in turn relays this information to all active namespace providers.</span></span> <span data-ttu-id="f0424-121">Quand une instance d’un service est installée et mise à disposition sur un ordinateur hôte, son nom de service est utilisé pour distinguer cette instance particulière des autres qui peuvent être connues de l’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="f0424-121">When an instance of a service is installed and made available on a host computer, its service name is used to distinguish this particular instance from others that may be known to the namespace.</span></span>

<span data-ttu-id="f0424-122">N’oubliez pas que l’installation d’une classe de service ne doit se produire que sur les ordinateurs sur lesquels le service s’exécute, et non sur tous les clients qui peuvent utiliser le service.</span><span class="sxs-lookup"><span data-stu-id="f0424-122">Be aware that the installation of a service class only needs to occur on computers where the service executes, not on all of the clients which may utilize the service.</span></span> <span data-ttu-id="f0424-123">Lorsque cela est possible, le \_32.dll Ws2 fournit des informations de schéma de classe de service à un fournisseur d’espace de noms au moment où une instance d’un service doit être inscrite ou qu’une requête de service est lancée.</span><span class="sxs-lookup"><span data-stu-id="f0424-123">When possible, the Ws2\_32.dll will provide service class schema information to a namespace provider at the time an instance of a service is to be registered or a service query is initiated.</span></span> <span data-ttu-id="f0424-124">Le \_32.dll Ws2 ne stocke pas ces informations elles-mêmes, mais tente de les récupérer à partir d’un fournisseur d’espace de noms qui a indiqué sa capacité à fournir ces données.</span><span class="sxs-lookup"><span data-stu-id="f0424-124">The Ws2\_32.dll does not, of course, store this information itself, but attempts to retrieve it from a namespace provider that has indicated its ability to supply this data.</span></span> <span data-ttu-id="f0424-125">Étant donné qu’il n’y a aucune garantie que la32.dll Ws2 pourra \_ fournir le schéma de la classe de service, les fournisseurs d’espaces de noms qui nécessitent ces informations doivent disposer d’un mécanisme de secours pour l’obtenir via des moyens spécifiques à l’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="f0424-125">Because there is no guarantee that the Ws2\_32.dll will be able to supply the service class schema, namespace providers that require this information must have a fallback mechanism to obtain it through namespace-specific means.</span></span>

<span data-ttu-id="f0424-126">Le système de noms de domaine Internet ne dispose pas d’un moyen bien défini pour stocker les informations de schéma de la classe de service.</span><span class="sxs-lookup"><span data-stu-id="f0424-126">The Internet Domain Name System does not have a well-defined means to store service class schema information.</span></span> <span data-ttu-id="f0424-127">Par conséquent, les fournisseurs d’espaces de noms DNS peuvent uniquement prendre en charge les services TCP/IP connus pour lesquels un GUID de classe de service a été préalloué.</span><span class="sxs-lookup"><span data-stu-id="f0424-127">As a result, DNS namespace providers will only be able to accommodate well-known TCP/IP services for which a service class GUID has been preallocated.</span></span> <span data-ttu-id="f0424-128">Dans la pratique, il ne s’agit pas d’une limitation sérieuse dans la mesure où les GUID de classe de service ont été préalloués pour l’ensemble des ports TCP et UDP, et les macros sont disponibles pour récupérer le GUID associé à n’importe quel port TCP ou UDP.</span><span class="sxs-lookup"><span data-stu-id="f0424-128">In practice, this is not a serious limitation since service class GUIDs have been preallocated for the entire set of TCP and UDP ports, and macros are available to retrieve the GUID associated with any TCP or UDP port.</span></span> <span data-ttu-id="f0424-129">Ainsi, tous les services familiers, tels que FTP, Telnet, Whois, etc., sont bien pris en charge.</span><span class="sxs-lookup"><span data-stu-id="f0424-129">Thus, all of the familiar services such as ftp, telnet, whois, etc. are well supported.</span></span> <span data-ttu-id="f0424-130">Lors de l’interrogation de ces services, le nom d’hôte de l’ordinateur cible est, par Convention, le nom de l’instance de service.</span><span class="sxs-lookup"><span data-stu-id="f0424-130">When querying for these services, by convention the host name of the target computer is the service instance name.</span></span>

<span data-ttu-id="f0424-131">En poursuivant notre exemple de classe de service, les noms d’instance du service FTP peuvent être « alder.intel.com » ou « rhino.microsoft.com », tandis qu’une instance du serveur d’informations d’employé XYZ peut être nommée « XYZ Corp. Employee info Server version 3,5 ».</span><span class="sxs-lookup"><span data-stu-id="f0424-131">Continuing with our service class example, instance names of the ftp service may be "alder.intel.com" or "rhino.microsoft.com" while an instance of the XYZ Corp. Employee Info Server might be named "XYZ Corp. Employee Info Server Version 3.5".</span></span> <span data-ttu-id="f0424-132">Dans les deux premiers cas, la combinaison du GUID de la classe de service pour FTP et du nom de l’ordinateur (fourni comme nom de l’instance de service) identifie de manière unique le service souhaité.</span><span class="sxs-lookup"><span data-stu-id="f0424-132">In the first two cases, the combination of the service class GUID for ftp and the computer name (supplied as the service instance name) uniquely identify the desired service.</span></span> <span data-ttu-id="f0424-133">Dans le troisième cas, le nom d’hôte où se trouve le service peut être découvert au moment de la requête de service, de sorte que le nom de l’instance de service n’a pas besoin d’inclure un nom d’hôte.</span><span class="sxs-lookup"><span data-stu-id="f0424-133">In the third case, the host name where the service resides can be discovered at service query time, so the service instance name does not need to include a host name.</span></span>

 

 



