---
description: Un fournisseur d’espaces de noms implémente un mappage d’interface entre le SPI d’espace de noms Winsock et l’interface de programmation native d’un service de noms existant, tel que DNS, X. 500 ou Services d’annuaire NetWare (NDS) (NDS).
ms.assetid: 9b35aa58-9011-4e0d-8c93-02714952b4a5
title: Fournisseurs de services d’espace de noms
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e975c7ad0e5df29910624bb8f0b9d94fd24d9b8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106516658"
---
# <a name="namespace-service-providers"></a><span data-ttu-id="c15e1-103">Fournisseurs de services d’espace de noms</span><span class="sxs-lookup"><span data-stu-id="c15e1-103">Namespace Service Providers</span></span>

<span data-ttu-id="c15e1-104">Un fournisseur d’espaces de noms implémente un mappage d’interface entre le SPI d’espace de noms Winsock et l’interface de programmation native d’un service de noms existant, tel que DNS, X. 500 ou Services d’annuaire NetWare (NDS) (NDS).</span><span class="sxs-lookup"><span data-stu-id="c15e1-104">A namespace provider implements an interface mapping between the Winsock namespace SPI and the native programmatic interface of an existing name service such as DNS, X.500, or NetWare Directory Services (NDS).</span></span> <span data-ttu-id="c15e1-105">Bien qu’un fournisseur d’espaces de noms ne prenne en charge qu’un seul espace de noms, il est possible d’installer plusieurs fournisseurs pour un espace de noms donné.</span><span class="sxs-lookup"><span data-stu-id="c15e1-105">While a namespace provider supports exactly one namespace, it is possible for multiple providers for a given namespace to be installed.</span></span> <span data-ttu-id="c15e1-106">Il est également possible pour une DLL unique de créer une instance de plusieurs fournisseurs d’espaces de noms.</span><span class="sxs-lookup"><span data-stu-id="c15e1-106">It is also possible for a single DLL to create an instance of multiple namespace providers.</span></span> <span data-ttu-id="c15e1-107">Au fur et à mesure de l’installation de fournisseurs d’espaces de noms, un catalogue de structures d' [**\_ informations WSANAMESPACE**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infow) est conservé.</span><span class="sxs-lookup"><span data-stu-id="c15e1-107">As namespace providers are installed, a catalog of [**WSANAMESPACE\_INFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infow) structures is maintained.</span></span> <span data-ttu-id="c15e1-108">Une application peut utiliser [**WSAEnumNameSpaceProviders**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersa) pour détecter les espaces de noms pris en charge sur un ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c15e1-108">An application may use [**WSAEnumNameSpaceProviders**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersa) to discover which namespaces are supported on a computer.</span></span>

<span data-ttu-id="c15e1-109">Sur Windows Vista et versions ultérieures, une structure [**WSANAMESPACE \_ INFOEX**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infoexw) améliorée et une fonction [**WSAEnumNameSpaceProvidersEx**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersexa) sont fournies.</span><span class="sxs-lookup"><span data-stu-id="c15e1-109">On Windows Vista and later, an enhanced [**WSANAMESPACE\_INFOEX**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infoexw) structure and [**WSAEnumNameSpaceProvidersEx**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersexa) function are provided.</span></span>

<span data-ttu-id="c15e1-110">Sur les plateformes 64 bits, les fonctions [**WSCEnumNameSpaceProviders32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceproviders32) et [**WSCEnumNameSpaceProvidersEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceprovidersex32) similaires sont fournies pour énumérer le catalogue 32 bits.</span><span class="sxs-lookup"><span data-stu-id="c15e1-110">On 64-bit platforms, similar [**WSCEnumNameSpaceProviders32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceproviders32) and [**WSCEnumNameSpaceProvidersEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceprovidersex32) functions are provided to enumerate the 32-bit catalog.</span></span>

<span data-ttu-id="c15e1-111">Pour plus d’informations, consultez [Configuration requise du fournisseur de services d’espaces de noms Winsock](winsock-namespace-service-provider-requirements.md) .</span><span class="sxs-lookup"><span data-stu-id="c15e1-111">Refer to [Winsock Namespace Service Provider Requirements](winsock-namespace-service-provider-requirements.md) for detailed information.</span></span>

## <a name="legacy-getxbyy-service-providers"></a><span data-ttu-id="c15e1-112">Fournisseurs de services GetXbyY hérités</span><span class="sxs-lookup"><span data-stu-id="c15e1-112">Legacy GetXbyY Service Providers</span></span>

<span data-ttu-id="c15e1-113">Windows Sockets 2 prend entièrement en charge les fonctionnalités de résolution de noms propres à TCP/IP disponibles dans Windows Sockets version 1,1.</span><span class="sxs-lookup"><span data-stu-id="c15e1-113">Windows Sockets 2 fully supports the TCP/IP-specific name resolution facilities found in Windows Sockets version 1.1.</span></span> <span data-ttu-id="c15e1-114">Pour ce faire, il inclut l’ensemble des fonctions **GetXbyY** dans le SPI.</span><span class="sxs-lookup"><span data-stu-id="c15e1-114">It does this by including the set of **GetXbyY** functions in the SPI.</span></span> <span data-ttu-id="c15e1-115">Toutefois, le traitement de cet ensemble de fonctions est légèrement différent du reste des fonctions SPI.</span><span class="sxs-lookup"><span data-stu-id="c15e1-115">However, the treatment of this set of functions is somewhat different from the rest of the SPI functions.</span></span> <span data-ttu-id="c15e1-116">Les fonctions **GetXbyY** figurant dans le SPI sont précédées de GETXBYYSP \_ et sont résumées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="c15e1-116">The **GetXbyY** functions appearing in the SPI are prefaced with GETXBYYSP\_, and are summarized in the following table.</span></span>

<span data-ttu-id="c15e1-117">Fonctions de style Berkeley</span><span class="sxs-lookup"><span data-stu-id="c15e1-117">Berkeley Style Functions</span></span>



| <span data-ttu-id="c15e1-118">Nom de la fonction SPI</span><span class="sxs-lookup"><span data-stu-id="c15e1-118">SPI function name</span></span>           | <span data-ttu-id="c15e1-119">Description</span><span class="sxs-lookup"><span data-stu-id="c15e1-119">Description</span></span>                                                                              |
|-----------------------------|------------------------------------------------------------------------------------------|
| <span data-ttu-id="c15e1-120">GETXBYYSP \_ gethostbyaddr</span><span class="sxs-lookup"><span data-stu-id="c15e1-120">GETXBYYSP\_gethostbyaddr</span></span>    | <span data-ttu-id="c15e1-121">Fournit une structure [**Hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) pour l’adresse d’hôte spécifiée.</span><span class="sxs-lookup"><span data-stu-id="c15e1-121">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host address.</span></span>        |
| <span data-ttu-id="c15e1-122">GETXBYYSP \_ gethostbyname</span><span class="sxs-lookup"><span data-stu-id="c15e1-122">GETXBYYSP\_gethostbyname</span></span>    | <span data-ttu-id="c15e1-123">Fournit une structure [**Hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) pour le nom d’hôte spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-123">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host name.</span></span>           |
| <span data-ttu-id="c15e1-124">GETXBYYSP \_ getprotobyname</span><span class="sxs-lookup"><span data-stu-id="c15e1-124">GETXBYYSP\_getprotobyname</span></span>   | <span data-ttu-id="c15e1-125">Fournit une structure [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) pour le nom de protocole spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-125">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol name.</span></span>     |
| <span data-ttu-id="c15e1-126">GETXBYYSP \_ getprotobynumber</span><span class="sxs-lookup"><span data-stu-id="c15e1-126">GETXBYYSP\_getprotobynumber</span></span> | <span data-ttu-id="c15e1-127">Fournit une structure [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) pour le numéro de protocole spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-127">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol number.</span></span>   |
| <span data-ttu-id="c15e1-128">GETXBYYSP \_ getservbyname</span><span class="sxs-lookup"><span data-stu-id="c15e1-128">GETXBYYSP\_getservbyname</span></span>    | <span data-ttu-id="c15e1-129">Fournit une structure [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) pour le Nam de service spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-129">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the specified service nam.e</span></span>        |
| <span data-ttu-id="c15e1-130">GETXBYYSP \_ getservbyport</span><span class="sxs-lookup"><span data-stu-id="c15e1-130">GETXBYYSP\_getservbyport</span></span>    | <span data-ttu-id="c15e1-131">Fournit une structure [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) pour le service au niveau du port spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-131">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the service at the specified port.</span></span> |
| <span data-ttu-id="c15e1-132">GETXBYYSP \_ GetHostName</span><span class="sxs-lookup"><span data-stu-id="c15e1-132">GETXBYYSP\_gethostname</span></span>      | <span data-ttu-id="c15e1-133">Retourne le nom d’hôte standard de l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="c15e1-133">Returns the standard host name for the local computer.</span></span>                                   |



 

<span data-ttu-id="c15e1-134">Fonctions de style asynchrone</span><span class="sxs-lookup"><span data-stu-id="c15e1-134">Async Style Functions</span></span>



| <span data-ttu-id="c15e1-135">Nom de la fonction SPI</span><span class="sxs-lookup"><span data-stu-id="c15e1-135">SPI function name</span></span>                   | <span data-ttu-id="c15e1-136">Description</span><span class="sxs-lookup"><span data-stu-id="c15e1-136">Description</span></span>                                                                              |
|-------------------------------------|------------------------------------------------------------------------------------------|
| <span data-ttu-id="c15e1-137">GETXBYYSP \_ WSAAsyncGetHostByAddr</span><span class="sxs-lookup"><span data-stu-id="c15e1-137">GETXBYYSP\_WSAAsyncGetHostByAddr</span></span>    | <span data-ttu-id="c15e1-138">Fournit une structure [**Hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) pour l’adresse d’hôte spécifiée.</span><span class="sxs-lookup"><span data-stu-id="c15e1-138">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host address.</span></span>        |
| <span data-ttu-id="c15e1-139">GETXBYYSP \_ WSAAsyncGetHostByName</span><span class="sxs-lookup"><span data-stu-id="c15e1-139">GETXBYYSP\_WSAAsyncGetHostByName</span></span>    | <span data-ttu-id="c15e1-140">Fournit une structure [**Hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) pour le nom d’hôte spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-140">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host name.</span></span>           |
| <span data-ttu-id="c15e1-141">GETXBYYSP \_ WSAAsyncGetProtoByName</span><span class="sxs-lookup"><span data-stu-id="c15e1-141">GETXBYYSP\_WSAAsyncGetProtoByName</span></span>   | <span data-ttu-id="c15e1-142">Fournit une structure [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) pour le nom de protocole spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-142">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol name.</span></span>     |
| <span data-ttu-id="c15e1-143">GETXBYYSP \_ WSAAsyncGetProtoByNumber</span><span class="sxs-lookup"><span data-stu-id="c15e1-143">GETXBYYSP\_WSAAsyncGetProtoByNumber</span></span> | <span data-ttu-id="c15e1-144">Fournit une structure [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) pour le numéro de protocole spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-144">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol number.</span></span>   |
| <span data-ttu-id="c15e1-145">GETXBYYSP \_ WSAAsyncGetServByName</span><span class="sxs-lookup"><span data-stu-id="c15e1-145">GETXBYYSP\_WSAAsyncGetServByName</span></span>    | <span data-ttu-id="c15e1-146">Fournit une structure [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) pour le nom de service spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-146">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the specified service name.</span></span>        |
| <span data-ttu-id="c15e1-147">GETXBYYSP \_ WSAAsyncGetServByPort</span><span class="sxs-lookup"><span data-stu-id="c15e1-147">GETXBYYSP\_WSAAsyncGetServByPort</span></span>    | <span data-ttu-id="c15e1-148">Fournit une structure [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) pour le service au niveau du port spécifié.</span><span class="sxs-lookup"><span data-stu-id="c15e1-148">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the service at the specified port.</span></span> |
| <span data-ttu-id="c15e1-149">GETXBYYSP \_ WSACancelAsyncRequest</span><span class="sxs-lookup"><span data-stu-id="c15e1-149">GETXBYYSP\_WSACancelAsyncRequest</span></span>    | <span data-ttu-id="c15e1-150">Annule une opération **GetXbyY** asynchrone.</span><span class="sxs-lookup"><span data-stu-id="c15e1-150">Cancels an asynchronous **GetXbyY** operation.</span></span>                                           |



 

<span data-ttu-id="c15e1-151">La syntaxe et la sémantique de ces fonctions **GetXbyY** dans le SPI sont exactement les mêmes que celles documentées dans la spécification de l’API et ne sont donc pas répétées ici.</span><span class="sxs-lookup"><span data-stu-id="c15e1-151">The syntax and semantics of these **GetXbyY** functions in the SPI are exactly the same as those documented in the API Specification and are, therefore, not repeated here.</span></span>

<span data-ttu-id="c15e1-152">La DLL Windows Sockets 2 permet à un seul fournisseur de services d’offrir ces services.</span><span class="sxs-lookup"><span data-stu-id="c15e1-152">The Windows Sockets 2 DLL allows exactly one service provider to offer these services.</span></span> <span data-ttu-id="c15e1-153">Par conséquent, il n’est pas nécessaire d’inclure des pointeurs vers ces fonctions dans la table de procédure reçue des fournisseurs de services au démarrage.</span><span class="sxs-lookup"><span data-stu-id="c15e1-153">Therefore, there is no need to include pointers to these functions in the procedure table received from service providers at startup.</span></span> <span data-ttu-id="c15e1-154">Dans les environnements Windows, le chemin d’accès à la DLL qui implémente ces fonctions est récupéré à partir de la valeur trouvée dans le chemin d’accès au Registre suivant.</span><span class="sxs-lookup"><span data-stu-id="c15e1-154">In Windows environments the path to the DLL that implements these functions is retrieved from the value found in the following registry path.</span></span> <span data-ttu-id="c15e1-155">Cette entrée de Registre n’existe pas par défaut :</span><span class="sxs-lookup"><span data-stu-id="c15e1-155">This registry entry does not exist by default:</span></span>

<span data-ttu-id="c15e1-156">**HKEY \_ \_** \\  \\  \\  \\  \\ **Paramètres** Winsock2 des services \\  de CurrentControlSet de système d’ordinateur local GetXByYLibraryPath</span><span class="sxs-lookup"><span data-stu-id="c15e1-156">**HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Services**\\**WinSock2**\\**Parameters**\\**GetXByYLibraryPath**</span></span>

## <a name="built-in-default-getxbyy-service-provider"></a><span data-ttu-id="c15e1-157">Built-In fournisseur de services GetXbyY par défaut</span><span class="sxs-lookup"><span data-stu-id="c15e1-157">Built-In Default GetXbyY Service Provider</span></span>

<span data-ttu-id="c15e1-158">Un fournisseur de services **GetXbyY** par défaut est intégré aux composants runtime Windows Sockets 2 standard.</span><span class="sxs-lookup"><span data-stu-id="c15e1-158">A default **GetXbyY** service provider is integrated into the standard Windows Sockets 2 run-time components.</span></span> <span data-ttu-id="c15e1-159">Ce fournisseur par défaut implémente toutes les fonctions ci-dessus. par conséquent, il n’est pas nécessaire que ces fonctions soient implémentées par n’importe quel fournisseur d’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="c15e1-159">This default provider implements all of the above functions, thus it is not required for these functions to be implemented by any namespace provider.</span></span> <span data-ttu-id="c15e1-160">Toutefois, un fournisseur d’espace de noms est libre de fournir une partie ou l’ensemble de ces fonctions (et donc de remplacer les valeurs par défaut) en stockant simplement la chaîne qui est le chemin d’accès à la DLL qui implémente ces fonctions dans la clé de Registre indiquée.</span><span class="sxs-lookup"><span data-stu-id="c15e1-160">However, a namespace provider is free to provide any or all of these functions (and thus override the defaults) by simply storing the string which is the path to the DLL that implements these functions in the indicated registry key.</span></span> <span data-ttu-id="c15e1-161">Les fonctions **GetXbyY** qui ne sont pas exportées par la dll du fournisseur nommé seront fournies via les valeurs par défaut intégrées.</span><span class="sxs-lookup"><span data-stu-id="c15e1-161">Any of the **GetXbyY** functions not exported by the named provider DLL will be supplied through the built-in defaults.</span></span> <span data-ttu-id="c15e1-162">Notez, toutefois, que si un fournisseur choisit de fournir une des versions Async des fonctions **GetXbyY** , il doit fournir toutes les fonctions Async afin que l’opération d’annulation fonctionne correctement.</span><span class="sxs-lookup"><span data-stu-id="c15e1-162">Note, however, that if a provider elects to supply any of the async version of the **GetXbyY** functions, he should supply all of the async functions so that the cancel operation will work appropriately.</span></span>

<span data-ttu-id="c15e1-163">L’implémentation actuelle du fournisseur de services **GetXbyY** par défaut réside dans le Wsock32.dll.</span><span class="sxs-lookup"><span data-stu-id="c15e1-163">The current implementation of the default **GetXbyY** service provider resides within the Wsock32.dll.</span></span> <span data-ttu-id="c15e1-164">Selon la façon dont les paramètres TCP/IP ont été établis par le biais du panneau de configuration, la résolution de noms se produit à l’aide de DNS ou de fichiers hôtes locaux.</span><span class="sxs-lookup"><span data-stu-id="c15e1-164">Depending on how the TCP/IP settings have been established through Control Panel, name resolution will occur using either DNS or local host files.</span></span> <span data-ttu-id="c15e1-165">Lorsque DNS est utilisé, le fournisseur de services **GetXbyY** par défaut utilise les appels d’API Windows sockets 1,1 standard pour communiquer avec le serveur DNS.</span><span class="sxs-lookup"><span data-stu-id="c15e1-165">When DNS is used, the default **GetXbyY** service provider uses standard Windows Sockets 1.1 API calls to communicate with the DNS server.</span></span> <span data-ttu-id="c15e1-166">Ces transactions sont effectuées à l’aide de la pile TCP/IP configurée comme pile TCP/IP par défaut.</span><span class="sxs-lookup"><span data-stu-id="c15e1-166">These transactions will occur using whatever TCP/IP stack is configured as the default TCP/IP stack.</span></span> <span data-ttu-id="c15e1-167">Toutefois, deux cas particuliers méritent une mention spéciale.</span><span class="sxs-lookup"><span data-stu-id="c15e1-167">Two special cases however, deserve special mention.</span></span>

<span data-ttu-id="c15e1-168">L’implémentation par défaut de GETXBYYSP \_ GetHostName obtient le nom d’hôte local à partir du Registre.</span><span class="sxs-lookup"><span data-stu-id="c15e1-168">The default implementation of GETXBYYSP\_gethostname obtains the local host name from the registry.</span></span> <span data-ttu-id="c15e1-169">Celui-ci correspond au nom attribué à « Poste de travail ».</span><span class="sxs-lookup"><span data-stu-id="c15e1-169">This will correspond to the name assigned to "My Computer".</span></span> <span data-ttu-id="c15e1-170">L’implémentation par défaut de GETXBYYSP \_ gethostbyname et GETXBYYSP \_ WSAAsyncGetHostByName compare toujours le nom d’hôte fourni avec le nom d’hôte local.</span><span class="sxs-lookup"><span data-stu-id="c15e1-170">The default implementation of GETXBYYSP\_gethostbyname and GETXBYYSP\_WSAAsyncGetHostByName always compares the supplied host name with the local host name.</span></span> <span data-ttu-id="c15e1-171">S’ils correspondent, l’implémentation par défaut utilise une interface privée pour sonder la pile TCP/IP Microsoft afin de découvrir son adresse IP locale.</span><span class="sxs-lookup"><span data-stu-id="c15e1-171">If they match, the default implementation uses a private interface to probe the Microsoft TCP/IP stack in order to discover its local IP address.</span></span> <span data-ttu-id="c15e1-172">Ainsi, pour être complètement indépendant de la pile TCP/IP Microsoft, un fournisseur d’espaces de noms doit implémenter à la fois GETXBYYSP \_ gethostbyname et GETXBYYSP \_ WSAAsyncGetHostByName.</span><span class="sxs-lookup"><span data-stu-id="c15e1-172">Thus, in order to be completely independent of the Microsoft TCP/IP stack, a namespace provider must implement both GETXBYYSP\_gethostbyname and GETXBYYSP\_WSAAsyncGetHostByName.</span></span>

 

 



