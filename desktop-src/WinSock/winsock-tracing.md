---
description: Suivi Winsock
ms.assetid: 0c430fc2-28e7-4537-a887-4c36d24fedee
title: Suivi Winsock
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 803be6220d4d2d440811033786b0f043fab0ff9d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106514818"
---
# <a name="winsock-tracing"></a><span data-ttu-id="31ef9-103">Suivi Winsock</span><span class="sxs-lookup"><span data-stu-id="31ef9-103">Winsock Tracing</span></span>

## <a name="introduction"></a><span data-ttu-id="31ef9-104">Introduction</span><span class="sxs-lookup"><span data-stu-id="31ef9-104">Introduction</span></span>

<span data-ttu-id="31ef9-105">Le suivi Winsock est une fonctionnalité de résolution des problèmes qui peut être activée dans les binaires de la version commerciale pour suivre certains événements Windows Socket avec une surcharge minimale.</span><span class="sxs-lookup"><span data-stu-id="31ef9-105">Winsock tracing is a troubleshooting feature that can be enabled in retail binaries to trace certain Windows socket events with minimal overhead.</span></span> <span data-ttu-id="31ef9-106">L’objectif de l’ajout du suivi de la vente au détail aux sockets Windows est d’offrir de meilleures fonctionnalités de diagnostic pour les développeurs et le support technique.</span><span class="sxs-lookup"><span data-stu-id="31ef9-106">The goal of adding retail tracing to Windows Sockets is to allow for better diagnostic capabilities for developers and product support.</span></span> <span data-ttu-id="31ef9-107">Le suivi d’événements réseau Winsock prend en charge le suivi des opérations de socket pour les applications IPv4 et IPv6.</span><span class="sxs-lookup"><span data-stu-id="31ef9-107">Winsock network event tracing supports tracing socket operations for IPv4 and IPv6 applications.</span></span> <span data-ttu-id="31ef9-108">Le suivi des modifications du catalogue Winsock prend en charge le suivi des modifications apportées au catalogue Winsock par les fournisseurs de services en couche (LSP).</span><span class="sxs-lookup"><span data-stu-id="31ef9-108">Winsock catalog change tracing supports tracing changes made to the Winsock catalog by layered service providers (LSPs).</span></span> <span data-ttu-id="31ef9-109">Le suivi Winsock est pris en charge sur Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="31ef9-109">Winsock tracing is supported on Windows Vista and later.</span></span>

> [!Note]  
> <span data-ttu-id="31ef9-110">Les fournisseurs de services en couche sont déconseillés.</span><span class="sxs-lookup"><span data-stu-id="31ef9-110">Layered Service Providers are deprecated.</span></span> <span data-ttu-id="31ef9-111">À compter de Windows 8 et de Windows Server 2012, utilisez la [plateforme de filtrage Windows](../fwp/windows-filtering-platform-start-page.md).</span><span class="sxs-lookup"><span data-stu-id="31ef9-111">Starting with Windows 8 and Windows Server 2012, use [Windows Filtering Platform](../fwp/windows-filtering-platform-start-page.md).</span></span>

 

<span data-ttu-id="31ef9-112">Lorsqu’une erreur inattendue se produit sur un socket, le principal indice pour diagnostiquer le problème est le code d’erreur renvoyé.</span><span class="sxs-lookup"><span data-stu-id="31ef9-112">When an unexpected error occurs on a socket, the main clue to diagnose the problem is the error code returned.</span></span> <span data-ttu-id="31ef9-113">Très souvent, le code d’erreur retourné n’explique pas pourquoi l’erreur s’est produite, en particulier lorsque l’erreur est initiée par le transport réseau sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="31ef9-113">Very often, the returned error code does not explain why the error happened, especially when the error is initiated by the underlying network transport.</span></span> <span data-ttu-id="31ef9-114">Le suivi Winsock fournit un niveau de suivi plus détaillé qui peut consigner des informations supplémentaires pour détecter la corruption de la mémoire tampon et les applications mal écrites.</span><span class="sxs-lookup"><span data-stu-id="31ef9-114">Winsock tracing provides a more verbose tracing level which can log additional information to catch buffer corruption and poorly written applications.</span></span>

<span data-ttu-id="31ef9-115">Le suivi Winsock utilise Suivi d’v nements pour Windows (ETW), une fonctionnalité de traçage à usage général et à haut débit fournie par le système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="31ef9-115">Winsock tracing uses Event Tracing for Windows (ETW), a general-purpose, high-speed tracing facility provided by the operating system.</span></span> <span data-ttu-id="31ef9-116">À l’aide d’un mécanisme de mise en mémoire tampon et de journalisation implémenté dans le noyau, ETW fournit un mécanisme de suivi pour les événements déclenchés par les applications en mode utilisateur et les pilotes de périphérique en mode noyau.</span><span class="sxs-lookup"><span data-stu-id="31ef9-116">Using a buffering and logging mechanism implemented in the kernel, ETW provides a tracing mechanism for events raised by both user-mode applications and kernel-mode device drivers.</span></span> <span data-ttu-id="31ef9-117">En outre, ETW vous donne la possibilité d’activer et de désactiver la journalisation dynamique, ce qui facilite l’exécution du suivi détaillé dans les environnements de production sans nécessiter de redémarrage ou de redémarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="31ef9-117">Additionally, ETW gives you the ability to enable and disable logging dynamically, making it easy to perform detailed tracing in production environments without requiring reboots or application restarts.</span></span> <span data-ttu-id="31ef9-118">Le mécanisme de journalisation utilise des mémoires tampons écrites sur le disque par un thread d’écriture asynchrone.</span><span class="sxs-lookup"><span data-stu-id="31ef9-118">The logging mechanism uses buffers that are written to disk by an asynchronous writer thread.</span></span> <span data-ttu-id="31ef9-119">Cela permet aux applications serveur à grande échelle d’écrire des événements avec une perturbation minimale.</span><span class="sxs-lookup"><span data-stu-id="31ef9-119">This allows large-scale server applications to write events with minimum disturbance.</span></span> <span data-ttu-id="31ef9-120">ETW a été introduit pour la première fois sur Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="31ef9-120">ETW was first introduced on Windows 2000.</span></span> <span data-ttu-id="31ef9-121">La prise en charge du suivi Winsock à l’aide d’ETW a été ajoutée sur Windows Vista et les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="31ef9-121">Support for Winsock tracing using ETW was added on Windows Vista and later.</span></span> <span data-ttu-id="31ef9-122">Pour obtenir des informations générales sur ETW, consultez [améliorer le débogage et le réglage des performances avec ETW](/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw).</span><span class="sxs-lookup"><span data-stu-id="31ef9-122">For general information on ETW, see [Improve Debugging And Performance Tuning With ETW](/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw).</span></span>

<span data-ttu-id="31ef9-123">Le suivi Winsock ne peut être activé qu’au niveau du système d’exploitation pour tous les processus et threads exécutés sur un ordinateur.</span><span class="sxs-lookup"><span data-stu-id="31ef9-123">Winsock tracing can only be enabled at the operating system level for all processes and threads running on a computer.</span></span> <span data-ttu-id="31ef9-124">Le suivi Winsock ne peut actuellement pas être activé pour un seul processus ou thread.</span><span class="sxs-lookup"><span data-stu-id="31ef9-124">Winsock tracing currently cannot be enabled for just a single process or thread.</span></span> <span data-ttu-id="31ef9-125">Lorsque le suivi d’événements réseau Winsock est activé, toutes les applications de socket (IPv4 et IPv6) sont suivies sur un ordinateur.</span><span class="sxs-lookup"><span data-stu-id="31ef9-125">When Winsock network event tracing is enabled, all socket applications (both IPv4 and IPv6) on a computer are traced.</span></span>

<span data-ttu-id="31ef9-126">Les rubriques suivantes décrivent le suivi Winsock plus en détail :</span><span class="sxs-lookup"><span data-stu-id="31ef9-126">The following topics describe Winsock tracing in more detail:</span></span>

-   [<span data-ttu-id="31ef9-127">Niveaux de suivi Winsock</span><span class="sxs-lookup"><span data-stu-id="31ef9-127">Winsock Tracing Levels</span></span>](winsock-tracing-levels.md)
-   [<span data-ttu-id="31ef9-128">Contrôle du suivi Winsock</span><span class="sxs-lookup"><span data-stu-id="31ef9-128">Control of Winsock Tracing</span></span>](control-of-winsock-tracing.md)
-   [<span data-ttu-id="31ef9-129">Détails du suivi d’événements réseau Winsock</span><span class="sxs-lookup"><span data-stu-id="31ef9-129">Winsock Network Event Tracing Details</span></span>](winsock-tracing-event-details.md)
-   [<span data-ttu-id="31ef9-130">Détails du suivi de modification du catalogue Winsock</span><span class="sxs-lookup"><span data-stu-id="31ef9-130">Winsock Catalog Change Tracing Details</span></span>](winsock-layered-service-provider-tracing-event-details.md)

## <a name="related-topics"></a><span data-ttu-id="31ef9-131">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="31ef9-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="31ef9-132">Améliorer le débogage et le réglage des performances à l'aide du suivi ETW</span><span class="sxs-lookup"><span data-stu-id="31ef9-132">Improve Debugging And Performance Tuning With ETW</span></span>](/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw)
</dt> <dt>

[<span data-ttu-id="31ef9-133">Fonctionnalités de débogage et de suivi</span><span class="sxs-lookup"><span data-stu-id="31ef9-133">Debug and Trace Facilities</span></span>](debug-and-trace-facilities-2.md)
</dt> </dl>

 

 
