---
description: Étant donné que la DLL WinSock proprement dite n’est plus fournie par chaque fournisseur de pile, il n’est pas possible pour un fournisseur de pile d’offrir des fonctionnalités étendues en ajoutant des points d’entrée à la DLL WinSock.
ms.assetid: 5c71532a-c565-4f65-ab36-ca0e23190718
title: Mécanisme d’extension de fonction dans l’index SPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7cfa6c9dfaf3afcec8e6861a9a0d3545a7ed0c5d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106519299"
---
# <a name="function-extension-mechanism-in-the-spi"></a><span data-ttu-id="7ef72-103">Mécanisme d’extension de fonction dans l’index SPI</span><span class="sxs-lookup"><span data-stu-id="7ef72-103">Function Extension Mechanism in the SPI</span></span>

<span data-ttu-id="7ef72-104">Étant donné que la DLL WinSock proprement dite n’est plus fournie par chaque fournisseur de pile, il n’est pas possible pour un fournisseur de pile d’offrir des fonctionnalités étendues en ajoutant des points d’entrée à la DLL WinSock.</span><span class="sxs-lookup"><span data-stu-id="7ef72-104">Because the Winsock DLL itself is no longer supplied by each individual stack vendor, it is not possible for a stack vendor to offer extended functionality by adding entry points to the Winsock DLL.</span></span> <span data-ttu-id="7ef72-105">Pour surmonter cette limitation, Winsock tire parti de la nouvelle fonction [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) pour s’adapter aux fournisseurs de services qui souhaitent offrir des extensions de fonctionnalités spécifiques au fournisseur.</span><span class="sxs-lookup"><span data-stu-id="7ef72-105">To overcome this limitation, Winsock takes advantage of the new [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function to accommodate service providers who wish to offer provider-specific functionality extensions.</span></span> <span data-ttu-id="7ef72-106">Ce mécanisme suppose qu’une application connaît une extension particulière et comprend la sémantique et la syntaxe impliquées.</span><span class="sxs-lookup"><span data-stu-id="7ef72-106">This mechanism presupposes that an application is aware of a particular extension and understands both the semantics and syntax involved.</span></span> <span data-ttu-id="7ef72-107">Ces informations sont généralement fournies par le fournisseur du fournisseur de services.</span><span class="sxs-lookup"><span data-stu-id="7ef72-107">Such information would typically be supplied by the service provider vendor.</span></span>

<span data-ttu-id="7ef72-108">Pour appeler une fonction d’extension, l’application doit d’abord demander un pointeur vers la fonction souhaitée.</span><span class="sxs-lookup"><span data-stu-id="7ef72-108">To invoke an extension function, the application must first ask for a pointer to the desired function.</span></span> <span data-ttu-id="7ef72-109">Pour ce faire, utilisez la fonction [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) en utilisant \_ le \_ Code de commande du pointeur de fonction d’extension SIO \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="7ef72-109">This is done through the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function using the SIO\_GET\_EXTENSION\_FUNCTION\_POINTER command code.</span></span> <span data-ttu-id="7ef72-110">La mémoire tampon d’entrée de la fonction **WSAIoctl** contient un identificateur pour la fonction d’extension souhaitée et la mémoire tampon de sortie contiendra le pointeur de fonction lui-même.</span><span class="sxs-lookup"><span data-stu-id="7ef72-110">The input buffer to the **WSAIoctl** function contains an identifier for the desired extension function and the output buffer will contain the function pointer itself.</span></span> <span data-ttu-id="7ef72-111">L’application peut ensuite appeler la fonction d’extension directement sans passer par le \_32.dll Ws2.</span><span class="sxs-lookup"><span data-stu-id="7ef72-111">The application can then invoke the extension function directly without passing through the Ws2\_32.dll.</span></span>

<span data-ttu-id="7ef72-112">Les identificateurs assignés aux fonctions d’extension sont des identificateurs globaux uniques (GUID) qui sont alloués par les fournisseurs de fournisseurs de services.</span><span class="sxs-lookup"><span data-stu-id="7ef72-112">The identifiers assigned to extension functions are globally unique identifiers (GUIDs) that are allocated by service provider vendors.</span></span> <span data-ttu-id="7ef72-113">Les fournisseurs qui créent des fonctions d’extension sont invités à publier des détails complets sur la fonction, y compris la syntaxe du prototype de fonction.</span><span class="sxs-lookup"><span data-stu-id="7ef72-113">Vendors who create extension functions are urged to publish full details about the function including the syntax of the function prototype.</span></span> <span data-ttu-id="7ef72-114">Cela facilite la proposition de fonctions d’extension communes et/ou populaires par plusieurs fournisseurs de services.</span><span class="sxs-lookup"><span data-stu-id="7ef72-114">This facilitates common and/or popular extension functions to be offered by multiple service providers.</span></span> <span data-ttu-id="7ef72-115">Une application peut obtenir le pointeur de fonction et utiliser la fonction sans avoir à connaître le fournisseur de services qui implémente la fonction.</span><span class="sxs-lookup"><span data-stu-id="7ef72-115">An application can obtain the function pointer and use the function without needing to know anything about the particular service provider that implements the function.</span></span>

 

 



