---
description: Une application utilise la fonction WSAEnumProtocols pour déterminer les protocoles de transport et les chaînes de protocole présents, et pour obtenir des informations sur chacune d’elles, contenues dans la \_ structure WSAPROTOCOL info associée.
ms.assetid: 4f38cb07-d824-4d43-abd8-89d58dc15810
title: Utilisation de plusieurs protocoles
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ab9a37dcc90f1094126f701641539dd3f26a1a3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104112995"
---
# <a name="using-multiple-protocols"></a><span data-ttu-id="6ae8f-103">Utilisation de plusieurs protocoles</span><span class="sxs-lookup"><span data-stu-id="6ae8f-103">Using Multiple Protocols</span></span>

<span data-ttu-id="6ae8f-104">Une application utilise la fonction [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa) pour déterminer les protocoles de transport et les chaînes de protocole présents, et pour obtenir des informations sur chacune d’elles, contenues dans la structure [**WSAPROTOCOL \_ info**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) associée.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-104">An application uses the [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa) function to determine which transport protocols and protocol chains are present, and to obtain information about each as contained in the associated [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure.</span></span>

<span data-ttu-id="6ae8f-105">Dans la plupart des cas, il existe une seule structure d' [**\_ informations de WSAPROTOCOL**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) pour chaque protocole ou chaîne de protocole.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-105">In most instances, there is a single [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure for each protocol or protocol chain.</span></span> <span data-ttu-id="6ae8f-106">Toutefois, certains protocoles présentent plusieurs comportements.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-106">However, some protocols exhibit multiple behaviors.</span></span> <span data-ttu-id="6ae8f-107">Par exemple, le protocole SPX est orienté message (autrement dit, les limites des messages de l’expéditeur sont conservées par le réseau), mais le socket de réception peut ignorer ces limites de message et les traiter comme un flux d’octets.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-107">For example, the SPX protocol is message oriented (that is, the sender's message boundaries are preserved by the network), but the receiving socket can ignore these message boundaries and treat them as a byte stream.</span></span> <span data-ttu-id="6ae8f-108">Par conséquent, il existe deux entrées différentes de structure **WSAPROTOCOL \_ info** pour SPX, une pour chaque comportement.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-108">Thus, two different **WSAPROTOCOL\_INFO** structure entries could exist for SPX—one for each behavior.</span></span>

<span data-ttu-id="6ae8f-109">Dans Windows Sockets 2, plusieurs nouvelles valeurs de famille d’adresses, de type de socket et de protocole apparaissent.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-109">In Windows Sockets 2, several new address family, socket type, and protocol values appear.</span></span> <span data-ttu-id="6ae8f-110">Windows Sockets 1,1 prenait en charge une seule famille d’adresses (AF \_ inet) pour IPv4 qui consistait en un petit nombre de types de socket et d’identificateurs de protocole bien connus.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-110">Windows Sockets 1.1 supported a single address family (AF\_INET) for IPv4 that consisted of a small number of well-known socket types and protocol identifiers.</span></span> <span data-ttu-id="6ae8f-111">Windows Sockets 2 conserve la famille d’adresses, le type de socket et les identificateurs de protocole existants pour des raisons de compatibilité, mais il prend également en charge de nouvelles valeurs de famille d’adresses pour les nouveaux protocoles de transport avec de nouveaux types de médias.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-111">Windows Sockets 2 retains the existing address family, socket type, and protocol identifiers for compatibility reasons, but it also supports new address family values for new transport protocols with new media types.</span></span>

<span data-ttu-id="6ae8f-112">Les nouveaux identificateurs uniques ne sont pas nécessairement bien connus, mais cela ne doit pas poser de problème.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-112">New, unique identifiers are not necessarily well known, but this should not pose a problem.</span></span> <span data-ttu-id="6ae8f-113">Les applications qui doivent être indépendantes des protocoles sont encouragées à sélectionner un protocole sur la base de son aptitude, et non sur les valeurs affectées à leur *\_ type de socket* ou à leurs paramètres de *protocole* .</span><span class="sxs-lookup"><span data-stu-id="6ae8f-113">Applications that need to be protocol-independent are encouraged to select a protocol on the basis of its suitability rather than the values assigned to their *socket\_type* or *protocol* parameters.</span></span> <span data-ttu-id="6ae8f-114">L’adéquation des protocoles est indiquée par les attributs de communication, tels que le flux de messages par rapport à l’octet, et les informations fiables et non fiables, qui sont contenues dans la structure des [**\_ informations**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) du protocole WSAPROTOCOL.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-114">Protocol suitability is indicated by the communications attributes, such as message-versus-byte stream, and reliable-versus-unreliable, that are contained in the protocol [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure.</span></span> <span data-ttu-id="6ae8f-115">La sélection de protocoles sur la base de l’aptitude au lieu des noms de protocole et des types de sockets bien connus permet aux applications indépendantes du protocole de tirer parti des nouveaux protocoles de transport et de leurs types de média associés, dès qu’ils sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-115">Selecting protocols on the basis of suitability as opposed to well-known protocol names and socket types lets protocol-independent applications take advantage of new transport protocols and their associated media types, as they become available.</span></span>

<span data-ttu-id="6ae8f-116">La moitié du serveur d’une application client/serveur offre des avantages en établissant des sockets d’écoute sur tous les protocoles de transport appropriés.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-116">The server half of a client/server application benefits by establishing listening sockets on all suitable transport protocols.</span></span> <span data-ttu-id="6ae8f-117">Ensuite, le client peut établir sa connexion à l’aide de n’importe quel protocole approprié.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-117">Then, the client can establish its connection using any suitable protocol.</span></span> <span data-ttu-id="6ae8f-118">Par exemple, cela permet à une application cliente d’être inchangée, qu’elle soit exécutée sur un ordinateur de bureau connecté via un réseau local ou sur un ordinateur portable à l’aide d’un réseau sans fil.</span><span class="sxs-lookup"><span data-stu-id="6ae8f-118">For example, this would let a client application be unmodified whether it was running on a desktop system connected through LAN or on a laptop using a wireless network.</span></span>

 

 
