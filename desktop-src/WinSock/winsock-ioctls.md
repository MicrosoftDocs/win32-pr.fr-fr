---
description: Rubrique de navigation pour les IOCTL de socket Windows Sockets (Winsock).
ms.assetid: 6a63c2c9-4e09-4a62-b39f-3ccb26287da8
title: Winsock IOCTLs (Winsock2.h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: de7094f802b815bfbd7511bd67eb4e6b1767cb94
ms.sourcegitcommit: 392c0a56f99f4d19686e734291abcac887fc5ba2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/22/2021
ms.locfileid: "106532336"
---
# <a name="winsock-ioctls"></a><span data-ttu-id="ca13c-103">IOCTL Winsock</span><span class="sxs-lookup"><span data-stu-id="ca13c-103">Winsock IOCTLs</span></span>

<span data-ttu-id="ca13c-104">Cette section décrit les contrôles d’entrée/sortie (IOCTL) du socket Winsock pour différentes éditions des systèmes d’exploitation Windows.</span><span class="sxs-lookup"><span data-stu-id="ca13c-104">This section describes Winsock Socket input/output controls (IOCTLs) for various editions of Windows operating systems.</span></span> <span data-ttu-id="ca13c-105">Utilisez la fonction [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) ou [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) pour émettre une IOCTL Winsock afin de contrôler le mode d’un socket, le protocole de transport ou le sous-système de communication.</span><span class="sxs-lookup"><span data-stu-id="ca13c-105">Use the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) function to issue a Winsock IOCTL to control the mode of a socket, the transport protocol, or the communications subsystem.</span></span>

<span data-ttu-id="ca13c-106">Certaines IOCTL Winsock requièrent plus d’explications que ce tableau ne peut communiquer ; ces options contiennent des liens vers des rubriques supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="ca13c-106">Some Winsock IOCTLs require more explanation than this table can convey; such options contain links to additional topics.</span></span>

<span data-ttu-id="ca13c-107">Il est possible d’adopter un schéma d’encodage qui conserve les OpCodes [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) actuellement définis tout en fournissant un moyen pratique de partitionner l’espace d’identificateur opcode dans autant que le paramètre *dwIoControlCode* soit maintenant une entité 32 bits.</span><span class="sxs-lookup"><span data-stu-id="ca13c-107">It is possible to adopt an encoding scheme that preserves the currently defined [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) opcodes while providing a convenient way to partition the opcode identifier space in as much as the *dwIoControlCode* parameter is now a 32-bit entity.</span></span> <span data-ttu-id="ca13c-108">Le paramètre *dwIoControlCode* est conçu pour permettre l’indépendance du protocole et du fournisseur lors de l’ajout de nouveaux codes de contrôle tout en conservant la compatibilité descendante avec les codes de contrôle Windows sockets 1,1 et UNIX.</span><span class="sxs-lookup"><span data-stu-id="ca13c-108">The *dwIoControlCode* parameter is built to allow for protocol and vendor independence when adding new control codes while retaining backward compatibility with the Windows Sockets 1.1 and Unix control codes.</span></span> <span data-ttu-id="ca13c-109">Le paramètre *dwIoControlCode* se présente sous la forme suivante.</span><span class="sxs-lookup"><span data-stu-id="ca13c-109">The *dwIoControlCode* parameter has the following form.</span></span>

| <span data-ttu-id="ca13c-110">I</span><span class="sxs-lookup"><span data-stu-id="ca13c-110">I</span></span>  | <span data-ttu-id="ca13c-111">O</span><span class="sxs-lookup"><span data-stu-id="ca13c-111">O</span></span>  | <span data-ttu-id="ca13c-112">V</span><span class="sxs-lookup"><span data-stu-id="ca13c-112">V</span></span>  | <span data-ttu-id="ca13c-113">T</span><span class="sxs-lookup"><span data-stu-id="ca13c-113">T</span></span>  | <span data-ttu-id="ca13c-114">Fournisseur/famille d’adresses</span><span class="sxs-lookup"><span data-stu-id="ca13c-114">Vendor/address family</span></span> | <span data-ttu-id="ca13c-115">Code</span><span class="sxs-lookup"><span data-stu-id="ca13c-115">Code</span></span>                   |
|-|-|-|-|-|-|
| <span data-ttu-id="ca13c-116">3</span><span class="sxs-lookup"><span data-stu-id="ca13c-116">3</span></span>  | <span data-ttu-id="ca13c-117">3</span><span class="sxs-lookup"><span data-stu-id="ca13c-117">3</span></span>  | <span data-ttu-id="ca13c-118">2</span><span class="sxs-lookup"><span data-stu-id="ca13c-118">2</span></span>  | <span data-ttu-id="ca13c-119">2 2</span><span class="sxs-lookup"><span data-stu-id="ca13c-119">2 2</span></span> | <span data-ttu-id="ca13c-120">2 2 2 2 2 2 2 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="ca13c-120">2 2 2 2 2 2 2 1 1 1 1</span></span> | <span data-ttu-id="ca13c-121">1 1 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="ca13c-121">1 1 1 1 1 1</span></span>              |
| <span data-ttu-id="ca13c-122">1</span><span class="sxs-lookup"><span data-stu-id="ca13c-122">1</span></span>  | <span data-ttu-id="ca13c-123">0</span><span class="sxs-lookup"><span data-stu-id="ca13c-123">0</span></span>  | <span data-ttu-id="ca13c-124">9</span><span class="sxs-lookup"><span data-stu-id="ca13c-124">9</span></span>  | <span data-ttu-id="ca13c-125">8 7</span><span class="sxs-lookup"><span data-stu-id="ca13c-125">8 7</span></span> | <span data-ttu-id="ca13c-126">6 5 4 3 2 1 0 9 8 7 6</span><span class="sxs-lookup"><span data-stu-id="ca13c-126">6 5 4 3 2 1 0 9 8 7 6</span></span> | <span data-ttu-id="ca13c-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span><span class="sxs-lookup"><span data-stu-id="ca13c-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span></span> |

> [!Note] 
> <span data-ttu-id="ca13c-128">Les bits dans le paramètre *dwIoControlCode* affiché dans la table doivent être lus verticalement de haut en bas par colonne.</span><span class="sxs-lookup"><span data-stu-id="ca13c-128">The bits in *dwIoControlCode* parameter displayed in the table must be read vertically from top to bottom by column.</span></span> <span data-ttu-id="ca13c-129">Le bit le plus à gauche est le bit 31, le bit suivant est le bit 30 et le bit le plus à droite est le bit 0.</span><span class="sxs-lookup"><span data-stu-id="ca13c-129">So the left-most bit is bit 31, the next bit is bit 30, and the right-most bit is bit 0.</span></span>

<span data-ttu-id="ca13c-130">I est défini si la mémoire tampon d’entrée est valide pour le code, comme avec **IOC_IN**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-130">I is set if the input buffer is valid for the code, as with **IOC_IN**.</span></span>

<span data-ttu-id="ca13c-131">O est défini si la mémoire tampon de sortie est valide pour le code, comme avec **IOC_OUT**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-131">O is set if the output buffer is valid for the code, as with **IOC_OUT**.</span></span> <span data-ttu-id="ca13c-132">Les codes de contrôle utilisant à la fois les mémoires tampons d’entrée et de sortie définissent à la fois I et O.</span><span class="sxs-lookup"><span data-stu-id="ca13c-132">Control codes using both input and output buffers set both I and O.</span></span>

<span data-ttu-id="ca13c-133">V est défini s’il n’y a aucun paramètre pour le code, comme avec **IOC_VOID**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-133">V is set if there are no parameters for the code, as with **IOC_VOID**.</span></span>

<span data-ttu-id="ca13c-134">T est une quantité de 2 bits qui définit le type de l’IOCTL.</span><span class="sxs-lookup"><span data-stu-id="ca13c-134">T is a 2-bit quantity that defines the type of the IOCTL.</span></span> <span data-ttu-id="ca13c-135">Les valeurs suivantes sont définies :</span><span class="sxs-lookup"><span data-stu-id="ca13c-135">The following values are defined:</span></span>

<span data-ttu-id="ca13c-136">0 l’IOCTL est un code IOCTL UNIX standard, comme avec **FIONREAD** et **FIONBIO**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-136">0 The IOCTL is a standard Unix IOCTL code, as with **FIONREAD** and **FIONBIO**.</span></span>

<span data-ttu-id="ca13c-137">1 l’IOCTL est un code IOCTL Windows Sockets 2 générique.</span><span class="sxs-lookup"><span data-stu-id="ca13c-137">1 The IOCTL is a generic Windows Sockets 2 IOCTL code.</span></span> <span data-ttu-id="ca13c-138">Les nouveaux codes IOCTL définis pour Windows Sockets 2 auront T = = 1.</span><span class="sxs-lookup"><span data-stu-id="ca13c-138">New IOCTL codes defined for Windows Sockets 2 will have T == 1.</span></span>

<span data-ttu-id="ca13c-139">2 l’IOCTL s’applique uniquement à une famille d’adresses spécifique.</span><span class="sxs-lookup"><span data-stu-id="ca13c-139">2 The IOCTL applies only to a specific address family.</span></span>

<span data-ttu-id="ca13c-140">3 l’IOCTL s’applique uniquement au fournisseur d’un fournisseur spécifique, comme avec **IOC_VENDOR**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-140">3 The IOCTL applies only to a specific vendor's provider, as with **IOC_VENDOR**.</span></span> <span data-ttu-id="ca13c-141">Ce type permet aux entreprises d’obtenir un numéro de fournisseur qui apparaît dans le paramètre de **famille fournisseur/adresse** .</span><span class="sxs-lookup"><span data-stu-id="ca13c-141">This type allows companies to be assigned a vendor number that appears in the **Vendor/Address family** parameter.</span></span> <span data-ttu-id="ca13c-142">Ensuite, le fournisseur peut définir de nouvelles IOCTL propres à ce fournisseur sans avoir à inscrire l’IOCTL auprès d’un centre d’échanges de données, offrant ainsi de la flexibilité et de la confidentialité des fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="ca13c-142">Then, the vendor can define new IOCTLs specific to that vendor without having to register the IOCTL with a clearinghouse, thereby providing vendor flexibility and privacy.</span></span>

<span data-ttu-id="ca13c-143">**Fournisseur/famille d’adresses** Quantité de 11 bits qui définit le fournisseur propriétaire du code (si T = = 3) ou qui contient la famille d’adresses à laquelle le code s’applique (si T = = 2).</span><span class="sxs-lookup"><span data-stu-id="ca13c-143">**Vendor/Address family** An 11-bit quantity that defines the vendor who owns the code (if T == 3) or that contains the address family to which the code applies (if T == 2).</span></span> <span data-ttu-id="ca13c-144">S’il s’agit d’un code UNIX IOCTL (T = = 0), ce paramètre a la même valeur que le code sur UNIX.</span><span class="sxs-lookup"><span data-stu-id="ca13c-144">If this is a Unix IOCTL code (T == 0) then this parameter has the same value as the code on Unix.</span></span> <span data-ttu-id="ca13c-145">S’il s’agit d’un IOCTL Windows Sockets 2 générique (T = = 1), ce paramètre peut être utilisé en tant qu’extension du paramètre de code pour fournir des valeurs de code supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="ca13c-145">If this is a generic Windows Sockets 2 IOCTL (T == 1) then this parameter can be used as an extension of the code parameter to provide additional code values.</span></span>

<span data-ttu-id="ca13c-146">**Code** Quantité de 16 bits qui contient le code IOCTL spécifique pour l’opération.</span><span class="sxs-lookup"><span data-stu-id="ca13c-146">**Code** The 16-bit quantity that contains the specific IOCTL code for the operation.</span></span>

## <a name="unix-ioctl-codes"></a><span data-ttu-id="ca13c-147">Codes IOCTL UNIX</span><span class="sxs-lookup"><span data-stu-id="ca13c-147">Unix IOCTL codes</span></span>

<span data-ttu-id="ca13c-148">Les codes (commandes) IOCTL UNIX suivants sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="ca13c-148">The following Unix IOCTL codes (commands) are supported.</span></span>

### <a name="fionbio"></a><span data-ttu-id="ca13c-149">FIONBIO</span><span class="sxs-lookup"><span data-stu-id="ca13c-149">FIONBIO</span></span>

<span data-ttu-id="ca13c-150">Activez ou désactivez le mode non bloquant sur le socket *s*.</span><span class="sxs-lookup"><span data-stu-id="ca13c-150">Enable or disable non-blocking mode on socket *s*.</span></span> <span data-ttu-id="ca13c-151">Le paramètre *lpvInBuffer* pointe vers un **long non signé** (QoS), qui est différent de zéro si le mode non bloquant est activé et zéro s’il doit être désactivé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-151">The *lpvInBuffer* parameter points at an **unsigned long** (QoS), which is nonzero if non-blocking mode is to be enabled and zero if it is to be disabled.</span></span> <span data-ttu-id="ca13c-152">Lorsqu’un socket est créé, il fonctionne en mode blocage (autrement dit, le mode non bloquant est désactivé).</span><span class="sxs-lookup"><span data-stu-id="ca13c-152">When a socket is created, it operates in blocking mode (that is, non-blocking mode is disabled).</span></span> <span data-ttu-id="ca13c-153">Cela est cohérent avec les sockets BSD.</span><span class="sxs-lookup"><span data-stu-id="ca13c-153">This is consistent with BSD sockets.</span></span>

<span data-ttu-id="ca13c-154">La routine [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) ou [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) définit automatiquement un socket en mode non bloquant.</span><span class="sxs-lookup"><span data-stu-id="ca13c-154">The [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) or [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) routine automatically sets a socket to non-blocking mode.</span></span> <span data-ttu-id="ca13c-155">Si **WSAAsyncSelect** ou **WSAEventSelect** a été émis sur un socket, toute tentative d’utilisation de [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) pour rétablir le socket en mode blocage échoue avec WSAEINVAL.</span><span class="sxs-lookup"><span data-stu-id="ca13c-155">If **WSAAsyncSelect** or **WSAEventSelect** has been issued on a socket, then any attempt to use [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) to set the socket back to blocking mode will fail with WSAEINVAL.</span></span> <span data-ttu-id="ca13c-156">Pour rétablir le socket en mode blocage, une application doit d’abord désactiver **WSAAsyncSelect** en appelant **WSAAsyncSelect** avec le paramètre *lEvent* égal à zéro, ou désactiver **WSAEventSelect** en appelant **WSAEventSelect** avec le paramètre *lNetworkEvents* égal à zéro.</span><span class="sxs-lookup"><span data-stu-id="ca13c-156">To set the socket back to blocking mode, an application must first disable **WSAAsyncSelect** by calling **WSAAsyncSelect** with the *lEvent* parameter equal to zero, or disable **WSAEventSelect** by calling **WSAEventSelect** with the *lNetworkEvents* parameter equal to zero.</span></span>

### <a name="fionread"></a><span data-ttu-id="ca13c-157">FIONREAD</span><span class="sxs-lookup"><span data-stu-id="ca13c-157">FIONREAD</span></span>

<span data-ttu-id="ca13c-158">Déterminez la quantité de données pouvant être lues de manière atomique à partir du socket *s*.</span><span class="sxs-lookup"><span data-stu-id="ca13c-158">Determine the amount of data that can be read atomically from socket *s*.</span></span> <span data-ttu-id="ca13c-159">Le paramètre *lpvOutBuffer* pointe vers un **long non signé** dans lequel [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stocke le résultat.</span><span class="sxs-lookup"><span data-stu-id="ca13c-159">The *lpvOutBuffer* parameter points at an **unsigned long** in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

<span data-ttu-id="ca13c-160">Si le socket passé dans le paramètre *s* est orienté flux (par exemple, tapez un flux de type chaussette \_ ), **FIONREAD** retourne la quantité totale de données pouvant être lues dans une opération de réception unique. il s’agit généralement du même volume de données en file d’attente sur le socket (dans la mesure où un flux de données est orienté octet, ce n’est pas garanti).</span><span class="sxs-lookup"><span data-stu-id="ca13c-160">If the socket passed in the *s* parameter is stream oriented (for example, type SOCK\_STREAM), **FIONREAD** returns the total amount of data that can be read in a single receive operation; this is normally the same as the total amount of data queued on the socket (since a data stream is byte-oriented, this is not guaranteed).</span></span>

<span data-ttu-id="ca13c-161">Si le socket passé dans le paramètre *s* est orienté message (par exemple, tapez chaussette \_ DGRAM), **FIONREAD** retourne le nombre total d’octets disponibles pour la lecture, et non la taille du premier datagramme (message) mis en file d’attente sur le Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-161">If the socket passed in the *s* parameter is message oriented (for example, type SOCK\_DGRAM), **FIONREAD** returns the reports the total number of bytes available to read, not the size of the first datagram (message) queued on the socket.</span></span>

### <a name="siocatmark"></a><span data-ttu-id="ca13c-162">SIOCATMARK</span><span class="sxs-lookup"><span data-stu-id="ca13c-162">SIOCATMARK</span></span>

<span data-ttu-id="ca13c-163">Déterminez si toutes les données OOB ont été lues.</span><span class="sxs-lookup"><span data-stu-id="ca13c-163">Determine whether or not all OOB data has been read.</span></span> <span data-ttu-id="ca13c-164">Cela s’applique uniquement à un socket de type flux de données (par exemple, type de flux de chaussette \_ ) qui a été configuré pour la réception en ligne de toutes les données OOB (par conséquent \_ OOBINLINE).</span><span class="sxs-lookup"><span data-stu-id="ca13c-164">This applies only to a socket of stream-style (for example, type SOCK\_STREAM) that has been configured for inline reception of any OOB data (SO\_OOBINLINE).</span></span> <span data-ttu-id="ca13c-165">Si aucune donnée OOB n’est en attente de lecture, l’opération retourne la valeur TRUE.</span><span class="sxs-lookup"><span data-stu-id="ca13c-165">If no OOB data is waiting to be read, the operation returns TRUE.</span></span> <span data-ttu-id="ca13c-166">Sinon, elle retourne **false** et l’opération de réception suivante effectuée sur le socket récupère une partie ou la totalité des données précédant la marque ; l’application doit utiliser l’opération **SIOCATMARK** pour déterminer si elle est conservée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-166">Otherwise, it returns **FALSE**, and the next receive operation performed on the socket will retrieve some or all of the data preceding the mark; the application should use the **SIOCATMARK** operation to determine whether any remains.</span></span> <span data-ttu-id="ca13c-167">Si des données normales précèdent les données urgentes (hors bande), elles seront reçues dans l’ordre.</span><span class="sxs-lookup"><span data-stu-id="ca13c-167">If there is any normal data preceding the urgent (out of band) data, it will be received in order.</span></span> <span data-ttu-id="ca13c-168">(Notez que les opérations de [**réception**](/windows/desktop/api/winsock/nf-winsock-recv) ne mélangeront jamais les données OOB et normales dans le même appel.) *lpvOutBuffer* pointe vers un booléen dans lequel [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stocke le résultat.</span><span class="sxs-lookup"><span data-stu-id="ca13c-168">(Note that [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) operations will never mix OOB and normal data in the same call.) *lpvOutBuffer* points at a BOOL in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

## <a name="windows-sockets-2-commands"></a><span data-ttu-id="ca13c-169">Commandes Windows Sockets 2</span><span class="sxs-lookup"><span data-stu-id="ca13c-169">Windows Sockets 2 commands</span></span>

<span data-ttu-id="ca13c-170">Les commandes Windows Sockets 2 suivantes sont prises en charge.</span><span class="sxs-lookup"><span data-stu-id="ca13c-170">The following Windows Sockets 2 commands are supported.</span></span>

### <a name="sio_acquire_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-171">SIO_ACQUIRE_PORT_RESERVATION (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-171">SIO_ACQUIRE_PORT_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-172">Demandez une réservation d’exécution pour un bloc de ports TCP ou UDP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-172">Request a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="ca13c-173">Pour les réservations de port d’exécution, le pool de ports requiert que les réservations soient consommées à partir du processus sur lequel la réservation a été accordée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-173">For runtime port reservations, the port pool requires that reservations be consumed from the process on whose socket the reservation was granted.</span></span> <span data-ttu-id="ca13c-174">Les réservations de port d’exécution durent uniquement tant que la durée de vie du socket sur lequel l’IOCTL [**SIO \_ Acquire \_ port \_ reservation**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) a été appelée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-174">Runtime port reservations last only as long as the lifetime of the socket on which the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL was called.</span></span> <span data-ttu-id="ca13c-175">En revanche, les réservations de port persistantes créées à l’aide de la fonction [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) ou [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) peuvent être consommées par n’importe quel processus ayant la possibilité d’obtenir des réservations persistantes.</span><span class="sxs-lookup"><span data-stu-id="ca13c-175">In contrast, persistent port reservations created using the [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) or [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) function may be consumed by any process with the ability to obtain persistent reservations.</span></span>

<span data-ttu-id="ca13c-176">Pour plus d’informations, consultez la référence sur la [**\_ réservation de \_ port \_ SIO Acquire**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-176">For more detailed information, see the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) reference.</span></span>

<span data-ttu-id="ca13c-177">[**SIO \_ L’acquisition de la \_ \_ réservation de port**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) est prise en charge sur Windows Vista et les versions ultérieures du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="ca13c-177">[**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_address_list_change-opcode-setting-v-t1"></a><span data-ttu-id="ca13c-178">\_Modification de la liste d’adresses SIO \_ \_ (paramètre opcode : V, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-178">SIO\_ADDRESS\_LIST\_CHANGE (opcode setting: V, T==1)</span></span>

<span data-ttu-id="ca13c-179">Pour recevoir une notification des modifications apportées à la liste des adresses de transport locales de la famille de protocoles du socket à laquelle l’application peut se lier.</span><span class="sxs-lookup"><span data-stu-id="ca13c-179">To receive notification of changes in the list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="ca13c-180">Aucune information de sortie ne sera fournie à la fin de cette IOCTL. la saisie semi-automatique indique simplement que la liste des adresses locales disponibles a changé et doit être interrogée à nouveau par le biais d’une **\_ requête de \_ liste \_ d’adresses SIO**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-180">No output information will be provided upon completion of this IOCTL; the completion merely indicates that list of available local address has changed and should be queried again through **SIO\_ADDRESS\_LIST\_QUERY**.</span></span>

<span data-ttu-id="ca13c-181">Il est supposé que l’application utilise des e/s avec chevauchement pour être informé de la modification par l’achèvement de la demande de modification de la **\_ liste d’adresses \_ \_ SIO** .</span><span class="sxs-lookup"><span data-stu-id="ca13c-181">It is assumed (although not required) that the application uses overlapped I/O to be notified of change by completion of **SIO\_ADDRESS\_LIST\_CHANGE** request.</span></span> <span data-ttu-id="ca13c-182">En guise d’alternative, si la **\_ liste d’adresses SIO \_ \_ change** IOCTL est émise sur un socket non bloquant et sans les paramètres superposés (*lpOverlapped* /  *lpCompletionRoutine* est défini sur **null**), elle se termine immédiatement avec l’erreur [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ca13c-182">Alternatively, if the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL is issued on a non-blocking socket and without overlapped parameters (*lpOverlapped*/ *lpCompletionRoutine* are set to **NULL**), it will complete immediately with error [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="ca13c-183">L’application peut ensuite attendre les événements de modification de la liste d’adresses via un appel à [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) ou [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) avec \_ le bit de modification de liste d’adresses FD \_ \_ défini dans le masque de bits d’événement réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-183">The application can then wait for address list change events through a call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ADDRESS\_LIST\_CHANGE bit set in the network event bitmask.</span></span>

### <a name="sio_address_list_query-opcode-setting-o-t1"></a><span data-ttu-id="ca13c-184">\_ \_ Requête de liste d’adresses SIO \_ (paramètre opcode : O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-184">SIO\_ADDRESS\_LIST\_QUERY (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ca13c-185">Obtient la liste des adresses de transport locales de la famille de protocoles du socket à laquelle l’application peut se lier.</span><span class="sxs-lookup"><span data-stu-id="ca13c-185">Obtains a list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="ca13c-186">La liste des adresses varie en fonction de la famille d’adresses et certaines adresses sont exclues de la liste.</span><span class="sxs-lookup"><span data-stu-id="ca13c-186">The list of addresses varies based on address family and some addresses are excluded from the list.</span></span>

> [!Note] 
> <span data-ttu-id="ca13c-187">Dans les environnements plug-and-Play Windows, les adresses peuvent être ajoutées et supprimées dynamiquement.</span><span class="sxs-lookup"><span data-stu-id="ca13c-187">In Windows Plug-n-Play environments, addresses can be added and removed dynamically.</span></span> <span data-ttu-id="ca13c-188">Par conséquent, les applications ne peuvent pas compter sur la persistance des informations retournées par la **\_ requête de \_ liste \_ d’adresses SIO** .</span><span class="sxs-lookup"><span data-stu-id="ca13c-188">Therefore, applications cannot rely on the information returned by **SIO\_ADDRESS\_LIST\_QUERY** to be persistent.</span></span> <span data-ttu-id="ca13c-189">Les applications peuvent s’inscrire à des notifications de changement d’adresse par le biais de l’IOCTL de **\_ modification de \_ liste \_ d’adresses SIO** qui fournit une notification par le biais d’un événement d’e/s ou de modification de la \_ liste d’adresses FD \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="ca13c-189">Applications may register for address change notifications through the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL which provides for notification through either overlapped I/O or FD\_ADDRESS\_LIST\_CHANGE event.</span></span> <span data-ttu-id="ca13c-190">La séquence d’actions suivante peut être utilisée pour garantir que l’application dispose toujours des informations de liste d’adresses actuelles :</span><span class="sxs-lookup"><span data-stu-id="ca13c-190">The following sequence of actions can be used to guarantee that the application always has current address list information:</span></span>

-  <span data-ttu-id="ca13c-191">Problème de modification de la **\_ liste d’adresses \_ \_ SIO** IOCTL</span><span class="sxs-lookup"><span data-stu-id="ca13c-191">Issue **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL</span></span>
-  <span data-ttu-id="ca13c-192">Émettre une requête IOCTL de **\_ liste d’adresses \_ \_ SIO**</span><span class="sxs-lookup"><span data-stu-id="ca13c-192">Issue **SIO\_ADDRESS\_LIST\_QUERY** IOCTL</span></span>
-  <span data-ttu-id="ca13c-193">Chaque fois que la **\_ liste d’adresses SIO \_ \_ change** IOCTL avertit l’application de la modification de la liste d’adresses (via des e/s avec chevauchement ou en signalant un événement de modification de la \_ \_ liste d’adresses FD \_ ), toute la séquence d’actions doit être répétée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-193">Whenever **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL notifies the application of address list change (either through overlapped I/O or by signaling FD\_ADDRESS\_LIST\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="ca13c-194">Pour plus d’informations, consultez la référence de [**\_ requête de \_ liste \_ d’adresses SIO**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-194">For more detailed information, see the [**SIO\_ADDRESS\_LIST\_QUERY**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85)) reference.</span></span> <span data-ttu-id="ca13c-195">**SIO \_ La \_ \_ requête de liste d’adresses** est prise en charge sur Windows 2000 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-195">**SIO\_ADDRESS\_LIST\_QUERY** is supported on Windows 2000 and later.</span></span>

### <a name="sio_apply_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-196">SIO \_ appliquer \_ le \_ paramètre de transport (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-196">SIO\_APPLY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-197">Applique un paramètre de transport à un Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-197">Applies a transport setting to a socket.</span></span> <span data-ttu-id="ca13c-198">Le paramètre de transport appliqué est basé sur l' [**\_ \_ ID de paramètre de transport**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passé dans le paramètre *lpvInBuffer* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-198">The transport setting being applied is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="ca13c-199">Le seul paramètre de transport actuellement défini est pour la fonctionnalité de **\_ fonctionnalité de \_ notification \_ en temps réel** sur un socket TCP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-199">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="ca13c-200">Si l' [**\_ \_ ID de paramètre de transport**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) transmis a le membre **GUID** défini sur la **\_ \_ \_ fonctionnalité de notification en temps réel**, il s’agit d’une demande d’application des paramètres de notification en temps réel pour le socket TCP utilisé avec [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) pour recevoir des notifications de réseau en arrière-plan dans une application Windows Store.</span><span class="sxs-lookup"><span data-stu-id="ca13c-200">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to apply real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span>

<span data-ttu-id="ca13c-201">Pour plus d’informations, consultez la référence des [**\_ \_ \_ paramètres de transport Apply SIO**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-201">For more detailed information, see the [**SIO\_APPLY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) reference.</span></span> <span data-ttu-id="ca13c-202">**SIO \_ APPLIQUER \_ les \_ paramètres de transport** est pris en charge sur Windows 8, Windows Server 2012 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-202">**SIO\_APPLY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_associate_handle-opcode-setting-i-t1"></a><span data-ttu-id="ca13c-203">\_Handle SIO Associate \_ (paramètre opcode : I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-203">SIO\_ASSOCIATE\_HANDLE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ca13c-204">Associe ce socket au handle spécifié d'une interface connexe.</span><span class="sxs-lookup"><span data-stu-id="ca13c-204">Associate this socket with the specified handle of a companion interface.</span></span> <span data-ttu-id="ca13c-205">La mémoire tampon d’entrée contient la valeur entière correspondant à la constante de manifeste de l’interface associée (par exemple, TH \_ netdev et Th \_ TAPI.), suivie d’une valeur qui est un handle de l’interface associée spécifiée, ainsi que d’autres informations requises.</span><span class="sxs-lookup"><span data-stu-id="ca13c-205">The input buffer contains the integer value corresponding to the manifest constant for the companion interface (for example, TH\_NETDEV and TH\_TAPI.), followed by a value that is a handle of the specified companion interface, along with any other required information.</span></span> <span data-ttu-id="ca13c-206">Reportez-vous à la section appropriée dans les [annexes Winsock](winsock-annexes.md) pour obtenir des détails spécifiques à une interface connexe particulière.</span><span class="sxs-lookup"><span data-stu-id="ca13c-206">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="ca13c-207">La taille totale est reflétée dans la longueur de la mémoire tampon d’entrée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-207">The total size is reflected in the input buffer length.</span></span> <span data-ttu-id="ca13c-208">Aucune mémoire tampon de sortie n’est requise.</span><span class="sxs-lookup"><span data-stu-id="ca13c-208">No output buffer is required.</span></span> <span data-ttu-id="ca13c-209">Le code d’erreur [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) est indiqué pour les fournisseurs de services qui ne prennent pas en charge cette ioctl.</span><span class="sxs-lookup"><span data-stu-id="ca13c-209">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span> <span data-ttu-id="ca13c-210">Le descripteur associé à cette IOCTL peut être récupéré à l’aide du **\_ \_ handle SIO translate**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-210">The handle associated by this IOCTL can be retrieved using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="ca13c-211">Une interface auxiliaire peut être utilisée, par exemple, si un fournisseur particulier fournit (1) un grand nombre de contrôles supplémentaires sur le comportement d’un socket et (2) les contrôles sont suffisamment spécifiques au fournisseur pour qu’ils ne soient pas mappés à des fonctions de socket Windows existantes ou qu’il est probable qu’elles soient définies à l’avenir.</span><span class="sxs-lookup"><span data-stu-id="ca13c-211">A companion interface might be used, for example, if a particular provider provides (1) a great deal of additional controls over the behavior of a socket and (2) the controls are provider-specific enough that they do not map to existing Windows Socket functions or ones likely to be defined in the future.</span></span> <span data-ttu-id="ca13c-212">Il est recommandé d’utiliser le modèle COM (Component Object Model) à la place de cette IOCTL pour découvrir et suivre les autres interfaces qui peuvent être prises en charge par un Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-212">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="ca13c-213">Cette IOCTL est présente pour la compatibilité (inverse) avec les systèmes où COM n’est pas disponible ou ne peut pas être utilisé pour une autre raison.</span><span class="sxs-lookup"><span data-stu-id="ca13c-213">This IOCTL is present for (reverse) compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_associate_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-214">\_ \_ Réservation de port SIO Associate \_ (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-214">SIO\_ASSOCIATE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-215">Associez un socket à une réservation persistante ou d’exécution pour un bloc de ports TCP ou UDP identifiés par le jeton de réservation de port.</span><span class="sxs-lookup"><span data-stu-id="ca13c-215">Associate a socket with a persistent or runtime reservation for a block of TCP or UDP ports identified by the port reservation token.</span></span> <span data-ttu-id="ca13c-216">L’IOCTL de [**\_ réservation de \_ port \_ SIO Associate**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) doit être émise avant que le socket ne soit lié.</span><span class="sxs-lookup"><span data-stu-id="ca13c-216">The [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) IOCTL must be issued before the socket is bound.</span></span> <span data-ttu-id="ca13c-217">Si et quand le socket est lié, le port qui lui est assigné est sélectionné à partir de la réservation de port identifiée par le jeton donné.</span><span class="sxs-lookup"><span data-stu-id="ca13c-217">If and when the socket is bound, the port assigned to it will be selected from the port reservation identified by the given token.</span></span> <span data-ttu-id="ca13c-218">Si aucun port n’est disponible à partir de la réservation spécifiée, l’appel de fonction de [**liaison**](/windows/desktop/api/winsock/nf-winsock-bind) échoue.</span><span class="sxs-lookup"><span data-stu-id="ca13c-218">If no ports are available from the specified reservation, the [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) function call will fail.</span></span>

<span data-ttu-id="ca13c-219">Pour plus d’informations, consultez la référence de [**\_ réservation de \_ port \_ SIO Associate**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-219">For more detailed information, see the [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) reference.</span></span>

<span data-ttu-id="ca13c-220">[**SIO \_ La \_ \_ réservation de port associée**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) est prise en charge sur Windows Vista et les versions ultérieures du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="ca13c-220">[**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_base_handle-opcode-setting-o-t1"></a><span data-ttu-id="ca13c-221">\_ \_ Descripteur de base SIO (paramètre opcode : O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-221">SIO\_BASE\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ca13c-222">Récupère le handle du fournisseur de services de base pour un socket donné.</span><span class="sxs-lookup"><span data-stu-id="ca13c-222">Retrieves the base service provider handle for a given socket.</span></span> <span data-ttu-id="ca13c-223">La valeur retournée est un **Socket**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-223">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="ca13c-224">Un fournisseur de services en couche n’intercepte jamais cette IOCTL puisque la valeur de retour doit être le handle de socket du fournisseur de services de base.</span><span class="sxs-lookup"><span data-stu-id="ca13c-224">A layered service provider would never intercept this IOCTL since the return value must be the socket handle from the base service provider.</span></span>

<span data-ttu-id="ca13c-225">Si la mémoire tampon de sortie n’est pas assez grande pour un handle de socket (le *cbOutBuffer* est inférieur à la taille d’un **Socket**) ou si le paramètre *lpvOutBuffer* est un pointeur **null** , une **\_ erreur de socket** est retournée comme résultat de cette IOCTL et [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retourne [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ca13c-225">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ca13c-226">**SIO \_ Le \_ descripteur de base** est défini dans le fichier d’en-tête *mswsock. h* et pris en charge sur Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-226">**SIO\_BASE\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle-opcode-setting-o-t1"></a><span data-ttu-id="ca13c-227">\_Handle BSP SIO \_ (paramètre opcode : O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-227">SIO\_BSP\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ca13c-228">Récupère le handle du fournisseur de services de base pour un socket utilisé par la fonction [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-228">Retrieves the base service provider handle for a socket used by the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span> <span data-ttu-id="ca13c-229">La valeur retournée est un **Socket**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-229">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="ca13c-230">Cette IOCTL est utilisée par un fournisseur de services en couche pour s’assurer que le fournisseur intercepte la fonction [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-230">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span>

<span data-ttu-id="ca13c-231">Si la mémoire tampon de sortie n’est pas assez grande pour un handle de socket (le *cbOutBuffer* est inférieur à la taille d’un **Socket**) ou si le paramètre *lpvOutBuffer* est un pointeur **null** , une **\_ erreur de socket** est retournée comme résultat de cette IOCTL et [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retourne [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ca13c-231">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ca13c-232">**SIO \_ Le \_ descripteur BSP** est défini dans le fichier d’en-tête *mswsock. h* et pris en charge sur Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-232">**SIO\_BSP\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_select-opcode-setting-o-t1"></a><span data-ttu-id="ca13c-233">SIO \_ du \_ handle BSP \_ Select (paramètre opcode : O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-233">SIO\_BSP\_HANDLE\_SELECT (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ca13c-234">Récupère le handle du fournisseur de services de base pour un socket utilisé par la fonction [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-234">Retrieves the base service provider handle for a socket used by the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span> <span data-ttu-id="ca13c-235">La valeur retournée est un **Socket**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-235">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="ca13c-236">Cette IOCTL est utilisée par un fournisseur de services en couche pour s’assurer que le fournisseur intercepte la fonction [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-236">This Ioctl is used by a layered service provider to ensure the provider intercept the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span>

<span data-ttu-id="ca13c-237">Si la mémoire tampon de sortie n’est pas assez grande pour un handle de socket (le *cbOutBuffer* est inférieur à la taille d’un **Socket**) ou si le paramètre *lpvOutBuffer* est un pointeur **null** , une **\_ erreur de socket** est retournée comme résultat de cette IOCTL et [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retourne [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ca13c-237">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ca13c-238">**SIO \_ Le \_ handle BSP \_ Select** est défini dans le fichier d’en-tête *mswsock. h* et pris en charge sur Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-238">**SIO\_BSP\_HANDLE\_SELECT** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_poll-opcode-setting-o-t1"></a><span data-ttu-id="ca13c-239">\_Interrogation \_ de handle BSP SIO \_ (paramètre opcode : O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-239">SIO\_BSP\_HANDLE\_POLL (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ca13c-240">Récupère le handle du fournisseur de services de base pour un socket utilisé par la fonction [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-240">Retrieves the base service provider handle for a socket used by the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span> <span data-ttu-id="ca13c-241">Le paramètre *lpOverlapped* doit être un pointeur **null** .</span><span class="sxs-lookup"><span data-stu-id="ca13c-241">The *lpOverlapped* parameter must be a **NULL** pointer.</span></span> <span data-ttu-id="ca13c-242">La valeur retournée est un **Socket**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-242">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="ca13c-243">Cette IOCTL est utilisée par un fournisseur de services en couche pour s’assurer que le fournisseur intercepte la fonction [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-243">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span>

<span data-ttu-id="ca13c-244">Si la mémoire tampon de sortie n’est pas assez grande pour un handle de socket (le *cbOutBuffer* est inférieur à la taille d’un **Socket**), le paramètre *lpvOutBuffer* est un pointeur **null** ou le paramètre *lpOverlapped* n’est pas un pointeur **null** , une **\_ erreur de socket** est retournée comme résultat de cette IOCTL et [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retourne [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ca13c-244">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**), the *lpvOutBuffer* parameter is a **NULL** pointer, or the *lpOverlapped* parameter is not a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ca13c-245">**SIO \_ Le \_ \_ sondage du handle BSP** est défini dans le fichier d’en-tête *mswsock. h* et pris en charge sur Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-245">**SIO\_BSP\_HANDLE\_POLL** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_chk_qos-opcode-setting-i-o-t3"></a><span data-ttu-id="ca13c-246">SIO \_ chk \_ QoS (paramètre opcode : I, O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-246">SIO\_CHK\_QOS (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="ca13c-247">Récupère des informations sur les caractéristiques du trafic QoS.</span><span class="sxs-lookup"><span data-stu-id="ca13c-247">Retrieves information about QoS traffic characteristics.</span></span> <span data-ttu-id="ca13c-248">Pendant la phase de transition sur le système d’envoi entre la configuration de flux et la réception d’un message RESV (voir [Comment le service RSVP appelle TC](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) pour plus d’informations sur la phase de transition), le trafic associé à un flux RSVP est mis en forme en fonction du type de service ([meilleur effort](/previous-versions/windows/desktop/qos/best-effort), [charge contrôlée](/previous-versions/windows/desktop/qos/controlled-load)ou [garantie](/previous-versions/windows/desktop/qos/guaranteed)).</span><span class="sxs-lookup"><span data-stu-id="ca13c-248">During the transitional phase on the sending system between flow setup and the receipt of a RESV message (see [How the RSVP Service Invokes TC](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) for more information on the transitional phase), traffic associated with an RSVP flow is shaped based on service type ([BEST EFFORT](/previous-versions/windows/desktop/qos/best-effort), [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load), or [GUARANTEED](/previous-versions/windows/desktop/qos/guaranteed)).</span></span> <span data-ttu-id="ca13c-249">Pour plus d’informations, consultez [utilisation de SiO \_ chk \_ QoS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) dans la section [qualité de service](/previous-versions/windows/desktop/qos/qos-start-page) du kit de développement logiciel (SDK) de plateforme.</span><span class="sxs-lookup"><span data-stu-id="ca13c-249">For more information, see [Using SIO\_CHK\_QOS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) in the [Quality of Service](/previous-versions/windows/desktop/qos/qos-start-page) section of the Platform SDK.</span></span>

### <a name="sio_cpu_affinity-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-250">SIO_CPU_AFFINITY (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-250">SIO_CPU_AFFINITY (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-251">Active le partage de port et la parallélisation des indications de réception.</span><span class="sxs-lookup"><span data-stu-id="ca13c-251">Enables port sharing and receive indication parallelization.</span></span> <span data-ttu-id="ca13c-252">Lorsque votre application utilise cette option de socket pour associer des sockets à différents processeurs, puis lie les sockets à la même adresse, les indications de réception sont distribuées sur les sockets en fonction du hachage RSS (Receive Side Scaling).</span><span class="sxs-lookup"><span data-stu-id="ca13c-252">When your application uses this socket option to associate sockets to different processors, and then binds the sockets to the same address, receive indications will be distributed across the sockets based on Receive Side Scaling (RSS) hash.</span></span> <span data-ttu-id="ca13c-253">Les paramètres RSS ne changent pas. par conséquent, tout flux donné (point de terminaison local, paire de point de terminaison distant) sera toujours indiqué sur le même processeur.</span><span class="sxs-lookup"><span data-stu-id="ca13c-253">The RSS settings don't change, so any given flow (local endpoint, remote endpoint pair) will always be indicated on the same processor.</span></span> <span data-ttu-id="ca13c-254">Par conséquent, tous les paquets appartenant à un Flow donné seront signalés au même socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-254">As a result, all packets belonging to a given flow will be indicated to the same socket.</span></span> <span data-ttu-id="ca13c-255">Cette IOCTL doit être appelée avant la liaison, sinon WSAEINVAL est retourné.</span><span class="sxs-lookup"><span data-stu-id="ca13c-255">This IOCTL must be called prior to bind, otherwise WSAEINVAL will be returned.</span></span> <span data-ttu-id="ca13c-256">La mémoire tampon d’entrée est un index de processeur (de base 0) de type USHORT.</span><span class="sxs-lookup"><span data-stu-id="ca13c-256">The input buffer is a processor index (0-based) of type USHORT.</span></span> <span data-ttu-id="ca13c-257">L’IOCTL est incompatible avec SO_REUSEADDR et SO_REUSE_MULTICASTPORT.</span><span class="sxs-lookup"><span data-stu-id="ca13c-257">The IOCTL is incompatible with SO_REUSEADDR and SO_REUSE_MULTICASTPORT.</span></span> <span data-ttu-id="ca13c-258">Pris en charge uniquement pour les sockets UDP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-258">Only supported for UDP sockets.</span></span>

> [!NOTE]
> <span data-ttu-id="ca13c-259">Si vous ciblez la version 10.0.19041.0 (Windows 10, version 2004) du SDK Windows, utilisez la valeur `0x98000015` au lieu du nom **SIO_CPU_AFFINITY**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-259">If you're targeting version 10.0.19041.0 (Windows 10, version 2004) of the Windows SDK, then use the value `0x98000015` instead of the name **SIO_CPU_AFFINITY**.</span></span>

### <a name="sio_enable_circular_queueing-opcode-setting-v-t1"></a><span data-ttu-id="ca13c-260">SIO \_ activer \_ la \_ file d’attente circulaire (paramètre opcode : V, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-260">SIO\_ENABLE\_CIRCULAR\_QUEUEING (opcode setting: V, T==1)</span></span>

<span data-ttu-id="ca13c-261">Indique au fournisseur de services orienté message sous-jacent qu’un message nouvellement arrivé ne doit jamais être supprimé en raison d’un dépassement de capacité de la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="ca13c-261">Indicates to the underlying message-oriented service provider that a newly arrived message should never be dropped because of a buffer queue overflow.</span></span> <span data-ttu-id="ca13c-262">Au lieu de cela, le message le plus ancien de la file d’attente doit être éliminé afin de prendre en compte le message nouvellement arrivé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-262">Instead, the oldest message in the queue should be eliminated in order to accommodate the newly arrived message.</span></span> <span data-ttu-id="ca13c-263">Aucune mémoire tampon d’entrée et de sortie n’est requise.</span><span class="sxs-lookup"><span data-stu-id="ca13c-263">No input and output buffers are required.</span></span> <span data-ttu-id="ca13c-264">Notez que cette IOCTL n’est valide que pour les sockets associés à des protocoles non fiables et orientés message.</span><span class="sxs-lookup"><span data-stu-id="ca13c-264">Note that this IOCTL is only valid for sockets associated with unreliable, message-oriented protocols.</span></span> <span data-ttu-id="ca13c-265">Le code d’erreur [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) est indiqué pour les fournisseurs de services qui ne prennent pas en charge cette ioctl.</span><span class="sxs-lookup"><span data-stu-id="ca13c-265">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_find_route-opcode-setting-o-t1"></a><span data-ttu-id="ca13c-266">SIO \_ Rechercher l' \_ itinéraire (paramètre opcode : O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-266">SIO\_FIND\_ROUTE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ca13c-267">Une fois émis, cette IOCTL demande que l’itinéraire vers l’adresse distante spécifiée comme [**sockaddr**](sockaddr-2.md) dans la mémoire tampon d’entrée soit détecté.</span><span class="sxs-lookup"><span data-stu-id="ca13c-267">When issued, this IOCTL requests that the route to the remote address specified as a [**sockaddr**](sockaddr-2.md) in the input buffer be discovered.</span></span> <span data-ttu-id="ca13c-268">Si l’adresse existe déjà dans le cache local, son entrée est invalidée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-268">If the address already exists in the local cache, its entry is invalidated.</span></span> <span data-ttu-id="ca13c-269">Dans le cas de IPX de Novell, cet appel initie un GetLocalTarget IPX (GLT), qui interroge le réseau pour l’adresse distante donnée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-269">In the case of Novell's IPX, this call initiates an IPX GetLocalTarget (GLT), which queries the network for the given remote address.</span></span>

### <a name="sio_flush-opcode-setting-v-t1"></a><span data-ttu-id="ca13c-270">SIO \_ Flush (paramètre opcode : V, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-270">SIO\_FLUSH (opcode setting: V, T==1)</span></span>

<span data-ttu-id="ca13c-271">Ignore le contenu actuel de la file d’attente d’envoi associée à ce Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-271">Discards current contents of the sending queue associated with this socket.</span></span> <span data-ttu-id="ca13c-272">Aucune mémoire tampon d’entrée et de sortie n’est requise.</span><span class="sxs-lookup"><span data-stu-id="ca13c-272">No input and output buffers are required.</span></span> <span data-ttu-id="ca13c-273">Le code d’erreur [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) est indiqué pour les fournisseurs de services qui ne prennent pas en charge cette ioctl.</span><span class="sxs-lookup"><span data-stu-id="ca13c-273">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_get_broadcast_address-opcode-setting-o-t1"></a><span data-ttu-id="ca13c-274">SIO \_ Obtient \_ l' \_ adresse de diffusion (paramètre opcode : O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-274">SIO\_GET\_BROADCAST\_ADDRESS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ca13c-275">Cette IOCTL remplit la mémoire tampon de sortie avec une structure [sockaddr](sockaddr-2.md) contenant une adresse de diffusion appropriée pour une utilisation avec [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto) /  [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span><span class="sxs-lookup"><span data-stu-id="ca13c-275">This IOCTL fills the output buffer with a [sockaddr](sockaddr-2.md) structure containing a suitable broadcast address for use with [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto)/ [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span></span> <span data-ttu-id="ca13c-276">Cette IOCTL n’est pas prise en charge pour les sockets IPv6 et retourne le code d’erreur [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-276">This IOCTL is not supported for IPv6 sockets and returns the [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code.</span></span>

### <a name="sio_get_extension_function_pointer-opcode-setting-o-i-t1"></a><span data-ttu-id="ca13c-277">SIO \_ Obtient \_ le \_ pointeur de fonction d’extension \_ (paramètre opcode : O, I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-277">SIO\_GET\_EXTENSION\_FUNCTION\_POINTER (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="ca13c-278">Récupère un pointeur vers la fonction d’extension spécifiée prise en charge par le fournisseur de services associé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-278">Retrieve a pointer to the specified extension function supported by the associated service provider.</span></span> <span data-ttu-id="ca13c-279">La mémoire tampon d’entrée contient un identificateur global unique (**GUID**) dont la valeur identifie la fonction d’extension en question.</span><span class="sxs-lookup"><span data-stu-id="ca13c-279">The input buffer contains a globally unique identifier (**GUID**) whose value identifies the extension function in question.</span></span> <span data-ttu-id="ca13c-280">Le pointeur vers la fonction souhaitée est retourné dans la mémoire tampon de sortie.</span><span class="sxs-lookup"><span data-stu-id="ca13c-280">The pointer to the desired function is returned in the output buffer.</span></span> <span data-ttu-id="ca13c-281">Les identificateurs de fonction d’extension sont établis par les fournisseurs de fournisseurs de services et doivent être inclus dans la documentation du fournisseur qui décrit les fonctionnalités et la sémantique des fonctions d’extension.</span><span class="sxs-lookup"><span data-stu-id="ca13c-281">Extension function identifiers are established by service provider vendors and should be included in vendor documentation that describes extension function capabilities and semantics.</span></span>

<span data-ttu-id="ca13c-282">Les valeurs GUID pour les fonctions d’extension prises en charge par le fournisseur de services TCP/IP Windows sont définies dans le fichier d’en-tête *mswsock. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-282">The GUID values for extension functions supported by the Windows TCP/IP service provider are defined in the *Mswsock.h* header file.</span></span> <span data-ttu-id="ca13c-283">La valeur possible pour ces GUID est la suivante :</span><span class="sxs-lookup"><span data-stu-id="ca13c-283">The possible value for these GUIDs are as follows:</span></span>

| <span data-ttu-id="ca13c-284">Terme</span><span class="sxs-lookup"><span data-stu-id="ca13c-284">Term</span></span>                                                                                                                | <span data-ttu-id="ca13c-285">Description</span><span class="sxs-lookup"><span data-stu-id="ca13c-285">Description</span></span>                                                                               |
|-|-|
| <span data-ttu-id="ca13c-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID \_ accepted</span><span class="sxs-lookup"><span data-stu-id="ca13c-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID\_ACCEPTEX</span></span><br/>                                     | <span data-ttu-id="ca13c-287">Fonction d’extension [**accepted**](/windows/win32/api/mswsock/nf-mswsock-acceptex) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-287">The [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) extension function.</span></span><br/>                         |
| <span data-ttu-id="ca13c-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID \_ CONNECTEX</span><span class="sxs-lookup"><span data-stu-id="ca13c-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID\_CONNECTEX</span></span><br/>                                  | <span data-ttu-id="ca13c-289">Fonction d’extension [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-289">The [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex) extension function.</span></span> <br/>                      |
| <span data-ttu-id="ca13c-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID \_ DISCONNECTEX</span><span class="sxs-lookup"><span data-stu-id="ca13c-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID\_DISCONNECTEX</span></span><br/>                         | <span data-ttu-id="ca13c-291">Fonction d’extension [**DisconnectEx**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-291">The [**DisconnectEx**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85)) extension function.</span></span> <br/>                |
| <span data-ttu-id="ca13c-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID \_ GETACCEPTEXSOCKADDRS</span><span class="sxs-lookup"><span data-stu-id="ca13c-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID\_GETACCEPTEXSOCKADDRS</span></span><br/> | <span data-ttu-id="ca13c-293">Fonction d’extension [**GetAcceptExSockaddrs**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-293">The [**GetAcceptExSockaddrs**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs) extension function.</span></span><br/> |
| <span data-ttu-id="ca13c-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>WSAID \_ TRANSMITFILE</span><span class="sxs-lookup"><span data-stu-id="ca13c-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>WSAID\_TRANSMITFILE</span></span><br/>                         | <span data-ttu-id="ca13c-295">Fonction d’extension [**TransmitFile**](/windows/win32/api/mswsock/nf-mswsock-transmitfile) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-295">The [**TransmitFile**](/windows/win32/api/mswsock/nf-mswsock-transmitfile) extension function.</span></span><br/>                 |
| <span data-ttu-id="ca13c-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>WSAID \_ TRANSMITPACKETS</span><span class="sxs-lookup"><span data-stu-id="ca13c-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>WSAID\_TRANSMITPACKETS</span></span><br/>                | <span data-ttu-id="ca13c-297">Fonction d’extension [**TransmitPackets**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-297">The [**TransmitPackets**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) extension function.</span></span> <br/>          |
| <span data-ttu-id="ca13c-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID \_ WSARECVMSG</span><span class="sxs-lookup"><span data-stu-id="ca13c-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID\_WSARECVMSG</span></span><br/>                               | <span data-ttu-id="ca13c-299">Fonction d’extension [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-299">The [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) extension function.</span></span><br/>                     |
| <span data-ttu-id="ca13c-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID \_ WSASENDMSG</span><span class="sxs-lookup"><span data-stu-id="ca13c-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID\_WSASENDMSG</span></span><br/>                               | <span data-ttu-id="ca13c-301">Fonction d’extension [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-301">The [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) extension function.</span></span> <br/>                      |

### <a name="sio_get_group_qos-opcode-setting-o-i-t1"></a><span data-ttu-id="ca13c-302">SIO \_ obtient le \_ groupe \_ QoS (paramètre opcode : O, I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-302">SIO\_GET\_GROUP\_QOS (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="ca13c-303">Réservé pour une utilisation ultérieure avec les sockets.</span><span class="sxs-lookup"><span data-stu-id="ca13c-303">Reserved for future use with sockets.</span></span>

<span data-ttu-id="ca13c-304">Récupérez la structure [**QoS**](/windows/win32/api/winsock2/ns-winsock2-qos) associée au groupe de sockets auquel appartient ce Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-304">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket group to which this socket belongs.</span></span> <span data-ttu-id="ca13c-305">La mémoire tampon d’entrée est facultative.</span><span class="sxs-lookup"><span data-stu-id="ca13c-305">The input buffer is optional.</span></span> <span data-ttu-id="ca13c-306">Certains protocoles (par exemple, RSVP) autorisent l’utilisation de la mémoire tampon d’entrée pour qualifier une demande de qualité de service.</span><span class="sxs-lookup"><span data-stu-id="ca13c-306">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="ca13c-307">La structure **QoS** sera copiée dans la mémoire tampon de sortie.</span><span class="sxs-lookup"><span data-stu-id="ca13c-307">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="ca13c-308">Si ce socket n’appartient pas à un groupe de sockets approprié, les membres **SendingFlowspec** et **ReceivingFlowspec** de la structure **QoS** retournée ont la valeur **null**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-308">If this socket does not belong to an appropriate socket group, the **SendingFlowspec** and **ReceivingFlowspec** members of the returned **QOS** structure are set to **NULL**.</span></span> <span data-ttu-id="ca13c-309">Le code d’erreur [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) est indiqué pour les fournisseurs de services qui ne prennent pas en charge la qualité de service.</span><span class="sxs-lookup"><span data-stu-id="ca13c-309">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_get_interface_list-opcode-setting-o-t0"></a><span data-ttu-id="ca13c-310">SIO \_ obtient la \_ liste d’interfaces \_ (paramètre opcode : O, T = = 0)</span><span class="sxs-lookup"><span data-stu-id="ca13c-310">SIO\_GET\_INTERFACE\_LIST (opcode setting: O, T==0)</span></span>

<span data-ttu-id="ca13c-311">Retourne une liste d’interfaces IP configurées et leurs paramètres sous la forme d’un tableau de structures d' [**\_ informations d’interface**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-311">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures.</span></span>

> [!Note]  
> <span data-ttu-id="ca13c-312">La prise en charge de cette commande est obligatoire pour les fournisseurs de services TCP/IP compatibles Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="ca13c-312">Support of this command is mandatory for Windows Sockets 2-compliant TCP/IP service providers.</span></span>

<span data-ttu-id="ca13c-313">Le paramètre *lpvOutBuffer* pointe vers la mémoire tampon dans laquelle stocker les informations sur les interfaces sous la forme d’un tableau de structures d' [**\_ informations d’interface**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) pour les adresses IP de monodiffusion sur les interfaces.</span><span class="sxs-lookup"><span data-stu-id="ca13c-313">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures for unicast IP addresses on the interfaces.</span></span> <span data-ttu-id="ca13c-314">Le paramètre *cbOutBuffer* spécifie la longueur de la mémoire tampon de sortie.</span><span class="sxs-lookup"><span data-stu-id="ca13c-314">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="ca13c-315">Le nombre d’interfaces retournées (nombre de structures retournées dans la mémoire tampon vers laquelle pointe le paramètre *lpvOutBuffer* ) peut être déterminé en fonction de la longueur réelle de la mémoire tampon de sortie retournée dans le paramètre *lpcbBytesReturned* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-315">The number of interfaces returned (number of structures returned in the buffer pointed to by *lpvOutBuffer* parameter) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="ca13c-316">Si la fonction [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) est appelée avec **la \_ \_ \_ liste d’interfaces d’extraction SIO** et que le membre de niveau du paramètre du socket n’est pas défini en tant qu' **\_ adresse IP IPPROTO**, **WSAEINVAL** est retourné. </span><span class="sxs-lookup"><span data-stu-id="ca13c-316">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function is called with **SIO\_GET\_INTERFACE\_LIST** and the level member of the socket *s* parameter is not defined as **IPPROTO\_IP**, **WSAEINVAL** is returned.</span></span> <span data-ttu-id="ca13c-317">Un appel à la fonction **WSAIoctl** avec **SIO \_ obtenir l' \_ interface \_ List** retourne **WSAEFAULT** si le paramètre *cbOutBuffer* qui spécifie la longueur de la mémoire tampon de sortie est trop petit pour recevoir la liste des interfaces configurées.</span><span class="sxs-lookup"><span data-stu-id="ca13c-317">A call to the **WSAIoctl** function with **SIO\_GET\_INTERFACE\_LIST** returns **WSAEFAULT** if the *cbOutBuffer* parameter that specifies the length of the output buffer is too small ro receive the list of configured interfaces.</span></span>

<span data-ttu-id="ca13c-318">**SIO \_ La \_ \_ liste des interfaces de récupération** est prise en charge sur Windows Me/98 et Windows NT 4,0 avec SP4 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-318">**SIO\_GET\_INTERFACE\_LIST** is supported on Windows Me/98 and Windows NT 4.0 with SP4 and later.</span></span>

### <a name="sio_get_interface_list_ex-opcode-setting-o-t0"></a><span data-ttu-id="ca13c-319">SIO \_ obtient la \_ liste des interfaces par \_ \_ exemple (paramètre opcode : O, T = = 0)</span><span class="sxs-lookup"><span data-stu-id="ca13c-319">SIO\_GET\_INTERFACE\_LIST\_EX (opcode setting: O, T==0)</span></span>

<span data-ttu-id="ca13c-320">Réservé pour une utilisation ultérieure avec les sockets.</span><span class="sxs-lookup"><span data-stu-id="ca13c-320">Reserved for future use with sockets.</span></span>

<span data-ttu-id="ca13c-321">Retourne une liste d’interfaces IP configurées et leurs paramètres sous la forme d’un tableau de structures d' [**informations d’interface \_ \_ ex**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-321">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures.</span></span>

<span data-ttu-id="ca13c-322">Le paramètre *lpvOutBuffer* pointe vers la mémoire tampon dans laquelle stocker les informations sur les interfaces sous la forme d’un tableau d’informations d' [**interface \_ \_ ex**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures pour les adresses IP de monodiffusion sur l’interface.</span><span class="sxs-lookup"><span data-stu-id="ca13c-322">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures for unicast IP addresses on the interface.</span></span> <span data-ttu-id="ca13c-323">Le paramètre *cbOutBuffer* spécifie la longueur de la mémoire tampon de sortie.</span><span class="sxs-lookup"><span data-stu-id="ca13c-323">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="ca13c-324">Le nombre d’interfaces retournées (nombre de structures retournées dans *lpvOutBuffer*) peut être déterminé en fonction de la longueur réelle de la mémoire tampon de sortie retournée dans le paramètre *lpcbBytesReturned* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-324">The number of interfaces returned (number of structures returned in *lpvOutBuffer*) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="ca13c-325">**SIO \_ L’accès à la \_ liste d’interfaces par \_ \_ exemple** n’est actuellement pas pris en charge sur Windows.</span><span class="sxs-lookup"><span data-stu-id="ca13c-325">**SIO\_GET\_INTERFACE\_LIST\_EX** is not currently supported on Windows.</span></span>

### <a name="sio_get_qos-opcode-setting-o-t1"></a><span data-ttu-id="ca13c-326">SIO \_ Obtient \_ QoS (paramètre opcode : O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-326">SIO\_GET\_QOS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ca13c-327">Réservé pour une utilisation ultérieure avec les sockets.</span><span class="sxs-lookup"><span data-stu-id="ca13c-327">Reserved for future use with sockets.</span></span> <span data-ttu-id="ca13c-328">Récupérez la structure [**QoS**](/windows/win32/api/winsock2/ns-winsock2-qos) associée au socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-328">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket.</span></span> <span data-ttu-id="ca13c-329">La mémoire tampon d’entrée est facultative.</span><span class="sxs-lookup"><span data-stu-id="ca13c-329">The input buffer is optional.</span></span> <span data-ttu-id="ca13c-330">Certains protocoles (par exemple, RSVP) autorisent l’utilisation de la mémoire tampon d’entrée pour qualifier une demande de qualité de service.</span><span class="sxs-lookup"><span data-stu-id="ca13c-330">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="ca13c-331">La structure **QoS** sera copiée dans la mémoire tampon de sortie.</span><span class="sxs-lookup"><span data-stu-id="ca13c-331">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="ca13c-332">La taille de la mémoire tampon de sortie doit être suffisamment grande pour pouvoir contenir la structure de **QoS** complète.</span><span class="sxs-lookup"><span data-stu-id="ca13c-332">The output buffer must be sized large enough to be able to contain the full **QOS** structure.</span></span> <span data-ttu-id="ca13c-333">Le code d’erreur [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) est indiqué pour les fournisseurs de services qui ne prennent pas en charge la qualité de service.</span><span class="sxs-lookup"><span data-stu-id="ca13c-333">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

<span data-ttu-id="ca13c-334">Un expéditeur ne peut pas appeler **SIO \_ obtenir \_ QoS** tant que le socket n’est pas connecté.</span><span class="sxs-lookup"><span data-stu-id="ca13c-334">A sender may not call **SIO\_GET\_QOS** until the socket is connected.</span></span>

<span data-ttu-id="ca13c-335">Un récepteur peut appeler **SIO \_ obtenir \_ QoS** dès qu’il est lié.</span><span class="sxs-lookup"><span data-stu-id="ca13c-335">A receiver may call **SIO\_GET\_QOS** as soon as it is bound.</span></span>

### <a name="sio_ideal_send_backlog_change-opcode-setting-v-t0"></a><span data-ttu-id="ca13c-336">SIO \_ la \_ \_ modification de BACKLOG d’envoi idéale \_ (paramètre opcode : V, T = = 0)</span><span class="sxs-lookup"><span data-stu-id="ca13c-336">SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE (opcode setting: V, T==0)</span></span>

<span data-ttu-id="ca13c-337">Avertit une application lorsque la valeur d’un backlog d’envoi (ISB) idéal change pour la connexion sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="ca13c-337">Notifies an application when the ideal send backlog (ISB) value changes for the underlying connection.</span></span>

<span data-ttu-id="ca13c-338">Lors de l’envoi de données via une connexion TCP à l’aide de Windows Sockets, il est important de conserver une quantité suffisante de données en attente (envoyées mais non acceptées) dans TCP afin d’obtenir le débit le plus élevé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-338">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="ca13c-339">La valeur idéale pour la quantité de données en suspens pour obtenir le meilleur débit pour la connexion TCP est appelée taille du backlog d’envoi (ISB) idéal.</span><span class="sxs-lookup"><span data-stu-id="ca13c-339">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="ca13c-340">La valeur ISB est une fonction du produit Bandwidth-Delay de la connexion TCP et de la fenêtre de réception publiée du récepteur (et en partie la quantité de congestion dans le réseau).</span><span class="sxs-lookup"><span data-stu-id="ca13c-340">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="ca13c-341">La valeur ISB par connexion est disponible à partir de l’implémentation du protocole TCP dans Windows Server 2008, Windows Vista avec SP1 et les versions ultérieures du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="ca13c-341">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span> <span data-ttu-id="ca13c-342">L’IOCTL **SIO de modification de \_ BACKLOG d' \_ envoi \_ \_ idéale** peut être utilisée par une application pour recevoir une notification lorsque la valeur ISB change de manière dynamique pour une connexion.</span><span class="sxs-lookup"><span data-stu-id="ca13c-342">The **SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE** IOCTL can be used by an application to get notification when the ISB value changes dynamically for a connection.</span></span>

<span data-ttu-id="ca13c-343">Pour plus d’informations, consultez la référence de [**\_ modification du BACKLOG d' \_ envoi \_ \_ SIO idéale**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-343">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) reference.</span></span>

<span data-ttu-id="ca13c-344">[**SIO \_ La \_ \_ \_ modification de la file d’attente d’envoi idéale**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) est prise en charge sur Windows Server 2008, Windows Vista avec SP1 et les versions ultérieures du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="ca13c-344">[**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_ideal_send_backlog_query-opcode-setting-o-t0"></a><span data-ttu-id="ca13c-345">SIO \_ \_ \_ requête de BACKLOG d’envoi idéale \_ (paramètre opcode : O, T = = 0)</span><span class="sxs-lookup"><span data-stu-id="ca13c-345">SIO\_IDEAL\_SEND\_BACKLOG\_QUERY (opcode setting: O, T==0)</span></span>

<span data-ttu-id="ca13c-346">Récupère la valeur d’un backlog d’envoi idéal pour la connexion sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="ca13c-346">Retrieves the ideal send backlog (ISB) value for the underlying connection.</span></span>

<span data-ttu-id="ca13c-347">Lors de l’envoi de données via une connexion TCP à l’aide de Windows Sockets, il est important de conserver une quantité suffisante de données en attente (envoyées mais non acceptées) dans TCP afin d’obtenir le débit le plus élevé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-347">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="ca13c-348">La valeur idéale pour la quantité de données en suspens pour obtenir le meilleur débit pour la connexion TCP est appelée taille du backlog d’envoi (ISB) idéal.</span><span class="sxs-lookup"><span data-stu-id="ca13c-348">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="ca13c-349">La valeur ISB est une fonction du produit Bandwidth-Delay de la connexion TCP et de la fenêtre de réception publiée du récepteur (et en partie la quantité de congestion dans le réseau).</span><span class="sxs-lookup"><span data-stu-id="ca13c-349">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="ca13c-350">La valeur ISB par connexion est disponible à partir de l’implémentation du protocole TCP dans Windows Server 2008 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-350">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008 and later.</span></span> <span data-ttu-id="ca13c-351">L’IOCTL d’une **\_ requête de BACKLOG d' \_ envoi \_ \_ SIO idéale** peut être utilisée par une application pour interroger la valeur ISB pour une connexion.</span><span class="sxs-lookup"><span data-stu-id="ca13c-351">The **SIO\_IDEAL\_SEND\_BACKLOG\_QUERY** IOCTL can be used by an application to query the ISB value for a connection.</span></span>

<span data-ttu-id="ca13c-352">Pour plus d’informations, consultez la référence de [**\_ requête de journal des travaux en \_ souffrance d’envoi \_ \_ SIO idéale**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-352">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) reference.</span></span>

<span data-ttu-id="ca13c-353">[**SIO \_ La \_ \_ \_ requête d’envoi de BACKLOG idéale**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) est prise en charge sur Windows Server 2008, Windows Vista avec SP1 et les versions ultérieures du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="ca13c-353">[**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_keepalive_vals-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-354">SIO \_ KeepAlive \_ Vals (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-354">SIO\_KEEPALIVE\_VALS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-355">Active ou désactive le paramètre par connexion de l’option TCP **Keep-Alive** qui spécifie le délai d’expiration et l’intervalle de conservation TCP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-355">Enables or disables the per-connection setting of the TCP **keep-alive** option which specifies the TCP keep-alive timeout and interval.</span></span> <span data-ttu-id="ca13c-356">Pour plus d’informations sur l’option Keep-Alive, consultez la section 4.2.3.6 sur la *Configuration requise pour les hôtes Internet — couches de communication* spécifiées dans le document RFC 1122 disponible sur le [site Web](https://www.ietf.org/rfc/rfc1122.txt)de l’IETF.</span><span class="sxs-lookup"><span data-stu-id="ca13c-356">For more information on the keep-alive option, see section 4.2.3.6 on the *Requirements for Internet Hosts—Communication Layers* specified in RFC 1122 available at the [IETF website](https://www.ietf.org/rfc/rfc1122.txt).</span></span> <span data-ttu-id="ca13c-357">(Cette ressource peut uniquement être disponible en anglais.)</span><span class="sxs-lookup"><span data-stu-id="ca13c-357">(This resource may only be available in English.)</span></span>

<span data-ttu-id="ca13c-358">**SIO \_ KEEPALIVE \_ Vals** peut être utilisé pour activer ou désactiver les sondes KeepAlive et définir le délai d’expiration et l’intervalle de maintien de l’activité.</span><span class="sxs-lookup"><span data-stu-id="ca13c-358">**SIO\_KEEPALIVE\_VALS** can be used to enable or disable keep-alive probes and set the keep-alive timeout and interval.</span></span> <span data-ttu-id="ca13c-359">Le délai d’attente Keep-Alive spécifie le délai d’attente, en millisecondes, sans activité jusqu’à l’envoi du premier paquet Keep-Alive.</span><span class="sxs-lookup"><span data-stu-id="ca13c-359">The keep-alive timeout specifies the timeout, in milliseconds, with no activity until the first keep-alive packet is sent.</span></span> <span data-ttu-id="ca13c-360">L’intervalle Keep-Alive spécifie l’intervalle, en millisecondes, entre l’envoi des paquets Keep-Alive successifs si aucun accusé de réception n’est reçu.</span><span class="sxs-lookup"><span data-stu-id="ca13c-360">The keep-alive interval specifies the interval, in milliseconds, between when successive keep-alive packets are sent if no acknowledgement is received.</span></span>

<span data-ttu-id="ca13c-361">L’option [**so \_ KeepAlive**](so-keepalive.md) , qui est l’une des [options de \_ Socket](sol-socket-socket-options.md)de socket sol, peut également être utilisée pour activer ou désactiver le protocole TCP Keep-Alive sur une connexion, ainsi que pour interroger l’état actuel de cette option.</span><span class="sxs-lookup"><span data-stu-id="ca13c-361">The [**SO\_KEEPALIVE**](so-keepalive.md) option, which is one of the [SOL\_SOCKET Socket Options](sol-socket-socket-options.md), can also be used to enable or disable the TCP keep-alive on a connection, as well as query the current state of this option.</span></span> <span data-ttu-id="ca13c-362">Pour demander si TCP Keep-Alive est activé sur un socket, la fonction [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) peut être appelée avec l’option **so \_ KeepAlive** .</span><span class="sxs-lookup"><span data-stu-id="ca13c-362">To query whether TCP keep-alive is enabled on a socket, the [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) function can be called with the **SO\_KEEPALIVE** option.</span></span> <span data-ttu-id="ca13c-363">Pour activer ou désactiver le protocole TCP Keep-Alive, la fonction [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) peut être appelée avec l’option [**so \_ KeepAlive**](so-keepalive.md) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-363">To enable or disable TCP keep-alive, the [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function can be called with the [**SO\_KEEPALIVE**](so-keepalive.md) option.</span></span> <span data-ttu-id="ca13c-364">Si TCP Keep-Alive est activé avec **\_ KeepAlive**, les paramètres TCP par défaut sont utilisés pour le délai d’expiration et l’intervalle de conservation, sauf si ces valeurs ont été modifiées à l’aide de **SIO \_ KeepAlive \_ Vals**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-364">If TCP keep-alive is enabled with **SO\_KEEPALIVE**, then the default TCP settings are used for keep-alive timeout and interval unless these values have been changed using **SIO\_KEEPALIVE\_VALS**.</span></span>

<span data-ttu-id="ca13c-365">Pour plus d’informations, consultez la référence [**SIO \_ KeepAlive \_ Vals**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-365">For more detailed information, see the [**SIO\_KEEPALIVE\_VALS**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85)) reference.</span></span> <span data-ttu-id="ca13c-366">**SIO \_ KEEPALIVE \_ Vals** est pris en charge sur Windows 2000 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-366">**SIO\_KEEPALIVE\_VALS** is supported on Windows 2000 and later.</span></span>

### <a name="sio_loopback_fast_path-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-367">\_ \_ \_ Chemin d’accès rapide de bouclage SIO (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-367">SIO\_LOOPBACK\_FAST\_PATH (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-368">Configure un socket TCP pour une latence plus faible et des opérations plus rapides sur l’interface de bouclage.</span><span class="sxs-lookup"><span data-stu-id="ca13c-368">Configures a TCP socket for lower latency and faster operations on the loopback interface.</span></span> <span data-ttu-id="ca13c-369">Cette IOCTL demande que la pile TCP/IP utilise un chemin d’accès rapide spécial pour les opérations de bouclage sur ce Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-369">This IOCTL requests that the TCP/IP stack uses a special fast path for loopback operations on this socket.</span></span> <span data-ttu-id="ca13c-370">L’IOCTL du [**\_ \_ \_ chemin d’accès rapide de bouclage SIO**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) peut être utilisé uniquement avec les sockets TCP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-370">The [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) IOCTL can be used only with TCP sockets.</span></span> <span data-ttu-id="ca13c-371">Cette IOCTL doit être utilisée des deux côtés de la session de bouclage.</span><span class="sxs-lookup"><span data-stu-id="ca13c-371">This IOCTL must be used on both sides of the loopback session.</span></span> <span data-ttu-id="ca13c-372">Le chemin d’accès rapide de bouclage TCP est pris en charge à l’aide de l’interface de bouclage IPv4 ou IPv6.</span><span class="sxs-lookup"><span data-stu-id="ca13c-372">The TCP loopback fast path is supported using either the IPv4 or IPv6 loopback interface.</span></span> <span data-ttu-id="ca13c-373">Par défaut, **le \_ \_ \_ chemin d’accès rapide de bouclage SIO** est désactivé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-373">By default, **SIO\_LOOPBACK\_FAST\_PATH** is disabled.</span></span>

<span data-ttu-id="ca13c-374">Pour plus d’informations, consultez la référence sur le [**\_ \_ \_ chemin d’accès rapide de bouclage SIO**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-374">For more detailed information, see the [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) reference.</span></span> <span data-ttu-id="ca13c-375">**SIO \_ Le \_ \_ chemin d’accès rapide de bouclage** est pris en charge sur Windows 8, Windows Server 2012 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-375">**SIO\_LOOPBACK\_FAST\_PATH** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_multipoint_loopback-opcode-setting-v-t1"></a><span data-ttu-id="ca13c-376">SIO \_ multipoint \_ loopback (paramètre opcode : V, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-376">SIO\_MULTIPOINT\_LOOPBACK (opcode setting: V, T==1)</span></span>

<span data-ttu-id="ca13c-377">Contrôle si les données envoyées par une application sur l’ordinateur local (pas nécessairement par le même socket) dans une session de multidiffusion sont reçues par un socket joint au groupe de destination de multidiffusion sur l’interface de bouclage.</span><span class="sxs-lookup"><span data-stu-id="ca13c-377">Controls whether data sent by an application on the local computer (not necessarily by the same socket) in a multicast session will be received by a socket joined to the multicast destination group on the loopback interface.</span></span> <span data-ttu-id="ca13c-378">La valeur **true** entraîne la remise des données de multidiffusion envoyées par une application sur l’ordinateur local à un socket d’écoute sur l’interface de bouclage.</span><span class="sxs-lookup"><span data-stu-id="ca13c-378">A value of **TRUE** causes multicast data sent by an application on the local computer to be delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="ca13c-379">La valeur **false** empêche la remise des données de multidiffusion envoyées par une application sur l’ordinateur local à un socket d’écoute sur l’interface de bouclage.</span><span class="sxs-lookup"><span data-stu-id="ca13c-379">A value of **FALSE** prevents multicast data sent by an application on the local computer from being delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="ca13c-380">Par défaut, **le \_ \_ bouclage multipoint SIO** est activé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-380">By default, **SIO\_MULTIPOINT\_LOOPBACK** is enabled.</span></span>

### <a name="sio_multicast_scope-opcode-setting-i-t1"></a><span data-ttu-id="ca13c-381">\_Étendue de multidiffusion SIO \_ (paramètre opcode : I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-381">SIO\_MULTICAST\_SCOPE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ca13c-382">Spécifie la portée sur laquelle les transmissions par multidiffusion auront lieu.</span><span class="sxs-lookup"><span data-stu-id="ca13c-382">Specifies the scope over which multicast transmissions will occur.</span></span> <span data-ttu-id="ca13c-383">L’étendue est définie comme le nombre de segments de réseau routé à couvrir.</span><span class="sxs-lookup"><span data-stu-id="ca13c-383">Scope is defined as the number of routed network segments to be covered.</span></span> <span data-ttu-id="ca13c-384">Une étendue égale à zéro indique que la transmission par multidiffusion n’est pas placée sur le câble, mais peut être diffusée sur les sockets au sein de l’hôte local.</span><span class="sxs-lookup"><span data-stu-id="ca13c-384">A scope of zero would indicate that the multicast transmission would not be placed on the wire but could be disseminated across sockets within the local host.</span></span> <span data-ttu-id="ca13c-385">Une valeur d’étendue de 1 (valeur par défaut) indique que la transmission sera placée sur le câble, mais ne franchira pas de routeurs.</span><span class="sxs-lookup"><span data-stu-id="ca13c-385">A scope value of one (the default) indicates that the transmission will be placed on the wire, but will not cross any routers.</span></span> <span data-ttu-id="ca13c-386">Des valeurs de portée supérieures déterminent le nombre de routeurs qui peuvent être franchis.</span><span class="sxs-lookup"><span data-stu-id="ca13c-386">Higher scope values determine the number of routers that can be crossed.</span></span> <span data-ttu-id="ca13c-387">Notez que cela correspond au paramètre de durée de vie (TTL) dans la multidiffusion IP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-387">Note that this corresponds to the time-to-live (TTL) parameter in IP multicasting.</span></span> <span data-ttu-id="ca13c-388">Par défaut, l’étendue est 1.</span><span class="sxs-lookup"><span data-stu-id="ca13c-388">By default, scope is 1.</span></span>

### <a name="sio_query_rss_processor_info-opcode-setting-o-t1"></a><span data-ttu-id="ca13c-389">\_ \_ Informations sur le processeur RSS de la requête SIO \_ \_ (paramètre opcode : O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-389">SIO\_QUERY\_RSS\_PROCESSOR\_INFO (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ca13c-390">Interroge l’association entre un socket et un cœur de processeur RSS et un nœud NUMA.</span><span class="sxs-lookup"><span data-stu-id="ca13c-390">Queries the association between a socket and an RSS processor core and NUMA node.</span></span>

<span data-ttu-id="ca13c-391">Les [**informations IOCTL du \_ \_ \_ processeur \_ RSS de la requête SIO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) renvoient une structure d' [**\_ \_ affinité de processeur de socket**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) qui contient le [**\_ numéro de processeur**](/windows/win32/api/winnt/ns-winnt-processor_number) et l’ID de nœud NUMA.</span><span class="sxs-lookup"><span data-stu-id="ca13c-391">The [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL returns a [**SOCKET\_PROCESSOR\_AFFINITY**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) structure that contains the [**PROCESSOR\_NUMBER**](/windows/win32/api/winnt/ns-winnt-processor_number) and the NUMA node ID.</span></span> <span data-ttu-id="ca13c-392">La structure retournée du **\_ numéro de processeur** contient un numéro de groupe et un numéro de processeur relatif dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="ca13c-392">The returned **PROCESSOR\_NUMBER** structure contains a group number and relative processor number within the group.</span></span>

<span data-ttu-id="ca13c-393">Pour plus d’informations, consultez la [**référence \_ \_ \_ \_ informations sur le processeur RSS de la requête SIO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-393">For more detailed information, see the [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) reference.</span></span> <span data-ttu-id="ca13c-394">**SIO \_ Les \_ \_ \_ informations sur le processeur RSS** de la requête sont prises en charge sur Windows 8, Windows Server 2012 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-394">**SIO\_QUERY\_RSS\_PROCESSOR\_INFO** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_rss_scalability_info-opcode-setting-o-t3"></a><span data-ttu-id="ca13c-395">\_Informations d' \_ extensibilité du flux RSS des requêtes SIO \_ \_ (paramètre opcode : O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-395">SIO\_QUERY\_RSS\_SCALABILITY\_INFO (opcode setting: O, T==3)</span></span>

<span data-ttu-id="ca13c-396">Interroge les interfaces de déchargement pour la capacité de mise à l’échelle côté réception (RSS).</span><span class="sxs-lookup"><span data-stu-id="ca13c-396">Queries offload interfaces for receive-side scaling (RSS) capability.</span></span> <span data-ttu-id="ca13c-397">La structure d’arguments retournée pour les **\_ \_ \_ \_ informations d’extensibilité RSS des requêtes SIO** est spécifiée dans la structure d' **\_ \_ informations d’extensibilité RSS** définie dans le fichier d’en-tête *Mstcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-397">The argument structure returned for **SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is specified in the **RSS\_SCALABILITY\_INFO** structure defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="ca13c-398">Cette structure est définie comme suit :</span><span class="sxs-lookup"><span data-stu-id="ca13c-398">This structure is defined as follows:</span></span>

```cpp
// Scalability info for the transport
typedef struct _RSS_SCALABILITY_INFO {
   BOOLEAN RssEnabled;
} RSS_SCALABILITY_INFO, *PRSS_SCALABILITY_INFO;
```

<span data-ttu-id="ca13c-399">La valeur retournée dans le membre **RssEnabled** indique si RSS est activé sur au moins une interface.</span><span class="sxs-lookup"><span data-stu-id="ca13c-399">The value returned in the **RssEnabled** member indicates if RSS is enabled on at least one interface.</span></span>

<span data-ttu-id="ca13c-400">Si la mémoire tampon de sortie n’est pas assez grande pour la structure d' **\_ \_ informations d’extensibilité RSS** (le *cbOutBuffer* est inférieur à la taille d’une **\_ \_ information d’extensibilité RSS**) ou si le paramètre *lpvOutBuffer* est un pointeur **null** , une **\_ erreur de socket** est retournée comme résultat de cette IOCTL et [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retourne [WSAEINVAL](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ca13c-400">If the output buffer is not large enough for the **RSS\_SCALABILITY\_INFO** structure (the *cbOutBuffer* is less than the size of a **RSS\_SCALABILITY\_INFO**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ca13c-401">Dans une mise en réseau haut débit où plusieurs UC résident dans un seul système, la capacité de la pile de protocole réseau à évoluer correctement sur un système multi-PROCESSEURs est inhibée, car l’architecture de NDIS 5,1 et des versions antérieures limite le traitement de protocole à un seul processeur.</span><span class="sxs-lookup"><span data-stu-id="ca13c-401">In high-speed networking where multiple CPUs reside within a single system, the ability of the networking protocol stack to scale well on a multi-CPU system is inhibited because the architecture of NDIS 5.1 and earlier versions limits receive protocol processing to a single CPU.</span></span> <span data-ttu-id="ca13c-402">La mise à l’échelle côté réception (RSS) résout ce problème en autorisant l’équilibrage de la charge réseau à partir d’une carte réseau sur plusieurs processeurs.</span><span class="sxs-lookup"><span data-stu-id="ca13c-402">Receive-side scaling (RSS) resolves this issue by allowing the network load from a network adapter to be balanced across multiple CPUs.</span></span>

<span data-ttu-id="ca13c-403">**SIO \_ Les \_ \_ \_ informations de scalabilité RSS** de la requête sont prises en charge sur Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-403">**SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-404">\_ \_ \_ Paramètre de transport de requête SIO (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-404">SIO\_QUERY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-405">Interroge les paramètres de transport sur un Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-405">Queries the transport settings on a socket.</span></span> <span data-ttu-id="ca13c-406">Le paramètre de transport interrogé est basé sur l' [**ID de \_ paramètre \_ de transport**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passé dans le paramètre *lpvInBuffer* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-406">The transport setting being queried is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="ca13c-407">Le seul paramètre de transport actuellement défini est pour la fonctionnalité de **\_ fonctionnalité de \_ notification \_ en temps réel** sur un socket TCP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-407">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="ca13c-408">Si l' [**\_ \_ ID du paramètre de transport**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) a le membre **GUID** défini sur la **\_ \_ \_ fonctionnalité de notification en temps réel**, il s’agit d’une demande d’interrogation des paramètres de notification en temps réel pour le socket TCP utilisé avec [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) pour recevoir des notifications de réseau en arrière-plan dans une application Windows Store.</span><span class="sxs-lookup"><span data-stu-id="ca13c-408">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to query the real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span> <span data-ttu-id="ca13c-409">Si l’appel [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) ou [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) réussit, cette IOCTL retourne une structure de sortie de [**\_ \_ \_ paramètre \_ de notification en temps réel**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) avec l’état actuel.</span><span class="sxs-lookup"><span data-stu-id="ca13c-409">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) call is successful, this IOCTL returns a [**REAL\_TIME\_NOTIFICATION\_SETTING\_OUTPUT**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) structure with the current status.</span></span>

<span data-ttu-id="ca13c-410">Pour plus d’informations, consultez la référence des [**\_ paramètres de \_ transport \_ de requête SIO**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-410">For more detailed information, see the [**SIO\_QUERY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85)) reference.</span></span> <span data-ttu-id="ca13c-411">**SIO \_ Le \_ \_ paramètre de transport de requête** est pris en charge sur Windows 8, Windows Server 2012 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-411">**SIO\_QUERY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_ale_endpoint_handle-opcode-setting-o-t3"></a><span data-ttu-id="ca13c-412">\_ \_ \_ \_ Handle de point de terminaison ALE de la requête SIO \_ (paramètre opcode : O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-412">SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE (opcode setting: O, T==3)</span></span>

<span data-ttu-id="ca13c-413">Interroge le descripteur de point de terminaison ALE.</span><span class="sxs-lookup"><span data-stu-id="ca13c-413">Queries the Application Layer Enforcement (ALE) endpoint handle.</span></span>

<span data-ttu-id="ca13c-414">La plateforme de filtrage Windows (WFP) prend en charge l’inspection et la modification du trafic réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-414">The Windows Filtering Platform (WFP) supports network traffic inspection and modification.</span></span> <span data-ttu-id="ca13c-415">Sur Windows Vista, WFP se concentre sur les scénarios où l’ordinateur hôte est le point de terminaison de communication.</span><span class="sxs-lookup"><span data-stu-id="ca13c-415">On Windows Vista, WFP focuses on scenarios where the host machine is the communication endpoint.</span></span> <span data-ttu-id="ca13c-416">Sur Windows Server 2008, toutefois, il existe des implémentations de pare-feu de périmètre qui souhaitent tirer parti de la plateforme WFP pour inspecter et transmettre le trafic direct par proxy.</span><span class="sxs-lookup"><span data-stu-id="ca13c-416">On Windows Server 2008 , however, there are edge firewall implementations which would like to leverage the WFP platform to inspect and proxy pass-through traffic.</span></span> <span data-ttu-id="ca13c-417">Le serveur Internet Security and Acceleration (ISA) est un exemple de périphérique de périmètre.</span><span class="sxs-lookup"><span data-stu-id="ca13c-417">The Internet Security and Acceleration (ISA) server is an example of such an edge device.</span></span>

<span data-ttu-id="ca13c-418">Certains scénarios de pare-feu peuvent nécessiter la possibilité d’injecter un paquet entrant dans le chemin d’envoi associé à un point de terminaison existant.</span><span class="sxs-lookup"><span data-stu-id="ca13c-418">There are some firewall scenarios that may require the ability to inject an inbound packet into the send path associated with an existing endpoint.</span></span> <span data-ttu-id="ca13c-419">Il doit exister un mécanisme pour découvrir le handle de point de terminaison de la couche de transport associé au point de terminaison de destination.</span><span class="sxs-lookup"><span data-stu-id="ca13c-419">There needs to be a mechanism to discover the transport layer endpoint handle associated with the destination endpoint.</span></span> <span data-ttu-id="ca13c-420">L’application qui a créé le point de terminaison est propriétaire des points de terminaison de la couche de transport.</span><span class="sxs-lookup"><span data-stu-id="ca13c-420">The application that created the endpoint owns these transport layer endpoints.</span></span> <span data-ttu-id="ca13c-421">Cette IOCTL est utilisée pour fournir le descripteur de socket au mappage de handle de point de terminaison de couche de transport.</span><span class="sxs-lookup"><span data-stu-id="ca13c-421">This IOCTL is used to provide socket handle to transport layer endpoint handle mapping.</span></span>

<span data-ttu-id="ca13c-422">Si la mémoire tampon de sortie n’est pas assez grande pour le handle de point de terminaison ( *cbOutBuffer* est inférieur à la taille d’un **UINT64**) ou si le paramètre *lpvOutBuffer* est un pointeur **null** , une **\_ erreur de socket** est retournée comme résultat de cette IOCTL et [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retourne [WSAEINVAL](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ca13c-422">If the output buffer is not large enough for the endpoint handle (the *cbOutBuffer* is less than the size of a **UINT64**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ca13c-423">**SIO \_ Le \_ \_ \_ \_ descripteur de point de terminaison ALE WFP de requête** est pris en charge sur Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-423">**SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_context-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-424">SIO \_ interroger le \_ \_ \_ contexte de redirection de connexion WFP \_ (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-424">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-425">Interroge le contexte de redirection pour un enregistrement de redirection utilisé par un service de redirection de plateforme de filtrage Windows (WFP).</span><span class="sxs-lookup"><span data-stu-id="ca13c-425">Queries the redirect context for a redirect record used by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="ca13c-426">L’IOCTL du [**\_ \_ \_ \_ \_ contexte de redirection de connexion WFP de la requête SIO**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) est utilisée pour fournir le suivi de connexion en proxy sur les connexions de socket redirigées.</span><span class="sxs-lookup"><span data-stu-id="ca13c-426">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="ca13c-427">Cette fonctionnalité WFP facilite le suivi des enregistrements de redirection à partir de la redirection initiale d’une connexion à la connexion finale à la destination.</span><span class="sxs-lookup"><span data-stu-id="ca13c-427">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="ca13c-428">Pour plus d’informations, consultez la référence du [**\_ \_ \_ \_ \_ contexte de redirection de connexion WFP de la requête SIO**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-428">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) reference.</span></span> <span data-ttu-id="ca13c-429">**SIO \_ Interroger le \_ \_ \_ \_ contexte de redirection de connexion WFP** est pris en charge sur windows 8, Windows Server 2012 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-429">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-430">SIO \_ interroger les \_ \_ \_ enregistrements de redirection de connexion WFP \_ (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-430">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-431">Interroge l’enregistrement de redirection pour la connexion TCP/IP acceptée en vue d’une utilisation par un service de redirection de plateforme de filtrage Windows (WFP).</span><span class="sxs-lookup"><span data-stu-id="ca13c-431">Queries the redirect record for the accepted TCP/IP connection for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="ca13c-432">Les [**\_ enregistrements de \_ \_ \_ redirection \_ de connexion WFP de la requête SIO**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) sont utilisés pour fournir le suivi de connexion en proxy sur les connexions de socket redirigées.</span><span class="sxs-lookup"><span data-stu-id="ca13c-432">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="ca13c-433">Cette fonctionnalité WFP facilite le suivi des enregistrements de redirection à partir de la redirection initiale d’une connexion à la connexion finale à la destination.</span><span class="sxs-lookup"><span data-stu-id="ca13c-433">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="ca13c-434">Pour plus d’informations, consultez la référence des [**\_ \_ \_ \_ \_ enregistrements de redirection de connexion WFP de la requête SIO**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-434">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) reference.</span></span> <span data-ttu-id="ca13c-435">**SIO \_ Les \_ \_ enregistrements de \_ redirection \_ de connexion WFP de requête** sont pris en charge sur windows 8, Windows Server 2012 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-435">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_rcvall-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-436">SIO \_ RCVALL (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-436">SIO\_RCVALL (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-437">Permet à un socket de recevoir tous les paquets IPv4 ou IPv6 transmettant throuigh une interface réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-437">Enables a socket to receive all IPv4 or IPv6 packets passing throuigh a network interface.</span></span> <span data-ttu-id="ca13c-438">Le descripteur de socket passé à la fonction [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) doit être l’un des suivants :</span><span class="sxs-lookup"><span data-stu-id="ca13c-438">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be one of the following:</span></span>

-   <span data-ttu-id="ca13c-439">Un socket IPv4 créé avec la famille d’adresses définie sur AF \_ inet, le type de socket défini sur chaussette \_ RAW et le protocole défini sur IP IPPROTO \_ .</span><span class="sxs-lookup"><span data-stu-id="ca13c-439">An IPv4 socket that was created with the address family set to AF\_INET, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IP.</span></span>
-   <span data-ttu-id="ca13c-440">Un socket IPv6 qui a été créé avec la famille d’adresses définie sur AF \_ inet6, le type de socket défini sur chaussette \_ RAW et le protocole défini sur IPPROTO \_ IPv6.</span><span class="sxs-lookup"><span data-stu-id="ca13c-440">An IPv6 socket that was created with the address family set to AF\_INET6, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IPV6.</span></span>

<span data-ttu-id="ca13c-441">Le socket doit également être lié à une interface IPv4 ou IPv6 locale explicite, ce qui signifie que vous ne pouvez pas effectuer de liaison pour **inadr \_ any** ou **in6addr \_ any**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-441">The socket also must be bound to an explicit local IPv4 or IPv6 interface, which means that you cannot bind to **INADDR\_ANY** or **in6addr\_any**.</span></span>

<span data-ttu-id="ca13c-442">Sur Windows Server 2008 et versions antérieures, le paramètre IOCTL [**SIO \_ RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) ne capture pas les paquets locaux envoyés à partir d’une interface réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-442">On Windows Server 2008 and earlier, the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL setting would not capture local packets sent out of a network interface.</span></span> <span data-ttu-id="ca13c-443">Cela inclut les paquets reçus sur une autre interface et a transmis l’interface réseau spécifiée pour l’IOCTL **SIO \_ RCVALL** .</span><span class="sxs-lookup"><span data-stu-id="ca13c-443">This included packets received on another interface and forwarded out the network interface specified for the **SIO\_RCVALL** IOCTL.</span></span>

<span data-ttu-id="ca13c-444">Sur Windows 7 et Windows Server 2008 R2, cela a été modifié afin que les paquets locaux envoyés à partir d’une interface réseau soient également capturés.</span><span class="sxs-lookup"><span data-stu-id="ca13c-444">On Windows 7 and Windows Server 2008 R2 , this was changed so that local packets sent out of a network interface are also captured.</span></span> <span data-ttu-id="ca13c-445">Cela comprend les paquets reçus sur une autre interface, puis le transfert de l’interface réseau liée au socket avec [**SIO \_ RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) ioctl.</span><span class="sxs-lookup"><span data-stu-id="ca13c-445">This includes packets received on another interface and then forwarded out the network interface bound to the socket with [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="ca13c-446">La définition de cette IOCTL requiert des privilèges d’administrateur sur l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="ca13c-446">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="ca13c-447">Cette fonctionnalité est parfois appelée « mode promiscuité ».</span><span class="sxs-lookup"><span data-stu-id="ca13c-447">This feature is sometimes referred to as promiscuous mode.</span></span>

<span data-ttu-id="ca13c-448">Les valeurs possibles de l’option **SIO \_ RCVALL** IOCTL sont spécifiées dans l’énumération de la **\_ valeur RCVALL** définie dans le fichier d’en-tête *Mstcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-448">The possible values for the **SIO\_RCVALL** IOCTL option are specified in the **RCVALL\_VALUE** enumeration defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="ca13c-449">Les valeurs possibles pour SIO \_ RCVALL sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="ca13c-449">The possible values for SIO\_RCVALL are as follows:</span></span>

| <span data-ttu-id="ca13c-450">Terme</span><span class="sxs-lookup"><span data-stu-id="ca13c-450">Term</span></span>                                                                                                                 | <span data-ttu-id="ca13c-451">Description</span><span class="sxs-lookup"><span data-stu-id="ca13c-451">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-|-|
| <span data-ttu-id="ca13c-452"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL \_ désactivé</span><span class="sxs-lookup"><span data-stu-id="ca13c-452"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL\_OFF</span></span><br/>                                     | <span data-ttu-id="ca13c-453">Désactivez cette option pour qu’un socket ne reçoive pas tous les paquets IPv4 ou IPv6 sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-453">Disable this option so a socket does not receive all IPv4 or IPv6 packets on the network.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="ca13c-454"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL \_ sur</span><span class="sxs-lookup"><span data-stu-id="ca13c-454"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL\_ON</span></span><br/>                                        | <span data-ttu-id="ca13c-455">Activez cette option pour qu’un socket reçoive tous les paquets IPv4 ou IPv6 sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-455">Enable this option so a socket receives all IPv4 or IPv6 packets on the network.</span></span> <span data-ttu-id="ca13c-456">Cette option active le mode de proximité sur la carte d’interface réseau (NIC), si la carte réseau prend en charge le mode de proximité.</span><span class="sxs-lookup"><span data-stu-id="ca13c-456">This option enables promiscuous mode on the network interface card (NIC), if the NIC supports promiscuous mode.</span></span> <span data-ttu-id="ca13c-457">Sur un segment LAN avec un concentrateur réseau, une carte réseau qui prend en charge le mode promiscuité capture tout le trafic IPv4 ou IPv6 sur le réseau local, y compris le trafic entre les autres ordinateurs sur le même segment de réseau local.</span><span class="sxs-lookup"><span data-stu-id="ca13c-457">On a LAN segment with a network hub, a NIC that supports promiscuous mode will capture all IPv4 or IPv6 traffic on the LAN, including traffic between other computers on the same LAN segment.</span></span> <span data-ttu-id="ca13c-458">Tous les paquets capturés (IPv4 ou IPv6, selon le socket) sont remis au socket brut.</span><span class="sxs-lookup"><span data-stu-id="ca13c-458">All of the captured packets (IPv4 or IPv6, depending on the socket) will be delivered to the raw socket.</span></span> <br/> <span data-ttu-id="ca13c-459">Cette option ne capture pas les autres paquets (paquets ARP, IPX et NetBEUI, par exemple) sur l’interface.</span><span class="sxs-lookup"><span data-stu-id="ca13c-459">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) on the interface.</span></span><br/> <span data-ttu-id="ca13c-460">Netmon utilise le même mode pour l’interface réseau, mais n’utilise pas cette option pour capturer le trafic.</span><span class="sxs-lookup"><span data-stu-id="ca13c-460">Netmon uses the same mode for the network interface, but does not use this option to capture traffic.</span></span><br/> |
| <span data-ttu-id="ca13c-461"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL \_ SOCKETLEVELONLY</span><span class="sxs-lookup"><span data-stu-id="ca13c-461"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL\_SOCKETLEVELONLY</span></span><br/> | <span data-ttu-id="ca13c-462">Cette fonctionnalité n’est pas implémentée pour l’instant. par conséquent, la définition de cette option n’a aucun effet.</span><span class="sxs-lookup"><span data-stu-id="ca13c-462">This feature is not currently implemented, so setting this option does not have any affect.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ca13c-463"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL \_ IPLEVEL</span><span class="sxs-lookup"><span data-stu-id="ca13c-463"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL\_IPLEVEL</span></span><br/>                         | <span data-ttu-id="ca13c-464">Activez cette option pour qu’un socket IPv4 ou IPv6 reçoive tous les paquets au niveau IP sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-464">Enable this option so an IPv4 or IPv6 socket receives all packets at the IP level on the network.</span></span> <span data-ttu-id="ca13c-465">Cette option n’active pas le mode de proximité sur la carte d’interface réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-465">This option does not enable promiscuous mode on the network interface card.</span></span> <span data-ttu-id="ca13c-466">Cette option affecte uniquement le traitement des paquets au niveau de l’adresse IP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-466">This option only affects packet processing at the IP level.</span></span> <span data-ttu-id="ca13c-467">La carte réseau reçoit toujours uniquement les paquets dirigés vers ses adresses de monodiffusion et de multidiffusion configurées.</span><span class="sxs-lookup"><span data-stu-id="ca13c-467">The NIC still receives only packets directed to its configured unicast and multicast addresses.</span></span> <span data-ttu-id="ca13c-468">Toutefois, un socket avec cette option activée recevra non seulement les paquets dirigés vers des adresses IP spécifiques, mais recevra tous les paquets IPv4 ou IPv6 reçus par la carte réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-468">However, a socket with this option enabled will receive not only packets directed to specific IP addresses, but will receive all the IPv4 or IPv6 packets the NIC receives.</span></span><br/> <span data-ttu-id="ca13c-469">Cette option ne capture pas les autres paquets (par exemple, les paquets ARP, IPX et NetBEUI) reçus sur l’interface.</span><span class="sxs-lookup"><span data-stu-id="ca13c-469">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) received on the interface.</span></span><br/>                                                                                             |



 

<span data-ttu-id="ca13c-470">Pour plus d’informations, consultez la référence [**SIO \_ RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-470">For more detailed information, see the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) reference.</span></span>

<span data-ttu-id="ca13c-471">**SIO \_ RCVALL** est pris en charge sur Windows 2000 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-471">**SIO\_RCVALL** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_igmpmcast-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-472">SIO \_ RCVALL \_ IGMPMCAST (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-472">SIO\_RCVALL\_IGMPMCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-473">Permet à un socket de recevoir tout le trafic IP de multidiffusion IGMP sur le réseau, sans recevoir d’autre trafic IP de multidiffusion.</span><span class="sxs-lookup"><span data-stu-id="ca13c-473">Enables a socket to receive all IGMP multicast IP traffic on the network, without receiving other multicast IP traffic.</span></span> <span data-ttu-id="ca13c-474">Le descripteur de socket passé à la fonction [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) doit avoir une \_ famille d’adresses d’inet AF, un type de socket brut de chaussette et le \_ \_ protocole IGMP IPPROTO.</span><span class="sxs-lookup"><span data-stu-id="ca13c-474">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_IGMP protocol.</span></span> <span data-ttu-id="ca13c-475">Le socket doit également être lié à une interface locale explicite, ce qui signifie que vous ne pouvez pas effectuer de liaison à \_ n’importe laquelle.</span><span class="sxs-lookup"><span data-stu-id="ca13c-475">The socket also must be bound to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span>

<span data-ttu-id="ca13c-476">Une fois que le socket est lié et que l’IOCTL est défini, les appels aux fonctions [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) ou [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) retournent des datagrammes IP de multidiffusion passant par l’interface donnée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-476">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="ca13c-477">Notez que vous devez fournir une mémoire tampon suffisamment grande.</span><span class="sxs-lookup"><span data-stu-id="ca13c-477">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="ca13c-478">La définition de cette IOCTL requiert des privilèges d’administrateur sur l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="ca13c-478">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="ca13c-479">**SIO \_ RCVALL \_ IGMPMCAST** est pris en charge sur Windows 2000 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-479">**SIO\_RCVALL\_IGMPMCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_mcast-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-480">SIO \_ RCVALL \_ MCAST (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-480">SIO\_RCVALL\_MCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-481">Permet à un socket de recevoir tout le trafic IP de multidiffusion sur le réseau (c’est-à-dire, tous les paquets IP destinés à des adresses IP comprises dans la plage 224.0.0.0 à 239.255.255.255).</span><span class="sxs-lookup"><span data-stu-id="ca13c-481">Enables a socket to receive all multicast IP traffic on the network (that is, all IP packets destined for IP addresses in the range of 224.0.0.0 to 239.255.255.255).</span></span> <span data-ttu-id="ca13c-482">Le descripteur de socket passé à la fonction [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) doit être de \_ type de famille d’adresses d’inet AF, de type de socket brut de chaussette et de \_ \_ protocole UDP IPPROTO.</span><span class="sxs-lookup"><span data-stu-id="ca13c-482">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_UDP protocol.</span></span> <span data-ttu-id="ca13c-483">Le socket doit également effectuer une liaison à une interface locale explicite, ce qui signifie que vous ne pouvez pas effectuer de liaison à inadr \_ Any.</span><span class="sxs-lookup"><span data-stu-id="ca13c-483">The socket also must bind to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span> <span data-ttu-id="ca13c-484">Le socket doit se lier au port zéro.</span><span class="sxs-lookup"><span data-stu-id="ca13c-484">The socket should bind to port zero.</span></span>

<span data-ttu-id="ca13c-485">Une fois que le socket est lié et que l’IOCTL est défini, les appels aux fonctions [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) ou [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) retournent des datagrammes IP de multidiffusion passant par l’interface donnée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-485">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="ca13c-486">Notez que vous devez fournir une mémoire tampon suffisamment grande.</span><span class="sxs-lookup"><span data-stu-id="ca13c-486">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="ca13c-487">La définition de cette IOCTL requiert des privilèges d’administrateur sur l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="ca13c-487">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="ca13c-488">**SIO \_ RCVALL \_ MCAST** est pris en charge sur Windows 2000 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-488">**SIO\_RCVALL\_MCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_release_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-489">\_ \_ Réservation de port SIO Release \_ (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-489">SIO\_RELEASE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-490">Libère une réservation d’exécution pour un bloc de ports TCP ou UDP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-490">Releases a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="ca13c-491">La réservation de runtime à libérer doit avoir été obtenue à partir du processus d’émission à l’aide de l’IOCTL de [**\_ réservation de \_ port \_ SIO Acquire**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-491">The runtime reservation to be released must have been obtained from the issuing process using the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="ca13c-492">Pour plus d’informations, consultez la référence sur la réservation du port de la [**\_ version \_ \_ SIO**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-492">For more detailed information, see the [**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) reference.</span></span>

<span data-ttu-id="ca13c-493">[**SIO \_ La \_ \_ réservation de port de version**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) est prise en charge sur Windows Vista et les versions ultérieures du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="ca13c-493">[**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_routing_interface_change-opcode-setting-i-t1"></a><span data-ttu-id="ca13c-494">\_ \_ Modification de l’interface de routage SIO \_ (paramètre opcode : I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-494">SIO\_ROUTING\_INTERFACE\_CHANGE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ca13c-495">Pour recevoir une notification d’une modification de l’interface de routage qui doit être utilisée pour atteindre l’adresse distante dans la mémoire tampon d’entrée (spécifiée comme structure [**sockaddr**](sockaddr-2.md) ).</span><span class="sxs-lookup"><span data-stu-id="ca13c-495">To receive notification of a routing interface change that should be used to reach the remote address in the input buffer (specified as a [**sockaddr**](sockaddr-2.md) structure).</span></span> <span data-ttu-id="ca13c-496">Aucune information de sortie sur la nouvelle interface de routage n’est fournie à l’achèvement de cette IOCTL. la saisie semi-automatique indique simplement que l’interface de routage pour une destination donnée a changé et doit être interrogée à l’aide de l’IOCTL de requête de l' **\_ interface de routage \_ \_ SIO** .</span><span class="sxs-lookup"><span data-stu-id="ca13c-496">No output information on the new routing interface will be provided upon completion of this IOCTL; the completion merely indicates that the routing interface for a given destination has changed and should be queried using the **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL.</span></span>

<span data-ttu-id="ca13c-497">Il est supposé, bien qu’il n’est pas obligatoire, que l’application utilise des e/s avec chevauchement pour être informé de la modification de l’interface de routage jusqu’à la fin de la demande de modification de l' **\_ interface de routage \_ \_ SIO** .</span><span class="sxs-lookup"><span data-stu-id="ca13c-497">It is assumed, although not required, that the application uses overlapped I/O to be notified of the routing interface change through completion of **SIO\_ROUTING\_INTERFACE\_CHANGE** request.</span></span> <span data-ttu-id="ca13c-498">En guise d’alternative, si l' **\_ interface de routage SIO \_ \_ change** IOCTL sur un socket non bloquant avec les paramètres *LpOverlapped* et *lpCompletionRoutine* définis sur la **valeur null**), elle se termine immédiatement et [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) comme une erreur, et l’application peut ensuite attendre les événements de changement de routage via un appel à [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) ou [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) avec FD \_ interface de routage de \_ \_ changement défini dans le masque de bits d’événement réseau.</span><span class="sxs-lookup"><span data-stu-id="ca13c-498">Alternatively, if the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL is issued on a non-blocking socket with the *lpOverlapped* and *lpCompletionRoutine* parameters set to **NULL**), it will complete immediately returning and [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) as an error, and the application can then wait for routing change events through call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ROUTING\_INTERFACE\_CHANGE bit set in the network event bitmask.</span></span>

<span data-ttu-id="ca13c-499">Il est reconnu que les informations de routage restent stables dans la plupart des cas, de sorte que l’application qui doit conserver plusieurs IOCTL en suspens pour obtenir des notifications sur toutes les destinations qui l’intéressent et faire en sorte que le fournisseur de services effectue le suivi de ces demandes de notification utilise une quantité significative de ressources système.</span><span class="sxs-lookup"><span data-stu-id="ca13c-499">It is recognized that routing information remains stable in most cases so that requiring the application to keep multiple outstanding IOCTLs to get notifications about all destinations that it is interested in as well as having the service provider keep track of these notification requests will use a significant amount system resources.</span></span> <span data-ttu-id="ca13c-500">Cette situation peut être évitée en étendant la signification des paramètres d’entrée et en détendant les exigences du fournisseur de services comme suit :</span><span class="sxs-lookup"><span data-stu-id="ca13c-500">This situation can be avoided by extending the meaning of the input parameters and relaxing the service provider requirements as follows:</span></span>

-   <span data-ttu-id="ca13c-501">L’application peut spécifier une adresse générique spécifique à la famille de protocoles (identique à celle utilisée dans l’appel de [**liaison**](/windows/desktop/api/winsock/nf-winsock-bind) lors de la demande de liaison à une adresse disponible) pour demander des notifications de modifications de routage.</span><span class="sxs-lookup"><span data-stu-id="ca13c-501">The application can specify a protocol family specific wildcard address (same as one used in [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) call when requesting to bind to any available address) to request notifications of any routing changes.</span></span> <span data-ttu-id="ca13c-502">Cela permet à l’application de conserver uniquement une **\_ modification d' \_ interface \_ de routage SIO** en suspens pour tous les sockets et les destinations qu’elle possède, puis d’utiliser la **\_ \_ \_ requête d’interface de routage SIO** pour obtenir les informations de routage réelles.</span><span class="sxs-lookup"><span data-stu-id="ca13c-502">This allows the application to keep only one outstanding **SIO\_ROUTING\_INTERFACE\_CHANGE** for all the sockets and destinations it has and then use **SIO\_ROUTING\_INTERFACE\_QUERY** to get the actual routing information.</span></span>
-   <span data-ttu-id="ca13c-503">Un fournisseur de services a la possibilité d’ignorer les informations spécifiées par l’application dans la mémoire tampon d’entrée de la modification de l' **\_ interface de routage \_ \_ SIO** (comme si l’application avait spécifié une adresse générique) et de terminer l’événement de modification de l’interface de **\_ routage SIO \_ \_** IOCTL ou de l’interface de routage de signal FD \_ \_ \_ dans le cas d’une modification des informations de routage</span><span class="sxs-lookup"><span data-stu-id="ca13c-503">A service provider has the option to ignore the information specified by the application in the input buffer of the **SIO\_ROUTING\_INTERFACE\_CHANGE** (as though the application specified a wildcard address) and complete the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL or signal FD\_ROUTING\_INTERFACE\_CHANGE event in the event of any routing information change (not just the route to the destination specified in the input buffer).</span></span>

### <a name="sio_routing_interface_query-opcode-setting-i-o-t1"></a><span data-ttu-id="ca13c-504">\_ \_ Requête de l’interface de routage SIO \_ (paramètre opcode : I, O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-504">SIO\_ROUTING\_INTERFACE\_QUERY (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="ca13c-505">Pour obtenir l’adresse de l’interface locale (représentée sous forme de structure [**sockaddr**](sockaddr-2.md) ) qui doit être utilisée pour envoyer à l’adresse distante spécifiée dans la mémoire tampon d’entrée (comme **sockaddr**).</span><span class="sxs-lookup"><span data-stu-id="ca13c-505">To obtain the address of the local interface (represented as [**sockaddr**](sockaddr-2.md) structure) which should be used to send to the remote address specified in the input buffer (as **sockaddr**).</span></span> <span data-ttu-id="ca13c-506">Les adresses de multidiffusion distantes peuvent être envoyées dans la mémoire tampon d’entrée pour obtenir l’adresse de l’interface préférée pour la transmission par multidiffusion.</span><span class="sxs-lookup"><span data-stu-id="ca13c-506">Remote multicast addresses may be submitted in the input buffer to get the address of the preferred interface for multicast transmission.</span></span> <span data-ttu-id="ca13c-507">Dans tous les cas, l’adresse d’interface retournée peut être utilisée par l’application dans une requête BIND () suivante.</span><span class="sxs-lookup"><span data-stu-id="ca13c-507">In any case, the interface address returned may be used by the application in a subsequent bind() request.</span></span>

<span data-ttu-id="ca13c-508">Notez que les itinéraires sont susceptibles d’être modifiés.</span><span class="sxs-lookup"><span data-stu-id="ca13c-508">Note that routes are subject to change.</span></span> <span data-ttu-id="ca13c-509">Par conséquent, les applications ne peuvent pas compter sur la persistance des informations retournées par la requête de l' **\_ interface de routage \_ \_ SIO** .</span><span class="sxs-lookup"><span data-stu-id="ca13c-509">Therefore, applications cannot rely on the information returned by **SIO\_ROUTING\_INTERFACE\_QUERY** to be persistent.</span></span> <span data-ttu-id="ca13c-510">Les applications peuvent s’inscrire pour router les notifications de modification via l’IOCTL de modification de l' **\_ interface de routage \_ \_ SIO** , qui fournit une notification par le biais d’un événement d’e/s avec chevauchement ou d’un \_ événement de changement d’interface de routage FD \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="ca13c-510">Applications may register for routing change notifications through the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL which provides for notification through either overlapped I/O or a FD\_ROUTING\_INTERFACE\_CHANGE event.</span></span> <span data-ttu-id="ca13c-511">La séquence d’actions suivante peut être utilisée pour garantir que l’application dispose toujours des informations d’interface de routage actuelles pour une destination donnée :</span><span class="sxs-lookup"><span data-stu-id="ca13c-511">The following sequence of actions can be used to guarantee that the application always has current routing interface information for a given destination:</span></span>

-   <span data-ttu-id="ca13c-512">Émettre une modification de l' **\_ interface de routage \_ \_ SIO** IOCTL</span><span class="sxs-lookup"><span data-stu-id="ca13c-512">Issue **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL</span></span>
-   <span data-ttu-id="ca13c-513">Émettre une requête IOCTL d' **\_ interface de routage \_ \_ SIO**</span><span class="sxs-lookup"><span data-stu-id="ca13c-513">Issue **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL</span></span>
-   <span data-ttu-id="ca13c-514">Chaque fois que l' **\_ interface de routage SIO \_ \_ change** IOCTL notifie l’application de modification du routage (via des e/s avec chevauchement ou en signalant un événement de modification de l' \_ interface de routage FD \_ \_ ), toute la séquence d’actions doit être répétée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-514">Whenever **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL notifies the application of routing change (either through overlapped I/O or by signaling FD\_ROUTING\_INTERFACE\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="ca13c-515">Si la mémoire tampon de sortie n’est pas assez grande pour contenir l’adresse de l’interface, l' \_ erreur de socket est retournée comme résultat de cette IOCTL et [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retourne [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ca13c-515">If the output buffer is not large enough to contain the interface address, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="ca13c-516">La taille requise de la mémoire tampon de sortie est retournée dans *lpcbBytesReturned* dans ce cas.</span><span class="sxs-lookup"><span data-stu-id="ca13c-516">The required size of the output buffer will be returned in *lpcbBytesReturned* in this case.</span></span> <span data-ttu-id="ca13c-517">Notez que le code d’erreur WSAEFAULT est également retourné si le paramètre *lpvInBuffer*, *lpvOutBuffer* ou *lpcbBytesReturned* n’est pas entièrement contenu dans une partie valide de l’espace d’adressage de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ca13c-517">Note the WSAEFAULT error code is also returned if the *lpvInBuffer*, *lpvOutBuffer*, or *lpcbBytesReturned* parameter is not totally contained in a valid part of the user address space.</span></span>

<span data-ttu-id="ca13c-518">Si l’adresse de destination spécifiée dans la mémoire tampon d’entrée ne peut pas être atteinte via l’une des interfaces disponibles, l' \_ erreur de socket est retournée à la suite de cette IOCTL et [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retourne [WSAENETUNREACH](windows-sockets-error-codes-2.md) ou même [WSAENETDOWN](windows-sockets-error-codes-2.md) si l’ensemble de la connectivité réseau est perdu.</span><span class="sxs-lookup"><span data-stu-id="ca13c-518">If the destination address specified in the input buffer cannot be reached through any of the available interfaces, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAENETUNREACH](windows-sockets-error-codes-2.md) or even [WSAENETDOWN](windows-sockets-error-codes-2.md) if all of the network connectivity is lost.</span></span>

### <a name="sio_set_compatibility_mode-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-519">SIO \_ définir \_ le \_ mode de compatibilité (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-519">SIO\_SET\_COMPATIBILITY\_MODE (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-520">Demande comment la pile de mise en réseau doit gérer certains comportements pour lesquels la méthode par défaut de gestion du comportement peut varier entre les différentes versions de Windows.</span><span class="sxs-lookup"><span data-stu-id="ca13c-520">Requests how the networking stack should handle certain behaviors for which the default way of handling the behavior may differ across Windows versions.</span></span> <span data-ttu-id="ca13c-521">La structure d’arguments pour le **\_ \_ \_ mode de compatibilité Set SIO** est spécifiée dans la structure du **\_ \_ mode de compatibilité WSA** définie dans le fichier d’en-tête *Mswsockdef. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-521">The argument structure for **SIO\_SET\_COMPATIBILITY\_MODE** is specified in the **WSA\_COMPATIBILITY\_MODE** structure defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="ca13c-522">Cette structure est définie comme suit :</span><span class="sxs-lookup"><span data-stu-id="ca13c-522">This structure is defined as follows:</span></span>

```cpp
/* Argument structure for SIO_SET_COMPATIBILITY_MODE */
typedef struct _WSA_COMPATIBILITY_MODE {
    WSA_COMPATIBILITY_BEHAVIOR_ID BehaviorId;
    ULONG TargetOsVersion;
} WSA_COMPATIBILITY_MODE, *PWSA_COMPATIBILITY_MODE;
```

<span data-ttu-id="ca13c-523">La valeur spécifiée dans le membre **BehaviorId** indique le comportement demandé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-523">The value specified in the **BehaviorId** member indicates the behavior requested.</span></span> <span data-ttu-id="ca13c-524">La valeur spécifiée dans le membre **TargetOsVersion** indique la version de Windows demandée pour le comportement.</span><span class="sxs-lookup"><span data-stu-id="ca13c-524">The value specified in the **TargetOsVersion** member indicates the Windows version that is being requested for the behavior.</span></span>

<span data-ttu-id="ca13c-525">Le membre **BehaviorId** peut être l’une des valeurs du type d’énumération d’ID de **\_ \_ comportement \_ de compatibilité WSA** défini dans le fichier d’en-tête *Mswsockdef. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-525">The **BehaviorId** member can be one of the values from the **WSA\_COMPATIBILITY\_BEHAVIOR\_ID** enumeration type defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="ca13c-526">Les valeurs possibles pour le membre **BehaviorId** sont les suivantes.</span><span class="sxs-lookup"><span data-stu-id="ca13c-526">The possible values for the **BehaviorId** member are as follows.</span></span>

| <span data-ttu-id="ca13c-527">Terme</span><span class="sxs-lookup"><span data-stu-id="ca13c-527">Term</span></span>                                                                                                                                                                             | <span data-ttu-id="ca13c-528">Description</span><span class="sxs-lookup"><span data-stu-id="ca13c-528">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-|-|
| <span data-ttu-id="ca13c-529"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span><span class="sxs-lookup"><span data-stu-id="ca13c-529"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span></span><br/>                                                     | <span data-ttu-id="ca13c-530">Cela équivaut à demander tous les comportements compatibles possibles définis pour l’ID de **\_ comportement de \_ \_ compatibilité WSA**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-530">This is equivalent to requesting all of the possible compatible behaviors defined for **WSA\_COMPATIBILITY\_BEHAVIOR\_ID**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="ca13c-531"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span><span class="sxs-lookup"><span data-stu-id="ca13c-531"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span></span><br/> | <span data-ttu-id="ca13c-532">Lorsque le membre **TargetOsVersion** est défini sur une valeur pour Windows Vista ou version ultérieure, la réduction de la taille de la mémoire tampon de réception TCP sur ce socket à l’aide de l’option de socket **\_ RCVBUF** est autorisée même après l’établissement d’une connexion TCP.</span><span class="sxs-lookup"><span data-stu-id="ca13c-532">When the **TargetOsVersion** member is set to a value for Windows Vista or later, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are allowed even after a TCP connection has been establishment.</span></span> <br/> <span data-ttu-id="ca13c-533">Lorsque le membre **TargetOsVersion** est défini sur une valeur antérieure à Windows Vista, la réduction de la taille de la mémoire tampon de réception TCP sur ce socket à l’aide de l’option de socket **\_ RCVBUF** n’est pas autorisée après l’établissement de la connexion.</span><span class="sxs-lookup"><span data-stu-id="ca13c-533">When the **TargetOsVersion** member is set to a value earlier than Windows Vista, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are not allowed after connection establishment.</span></span> <br/>                                                                                                                                                                                  |
| <span data-ttu-id="ca13c-534"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span><span class="sxs-lookup"><span data-stu-id="ca13c-534"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span></span><br/>                         | <span data-ttu-id="ca13c-535">Quand le membre **TargetOsVersion** est défini sur une valeur pour Windows Vista ou version ultérieure, le réglage automatique de la fenêtre de réception est activé et le facteur d’échelle de la fenêtre TCP est réduit à 2 de la valeur par défaut 8.</span><span class="sxs-lookup"><span data-stu-id="ca13c-535">When the **TargetOsVersion** member is set to a value for Windows Vista or later, receive window auto-tuning is enabled and the TCP window scale factor is reduced to 2 from the default value of 8.</span></span><br/> <span data-ttu-id="ca13c-536">Lorsque le **TargetOsVersion** est défini sur une valeur antérieure à Windows Vista, le réglage automatique de la fenêtre de réception est désactivé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-536">When the **TargetOsVersion** is set to a value earlier than Windows Vista, receive window auto-tuning is disabled.</span></span> <span data-ttu-id="ca13c-537">L’option de mise à l’échelle de la fenêtre TCP est également désactivée et la taille maximale de la fenêtre de réception est limitée à 65 535 octets.</span><span class="sxs-lookup"><span data-stu-id="ca13c-537">The TCP window scaling option is also disabled and the maximum true receive window size is limited to 65,535 bytes.</span></span> <span data-ttu-id="ca13c-538">L’option de mise à l’échelle de la fenêtre TCP ne peut pas être négociée sur la connexion même si l’option de socket **\_ RCVBUF** a été appelée sur ce socket en spécifiant une valeur supérieure à 65 535 octets avant l’établissement de la connexion.</span><span class="sxs-lookup"><span data-stu-id="ca13c-538">The TCP window scaling option can't be negotiated on the connection even if the **SO\_RCVBUF** socket option was called on this socket specifying a value greater than 65,535 bytes before the connection was established.</span></span><br/> |



 

<span data-ttu-id="ca13c-539">Pour plus d’informations, consultez la référence sur le [**\_ mode de \_ compatibilité \_ SIO Set**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-539">For more detailed information, see the [**SIO\_SET\_COMPATIBILITY\_MODE**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85)) reference.</span></span>

<span data-ttu-id="ca13c-540">**SIO \_ Le \_ \_ mode de compatibilité défini** est pris en charge sur Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-540">**SIO\_SET\_COMPATIBILITY\_MODE** is supported on Windows Vista and later.</span></span>

### <a name="sio_set_group_qos-opcode-setting-i-t1"></a><span data-ttu-id="ca13c-541">SIO \_ définir la \_ qualité de service du groupe \_ (paramètre opcode : I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-541">SIO\_SET\_GROUP\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ca13c-542">Réservé.</span><span class="sxs-lookup"><span data-stu-id="ca13c-542">Reserved.</span></span>

### <a name="sio_set_priority_hint-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-543">SIO_SET_PRIORITY_HINT (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-543">SIO_SET_PRIORITY_HINT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-544">Fournit un indicateur au protocole de transport sous-jacent pour traiter le trafic sur ce Socket avec une priorité spécifique.</span><span class="sxs-lookup"><span data-stu-id="ca13c-544">Provides a hint to the underlying transport protocol to treat the traffic on this socket with a specific priority.</span></span> <span data-ttu-id="ca13c-545">*LpvInBuffer* doit pointer vers une variable de type **PRIORITY_HINT** avec *cbInBuffer* défini sur sizeof (PRIORITY_HINT).</span><span class="sxs-lookup"><span data-stu-id="ca13c-545">The *lpvInBuffer* must point to a variable of type **PRIORITY_HINT** with *cbInBuffer* set to sizeof(PRIORITY_HINT).</span></span> <span data-ttu-id="ca13c-546">Les paramètres *lpvOutBuffer* et *CbOutBuffer* doivent être **null** et 0, respectivement.</span><span class="sxs-lookup"><span data-stu-id="ca13c-546">The *lpvOutBuffer* and *cbOutBuffer* parameters must be **NULL** and 0, respectively.</span></span> <span data-ttu-id="ca13c-547">L’implémentation Microsoft Windows TCP prend en charge cette IOCTL à compter de Windows 10, version 1809 (10,0 ; Générez 17763) et versions ultérieures comme suit : lorsque la valeur de priorité demandée est définie sur **IoPriorityHintVeryLow**, TCP utilise une version modifiée de l’algorithme LEDBAT (définie dans RFC 6817) pour contrôler le taux de trafic sortant sur le Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-547">The Microsoft Windows TCP implementation supports this IOCTL starting with Windows 10, version 1809 (10.0; Build 17763) and later as follows: when the requested priority value is set to **IoPriorityHintVeryLow**, TCP uses a modified version of the LEDBAT algorithm (defined in RFC 6817) for controlling the outbound traffic rate on the socket.</span></span> <span data-ttu-id="ca13c-548">Le trafic entrant n’est pas affecté par cette IOCTL.</span><span class="sxs-lookup"><span data-stu-id="ca13c-548">The inbound traffic is not affected by this IOCTL.</span></span> <span data-ttu-id="ca13c-549">LEDBAT est un algorithme de nettoyage, et son objectif est de maintenir la latence faible et d’empêcher tout effet néfaste sur le trafic de priorité normale en se déroulant lorsque le trafic de priorité normale est présent.</span><span class="sxs-lookup"><span data-stu-id="ca13c-549">LEDBAT is a scavenger algorithm, and its goal is to keep latency low and prevent any adverse effect on normal-priority traffic by getting out of the way when normal-priority traffic is present.</span></span>

<span data-ttu-id="ca13c-550">Consultez également [RFC 6817](https://tools.ietf.org/html/rfc6817).</span><span class="sxs-lookup"><span data-stu-id="ca13c-550">Also see [RFC 6817](https://tools.ietf.org/html/rfc6817).</span></span>

<span data-ttu-id="ca13c-551">**SIO_SET_PRIORITY_HINT** est pris en charge sur Windows 10, version 1809 (10,0 ; Build 17763) et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-551">**SIO_SET_PRIORITY_HINT** is supported on Windows 10, version 1809 (10.0; Build 17763) and later.</span></span>

### <a name="sio_set_qos-opcode-setting-i-t1"></a><span data-ttu-id="ca13c-552">SIO \_ Set \_ QoS (paramètre opcode : I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-552">SIO\_SET\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ca13c-553">Associe la structure [**QoS**](/windows/win32/api/winsock2/ns-winsock2-qos) spécifiée au socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-553">Associate the specified [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure with the socket.</span></span> <span data-ttu-id="ca13c-554">Aucune mémoire tampon de sortie n’est requise, la structure **QoS** est obtenue à partir de la mémoire tampon d’entrée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-554">No output buffer is required, the **QOS** structure will be obtained from the input buffer.</span></span> <span data-ttu-id="ca13c-555">Le code d’erreur [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) est indiqué pour les fournisseurs de services qui ne prennent pas en charge la qualité de service.</span><span class="sxs-lookup"><span data-stu-id="ca13c-555">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_tcp_initial_rto-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-556">SIO_TCP_INITIAL_RTO (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-556">SIO_TCP_INITIAL_RTO (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-557">Contrôle les caractéristiques de retransmission initiales (SYN/SYN + ACK) d’un socket TCP en configurant les paramètres du délai d’attente de retransmission initial (RTO).</span><span class="sxs-lookup"><span data-stu-id="ca13c-557">Controls the initial (SYN / SYN+ACK) retransmission characteristics of a TCP socket by configuring initial retransmission timeout (RTO) parameters.</span></span> <span data-ttu-id="ca13c-558">Les paramètres de configuration sont spécifiés dans une structure de [**\_ \_ \_ paramètres de RTO initial TCP**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-558">The configuration parameters are specified in a [**TCP\_INITIAL\_RTO\_PARAMETERS**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers) structure.</span></span>

<span data-ttu-id="ca13c-559">Pour plus d’informations, consultez la référence [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-559">For more detailed information, see the [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) reference.</span></span> <span data-ttu-id="ca13c-560">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) est pris en charge sur Windows 8, windows server 2012 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-560">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_translate_handle-opcode-setting-i-o-t1"></a><span data-ttu-id="ca13c-561">\_Handle SIO translate \_ (paramètre opcode : I, O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ca13c-561">SIO\_TRANSLATE\_HANDLE (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="ca13c-562">Pour obtenir un handle correspondant pour le *socket qui* est valide dans le contexte d’une interface associée (par exemple, Th \_ netdev et Th \_ TAPI).</span><span class="sxs-lookup"><span data-stu-id="ca13c-562">To obtain a corresponding handle for socket *s* that is valid in the context of a companion interface (for example, TH\_NETDEV and TH\_TAPI).</span></span> <span data-ttu-id="ca13c-563">Une constante de manifeste identifiant l’interface auxiliaire avec tous les autres paramètres nécessaires est spécifiée dans la mémoire tampon d’entrée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-563">A manifest constant identifying the companion interface along with any other needed parameters are specified in the input buffer.</span></span> <span data-ttu-id="ca13c-564">Le handle correspondant sera disponible dans la mémoire tampon de sortie une fois cette fonction terminée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-564">The corresponding handle will be available in the output buffer upon completion of this function.</span></span> <span data-ttu-id="ca13c-565">Reportez-vous à la section appropriée dans les [annexes Winsock](winsock-annexes.md) pour obtenir des détails spécifiques à une interface connexe particulière.</span><span class="sxs-lookup"><span data-stu-id="ca13c-565">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="ca13c-566">Le code d’erreur [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) est indiqué pour les fournisseurs de services qui ne prennent pas en charge cette ioctl pour l’interface associée spécifiée.</span><span class="sxs-lookup"><span data-stu-id="ca13c-566">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL for the specified companion interface.</span></span> <span data-ttu-id="ca13c-567">Cette IOCTL récupère le descripteur associé à l’aide du **\_ \_ handle SIO translate**.</span><span class="sxs-lookup"><span data-stu-id="ca13c-567">This IOCTL retrieves the handle associated using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="ca13c-568">Il est recommandé d’utiliser le modèle COM (Component Object Model) à la place de cette IOCTL pour découvrir et suivre les autres interfaces qui peuvent être prises en charge par un Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-568">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="ca13c-569">Ce IOCTL est présent pour la compatibilité descendante avec les systèmes où COM n’est pas disponible ou ne peut pas être utilisé pour une autre raison.</span><span class="sxs-lookup"><span data-stu-id="ca13c-569">This IOCTL is present for backward compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_udp_connreset-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-570">SIO \_ UDP \_ CONNRESET (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-570">SIO\_UDP\_CONNRESET (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-571">**Windows XP :** Contrôle si les messages du PORT UDP \_ inaccessible sont signalés.</span><span class="sxs-lookup"><span data-stu-id="ca13c-571">**Windows XP:** Controls whether UDP PORT\_UNREACHABLE messages are reported.</span></span> <span data-ttu-id="ca13c-572">Affectez la valeur **true** pour activer la création de rapports.</span><span class="sxs-lookup"><span data-stu-id="ca13c-572">Set to **TRUE** to enable reporting.</span></span> <span data-ttu-id="ca13c-573">Affectez la valeur **false** pour désactiver la création de rapports.</span><span class="sxs-lookup"><span data-stu-id="ca13c-573">Set to **FALSE** to disable reporting.</span></span>

### <a name="sio_set_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="ca13c-574">SIO \_ définir \_ les \_ \_ enregistrements de redirection de connexion WFP \_ (paramètre opcode : I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-574">SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ca13c-575">Définit l’enregistrement de redirection sur le nouveau socket TCP utilisé pour la connexion à la destination finale en vue d’une utilisation par un service de redirection de plateforme de filtrage Windows (WFP).</span><span class="sxs-lookup"><span data-stu-id="ca13c-575">Sets the redirect record to the new TCP socket used for connecting to the final destination for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="ca13c-576">Les [**\_ enregistrements de \_ \_ \_ redirection \_ de connexion SIO Set WFP**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) sont utilisés dans le cadre du suivi de connexion par proxy sur les connexions de socket redirigées.</span><span class="sxs-lookup"><span data-stu-id="ca13c-576">The [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL is used as part of proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="ca13c-577">Cette fonctionnalité WFP facilite le suivi des enregistrements de redirection à partir de la redirection initiale d’une connexion à la connexion finale à la destination.</span><span class="sxs-lookup"><span data-stu-id="ca13c-577">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="ca13c-578">Pour plus d’informations, consultez la référence des [**\_ \_ \_ \_ \_ enregistrements de redirection de connexion SIO Set WFP**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-578">For more detailed information, see the [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) reference.</span></span> <span data-ttu-id="ca13c-579">**SIO \_ Les \_ \_ enregistrements de \_ redirection \_ de connexion WFP** sont pris en charge sur windows 8, Windows Server 2012 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-579">**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_tcp_info-opcode-setting-i-o-t3"></a><span data-ttu-id="ca13c-580">SIO \_ TCP \_ info (paramètre d’opcode : I, O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ca13c-580">SIO\_TCP\_INFO (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="ca13c-581">Récupère les statistiques TCP pour un Socket.</span><span class="sxs-lookup"><span data-stu-id="ca13c-581">Retrieves the TCP statistics for a socket.</span></span> <span data-ttu-id="ca13c-582">Les statistiques TCP sont fournies dans une structure de l' [**\_ information TCP \_ v0**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) .</span><span class="sxs-lookup"><span data-stu-id="ca13c-582">The TCP statistics are provided in a [**TCP\_INFO\_v0**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) structure.</span></span>

<span data-ttu-id="ca13c-583">Contrairement à la récupération des statistiques TCP avec la fonction [**GetPerTcpConnectionEStats**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) , la récupération des statistiques TCP avec ce code de contrôle ne nécessite pas que le code utilisateur charge, stocke et filtre la table de connexion TCP et ne nécessite pas de privilèges élevés pour utiliser.</span><span class="sxs-lookup"><span data-stu-id="ca13c-583">Unlike retrieving TCP statistics with the [**GetPerTcpConnectionEStats**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) function, retrieving TCP statistics with this control code does not require the user code to load, store, and filter the TCP connection table, and does not require elevated privileges to use.</span></span>

<span data-ttu-id="ca13c-584">Pour plus d’informations, consultez [**SIO \_ TCP \_ info**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="ca13c-584">For more information, see [**SIO\_TCP\_INFO**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span></span> <span data-ttu-id="ca13c-585">**SIO \_ Les \_ informations TCP** sont prises en charge sur Windows 10, version 1703, windows server 2016 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ca13c-585">**SIO\_TCP\_INFO** is supported on Windows 10, version 1703, Windows Server 2016, and later.</span></span>

## <a name="remarks"></a><span data-ttu-id="ca13c-586">Notes</span><span class="sxs-lookup"><span data-stu-id="ca13c-586">Remarks</span></span>

<span data-ttu-id="ca13c-587">Les IOCTL Winsock sont définis dans plusieurs fichiers d’en-tête différents.</span><span class="sxs-lookup"><span data-stu-id="ca13c-587">Winsock Ioctls are defined in a number of different header files.</span></span> <span data-ttu-id="ca13c-588">Celles-ci incluent le fichier d’en-tête *Winsock2. h*, *mswsock. h* et *Mstcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-588">These include the *Winsock2.h*, *Mswsock.h*, and *Mstcpip.h* header file.</span></span>

<span data-ttu-id="ca13c-589">Dans le kit de développement logiciel (SDK) Microsoft Windows publié pour Windows Vista et versions ultérieures, l’Organisation des fichiers d’en-tête a changé et un certain nombre d’IOCTL d’IOCTL Winsock sont également définis dans les fichiers d’en-tête *Ws2def. h*, *Ws2ipdef. h* et *Mswsockdef. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-589">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and a number of Winsock Ioctls are also defined in the *Ws2def.h*, *Ws2ipdef.h*, and *Mswsockdef.h* header files.</span></span> <span data-ttu-id="ca13c-590">Le fichier d’en-tête *Ws2def. h* est automatiquement inclus dans le fichier d’en-tête *Winsock2. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-590">The *Ws2def.h* header file is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="ca13c-591">Le fichier d’en-tête *Ws2ipdef. h* est automatiquement inclus dans le fichier d’en-tête *Ws2tcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-591">The *Ws2ipdef.h* header file is automatically included by the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="ca13c-592">Le fichier d’en-tête *Mswsockdef. h* est automatiquement inclus dans le fichier d’en-tête *Mswsockdef. h* .</span><span class="sxs-lookup"><span data-stu-id="ca13c-592">The *Mswsockdef.h* header file is automatically included in the *Mswsockdef.h* header file.</span></span>

## <a name="requirements"></a><span data-ttu-id="ca13c-593">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="ca13c-593">Requirements</span></span>

|||
|-|-|
| <span data-ttu-id="ca13c-594">En-tête</span><span class="sxs-lookup"><span data-stu-id="ca13c-594">Header</span></span><br/> | <dl> <span data-ttu-id="ca13c-595"><dt>Winsock2. h ; </dt> <dt>Mstcpip. h ; </dt> <dt>Mswsock. h ; </dt> <dt>Mswsockdef. h sur Windows Vista, Windows Server 2008 et Windows 7 (inclure mswsock. h); </dt> <dt>Ws2def. h sur Windows Vista, Windows Server 2008 et Windows 7 (inclure Winsock2. h); </dt> <dt>Ws2ipdef. h sur Windows Vista, Windows Server 2008 et Windows 7 (inclure Ws2tcpip. h)</dt></span><span class="sxs-lookup"><span data-stu-id="ca13c-595"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Mswsock.h); </dt> <dt>Ws2def.h on Windows Vista, Windows Server 2008 and Windows 7 (include Winsock2.h); </dt> <dt>Ws2ipdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Ws2tcpip.h)</dt></span></span> </dl> |
