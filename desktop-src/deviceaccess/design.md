---
title: Considérations relatives à la conception des appareils personnalisés
description: Cette rubrique décrit les considérations de conception qui peuvent vous aider à déterminer si votre appareil a besoin d’un pilote personnalisé.
ms.assetid: 8AADE304-4841-41E2-968B-DFCB5B954FF1
ms.topic: article
ms.date: 02/11/2020
ms.openlocfilehash: f503ae556009f3b4b9b88d9f895936218f402fc6
ms.sourcegitcommit: 3d718d8f69d3f86eaecf94c5705d761c5a9ef4a1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/20/2020
ms.locfileid: "103734717"
---
# <a name="design-considerations-for-custom-devices"></a><span data-ttu-id="488fb-103">Considérations relatives à la conception des appareils personnalisés</span><span class="sxs-lookup"><span data-stu-id="488fb-103">Design Considerations for Custom Devices</span></span>

<span data-ttu-id="488fb-104">Cette rubrique décrit les considérations de conception qui peuvent vous aider à déterminer si votre appareil a besoin d’un pilote personnalisé.</span><span class="sxs-lookup"><span data-stu-id="488fb-104">This topic describes design considerations that can help you determine whether your device needs a custom driver.</span></span>

- [<span data-ttu-id="488fb-105">Détermination du type de pilote à implémenter</span><span class="sxs-lookup"><span data-stu-id="488fb-105">Determining the type of driver to implement</span></span>](#determining-the-type-of-driver-to-implement)
- [<span data-ttu-id="488fb-106">Considérations relatives à la sécurité</span><span class="sxs-lookup"><span data-stu-id="488fb-106">Security considerations</span></span>](#security-considerations)
- [<span data-ttu-id="488fb-107">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="488fb-107">Related topics</span></span>](#related-topics)

## <a name="determining-the-type-of-driver-to-implement"></a><span data-ttu-id="488fb-108">Détermination du type de pilote à implémenter</span><span class="sxs-lookup"><span data-stu-id="488fb-108">Determining the type of driver to implement</span></span>

<span data-ttu-id="488fb-109">Ce tableau décrit les cas où vous devez développer un pilote personnalisé pour votre appareil et communiquer avec lui à l’aide de l’API d’accès à l’appareil, et quand vous devez utiliser des piles d’appareils Windows fournies à la place.</span><span class="sxs-lookup"><span data-stu-id="488fb-109">This table describes when you should develop a custom driver for your device and communicate with it by using the Device Access API, and when you should use Windows-provided device stacks instead.</span></span>

| <span data-ttu-id="488fb-110">Pour prendre en charge</span><span class="sxs-lookup"><span data-stu-id="488fb-110">To support</span></span> | <span data-ttu-id="488fb-111">Implémentation</span><span class="sxs-lookup"><span data-stu-id="488fb-111">Implementation</span></span> |
|:---|:---|
| <span data-ttu-id="488fb-112">Appareils bien connus, notamment :</span><span class="sxs-lookup"><span data-stu-id="488fb-112">Well-known devices, including:</span></span> <ul><li><span data-ttu-id="488fb-113">Capteur</span><span class="sxs-lookup"><span data-stu-id="488fb-113">Sensor</span></span></li><li><span data-ttu-id="488fb-114">Emplacement</span><span class="sxs-lookup"><span data-stu-id="488fb-114">Location</span></span></li><li><span data-ttu-id="488fb-115">Webcam</span><span class="sxs-lookup"><span data-stu-id="488fb-115">Webcam</span></span></li><li><span data-ttu-id="488fb-116">Proximité</span><span class="sxs-lookup"><span data-stu-id="488fb-116">Proximity</span></span></li><li><span data-ttu-id="488fb-117">SMS (Short Message Service)</span><span class="sxs-lookup"><span data-stu-id="488fb-117">Short message service (SMS)</span></span></li><li><span data-ttu-id="488fb-118">Haut débit mobile</span><span class="sxs-lookup"><span data-stu-id="488fb-118">Mobile broadband</span></span></li></ul><br/> | <span data-ttu-id="488fb-119">Pour de nombreux types d’appareils connus, vous n’avez pas besoin d’un pilote personnalisé, car Windows comprend des API et des interfaces de pilote de périphérique (DDIs) d’extension de classe qui gèrent la communication entre le pilote et Windows.</span><span class="sxs-lookup"><span data-stu-id="488fb-119">For many types of well-known devices, you don't need a custom driver, because Windows includes APIs and class-extension device driver interfaces (DDIs) that manage the communication between the driver and Windows.</span></span> <span data-ttu-id="488fb-120">Les appareils capteur, emplacement et périphérique portable Windows (WPD) sont des exemples de classes d’appareils qui prennent en charge cette prise en charge.</span><span class="sxs-lookup"><span data-stu-id="488fb-120">Sensor, location, and Windows Portable Device (WPD) devices are some examples of device classes that have this support.</span></span> <span data-ttu-id="488fb-121">Si vous générez un pilote qui utilise l’un de ces DDIs fournis par Windows pour envoyer et recevoir des données et des commandes, il n’est pas nécessaire que votre application du Windows Store utilise l’API d’accès de l’appareil pour répartir l’accès ou envoyer des codes de contrôle d’entrée/sortie (e/s) directement au pilote.</span><span class="sxs-lookup"><span data-stu-id="488fb-121">If you build a driver that uses one of these Windows-provided DDIs to send and receive data and commands, there's no need for your Windows Store app to use the Device Access API to broker access or send input/output (I/O) control codes directly to the driver.</span></span> <br/> <span data-ttu-id="488fb-122">Quand une application du Windows Store demande l’accès à un périphérique bien connu à l’aide de l’API Windows Runtime pour sa classe de périphérique, Windows 8 gère l’accès des appareils en fonction du type d’appareil.</span><span class="sxs-lookup"><span data-stu-id="488fb-122">When a Windows Store app requests access to a well-known device by using the Windows Runtime API for its device class, Windows 8 will handle device access based on the type of device.</span></span> <span data-ttu-id="488fb-123">Les applications auront toujours accès à certains types d’appareils connus (tels que les accéléromètres) qui ne révèlent pas d’informations d’identification personnelle.</span><span class="sxs-lookup"><span data-stu-id="488fb-123">Apps will always get access to some well-known types of devices (such as accelerometers) that don't reveal any personally identifiable information.</span></span> <span data-ttu-id="488fb-124">D’autres types d’appareils connus doivent être déclarés dans le manifeste de l’application avant qu’une application puisse y accéder.</span><span class="sxs-lookup"><span data-stu-id="488fb-124">Other types of well-known devices must be declared in the application manifest before an app can access them.</span></span> <span data-ttu-id="488fb-125">L’utilisateur doit accorder à une application l’autorisation d’accéder aux appareils qui révèlent des informations sensibles, telles que l’emplacement, la webcam et les périphériques du microphone, ou peut coûter l’argent de l’utilisateur, comme les appareils haut débit mobile.</span><span class="sxs-lookup"><span data-stu-id="488fb-125">The user must grant permission for an app to access devices that reveal sensitive information, like location, webcam, and microphone devices, or can cost the user money, like mobile broadband devices.</span></span> <br/> |
| <span data-ttu-id="488fb-126">Appareil WPD qui implémente les services MTP.</span><span class="sxs-lookup"><span data-stu-id="488fb-126">A WPD device that implements MTP services.</span></span><br/> | <span data-ttu-id="488fb-127">Vous pouvez utiliser le pilote de classe MTP, ou vous pouvez générer un pilote à l’aide de l’interface DDI WPD.</span><span class="sxs-lookup"><span data-stu-id="488fb-127">You can use the MTP class driver, or you can build a driver by using the WPD DDI.</span></span><br/> <span data-ttu-id="488fb-128">Windows 8 prend en charge les services d’appareils MTP. Une application peut utiliser l’API de Windows Runtime [Windows. Devices. portable](/uwp/api/Windows.Devices.Portable) , l’API COM (Component Object Model) du périphérique portable ou l’automatisation wpd pour accéder à l’appareil.</span><span class="sxs-lookup"><span data-stu-id="488fb-128">Windows 8 provides support for MTP device services.And an app can use the [Windows.Devices.Portable](/uwp/api/Windows.Devices.Portable) Windows Runtime API, the Portable Device Component Object Model (COM) API, or WPD Automation to access the device.</span></span> <span data-ttu-id="488fb-129">Votre application n’a pas besoin d’utiliser l’API d’accès à l’appareil.</span><span class="sxs-lookup"><span data-stu-id="488fb-129">Your app doesn't need to use the Device Access API.</span></span><br/> |
| <span data-ttu-id="488fb-130">Un appareil qui n’a pas d’extension de classe ou de pilote de classe fourni par Windows.</span><span class="sxs-lookup"><span data-stu-id="488fb-130">A device that doesn't have a Windows-provided class extension or class driver.</span></span><br/>  | <span data-ttu-id="488fb-131">Dans ce cas, consultez les [applications d’appareil UWP pour](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices) les appareils internes pour les appareils spécialisés afin de déterminer si vous devez implémenter un accès personnalisé aux pilotes à l’aide de l’API d’accès à l’appareil.</span><span class="sxs-lookup"><span data-stu-id="488fb-131">In this case, consult the [UWP device apps for internal devices](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices) for specialized devices to determine whether you must implement custom driver access by using the Device Access API.</span></span><br/> |

## <a name="security-considerations"></a><span data-ttu-id="488fb-132">Considérations relatives à la sécurité</span><span class="sxs-lookup"><span data-stu-id="488fb-132">Security considerations</span></span>

<span data-ttu-id="488fb-133">Les articles suivants fournissent des conseils pour l’écriture de code C++ sécurisé :</span><span class="sxs-lookup"><span data-stu-id="488fb-133">The following articles provide guidance for writing secure C++ code:</span></span>

- [<span data-ttu-id="488fb-134">Meilleures pratiques de sécurité pour C++</span><span class="sxs-lookup"><span data-stu-id="488fb-134">Security Best Practices for C++</span></span>](/cpp/security/security-best-practices-for-cpp)
- <span data-ttu-id="488fb-135">[Patterns & Practices Guide de sécurité pour les applications]/Previous-versions/MSP-n-p/ff650760 (v = pandp. 10))</span><span class="sxs-lookup"><span data-stu-id="488fb-135">[Patterns & Practices Security Guidance for Applications]/previous-versions/msp-n-p/ff650760(v=pandp.10))</span></span>

## <a name="related-topics"></a><span data-ttu-id="488fb-136">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="488fb-136">Related topics</span></span>

<span data-ttu-id="488fb-137">[Exemple d’accès personnalisé aux pilotes](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Custom%20driver%20access%20sample), [applications pour appareils UWP pour appareils internes](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices), [Centre de développement matériel](/windows-hardware/drivers/)</span><span class="sxs-lookup"><span data-stu-id="488fb-137">[Custom Driver Access Sample](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Custom%20driver%20access%20sample), [UWP device apps for internal devices](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices), [Hardware Dev Center](/windows-hardware/drivers/)</span></span>
