---
title: Conception des extensions de classe d’assistance NDF
description: Cette rubrique a pour but de fournir des conseils génériques par le biais du processus de développement d’extension de classe d’assistance.
ms.assetid: f5dbd198-7d22-4e7e-830e-6753e9f4d6c8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d91ff748d8139aad17fca3710b17e73b5e1eaa14
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "103939841"
---
# <a name="designing-ndf-helper-class-extensions"></a><span data-ttu-id="202a4-103">Conception des extensions de classe d’assistance NDF</span><span class="sxs-lookup"><span data-stu-id="202a4-103">Designing NDF Helper Class Extensions</span></span>

<span data-ttu-id="202a4-104">Cette rubrique a pour but de fournir des conseils génériques par le biais du processus de développement d’extension de classe d’assistance.</span><span class="sxs-lookup"><span data-stu-id="202a4-104">This topic is intended to provide generic guidance through the helper class extension development process.</span></span> <span data-ttu-id="202a4-105">Les instructions de cette rubrique s’appliquent à toutes les extensions de classe d’assistance.</span><span class="sxs-lookup"><span data-stu-id="202a4-105">The guidance in this topic applies to all helper class extensions.</span></span> <span data-ttu-id="202a4-106">Pour obtenir des instructions plus spécifiques, consultez [classe d’assistance extensible de plateforme de filtrage Windows](windows-filtering-platform-extensible-helper-class.md) et [classes d’assistance extensibles de diagnostic sans fil 802,11](802-11-wireless-diagnostics-extensible-helper-classes.md).</span><span class="sxs-lookup"><span data-stu-id="202a4-106">For more specific guidance, see [Windows Filtering Platform Extensible Helper Class](windows-filtering-platform-extensible-helper-class.md) and [802.11 Wireless Diagnostics Extensible Helper Classes](802-11-wireless-diagnostics-extensible-helper-classes.md).</span></span>

## <a name="extending-ndf-functionality"></a><span data-ttu-id="202a4-107">Extension de la fonctionnalité NDF</span><span class="sxs-lookup"><span data-stu-id="202a4-107">Extending NDF Functionality</span></span>

<span data-ttu-id="202a4-108">Windows Vista et les versions ultérieures sont fournis avec diverses classes d’assistance déjà implémentées qui peuvent diagnostiquer et réparer un large éventail de problèmes.</span><span class="sxs-lookup"><span data-stu-id="202a4-108">Windows Vista and later versions ship with a variety of helper classes already implemented that can diagnose and repair a wide range of issues.</span></span> <span data-ttu-id="202a4-109">Dans certains cas, toutefois, les développeurs tiers peuvent souhaiter étendre ces classes d’assistance pour diagnostiquer et résoudre les problèmes spécifiques à leurs produits et implémentations particuliers.</span><span class="sxs-lookup"><span data-stu-id="202a4-109">At times, however, third-party developers may wish to extend these helper classes to diagnose and resolve issues specific to their particular products and implementations.</span></span>

<span data-ttu-id="202a4-110">Les classes d’assistance Microsoft NDF suivantes sont extensibles.</span><span class="sxs-lookup"><span data-stu-id="202a4-110">The following Microsoft NDF helper classes are extensible.</span></span>

-   [<span data-ttu-id="202a4-111">Plateforme de filtrage Windows</span><span class="sxs-lookup"><span data-stu-id="202a4-111">Windows Filtering Platform</span></span>](windows-filtering-platform-extensible-helper-class.md)
-   [<span data-ttu-id="202a4-112">Sécurité sans fil</span><span class="sxs-lookup"><span data-stu-id="202a4-112">Wireless Security</span></span>](802-11-wireless-diagnostics-extensible-helper-classes.md)

## <a name="implementing-a-helper-class-extension"></a><span data-ttu-id="202a4-113">Implémentation d’une extension de classe d’assistance</span><span class="sxs-lookup"><span data-stu-id="202a4-113">Implementing a Helper Class Extension</span></span>

<span data-ttu-id="202a4-114">Microsoft fournit deux interfaces qui peuvent être utilisées pour développer des extensions de classe d’assistance NDF.</span><span class="sxs-lookup"><span data-stu-id="202a4-114">Microsoft ships two interfaces that can be used to develop NDF helper class extensions.</span></span>

<span data-ttu-id="202a4-115">L’interface [**INetDiagHelperInfo**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelperinfo) est appelée par NDF pour confirmer qu’elle contient toutes les informations requises et qu’elle a choisi la classe d’assistance appropriée.</span><span class="sxs-lookup"><span data-stu-id="202a4-115">The [**INetDiagHelperInfo**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelperinfo) interface is called by NDF to validate that it has all required information and that it has chosen the correct helper class.</span></span> <span data-ttu-id="202a4-116">Pour ce faire, elle est effectuée via la méthode [**GetAttributeInfo**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelperinfo-getattributeinfo) .</span><span class="sxs-lookup"><span data-stu-id="202a4-116">It accomplishes this through the [**GetAttributeInfo**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelperinfo-getattributeinfo) method.</span></span>

<span data-ttu-id="202a4-117">L’interface [**INetDiagHelper**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelper) est appelée par NDF pour la plupart des activités qui se produisent pendant la procédure de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="202a4-117">The [**INetDiagHelper**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelper) interface is called by NDF for most of the activities that occur during the diagnostic procedure.</span></span> <span data-ttu-id="202a4-118">Plusieurs de ses méthodes sont requises, mais d’autres sont facultatives pour des utilisations spécifiques.</span><span class="sxs-lookup"><span data-stu-id="202a4-118">Several of its methods are required, but others are optional for specific uses.</span></span>

<span data-ttu-id="202a4-119">Les méthodes requises incluent [**Initialize**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-initialize) et [**GetDiagnosticsInfo**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-getdiagnosticsinfo).</span><span class="sxs-lookup"><span data-stu-id="202a4-119">The required methods include [**Initialize**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-initialize) and [**GetDiagnosticsInfo**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-getdiagnosticsinfo).</span></span> <span data-ttu-id="202a4-120">NDF appelle **Initialize** pour envoyer des paramètres de clé à l’extension de la classe d’assistance pour initialiser son état d’instance.</span><span class="sxs-lookup"><span data-stu-id="202a4-120">NDF calls **Initialize** to send key parameters to the helper class extension to initialize its instance state.</span></span> <span data-ttu-id="202a4-121">**GetDiagnosticsInfo** fournit une estimation de la durée pendant laquelle le diagnostic peut prendre et s’il nécessite l’emprunt d’identité du contexte de l’utilisateur d’origine.</span><span class="sxs-lookup"><span data-stu-id="202a4-121">**GetDiagnosticsInfo** provides an estimate of how long the diagnosis may take and whether it requires impersonation of the original user context.</span></span>

<span data-ttu-id="202a4-122">Une autre méthode, [**LowHealth**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-lowhealth), est appelée pour effectuer un diagnostic sur le composant réseau correspondant à la classe d’assistance.</span><span class="sxs-lookup"><span data-stu-id="202a4-122">Another method, [**LowHealth**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-lowhealth), is called to perform diagnosis on the network component corresponding to the helper class.</span></span> <span data-ttu-id="202a4-123">[**Cancel**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-cancel) est appelé quand NDF détermine qu’un diagnostic ou une réparation en cours doit être arrêté.</span><span class="sxs-lookup"><span data-stu-id="202a4-123">[**Cancel**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-cancel) is called when NDF determines an ongoing diagnosis or repair should be stopped.</span></span> <span data-ttu-id="202a4-124">Le [**nettoyage**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-cleanup) permet à NDF de libérer des ressources NDF utilisées par l’extension de la classe d’assistance depuis que l’appel à [**Initialize**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-initialize) a été effectué.</span><span class="sxs-lookup"><span data-stu-id="202a4-124">[**Cleanup**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-cleanup) allows NDF to release NDF resources that the helper class extension has used since the call to [**Initialize**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-initialize) was made.</span></span>

<span data-ttu-id="202a4-125">Pour plus d’informations sur les autres méthodes, consultez [**INetDiagHelper**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelper).</span><span class="sxs-lookup"><span data-stu-id="202a4-125">For information on additional methods, see [**INetDiagHelper**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelper).</span></span>

<span data-ttu-id="202a4-126">Les extensions de classe d’assistance NDF sont utilisées pour diagnostiquer et résoudre les problèmes de connectivité associés à une application ou un composant spécifique.</span><span class="sxs-lookup"><span data-stu-id="202a4-126">NDF helper class extensions are used to diagnose and resolve connectivity problems associated with a specific application or component.</span></span> <span data-ttu-id="202a4-127">Ils valident également la réussite ou l’échec d’une tentative de résolution.</span><span class="sxs-lookup"><span data-stu-id="202a4-127">They also validate the success or failure of a resolution attempt.</span></span>

<span data-ttu-id="202a4-128">Les développeurs qui envisagent l’implémentation d’une extension de classe d’assistance doivent effectuer les tâches suivantes.</span><span class="sxs-lookup"><span data-stu-id="202a4-128">Developers considering the implementation of a helper class extension should perform the following tasks.</span></span>

-   <span data-ttu-id="202a4-129">Identifiez les scénarios d’utilisateur dans lesquels les actions de diagnostic et de réparation sont utiles.</span><span class="sxs-lookup"><span data-stu-id="202a4-129">Identify user scenarios in which diagnostic and repair actions are helpful.</span></span>
-   <span data-ttu-id="202a4-130">Fournir des solutions aux problèmes de connectivité rencontrés fréquemment.</span><span class="sxs-lookup"><span data-stu-id="202a4-130">Provide resolutions to frequently encountered connectivity problems.</span></span>
-   <span data-ttu-id="202a4-131">Si une extension de classe d’assistance est requise, définissez un modèle d’intégrité de composant utilisé pour représenter l’état d’intégrité du composant dans NDF.</span><span class="sxs-lookup"><span data-stu-id="202a4-131">If a helper class extension is required, define a component health model used to represent the component's health state in NDF.</span></span>

## <a name="identify-user-scenarios"></a><span data-ttu-id="202a4-132">Identifier les scénarios utilisateur</span><span class="sxs-lookup"><span data-stu-id="202a4-132">Identify User Scenarios</span></span>

<span data-ttu-id="202a4-133">Le test et l’utilisation d’une application ont peut-être déjà fourni des modèles pouvant être détectés qu’une extension de classe d’assistance peut être en mesure de diagnostiquer et éventuellement de réparer.</span><span class="sxs-lookup"><span data-stu-id="202a4-133">Testing and use of an application may have already provided discernable patterns that a helper class extension may be able to diagnose and possibly repair.</span></span> <span data-ttu-id="202a4-134">Les développeurs d’applications peuvent utiliser ces données pour déterminer les problèmes de connectivité les plus importants à résoudre et pour identifier les scénarios utilisateur dans lesquels des problèmes de connectivité sont susceptibles de se produire.</span><span class="sxs-lookup"><span data-stu-id="202a4-134">Application developers can use this data to determine the most important connectivity issues to address and to identify the user scenarios in which connectivity issues are likely to occur.</span></span>

<span data-ttu-id="202a4-135">La détermination de la cause racine de chaque problème est essentielle dans cette partie du processus.</span><span class="sxs-lookup"><span data-stu-id="202a4-135">Determining the root cause of each problem is vital in this part of the process.</span></span> <span data-ttu-id="202a4-136">Cela peut nécessiter des recherches approfondies, mais permet de créer des logiciels qui sont beaucoup plus faciles à utiliser par les utilisateurs et les administrateurs.</span><span class="sxs-lookup"><span data-stu-id="202a4-136">This may require extensive research, but will help create software that is far easier for users and administrators to use.</span></span> <span data-ttu-id="202a4-137">Si une cause racine n’est pas identifiée, il devient difficile, voire impossible, d’offrir la résolution des problèmes à l’aide de l’extension de classe d’assistance.</span><span class="sxs-lookup"><span data-stu-id="202a4-137">If a root cause is not identified, it becomes difficult or impossible to offer problem resolution using the helper class extension.</span></span>

## <a name="provide-resolutions"></a><span data-ttu-id="202a4-138">Fournir des solutions</span><span class="sxs-lookup"><span data-stu-id="202a4-138">Provide Resolutions</span></span>

<span data-ttu-id="202a4-139">Une fois qu’une équipe de développement a identifié les causes racines des problèmes associés à son logiciel, l’étape suivante consiste à identifier les actions de résolution appropriées pour aider l’utilisateur à résoudre le problème aussi efficacement que possible.</span><span class="sxs-lookup"><span data-stu-id="202a4-139">After a development team has identified the root causes of problems associated with their software, the next step is to identify the appropriate resolution actions for helping the user solve the problem as efficiently as possible.</span></span>

<span data-ttu-id="202a4-140">Toutes les résolutions ne nécessitent pas la création d’une extension de classe d’assistance ou d’une action automatisée.</span><span class="sxs-lookup"><span data-stu-id="202a4-140">Not all resolutions require that a helper class extension or automated action be created.</span></span> <span data-ttu-id="202a4-141">Dans certains cas, l’équipe peut déterminer que la meilleure approche pour résoudre une cause racine est de corriger ou de mettre à jour le composant, de fournir du contenu d’aide supplémentaire pour le composant ou de développer d’autres stratégies qui offrent de meilleures solutions à long terme.</span><span class="sxs-lookup"><span data-stu-id="202a4-141">In some cases, the team may determine that the best approach to resolving a root cause is to fix or update the component, provide additional help content for the component, or develop other strategies that provide better long-term solutions.</span></span>

<span data-ttu-id="202a4-142">Pour les problèmes dans lesquels une action automatisée est idéale, la création d’une extension de classe d’assistance NDF est souvent une excellente solution.</span><span class="sxs-lookup"><span data-stu-id="202a4-142">For problems in which an automated action is ideal, creating an NDF helper class extension is often an excellent solution.</span></span>

<span data-ttu-id="202a4-143">Les extensions de classe d’assistance renvoient des informations sur les causes racines et les informations de réparation aux utilisateurs via NDF.</span><span class="sxs-lookup"><span data-stu-id="202a4-143">Helper class extensions return information about root causes and repair information to users through NDF.</span></span> <span data-ttu-id="202a4-144">Les chaînes utilisées pour décrire les causes racines et les informations de réparation doivent être simples et faciles à comprendre pour un utilisateur non technique.</span><span class="sxs-lookup"><span data-stu-id="202a4-144">The strings used to describe the root causes and repair information must be simple and easy for a non-technical user to understand.</span></span> <span data-ttu-id="202a4-145">Pour plus d’informations sur ces chaînes, consultez [instructions de l’interface utilisateur pour les extensions de classe d’assistance NDF](user-interface-guidelines-for-ndf-helper-class-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="202a4-145">For more information on these strings, see [User Interface Guidelines for NDF Helper Class Extensions](user-interface-guidelines-for-ndf-helper-class-extensions.md).</span></span>

## <a name="define-a-component-health-model"></a><span data-ttu-id="202a4-146">Définir un modèle d’intégrité de composant</span><span class="sxs-lookup"><span data-stu-id="202a4-146">Define a Component Health Model</span></span>

<span data-ttu-id="202a4-147">Les développeurs de logiciels doivent définir des niveaux d’intégrité associés à la facilité de gestion des problèmes de mise en réseau.</span><span class="sxs-lookup"><span data-stu-id="202a4-147">Software developers should define levels of "health" associated with the manageability of networking problems.</span></span> <span data-ttu-id="202a4-148">Un modèle d’intégrité utilisé pour développer des classes d’assistance définit uniquement deux niveaux d’intégrité : intègre et non intègre.</span><span class="sxs-lookup"><span data-stu-id="202a4-148">A health model used to develop helper classes defines just two levels of health: healthy and unhealthy.</span></span> <span data-ttu-id="202a4-149">Ces niveaux peuvent également être appliqués aux extensions de classe d’assistance NDF.</span><span class="sxs-lookup"><span data-stu-id="202a4-149">These levels can also be applied to NDF helper class extensions.</span></span>

<span data-ttu-id="202a4-150">Un composant sain indique une absence de problèmes.</span><span class="sxs-lookup"><span data-stu-id="202a4-150">A healthy component indicates an absence of problems.</span></span> <span data-ttu-id="202a4-151">Un composant peut être considéré comme défectueux en raison de ses propres problèmes, ou en raison de problèmes survenant dans d’autres composants dont il dépend.</span><span class="sxs-lookup"><span data-stu-id="202a4-151">A component can be considered unhealthy because of its own problems, or because of problems occurring in other components on which it depends.</span></span>



| <span data-ttu-id="202a4-152">Terme</span><span class="sxs-lookup"><span data-stu-id="202a4-152">Term</span></span>                                                                                                                             | <span data-ttu-id="202a4-153">Description</span><span class="sxs-lookup"><span data-stu-id="202a4-153">Description</span></span>                                                                                                                      |
|----------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="202a4-154"><span id="LowHealth"></span><span id="lowhealth"></span><span id="LOWHEALTH"></span>LowHealth</span><span class="sxs-lookup"><span data-stu-id="202a4-154"><span id="LowHealth"></span><span id="lowhealth"></span><span id="LOWHEALTH"></span>LowHealth</span></span><br/>                         | <span data-ttu-id="202a4-155">Cet état indique un niveau inacceptable d’échecs de ce composant, et que le composant est le problème.</span><span class="sxs-lookup"><span data-stu-id="202a4-155">This state indicates an unacceptable level of failures from this component, and that the component is the problem.</span></span><br/>    |
| <span data-ttu-id="202a4-156"><span id="LowHealth_Below"></span><span id="lowhealth_below"></span><span id="LOWHEALTH_BELOW"></span>LowHealth ci-dessous</span><span class="sxs-lookup"><span data-stu-id="202a4-156"><span id="LowHealth_Below"></span><span id="lowhealth_below"></span><span id="LOWHEALTH_BELOW"></span>LowHealth Below</span></span><br/> | <span data-ttu-id="202a4-157">Cet état indique un niveau inacceptable d’échecs à partir d’un composant d’ordinateur local dont dépend ce composant.</span><span class="sxs-lookup"><span data-stu-id="202a4-157">This state indicates an unacceptable level of failures from a local machine component that this component depends on.</span></span><br/> |



 

<span data-ttu-id="202a4-158">Lorsque le diagnostic a lieu à l’aide d’NDF, l’extension de la classe d’assistance est invitée à une série de questions pour déterminer son état d’intégrité.</span><span class="sxs-lookup"><span data-stu-id="202a4-158">When diagnosis takes place using NDF, the helper class extension is asked a series of questions to determine its state of health.</span></span> <span data-ttu-id="202a4-159">Si l’extension répond qu’elle n’est pas intègre, NDF demande de clarifier les questions, d’essayer de diagnostiquer le problème, son emplacement et l’emplacement suivant.</span><span class="sxs-lookup"><span data-stu-id="202a4-159">If the extension responds that it is unhealthy, NDF asks clarifying questions, trying to diagnose the problem, its location, and where to look next.</span></span> <span data-ttu-id="202a4-160">Chaque classe d’assistance doit être en mesure de répondre à la question de l’intégrité faible afin de mieux diriger les activités de diagnostic appropriées.</span><span class="sxs-lookup"><span data-stu-id="202a4-160">Each helper class must be able to answer the question of low health in order to better direct appropriate diagnostic activities.</span></span>

## <a name="related-topics"></a><span data-ttu-id="202a4-161">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="202a4-161">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="202a4-162">Classe d’assistance extensible de plateforme de filtrage Windows</span><span class="sxs-lookup"><span data-stu-id="202a4-162">Windows Filtering Platform Extensible Helper Class</span></span>](windows-filtering-platform-extensible-helper-class.md)
</dt> <dt>

[<span data-ttu-id="202a4-163">Classes d’assistance extensibles pour les diagnostics sans fil 802,11</span><span class="sxs-lookup"><span data-stu-id="202a4-163">802.11 Wireless Diagnostics Extensible Helper Classes</span></span>](802-11-wireless-diagnostics-extensible-helper-classes.md)
</dt> </dl>

 

 





