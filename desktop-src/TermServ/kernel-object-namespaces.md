---
title: Espaces de noms d’objets de noyau
description: Services Bureau à distance utilise plusieurs espaces de noms pour les objets de noyau ; un espace de noms global est principalement utilisé par les services dans les applications client/serveur.
ms.assetid: 771e0bbf-bd73-4e87-aa1e-945c1287b517
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 20680a32c8b35e3fa2f1ab15c732683d424550f0
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "106510901"
---
# <a name="kernel-object-namespaces"></a><span data-ttu-id="38875-103">Espaces de noms d’objets de noyau</span><span class="sxs-lookup"><span data-stu-id="38875-103">Kernel object namespaces</span></span>

<span data-ttu-id="38875-104">Un serveur de Services Bureau à distance possède plusieurs espaces de noms pour les objets de noyau nommés suivants : événements, sémaphores, mutex, minuteries prédéfinies, objets de mappage de fichiers et objets de traitement.</span><span class="sxs-lookup"><span data-stu-id="38875-104">A Remote Desktop Services server has multiple namespaces for the following named kernel objects: events, semaphores, mutexes, waitable timers, file-mapping objects, and job objects.</span></span> <span data-ttu-id="38875-105">Il existe un espace de noms global utilisé principalement par les services dans les applications client/serveur.</span><span class="sxs-lookup"><span data-stu-id="38875-105">There is a global namespace used primarily by services in client/server applications.</span></span> <span data-ttu-id="38875-106">En outre, chaque session client dispose d’un espace de noms distinct pour ces objets, comme dans Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="38875-106">In addition, each client session has a separate namespace for these objects, such as in Windows Vista.</span></span>

<span data-ttu-id="38875-107">Les espaces de noms de session client distincts permettent à plusieurs clients d’exécuter les mêmes applications sans interférer entre eux.</span><span class="sxs-lookup"><span data-stu-id="38875-107">The separate client session namespaces enable multiple clients to run the same applications without interfering with each other.</span></span> <span data-ttu-id="38875-108">Pour les processus démarrés dans le cadre d’une session cliente, le système utilise l’espace de noms de session par défaut.</span><span class="sxs-lookup"><span data-stu-id="38875-108">For processes started under a client session, the system uses the session namespace by default.</span></span> <span data-ttu-id="38875-109">Toutefois, ces processus peuvent utiliser l’espace de noms global en ajoutant le \\ préfixe « global » au nom de l’objet.</span><span class="sxs-lookup"><span data-stu-id="38875-109">However, these processes can use the global namespace by prepending the "Global\\" prefix to the object name.</span></span> <span data-ttu-id="38875-110">Par exemple, le code suivant appelle [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) et crée un objet d’événement nommé CSAPP dans l’espace de noms global :</span><span class="sxs-lookup"><span data-stu-id="38875-110">For example, the following code calls [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) and creates an event object named CSAPP in the global namespace:</span></span>

> [!Note]  
> <span data-ttu-id="38875-111">L’espace de noms global n’est pas disponible pour les applications du Windows Store.</span><span class="sxs-lookup"><span data-stu-id="38875-111">The global namespace is not available for Windows Store apps.</span></span>

 

`CreateEvent( NULL, FALSE, FALSE, "Global\\CSAPP" );`

<span data-ttu-id="38875-112">Les applications de service dans un environnement de Services Bureau à distance utilisent l’espace de noms global par défaut.</span><span class="sxs-lookup"><span data-stu-id="38875-112">Service applications in a Remote Desktop Services environment use the global namespace by default.</span></span>

<span data-ttu-id="38875-113">La session zéro est utilisée uniquement pour les services d’hébergement, et il n’existe aucune session de console, contrairement aux versions précédentes de Windows.</span><span class="sxs-lookup"><span data-stu-id="38875-113">Session zero is only used for hosting services, and there is no console session, unlike previous versions of Windows.</span></span>

<span data-ttu-id="38875-114">L’espace de noms global permet aux processus sur plusieurs sessions clientes de communiquer avec une application de service.</span><span class="sxs-lookup"><span data-stu-id="38875-114">The global namespace enables processes on multiple client sessions to communicate with a service application.</span></span> <span data-ttu-id="38875-115">Par exemple, une application client/serveur peut utiliser un objet mutex pour la synchronisation.</span><span class="sxs-lookup"><span data-stu-id="38875-115">For example, a client/server application might use a mutex object for synchronization.</span></span> <span data-ttu-id="38875-116">Le module de serveur peut créer l’objet mutex dans l’espace de noms global.</span><span class="sxs-lookup"><span data-stu-id="38875-116">The server module can create the mutex object in the global namespace.</span></span> <span data-ttu-id="38875-117">Ensuite, une session cliente peut utiliser le \\ préfixe « global » pour ouvrir l’objet Mutex.</span><span class="sxs-lookup"><span data-stu-id="38875-117">Then a client session can use the "Global\\" prefix to open the mutex object.</span></span>

<span data-ttu-id="38875-118">L’espace de noms global est également utilisé pour les applications qui utilisent des objets nommés pour détecter qu’une instance de l’application est déjà en cours d’exécution dans le système pour toutes les sessions.</span><span class="sxs-lookup"><span data-stu-id="38875-118">Another use of the global namespace is for applications that use named objects to detect that there is already an instance of the application running in the system across all sessions.</span></span> <span data-ttu-id="38875-119">Cet objet nommé doit être créé ou ouvert dans l’espace de noms global au lieu de l’espace de noms par session.</span><span class="sxs-lookup"><span data-stu-id="38875-119">This named object must be created or opened in the global namespace instead of the per-session namespace.</span></span> <span data-ttu-id="38875-120">Le cas le plus courant de l’exécution de l’application une fois par session est pris en charge par défaut, car l’objet nommé est créé dans un espace de noms par session.</span><span class="sxs-lookup"><span data-stu-id="38875-120">The more common case of running the application once per session is supported by default because the named object is created in a per session namespace.</span></span>

<span data-ttu-id="38875-121">Outre le préfixe « global \\ », les processus clients peuvent utiliser le \\ préfixe « local » pour créer explicitement un objet dans leur espace de noms de session.</span><span class="sxs-lookup"><span data-stu-id="38875-121">In addition to the "Global\\" prefix, client processes can use the "Local\\" prefix to explicitly create an object in their session namespace.</span></span> <span data-ttu-id="38875-122">Ces mots clés respectent la casse.</span><span class="sxs-lookup"><span data-stu-id="38875-122">These keywords are case sensitive.</span></span>

<span data-ttu-id="38875-123">Le \\ préfixe « session » est réservé à l’utilisation du système et vous ne devez pas l’utiliser dans les noms des objets du noyau.</span><span class="sxs-lookup"><span data-stu-id="38875-123">The "Session\\" prefix is reserved for system use and you should not use it in names of kernel objects.</span></span>

<span data-ttu-id="38875-124">Le changement rapide d’utilisateur est implémenté à l’aide de sessions de Services Bureau à distance.</span><span class="sxs-lookup"><span data-stu-id="38875-124">Fast user switching is implemented by using Remote Desktop Services sessions.</span></span> <span data-ttu-id="38875-125">Le premier utilisateur qui se connecte utilise la session un, le prochain utilisateur à se connecter utilise la session deux, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="38875-125">The first user to log on uses session one, the next user to log on uses session two, and so on.</span></span> <span data-ttu-id="38875-126">Les noms d’objets de noyau doivent respecter les instructions indiquées pour Services Bureau à distance afin que les applications puissent prendre en charge plusieurs utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="38875-126">Kernel object names must follow the guidelines outlined for Remote Desktop Services so that applications can support multiple users.</span></span>

<span data-ttu-id="38875-127">La création d’un objet de mappage de fichier dans l’espace de noms global, à l’aide de [**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga), à partir d’une session autre que la session zéro est une opération privilégiée.</span><span class="sxs-lookup"><span data-stu-id="38875-127">The creation of a file-mapping object in the global namespace, by using [**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga), from a session other than session zero is a privileged operation.</span></span> <span data-ttu-id="38875-128">Pour cette raison, [SeCreateGlobalPrivilege](/windows/desktop/SecAuthZ/authorization-constants) doit être activé pour qu’une application exécutée dans une session de serveur de l’hôte de session Bureau à distance arbitraire Bureau à distance soit activée afin de pouvoir créer un objet de mappage de fichiers dans l’espace de noms global.</span><span class="sxs-lookup"><span data-stu-id="38875-128">Because of this, an application running in an arbitrary Remote Desktop Session Host (RD Session Host) server session must have [SeCreateGlobalPrivilege](/windows/desktop/SecAuthZ/authorization-constants) enabled in order to create a file-mapping object in the global namespace successfully.</span></span> <span data-ttu-id="38875-129">La vérification des privilèges est limitée à la création d’objets de mappage de fichiers et ne s’applique pas à l’ouverture de ceux qui existent déjà.</span><span class="sxs-lookup"><span data-stu-id="38875-129">The privilege check is limited to the creation of file-mapping objects, and does not apply to opening existing ones.</span></span> <span data-ttu-id="38875-130">Par exemple, si un service ou le système crée un objet de mappage de fichiers, tout processus en cours d’exécution dans une session peut accéder à cet objet de mappage de fichiers, à condition que l’utilisateur dispose de l’accès nécessaire.</span><span class="sxs-lookup"><span data-stu-id="38875-130">For example, if a service or the system creates a file-mapping object, any process running in any session can access that file-mapping object provided that the user has the necessary access.</span></span>

 

 