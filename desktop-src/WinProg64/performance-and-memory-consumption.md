---
title: Performances et consommation de mémoire sous WOW64
description: Les performances et la consommation de mémoire sous WOW64 sont déterminées par les facteurs suivants.
ms.assetid: 77759840-7b1a-4956-a038-d6374b6ec354
keywords:
- performances sous la programmation Windows WOW64 64 bits
- consommation de mémoire sous la programmation Windows WOW64 64 bits
- WOW64, programmation Windows 64 bits, performances
- WOW64, programmation Windows 64 bits, consommation de mémoire
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8928e7d50c8396aa2b5b34081af3e4ee2719e044
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104382580"
---
# <a name="performance-and-memory-consumption-under-wow64"></a><span data-ttu-id="70fb3-107">Performances et consommation de mémoire sous WOW64</span><span class="sxs-lookup"><span data-stu-id="70fb3-107">Performance and Memory Consumption Under WOW64</span></span>

<span data-ttu-id="70fb3-108">Les performances et la consommation de mémoire sous WOW64 sont déterminées par les facteurs suivants :</span><span class="sxs-lookup"><span data-stu-id="70fb3-108">Performance and memory consumption under WOW64 are determined by the following factors:</span></span>

-   <span data-ttu-id="70fb3-109">Matériel du processeur.</span><span class="sxs-lookup"><span data-stu-id="70fb3-109">Processor hardware.</span></span> <span data-ttu-id="70fb3-110">L’émulation d’instruction est effectuée sur la puce.</span><span class="sxs-lookup"><span data-stu-id="70fb3-110">Instruction emulation is performed on the chip.</span></span> <span data-ttu-id="70fb3-111">Sur le processeur x64, les instructions x86 sont exécutées en mode natif par le processeur.</span><span class="sxs-lookup"><span data-stu-id="70fb3-111">On the x64 processor, x86 instructions are executed natively by the processor.</span></span> <span data-ttu-id="70fb3-112">Par conséquent, la vitesse d’exécution sous WOW64 sur x64 est similaire à celle de Windows 32 bits.</span><span class="sxs-lookup"><span data-stu-id="70fb3-112">Therefore, execution speed under WOW64 on x64 is similar to its speed under 32-bit Windows.</span></span> <span data-ttu-id="70fb3-113">Sur le processeur Intel Itanium et les processeurs ARM64, un plus grand nombre de logiciels est impliqué dans l’émulation et les performances en sont affectées.</span><span class="sxs-lookup"><span data-stu-id="70fb3-113">On the Intel Itanium processor and any ARM64 processors, more software is involved in the emulation, and performance suffers as a result.</span></span>
-   <span data-ttu-id="70fb3-114">Surcharge d’API de thunk.</span><span class="sxs-lookup"><span data-stu-id="70fb3-114">API thunk overhead.</span></span> <span data-ttu-id="70fb3-115">Cette surcharge est faible par rapport aux appels système au noyau NT.</span><span class="sxs-lookup"><span data-stu-id="70fb3-115">This overhead is small compared to system calls to the NT kernel.</span></span> <span data-ttu-id="70fb3-116">Les fonctions du noyau NT sont conçues pour être rarement appelées.</span><span class="sxs-lookup"><span data-stu-id="70fb3-116">NT kernel functions are intended to be called infrequently.</span></span>
-   <span data-ttu-id="70fb3-117">Taille de la mémoire virtuelle.</span><span class="sxs-lookup"><span data-stu-id="70fb3-117">Virtual memory size.</span></span> <span data-ttu-id="70fb3-118">Sur le processeur Intel Itanium, WOW64 ajoute une surcharge significative si au moins deux instances de la même application 32 bits s’exécutent simultanément.</span><span class="sxs-lookup"><span data-stu-id="70fb3-118">On the Intel Itanium processor, WOW64 adds significant overhead if two or more instances of the same 32-bit application are running concurrently.</span></span> <span data-ttu-id="70fb3-119">Cela est dû aux pages natives de 8 Ko sur Intel Itanium, qui compliquent l’émulation des pages de 4 Ko natives sur l’architecture x86 (d’autres pages sont marquées comme étant accessibles en écriture ; toutes les pages accessibles en écriture sont privées pour le processus).</span><span class="sxs-lookup"><span data-stu-id="70fb3-119">This is due to the native 8 KB pages on the Intel Itanium, which complicates the emulation of the native 4 KB pages on the x86 architecture (more pages are marked as writable; all writable pages are private to the process).</span></span> <span data-ttu-id="70fb3-120">Cela peut nuire à l’évolutivité des services Terminal Server sur certains processeurs.</span><span class="sxs-lookup"><span data-stu-id="70fb3-120">This can adversely affect the scalability of Terminal Services on certain processors.</span></span> <span data-ttu-id="70fb3-121">Ce n’est pas le cas pour le processeur x64.</span><span class="sxs-lookup"><span data-stu-id="70fb3-121">This is not the case for the x64 processor.</span></span>
-   <span data-ttu-id="70fb3-122">Plage de travail.</span><span class="sxs-lookup"><span data-stu-id="70fb3-122">Working set.</span></span> <span data-ttu-id="70fb3-123">WOW64 augmente la taille de la plage de travail de l’application.</span><span class="sxs-lookup"><span data-stu-id="70fb3-123">WOW64 increases the size of the application's working set.</span></span>

<span data-ttu-id="70fb3-124">WOW64 permet aux applications 32 bits de tirer parti du noyau 64 bits.</span><span class="sxs-lookup"><span data-stu-id="70fb3-124">WOW64 enables 32-bit applications to take advantage of the 64-bit kernel.</span></span> <span data-ttu-id="70fb3-125">Par conséquent, les applications 32 bits peuvent utiliser un plus grand nombre de handles de noyau et de handles de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="70fb3-125">Therefore, 32-bit applications can use a larger number of kernel handles and window handles.</span></span> <span data-ttu-id="70fb3-126">Toutefois, les applications 32 bits peuvent ne pas être en mesure de créer autant de threads sous WOW64 qu’elles le peuvent quand elles s’exécutent en mode natif sur des systèmes x86, car WOW64 alloue une pile 64 bits supplémentaire (généralement 512 Ko) pour chaque thread.</span><span class="sxs-lookup"><span data-stu-id="70fb3-126">However, 32-bit applications may not be able to create as many threads under WOW64 as they can when running natively on x86-based systems because WOW64 allocates an additional 64-bit stack (usually 512 KB) for each thread.</span></span> <span data-ttu-id="70fb3-127">En outre, une certaine quantité d’espace d’adressage est réservée pour WOW64 et les structures de données qu’elle utilise.</span><span class="sxs-lookup"><span data-stu-id="70fb3-127">In addition, some amount of address space is reserved for WOW64 itself and the data structures it uses.</span></span> <span data-ttu-id="70fb3-128">La quantité réservée dépend du processeur. davantage est réservé sur Intel Itanium que sur les processeurs x64 ou ARM64.</span><span class="sxs-lookup"><span data-stu-id="70fb3-128">The amount reserved depends on the processor; more is reserved on the Intel Itanium than on the x64 or ARM64 processors.</span></span>

<span data-ttu-id="70fb3-129">Si l’indicateur de prise [**en \_ \_ charge d' \_ adresses \_ volumineux du fichier image**](/windows/desktop/api/dbghelp/ns-dbghelp-loaded_image) est défini dans l’en-tête de l’image, chaque application 32 bits reçoit 4 Go d’espace d’adressage virtuel dans l’environnement WOW64.</span><span class="sxs-lookup"><span data-stu-id="70fb3-129">If the application has the [**IMAGE\_FILE\_LARGE\_ADDRESS\_AWARE**](/windows/desktop/api/dbghelp/ns-dbghelp-loaded_image) flag set in the image header, each 32-bit application receives 4 GB of virtual address space in the WOW64 environment.</span></span> <span data-ttu-id="70fb3-130">Si l’indicateur de **\_ \_ \_ \_ reconnaissance d’adresse importante du fichier image** n’est pas défini, chaque application 32 bits reçoit 2 Go d’espace d’adressage virtuel dans l’environnement WOW64.</span><span class="sxs-lookup"><span data-stu-id="70fb3-130">If the **IMAGE\_FILE\_LARGE\_ADDRESS\_AWARE** flag is not set, each 32-bit application receives 2 GB of virtual address space in the WOW64 environment.</span></span>

 

 