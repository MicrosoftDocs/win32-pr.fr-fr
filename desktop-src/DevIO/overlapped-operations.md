---
description: Les opérations avec chevauchement permettent à un thread d’exécuter une opération d’e/s longue en arrière-plan, ce qui laisse le thread libre d’effectuer d’autres tâches.
ms.assetid: 8c0eb20d-685a-4750-8253-a87089b68509
title: Opérations avec chevauchement
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 19d8dc9e39386e25129d3e7d7a5281a8299d54ed
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104483272"
---
# <a name="overlapped-operations"></a><span data-ttu-id="71344-103">Opérations avec chevauchement</span><span class="sxs-lookup"><span data-stu-id="71344-103">Overlapped Operations</span></span>

<span data-ttu-id="71344-104">Les opérations avec chevauchement permettent à un thread d’exécuter une opération d’e/s longue en arrière-plan, ce qui laisse le thread libre d’effectuer d’autres tâches.</span><span class="sxs-lookup"><span data-stu-id="71344-104">Overlapped operations enable a thread to perform a time-consuming I/O operation in the background, leaving the thread free to perform other tasks.</span></span> <span data-ttu-id="71344-105">Pour permettre les opérations d’e/s avec chevauchement sur une ressource de communication, le thread doit spécifier l’indicateur de **\_ \_ chevauchement** de l’indicateur de fichier dans la fonction [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) lorsque le descripteur est ouvert.</span><span class="sxs-lookup"><span data-stu-id="71344-105">To enable overlapped I/O operations on a communications resource, the thread must specify the **FILE\_FLAG\_OVERLAPPED** flag in the [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) function when the handle is opened.</span></span> <span data-ttu-id="71344-106">Pour exécuter la fonction [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) ou [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) comme une opération avec chevauchement, le thread appelant doit spécifier un pointeur vers une structure [**OVERLAPPED**](/windows/desktop/api/minwinbase/ns-minwinbase-overlapped) .</span><span class="sxs-lookup"><span data-stu-id="71344-106">To run the [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) or [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) function as an overlapped operation, the calling thread must specify a pointer to an [**OVERLAPPED**](/windows/desktop/api/minwinbase/ns-minwinbase-overlapped) structure.</span></span> <span data-ttu-id="71344-107">La structure **OVERLAPPED** doit contenir un handle vers un objet d’événement à réinitialisation manuelle (et non à une réinitialisation automatique).</span><span class="sxs-lookup"><span data-stu-id="71344-107">The **OVERLAPPED** structure must contain a handle to a manual-reset (not an auto-reset) event object.</span></span> <span data-ttu-id="71344-108">Le système définit l’état de l’objet d’événement sur non signalé lorsqu’un appel à la fonction d’e/s retourne une valeur avant que l’opération ne soit terminée.</span><span class="sxs-lookup"><span data-stu-id="71344-108">The system sets the state of the event object to not-signaled when a call to the I/O function returns before the operation has been completed.</span></span> <span data-ttu-id="71344-109">Le système définit l’état de l’objet d’événement comme étant signalé lorsque l’opération est terminée.</span><span class="sxs-lookup"><span data-stu-id="71344-109">The system sets the state of the event object to signaled when the operation has been completed.</span></span> <span data-ttu-id="71344-110">Le thread utilise une fonction Wait pour vérifier l’état actuel de l’objet d’événement ou pour attendre que son état soit signalé.</span><span class="sxs-lookup"><span data-stu-id="71344-110">The thread uses a wait function to check the current state of the event object or to wait for its state to be signaled.</span></span>

<span data-ttu-id="71344-111">Les fonctions [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) et [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) ne peuvent être exécutées qu’en tant qu’opérations avec chevauchement.</span><span class="sxs-lookup"><span data-stu-id="71344-111">The [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) and [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) functions can be performed only as overlapped operations.</span></span> <span data-ttu-id="71344-112">Le thread appelant spécifie un pointeur vers la fonction [**FileIOCompletionRoutine**](/windows/desktop/api/minwinbase/nc-minwinbase-lpoverlapped_completion_routine) , qui est exécutée lorsque l’opération Overlapped est terminée.</span><span class="sxs-lookup"><span data-stu-id="71344-112">The calling thread specifies a pointer to the [**FileIOCompletionRoutine**](/windows/desktop/api/minwinbase/nc-minwinbase-lpoverlapped_completion_routine) function, which is performed when the overlapped operation is completed.</span></span> <span data-ttu-id="71344-113">La routine d’achèvement est exécutée uniquement si le thread appelant effectue une opération d’alerte.</span><span class="sxs-lookup"><span data-stu-id="71344-113">The completion routine is executed only if the calling thread performs an alertable operation.</span></span>

<span data-ttu-id="71344-114">Pour plus d’informations sur les objets d’événement, les fonctions Wait, les attentes alertables et les routines de saisie semi-automatique, consultez [à propos de la synchronisation](/windows/desktop/Sync/about-synchronization).</span><span class="sxs-lookup"><span data-stu-id="71344-114">For more information about event objects, wait functions, alertable waits, and completion routines, see [About Synchronization](/windows/desktop/Sync/about-synchronization).</span></span>

 

 
