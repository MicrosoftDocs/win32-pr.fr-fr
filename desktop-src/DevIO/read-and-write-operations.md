---
description: Windows prend en charge les opérations d’e/s de fichier synchrones et asynchrones (avec chevauchement) sur les ressources de communication série.
ms.assetid: cee44596-ad73-4afb-b86a-744b0b46d9d5
title: Opérations de lecture et d’écriture
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a26cc53dbe8c52286fe53c81202ab3828808b1aa
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104110591"
---
# <a name="read-and-write-operations"></a><span data-ttu-id="cb8e2-103">Opérations de lecture et d’écriture</span><span class="sxs-lookup"><span data-stu-id="cb8e2-103">Read and Write Operations</span></span>

<span data-ttu-id="cb8e2-104">Windows prend en charge les opérations d’e/s de fichier synchrones et asynchrones (avec chevauchement) sur les ressources de communication série.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-104">Windows supports both synchronous and asynchronous (overlapped) file I/O operations on serial communications resources.</span></span> <span data-ttu-id="cb8e2-105">Les opérations avec chevauchement permettent au thread appelant d’effectuer d’autres tâches pendant que l’opération s’exécute en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-105">Overlapped operations enable the calling thread to perform other tasks while the operation executes in the background.</span></span> <span data-ttu-id="cb8e2-106">Un thread utilise la fonction [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) ou [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) pour lire à partir d’une ressource de communication, et la fonction [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) ou [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) pour écrire dans une ressource de communication.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-106">A thread uses the [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) or [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) function to read from a communications resource, and the [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) or [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) function to write to a communications resource.</span></span> <span data-ttu-id="cb8e2-107">**ReadFile** et **WriteFile** peuvent être exécutés de façon synchrone ou asynchrone.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-107">**ReadFile** and **WriteFile** can be performed synchronously or asynchronously.</span></span> <span data-ttu-id="cb8e2-108">**ReadFileEx** et **WriteFileEx** peuvent être exécutés de façon asynchrone uniquement.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-108">**ReadFileEx** and **WriteFileEx** can only be performed asynchronously.</span></span>

<span data-ttu-id="cb8e2-109">Le comportement de ces fonctions de lecture et d’écriture est affecté par le fait que la fonction est exécutée comme une opération avec chevauchement, si les paramètres de délai d’attente sont associés au handle et si les paramètres de contrôle de flow sont associés au descripteur.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-109">The behavior of these read and write functions is affected by whether the function is executed as an overlapped operation, whether the time-out parameters are associated with the handle, and whether flow control parameters are associated with the handle.</span></span>

<span data-ttu-id="cb8e2-110">Un thread peut également écrire dans une ressource de communication à l’aide de la fonction [**TransmitCommChar**](/windows/desktop/api/Winbase/nf-winbase-transmitcommchar) , qui transmet un caractère spécifié avant les données en attente dans la mémoire tampon de sortie.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-110">A thread can also write to a communications resource by using the [**TransmitCommChar**](/windows/desktop/api/Winbase/nf-winbase-transmitcommchar) function, which transmits a specified character ahead of any pending data in the output buffer.</span></span> <span data-ttu-id="cb8e2-111">Cette fonction est utile pour transmettre un signal de haute priorité au système récepteur.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-111">This function is useful for transmitting a high priority signal character to the receiving system.</span></span> <span data-ttu-id="cb8e2-112">La transmission du caractère de priorité élevée est toujours soumise au contrôle de transit et aux délais d’attente d’écriture, et l’opération est exécutée de façon synchrone.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-112">Transmission of the high priority character is still subject to flow control and write time-outs, and the operation is performed synchronously.</span></span>

<span data-ttu-id="cb8e2-113">Un thread peut utiliser la fonction [**PurgeComm**](/windows/desktop/api/Winbase/nf-winbase-purgecomm) pour ignorer tous les caractères dans la mémoire tampon d’entrée ou de sortie d’un appareil.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-113">A thread can use the [**PurgeComm**](/windows/desktop/api/Winbase/nf-winbase-purgecomm) function to discard all characters in a device's output or input buffer.</span></span> <span data-ttu-id="cb8e2-114">**PurgeComm** peut également terminer les opérations de lecture ou d’écriture en attente, même si les opérations n’ont pas été effectuées.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-114">**PurgeComm** can also terminate pending read or write operations, even if the operations have not been completed.</span></span> <span data-ttu-id="cb8e2-115">Si un thread utilise **PurgeComm** pour vider une mémoire tampon de sortie, les caractères supprimés ne sont pas transmis.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-115">If a thread uses **PurgeComm** to flush an output buffer, the deleted characters are not transmitted.</span></span> <span data-ttu-id="cb8e2-116">Pour vider la mémoire tampon de sortie tout en veillant à ce que le contenu soit transmis, un thread peut appeler la fonction [**FlushFileBuffers**](/windows/desktop/api/fileapi/nf-fileapi-flushfilebuffers) (opération synchrone).</span><span class="sxs-lookup"><span data-stu-id="cb8e2-116">To empty the output buffer while ensuring that the contents are transmitted, a thread can call the [**FlushFileBuffers**](/windows/desktop/api/fileapi/nf-fileapi-flushfilebuffers) function (a synchronous operation).</span></span> <span data-ttu-id="cb8e2-117">Notez, cependant, que **FlushFileBuffers** est soumis au contrôle de Flow, mais qu’il n’écrit pas d’expiration, et qu’il ne retourne pas tant que toutes les opérations d’écriture en attente n’ont pas été transmises.</span><span class="sxs-lookup"><span data-stu-id="cb8e2-117">Note, however, that **FlushFileBuffers** is subject to flow control but not to write time-outs, and it will not return until all pending write operations have been transmitted.</span></span>

 

 
