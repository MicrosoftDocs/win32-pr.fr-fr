---
title: Événements Windows
description: Les événements sont généralement utilisés pour résoudre les problèmes liés aux logiciels d’application et aux pilotes. Avant Windows Vista, vous utiliseriez l’Suivi d’v nements pour Windows (ETW) ou la journalisation des événements pour consigner les événements. Windows Vista a introduit un nouveau modèle d’événement qui unifiait à la fois l’API Suivi d’v nements pour Windows (ETW) et le journal des événements Windows. Windows 10 introduit TraceLogging, qui s’appuie sur ETW et fournit un moyen simplifié d’instrumenter du code pour les développeurs natifs, .NET et WinRT.
ms.assetid: c10baa8d-50b9-4fda-89d0-d00b1d9f5404
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2c3d22580c38e45d06f5362e99626642eebdfe20
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/19/2020
ms.locfileid: "104031189"
---
# <a name="windows-events"></a><span data-ttu-id="3d0b7-103">Événements Windows</span><span class="sxs-lookup"><span data-stu-id="3d0b7-103">Windows Events</span></span>

<span data-ttu-id="3d0b7-104">Les événements sont généralement utilisés pour résoudre les problèmes liés aux logiciels d’application et aux pilotes.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-104">Events are typically used for troubleshooting application and driver software.</span></span>

-   <span data-ttu-id="3d0b7-105">Avant Windows Vista, vous utiliseriez l' [suivi d’v nements pour Windows](/windows/desktop/ETW/event-tracing-portal) (ETW) ou la [journalisation des événements](/windows/desktop/EventLog/event-logging) pour consigner les événements.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-105">Prior to Windows Vista, you would use either [Event Tracing for Windows](/windows/desktop/ETW/event-tracing-portal) (ETW) or [Event Logging](/windows/desktop/EventLog/event-logging) to log events.</span></span>
-   <span data-ttu-id="3d0b7-106">Windows Vista a introduit un nouveau modèle d’événement qui unifiait à la fois l’API [suivi d’v nements pour Windows](/windows/desktop/ETW/event-tracing-portal) (ETW) et le [Journal des événements Windows](/windows/desktop/WES/windows-event-log) .</span><span class="sxs-lookup"><span data-stu-id="3d0b7-106">Windows Vista introduced a new event model that unified both the [Event Tracing for Windows](/windows/desktop/ETW/event-tracing-portal) (ETW) and [Windows Event Log](/windows/desktop/WES/windows-event-log) API.</span></span>
-   <span data-ttu-id="3d0b7-107">Windows 10 introduit [TraceLogging](/windows/desktop/tracelogging/trace-logging-portal) , qui s’appuie sur ETW et fournit un moyen simplifié d’instrumenter du code pour les développeurs natifs, .net et WinRT.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-107">Windows 10 introduces [TraceLogging](/windows/desktop/tracelogging/trace-logging-portal) which builds on ETW and provides a simplified way to instrument code for native, .NET and WinRT developers.</span></span>

<span data-ttu-id="3d0b7-108">Le nouveau modèle [TraceLogging](/windows/desktop/tracelogging/trace-logging-portal) vous permet d’inclure des données structurées avec des événements, de corréler des événements et ne nécessite pas de fichier XML de manifeste d’instrumentation distinct.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-108">The new [TraceLogging](/windows/desktop/tracelogging/trace-logging-portal) model allows you to include structured data with events, correlate events, and does not require a separate instrumentation manifest XML file.</span></span>

<span data-ttu-id="3d0b7-109">Le modèle Windows Vista utilise un manifeste XML pour définir les événements que vous souhaitez publier.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-109">The Windows Vista model uses an XML manifest to define the events that you want to publish.</span></span> <span data-ttu-id="3d0b7-110">Les événements peuvent être publiés sur un canal ou une session ETW.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-110">Events can be published to a channel or an ETW session.</span></span> <span data-ttu-id="3d0b7-111">Vous pouvez publier les événements sur les types de canaux suivants : admin, opérationnel, analyse et débogage.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-111">You can publish the events to the following types of channels: Admin, Operational, Analytic and Debug.</span></span> <span data-ttu-id="3d0b7-112">Si vous utilisez uniquement ETW pour activer le serveur de publication, vous n’avez pas besoin de spécifier de canaux dans votre manifeste.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-112">If you use only ETW to enable the publisher, you do not need to specify channels in your manifest.</span></span> <span data-ttu-id="3d0b7-113">Pour plus d’informations sur l’écriture d’un manifeste, consultez [écriture d’un manifeste d’instrumentation](/windows/desktop/WES/writing-an-instrumentation-manifest)et pour plus d’informations sur les canaux, consultez [définition de canaux](/windows/desktop/WES/defining-channels).</span><span class="sxs-lookup"><span data-stu-id="3d0b7-113">For complete details on writing a manifest, see [Writing an Instrumentation Manifest](/windows/desktop/WES/writing-an-instrumentation-manifest), and for information on channels, see [Defining Channels](/windows/desktop/WES/defining-channels).</span></span>

<span data-ttu-id="3d0b7-114">Pour inscrire votre éditeur d’événements et publier des événements, vous utilisez l’API ETW.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-114">To register your event publisher and to publish events, you use the ETW API.</span></span> <span data-ttu-id="3d0b7-115">Pour plus d’informations, consultez [fourniture d’événements](/windows/desktop/ETW/providing-events) et [développement d’un fournisseur](/windows/desktop/WES/developing-a-provider).</span><span class="sxs-lookup"><span data-stu-id="3d0b7-115">For details, see [Providing Events](/windows/desktop/ETW/providing-events) and [Developing a Provider](/windows/desktop/WES/developing-a-provider).</span></span> <span data-ttu-id="3d0b7-116">L’éditeur d’événements écrit automatiquement les événements dans les canaux spécifiés dans le manifeste s’ils sont activés.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-116">The event publisher will automatically write the events to the channels specified in the manifest if they are enabled.</span></span>

<span data-ttu-id="3d0b7-117">Si vous souhaitez contrôler les événements publiés par un éditeur d’événements à un niveau de granularité plus élevé, utilisez l’API ETW.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-117">If you want to control the events that an event publisher publishes at a finer level of granularity, use the ETW API.</span></span> <span data-ttu-id="3d0b7-118">Par exemple, si le manifeste définit à la fois les événements d’écriture et de lecture, vous pouvez activer uniquement les événements d’écriture.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-118">For example, if the manifest defines both write and read events, you can enable only the write events.</span></span> <span data-ttu-id="3d0b7-119">Un événement peut également spécifier une valeur de niveau comme un avertissement ou une erreur. vous pouvez donc limiter les événements écrits à ceux qui spécifient le niveau d’erreur.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-119">An event can also specify a level value such as warning or error, so you can limit the events that are written to those that specify the error level.</span></span> <span data-ttu-id="3d0b7-120">Pour plus d’informations, consultez [contrôle des sessions de suivi d’événements](/windows/desktop/ETW/controlling-event-tracing-sessions).</span><span class="sxs-lookup"><span data-stu-id="3d0b7-120">For details, see [Controlling Event Tracing Sessions](/windows/desktop/ETW/controlling-event-tracing-sessions).</span></span> <span data-ttu-id="3d0b7-121">Les événements sont écrits dans le fichier journal de la session.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-121">The events are written to the session's log file.</span></span>

<span data-ttu-id="3d0b7-122">La consommation d’événements implique la récupération des événements à partir d’un canal d’événement, d’un fichier journal des événements (fichiers. evtx ou. evt), d’un fichier de trace (fichiers. ETL) ou d’une session ETW en temps réel.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-122">Consuming events involves retrieving the events from an event channel, an event log file (.evtx or .evt files), a trace file (.etl files), or a real-time ETW session.</span></span> <span data-ttu-id="3d0b7-123">Pour consommer des événements à partir d’un fichier de trace ETW ou d’une session ETW en temps réel, utilisez les fonctions d’assistance des données de trace (TDH) dans ETW pour consommer les événements.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-123">To consume events from an ETW trace file or a real-time ETW session, use the trace data helper (TDH) functions in ETW to consume the events.</span></span> <span data-ttu-id="3d0b7-124">Vous pouvez également utiliser TDH pour lire les métadonnées d’événement.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-124">You can also use TDH to read the event metadata.</span></span> <span data-ttu-id="3d0b7-125">Pour plus d’informations, consultez [consommation d’événements](/windows/desktop/ETW/consuming-events).</span><span class="sxs-lookup"><span data-stu-id="3d0b7-125">For details, see [Consuming Events](/windows/desktop/ETW/consuming-events).</span></span> <span data-ttu-id="3d0b7-126">Pour consommer des événements à partir d’un canal d’événements ou d’un fichier journal des événements, utilisez les fonctions du journal des événements Windows pour interroger ou s’abonner à des événements.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-126">To consume events from an event channel or an event log file, use the Windows Event Log functions to query or subscribe to events.</span></span> <span data-ttu-id="3d0b7-127">Pour plus d’informations, consultez [interrogation d’événements](/windows/desktop/WES/querying-for-events) ou [abonnement à des événements](/windows/desktop/WES/subscribing-to-events).</span><span class="sxs-lookup"><span data-stu-id="3d0b7-127">For more information, see [Querying for Events](/windows/desktop/WES/querying-for-events) or [Subscribing to Events](/windows/desktop/WES/subscribing-to-events).</span></span>

<span data-ttu-id="3d0b7-128">Avant Windows Vista, vous devez utiliser [suivi d’v nements pour Windows](/windows/desktop/ETW/event-tracing-portal) ou la [journalisation des événements](/windows/desktop/EventLog/event-logging) pour publier et consommer des événements.</span><span class="sxs-lookup"><span data-stu-id="3d0b7-128">Prior to Windows Vista, you must use [Event Tracing for Windows](/windows/desktop/ETW/event-tracing-portal) or [Event Logging](/windows/desktop/EventLog/event-logging) to publish and consume events.</span></span>

 

 