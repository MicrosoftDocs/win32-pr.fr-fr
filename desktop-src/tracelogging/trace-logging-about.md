---
title: À propos de TraceLogging
description: TraceLogging est le nouveau suivi d’événements Windows 10 pour les applications en mode utilisateur et les pilotes en mode noyau.
ms.assetid: 8C6A9E91-98F9-4D6B-A937-A22BA7CEB1E4
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6c2b1ca72385a51df1e0cd82f3e91c198f15b5d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103842413"
---
# <a name="about-tracelogging"></a><span data-ttu-id="714a1-103">À propos de TraceLogging</span><span class="sxs-lookup"><span data-stu-id="714a1-103">About TraceLogging</span></span>

<span data-ttu-id="714a1-104">TraceLogging est le nouveau suivi d’événements Windows 10 pour les applications en mode utilisateur et les pilotes en mode noyau.</span><span class="sxs-lookup"><span data-stu-id="714a1-104">TraceLogging is the new Windows 10 event tracing for user-mode applications and kernel-mode drivers.</span></span> <span data-ttu-id="714a1-105">TraceLogging est un format pour l’auto-Description Suivi d’v nements pour Windows (ETW).</span><span class="sxs-lookup"><span data-stu-id="714a1-105">TraceLogging is a format for self-describing Event Tracing for Windows (ETW).</span></span> <span data-ttu-id="714a1-106">TraceLogging s’appuie sur Suivi d’v nements pour Windows (ETW) et fournit un moyen simplifié d’instrumenter le code.</span><span class="sxs-lookup"><span data-stu-id="714a1-106">TraceLogging builds on Event Tracing for Windows (ETW) and provides a simplified way to instrument code.</span></span>

<span data-ttu-id="714a1-107">TraceLogging offre la simplicité du préprocesseur de suivi logiciel Windows (WPP) avec l’avantage supplémentaire de pouvoir inclure des données structurées avec des événements, la possibilité de mettre en corrélation des événements et tout cela sans nécessiter de fichier XML de manifeste d’instrumentation distinct.</span><span class="sxs-lookup"><span data-stu-id="714a1-107">TraceLogging offers the simplicity of Windows software trace preprocessor (WPP) with the added benefit of being able to include structured data with events, the capability of correlating events, and all without requiring a separate instrumentation manifest XML file.</span></span> <span data-ttu-id="714a1-108">Les événements sont auto-descriptifs, ce qui signifie qu’un binaire contenant le manifeste d’instrumentation n’a pas besoin d’être inscrit sur le système pour pouvoir utiliser les API TDH (Trace Data Helper) pour décoder et afficher les événements.</span><span class="sxs-lookup"><span data-stu-id="714a1-108">Events are self-describing which means that a binary containing the instrumentation manifest does not need to be registered on the system in order to use the Trace Data Helper (TDH) APIs to decode and show events.</span></span>

<span data-ttu-id="714a1-109">Suivi d’v nements pour Windows (ETW) a été introduit avec Windows 2000 et mis à jour dans Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="714a1-109">Event Tracing for Windows (ETW) was introduced with Windows 2000 and updated in Windows Vista.</span></span> <span data-ttu-id="714a1-110">Tracelogging s’appuie sur les API ETW de Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="714a1-110">Tracelogging builds on top of the Windows Vista ETW APIs.</span></span> <span data-ttu-id="714a1-111">Les fournisseurs peuvent utiliser la technologie TraceLogging et continuer à travailler sur Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="714a1-111">Providers can use the TraceLogging technology and still work on Windows Vista.</span></span> <span data-ttu-id="714a1-112">Les contrôleurs existants (à l’aide de Windows VistaAPIs) peuvent être utilisés pour contrôler les fournisseurs TraceLogging.</span><span class="sxs-lookup"><span data-stu-id="714a1-112">Existing controllers (using Windows VistaAPIs) can be used to control TraceLogging providers.</span></span>

<span data-ttu-id="714a1-113">TraceLogging est également compatible avec les outils existants.</span><span class="sxs-lookup"><span data-stu-id="714a1-113">TraceLogging is also compatible with existing tools.</span></span> <span data-ttu-id="714a1-114">Les fournisseurs qui utilisent le ETW basé sur un manifeste sont toujours pris en charge.</span><span class="sxs-lookup"><span data-stu-id="714a1-114">Providers that use manifest-based ETW are still supported.</span></span> <span data-ttu-id="714a1-115">Vous n’avez pas besoin de convertir les fournisseurs ETW basés sur un manifeste en fournisseurs TraceLogging, sauf si vous souhaitez tirer parti de la simplicité fournie par TraceLogging.</span><span class="sxs-lookup"><span data-stu-id="714a1-115">You do not need to convert manifest based ETW providers to TraceLogging providers unless you wish to take advantage of the simplicity that TraceLogging provides.</span></span> <span data-ttu-id="714a1-116">Le suivi WPP est également toujours pris en charge.</span><span class="sxs-lookup"><span data-stu-id="714a1-116">WPP tracing is also still supported.</span></span>

<span data-ttu-id="714a1-117">TraceLogging s’appuie sur ETW, mais présente plusieurs améliorations importantes :</span><span class="sxs-lookup"><span data-stu-id="714a1-117">TraceLogging builds upon ETW but introduces several important improvements:</span></span>

-   <span data-ttu-id="714a1-118">Le suivi d’un événement est aussi simple qu’un appel d’API.</span><span class="sxs-lookup"><span data-stu-id="714a1-118">Tracing an event is as simple as an API call.</span></span>
-   <span data-ttu-id="714a1-119">Les événements sont autodescriptifs et ne nécessitent pas de binaires supplémentaires contenant le manifeste d’événements compilé pour interpréter l’événement.</span><span class="sxs-lookup"><span data-stu-id="714a1-119">Events are self-describing and do not require any additional binaries containing the compiled event manifest to interpret the event.</span></span> <span data-ttu-id="714a1-120">Toutes les métadonnées relatives à l’événement sont enregistrées dans l’événement.</span><span class="sxs-lookup"><span data-stu-id="714a1-120">All the metadata about the event is recorded in the event.</span></span>
-   <span data-ttu-id="714a1-121">Les activités au sein d’un même processus peuvent être facilement exprimées à l’aide d’événements de démarrage et d’arrêt.</span><span class="sxs-lookup"><span data-stu-id="714a1-121">Activities inside a single process can be easily expressed through start and stop events.</span></span>
-   <span data-ttu-id="714a1-122">TraceLogging est compatible avec la prise en charge d’instrumentation existante.</span><span class="sxs-lookup"><span data-stu-id="714a1-122">TraceLogging is compatible with existing instrumentation support.</span></span> <span data-ttu-id="714a1-123">Les nouvelles API ETW continuent à prendre en charge les anciens fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="714a1-123">The new ETW APIs continue to support the old providers.</span></span> <span data-ttu-id="714a1-124">Vous pouvez investir dans les nouvelles API ETW pour des scénarios stratégiques tout en laissant vos anciens points d’instrumentation tels quels.</span><span class="sxs-lookup"><span data-stu-id="714a1-124">You can invest in the new ETW APIs for strategic scenarios while leaving your old instrumentation points as they are.</span></span>
-   <span data-ttu-id="714a1-125">TraceLogging offre la même API de suivi d’événements pour Windows 10, Xbox One et Windows 10 mobile.</span><span class="sxs-lookup"><span data-stu-id="714a1-125">TraceLogging offers the same event tracing API for Windows 10, Xbox One, and Windows 10 Mobile.</span></span>
-   <span data-ttu-id="714a1-126">Les API TraceLogging sont accessibles à partir de C, C++, .NET et Windows Runtime.</span><span class="sxs-lookup"><span data-stu-id="714a1-126">TraceLogging APIs are accessible from C, C++, .NET, and Windows Runtime.</span></span>

## <a name="api-high-level-overview"></a><span data-ttu-id="714a1-127">Vue d’ensemble de l’API</span><span class="sxs-lookup"><span data-stu-id="714a1-127">API high-level overview</span></span>

<span data-ttu-id="714a1-128">Il existe trois API TraceLogging distinctes qui ciblent différents publics de développeurs.</span><span class="sxs-lookup"><span data-stu-id="714a1-128">There are three separate TraceLogging APIs that target different developer audiences.</span></span> <span data-ttu-id="714a1-129">Chaque API a été conçue pour répondre à différents ensembles d’exigences en fonction de l’audience cible de cette API.</span><span class="sxs-lookup"><span data-stu-id="714a1-129">Each API was designed to meet different sets of requirements as appropriate for the target audience of that API.</span></span>

<span data-ttu-id="714a1-130">Pour les développeurs WinRT :</span><span class="sxs-lookup"><span data-stu-id="714a1-130">For WinRT developers:</span></span>

-   <span data-ttu-id="714a1-131">[**LoggingChannel**](/uwp/api/Windows.Foundation.Diagnostics.LoggingChannel) a été étendu dans Windows 10 pour consigner les événements de suivi d’v nements pour Windows autodescriptifs (ETW) sans nécessiter de manifeste.</span><span class="sxs-lookup"><span data-stu-id="714a1-131">[**LoggingChannel**](/uwp/api/Windows.Foundation.Diagnostics.LoggingChannel) has been extended in Windows 10 to log self-describing Event Tracing for Windows (ETW) events without the need for a manifest.</span></span>
-   <span data-ttu-id="714a1-132">[**LoggingActivity**](/windows/win32/api/traceloggingactivity/nl-traceloggingactivity-traceloggingactivity) a été étendu dans Windows 10 afin de fournir des méthodes de démarrage et d’arrêt de l’activité qui permettent de contrôler le format et le contenu des événements de démarrage et d’arrêt.</span><span class="sxs-lookup"><span data-stu-id="714a1-132">[**LoggingActivity**](/windows/win32/api/traceloggingactivity/nl-traceloggingactivity-traceloggingactivity) has been extended in Windows 10 to provide activity start and stop methods that provide control over the format and contents of the Start and Stop events.</span></span> <span data-ttu-id="714a1-133">En outre, les activités peuvent être imbriquées.</span><span class="sxs-lookup"><span data-stu-id="714a1-133">Additionally, activities can be nested.</span></span>

<span data-ttu-id="714a1-134">Pour les développeurs C/C++ :</span><span class="sxs-lookup"><span data-stu-id="714a1-134">For C/C++ developers:</span></span>

-   <span data-ttu-id="714a1-135">TraceLoggingProvider. h contient l’API la plus efficace, mais cette API n’est pas bien adaptée pour une utilisation dans des scénarios dynamiques (scriptés) tels que JavaScript.</span><span class="sxs-lookup"><span data-stu-id="714a1-135">TraceLoggingProvider.h contains the most efficient API, however this API is not well suited for use in dynamic (scripted) scenarios such as Javascript.</span></span> <span data-ttu-id="714a1-136">Cette API peut être utilisée en mode utilisateur et en mode noyau.</span><span class="sxs-lookup"><span data-stu-id="714a1-136">This API can be used in user-mode and kernel-mode code.</span></span>

<span data-ttu-id="714a1-137">Pour les développeurs de code managé (Microsoft .NET Framework) :</span><span class="sxs-lookup"><span data-stu-id="714a1-137">For managed code (Microsoft .NET Framework) developers:</span></span>

-   <span data-ttu-id="714a1-138">La classe [EventSource](/dotnet/api/system.diagnostics.tracing.eventsource) fournie avec les versions précédentes du .NET Framework déjà pris en charge l’écriture d’événements ETW, générant automatiquement le manifeste et incorporant le manifeste dans le flux d’événements.</span><span class="sxs-lookup"><span data-stu-id="714a1-138">The [EventSource](/dotnet/api/system.diagnostics.tracing.eventsource) class that shipped with previous versions of the .NET Framework already supported writing ETW events - automatically generating the manifest and embedding the manifest into the event stream.</span></span> <span data-ttu-id="714a1-139">Toutefois, le développeur devait toujours effectuer le suivi du manifeste pour décoder les événements (sauf si vous travaillez dans un scénario où le manifeste incorporé était pris en charge).</span><span class="sxs-lookup"><span data-stu-id="714a1-139">However, the developer still had to keep track of the manifest to decode the events (unless working in a scenario where the embedded manifest was supported).</span></span> <span data-ttu-id="714a1-140">TraceLogging permet d’éliminer complètement le manifeste.</span><span class="sxs-lookup"><span data-stu-id="714a1-140">TraceLogging allows the manifest to be eliminated completely.</span></span>

## <a name="related-topics"></a><span data-ttu-id="714a1-141">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="714a1-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="714a1-142">À propos du suivi d’événements</span><span class="sxs-lookup"><span data-stu-id="714a1-142">About Event Tracing</span></span>](/windows/desktop/ETW/about-event-tracing)
</dt> </dl>

 

 