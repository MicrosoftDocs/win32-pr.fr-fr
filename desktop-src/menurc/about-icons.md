---
title: À propos des icônes
description: Cette rubrique décrit les icônes.
ms.assetid: 67867460-07f6-460f-9263-05bbf3474744
keywords:
- ressources, icônes
- icônes, zones réactives
- icônes, standard
- icônes standard
- icônes, personnalisées
- icônes personnalisées
- icônes, tailles
- création d’icônes
- icônes, affichage
- icônes, destruction
- icônes, duplication
- icônes, création
- afficher les icônes
- détruire des icônes
- duplication d’icônes
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4bda00540d613b6d0efd4a080251ebd6407560ed
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/19/2020
ms.locfileid: "104315005"
---
# <a name="about-icons"></a><span data-ttu-id="96a44-118">À propos des icônes</span><span class="sxs-lookup"><span data-stu-id="96a44-118">About Icons</span></span>

<span data-ttu-id="96a44-119">Le système utilise des icônes dans l’interface utilisateur pour représenter des objets tels que des fichiers, des dossiers, des raccourcis, des applications et des documents.</span><span class="sxs-lookup"><span data-stu-id="96a44-119">The system uses icons throughout the user interface to represent objects such as files, folders, shortcuts, applications, and documents.</span></span> <span data-ttu-id="96a44-120">L’icône fonctions permet aux applications de créer, charger, afficher, organiser, animer et détruire des icônes.</span><span class="sxs-lookup"><span data-stu-id="96a44-120">The icon functions enable applications to create, load, display, arrange, animate, and destroy icons.</span></span> <span data-ttu-id="96a44-121">Pour plus d’informations sur la spécification des icônes pour les types de fichiers, consultez [**ExtractIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extracticona).</span><span class="sxs-lookup"><span data-stu-id="96a44-121">For information on specifying icons for file types, see [**ExtractIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extracticona).</span></span>

<span data-ttu-id="96a44-122">Cette vue d’ensemble fournit des informations sur les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="96a44-122">This overview provides information on the following topics:</span></span>

-   [<span data-ttu-id="96a44-123">Zone réactive de l’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-123">Icon Hot Spot</span></span>](#icon-hot-spot)
-   [<span data-ttu-id="96a44-124">Types d’icônes</span><span class="sxs-lookup"><span data-stu-id="96a44-124">Icon Types</span></span>](#icon-types)
-   [<span data-ttu-id="96a44-125">Tailles d’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-125">Icon Sizes</span></span>](#icon-sizes)
    -   [<span data-ttu-id="96a44-126">Pour modifier la taille de la petite icône système</span><span class="sxs-lookup"><span data-stu-id="96a44-126">To change the size of the system small icon</span></span>](#to-change-the-size-of-the-system-small-icon)
    -   [<span data-ttu-id="96a44-127">Pour récupérer la taille de la petite icône système</span><span class="sxs-lookup"><span data-stu-id="96a44-127">To retrieve the size of the system small icon</span></span>](#to-retrieve-the-size-of-the-system-small-icon)
    -   [<span data-ttu-id="96a44-128">Pour récupérer la taille de l’icône système grande</span><span class="sxs-lookup"><span data-stu-id="96a44-128">To retrieve the size of the system large icon</span></span>](#to-retrieve-the-size-of-the-system-large-icon)
    -   [<span data-ttu-id="96a44-129">Pour récupérer la taille de la petite icône de Shell</span><span class="sxs-lookup"><span data-stu-id="96a44-129">To retrieve the size of the shell small icon</span></span>](#to-retrieve-the-size-of-the-shell-small-icon)
    -   [<span data-ttu-id="96a44-130">Pour modifier la taille de la grande icône</span><span class="sxs-lookup"><span data-stu-id="96a44-130">To change the size of the large icon</span></span>](#to-change-the-size-of-the-large-icon)
    -   [<span data-ttu-id="96a44-131">Pour récupérer la taille de la grande icône de Shell</span><span class="sxs-lookup"><span data-stu-id="96a44-131">To retrieve the size of the shell large icon</span></span>](#to-retrieve-the-size-of-the-shell-large-icon)
-   [<span data-ttu-id="96a44-132">Création d’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-132">Icon Creation</span></span>](#icon-creation)
-   [<span data-ttu-id="96a44-133">Affichage des icônes</span><span class="sxs-lookup"><span data-stu-id="96a44-133">Icon Display</span></span>](#icon-display)
-   [<span data-ttu-id="96a44-134">Destruction d’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-134">Icon Destruction</span></span>](#icon-destruction)
-   [<span data-ttu-id="96a44-135">Duplication d’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-135">Icon Duplication</span></span>](#icon-duplication)

## <a name="icon-hot-spot"></a><span data-ttu-id="96a44-136">Zone réactive de l’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-136">Icon Hot Spot</span></span>

<span data-ttu-id="96a44-137">L’un des pixels d’une icône est désigné comme [zone réactive](#icon-hot-spot), qui est le point suivi et reconnu par le système comme position de l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-137">One of the pixels in an icon is designated as the [hot spot](#icon-hot-spot), which is the point the system tracks and recognizes as the position of the icon.</span></span> <span data-ttu-id="96a44-138">La zone réactive d’une icône correspond généralement au pixel situé au centre de l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-138">An icon's hot spot is typically the pixel located at the center of the icon.</span></span> <span data-ttu-id="96a44-139">Si vous utilisez la fonction [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) pour créer une icône, vous pouvez spécifier n’importe quel pixel comme zone réactive.</span><span class="sxs-lookup"><span data-stu-id="96a44-139">If you use the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function to create an icon, you can specify any pixel to be the hot spot.</span></span>

## <a name="icon-types"></a><span data-ttu-id="96a44-140">Types d’icônes</span><span class="sxs-lookup"><span data-stu-id="96a44-140">Icon Types</span></span>

<span data-ttu-id="96a44-141">Le système d’exploitation fournit un ensemble d' *icônes standard* disponibles pour n’importe quelle application à utiliser à tout moment.</span><span class="sxs-lookup"><span data-stu-id="96a44-141">The operating system provides a set of *standard icons* that are available for any application to use at any time.</span></span> <span data-ttu-id="96a44-142">Les fichiers d’en-tête du kit de développement logiciel (SDK) contiennent des identificateurs pour les icônes standard : les identificateurs commencent par le préfixe **IDI \_** .</span><span class="sxs-lookup"><span data-stu-id="96a44-142">The software development kit (SDK) header files contain identifiers for the standard icons—the identifiers begin with the **IDI\_** prefix.</span></span>

<span data-ttu-id="96a44-143">Une image par défaut correspondante est associée à chaque icône standard.</span><span class="sxs-lookup"><span data-stu-id="96a44-143">Each standard icon has a corresponding default image associated with it.</span></span> <span data-ttu-id="96a44-144">L’utilisateur peut remplacer l’image par défaut associée à n’importe quel curseur standard à tout moment.</span><span class="sxs-lookup"><span data-stu-id="96a44-144">The user can replace the default image associated with any standard cursor at any time.</span></span>

<span data-ttu-id="96a44-145">Les *icônes personnalisées* sont conçues pour être utilisées dans une application particulière et peuvent être n’importe quelle conception.</span><span class="sxs-lookup"><span data-stu-id="96a44-145">*Custom icons* are designed for use in a particular application and can be any design.</span></span> <span data-ttu-id="96a44-146">Voici plusieurs icônes personnalisées.</span><span class="sxs-lookup"><span data-stu-id="96a44-146">Following are several custom icons.</span></span>

![plusieurs icônes personnalisées](images/csicn-02.png)

## <a name="icon-sizes"></a><span data-ttu-id="96a44-148">Tailles d’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-148">Icon Sizes</span></span>

<span data-ttu-id="96a44-149">Le système utilise quatre tailles d’icône :</span><span class="sxs-lookup"><span data-stu-id="96a44-149">The system uses four icon sizes:</span></span>

-   <span data-ttu-id="96a44-150">Système petit</span><span class="sxs-lookup"><span data-stu-id="96a44-150">System small</span></span>
-   <span data-ttu-id="96a44-151">Grand système</span><span class="sxs-lookup"><span data-stu-id="96a44-151">System large</span></span>
-   <span data-ttu-id="96a44-152">Shell petit</span><span class="sxs-lookup"><span data-stu-id="96a44-152">Shell small</span></span>
-   <span data-ttu-id="96a44-153">Grand Shell</span><span class="sxs-lookup"><span data-stu-id="96a44-153">Shell large</span></span>

<span data-ttu-id="96a44-154">La *petite icône système* est affichée dans le titre de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="96a44-154">The *system small icon* is displayed in the window caption.</span></span>

### <a name="to-change-the-size-of-the-system-small-icon"></a><span data-ttu-id="96a44-155">Pour modifier la taille de la petite icône système</span><span class="sxs-lookup"><span data-stu-id="96a44-155">To change the size of the system small icon</span></span>

1.  <span data-ttu-id="96a44-156">Dans le panneau de configuration, cliquez sur **affichage**, puis sur l’onglet **apparence** .</span><span class="sxs-lookup"><span data-stu-id="96a44-156">From Control Panel, click **Display**, then click the **Appearance** tab.</span></span>
2.  <span data-ttu-id="96a44-157">Sélectionnez les **boutons de légende** dans la liste des **éléments** , puis définissez le champ **taille** .</span><span class="sxs-lookup"><span data-stu-id="96a44-157">Select **Caption Buttons** from the **Item** list, then set the **Size** field.</span></span>

### <a name="to-retrieve-the-size-of-the-system-small-icon"></a><span data-ttu-id="96a44-158">Pour récupérer la taille de la petite icône système</span><span class="sxs-lookup"><span data-stu-id="96a44-158">To retrieve the size of the system small icon</span></span>

-   <span data-ttu-id="96a44-159">Appelez la fonction [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) avec **SM \_ CXSMICON** et **SM \_ CYSMICON**.</span><span class="sxs-lookup"><span data-stu-id="96a44-159">Call the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function with **SM\_CXSMICON** and **SM\_CYSMICON**.</span></span>

<span data-ttu-id="96a44-160">La *grande icône système* est principalement utilisée par les applications, mais elle est également affichée dans la boîte de dialogue Alt + Tab.</span><span class="sxs-lookup"><span data-stu-id="96a44-160">The *system large icon* is mainly used by applications, but it is also displayed in the Alt+Tab dialog.</span></span> <span data-ttu-id="96a44-161">Les fonctions [**CreateIconFromResource**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresource), [**DrawIcon**](/windows/desktop/api/Winuser/nf-winuser-drawicon), [**ExtractAssociatedIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extractassociatedicona), [**ExtractIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extracticona), [**ExtractIconEx**](/windows/desktop/api/Shellapi/nf-shellapi-extracticonexa)et [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) utilisent toutes des grandes icônes système.</span><span class="sxs-lookup"><span data-stu-id="96a44-161">The [**CreateIconFromResource**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresource), [**DrawIcon**](/windows/desktop/api/Winuser/nf-winuser-drawicon), [**ExtractAssociatedIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extractassociatedicona), [**ExtractIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extracticona), [**ExtractIconEx**](/windows/desktop/api/Shellapi/nf-shellapi-extracticonexa), and [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) functions all use system large icons.</span></span> <span data-ttu-id="96a44-162">La taille de la grande icône système est définie par le pilote vidéo. par conséquent, elle ne peut pas être modifiée.</span><span class="sxs-lookup"><span data-stu-id="96a44-162">The size of the system large icon is defined by the video driver, therefore it cannot be changed.</span></span>

### <a name="to-retrieve-the-size-of-the-system-large-icon"></a><span data-ttu-id="96a44-163">Pour récupérer la taille de l’icône système grande</span><span class="sxs-lookup"><span data-stu-id="96a44-163">To retrieve the size of the system large icon</span></span>

-   <span data-ttu-id="96a44-164">Appelez [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) avec **SM \_ CXICON** et **SM \_ CYICON**.</span><span class="sxs-lookup"><span data-stu-id="96a44-164">Call [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) with **SM\_CXICON** and **SM\_CYICON**.</span></span>

<span data-ttu-id="96a44-165">Les fonctions [**CreateIcon**](/windows/desktop/api/Winuser/nf-winuser-createicon), [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex), [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect)et [**SHGetFileInfo**](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) peuvent être utilisées pour travailler avec des icônes dans des tailles autres que System large.</span><span class="sxs-lookup"><span data-stu-id="96a44-165">The [**CreateIcon**](/windows/desktop/api/Winuser/nf-winuser-createicon), [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex), [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect), and [**SHGetFileInfo**](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) functions can be used to work with icons in sizes other than system large.</span></span>

<span data-ttu-id="96a44-166">La *petite icône de Shell* est utilisée dans l’Explorateur Windows et les boîtes de dialogue courantes.</span><span class="sxs-lookup"><span data-stu-id="96a44-166">The *shell small icon* is used in the Windows Explorer and the common dialogs.</span></span> <span data-ttu-id="96a44-167">Actuellement, la taille minimale du système est définie par défaut.</span><span class="sxs-lookup"><span data-stu-id="96a44-167">Currently, this defaults to the system small size.</span></span>

### <a name="to-retrieve-the-size-of-the-shell-small-icon"></a><span data-ttu-id="96a44-168">Pour récupérer la taille de la petite icône de Shell</span><span class="sxs-lookup"><span data-stu-id="96a44-168">To retrieve the size of the shell small icon</span></span>

1.  <span data-ttu-id="96a44-169">Utilisez la fonction [SHGetFileInfo](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) avec `SHGFI_SHELLICONSIZE | SHGFI_SMALLICON` pour récupérer un handle de la liste d’images système.</span><span class="sxs-lookup"><span data-stu-id="96a44-169">Use the [SHGetFileInfo](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) function with `SHGFI_SHELLICONSIZE | SHGFI_SMALLICON` to retrieve a handle to the system image list.</span></span>
2.  <span data-ttu-id="96a44-170">Appelez ensuite la fonction [**ImageList \_ GetIconSize**](/windows/win32/api/commctrl/nf-commctrl-imagelist_geticonsize) pour connaître la taille de l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-170">Then call the [**ImageList\_GetIconSize**](/windows/win32/api/commctrl/nf-commctrl-imagelist_geticonsize) function to get the icon size.</span></span>

<span data-ttu-id="96a44-171">La grande icône de Shell est utilisée sur le bureau.</span><span class="sxs-lookup"><span data-stu-id="96a44-171">The shell large icon is used on the desktop.</span></span>

### <a name="to-change-the-size-of-the-large-icon"></a><span data-ttu-id="96a44-172">Pour modifier la taille de la grande icône</span><span class="sxs-lookup"><span data-stu-id="96a44-172">To change the size of the large icon</span></span>

1.  <span data-ttu-id="96a44-173">Dans le panneau de configuration, cliquez sur **affichage**, puis sur l’onglet **apparence** .</span><span class="sxs-lookup"><span data-stu-id="96a44-173">From Control Panel , click **Display**, then click the **Appearance** tab,</span></span>
2.  <span data-ttu-id="96a44-174">Sélectionnez **icône** dans la liste **élément** , puis définissez le champ **taille** (cette taille est stockée dans le registre, sous **HKEY \_ Current \_ User \\ Control Panel, Desktop \\ WindowMetrics \\ Shell Icon Size**).</span><span class="sxs-lookup"><span data-stu-id="96a44-174">Select **Icon** from the **Item** list, then set the **Size** field (this size is stored in the registry, under **HKEY\_CURRENT\_USER\\Control Panel, Desktop\\WindowMetrics\\Shell Icon Size**).</span></span>
3.  <span data-ttu-id="96a44-175">Cliquez sur le plus **!**</span><span class="sxs-lookup"><span data-stu-id="96a44-175">Click the **Plus!**</span></span> <span data-ttu-id="96a44-176">, puis activez la case à cocher **utiliser de grandes icônes** .</span><span class="sxs-lookup"><span data-stu-id="96a44-176">tab and then select the **Use Large Icons** check box.</span></span>

### <a name="to-retrieve-the-size-of-the-shell-large-icon"></a><span data-ttu-id="96a44-177">Pour récupérer la taille de la grande icône de Shell</span><span class="sxs-lookup"><span data-stu-id="96a44-177">To retrieve the size of the shell large icon</span></span>

1.  <span data-ttu-id="96a44-178">Utilisez la fonction [**SHGetFileInfo**](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) avec **SHGFI \_ SHELLICONSIZE** pour récupérer un handle de la liste d’images système.</span><span class="sxs-lookup"><span data-stu-id="96a44-178">Use the [**SHGetFileInfo**](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) function with **SHGFI\_SHELLICONSIZE** to retrieve a handle to the system image list.</span></span>
2.  <span data-ttu-id="96a44-179">Appelez ensuite la fonction [**ImageList \_ GetIconSize**](/windows/win32/api/commctrl/nf-commctrl-imagelist_geticonsize) pour connaître la taille de l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-179">Then call the [**ImageList\_GetIconSize**](/windows/win32/api/commctrl/nf-commctrl-imagelist_geticonsize) function to get the icon size.</span></span>

<span data-ttu-id="96a44-180">Le menu Démarrer utilise soit des petites icônes de Shell, soit des grandes icônes de Shell, selon que la case à cocher **utiliser de grandes icônes** est activée ou non.</span><span class="sxs-lookup"><span data-stu-id="96a44-180">The Start menu uses either shell small icons or shell large icons, depending on whether the **Use Large Icons** check box is selected.</span></span>

<span data-ttu-id="96a44-181">Votre application doit fournir des groupes d’images d’icône dans les tailles suivantes :</span><span class="sxs-lookup"><span data-stu-id="96a44-181">Your application should supply groups of icon images in the following sizes:</span></span>

-   <span data-ttu-id="96a44-182">48, couleur 256</span><span class="sxs-lookup"><span data-stu-id="96a44-182">48x48, 256 color</span></span>
-   <span data-ttu-id="96a44-183">32x32, 16 couleurs</span><span class="sxs-lookup"><span data-stu-id="96a44-183">32x32, 16 color</span></span>
-   <span data-ttu-id="96a44-184">16x16 pixels, 16 couleurs</span><span class="sxs-lookup"><span data-stu-id="96a44-184">16x16 pixels, 16 color</span></span>

<span data-ttu-id="96a44-185">Lors du remplissage de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) à utiliser lors de l’enregistrement de votre classe de fenêtre, définissez le membre **HICON** sur l’icône 32X32 et le membre **hIconSm** sur l’icône 16x16.</span><span class="sxs-lookup"><span data-stu-id="96a44-185">When filling in the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to be used in registering your window class, set the **hIcon** member to the 32x32 icon and the **hIconSm** member to the 16x16 icon.</span></span> <span data-ttu-id="96a44-186">Pour plus d’informations sur les icônes de classe, consultez les [icônes de classe](/windows/desktop/winmsg/about-window-classes).</span><span class="sxs-lookup"><span data-stu-id="96a44-186">For more information about class icons, see [Class Icons](/windows/desktop/winmsg/about-window-classes).</span></span>

## <a name="icon-creation"></a><span data-ttu-id="96a44-187">Création d’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-187">Icon Creation</span></span>

<span data-ttu-id="96a44-188">Les icônes standard sont prédéfinies. il n’est donc pas nécessaire de les créer.</span><span class="sxs-lookup"><span data-stu-id="96a44-188">Standard icons are predefined, so it is not necessary to create them.</span></span> <span data-ttu-id="96a44-189">Pour utiliser une icône standard, une application peut obtenir son handle à l’aide de la fonction [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) .</span><span class="sxs-lookup"><span data-stu-id="96a44-189">To use a standard icon, an application can obtain its handle by using the [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) function.</span></span> <span data-ttu-id="96a44-190">Un *descripteur d’icône* est une valeur unique du type **HICON** qui identifie une icône standard ou personnalisée.</span><span class="sxs-lookup"><span data-stu-id="96a44-190">An *icon handle* is a unique value of the **HICON** type that identifies a standard or custom icon.</span></span>

<span data-ttu-id="96a44-191">Pour créer une icône personnalisée pour une application, vous devez généralement utiliser une application graphique et inclure la [ressource icône](./icon-resource.md) dans le fichier de définition de ressources de l’application.</span><span class="sxs-lookup"><span data-stu-id="96a44-191">To create a custom icon for an application, you would typically use a graphics application and include the [ICON Resource](./icon-resource.md) in the application's resource-definition file.</span></span> <span data-ttu-id="96a44-192">Au moment de l’exécution, vous pouvez appeler [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) ou [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) pour récupérer un handle de l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-192">At run-time, you can call [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) or [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) to retrieve a handle to the icon.</span></span> <span data-ttu-id="96a44-193">Une ressource icône peut contenir un groupe d’images pour plusieurs périphériques d’affichage différents.</span><span class="sxs-lookup"><span data-stu-id="96a44-193">An icon resource can contain a group of images for several different display devices.</span></span> <span data-ttu-id="96a44-194">**LoadIcon** et **LoadImage** sélectionnent automatiquement l’icône la plus appropriée dans le groupe pour le périphérique d’affichage actuel.</span><span class="sxs-lookup"><span data-stu-id="96a44-194">**LoadIcon** and **LoadImage** automatically select the most appropriate icon from the group for the current display device.</span></span>

<span data-ttu-id="96a44-195">Une application peut également créer une icône personnalisée au moment de l’exécution à l’aide de la fonction [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) , qui crée une icône basée sur le contenu d’une structure [**ICONINFO**](/windows/desktop/api/Winuser/ns-winuser-iconinfo) .</span><span class="sxs-lookup"><span data-stu-id="96a44-195">An application can also create a custom icon at run-time by using the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function, which creates an icon based on the contents of an [**ICONINFO**](/windows/desktop/api/Winuser/ns-winuser-iconinfo) structure.</span></span> <span data-ttu-id="96a44-196">La fonction [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) remplit la structure avec les coordonnées et les informations de la zone réactive du masque de bits et de la bitmap de couleur pour l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-196">The [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) function fills the structure with the hot-spot coordinates and information about the bitmask bitmap and color bitmap for the icon.</span></span>

<span data-ttu-id="96a44-197">Les applications doivent implémenter des icônes personnalisées en tant que ressources et doivent utiliser [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) ou [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea), plutôt que de créer l’icône au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="96a44-197">Applications should implement custom icons as resources and should use [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) or [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea), rather than create the icon at run-time.</span></span> <span data-ttu-id="96a44-198">L’utilisation des ressources d’icône évite la dépendance des appareils, simplifie la localisation et permet aux applications de partager des formes d’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-198">Using icon resources avoids device dependence, simplifies localization, and enables applications to share icon shapes.</span></span>

<span data-ttu-id="96a44-199">La fonction [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex) permet à une application de parcourir les ressources du système et de créer des icônes et des curseurs basés sur les données de ressources.</span><span class="sxs-lookup"><span data-stu-id="96a44-199">The [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex) function enables an application to browse through the system's resources and create icons and cursors based on resource data.</span></span> <span data-ttu-id="96a44-200">**CreateIconFromResourceEx** crée une icône basée sur les données de ressources binaires à partir d’autres fichiers exécutables ou dll.</span><span class="sxs-lookup"><span data-stu-id="96a44-200">**CreateIconFromResourceEx** creates an icon based on binary resource data from other executable files or DLLs.</span></span> <span data-ttu-id="96a44-201">Une application doit précéder cette fonction avec des appels à la fonction [**LookupIconIdFromDirectoryEx**](/windows/desktop/api/Winuser/nf-winuser-lookupiconidfromdirectoryex) et à plusieurs des fonctions de ressources.</span><span class="sxs-lookup"><span data-stu-id="96a44-201">An application must precede this function with calls to the [**LookupIconIdFromDirectoryEx**](/windows/desktop/api/Winuser/nf-winuser-lookupiconidfromdirectoryex) function and several of the resource functions.</span></span> <span data-ttu-id="96a44-202">**LookupIconIdFromDirectoryEx** retourne l’identificateur des données d’icône les plus appropriées pour le périphérique d’affichage actuel.</span><span class="sxs-lookup"><span data-stu-id="96a44-202">**LookupIconIdFromDirectoryEx** returns the identifier of the most appropriate icon data for the current display device.</span></span>

## <a name="icon-display"></a><span data-ttu-id="96a44-203">Affichage des icônes</span><span class="sxs-lookup"><span data-stu-id="96a44-203">Icon Display</span></span>

<span data-ttu-id="96a44-204">Vous pouvez récupérer l’image d’une icône à l’aide de la fonction [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) et la dessiner à l’aide de la fonction [**DrawIconEx**](/windows/desktop/api/Winuser/nf-winuser-drawiconex) .</span><span class="sxs-lookup"><span data-stu-id="96a44-204">You can retrieve the image for an icon by using the [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) function, and can draw it by using the [**DrawIconEx**](/windows/desktop/api/Winuser/nf-winuser-drawiconex) function.</span></span> <span data-ttu-id="96a44-205">Pour dessiner l’image par défaut pour une icône, spécifiez l’indicateur **di \_ compat** dans l’appel à **DrawIconEx**.</span><span class="sxs-lookup"><span data-stu-id="96a44-205">To draw the default image for a icon, specify the **DI\_COMPAT** flag in the call to **DrawIconEx**.</span></span> <span data-ttu-id="96a44-206">Si vous ne spécifiez pas l’indicateur de **\_ compatibilité di** , **DrawIconEx** dessine l’icône à l’aide de l’image spécifiée par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="96a44-206">If you do not specify the **DI\_COMPAT** flag, **DrawIconEx** draws the icon using the image that the user specified.</span></span>

<span data-ttu-id="96a44-207">Quand le système affiche une icône, il doit extraire l’image d’icône appropriée du fichier. exe ou. dll.</span><span class="sxs-lookup"><span data-stu-id="96a44-207">When the system displays an icon, it must extract the appropriate icon image from the .exe or .dll file.</span></span> <span data-ttu-id="96a44-208">Le système utilise les étapes suivantes pour sélectionner l’image d’icône :</span><span class="sxs-lookup"><span data-stu-id="96a44-208">The system uses the following steps to select the icon image:</span></span>

1.  <span data-ttu-id="96a44-209">Sélectionnez la **ressource \_ \_ icône de groupe RT** .</span><span class="sxs-lookup"><span data-stu-id="96a44-209">Select the **RT\_GROUP\_ICON** resource.</span></span> <span data-ttu-id="96a44-210">Si plusieurs ressources existent, le système utilise la première ressource indiquée dans la ressource script.</span><span class="sxs-lookup"><span data-stu-id="96a44-210">If more than one such resource exists, the system uses the first resource listed in the resource scrip.</span></span>
2.  <span data-ttu-id="96a44-211">Sélectionnez l’image **d' \_ icône RT** appropriée dans la ressource **\_ \_ icône de groupe RT** .</span><span class="sxs-lookup"><span data-stu-id="96a44-211">Select the appropriate **RT\_ICON** image from the **RT\_GROUP\_ICON** resource.</span></span> <span data-ttu-id="96a44-212">Si plusieurs images existent, le système utilise les critères suivants pour choisir une image :</span><span class="sxs-lookup"><span data-stu-id="96a44-212">If more than one image exists, the system uses the following criteria to choose an image:</span></span>
    -   -   <span data-ttu-id="96a44-213">L’image la plus proche de la taille demandée est choisie.</span><span class="sxs-lookup"><span data-stu-id="96a44-213">The image closest in size to the requested size is chosen.</span></span>
        -   <span data-ttu-id="96a44-214">Si au moins deux images de cette taille sont présentes, celle qui correspond à la profondeur de couleur de l’affichage est choisie.</span><span class="sxs-lookup"><span data-stu-id="96a44-214">If two or more images of that size are present, the one that matches the color depth of the display is chosen.</span></span>
        -   <span data-ttu-id="96a44-215">Si aucune image ne correspond exactement à la profondeur de couleur de l’affichage, l’image ayant la plus grande profondeur de couleur qui ne dépasse pas la profondeur de couleur de l’affichage est choisie.</span><span class="sxs-lookup"><span data-stu-id="96a44-215">If no images exactly match the color depth of the display, the image with the greatest color depth that does not exceed the color depth of the display is chosen.</span></span> <span data-ttu-id="96a44-216">Si la profondeur de couleur est dépassée, la profondeur de couleur la plus faible est choisie.</span><span class="sxs-lookup"><span data-stu-id="96a44-216">If all exceed the color depth, the one with the lowest color depth is chosen.</span></span>

> [!Note]  
> <span data-ttu-id="96a44-217">Le système traite toutes les profondeurs de couleur de 8 bpp ou plus comme égaux.</span><span class="sxs-lookup"><span data-stu-id="96a44-217">The system treats all color depths of 8 or more bpp as equal.</span></span> <span data-ttu-id="96a44-218">Par conséquent, il n’existe aucun avantage à inclure une image de 16x16 256 et une image de 16 x 16 couleurs dans la même ressource : le système choisira simplement la première image qu’il rencontre.</span><span class="sxs-lookup"><span data-stu-id="96a44-218">Therefore, there is no advantage of including a 16x16 256-color image and a 16x16 16-color image in the same resource—the system will simply choose the first one it encounters.</span></span> <span data-ttu-id="96a44-219">Lorsque l’affichage est en mode 8 BPP, le système choisit une icône de 16 couleurs sur une icône de couleur 256 et affiche toutes les icônes à l’aide de la palette système par défaut.</span><span class="sxs-lookup"><span data-stu-id="96a44-219">When the display is in 8-bpp mode, the system will choose a 16-color icon over a 256-color icon, and will display all icons using the system default palette.</span></span>

 

<span data-ttu-id="96a44-220">Pour afficher une icône animée, utilisez un contrôle statique comme indiqué dans le fragment de code suivant.</span><span class="sxs-lookup"><span data-stu-id="96a44-220">To display an animated icon, use a static control as shown in the following code fragment.</span></span>


```
hIcon = LoadImage(NULL, "ico.ani", IMAGE_ICON, 0, 0, LR_LOADFROMFILE);
SendMessage( hStatic, STM_SETIMAGE, IMAGE_ICON, (LPARAM)(UINT)hIcon);
```



## <a name="icon-destruction"></a><span data-ttu-id="96a44-221">Destruction d’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-221">Icon Destruction</span></span>

<span data-ttu-id="96a44-222">Quand une application n’a plus besoin d’une icône créée à l’aide de la fonction [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) , elle doit détruire l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-222">When an application no longer needs an icon it created by using the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function, it should destroy the icon.</span></span> <span data-ttu-id="96a44-223">La fonction [**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon) détruit le handle d’icône et libère toute mémoire utilisée par l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-223">The [**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon) function destroys the icon handle and frees any memory used by the icon.</span></span> <span data-ttu-id="96a44-224">Les applications doivent utiliser cette fonction uniquement pour les icônes créées avec **CreateIconIndirect**; Il n’est pas nécessaire de supprimer d’autres icônes.</span><span class="sxs-lookup"><span data-stu-id="96a44-224">Applications should use this function only for icons created with **CreateIconIndirect**; it is not necessary to destroy other icons.</span></span>

## <a name="icon-duplication"></a><span data-ttu-id="96a44-225">Duplication d’icône</span><span class="sxs-lookup"><span data-stu-id="96a44-225">Icon Duplication</span></span>

<span data-ttu-id="96a44-226">La fonction [**CopyIcon**](/windows/desktop/api/Winuser/nf-winuser-copyicon) copie un handle d’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-226">The [**CopyIcon**](/windows/desktop/api/Winuser/nf-winuser-copyicon) function copies an icon handle.</span></span> <span data-ttu-id="96a44-227">Cela permet à une application ou une DLL d’avoir son propre handle à une icône appartenant à un autre module.</span><span class="sxs-lookup"><span data-stu-id="96a44-227">This enables an application or DLL to get its own handle to an icon owned by another module.</span></span> <span data-ttu-id="96a44-228">Ensuite, si l’autre module est libéré, l’application qui a copié l’icône sera toujours en mesure d’utiliser l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-228">Then, if the other module is freed, the application that copied the icon will still be able to use the icon.</span></span>

<span data-ttu-id="96a44-229">La fonction [**CopyImage**](/windows/desktop/api/Winuser/nf-winuser-copyimage) crée une icône basée sur l’icône source spécifiée.</span><span class="sxs-lookup"><span data-stu-id="96a44-229">The [**CopyImage**](/windows/desktop/api/Winuser/nf-winuser-copyimage) function creates a new icon based on the specified source icon.</span></span> <span data-ttu-id="96a44-230">La nouvelle icône peut être plus grande ou plus petite que l’icône source.</span><span class="sxs-lookup"><span data-stu-id="96a44-230">The new icon can be larger or smaller than the source icon.</span></span>

<span data-ttu-id="96a44-231">Pour plus d’informations sur l’ajout, la suppression ou le remplacement des ressources d’icône dans les fichiers exécutables (. exe), consultez [ressources](resources.md).</span><span class="sxs-lookup"><span data-stu-id="96a44-231">For information about adding, removing, or replacing icon resources in executable (.exe) files, see [Resources](resources.md).</span></span>

<span data-ttu-id="96a44-232">La fonction [**DuplicateIcon**](/windows/desktop/api/Shellapi/nf-shellapi-duplicateicon) effectue une copie réelle de l’icône.</span><span class="sxs-lookup"><span data-stu-id="96a44-232">The [**DuplicateIcon**](/windows/desktop/api/Shellapi/nf-shellapi-duplicateicon) function makes an actual copy of the icon.</span></span>

 

 