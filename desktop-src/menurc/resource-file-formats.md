---
title: Formats de fichiers de ressources
description: Cette section décrit le format du fichier de ressources binaires que le compilateur de ressources crée en fonction du contenu du fichier de définition de ressource.
ms.assetid: a0b17555-f50a-4d58-b2bc-760843dd67eb
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b90c789cd1684c1f5ca31af0e2d60a31052ca03f
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/19/2020
ms.locfileid: "103842270"
---
# <a name="resource-file-formats"></a><span data-ttu-id="2c0f2-103">Formats de fichiers de ressources</span><span class="sxs-lookup"><span data-stu-id="2c0f2-103">Resource File Formats</span></span>

<span data-ttu-id="2c0f2-104">Cette section décrit le format du fichier de ressources binaires que le compilateur de ressources crée en fonction du contenu du fichier de définition de ressource.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-104">This section describes the format of the binary resource file that the resource compiler creates based on the contents of the resource-definition file.</span></span> <span data-ttu-id="2c0f2-105">Ce fichier a généralement une extension. res.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-105">This file usually has an .res extension.</span></span> <span data-ttu-id="2c0f2-106">L’éditeur de liens reformate le fichier. res en fichier d’objet de ressource, puis le lie au fichier exécutable d’une application.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-106">The linker reformats the .res file into a resource object file and then links it to the executable file of an application.</span></span>

<span data-ttu-id="2c0f2-107">Un fichier de ressources binaire se compose d’un certain nombre d’entrées de ressources concaténées.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-107">A binary resource file consists of a number of concatenated resource entries.</span></span> <span data-ttu-id="2c0f2-108">Chaque entrée se compose d’un en-tête de ressource et des données de cette ressource.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-108">Each entry consists of a resource header and the data for that resource.</span></span> <span data-ttu-id="2c0f2-109">Un en-tête de ressource est aligné sur **DWORD** dans le fichier et se compose des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="2c0f2-109">A resource header is **DWORD**-aligned in the file and consists of the following:</span></span>

-   <span data-ttu-id="2c0f2-110">**Valeur DWORD** qui contient la taille de l’en-tête de ressource</span><span class="sxs-lookup"><span data-stu-id="2c0f2-110">A **DWORD** that contains the size of the resource header</span></span>
-   <span data-ttu-id="2c0f2-111">**Valeur DWORD** qui contient la taille des données de ressource.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-111">A **DWORD** that contains the size of the resource data</span></span>
-   <span data-ttu-id="2c0f2-112">Type de ressource</span><span class="sxs-lookup"><span data-stu-id="2c0f2-112">The resource type</span></span>
-   <span data-ttu-id="2c0f2-113">Nom de la ressource</span><span class="sxs-lookup"><span data-stu-id="2c0f2-113">The resource name</span></span>
-   <span data-ttu-id="2c0f2-114">Informations supplémentaires sur les ressources</span><span class="sxs-lookup"><span data-stu-id="2c0f2-114">Additional resource information</span></span>

<span data-ttu-id="2c0f2-115">La structure [**RESOURCEHEADER**](resourceheader.md) décrit le format de cet en-tête.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-115">The [**RESOURCEHEADER**](resourceheader.md) structure describes the format of this header.</span></span> <span data-ttu-id="2c0f2-116">Les données de la ressource suivent l’en-tête de ressource et sont spécifiques à chaque type de ressource.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-116">The data for the resource follows the resource header and is specific to each type of resource.</span></span> <span data-ttu-id="2c0f2-117">Certaines ressources emploient également une structure d’en-tête de groupe spécifique aux ressources pour fournir des informations sur un groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-117">Some resources also employ a resource-specific group header structure to provide information about a group of resources.</span></span>

## <a name="accelerator-table-resources"></a><span data-ttu-id="2c0f2-118">Ressources de la table d’accélérateurs</span><span class="sxs-lookup"><span data-stu-id="2c0f2-118">Accelerator Table Resources</span></span>

<span data-ttu-id="2c0f2-119">Une table d’accélérateurs est une entrée de ressource dans un fichier de ressources.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-119">An accelerator table is one resource entry in a resource file.</span></span> <span data-ttu-id="2c0f2-120">Il n’a pas d’en-tête de groupe.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-120">It does not have a group header.</span></span> <span data-ttu-id="2c0f2-121">Une structure [**ACCELTABLEENTRY**](acceltableentry.md) décrit chaque entrée de la table d’accélérateurs.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-121">An [**ACCELTABLEENTRY**](acceltableentry.md) structure describes each entry in the accelerator table.</span></span> <span data-ttu-id="2c0f2-122">Plusieurs tables d’accélérateurs sont autorisées.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-122">Multiple accelerator tables are permitted.</span></span>

## <a name="cursor-and-icon-resources"></a><span data-ttu-id="2c0f2-123">Ressources curseur et icône</span><span class="sxs-lookup"><span data-stu-id="2c0f2-123">Cursor and Icon Resources</span></span>

<span data-ttu-id="2c0f2-124">Le système gère chaque icône et chaque curseur sous la forme d’un fichier unique.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-124">The system handles each icon and cursor as a single file.</span></span> <span data-ttu-id="2c0f2-125">Toutefois, ceux-ci sont stockés dans des fichiers. res et dans des fichiers exécutables sous la forme d’un groupe de ressources d’icône ou d’un groupe de ressources curseur.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-125">However, these are stored in .res files and in executable files as a group of icon resources or a group of cursor resources.</span></span> <span data-ttu-id="2c0f2-126">Les formats de fichier des ressources icône et curseur sont similaires.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-126">The file formats of icon and cursor resources are similar.</span></span> <span data-ttu-id="2c0f2-127">Dans le fichier. res, un en-tête de groupe de ressources suit tous les composants individuels des icônes ou des groupes de curseurs.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-127">In the .res file a resource group header follows all of the individual icon or cursor group components.</span></span>

<span data-ttu-id="2c0f2-128">Le format de chaque composant d’icône ressemble de près au format du fichier. ico.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-128">The format of each icon component closely resembles the format of the .ico file.</span></span> <span data-ttu-id="2c0f2-129">Chaque image d’icône est stockée dans une structure [**BITMAPINFO,**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) suivie par les bits DIB (Device-Independent Bitmap) du masque **Xor** de l’icône.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-129">Each icon image is stored in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure followed by the color device-independent bitmap (DIB) bits of the icon's **XOR** mask.</span></span> <span data-ttu-id="2c0f2-130">Les bits DIB monochrome de l’icône **et** du masque suivent les bits de couleur dib.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-130">The monochrome DIB bits of the icon's **AND** mask follow the color DIB bits.</span></span>

<span data-ttu-id="2c0f2-131">Le format de chaque composant de curseur est semblable au format du fichier. cur.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-131">The format of each cursor component resembles the format of the .cur file.</span></span> <span data-ttu-id="2c0f2-132">Chaque image de curseur est stockée dans une structure [**BITMAPINFO,**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) suivie des bits DIB monochrome du masque **Xor** du curseur, puis par les bits DIB monochrome des curseurs **et** du masque.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-132">Each cursor image is stored in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure followed by the monochrome DIB bits of the cursor's **XOR** mask, and then by the monochrome DIB bits of the cursor's **AND** mask.</span></span> <span data-ttu-id="2c0f2-133">Notez qu’il existe une différence dans les bitmaps des deux ressources : contrairement aux icônes, les masques de curseur XOR n’ont pas de bits de couleur DIB.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-133">Note that there is a difference in the bitmaps of the two resources: Unlike icons, cursor XOR masks do not have color DIB bits.</span></span> <span data-ttu-id="2c0f2-134">Bien que les bitmaps des masques de curseur soient monochromes et ne possèdent pas d’en-têtes ou de tables de couleurs DIB, les bits sont toujours au format DIB en ce qui concerne l’alignement et la direction.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-134">Although the bitmaps of the cursor masks are monochrome and do not have DIB headers or color tables, the bits are still in DIB format with respect to alignment and direction.</span></span> <span data-ttu-id="2c0f2-135">Une autre différence importante entre les curseurs et les icônes est que les curseurs ont une zone réactive et des icônes.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-135">Another significant difference between cursors and icons is that cursors have a hotspot and icons do not.</span></span>

<span data-ttu-id="2c0f2-136">L’en-tête de groupe pour les ressources d’icône et de curseur se compose d’une structure [**NEWHEADER**](newheader.md) plus une ou plusieurs structures [**RESDIR**](resdir.md) .</span><span class="sxs-lookup"><span data-stu-id="2c0f2-136">The group header for both icon and cursor resources consists of a [**NEWHEADER**](newheader.md) structure plus one or more [**RESDIR**](resdir.md) structures.</span></span> <span data-ttu-id="2c0f2-137">Il existe une structure **RESDIR** pour chaque icône ou curseur.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-137">There is one **RESDIR** structure for each icon or cursor.</span></span> <span data-ttu-id="2c0f2-138">L’en-tête de groupe contient les informations dont une application a besoin pour sélectionner l’icône ou le curseur correct à afficher.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-138">The group header contains the information an application needs to select the correct icon or cursor to display.</span></span> <span data-ttu-id="2c0f2-139">L’en-tête de groupe et les données qui se répètent pour chaque icône ou curseur du groupe ont une longueur fixe.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-139">Both the group header and the data that repeats for each icon or cursor in the group have a fixed length.</span></span> <span data-ttu-id="2c0f2-140">Cela permet à l’application d’accéder de manière aléatoire aux informations.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-140">This allows the application to randomly access the information.</span></span>

## <a name="dialog-box-resources"></a><span data-ttu-id="2c0f2-141">Ressources de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="2c0f2-141">Dialog Box Resources</span></span>

<span data-ttu-id="2c0f2-142">Une boîte de dialogue est également une entrée de ressource dans le fichier de ressources.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-142">A dialog box is also one resource entry in the resource file.</span></span> <span data-ttu-id="2c0f2-143">Il se compose d’une structure d’en-tête de boîte de dialogue [**DLGTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) plus une structure [**DLGITEMTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgitemtemplate) pour chaque contrôle dans la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-143">It consists of one [**DLGTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) dialog box header structure plus one [**DLGITEMTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgitemtemplate) structure for each control in the dialog box.</span></span> <span data-ttu-id="2c0f2-144">Les structures [**DLGTEMPLATEEX**](/windows/desktop/dlgbox/dlgtemplateex) et [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) décrivent le format des ressources de boîte de dialogue étendues.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-144">The [**DLGTEMPLATEEX**](/windows/desktop/dlgbox/dlgtemplateex) and the [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) structures describe the format of extended dialog box resources.</span></span>

## <a name="font-resources"></a><span data-ttu-id="2c0f2-145">Ressources de police</span><span class="sxs-lookup"><span data-stu-id="2c0f2-145">Font Resources</span></span>

<span data-ttu-id="2c0f2-146">Les polices sont stockées dans le fichier de ressources en tant que groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-146">Fonts are stored in the resource file as a group of resources.</span></span> <span data-ttu-id="2c0f2-147">Les différentes polices composent un groupe de polices.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-147">Individual fonts make up a font group.</span></span> <span data-ttu-id="2c0f2-148">Instruction de définition de ressource d' [instruction de police](./font-statement.md) dans le. Le fichier RC définit chaque police.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-148">A [FONT Statement](./font-statement.md) resource definition statement in the .RC file defines each font.</span></span> <span data-ttu-id="2c0f2-149">Chaque police individuelle de la ressource se compose du contenu complet du fichier. FNT associé.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-149">Each individual font in the resource consists of the complete contents of the related .fnt file.</span></span> <span data-ttu-id="2c0f2-150">Une structure [**FONTGROUPHDR**](fontgrouphdr.md) suit tous les composants de police individuels dans le fichier. res.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-150">A [**FONTGROUPHDR**](fontgrouphdr.md) structure follows all the individual font components in the .res file.</span></span>

<span data-ttu-id="2c0f2-151">Les ressources de police ne sont pas ajoutées aux ressources d’une application spécifique.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-151">Font resources are not added to the resources of a specific application.</span></span> <span data-ttu-id="2c0f2-152">Au lieu de cela, ils sont généralement ajoutés aux fichiers exécutables qui ont une extension. fon.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-152">Instead, they are normally added to executable files that have a .fon extension.</span></span> <span data-ttu-id="2c0f2-153">Ces fichiers sont généralement des dll de ressources uniquement plutôt que des applications.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-153">These files are usually resource-only DLLs rather than applications.</span></span>

## <a name="menu-resources"></a><span data-ttu-id="2c0f2-154">Ressources de menu</span><span class="sxs-lookup"><span data-stu-id="2c0f2-154">Menu Resources</span></span>

<span data-ttu-id="2c0f2-155">Une *ressource de menu* se compose d’une structure [**MENUHEADER**](menuheader.md) suivie d’une ou de plusieurs structures [**NORMALMENUITEM**](normalmenuitem.md) ou [**POPUPMENUITEM**](popupmenuitem.md) , une pour chaque élément de menu dans le modèle de menu.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-155">A *menu resource* consists of a [**MENUHEADER**](menuheader.md) structure followed by one or more [**NORMALMENUITEM**](normalmenuitem.md) or [**POPUPMENUITEM**](popupmenuitem.md) structures, one for each menu item in the menu template.</span></span> <span data-ttu-id="2c0f2-156">L' [**\_ \_ en-tête de modèle menuex**](menuex-template-header.md) et les structures d' [**\_ \_ élément de modèle menuex**](menuex-template-item.md) décrivent le format des ressources de menu étendu.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-156">The [**MENUEX\_TEMPLATE\_HEADER**](menuex-template-header.md) and the [**MENUEX\_TEMPLATE\_ITEM**](menuex-template-item.md) structures describe the format of extended menu resources.</span></span>

## <a name="message-table-resources"></a><span data-ttu-id="2c0f2-157">Ressources de la table de messages</span><span class="sxs-lookup"><span data-stu-id="2c0f2-157">Message Table Resources</span></span>

<span data-ttu-id="2c0f2-158">Une *table de messages* est une ressource qui contient le texte mis en forme à afficher en tant que message d’erreur ou dans une boîte de message.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-158">A *message table* is a resource that contains formatted text for display as an error message or in a message box.</span></span> <span data-ttu-id="2c0f2-159">La structure principale d’une ressource de table de messages est la structure de [**\_ \_ données de ressource de message**](/windows/desktop/api/Winnt/ns-winnt-message_resource_data) .</span><span class="sxs-lookup"><span data-stu-id="2c0f2-159">The main structure in a message table resource is the [**MESSAGE\_RESOURCE\_DATA**](/windows/desktop/api/Winnt/ns-winnt-message_resource_data) structure.</span></span>

## <a name="version-resources"></a><span data-ttu-id="2c0f2-160">Ressources de version</span><span class="sxs-lookup"><span data-stu-id="2c0f2-160">Version Resources</span></span>

<span data-ttu-id="2c0f2-161">La structure principale d’une ressource de version est la structure [**vs \_ FIXEDFILEINFO**](/windows/win32/api/verrsrc/ns-verrsrc-vs_fixedfileinfo) .</span><span class="sxs-lookup"><span data-stu-id="2c0f2-161">The main structure in a version resource is the [**VS\_FIXEDFILEINFO**](/windows/win32/api/verrsrc/ns-verrsrc-vs_fixedfileinfo) structure.</span></span> <span data-ttu-id="2c0f2-162">Les structures supplémentaires incluent la structure [**VarFileInfo**](varfileinfo.md) pour stocker les données d’informations de langue et [**StringFileInfo**](stringfileinfo.md) pour les informations de chaîne définies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-162">Additional structures include the [**VarFileInfo**](varfileinfo.md) structure to store language information data, and [**StringFileInfo**](stringfileinfo.md) for user-defined string information.</span></span> <span data-ttu-id="2c0f2-163">Toutes les chaînes d’une ressource de version sont au format Unicode.</span><span class="sxs-lookup"><span data-stu-id="2c0f2-163">All strings in a version resource are in Unicode format.</span></span> <span data-ttu-id="2c0f2-164">Chaque bloc d’informations est aligné sur une limite **DWORD** .</span><span class="sxs-lookup"><span data-stu-id="2c0f2-164">Each block of information is aligned on a **DWORD** boundary.</span></span>

 

 