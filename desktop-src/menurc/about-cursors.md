---
title: À propos des curseurs
description: Cette rubrique décrit les curseurs standard.
ms.assetid: 0ca8e51c-1159-47e9-ba3f-5ced0667cadb
keywords:
- ressources, curseurs
- curseurs, à propos de
- curseurs, standard
- curseurs standard
- SetSystemCursor fonction)
- curseurs, personnalisés
- curseurs personnalisés
- curseurs, zones réactives
- curseurs, création
- création de curseurs
- curseurs, emplacement
- curseurs, apparence
- destruction de curseurs
- duplication de curseurs
- curseur de classe
- affinage des curseurs
- curseurs, destruction
- curseurs, duplication
- curseurs, classe
- curseurs, affinage
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6f2d0b91ba4670d2510413240efd742b2e0ba69b
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/19/2020
ms.locfileid: "104031195"
---
# <a name="about-cursors"></a><span data-ttu-id="600ab-123">À propos des curseurs</span><span class="sxs-lookup"><span data-stu-id="600ab-123">About Cursors</span></span>

<span data-ttu-id="600ab-124">Windows fournit un ensemble de curseurs standard qui sont disponibles pour n’importe quelle application à utiliser à tout moment.</span><span class="sxs-lookup"><span data-stu-id="600ab-124">Windows provides a set of standard cursors that are available for any application to use at any time.</span></span> <span data-ttu-id="600ab-125">Les fichiers d’en-tête du kit de développement logiciel (SDK) contiennent des identificateurs pour les curseurs standard : les identificateurs commencent par le préfixe **IDC \_** .</span><span class="sxs-lookup"><span data-stu-id="600ab-125">The SDK header files contain identifiers for the standard cursors—the identifiers begin with the **IDC\_** prefix.</span></span>

<span data-ttu-id="600ab-126">Chaque curseur standard possède une image par défaut correspondante qui lui est associée.</span><span class="sxs-lookup"><span data-stu-id="600ab-126">Each standard cursor has a corresponding default image associated with it.</span></span> <span data-ttu-id="600ab-127">L’utilisateur ou une application peut remplacer l’image par défaut associée à n’importe quel curseur standard à tout moment.</span><span class="sxs-lookup"><span data-stu-id="600ab-127">The user or an application can replace the default image associated with any standard cursor at any time.</span></span> <span data-ttu-id="600ab-128">Une application remplace une image par défaut à l’aide de la fonction [**SetSystemCursor**](/windows/desktop/api/Winuser/nf-winuser-setsystemcursor) .</span><span class="sxs-lookup"><span data-stu-id="600ab-128">An application replaces a default image by using the [**SetSystemCursor**](/windows/desktop/api/Winuser/nf-winuser-setsystemcursor) function.</span></span> <span data-ttu-id="600ab-129">L’illustration suivante montre plusieurs curseurs standard de Windows Vista :</span><span class="sxs-lookup"><span data-stu-id="600ab-129">The following image shows several standard cursors from Windows Vista:</span></span>

![curseurs standard, y compris main, signe plus à quatre flèches, flèche avec point d’interrogation, cercle, plume](images/cursorsstandard.png)

<span data-ttu-id="600ab-131">Une application peut utiliser la fonction [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) pour récupérer l’image actuelle d’un curseur et peut dessiner le curseur à l’aide de la fonction [**DrawIconEx**](/windows/desktop/api/Winuser/nf-winuser-drawiconex) .</span><span class="sxs-lookup"><span data-stu-id="600ab-131">An application can use the [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) function to retrieve the current image for a cursor and can draw the cursor by using the [**DrawIconEx**](/windows/desktop/api/Winuser/nf-winuser-drawiconex) function.</span></span> <span data-ttu-id="600ab-132">Pour dessiner l’image par défaut d’un curseur standard, spécifiez l’indicateur **di \_ compat** dans l’appel à **DrawIconEx**.</span><span class="sxs-lookup"><span data-stu-id="600ab-132">To draw the default image for a standard cursor, specify the **DI\_COMPAT** flag in the call to **DrawIconEx**.</span></span> <span data-ttu-id="600ab-133">Si vous ne spécifiez pas l’indicateur de **\_ compatibilité di** , **DrawIconEx** dessine le curseur standard à l’aide de l’image spécifiée par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="600ab-133">If you do not specify the **DI\_COMPAT** flag, **DrawIconEx** draws the standard cursor using the image that the user specified.</span></span>

<span data-ttu-id="600ab-134">Les curseurs personnalisés sont conçus pour être utilisés dans une application spécifique et peuvent être toute conception définie par le développeur.</span><span class="sxs-lookup"><span data-stu-id="600ab-134">Custom cursors are designed for use in a specific application and can be any design the developer defines.</span></span> <span data-ttu-id="600ab-135">L’illustration suivante montre plusieurs curseurs personnalisés.</span><span class="sxs-lookup"><span data-stu-id="600ab-135">The following illustration shows several custom cursors.</span></span>

![curseurs personnalisés, y compris main, Banana, tambour, montre en main, métronome](images/cursorscustom.png)

<span data-ttu-id="600ab-137">Les curseurs peuvent être de type monochrome ou couleur, et être statiques ou animés.</span><span class="sxs-lookup"><span data-stu-id="600ab-137">Cursors can be either monochrome or color, and either static or animated.</span></span> <span data-ttu-id="600ab-138">Le type de curseur utilisé sur un système informatique particulier dépend de l’affichage du système.</span><span class="sxs-lookup"><span data-stu-id="600ab-138">The type of cursor used on a particular computer system depends on the system's display.</span></span> <span data-ttu-id="600ab-139">Les anciens affichages tels que VGA ne prennent pas en charge les curseurs de couleur ou animés.</span><span class="sxs-lookup"><span data-stu-id="600ab-139">Old displays such as VGA do not support color or animated cursors.</span></span> <span data-ttu-id="600ab-140">Les nouveaux affichages, dont les pilotes d’affichage utilisent le moteur DIB (Device-Independent Bitmap), les prennent en charge.</span><span class="sxs-lookup"><span data-stu-id="600ab-140">New displays, whose display drivers use the device-independent bitmap (DIB) engine, do support them.</span></span>

<span data-ttu-id="600ab-141">Les curseurs et les icônes sont similaires et peuvent être utilisés indifféremment dans de nombreuses situations.</span><span class="sxs-lookup"><span data-stu-id="600ab-141">Cursors and icons are similar and can be used interchangeably in many situations.</span></span> <span data-ttu-id="600ab-142">La seule différence réside dans le fait qu’une image spécifiée comme curseur doit être au format pris en charge par l’affichage.</span><span class="sxs-lookup"><span data-stu-id="600ab-142">The only difference between them is that an image specified as a cursor must be in the format that the display can support.</span></span> <span data-ttu-id="600ab-143">Par exemple, un curseur doit être monochrome pour un affichage VGA.</span><span class="sxs-lookup"><span data-stu-id="600ab-143">For example, a cursor must be monochrome for a VGA display.</span></span>

<span data-ttu-id="600ab-144">Cette vue d’ensemble fournit des informations sur les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="600ab-144">This overview provides information on the following topics:</span></span>

-   [<span data-ttu-id="600ab-145">Zone réactive</span><span class="sxs-lookup"><span data-stu-id="600ab-145">The Hot Spot</span></span>](#the-hot-spot)
-   [<span data-ttu-id="600ab-146">La souris et le curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-146">The Mouse and the Cursor</span></span>](#the-mouse-and-the-cursor)
-   [<span data-ttu-id="600ab-147">Création de curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-147">Cursor Creation</span></span>](#cursor-creation)
-   [<span data-ttu-id="600ab-148">Emplacement et apparence du curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-148">Cursor Location and Appearance</span></span>](#cursor-location-and-appearance)
-   [<span data-ttu-id="600ab-149">Limiter le curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-149">Cursor Confinement</span></span>](#cursor-confinement)
-   [<span data-ttu-id="600ab-150">Destruction de curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-150">Cursor Destruction</span></span>](#cursor-destruction)
-   [<span data-ttu-id="600ab-151">Duplication de curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-151">Cursor Duplication</span></span>](#cursor-duplication)
-   [<span data-ttu-id="600ab-152">Curseur de la classe de fenêtre</span><span class="sxs-lookup"><span data-stu-id="600ab-152">The Window Class Cursor</span></span>](#the-window-class-cursor)

## <a name="the-hot-spot"></a><span data-ttu-id="600ab-153">Zone réactive</span><span class="sxs-lookup"><span data-stu-id="600ab-153">The Hot Spot</span></span>

<span data-ttu-id="600ab-154">Dans le curseur, un pixel appelé « *spot* » marque l’emplacement exact de l’écran qui est affecté par un événement de souris, par exemple en cliquant sur un bouton de la souris.</span><span class="sxs-lookup"><span data-stu-id="600ab-154">In the cursor, a pixel called the *hot spot* marks the exact screen location that is affected by a mouse event, such as clicking a mouse button.</span></span> <span data-ttu-id="600ab-155">En règle générale, la zone réactive est le point focal du curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-155">Typically, the hot spot is the focal point of the cursor.</span></span> <span data-ttu-id="600ab-156">Le système effectue le suivi de ce point et le reconnaît comme position du curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-156">The system tracks and recognizes this point as the position of the cursor.</span></span> <span data-ttu-id="600ab-157">Par exemple, les zones réactives typiques sont le pixel à l’extrémité d’un curseur en forme de flèche et le pixel au milieu d’un curseur en forme de croix.</span><span class="sxs-lookup"><span data-stu-id="600ab-157">For example, typical hot spots are the pixel at the tip of an arrow-shaped cursor and the pixel in the middle of a crosshair-shaped cursor.</span></span> <span data-ttu-id="600ab-158">Les images suivantes montrent deux curseurs d’un programme de dessin, dans lesquels les zones réactives sont associées à la pointe du pinceau et la Croix de la peinture peut.</span><span class="sxs-lookup"><span data-stu-id="600ab-158">The following images shows two cursors from a drawing program, in which hot spots are associated with the tip of the brush and the crosshair of the paint can.</span></span>

![zones réactives sur deux curseurs](images/cursorhotspot.png)

<span data-ttu-id="600ab-160">Quand un événement d’entrée de la souris se produit, le pilote de la souris convertit l’événement en un message de souris approprié qui comprend les coordonnées de la zone réactive.</span><span class="sxs-lookup"><span data-stu-id="600ab-160">When a mouse input event occurs, the mouse driver translates the event into an appropriate mouse message that includes the coordinates of the hot spot.</span></span> <span data-ttu-id="600ab-161">Le système envoie le message de la souris à la fenêtre qui contient la zone réactive ou à la fenêtre qui capture l’entrée de la souris.</span><span class="sxs-lookup"><span data-stu-id="600ab-161">The system sends the mouse message to the window that contains the hot spot or to the window that is capturing mouse input.</span></span> <span data-ttu-id="600ab-162">Pour plus d’informations, consultez [entrée de la souris](/windows/desktop/inputdev/mouse-input).</span><span class="sxs-lookup"><span data-stu-id="600ab-162">For more information, see [Mouse Input](/windows/desktop/inputdev/mouse-input).</span></span>

## <a name="the-mouse-and-the-cursor"></a><span data-ttu-id="600ab-163">La souris et le curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-163">The Mouse and the Cursor</span></span>

<span data-ttu-id="600ab-164">Le système reflète le mouvement de la souris en déplaçant le curseur sur l’écran en conséquence.</span><span class="sxs-lookup"><span data-stu-id="600ab-164">The system reflects the movement of the mouse by moving the cursor on the screen accordingly.</span></span> <span data-ttu-id="600ab-165">Lorsque le curseur se déplace sur différentes parties de fenêtres ou dans différentes fenêtres, le système (ou une application) modifie l’apparence du curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-165">As the cursor moves over different parts of windows or into different windows, the system (or an application) changes the appearance of the cursor.</span></span> <span data-ttu-id="600ab-166">Par exemple, lorsque le curseur traverse un lien hypertexte, le système modifie le curseur d’une flèche en une main.</span><span class="sxs-lookup"><span data-stu-id="600ab-166">For example, when the cursor crosses over a hyperlink, the system changes the cursor from an arrow to a hand.</span></span>

![curseur standard passant à une main quand vous êtes au-dessus d’un lien hypertexte](images/cursorchangingstate.png)

<span data-ttu-id="600ab-168">Si le système n’a pas de souris, le système affiche et déplace le curseur uniquement lorsque l’utilisateur choisit certaines commandes système, telles que celles utilisées pour dimensionner ou déplacer une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="600ab-168">If the system does not have a mouse, the system displays and moves the cursor only when the user chooses certain system commands, such as those used to size or move a window.</span></span> <span data-ttu-id="600ab-169">Pour permettre à l’utilisateur d’afficher et de déplacer le curseur quand une souris n’est pas disponible, une application peut utiliser les fonctions de curseur pour simuler le mouvement de la souris.</span><span class="sxs-lookup"><span data-stu-id="600ab-169">To provide the user with a method of displaying and moving the cursor when a mouse is not available, an application can use the cursor functions to simulate mouse movement.</span></span> <span data-ttu-id="600ab-170">À partir de cette fonctionnalité de simulation, l’utilisateur peut utiliser les touches de direction pour déplacer le curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-170">Given this simulation capability, the user can use the arrow keys to move the cursor.</span></span>

## <a name="cursor-creation"></a><span data-ttu-id="600ab-171">Création de curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-171">Cursor Creation</span></span>

<span data-ttu-id="600ab-172">Étant donné que les curseurs standard sont prédéfinis, il n’est pas nécessaire de les créer.</span><span class="sxs-lookup"><span data-stu-id="600ab-172">Because standard cursors are predefined, it is not necessary to create them.</span></span> <span data-ttu-id="600ab-173">Pour utiliser un curseur standard, une application récupère un handle de curseur à l’aide de la fonction [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora) ou [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) .</span><span class="sxs-lookup"><span data-stu-id="600ab-173">To use a standard cursor, an application retrieves a cursor handle by using the [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora) or [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) function.</span></span> <span data-ttu-id="600ab-174">Un *handle de curseur* est une valeur unique du type **HCURSOR** qui identifie un curseur standard ou personnalisé.</span><span class="sxs-lookup"><span data-stu-id="600ab-174">A *cursor handle* is a unique value of the **HCURSOR** type that identifies a standard or custom cursor.</span></span>

<span data-ttu-id="600ab-175">Pour créer un curseur personnalisé pour une application, vous utilisez généralement une application graphique et incluez le curseur en tant que ressource dans le fichier de définition de ressources de l’application.</span><span class="sxs-lookup"><span data-stu-id="600ab-175">To create a custom cursor for an application, you typically use a graphics application and include the cursor as a resource in the application's resource-definition file.</span></span> <span data-ttu-id="600ab-176">Au moment de l’exécution, appelez [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora) pour récupérer le handle de curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-176">At run time, call [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora) to retrieve the cursor handle.</span></span> <span data-ttu-id="600ab-177">Les ressources de curseur contiennent des données pour plusieurs périphériques d’affichage différents.</span><span class="sxs-lookup"><span data-stu-id="600ab-177">Cursor resources contain data for several different display devices.</span></span> <span data-ttu-id="600ab-178">La fonction **LoadCursor** sélectionne automatiquement les données les plus appropriées pour le périphérique d’affichage actuel.</span><span class="sxs-lookup"><span data-stu-id="600ab-178">The **LoadCursor** function automatically selects the most appropriate data for the current display device.</span></span> <span data-ttu-id="600ab-179">Pour charger un curseur directement à partir d’un. CUR ou. Fichier ANI, utilisez la fonction [**LoadCursorFromFile**](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea) .</span><span class="sxs-lookup"><span data-stu-id="600ab-179">To load a cursor directly from a .CUR or .ANI file, use the [**LoadCursorFromFile**](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea) function.</span></span>

<span data-ttu-id="600ab-180">Vous pouvez également créer un curseur personnalisé au moment de l’exécution à l’aide de la fonction [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) , qui crée un curseur basé sur le contenu d’une structure [**ICONINFO**](/windows/desktop/api/Winuser/ns-winuser-iconinfo) .</span><span class="sxs-lookup"><span data-stu-id="600ab-180">You can also create a custom cursor at run time by using the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function, which creates a cursor based on the content of an [**ICONINFO**](/windows/desktop/api/Winuser/ns-winuser-iconinfo) structure.</span></span> <span data-ttu-id="600ab-181">La fonction [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) remplit cette structure avec des coordonnées de zone réactive et des informations relatives au masque et à la couleur associés.</span><span class="sxs-lookup"><span data-stu-id="600ab-181">The [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) function fills this structure with hot spot coordinates and information concerning the associated mask and color.</span></span>

<span data-ttu-id="600ab-182">Les applications doivent implémenter des curseurs personnalisés en tant que ressources et utiliser [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora), [**LoadCursorFromFile**](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea)ou [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) au lieu de créer le curseur au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="600ab-182">Applications should implement custom cursors as resources and use [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora), [**LoadCursorFromFile**](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea), or [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) rather than create the cursor at run time.</span></span> <span data-ttu-id="600ab-183">L’utilisation des ressources de curseur évite la dépendance des appareils, simplifie la localisation et permet aux applications de partager des conceptions de curseurs.</span><span class="sxs-lookup"><span data-stu-id="600ab-183">Using cursor resources avoids device dependence, simplifies localization, and enables applications to share cursor designs.</span></span>

<span data-ttu-id="600ab-184">La fonction [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex) permet à une application de créer des icônes et des curseurs basés sur les données de ressources.</span><span class="sxs-lookup"><span data-stu-id="600ab-184">The [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex) function enables an application to create icons and cursors based on resource data.</span></span> <span data-ttu-id="600ab-185">**CreateIconFromResourceEx** crée un curseur basé sur les données de ressources binaires à partir d’autres fichiers exécutables (. exe) ou de dll.</span><span class="sxs-lookup"><span data-stu-id="600ab-185">**CreateIconFromResourceEx** creates a cursor based on binary resource data from other executable (.exe) files or DLLs.</span></span> <span data-ttu-id="600ab-186">Elle doit être précédée d’appels à la fonction [**LookupIconIdFromDirectoryEx**](/windows/desktop/api/Winuser/nf-winuser-lookupiconidfromdirectoryex) , ainsi que de plusieurs fonctions de ressources.</span><span class="sxs-lookup"><span data-stu-id="600ab-186">It must be preceded by calls to the [**LookupIconIdFromDirectoryEx**](/windows/desktop/api/Winuser/nf-winuser-lookupiconidfromdirectoryex) function, as well as several resource functions.</span></span> <span data-ttu-id="600ab-187">**LookupIconIdFromDirectoryEx** identifie les données de curseur les plus appropriées pour le périphérique d’affichage actuel.</span><span class="sxs-lookup"><span data-stu-id="600ab-187">**LookupIconIdFromDirectoryEx** identifies the most appropriate cursor data for the current display device.</span></span> <span data-ttu-id="600ab-188">Pour plus d’informations sur les fonctions de ressource, consultez [ressources](resources.md).</span><span class="sxs-lookup"><span data-stu-id="600ab-188">For more information about resource functions, see [Resources](resources.md).</span></span>

## <a name="cursor-location-and-appearance"></a><span data-ttu-id="600ab-189">Emplacement et apparence du curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-189">Cursor Location and Appearance</span></span>

<span data-ttu-id="600ab-190">Le système affiche automatiquement un curseur pour la souris et met à jour sa position à l’écran.</span><span class="sxs-lookup"><span data-stu-id="600ab-190">The system automatically displays a cursor for the mouse and updates its position on the screen.</span></span> <span data-ttu-id="600ab-191">Vous pouvez obtenir les coordonnées de l’écran actuel du curseur et déplacer le curseur vers n’importe quel emplacement de l’écran à l’aide des fonctions [**GetCursorPos**](/windows/desktop/api/Winuser/nf-winuser-getcursorpos) et [**SetCursorPos**](/windows/desktop/api/Winuser/nf-winuser-setcursorpos) , respectivement.</span><span class="sxs-lookup"><span data-stu-id="600ab-191">You can obtain current screen coordinates of the cursor and move the cursor to any location on the screen by using the [**GetCursorPos**](/windows/desktop/api/Winuser/nf-winuser-getcursorpos) and [**SetCursorPos**](/windows/desktop/api/Winuser/nf-winuser-setcursorpos) functions, respectively.</span></span>

<span data-ttu-id="600ab-192">Vous pouvez également récupérer le handle du curseur en cours à l’aide de la fonction [**GetCursor**](/windows/desktop/api/Winuser/nf-winuser-getcursor) , et vous pouvez définir le curseur à l’aide de la fonction [**SetCursor**](/windows/desktop/api/Winuser/nf-winuser-setcursor) .</span><span class="sxs-lookup"><span data-stu-id="600ab-192">You can also retrieve the handle to the current cursor by using the [**GetCursor**](/windows/desktop/api/Winuser/nf-winuser-getcursor) function, and you can set the cursor by using the [**SetCursor**](/windows/desktop/api/Winuser/nf-winuser-setcursor) function.</span></span> <span data-ttu-id="600ab-193">Une fois que vous avez appelé **SetCursor**, l’apparence du curseur n’est pas modifiée tant que la souris n’est pas déplacée, le curseur est explicitement défini sur un autre curseur ou une commande système est exécutée.</span><span class="sxs-lookup"><span data-stu-id="600ab-193">After you call **SetCursor**, the appearance of the cursor does not change until either the mouse moves, the cursor is explicitly set to a different cursor, or a system command is executed.</span></span>

<span data-ttu-id="600ab-194">Lorsque l’utilisateur déplace la souris, le système redessine le curseur au nouvel emplacement.</span><span class="sxs-lookup"><span data-stu-id="600ab-194">When the user moves the mouse, the system redraws the cursor at the new location.</span></span> <span data-ttu-id="600ab-195">Le système redessine automatiquement la conception de curseur associée à la fenêtre vers laquelle le curseur pointe.</span><span class="sxs-lookup"><span data-stu-id="600ab-195">The system automatically redraws the cursor design associated with the window to which the cursor is pointing.</span></span>

<span data-ttu-id="600ab-196">Vous pouvez masquer et réafficher le curseur, sans modifier la conception du curseur, à l’aide de la fonction [**ShowCursor**](/windows/desktop/api/Winuser/nf-winuser-showcursor) .</span><span class="sxs-lookup"><span data-stu-id="600ab-196">You can hide and redisplay the cursor, without changing the cursor design, by using the [**ShowCursor**](/windows/desktop/api/Winuser/nf-winuser-showcursor) function.</span></span> <span data-ttu-id="600ab-197">Cette fonction utilise un compteur interne pour déterminer quand masquer ou afficher le curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-197">This function uses an internal counter to determine when to hide or display the cursor.</span></span> <span data-ttu-id="600ab-198">Une tentative d’affichage du curseur incrémente le compteur ; une tentative de masquage du curseur décrémente le compteur.</span><span class="sxs-lookup"><span data-stu-id="600ab-198">An attempt to show the cursor increments the counter; an attempt to hide the cursor decrements the counter.</span></span> <span data-ttu-id="600ab-199">Le curseur est visible uniquement si ce compteur est supérieur ou égal à zéro.</span><span class="sxs-lookup"><span data-stu-id="600ab-199">The cursor is visible only if this counter is greater than or equal to zero.</span></span>

<span data-ttu-id="600ab-200">La fonction [**GetCursorInfo**](/windows/desktop/api/Winuser/nf-winuser-getcursorinfo) obtient les informations suivantes pour le curseur global : indique si le curseur est masqué ou affiché, le handle du curseur et les coordonnées du curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-200">The [**GetCursorInfo**](/windows/desktop/api/Winuser/nf-winuser-getcursorinfo) function gets the following information for the global cursor: whether the cursor is hidden or shown, the handle to the cursor, and the coordinates of the cursor.</span></span>

## <a name="cursor-confinement"></a><span data-ttu-id="600ab-201">Limiter le curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-201">Cursor Confinement</span></span>

<span data-ttu-id="600ab-202">Vous pouvez limiter le curseur à une zone rectangulaire sur l’écran à l’aide de la fonction [**ClipCursor**](/windows/desktop/api/Winuser/nf-winuser-clipcursor) .</span><span class="sxs-lookup"><span data-stu-id="600ab-202">You can confine the cursor to a rectangular area on the screen by using the [**ClipCursor**](/windows/desktop/api/Winuser/nf-winuser-clipcursor) function.</span></span> <span data-ttu-id="600ab-203">Cela est utile lorsque l’utilisateur doit répondre à un certain événement dans la zone confinée du rectangle.</span><span class="sxs-lookup"><span data-stu-id="600ab-203">This is useful for when the user must respond to a certain event within the confined area of the rectangle.</span></span> <span data-ttu-id="600ab-204">Par exemple, vous pouvez utiliser **ClipCursor** pour limiter le curseur à une boîte de dialogue modale, ce qui empêche l’utilisateur d’interagir avec d’autres fenêtres jusqu’à la fermeture de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="600ab-204">For example, you might use **ClipCursor** to confine the cursor to a modal dialog box, preventing the user from interacting with other windows until the dialog box is closed.</span></span>

<span data-ttu-id="600ab-205">La fonction [**GetClipCursor**](/windows/desktop/api/Winuser/nf-winuser-getclipcursor) récupère les coordonnées d’écran de la zone rectangulaire dans laquelle le curseur est provisoirement confiné.</span><span class="sxs-lookup"><span data-stu-id="600ab-205">The [**GetClipCursor**](/windows/desktop/api/Winuser/nf-winuser-getclipcursor) function retrieves the screen coordinates of the rectangular area to which the cursor is temporarily confined.</span></span> <span data-ttu-id="600ab-206">Lorsqu’il est nécessaire de limiter le curseur, vous pouvez également utiliser cette fonction pour enregistrer les coordonnées de la zone d’origine dans laquelle le curseur peut se déplacer.</span><span class="sxs-lookup"><span data-stu-id="600ab-206">When it is necessary to confine the cursor, you can also use this function to save the coordinates of the original area in which the cursor can move.</span></span> <span data-ttu-id="600ab-207">Ensuite, vous pouvez restaurer le curseur dans la zone d’origine lorsque la nouvelle confineion n’est plus nécessaire.</span><span class="sxs-lookup"><span data-stu-id="600ab-207">Then, you can restore the cursor to the original area when the new confinement is no longer necessary.</span></span>

## <a name="cursor-destruction"></a><span data-ttu-id="600ab-208">Destruction de curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-208">Cursor Destruction</span></span>

<span data-ttu-id="600ab-209">Vous pouvez détruire le handle de curseur et libérer la mémoire du curseur utilisé en appelant la fonction [**DestroyCursor**](/windows/desktop/api/Winuser/nf-winuser-destroycursor) .</span><span class="sxs-lookup"><span data-stu-id="600ab-209">You can destroy the cursor handle and free the memory the cursor used by calling the [**DestroyCursor**](/windows/desktop/api/Winuser/nf-winuser-destroycursor) function.</span></span> <span data-ttu-id="600ab-210">Toutefois, cette fonction n’a aucun effet sur un curseur partagé.</span><span class="sxs-lookup"><span data-stu-id="600ab-210">However, this function has no effect on a shared cursor.</span></span> <span data-ttu-id="600ab-211">Un curseur partagé est valide tant que le module à partir duquel il a été chargé reste en mémoire.</span><span class="sxs-lookup"><span data-stu-id="600ab-211">A shared cursor is valid as long as the module from which it was loaded remains in memory.</span></span> <span data-ttu-id="600ab-212">Les fonctions suivantes obtiennent un curseur partagé :</span><span class="sxs-lookup"><span data-stu-id="600ab-212">The following functions obtain a shared cursor:</span></span>

-   [<span data-ttu-id="600ab-213">**LoadCursor**</span><span class="sxs-lookup"><span data-stu-id="600ab-213">**LoadCursor**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadcursora)
-   [<span data-ttu-id="600ab-214">**LoadCursorFromFile**</span><span class="sxs-lookup"><span data-stu-id="600ab-214">**LoadCursorFromFile**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea)
-   <span data-ttu-id="600ab-215">[**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) (si vous utilisez l' **indicateur \_ partagé LR** )</span><span class="sxs-lookup"><span data-stu-id="600ab-215">[**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) (if you use the **LR\_SHARED** flag)</span></span>
-   <span data-ttu-id="600ab-216">[**CopyImage**](/windows/desktop/api/Winuser/nf-winuser-copyimage) (si vous utilisez l’indicateur **LR \_ COPYRETURNORG** et que *hImage* est un curseur partagé)</span><span class="sxs-lookup"><span data-stu-id="600ab-216">[**CopyImage**](/windows/desktop/api/Winuser/nf-winuser-copyimage) (if you use the **LR\_COPYRETURNORG** flag and the *hImage* is a shared cursor)</span></span>

<span data-ttu-id="600ab-217">Lorsque vous n’avez plus besoin d’un curseur que vous avez créé à l’aide de la fonction [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) , vous devez détruire le curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-217">When you no longer need a cursor you created by using the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function, you should destroy the cursor.</span></span> <span data-ttu-id="600ab-218">La fonction [**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon) détruit le handle de curseur et libère la mémoire utilisée par le curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-218">The [**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon) function destroys the cursor handle and frees any memory the cursor used.</span></span> <span data-ttu-id="600ab-219">Utilisez cette fonction uniquement sur les curseurs créés avec **CreateIconIndirect**.</span><span class="sxs-lookup"><span data-stu-id="600ab-219">Use this function only on cursors that were created with **CreateIconIndirect**.</span></span>

## <a name="cursor-duplication"></a><span data-ttu-id="600ab-220">Duplication de curseur</span><span class="sxs-lookup"><span data-stu-id="600ab-220">Cursor Duplication</span></span>

<span data-ttu-id="600ab-221">La fonction [**CopyCursor**](/windows/desktop/api/Winuser/nf-winuser-copycursor) copie un handle de curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-221">The [**CopyCursor**](/windows/desktop/api/Winuser/nf-winuser-copycursor) function copies a cursor handle.</span></span> <span data-ttu-id="600ab-222">Cela permet au code de l’application ou de la DLL de récupérer le descripteur d’un curseur détenu par un autre module.</span><span class="sxs-lookup"><span data-stu-id="600ab-222">This enables application or DLL code to retrieve the handle to a cursor owned by another module.</span></span> <span data-ttu-id="600ab-223">Ensuite, si l’autre module est libéré, le module qui a copié le curseur peut toujours utiliser la conception de curseur.</span><span class="sxs-lookup"><span data-stu-id="600ab-223">Then, if the other module is freed, the module that copied the cursor can still use the cursor design.</span></span>

<span data-ttu-id="600ab-224">Pour plus d’informations sur l’ajout, la suppression ou le remplacement de ressources de curseur dans des fichiers exécutables, consultez [ressources](resources.md).</span><span class="sxs-lookup"><span data-stu-id="600ab-224">For information on how to add, remove, or replace cursor resources in executable files, see [Resources](resources.md).</span></span>

## <a name="the-window-class-cursor"></a><span data-ttu-id="600ab-225">Curseur de la classe de fenêtre</span><span class="sxs-lookup"><span data-stu-id="600ab-225">The Window Class Cursor</span></span>

<span data-ttu-id="600ab-226">Lorsque vous inscrivez une classe de fenêtre à l’aide de la fonction [**registerClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) , vous pouvez lui assigner un curseur par défaut, appelé *curseur de classe*.</span><span class="sxs-lookup"><span data-stu-id="600ab-226">When you register a window class, using the [**RegisterClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) function, you can assign it a default cursor, known as the *class cursor*.</span></span> <span data-ttu-id="600ab-227">Une fois que l’application a inscrit la classe de fenêtre, chaque fenêtre de cette classe possède le curseur de classe spécifié.</span><span class="sxs-lookup"><span data-stu-id="600ab-227">After the application registers the window class, each window of that class has the specified class cursor.</span></span>

<span data-ttu-id="600ab-228">Pour remplacer le curseur de la classe, traitez le message [**WM \_ SETCURSOR**](wm-setcursor.md) .</span><span class="sxs-lookup"><span data-stu-id="600ab-228">To override the class cursor, process the [**WM\_SETCURSOR**](wm-setcursor.md) message.</span></span> <span data-ttu-id="600ab-229">Vous pouvez également remplacer un curseur de classe à l’aide de la fonction [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) .</span><span class="sxs-lookup"><span data-stu-id="600ab-229">You can also replace a class cursor by using the [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) function.</span></span> <span data-ttu-id="600ab-230">Cette fonction modifie les paramètres de fenêtre par défaut pour toutes les fenêtres d’une classe spécifiée.</span><span class="sxs-lookup"><span data-stu-id="600ab-230">This function changes the default window settings for all windows of a specified class.</span></span> <span data-ttu-id="600ab-231">Pour plus d’informations, consultez [Class Cursor](/windows/desktop/winmsg/about-window-classes).</span><span class="sxs-lookup"><span data-stu-id="600ab-231">For more information, see [Class Cursor](/windows/desktop/winmsg/about-window-classes).</span></span>

 

 