---
description: Découvrez les concepts courants lorsque vous souhaitez étendre l’Explorateur Windows, qui est l’une des nombreuses options d’extensibilité dans l’interface utilisateur du shell Windows.
title: Concepts communs de l’Explorateur
ms.topic: article
ms.date: 05/31/2018
ms.assetid: 78136c36-bd3c-4114-8b69-fef4e307566d
api_name: ''
api_type: ''
api_location: ''
topic_type:
- kbArticle
ms.openlocfilehash: db9b46bf944992a16b6a1b8a9bcad581ec7d661b
ms.sourcegitcommit: 5d4e99f4c8f42f5f543e52cb9beb9fb13ec56c5f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/19/2021
ms.locfileid: "112404932"
---
# <a name="common-explorer-concepts"></a><span data-ttu-id="329e7-103">Concepts communs de l’Explorateur</span><span class="sxs-lookup"><span data-stu-id="329e7-103">Common Explorer Concepts</span></span>

<span data-ttu-id="329e7-104">L' *espace de noms* Shell organise le système de fichiers et d’autres objets gérés par le shell en une seule hiérarchie structurée en arborescence.</span><span class="sxs-lookup"><span data-stu-id="329e7-104">The Shell *namespace* organizes the file system and other objects managed by the Shell into a single tree-structured hierarchy.</span></span> <span data-ttu-id="329e7-105">Conceptuellement, il s’agit d’une version plus volumineuse et plus inclusive du système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="329e7-105">Conceptually, it is a larger and more inclusive version of the file system.</span></span>

-   [<span data-ttu-id="329e7-106">Introduction</span><span class="sxs-lookup"><span data-stu-id="329e7-106">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="329e7-107">Identification des objets d’espace de noms</span><span class="sxs-lookup"><span data-stu-id="329e7-107">Identifying Namespace Objects</span></span>](#identifying-namespace-objects)
    -   [<span data-ttu-id="329e7-108">ID d’élément</span><span class="sxs-lookup"><span data-stu-id="329e7-108">Item IDs</span></span>](#item-ids)
    -   [<span data-ttu-id="329e7-109">Listes d’ID d’élément</span><span class="sxs-lookup"><span data-stu-id="329e7-109">Item ID Lists</span></span>](#item-id-lists)
    -   [<span data-ttu-id="329e7-110">PIDL</span><span class="sxs-lookup"><span data-stu-id="329e7-110">PIDLs</span></span>](#pidls)
    -   [<span data-ttu-id="329e7-111">Allocation de PIDL</span><span class="sxs-lookup"><span data-stu-id="329e7-111">Allocating PIDLs</span></span>](#allocating-pidls)

## <a name="introduction"></a><span data-ttu-id="329e7-112">Introduction</span><span class="sxs-lookup"><span data-stu-id="329e7-112">Introduction</span></span>

<span data-ttu-id="329e7-113">L’une des responsabilités principales de l’interpréteur de commandes consiste à gérer et à fournir l’accès à la grande variété d’objets qui composent le système.</span><span class="sxs-lookup"><span data-stu-id="329e7-113">One of the primary responsibilities of the Shell is managing and providing access to the wide variety of objects that make up the system.</span></span> <span data-ttu-id="329e7-114">Les plus nombreux et les plus familiers de ces objets sont les dossiers et les fichiers qui résident sur les lecteurs de disque de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="329e7-114">The most numerous and familiar of these objects are the folders and files that reside on computer disk drives.</span></span> <span data-ttu-id="329e7-115">Toutefois, l’interpréteur de commandes gère également un certain nombre d’objets de système de fichiers ou *virtuels* .</span><span class="sxs-lookup"><span data-stu-id="329e7-115">However, the Shell manages a number of nonfile system, or *virtual* objects, as well.</span></span> <span data-ttu-id="329e7-116">Voici quelques exemples :</span><span class="sxs-lookup"><span data-stu-id="329e7-116">Some examples include:</span></span>

-   <span data-ttu-id="329e7-117">Imprimantes réseau</span><span class="sxs-lookup"><span data-stu-id="329e7-117">Network printers</span></span>
-   <span data-ttu-id="329e7-118">Autres ordinateurs en réseau</span><span class="sxs-lookup"><span data-stu-id="329e7-118">Other networked computers</span></span>
-   <span data-ttu-id="329e7-119">Applications du panneau de configuration</span><span class="sxs-lookup"><span data-stu-id="329e7-119">Control Panel applications</span></span>
-   <span data-ttu-id="329e7-120">La corbeille</span><span class="sxs-lookup"><span data-stu-id="329e7-120">The Recycle Bin</span></span>

<span data-ttu-id="329e7-121">Certains objets virtuels n’impliquent pas du tout le stockage physique.</span><span class="sxs-lookup"><span data-stu-id="329e7-121">Some virtual objects do not involve physical storage at all.</span></span> <span data-ttu-id="329e7-122">L’objet Printer, par exemple, contient une collection de liens vers des imprimantes en réseau.</span><span class="sxs-lookup"><span data-stu-id="329e7-122">The printer object, for instance, contains a collection of links to networked printers.</span></span> <span data-ttu-id="329e7-123">D’autres objets virtuels, tels que la corbeille, peuvent contenir des données stockées sur un lecteur de disque, mais doivent être gérées différemment des fichiers normaux.</span><span class="sxs-lookup"><span data-stu-id="329e7-123">Other virtual objects, such as the Recycle Bin, may contain data that is stored on a disk drive, but needs to be handled differently than normal files.</span></span> <span data-ttu-id="329e7-124">Par exemple, un objet virtuel peut être utilisé pour représenter des données stockées dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="329e7-124">For example, a virtual object can be used to represent data stored in a database.</span></span> <span data-ttu-id="329e7-125">En termes d’espace de noms, les différents éléments de la base de données peuvent apparaître dans l’Explorateur Windows en tant qu’objets distincts, même s’ils sont tous stockés dans un seul fichier disque.</span><span class="sxs-lookup"><span data-stu-id="329e7-125">In terms of the namespace, the various items in the database could appear in the Windows Explorer as separate objects, even though they are all stored in a single disk file.</span></span>

<span data-ttu-id="329e7-126">Les objets virtuels peuvent même être situés sur des ordinateurs distants.</span><span class="sxs-lookup"><span data-stu-id="329e7-126">Virtual objects may even be located on remote computers.</span></span> <span data-ttu-id="329e7-127">Par exemple, pour faciliter l’itinérance, les fichiers de document d’un utilisateur peuvent être stockés sur un serveur.</span><span class="sxs-lookup"><span data-stu-id="329e7-127">For instance, to facilitate roaming, a user's document files might be stored on a server.</span></span> <span data-ttu-id="329e7-128">Pour permettre aux utilisateurs d’accéder à leurs fichiers à partir de plusieurs PC de bureau, le dossier Mes documents sur le PC de bureau qu’ils utilisent actuellement pointe vers le serveur, et non vers le disque dur du PC de bureau.</span><span class="sxs-lookup"><span data-stu-id="329e7-128">To give users access to their files from multiple desktop PCs, the My Documents folder on the desktop PC they are currently using will point to the server, not the hard disk of the desktop PC.</span></span> <span data-ttu-id="329e7-129">Son chemin d’accès comprend un lecteur réseau mappé ou un nom de chemin d’accès UNC.</span><span class="sxs-lookup"><span data-stu-id="329e7-129">Its path will include either a mapped network drive or a UNC path name.</span></span>

<span data-ttu-id="329e7-130">À l’instar du système de fichiers, l’espace de noms comprend deux types d’objets : dossiers et fichiers de base.</span><span class="sxs-lookup"><span data-stu-id="329e7-130">Like the file system, the namespace includes two basic types of object: folders and files.</span></span> <span data-ttu-id="329e7-131">Les objets de dossier sont les *nœuds* de l’arborescence ; Il s’agit de conteneurs pour les objets de fichier et d’autres dossiers.</span><span class="sxs-lookup"><span data-stu-id="329e7-131">Folder objects are the *nodes* of the tree; they are containers for file objects and other folders.</span></span> <span data-ttu-id="329e7-132">Les objets de fichier sont les *feuilles* de l’arborescence ; Il s’agit soit de fichiers de disque normaux, soit d’objets virtuels, tels que les liens d’imprimante.</span><span class="sxs-lookup"><span data-stu-id="329e7-132">File objects are the *leaves* of the tree; they are either normal disk files or virtual objects, such as printer links.</span></span> <span data-ttu-id="329e7-133">Les dossiers qui ne font pas partie du système de fichiers sont parfois appelés *dossiers virtuels*.</span><span class="sxs-lookup"><span data-stu-id="329e7-133">Folders that are not part of the file system are sometimes referred to as *virtual folders*.</span></span>

<span data-ttu-id="329e7-134">À l’instar des dossiers du système de fichiers, la collection de dossiers virtuels varie généralement d’un système à l’autres.</span><span class="sxs-lookup"><span data-stu-id="329e7-134">Like file system folders, the collection of virtual folders generally varies from system to system.</span></span> <span data-ttu-id="329e7-135">Il existe trois classes de dossiers virtuels :</span><span class="sxs-lookup"><span data-stu-id="329e7-135">There are three classes of virtual folders:</span></span>

-   <span data-ttu-id="329e7-136">Les dossiers virtuels standard, tels que la corbeille, qui se trouvent sur tous les systèmes.</span><span class="sxs-lookup"><span data-stu-id="329e7-136">Standard virtual folders, such as the Recycle Bin, that are found on all systems.</span></span>
-   <span data-ttu-id="329e7-137">Dossiers virtuels facultatifs qui ont des noms et des fonctionnalités standard, mais qui peuvent ne pas être présents sur tous les systèmes.</span><span class="sxs-lookup"><span data-stu-id="329e7-137">Optional virtual folders that have standard names and functionality, but may not be present on all systems.</span></span>
-   <span data-ttu-id="329e7-138">Dossiers non standard installés par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="329e7-138">Non-standard folders that are installed by the user.</span></span>

<span data-ttu-id="329e7-139">Contrairement aux dossiers de système de fichiers, les utilisateurs ne peuvent pas créer des dossiers virtuels eux-mêmes.</span><span class="sxs-lookup"><span data-stu-id="329e7-139">Unlike file system folders, users cannot create new virtual folders themselves.</span></span> <span data-ttu-id="329e7-140">Ils peuvent uniquement installer ceux créés par des développeurs non-Microsoft.</span><span class="sxs-lookup"><span data-stu-id="329e7-140">They can only install ones created by non-Microsoft developers.</span></span> <span data-ttu-id="329e7-141">Le nombre de dossiers virtuels est donc généralement beaucoup moins élevé que le nombre de dossiers du système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="329e7-141">The number of virtual folders is thus normally much fewer than the number of file system folders.</span></span> <span data-ttu-id="329e7-142">Pour plus d’informations sur la façon d’implémenter des dossiers virtuels, consultez [extensions d’espace de noms](nse-works.md).</span><span class="sxs-lookup"><span data-stu-id="329e7-142">For a discussion of how to implement virtual folders see [Namespace Extensions](nse-works.md).</span></span>

<span data-ttu-id="329e7-143">Vous pouvez voir une représentation visuelle de la structure de l’espace de noms dans la barre d’Explorateur de l’Explorateur Windows.</span><span class="sxs-lookup"><span data-stu-id="329e7-143">You can see a visual representation of how the namespace is structured in the Explorer Bar of the Windows Explorer.</span></span> <span data-ttu-id="329e7-144">Par exemple, la capture d’écran suivante de l’Explorateur Windows montre un espace de noms relativement simple.</span><span class="sxs-lookup"><span data-stu-id="329e7-144">For example, the following screen shot of Windows Explorer shows a relatively simple namespace.</span></span>

![capture d’écran montrant une vue de l’espace de noms Shell](images/prog1.png)

<span data-ttu-id="329e7-146">La racine ultime de la hiérarchie d’espaces de noms est le bureau.</span><span class="sxs-lookup"><span data-stu-id="329e7-146">The ultimate root of the namespace hierarchy is the desktop.</span></span> <span data-ttu-id="329e7-147">Juste en dessous de la racine se trouvent plusieurs dossiers virtuels tels que Poste de travail et la corbeille.</span><span class="sxs-lookup"><span data-stu-id="329e7-147">Immediately below the root are several virtual folders such as My Computer and the Recycle Bin.</span></span>

<span data-ttu-id="329e7-148">Les systèmes de fichiers des différents lecteurs de disque peuvent être considérés comme des sous-ensembles de la plus grande hiérarchie d’espaces de noms.</span><span class="sxs-lookup"><span data-stu-id="329e7-148">The file systems of the various disk drives can be seen to be subsets of the larger namespace hierarchy.</span></span> <span data-ttu-id="329e7-149">Les racines de ces systèmes de fichiers sont des sous-dossiers du dossier Poste de travail.</span><span class="sxs-lookup"><span data-stu-id="329e7-149">The roots of these file systems are subfolders of the My Computer folder.</span></span> <span data-ttu-id="329e7-150">Poste de travail comprend également les racines des lecteurs réseau mappés.</span><span class="sxs-lookup"><span data-stu-id="329e7-150">My Computer also includes the roots of any mapped network drives.</span></span> <span data-ttu-id="329e7-151">Les autres nœuds de l’arborescence, tels que mes documents, sont des dossiers virtuels.</span><span class="sxs-lookup"><span data-stu-id="329e7-151">Other nodes in the tree, such as My Documents, are virtual folders.</span></span>

## <a name="identifying-namespace-objects"></a><span data-ttu-id="329e7-152">Identification des objets d’espace de noms</span><span class="sxs-lookup"><span data-stu-id="329e7-152">Identifying Namespace Objects</span></span>

<span data-ttu-id="329e7-153">Avant de pouvoir utiliser un objet Namespace, vous devez tout d’abord avoir un moyen de l’identifier.</span><span class="sxs-lookup"><span data-stu-id="329e7-153">Before you can use a namespace object, you must first have a way of identifying it.</span></span> <span data-ttu-id="329e7-154">Un objet dans le système de fichiers peut avoir un nom tel que MyFile.htm.</span><span class="sxs-lookup"><span data-stu-id="329e7-154">An object in the file system could have a name such as MyFile.htm.</span></span> <span data-ttu-id="329e7-155">Étant donné qu’il peut y avoir d’autres fichiers portant ce nom ailleurs dans le système, l’identification unique d’un fichier ou d’un dossier requiert un chemin d’accès complet tel que « C : \\ MyDocs \\MyFile.htm ».</span><span class="sxs-lookup"><span data-stu-id="329e7-155">Because there might be other files with that name elsewhere in the system, uniquely identifying a file or folder requires a fully qualified path such as "C:\\MyDocs\\MyFile.htm".</span></span> <span data-ttu-id="329e7-156">Ce chemin d’accès est fondamentalement une liste triée de tous les dossiers dans un chemin d’accès à partir de la racine du système de fichiers, C : \\ , se terminant par le fichier.</span><span class="sxs-lookup"><span data-stu-id="329e7-156">This path is basically an ordered list of all folders in a path from the file system root, C:\\, ending with the file.</span></span>

<span data-ttu-id="329e7-157">Dans le contexte de l’espace de noms, les chemins d’accès sont toujours très utiles pour identifier les objets situés dans la partie du système de fichiers de l’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="329e7-157">In the context of the namespace, paths are still quite useful for identifying objects located in the file system part of the namespace.</span></span> <span data-ttu-id="329e7-158">Toutefois, ils ne peuvent pas être utilisés pour des objets virtuels.</span><span class="sxs-lookup"><span data-stu-id="329e7-158">However, they cannot be used for virtual objects.</span></span> <span data-ttu-id="329e7-159">Au lieu de cela, l’interpréteur de commandes fournit un autre moyen d’identification qui peut être utilisé avec n’importe quel objet d’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="329e7-159">Instead, the Shell provides an alternative means of identification that can be used with any namespace object.</span></span>

### <a name="item-ids"></a><span data-ttu-id="329e7-160">ID d’élément</span><span class="sxs-lookup"><span data-stu-id="329e7-160">Item IDs</span></span>

<span data-ttu-id="329e7-161">Dans un dossier, chaque objet a un *ID d’élément*, qui est l’équivalent fonctionnel d’un nom de fichier ou de dossier.</span><span class="sxs-lookup"><span data-stu-id="329e7-161">Within a folder, each object has an *item ID*, which is the functional equivalent of a file or folder name.</span></span> <span data-ttu-id="329e7-162">L’ID d’élément est en fait une structure [**SHITEMID**](/windows/desktop/api/Shtypes/ns-shtypes-shitemid) :</span><span class="sxs-lookup"><span data-stu-id="329e7-162">The item ID is actually a [**SHITEMID**](/windows/desktop/api/Shtypes/ns-shtypes-shitemid) structure:</span></span>


```
typedef struct _SHITEMID { 
    USHORT cb; 
    BYTE   abID[1]; 
} SHITEMID, * LPSHITEMID;
```



<span data-ttu-id="329e7-163">Le membre **abID** est l’identificateur de l’objet.</span><span class="sxs-lookup"><span data-stu-id="329e7-163">The **abID** member is the object's identifier.</span></span> <span data-ttu-id="329e7-164">La longueur de **abID** n’est pas définie, et sa valeur est déterminée par le dossier qui contient l’objet.</span><span class="sxs-lookup"><span data-stu-id="329e7-164">The length of **abID** is not defined, and its value is determined by the folder that contains the object.</span></span> <span data-ttu-id="329e7-165">Étant donné qu’il n’existe aucune définition standard de la façon dont les valeurs **abID** sont assignées par les dossiers, elles ne sont significatives que pour l’objet Folder associé.</span><span class="sxs-lookup"><span data-stu-id="329e7-165">Because there is no standard definition for how **abID** values are assigned by folders, they are only meaningful to the associated folder object.</span></span> <span data-ttu-id="329e7-166">Les applications doivent simplement les traiter comme un jeton qui identifie un objet dans un dossier particulier.</span><span class="sxs-lookup"><span data-stu-id="329e7-166">Applications should simply treat them as a token that identifies an object in a particular folder.</span></span> <span data-ttu-id="329e7-167">Étant donné que la longueur de **abID** varie, le membre **CB** contient la taille de la structure [**SHITEMID**](/windows/desktop/api/Shtypes/ns-shtypes-shitemid) , en octets.</span><span class="sxs-lookup"><span data-stu-id="329e7-167">Because the length of **abID** varies, the **cb** member holds the size of the [**SHITEMID**](/windows/desktop/api/Shtypes/ns-shtypes-shitemid) structure, in bytes.</span></span>

<span data-ttu-id="329e7-168">Étant donné que les ID d’élément ne sont pas utiles à des fins d’affichage, le dossier qui contient l’objet lui assigne normalement un nom complet.</span><span class="sxs-lookup"><span data-stu-id="329e7-168">Because item IDs aren't useful for display purposes, the folder that contains the object normally assigns it a display name.</span></span> <span data-ttu-id="329e7-169">Il s’agit du nom utilisé par l’Explorateur Windows lorsqu’il affiche le contenu d’un dossier.</span><span class="sxs-lookup"><span data-stu-id="329e7-169">This is the name that is used by Windows Explorer when it displays the contents of a folder.</span></span> <span data-ttu-id="329e7-170">Pour plus d’informations sur la gestion des noms d’affichage, consultez [obtention d’informations à partir d’un dossier](folder-info.md).</span><span class="sxs-lookup"><span data-stu-id="329e7-170">For more information on how display names are handled, see [Getting Information From a Folder](folder-info.md).</span></span>

### <a name="item-id-lists"></a><span data-ttu-id="329e7-171">Listes d’ID d’élément</span><span class="sxs-lookup"><span data-stu-id="329e7-171">Item ID Lists</span></span>

<span data-ttu-id="329e7-172">L’ID d’élément est rarement utilisé par lui-même.</span><span class="sxs-lookup"><span data-stu-id="329e7-172">The item ID is rarely used by itself.</span></span> <span data-ttu-id="329e7-173">Normalement, elle fait partie d’une liste d’ID d’élément, qui remplit le même objectif qu’un chemin d’accès de système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="329e7-173">Normally, it is part of an item ID list, which serves the same purpose as a file system path.</span></span> <span data-ttu-id="329e7-174">Toutefois, au lieu de la chaîne de caractères utilisée pour les chemins d’accès, une liste d’ID d’élément est une structure [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) .</span><span class="sxs-lookup"><span data-stu-id="329e7-174">However, instead of the character string used for paths, an item ID list is an [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) structure.</span></span> <span data-ttu-id="329e7-175">Cette structure est une séquence ordonnée d’un ou plusieurs ID d’élément, se terminant par une **valeur null** de deux octets.</span><span class="sxs-lookup"><span data-stu-id="329e7-175">This structure is an ordered sequence of one or more item IDs, terminated by a two-byte **NULL**.</span></span> <span data-ttu-id="329e7-176">Chaque ID d’élément dans la liste d’ID d’élément correspond à un objet d’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="329e7-176">Each item ID in the item ID list corresponds to a namespace object.</span></span> <span data-ttu-id="329e7-177">Leur ordre définit un chemin d’accès dans l’espace de noms, comme un chemin d’accès au système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="329e7-177">Their order defines a path in the namespace, much like a file system path.</span></span>

<span data-ttu-id="329e7-178">L’illustration suivante montre une représentation schématique de la structure [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) qui correspond à C : \\ mydocs \\MyFile.htm.</span><span class="sxs-lookup"><span data-stu-id="329e7-178">The following illustration shows a schematic representation of the [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) structure that corresponds to C:\\MyDocs\\MyFile.htm.</span></span> <span data-ttu-id="329e7-179">Le nom complet de chaque ID d’élément est affiché au-dessus de lui.</span><span class="sxs-lookup"><span data-stu-id="329e7-179">The display name of each item ID is shown above it.</span></span> <span data-ttu-id="329e7-180">Les largeurs variables des membres **abID** sont arbitraires ; ils illustrent le fait que la taille de ce membre peut varier.</span><span class="sxs-lookup"><span data-stu-id="329e7-180">The varying widths of the **abID** members are arbitrary; they illustrate the fact that the size of this member can vary.</span></span>

![Illustration schématique d’un PIDL](images/shell2.png)

### <a name="pidls"></a><span data-ttu-id="329e7-182">PIDL</span><span class="sxs-lookup"><span data-stu-id="329e7-182">PIDLs</span></span>

<span data-ttu-id="329e7-183">Pour l’API de l’interpréteur de commandes, les objets d’espace de noms sont généralement identifiés par un pointeur désignant leur structure [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) ou un pointeur vers une liste d’identificateurs d’éléments (PIDL).</span><span class="sxs-lookup"><span data-stu-id="329e7-183">For the Shell API, namespace objects are usually identified by a pointer to their [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) structure, or pointer to an item identifier list (PIDL).</span></span> <span data-ttu-id="329e7-184">Pour plus de commodité, le terme PIDL fait généralement référence à la structure elle-même plutôt qu’au pointeur.</span><span class="sxs-lookup"><span data-stu-id="329e7-184">For convenience, the term PIDL will generally refer in this documentation to the structure itself rather than the pointer to it.</span></span>

<span data-ttu-id="329e7-185">Le PIDL présenté dans l’illustration précédente est appelé PIDL *complet* ou *absolu*.</span><span class="sxs-lookup"><span data-stu-id="329e7-185">The PIDL shown in the preceding illustration is referred to as a *full*, or *absolute*, PIDL.</span></span> <span data-ttu-id="329e7-186">Un PIDL complet démarre à partir du bureau et contient les ID d’élément de tous les dossiers intermédiaires dans le chemin d’accès.</span><span class="sxs-lookup"><span data-stu-id="329e7-186">A full PIDL starts from the desktop, and contains the item IDs of all intermediate folders in the path.</span></span> <span data-ttu-id="329e7-187">Il se termine par l’ID d’élément de l’objet suivi d’une **valeur null** de deux octets de fin.</span><span class="sxs-lookup"><span data-stu-id="329e7-187">It ends with the object's item ID followed by a terminating two-byte **NULL**.</span></span> <span data-ttu-id="329e7-188">Un PIDL complet est semblable à un chemin d’accès qualifié complet et identifie de façon unique l’objet dans l’espace de noms de l’interpréteur de commandes.</span><span class="sxs-lookup"><span data-stu-id="329e7-188">A full PIDL is similar to a fully qualified path and uniquely identifies the object in the Shell namespace.</span></span>

<span data-ttu-id="329e7-189">Les PIDL complets sont rarement utilisés.</span><span class="sxs-lookup"><span data-stu-id="329e7-189">Full PIDLs are used infrequently.</span></span> <span data-ttu-id="329e7-190">De nombreuses fonctions et méthodes attendent un *PIDL relatif*.</span><span class="sxs-lookup"><span data-stu-id="329e7-190">Many functions and methods expect a *relative PIDL*.</span></span> <span data-ttu-id="329e7-191">La racine d’un PIDL relatif est un dossier, pas le bureau.</span><span class="sxs-lookup"><span data-stu-id="329e7-191">The root of a relative PIDL is a folder, not the desktop.</span></span> <span data-ttu-id="329e7-192">Comme avec les chemins d’accès relatifs, la série d’ID d’élément qui composent la structure définissent un chemin d’accès dans l’espace de noms entre deux objets.</span><span class="sxs-lookup"><span data-stu-id="329e7-192">As with relative paths, the series of item IDs that make up the structure define a path in the namespace between two objects.</span></span> <span data-ttu-id="329e7-193">Bien qu’ils n’identifient pas l’objet de manière unique, ils sont généralement plus petits qu’un PIDL complet et suffisants à de nombreuses fins.</span><span class="sxs-lookup"><span data-stu-id="329e7-193">Although they do not uniquely identify the object, they are usually smaller than a full PIDL and sufficient for many purposes.</span></span>

<span data-ttu-id="329e7-194">Les PIDL relatifs les plus couramment utilisés, *PIDL à un seul niveau*, sont relatifs au dossier parent de l’objet.</span><span class="sxs-lookup"><span data-stu-id="329e7-194">The most commonly used relative PIDLs, *single-level PIDLs*, are relative to the object's parent folder.</span></span> <span data-ttu-id="329e7-195">Elles contiennent uniquement l’ID d’élément de l’objet et une **valeur null** de fin.</span><span class="sxs-lookup"><span data-stu-id="329e7-195">They contain only the object's item ID and a terminating **NULL**.</span></span> <span data-ttu-id="329e7-196">Les PIDL à plusieurs niveaux sont également utilisés à de nombreuses fins.</span><span class="sxs-lookup"><span data-stu-id="329e7-196">Multi-level PIDLs are also used for many purposes.</span></span> <span data-ttu-id="329e7-197">Ils contiennent au moins deux ID d’élément et définissent généralement un chemin d’accès d’un dossier parent à un objet via une série d’un ou plusieurs sous-dossiers.</span><span class="sxs-lookup"><span data-stu-id="329e7-197">They contain two or more item IDs and typically define a path from a parent folder to an object through a series of one or more subfolders.</span></span> <span data-ttu-id="329e7-198">Notez qu’un PIDL à un seul niveau peut toujours être un PIDL complet.</span><span class="sxs-lookup"><span data-stu-id="329e7-198">Note that a single-level PIDL can still be a fully qualified PIDL.</span></span> <span data-ttu-id="329e7-199">En particulier, les objets de bureau sont des enfants du bureau, donc leur PIDL complet ne contient qu’un seul ID d’élément.</span><span class="sxs-lookup"><span data-stu-id="329e7-199">In particular, desktop objects are children of the desktop, so their fully qualified PIDLs contain only one item ID.</span></span>

<span data-ttu-id="329e7-200">Comme nous l’avons vu dans obtention de l' [ID d’un dossier](folder-id.md), l’API Shell fournit plusieurs façons de récupérer les PIDL d’un objet.</span><span class="sxs-lookup"><span data-stu-id="329e7-200">As discussed in [Getting a Folder's ID](folder-id.md), the Shell API provides a number of ways to retrieve an object's PIDL.</span></span> <span data-ttu-id="329e7-201">Une fois que vous l’avez, vous l’utilisez généralement pour identifier l’objet lorsque vous appelez d’autres fonctions et méthodes de l’API Shell.</span><span class="sxs-lookup"><span data-stu-id="329e7-201">Once you have it, you commonly just use it to identify the object when you call other Shell API functions and methods.</span></span> <span data-ttu-id="329e7-202">Dans ce contexte, le contenu interne d’un PIDL est opaque et inutile.</span><span class="sxs-lookup"><span data-stu-id="329e7-202">In this context, a PIDL's internal contents are opaque and irrelevant.</span></span> <span data-ttu-id="329e7-203">Pour les besoins de cette discussion, considérez PIDL comme des jetons qui représentent des objets d’espace de noms particuliers et concentrez-vous sur la façon de les utiliser pour les tâches courantes.</span><span class="sxs-lookup"><span data-stu-id="329e7-203">For the purposes of this discussion, think of PIDLs as tokens that represent particular namespace objects, and focus on how to use them for common tasks.</span></span>

### <a name="allocating-pidls"></a><span data-ttu-id="329e7-204">Allocation de PIDL</span><span class="sxs-lookup"><span data-stu-id="329e7-204">Allocating PIDLs</span></span>

<span data-ttu-id="329e7-205">Bien que les PIDL aient une certaine similarité avec les chemins d’accès, leur utilisation requiert une approche quelque peu différente.</span><span class="sxs-lookup"><span data-stu-id="329e7-205">Although PIDLs have some similarity to paths, using them requires a somewhat different approach.</span></span> <span data-ttu-id="329e7-206">La principale différence réside dans la façon d’allouer et de libérer de la mémoire pour eux.</span><span class="sxs-lookup"><span data-stu-id="329e7-206">The primary difference is in how to allocate and deallocate memory for them.</span></span>

<span data-ttu-id="329e7-207">À l’instar de la chaîne utilisée pour un chemin d’accès, la mémoire doit être allouée à un PIDL.</span><span class="sxs-lookup"><span data-stu-id="329e7-207">Like the string used for a path, memory must be allocated for a PIDL.</span></span> <span data-ttu-id="329e7-208">Si une application crée un PIDL, elle doit allouer suffisamment de mémoire pour la structure [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) .</span><span class="sxs-lookup"><span data-stu-id="329e7-208">If an application creates a PIDL, it must allocate sufficient memory for the [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) structure.</span></span> <span data-ttu-id="329e7-209">Pour la plupart des cas présentés ici, le shell crée le PIDL et gère l’allocation de mémoire.</span><span class="sxs-lookup"><span data-stu-id="329e7-209">For most of the cases discussed here, the Shell creates the PIDL and handles memory allocation.</span></span> <span data-ttu-id="329e7-210">Indépendamment de ce qui a alloué le PIDL, l’application est généralement chargée de libérer les PIDL lorsqu’elle n’est plus nécessaire.</span><span class="sxs-lookup"><span data-stu-id="329e7-210">Regardless of what allocated the PIDL, the application is usually responsible for deallocating the PIDL when it is no longer needed.</span></span>

<span data-ttu-id="329e7-211">Utilisez la fonction [**CoTaskMemAlloc**](/windows/win32/api/combaseapi/nf-combaseapi-cotaskmemalloc) pour allouer PIDL et la fonction [**CoTaskMemFree**](/windows/win32/api/combaseapi/nf-combaseapi-cotaskmemfree) pour la libérer.</span><span class="sxs-lookup"><span data-stu-id="329e7-211">Use the [**CoTaskMemAlloc**](/windows/win32/api/combaseapi/nf-combaseapi-cotaskmemalloc) function to allocate the PIDL, and the [**CoTaskMemFree**](/windows/win32/api/combaseapi/nf-combaseapi-cotaskmemfree) function to deallocate it.</span></span>

 

 
