---
description: Indicateurs qui contrôlent le comportement de la fonction appelante. Utilisé par SHCreateThread et SHCreateThreadWithHandle. Dans ces fonctions, ces valeurs sont définies comme étant de type SHCT \_ Flags.
title: Indicateurs CTF (Shlwapi. h)
ms.topic: reference
ms.date: 05/31/2018
ms.assetid: 66cda866-7a39-4c5a-a795-a4c5c64cbab7
api_name:
- CTF_INSIST
- CTF_THREAD_REF
- CTF_PROCESS_REF
- CTF_COINIT_STA
- CTF_COINIT
- CTF_FREELIBANDEXIT
- CTF_REF_COUNTED
- CTF_WAIT_ALLOWCOM
- CTF_UNUSED
- CTF_INHERITWOW64
- CTF_WAIT_NO_REENTRANCY
- CTF_KEYBOARD_LOCALE
- CTF_OLEINITIALIZE
- CTF_COINIT_MTA
- CTF_NOADDREFLIB
api_type:
- HeaderDef
api_location:
- Shlwapi.h
topic_type:
- APIRef
- kbSyntax
ms.openlocfilehash: db0f33daecc4abcbfbc9972d0607f4817bc7ecff
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104972031"
---
# <a name="ctf-flags"></a><span data-ttu-id="4a78d-105">Indicateurs CTF</span><span class="sxs-lookup"><span data-stu-id="4a78d-105">CTF Flags</span></span>

<span data-ttu-id="4a78d-106">Indicateurs qui contrôlent le comportement de la fonction appelante.</span><span class="sxs-lookup"><span data-stu-id="4a78d-106">Flags that control the calling function's behavior.</span></span> <span data-ttu-id="4a78d-107">Utilisé par [**SHCreateThread**](/windows/desktop/api/Shlwapi/nf-shlwapi-shcreatethread) et [**SHCreateThreadWithHandle**](/windows/desktop/api/Shlwapi/nf-shlwapi-shcreatethreadwithhandle).</span><span class="sxs-lookup"><span data-stu-id="4a78d-107">Used by [**SHCreateThread**](/windows/desktop/api/Shlwapi/nf-shlwapi-shcreatethread) and [**SHCreateThreadWithHandle**](/windows/desktop/api/Shlwapi/nf-shlwapi-shcreatethreadwithhandle).</span></span> <span data-ttu-id="4a78d-108">Dans ces fonctions, ces valeurs sont définies comme étant de type SHCT \_ Flags.</span><span class="sxs-lookup"><span data-stu-id="4a78d-108">In those functions, these values are defined as being of type SHCT\_FLAGS.</span></span>



| <span data-ttu-id="4a78d-109">Constante/valeur</span><span class="sxs-lookup"><span data-stu-id="4a78d-109">Constant/value</span></span>                                                                                                                                                                                                                                             | <span data-ttu-id="4a78d-110">Description</span><span class="sxs-lookup"><span data-stu-id="4a78d-110">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="CTF_INSIST"></span><span id="ctf_insist"></span><dl> <span data-ttu-id="4a78d-111"><dt>**CTF \_ INSISTer**</dt> sur <dt>0x00000001</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-111"><dt>**CTF\_INSIST**</dt> <dt>0x00000001</dt></span></span> </dl>                                       | <span data-ttu-id="4a78d-112">0x00000001.</span><span class="sxs-lookup"><span data-stu-id="4a78d-112">0x00000001.</span></span> <span data-ttu-id="4a78d-113">Si la tentative de création du thread avec [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) échoue, la définition de cet indicateur entraîne l’appel synchrone de la fonction vers laquelle pointe *pfnThreadProc* à partir du thread appelant.</span><span class="sxs-lookup"><span data-stu-id="4a78d-113">If the attempt to create the thread with [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) fails, setting this flag will cause the function pointed to by *pfnThreadProc* to be called synchronously from the calling thread.</span></span> <span data-ttu-id="4a78d-114">Cet indicateur peut être utilisé uniquement si *pfnCallback* a la **valeur null**.</span><span class="sxs-lookup"><span data-stu-id="4a78d-114">This flag can be used only if *pfnCallback* is **NULL**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="CTF_THREAD_REF"></span><span id="ctf_thread_ref"></span><dl> <span data-ttu-id="4a78d-115"><dt>**CTF \_ \_Réf**</dt> . du thread <dt>0x00000002</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-115"><dt>**CTF\_THREAD\_REF**</dt> <dt>0x00000002</dt></span></span> </dl>                          | <span data-ttu-id="4a78d-116">0x00000002.</span><span class="sxs-lookup"><span data-stu-id="4a78d-116">0x00000002.</span></span> <span data-ttu-id="4a78d-117">Placez une référence au thread de création pour la durée de l’appel à la fonction vers laquelle pointe *pfnThreadProc*.</span><span class="sxs-lookup"><span data-stu-id="4a78d-117">Hold a reference to the creating thread for the duration of the call to the function pointed to by *pfnThreadProc*.</span></span> <span data-ttu-id="4a78d-118">Cette référence doit avoir été définie avec [**SHSetThreadRef**](/windows/desktop/api/Shlwapi/nf-shlwapi-shsetthreadref).</span><span class="sxs-lookup"><span data-stu-id="4a78d-118">This reference must have been set with [**SHSetThreadRef**](/windows/desktop/api/Shlwapi/nf-shlwapi-shsetthreadref).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="CTF_PROCESS_REF"></span><span id="ctf_process_ref"></span><dl> <span data-ttu-id="4a78d-119"><dt>**CTF \_ TRAITER la \_ référence**</dt> <dt>0x00000004</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-119"><dt>**CTF\_PROCESS\_REF**</dt> <dt>0x00000004</dt></span></span> </dl>                       | <span data-ttu-id="4a78d-120">0x00000004.</span><span class="sxs-lookup"><span data-stu-id="4a78d-120">0x00000004.</span></span> <span data-ttu-id="4a78d-121">Maintenez une référence au processus de l’Explorateur Windows pendant la durée de l’appel à la fonction vers laquelle pointe *pfnThreadProc*.</span><span class="sxs-lookup"><span data-stu-id="4a78d-121">Hold a reference to the Windows Explorer process for the duration of the call to the function pointed to by *pfnThreadProc*.</span></span> <span data-ttu-id="4a78d-122">Cet indicateur est utile pour les [gestionnaires d’extensions de Shell](handlers.md), qui peuvent nécessiter la fermeture prématurée du processus de l’Explorateur Windows.</span><span class="sxs-lookup"><span data-stu-id="4a78d-122">This flag is useful for [Shell extension handlers](handlers.md), which might need to keep the Windows Explorer process from closing prematurely.</span></span> <span data-ttu-id="4a78d-123">Cette action est utile pendant des tâches telles que l’utilisation d’un thread d’arrière-plan ou la copie de fichiers.</span><span class="sxs-lookup"><span data-stu-id="4a78d-123">This action is useful during tasks such as working on a background thread or copying files.</span></span> <span data-ttu-id="4a78d-124">Pour plus d’informations, consultez [**SHGetInstanceExplorer**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetinstanceexplorer).</span><span class="sxs-lookup"><span data-stu-id="4a78d-124">For more information, see [**SHGetInstanceExplorer**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetinstanceexplorer).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="CTF_COINIT_STA"></span><span id="ctf_coinit_sta"></span><dl> <span data-ttu-id="4a78d-125"><dt>**CTF \_ Coinit \_ STA**</dt> <dt>0x00000008</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-125"><dt>**CTF\_COINIT\_STA**</dt> <dt>0x00000008</dt></span></span> </dl>                          | <span data-ttu-id="4a78d-126">0x00000008.</span><span class="sxs-lookup"><span data-stu-id="4a78d-126">0x00000008.</span></span> <span data-ttu-id="4a78d-127">Initialisez COM en tant que thread cloisonné (STA, Single-Threaded Apartment) pour le thread créé avant d’appeler la fonction facultative désignée par *pfnCallback* ou la fonction vers laquelle pointe *pfnThreadProc*.</span><span class="sxs-lookup"><span data-stu-id="4a78d-127">Initialize COM as a Single Threaded Apartment (STA) for the created thread before calling either the optional function pointed to by *pfnCallback* or the function pointed to by *pfnThreadProc*.</span></span> <span data-ttu-id="4a78d-128">Cet indicateur est utile lorsque COM doit être initialisé pour un thread.</span><span class="sxs-lookup"><span data-stu-id="4a78d-128">This flag is useful when COM needs to be initialized for a thread.</span></span> <span data-ttu-id="4a78d-129">COM sera automatiquement non initialisé.</span><span class="sxs-lookup"><span data-stu-id="4a78d-129">COM will automatically be uninitialized as well.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="CTF_COINIT"></span><span id="ctf_coinit"></span><dl> <span data-ttu-id="4a78d-130"><dt>**CTF \_ Coinit**</dt> <dt>0x00000008</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-130"><dt>**CTF\_COINIT**</dt> <dt>0x00000008</dt></span></span> </dl>                                       | <span data-ttu-id="4a78d-131">Équivalent à CTF \_ coinit \_ STA.</span><span class="sxs-lookup"><span data-stu-id="4a78d-131">Equivalent to CTF\_COINIT\_STA.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="CTF_FREELIBANDEXIT"></span><span id="ctf_freelibandexit"></span><dl> <span data-ttu-id="4a78d-132"><dt>**CTF \_ FREELIBANDEXIT**</dt> <dt>0x00000010</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-132"><dt>**CTF\_FREELIBANDEXIT**</dt> <dt>0x00000010</dt></span></span> </dl>               | <span data-ttu-id="4a78d-133">0x00000010.</span><span class="sxs-lookup"><span data-stu-id="4a78d-133">0x00000010.</span></span> <span data-ttu-id="4a78d-134">**Internet Explorer 6 ou version ultérieure.** [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) sera appelé sur la dll qui contient la fonction *pfnThreadProc* pour empêcher son déchargement.</span><span class="sxs-lookup"><span data-stu-id="4a78d-134">**Internet Explorer 6 or later.**[**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) will be called on the DLL that contains the *pfnThreadProc* function to prevent it from being unloaded.</span></span> <span data-ttu-id="4a78d-135">Une fois *pfnThreadProc* retourné, la dll est libérée avec [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary), ce qui décrémente le nombre de références de dll.</span><span class="sxs-lookup"><span data-stu-id="4a78d-135">After *pfnThreadProc* returns, the DLL will be freed with [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary), thereby decrementing the DLL reference count.</span></span> <span data-ttu-id="4a78d-136">Transmettez cet indicateur pour empêcher la déchargement de la DLL prématurément. par exemple, par [**coFreeUnusedLibraries**](/windows/win32/api/combaseapi/nf-combaseapi-cofreeunusedlibraries).</span><span class="sxs-lookup"><span data-stu-id="4a78d-136">Pass this flag to prevent the DLL from being unloaded prematurely; for example, by [**CoFreeUnusedLibraries**](/windows/win32/api/combaseapi/nf-combaseapi-cofreeunusedlibraries).</span></span> <span data-ttu-id="4a78d-137">Notez que si cet indicateur est passé, la fonction *pfnThreadProc* doit résider dans une dll.</span><span class="sxs-lookup"><span data-stu-id="4a78d-137">Note that if this flag is passed, the *pfnThreadProc* function must reside in a DLL.</span></span> <span data-ttu-id="4a78d-138">Cet indicateur est implicite dans Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="4a78d-138">This flag is implicit in Windows Vista and later.</span></span><br/>                                                                                                                                                                                                                                                                   |
| <span id="CTF_REF_COUNTED"></span><span id="ctf_ref_counted"></span><dl> <span data-ttu-id="4a78d-139"><dt>**CTF \_ Réf \_**</dt> . de référence <dt>0x00000020</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-139"><dt>**CTF\_REF\_COUNTED**</dt> <dt>0x00000020</dt></span></span> </dl>                       | <span data-ttu-id="4a78d-140">0x00000020.</span><span class="sxs-lookup"><span data-stu-id="4a78d-140">0x00000020.</span></span> <span data-ttu-id="4a78d-141">**Internet Explorer 6 ou version ultérieure.**</span><span class="sxs-lookup"><span data-stu-id="4a78d-141">**Internet Explorer 6 or later.**</span></span> <span data-ttu-id="4a78d-142">Une référence de thread est automatiquement créée pour le thread créé et définie avec [**SHSetThreadRef**](/windows/desktop/api/Shlwapi/nf-shlwapi-shsetthreadref).</span><span class="sxs-lookup"><span data-stu-id="4a78d-142">A thread reference will automatically be created for the created thread and set with [**SHSetThreadRef**](/windows/desktop/api/Shlwapi/nf-shlwapi-shsetthreadref).</span></span> <span data-ttu-id="4a78d-143">Une fois le *pfnThreadProc* retourné, la référence de thread est libérée et les messages sont envoyés jusqu’à ce que le décompte de références sur la référence de thread perde à zéro, autrement dit, jusqu’à ce que les threads dépendants du thread créé aient émis leurs références.</span><span class="sxs-lookup"><span data-stu-id="4a78d-143">After the *pfnThreadProc* returns, the thread reference is released and messages are sent until the reference count on the thread reference drops to zero, that is, until threads that are dependent on the created thread have released their references.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="CTF_WAIT_ALLOWCOM"></span><span id="ctf_wait_allowcom"></span><dl> <span data-ttu-id="4a78d-144"><dt>**CTF \_ WAIT \_ ALLOWCOM**</dt> <dt>0x00000040</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-144"><dt>**CTF\_WAIT\_ALLOWCOM**</dt> <dt>0x00000040</dt></span></span> </dl>                 | <span data-ttu-id="4a78d-145">0x00000040.</span><span class="sxs-lookup"><span data-stu-id="4a78d-145">0x00000040.</span></span> <span data-ttu-id="4a78d-146">**Internet Explorer 6 ou version ultérieure.**</span><span class="sxs-lookup"><span data-stu-id="4a78d-146">**Internet Explorer 6 or later.**</span></span> <span data-ttu-id="4a78d-147">Le thread appelant attend et pompe les messages COM et [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) .</span><span class="sxs-lookup"><span data-stu-id="4a78d-147">The calling thread waits and pumps COM and [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) messages.</span></span> <span data-ttu-id="4a78d-148">Si la procédure synchrone tente d’envoyer un message Windows avec **SendMessage** à une fenêtre hébergée sur le thread appelant, le message s’affiche correctement.</span><span class="sxs-lookup"><span data-stu-id="4a78d-148">If the synchronous procedure attempts to send a Windows message with **SendMessage** to a window hosted on the calling thread, the message will arrive successfully.</span></span> <span data-ttu-id="4a78d-149">Si la procédure synchrone tente d’utiliser COM pour communiquer avec un objet STA hébergé sur le thread appelant, l’appel de fonction parviendra à atteindre l’objet prévu.</span><span class="sxs-lookup"><span data-stu-id="4a78d-149">If the synchronous procedure attempts to use COM to communicate with an STA object hosted on the calling thread, the function call will successfully reach the intended object.</span></span> <span data-ttu-id="4a78d-150">Le thread appelant est ouvert pour la réentrance de fragilité.</span><span class="sxs-lookup"><span data-stu-id="4a78d-150">The calling thread is open to re-entrance fragility.</span></span> <span data-ttu-id="4a78d-151">Alors que le thread appelant peut gérer l’utilisation de **SendMessage** et com par la procédure synchrone, si d’autres threads utilisent **SendMessage** ou com pour communiquer avec des objets hébergés sur le thread appelant, il peut s’agir de messages ou d’appels de fonction inattendus qui sont traités pendant que la procédure synchrone est terminée.</span><span class="sxs-lookup"><span data-stu-id="4a78d-151">While the calling thread can handle the synchronous procedure's use of **SendMessage** and COM, if other threads are using **SendMessage** or COM to communicate to objects hosted on the calling thread, then these might be unexpected messages or function calls which are processed while the synchronous procedure is completing.</span></span><br/> |
| <span id="CTF_UNUSED"></span><span id="ctf_unused"></span><dl> <span data-ttu-id="4a78d-152"><dt>**CTF \_ 0x00000080 inutilisé**</dt> <dt></dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-152"><dt>**CTF\_UNUSED**</dt> <dt>0x00000080</dt></span></span> </dl>                                       | <span data-ttu-id="4a78d-153">0x00000080.</span><span class="sxs-lookup"><span data-stu-id="4a78d-153">0x00000080.</span></span> <span data-ttu-id="4a78d-154">**Internet Explorer 7 ou version ultérieure.**</span><span class="sxs-lookup"><span data-stu-id="4a78d-154">**Internet Explorer 7 or later.**</span></span> <span data-ttu-id="4a78d-155">Non utilisé.</span><span class="sxs-lookup"><span data-stu-id="4a78d-155">Not used.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="CTF_INHERITWOW64"></span><span id="ctf_inheritwow64"></span><dl> <span data-ttu-id="4a78d-156"><dt>**CTF \_ INHERITWOW64**</dt> <dt>0x00000100</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-156"><dt>**CTF\_INHERITWOW64**</dt> <dt>0x00000100</dt></span></span> </dl>                     | <span data-ttu-id="4a78d-157">0x00000100.</span><span class="sxs-lookup"><span data-stu-id="4a78d-157">0x00000100.</span></span> <span data-ttu-id="4a78d-158">**Internet Explorer 7 ou version ultérieure.**</span><span class="sxs-lookup"><span data-stu-id="4a78d-158">**Internet Explorer 7 or later.**</span></span> <span data-ttu-id="4a78d-159">Le nouveau thread hérite de l’état de désactivation de Windows sur Windows 64 bits (WOW64) pour le redirecteur du système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="4a78d-159">The new thread inherits the Windows-on-Windows 64-bit (WOW64) disable state for the file system redirector.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CTF_WAIT_NO_REENTRANCY"></span><span id="ctf_wait_no_reentrancy"></span><dl> <span data-ttu-id="4a78d-160"><dt>**CTF \_ WAIT \_ no \_ Reentry**</dt> <dt>0x00000200</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-160"><dt>**CTF\_WAIT\_NO\_REENTRANCY**</dt> <dt>0x00000200</dt></span></span> </dl> | <span data-ttu-id="4a78d-161">0x00000200.</span><span class="sxs-lookup"><span data-stu-id="4a78d-161">0x00000200.</span></span> <span data-ttu-id="4a78d-162">**Windows Vista ou version ultérieure.**</span><span class="sxs-lookup"><span data-stu-id="4a78d-162">**Windows Vista or later.**</span></span> <span data-ttu-id="4a78d-163">Le thread appelant bloque tous les autres processus en attendant que la procédure synchrone s’exécute sur le nouveau thread.</span><span class="sxs-lookup"><span data-stu-id="4a78d-163">The calling thread blocks all other processes while waiting for the synchronous procedure to run on the new thread.</span></span> <span data-ttu-id="4a78d-164">Si la procédure synchrone tente d’envoyer un message Windows avec [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) à une fenêtre hébergée sur le thread appelant, cela provoque un interblocage de la procédure synchrone.</span><span class="sxs-lookup"><span data-stu-id="4a78d-164">If the synchronous procedure attempts to send a Windows message with [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) to a window hosted on the calling thread, this causes the synchronous procedure to deadlock.</span></span> <span data-ttu-id="4a78d-165">Si la procédure synchrone tente d’utiliser COM pour communiquer avec un objet STA hébergé sur le thread appelant, cela entraîne également l’interblocage de la procédure synchrone.</span><span class="sxs-lookup"><span data-stu-id="4a78d-165">If the synchronous procedure attempts to use COM to talk to an STA object hosted on the calling thread, this also causes the synchronous procedure to deadlock.</span></span> <span data-ttu-id="4a78d-166">Le thread appelant est protégé contre tous les problèmes de nouvelle entrée en spécifiant cet indicateur.</span><span class="sxs-lookup"><span data-stu-id="4a78d-166">The calling thread is protected from all re-entrance concerns by specifying this flag.</span></span><br/>                                                                                                                                                                                                                                                                |
| <span id="CTF_KEYBOARD_LOCALE"></span><span id="ctf_keyboard_locale"></span><dl> <span data-ttu-id="4a78d-167"><dt>**CTF \_ \_Paramètres régionaux du clavier**</dt> <dt>0x00000400</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-167"><dt>**CTF\_KEYBOARD\_LOCALE**</dt> <dt>0x00000400</dt></span></span> </dl>           | <span data-ttu-id="4a78d-168">0x00000400.</span><span class="sxs-lookup"><span data-stu-id="4a78d-168">0x00000400.</span></span> <span data-ttu-id="4a78d-169">**Windows 7 ou version ultérieure.**</span><span class="sxs-lookup"><span data-stu-id="4a78d-169">**Windows 7 or later.**</span></span> <span data-ttu-id="4a78d-170">Utilisez les paramètres régionaux clavier du thread d’origine dans le nouveau thread qu’il génère.</span><span class="sxs-lookup"><span data-stu-id="4a78d-170">Use the keyboard locale from the original thread in the new thread that it spawns.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="CTF_OLEINITIALIZE"></span><span id="ctf_oleinitialize"></span><dl> <span data-ttu-id="4a78d-171"><dt>**CTF \_**</dt> <dt>0x00000800</dt> OLEINITIALIZE</span><span class="sxs-lookup"><span data-stu-id="4a78d-171"><dt>**CTF\_OLEINITIALIZE**</dt> <dt>0x00000800</dt></span></span> </dl>                  | <span data-ttu-id="4a78d-172">0x00000800.</span><span class="sxs-lookup"><span data-stu-id="4a78d-172">0x00000800.</span></span> <span data-ttu-id="4a78d-173">**Windows 7 ou version ultérieure.**</span><span class="sxs-lookup"><span data-stu-id="4a78d-173">**Windows 7 or later.**</span></span> <span data-ttu-id="4a78d-174">Initialiser COM avec le modèle STA (Single-Threaded Apartment) pour le thread créé.</span><span class="sxs-lookup"><span data-stu-id="4a78d-174">Initialize COM with the single-threaded apartment (STA) model for the created thread.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CTF_COINIT_MTA"></span><span id="ctf_coinit_mta"></span><dl> <span data-ttu-id="4a78d-175"><dt>**CTF \_ 0x00001000 \_ MTA de COinit**</dt> <dt></dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-175"><dt>**CTF\_COINIT\_MTA**</dt> <dt>0x00001000</dt></span></span> </dl>                          | <span data-ttu-id="4a78d-176">0x00001000.</span><span class="sxs-lookup"><span data-stu-id="4a78d-176">0x00001000.</span></span> <span data-ttu-id="4a78d-177">**Windows 7 et versions ultérieures**.</span><span class="sxs-lookup"><span data-stu-id="4a78d-177">**Windows 7 and later**.</span></span> <span data-ttu-id="4a78d-178">Initialiser COM avec le modèle multithread cloisonné (MTA) pour le thread créé.</span><span class="sxs-lookup"><span data-stu-id="4a78d-178">Initialize COM with the multithreaded apartment (MTA) model for the created thread.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="CTF_NOADDREFLIB"></span><span id="ctf_noaddreflib"></span><dl> <span data-ttu-id="4a78d-179"><dt>**CTF \_ NOADDREFLIB**</dt> <dt>0x00002000</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-179"><dt>**CTF\_NOADDREFLIB**</dt> <dt>0x00002000</dt></span></span> </dl>                        | <span data-ttu-id="4a78d-180">0x00002000.</span><span class="sxs-lookup"><span data-stu-id="4a78d-180">0x00002000.</span></span> <span data-ttu-id="4a78d-181">**Windows 7 ou version ultérieure.**</span><span class="sxs-lookup"><span data-stu-id="4a78d-181">**Windows 7 or later.**</span></span> <span data-ttu-id="4a78d-182">Cet indicateur est essentiellement l’opposé de CTF \_ FREELIBANDEXIT.</span><span class="sxs-lookup"><span data-stu-id="4a78d-182">This flag is essentially the opposite of CTF\_FREELIBANDEXIT.</span></span> <span data-ttu-id="4a78d-183">Cela évite les appels [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) / [**FreeLibraryAndExitThread**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibraryandexitthread) qui peuvent entraîner une contention du verrouillage du chargeur.</span><span class="sxs-lookup"><span data-stu-id="4a78d-183">This avoids [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya)/[**FreeLibraryAndExitThread**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibraryandexitthread) calls that can result in contention for the loader lock.</span></span> <span data-ttu-id="4a78d-184">Utilisez CTF \_ NOADDREFLIB uniquement lorsque le nouveau thread a des moyens de s’assurer que le code de la procédure de thread d’origine reste chargé.</span><span class="sxs-lookup"><span data-stu-id="4a78d-184">Use CTF\_NOADDREFLIB only when the new thread has means to ensure that the code of the original thread procedure will remain loaded.</span></span> <span data-ttu-id="4a78d-185">Cette valeur ne doit pas être utilisée dans le contexte d’objets COM, car les objets COM doivent s’assurer que la DLL reste chargée (normalement, COM décharge les dll).</span><span class="sxs-lookup"><span data-stu-id="4a78d-185">This value should not be used in the context of COM objects, because COM objects must ensure that the DLL stays loaded (normally, COM unloads the DLLs).</span></span><br/>                                                                                                                                                                                                                                                                                                                    |



## <a name="remarks"></a><span data-ttu-id="4a78d-186">Notes</span><span class="sxs-lookup"><span data-stu-id="4a78d-186">Remarks</span></span>

<span data-ttu-id="4a78d-187">Si aucun \_ indicateur d’attente CTF \_ n’est spécifié, le thread appelant attendra et enverra des messages [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) .</span><span class="sxs-lookup"><span data-stu-id="4a78d-187">If no CTF\_WAIT\_ flag is specified, the calling thread will wait and send [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) messages.</span></span> <span data-ttu-id="4a78d-188">Si la procédure synchrone tente d’envoyer un message Windows avec **SendMessage** à une fenêtre hébergée sur le thread appelant, le message s’affiche dans la fenêtre prévue.</span><span class="sxs-lookup"><span data-stu-id="4a78d-188">If the synchronous procedure attempts to send a Windows message with **SendMessage** to a window hosted on the calling thread, the message will get to the intended window.</span></span> <span data-ttu-id="4a78d-189">Si la procédure synchrone tente d’utiliser COM pour communiquer avec un objet STA hébergé sur le thread appelant, la procédure synchrone se bloquera.</span><span class="sxs-lookup"><span data-stu-id="4a78d-189">If the synchronous procedure attempts to use COM to talk to an STA object hosted on the calling thread, the synchronous procedure will deadlock.</span></span> <span data-ttu-id="4a78d-190">Le thread appelant est ouvert pour la réentrance de fragilité.</span><span class="sxs-lookup"><span data-stu-id="4a78d-190">The calling thread is open to re-entrance fragility.</span></span> <span data-ttu-id="4a78d-191">Alors que le thread appelant peut gérer l’utilisation de **SendMessage** de la procédure synchrone, si d’autres threads utilisent **SendMessage** pour communiquer avec une fenêtre hébergée sur le thread appelant, ces messages peuvent être inattendus.</span><span class="sxs-lookup"><span data-stu-id="4a78d-191">While the calling thread can handle the synchronous procedure's use of **SendMessage**, if other threads use **SendMessage** to communicate to an window hosted on the calling thread, then these messages might be unexpected.</span></span> <span data-ttu-id="4a78d-192">Cela peut entraîner leur traitement pendant l’exécution de la procédure synchrone.</span><span class="sxs-lookup"><span data-stu-id="4a78d-192">This can cause them to be processed while the synchronous procedure is completing.</span></span>

## <a name="requirements"></a><span data-ttu-id="4a78d-193">Spécifications</span><span class="sxs-lookup"><span data-stu-id="4a78d-193">Requirements</span></span>



| <span data-ttu-id="4a78d-194">Condition requise</span><span class="sxs-lookup"><span data-stu-id="4a78d-194">Requirement</span></span> | <span data-ttu-id="4a78d-195">Valeur</span><span class="sxs-lookup"><span data-stu-id="4a78d-195">Value</span></span> |
|-------------------------------------|--------------------------------------------------------------------------------------|
| <span data-ttu-id="4a78d-196">Client minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="4a78d-196">Minimum supported client</span></span><br/> | <span data-ttu-id="4a78d-197">Applications de bureau Windows 2000 professionnel, Windows XP, Windows 7 \[ uniquement\]</span><span class="sxs-lookup"><span data-stu-id="4a78d-197">Windows 2000 Professional, Windows XP, Windows 7 \[desktop apps only\]</span></span><br/>    |
| <span data-ttu-id="4a78d-198">Serveur minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="4a78d-198">Minimum supported server</span></span><br/> | <span data-ttu-id="4a78d-199">Windows 2000 Server - \[Applications de bureau uniquement\]</span><span class="sxs-lookup"><span data-stu-id="4a78d-199">Windows 2000 Server \[desktop apps only\]</span></span><br/>                                 |
| <span data-ttu-id="4a78d-200">En-tête</span><span class="sxs-lookup"><span data-stu-id="4a78d-200">Header</span></span><br/>                   | <dl> <span data-ttu-id="4a78d-201"><dt>Shlwapi. h</dt></span><span class="sxs-lookup"><span data-stu-id="4a78d-201"><dt>Shlwapi.h</dt></span></span> </dl> |



 

 
