---
description: Le système de dossiers connu offre un moyen d’interagir avec certains dossiers de profil élevé qui sont présents par défaut dans Windows.
ms.assetid: 8b6163b5-e152-47c2-99f1-43e80cf0713e
title: Utilisation de dossiers connus dans les applications
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0981d354e49f569dda229fab32308d8f4a79ff99
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104484008"
---
# <a name="working-with-known-folders-in-applications"></a><span data-ttu-id="79251-103">Utilisation de dossiers connus dans les applications</span><span class="sxs-lookup"><span data-stu-id="79251-103">Working with Known Folders in Applications</span></span>

<span data-ttu-id="79251-104">Le système de dossiers connu offre un moyen d’interagir avec certains dossiers de profil élevé qui sont présents par défaut dans Windows.</span><span class="sxs-lookup"><span data-stu-id="79251-104">The Known Folder system provides a way to interact with certain high-profile folders that are present by default in Windows.</span></span> <span data-ttu-id="79251-105">Il autorise également ces mêmes interactions avec les dossiers installés et inscrits auprès du système de dossiers connus par les applications.</span><span class="sxs-lookup"><span data-stu-id="79251-105">It also allows those same interactions with folders installed and registered with the Known Folder system by applications.</span></span> <span data-ttu-id="79251-106">Cette rubrique traite de ces interactions possibles telles qu’elles sont fournies par les API de dossiers connus.</span><span class="sxs-lookup"><span data-stu-id="79251-106">This topic discusses those possible interactions as they are provided by the Known Folder APIs.</span></span>

-   [<span data-ttu-id="79251-107">Interfaces de dossiers connus</span><span class="sxs-lookup"><span data-stu-id="79251-107">Known Folder Interfaces</span></span>](#known-folder-interfaces)
-   [<span data-ttu-id="79251-108">Redirection</span><span class="sxs-lookup"><span data-stu-id="79251-108">Redirection</span></span>](#redirection)
-   [<span data-ttu-id="79251-109">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="79251-109">Related topics</span></span>](#related-topics)

> [!IMPORTANT]
> <span data-ttu-id="79251-110">Pour rediriger les documents, les images ou les dossiers de bureau vers OneDrive, utilisez le déplacement de dossiers connu OneDrive au lieu de la méthode de redirection décrite dans cet article.</span><span class="sxs-lookup"><span data-stu-id="79251-110">To redirect the Documents, Pictures, or Desktop folders to OneDrive, use OneDrive Known Folder Move instead of the redirection method described in this article.</span></span> <span data-ttu-id="79251-111">Pour plus d’informations, consultez [Rediriger et déplacer des dossiers connus de Windows vers OneDrive](/onedrive/redirect-known-folders).</span><span class="sxs-lookup"><span data-stu-id="79251-111">For information, see [Redirect and move Windows known folders to OneDrive](/onedrive/redirect-known-folders).</span></span>  

## <a name="known-folder-interfaces"></a><span data-ttu-id="79251-112">Interfaces de dossiers connus</span><span class="sxs-lookup"><span data-stu-id="79251-112">Known Folder Interfaces</span></span>

<span data-ttu-id="79251-113">Il existe deux interfaces de dossier connues : [**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) et [**IKnownFolderManager**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfoldermanager).</span><span class="sxs-lookup"><span data-stu-id="79251-113">There are two Known Folder interfaces: [**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) and [**IKnownFolderManager**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfoldermanager).</span></span>

<span data-ttu-id="79251-114">[**IKnownFolderManager**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfoldermanager) fournit de nombreuses fonctions plus générales en ce qui concerne ces dossiers.</span><span class="sxs-lookup"><span data-stu-id="79251-114">[**IKnownFolderManager**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfoldermanager) provides many of the more general functions in regard to these folders.</span></span> <span data-ttu-id="79251-115">Ses méthodes vous permettent d’effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="79251-115">Its methods allow you to:</span></span>

-   <span data-ttu-id="79251-116">Récupérez un [**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) basé sur le [**KNOWNFOLDERID**](knownfolderid.md)de ce dossier, son nom canonique, son chemin d’accès exprimé sous forme de chaîne ou son chemin d’accès exprimé sous la forme d’un IDList.</span><span class="sxs-lookup"><span data-stu-id="79251-116">Retrieve an [**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) based on either that folder's [**KNOWNFOLDERID**](knownfolderid.md), its canonical name, its path expressed as a string, or its path expressed as an IDList.</span></span>
-   <span data-ttu-id="79251-117">Convertit un CSIDL en son équivalent [**KNOWNFOLDERID**](knownfolderid.md) ou convertit un **KNOWNFOLDERID** en son équivalent CSIDL hérité.</span><span class="sxs-lookup"><span data-stu-id="79251-117">Convert a CSIDL to its [**KNOWNFOLDERID**](knownfolderid.md) equivalent or convert a **KNOWNFOLDERID** to its legacy CSIDL equivalent.</span></span>
-   <span data-ttu-id="79251-118">Inscrire ou désinscrire un dossier connu avec le système.</span><span class="sxs-lookup"><span data-stu-id="79251-118">Register or unregister a Known Folder with the system.</span></span>
-   <span data-ttu-id="79251-119">Récupérez toutes les valeurs [**KNOWNFOLDERID**](knownfolderid.md) inscrites sur ce système.</span><span class="sxs-lookup"><span data-stu-id="79251-119">Retrieve all [**KNOWNFOLDERID**](knownfolderid.md) values registered on that system.</span></span>
-   <span data-ttu-id="79251-120">Rediriger un dossier connu vers un nouvel emplacement.</span><span class="sxs-lookup"><span data-stu-id="79251-120">Redirect a Known Folder to a new location.</span></span>

<span data-ttu-id="79251-121">[**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) fournit une méthode qui permet à un dossier de se rediriger lui-même en fournissant un nouveau chemin d’accès.</span><span class="sxs-lookup"><span data-stu-id="79251-121">[**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) provides a method that allows a folder to redirect itself by providing a new path.</span></span> <span data-ttu-id="79251-122">Ses autres méthodes obtiennent des informations sur un dossier connu spécifique, notamment :</span><span class="sxs-lookup"><span data-stu-id="79251-122">Its other methods get information about a specific Known Folder, including:</span></span>

-   <span data-ttu-id="79251-123">Catégorie du dossier : virtuel, fixe, commun ou par utilisateur.</span><span class="sxs-lookup"><span data-stu-id="79251-123">The category of the folder: virtual, fixed, common, or per-user.</span></span>
-   <span data-ttu-id="79251-124">Type du dossier, tel que compressé, documents, images ou fichiers utilisateur.</span><span class="sxs-lookup"><span data-stu-id="79251-124">The type of the folder, such as compressed, documents, pictures, or user files.</span></span>
-   <span data-ttu-id="79251-125">[**KNOWNFOLDERID**](knownfolderid.md) du dossier.</span><span class="sxs-lookup"><span data-stu-id="79251-125">The [**KNOWNFOLDERID**](knownfolderid.md) of the folder.</span></span>
-   <span data-ttu-id="79251-126">Chemin d’accès complet du dossier en tant que IDList ou chaîne.</span><span class="sxs-lookup"><span data-stu-id="79251-126">The full path of the folder as an IDList or as a string.</span></span> <span data-ttu-id="79251-127">Également son chemin d’accès relatif à un dossier parent.</span><span class="sxs-lookup"><span data-stu-id="79251-127">Also its relative path to a parent folder.</span></span>
-   <span data-ttu-id="79251-128">Nom canonique du dossier.</span><span class="sxs-lookup"><span data-stu-id="79251-128">The canonical name of the folder.</span></span>
-   <span data-ttu-id="79251-129">Info-bulle affichée pour le dossier.</span><span class="sxs-lookup"><span data-stu-id="79251-129">The tooltip displayed for the folder.</span></span>
-   <span data-ttu-id="79251-130">Icône affichée pour le dossier.</span><span class="sxs-lookup"><span data-stu-id="79251-130">The icon displayed for the folder.</span></span>
-   <span data-ttu-id="79251-131">Description du dossier qui explique son rôle et son utilisation.</span><span class="sxs-lookup"><span data-stu-id="79251-131">A description of the folder that explains its purpose and use.</span></span>
-   <span data-ttu-id="79251-132">Indique si le dossier peut être redirigé.</span><span class="sxs-lookup"><span data-stu-id="79251-132">Whether the folder is capable of being redirected.</span></span>

<span data-ttu-id="79251-133">[**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) fournit également une méthode pour récupérer un [**IShellItem**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ishellitem) basé sur le dossier.</span><span class="sxs-lookup"><span data-stu-id="79251-133">[**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) also provides a method to retrieve an [**IShellItem**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ishellitem) based on the folder.</span></span> <span data-ttu-id="79251-134">Cela vous permet de lier le dossier à un gestionnaire, de comparer deux dossiers et de récupérer les attributs, le nom complet et le dossier parent du dossier.</span><span class="sxs-lookup"><span data-stu-id="79251-134">That allows you to bind the folder to a handler, compare two folders, and retrieve the folder's attributes, display name, and parent folder.</span></span>

## <a name="redirection"></a><span data-ttu-id="79251-135">Redirection</span><span class="sxs-lookup"><span data-stu-id="79251-135">Redirection</span></span>

<span data-ttu-id="79251-136">La redirection de dossiers est une fonctionnalité importante du système de dossiers connu.</span><span class="sxs-lookup"><span data-stu-id="79251-136">Folder redirection is an important feature of the known folder system.</span></span> <span data-ttu-id="79251-137">Tous les dossiers connus de la catégorie [ **Common** KF \_ Category common \_ \* \*](/windows/desktop/api/shobjidl_core/ne-shobjidl_core-kf_category) \* \* ou [ **par utilisateur** KF \_ Category \_ PerUser \* \*](/windows/desktop/api/shobjidl_core/ne-shobjidl_core-kf_category) \* \* sont redirigés.</span><span class="sxs-lookup"><span data-stu-id="79251-137">All known folders of category [**common** KF\_CATEGORY\_COMMON\*\*\*\*](/windows/desktop/api/shobjidl_core/ne-shobjidl_core-kf_category) or [**per-user** KF\_CATEGORY\_PERUSER\*\*\*\*](/windows/desktop/api/shobjidl_core/ne-shobjidl_core-kf_category) are redirectable.</span></span> <span data-ttu-id="79251-138">Toutefois, le dossier de catégorie [KF **virtuelle** catégorie virtuelle \* \* \* \_ \_ \*](/windows/desktop/api/shobjidl_core/ne-shobjidl_core-kf_category) ou de catégorie KF fixe [  \_ \_ \* \* \* \*](/windows/desktop/api/shobjidl_core/ne-shobjidl_core-kf_category)ne peut pas être redirigé.</span><span class="sxs-lookup"><span data-stu-id="79251-138">Folder of category [**virtual** KF\_CATEGORY\_VIRTUAL\*\*\*\*](/windows/desktop/api/shobjidl_core/ne-shobjidl_core-kf_category) or [**fixedr** KF\_CATEGORY\_FIXED\*\*\*\*](/windows/desktop/api/shobjidl_core/ne-shobjidl_core-kf_category), however, cannot be redirected.</span></span>

<span data-ttu-id="79251-139">Les dossiers peuvent être redirigés vers un autre emplacement sur le même ordinateur ou vers un emplacement sur un réseau.</span><span class="sxs-lookup"><span data-stu-id="79251-139">Folders can be redirected either to another location on the same computer or to a location on a network.</span></span> <span data-ttu-id="79251-140">Dans le cas d’une redirection de réseau, le dossier peut être mis en cache localement par le biais de la mise en cache côté client pour fournir un accès hors connexion.</span><span class="sxs-lookup"><span data-stu-id="79251-140">In the case of a network redirection, the folder can be cached locally through client-side caching to provide offline access.</span></span> <span data-ttu-id="79251-141">Toutefois, même en présence d’un cache local, le dossier redirigé lui-même doit être accessible via le réseau.</span><span class="sxs-lookup"><span data-stu-id="79251-141">However, even if a local cache exists, the redirected folder itself must be accessed through the network.</span></span>

<span data-ttu-id="79251-142">La redirection de dossiers n’est pas une nouveauté pour Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="79251-142">Folder redirection is not new for Windows Vista.</span></span> <span data-ttu-id="79251-143">Par exemple, dans Windows XP, certains dossiers identifiés via le système CSIDL peuvent être redirigés par un appel à [**SHSetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shsetfolderpatha) ou en modifiant l’entrée de CSIDL dans le registre.</span><span class="sxs-lookup"><span data-stu-id="79251-143">For example, in Windows XP some folders identified through the CSIDL system could be redirected through a call to [**SHSetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shsetfolderpatha) or by modifying the CSIDL's entry in the registry.</span></span> <span data-ttu-id="79251-144">Dans Windows Vista et versions ultérieures, la redirection doit être effectuée via [**IKnownFolder :: setPath**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iknownfolder-setpath) ou [**SHSetKnownFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shsetknownfolderpath).</span><span class="sxs-lookup"><span data-stu-id="79251-144">In Windows Vista and later, redirection should be accomplished through [**IKnownFolder::SetPath**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iknownfolder-setpath) or [**SHSetKnownFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shsetknownfolderpath).</span></span>

<span data-ttu-id="79251-145">Pour déterminer si un dossier peut être redirigé, appelez [**IKnownFolder :: GetRedirectionCapabilities**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iknownfolder-getredirectioncapabilities).</span><span class="sxs-lookup"><span data-stu-id="79251-145">To determine whether a folder can be redirected, call [**IKnownFolder::GetRedirectionCapabilities**](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iknownfolder-getredirectioncapabilities).</span></span> <span data-ttu-id="79251-146">Si le dossier ne peut pas être redirigé, cet appel peut fournir une explication.</span><span class="sxs-lookup"><span data-stu-id="79251-146">If the folder cannot be redirected, this call can give an explanation.</span></span>

<span data-ttu-id="79251-147">Si un dossier est redirigé vers un emplacement réseau, les méthodes [**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) peuvent toujours être appelées avec succès.</span><span class="sxs-lookup"><span data-stu-id="79251-147">If a folder is redirected to a network location, the [**IKnownFolder**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iknownfolder) methods can still be successfully called on it.</span></span>

## <a name="related-topics"></a><span data-ttu-id="79251-148">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="79251-148">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="79251-149">[Dossiers connus, exemple](/previous-versions/windows/desktop/legacy/dd940364(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="79251-149">[Known Folders Sample](/previous-versions/windows/desktop/legacy/dd940364(v=vs.85))</span></span>
</dt> </dl>

 

 
