---
description: Montre comment s’inscrire en tant que fournisseur racine de synchronisation et intégrer un fournisseur de stockage cloud dans le niveau racine du volet de navigation.
ms.assetid: BB177EDC-8C88-4540-B2F8-994C1C8BA91C
title: Intégrer un fournisseur de stockage cloud
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 21fdc5abfbf9881bfe23b00a924fce989aec7c95
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104554141"
---
# <a name="integrate-a-cloud-storage-provider"></a><span data-ttu-id="5226e-103">Intégrer un fournisseur de stockage cloud</span><span class="sxs-lookup"><span data-stu-id="5226e-103">Integrate a Cloud Storage Provider</span></span>

<span data-ttu-id="5226e-104">Si vous disposez d’un fournisseur de stockage cloud, vous devez effectuer quelques étapes pour fournir une expérience cohérente et préférée pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5226e-104">When you have a cloud storage provider, there are a couple of steps you should take in order to provide a consistent and preferred experience for the user.</span></span> <span data-ttu-id="5226e-105">Ces deux opérations s’inscrivent en tant que fournisseur racine de synchronisation et intègrent votre application dans le niveau racine du volet de navigation.</span><span class="sxs-lookup"><span data-stu-id="5226e-105">These two things are registering as a sync root provider and integrating your application into the root level of the Navigation Pane.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5226e-106">L’intégration de votre fournisseur de stockage cloud n’est prise en charge qu’à partir de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="5226e-106">Integrating your cloud storage provider is only supported starting in Windows 10.</span></span>

 

<span data-ttu-id="5226e-107">La première chose à faire est de s’inscrire en tant que fournisseur racine de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="5226e-107">The first thing is to register as a sync root provider.</span></span> <span data-ttu-id="5226e-108">Cela permet à l’interpréteur de commandes Windows de connaître votre application et de faire en sorte que votre application soit responsable de la synchronisation des fichiers sous votre racine de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="5226e-108">This lets the Windows Shell know about your application and that your application will be responsible for synchronizing files under your sync root.</span></span> <span data-ttu-id="5226e-109">Cela permettra également à d’autres applications de savoir que vous synchronisez ces fichiers pour qu’ils puissent répondre de manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="5226e-109">This will also let other applications know that you are synchronizing these files so that they can respond appropriately.</span></span> <span data-ttu-id="5226e-110">D’autres applications peuvent ensuite utiliser [**StorageFile. Provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) pour afficher [**DisplayName**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) et l' [**ID**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) de votre application.</span><span class="sxs-lookup"><span data-stu-id="5226e-110">Other applications can then use [**StorageFile.Provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) to get the [**DisplayName**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) and [**Id**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) of your application.</span></span>

<span data-ttu-id="5226e-111">Pour vous inscrire en tant que fournisseur racine de synchronisation, vous devez créer plusieurs entrées de registre.</span><span class="sxs-lookup"><span data-stu-id="5226e-111">In order to register as a sync root provider, you will need to create multiple registry entries.</span></span> <span data-ttu-id="5226e-112">Avant de fournir la liste des paires clé-valeur, voici quelques espaces réservés que vous devez remplacer par vos propres données d’application.</span><span class="sxs-lookup"><span data-stu-id="5226e-112">Before providing the list of key-value pairs, here are some placeholders that you should replace with your own application data.</span></span>

-   <span data-ttu-id="5226e-113">*\[ ID \] du fournisseur de stockage*: nom de votre fournisseur de stockage cloud.</span><span class="sxs-lookup"><span data-stu-id="5226e-113">*\[storage provider ID\]*: The name of your cloud storage provider.</span></span> <span data-ttu-id="5226e-114">Ce nom doit être cohérent, quelle que soit la version de votre application.</span><span class="sxs-lookup"><span data-stu-id="5226e-114">This name should be consistent regardless of the version of your application.</span></span> <span data-ttu-id="5226e-115">OneDrive en est un exemple.</span><span class="sxs-lookup"><span data-stu-id="5226e-115">An example of this is OneDrive.</span></span>
-   <span data-ttu-id="5226e-116">*\[ Sid \] Windows*: le SID Windows unique qui identifie l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5226e-116">*\[Windows SID\]*: The unique Windows SID that identifies the user.</span></span> <span data-ttu-id="5226e-117">Si votre application prend en charge plusieurs installations pour plusieurs utilisateurs sur un seul ordinateur, ce composant est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="5226e-117">If your app supports multiple installations for multiple users on a single machine, this piece is required.</span></span>
-   <span data-ttu-id="5226e-118">*\[ ID \] de compte*: identificateur du fournisseur de services pour le compte actuel de cet utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5226e-118">*\[Account ID\]*: The service provider identifier for this user's current account.</span></span> <span data-ttu-id="5226e-119">Certains fournisseurs nécessitent la possibilité de fournir plusieurs racines de synchronisation pour un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5226e-119">Some providers require the ability to provide multiple synchronization roots for a user.</span></span> <span data-ttu-id="5226e-120">Un compte professionnel et un compte personnel en sont un exemple.</span><span class="sxs-lookup"><span data-stu-id="5226e-120">One example of this is a work and a personal account.</span></span> <span data-ttu-id="5226e-121">L' *ID de compte* vous permet d’avoir plusieurs comptes inscrits pour un seul utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5226e-121">The *Account ID* enables you to have multiple accounts registered for one user.</span></span> <span data-ttu-id="5226e-122">Si votre fournisseur prend en charge plusieurs racines de synchronisation par utilisateur, ce composant est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="5226e-122">If your provider does support multiple synchronization roots per user, this piece is required.</span></span>

<span data-ttu-id="5226e-123">Ces espaces réservés sont combinés pour former l’ID racine de synchronisation. Vous devez placer un **!**</span><span class="sxs-lookup"><span data-stu-id="5226e-123">These placeholders are combined together to form the sync root id. You must place a **!**</span></span> <span data-ttu-id="5226e-124">caractère entre chacun des espaces réservés lors de la formation de l’ID racine de synchronisation. Voici les paires clé-valeur qui doivent être créées.</span><span class="sxs-lookup"><span data-stu-id="5226e-124">character between each of the placeholders when forming the sync root id. Here are the key-value pairs that need to be created.</span></span>

-   <span data-ttu-id="5226e-125">**HKLM \\ Logiciel \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ SyncRootManager \\**_\[ ID \] du fournisseur de stockage_*_!_* _\[ Sid \] Windows_*_!_* _\[ ID \] de compte_*_\\ DisplayNameResource_* : pointe vers la ressource dans laquelle le shell Windows ou d’autres applications peuvent obtenir un nom convivial pour votre racine de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="5226e-125">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\DisplayNameResource_* : Points to the resource where the Windows Shell or other applications can get a user-friendly name for your sync root.</span></span>
-   <span data-ttu-id="5226e-126">**HKLM \\ Logiciel \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ SyncRootManager \\**_\[ ID \] du fournisseur de stockage_*_!_* _\[ Sid \] Windows_*_!_* _\[ ID \] de compte_*_\\ IconResource_* : pointe vers la ressource dans laquelle le shell Windows ou d’autres applications peuvent obtenir une icône pour votre racine de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="5226e-126">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\IconResource_* : Points to the resource where the Windows Shell or other applications can get an icon for your sync root.</span></span>
-   <span data-ttu-id="5226e-127">**HKLM \\ Logiciel \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ SyncRootManager \\**_\[ ID \] du fournisseur de stockage_*_!_* _\[ Sid \] Windows_*_!_* _\[ ID \] de compte_*_\\ UserSyncRoots \\_*_\[ sid \] Windows_ : emplacement sur le disque où se trouve la racine de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="5226e-127">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\UserSyncRoots\\_*_\[Windows SID\]_ : The location on disk where the sync root is located.</span></span>

<span data-ttu-id="5226e-128">En dehors de l’inscription en tant que fournisseur racine de synchronisation, vous souhaitez également que les utilisateurs aient un accès facile aux données que vous fournissez.</span><span class="sxs-lookup"><span data-stu-id="5226e-128">Other than registering as a sync root provider, you also want users to have easy access to the data you provide.</span></span> <span data-ttu-id="5226e-129">L’espace de noms de l’Explorateur de fichiers est conçu pour offrir une méthode d’accès facile.</span><span class="sxs-lookup"><span data-stu-id="5226e-129">The File Explorer namespace is designed to provide a method for that easy access.</span></span> <span data-ttu-id="5226e-130">La création d’une extension d’espace de noms pour votre fournisseur et son incorporation dans la fenêtre de l’Explorateur de fichiers permet aux utilisateurs d’interagir avec le niveau racine de vos services de la même manière qu’ils sont utilisés avec d’autres éléments de l’Explorateur de fichiers.</span><span class="sxs-lookup"><span data-stu-id="5226e-130">Creating a namespace extension for your provider and incorporating it into the File Explorer window will allow users to interact with the root level of your services just like they are used to with other File Explorer items.</span></span> <span data-ttu-id="5226e-131">Cette rubrique explique comment étendre l’espace de noms de l’Explorateur de fichiers afin que votre fournisseur s’affiche au niveau de la racine dans le volet de navigation.</span><span class="sxs-lookup"><span data-stu-id="5226e-131">This topic explains how to extend the File Explorer namespace so that your provider will appear at the root level in the Navigation Pane.</span></span>

<span data-ttu-id="5226e-132">Le volet de navigation de la fenêtre de l’Explorateur de fichiers est la partie de la fenêtre affichée sur le côté gauche.</span><span class="sxs-lookup"><span data-stu-id="5226e-132">The Navigation Pane of the File Explorer window is the portion of the window displayed on the left side.</span></span> <span data-ttu-id="5226e-133">Dans l’image ci-dessous, vous pouvez voir la structure de l’espace de noms pour cet utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5226e-133">In the image below, you can see the namespace structure for this user.</span></span> <span data-ttu-id="5226e-134">Le niveau racine dans le volet de navigation comprend les objets pour **OneDrive**, **ce PC** et le **réseau**.</span><span class="sxs-lookup"><span data-stu-id="5226e-134">The root level on the Navigation Pane includes the objects for **OneDrive**, **This PC**, and **Network**.</span></span> <span data-ttu-id="5226e-135">La procédure suivante permet d’ajouter votre extension au même niveau.</span><span class="sxs-lookup"><span data-stu-id="5226e-135">Following these steps will add your extension to the same level.</span></span>

![volet de navigation](images/navigationpane.png)

<span data-ttu-id="5226e-137">Pour ajouter votre extension au volet de navigation, vous devez disposer des éléments suivants avant de modifier le registre :</span><span class="sxs-lookup"><span data-stu-id="5226e-137">In order to add your extension to the Navigation Pane, you will need to have the following before editing the registry:</span></span>

-   <span data-ttu-id="5226e-138">Dossier du système de fichiers qui contient les données à afficher à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5226e-138">A file system folder that contains the data to display to the user.</span></span>

-   <span data-ttu-id="5226e-139">Nom de votre service Cloud qui s’affichera dans le volet de navigation.</span><span class="sxs-lookup"><span data-stu-id="5226e-139">Name of your cloud service that will appear in the Navigation Pane.</span></span> <span data-ttu-id="5226e-140">Il peut également s’agir du nom de l’instance si votre service prend en charge plusieurs comptes.</span><span class="sxs-lookup"><span data-stu-id="5226e-140">This could also be the name of the instance if your service supports multiple accounts.</span></span>

-   <span data-ttu-id="5226e-141">Icône identifiable pour votre application.</span><span class="sxs-lookup"><span data-stu-id="5226e-141">Identifiable icon for your application.</span></span>

-   <span data-ttu-id="5226e-142">Un CLSID pour votre application.</span><span class="sxs-lookup"><span data-stu-id="5226e-142">A CLSID for your application.</span></span> <span data-ttu-id="5226e-143">L’une des façons de générer un CLSID pour votre application consiste à utiliser la Uuidgen.exe.</span><span class="sxs-lookup"><span data-stu-id="5226e-143">One way to generate a CLSID for your application is to use the Uuidgen.exe.</span></span> <span data-ttu-id="5226e-144">Pour plus d’informations sur CLSID, consultez [clé CLSID](../com/clsid-key-hklm.md) .</span><span class="sxs-lookup"><span data-stu-id="5226e-144">See [CLSID Key](../com/clsid-key-hklm.md) for more information about CLSID.</span></span>

<span data-ttu-id="5226e-145">Les étapes suivantes permettent de modifier le registre afin d’extraire les informations nécessaires dans l’espace de noms de l’Explorateur de fichiers.</span><span class="sxs-lookup"><span data-stu-id="5226e-145">The following steps modify the registry in order to get the necessary information into the File Explorer namespace.</span></span> <span data-ttu-id="5226e-146">Les étapes spécifiques effectuent trois opérations.</span><span class="sxs-lookup"><span data-stu-id="5226e-146">The specific steps do three things.</span></span>

-   <span data-ttu-id="5226e-147">Créez des clés dans le registre pour votre CLSID qui incluent des valeurs pour le nom et l’icône de votre extension, ainsi que d’autres informations qui définissent son comportement.</span><span class="sxs-lookup"><span data-stu-id="5226e-147">Create keys in the registry for your CLSID that includes values for the name and icon for your extension as well as other information that defines its behavior.</span></span>

-   <span data-ttu-id="5226e-148">Configurez votre extension pour qu’elle soit intégrée dans le volet de navigation à l’emplacement approprié et avec la visibilité appropriée.</span><span class="sxs-lookup"><span data-stu-id="5226e-148">Configure your extension to be integrated into the Navigation Pane in the proper location and with the proper visibility.</span></span>

-   <span data-ttu-id="5226e-149">Configurez votre extension pour obtenir le comportement attendu pour un élément dans le volet de navigation.</span><span class="sxs-lookup"><span data-stu-id="5226e-149">Configure your extension to have the expected behavior for an element in the navigation pane.</span></span>

<span data-ttu-id="5226e-150">Ces instructions utilisent spécifiquement la commande **reg.exe** , mais vous pouvez utiliser n’importe quel outil de modification du registre de votre choix.</span><span class="sxs-lookup"><span data-stu-id="5226e-150">These instructions specifically use the **reg.exe** command, however you can use any registry editing tool of your choice.</span></span> <span data-ttu-id="5226e-151">Vous pouvez même intégrer ces étapes dans un programme d’installation qui met à jour le registre par programme.</span><span class="sxs-lookup"><span data-stu-id="5226e-151">You can even integrate these steps into an installer that updates the registry programmatically.</span></span>

## <a name="instructions"></a><span data-ttu-id="5226e-152">Instructions</span><span class="sxs-lookup"><span data-stu-id="5226e-152">Instructions</span></span>

### <a name="step-1-add-your-clsid-and-name-your-extension"></a><span data-ttu-id="5226e-153">Étape 1 : ajouter votre CLSID et nommer votre extension</span><span class="sxs-lookup"><span data-stu-id="5226e-153">Step 1: Add your CLSID and name your extension</span></span>

<span data-ttu-id="5226e-154">Ajoutez le nom de votre extension au Registre sous HKEY \_ Current \_ User.</span><span class="sxs-lookup"><span data-stu-id="5226e-154">Add the name of your extension to the registry under HKEY\_CURRENT\_USER.</span></span> <span data-ttu-id="5226e-155">Vous allez également ajouter l’identificateur unique pour cette extension.</span><span class="sxs-lookup"><span data-stu-id="5226e-155">You will also be adding the unique identifier for this extension.</span></span> <span data-ttu-id="5226e-156">Il est possible d’ajouter plusieurs extensions par utilisateur, mais dans ce cas, vous aurez besoin d’un nom et d’un identificateur uniques pour chaque extension.</span><span class="sxs-lookup"><span data-stu-id="5226e-156">It is possible to add more than one extension per user, but in that case you will need a unique name and identifier for each extension.</span></span> <span data-ttu-id="5226e-157">Ce nom et cet identificateur doivent être cohérents dans le reste de ces étapes.</span><span class="sxs-lookup"><span data-stu-id="5226e-157">This name and identifier must be consistent throughout the rest of these steps.</span></span> <span data-ttu-id="5226e-158">Dans cet exemple, le nom est *MyCloudStorageApp*.</span><span class="sxs-lookup"><span data-stu-id="5226e-158">In this example, the name is *MyCloudStorageApp*.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5226e-159">L’identificateur fourni (0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3) dans ces étapes est simplement utilisé comme exemple.</span><span class="sxs-lookup"><span data-stu-id="5226e-159">The identifier provided (0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3) in these steps is just used as a sample.</span></span> <span data-ttu-id="5226e-160">Vous devrez le remplacer par votre CLSID unique.</span><span class="sxs-lookup"><span data-stu-id="5226e-160">You will need to change this to your unique CLSID.</span></span>

 

<span data-ttu-id="5226e-161">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/ve/t reg \_ SZ/d "MyCloudStorageApp"/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-161">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d "MyCloudStorageApp" /f**</span></span>

### <a name="step-2-set-the-image-for-your-icon"></a><span data-ttu-id="5226e-162">Étape 2 : définir l’image de votre icône</span><span class="sxs-lookup"><span data-stu-id="5226e-162">Step 2: Set the image for your icon</span></span>

<span data-ttu-id="5226e-163">Indiquez le chemin d’accès à l’icône à afficher dans le volet de navigation.</span><span class="sxs-lookup"><span data-stu-id="5226e-163">Provide the path to the icon that should be displayed in the Navigation Pane.</span></span> <span data-ttu-id="5226e-164">Dans l’exemple ci-dessous, *1043* fait référence à l’identificateur de ressource de l’icône dans la dll indiquée.</span><span class="sxs-lookup"><span data-stu-id="5226e-164">In the example below, *1043* refers to the resource identifier for the icon in the indicated DLL.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5226e-165">Vous devez mettre à jour le chemin d’accès de l’image.</span><span class="sxs-lookup"><span data-stu-id="5226e-165">You need to update the image path.</span></span> <span data-ttu-id="5226e-166">Il doit pointer vers un chemin d’accès générique où votre application a installé une image.</span><span class="sxs-lookup"><span data-stu-id="5226e-166">It should point to a generic path where your app installed an image.</span></span>

 

<span data-ttu-id="5226e-167">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ DefaultIcon/ve/t reg \_ expand \_ SZ/d%% SystemRoot%% \\ system32 \\imageres.dll,-1043/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-167">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\DefaultIcon /ve /t REG\_EXPAND\_SZ /d %%SystemRoot%%\\system32\\imageres.dll,-1043 /f**</span></span>

### <a name="step-3-add-your-extension-to-the-navigation-pane-and-make-it-visible"></a><span data-ttu-id="5226e-168">Étape 3 : ajouter votre extension au volet de navigation et la rendre visible</span><span class="sxs-lookup"><span data-stu-id="5226e-168">Step 3: Add your extension to the Navigation Pane and make it visible</span></span>

<span data-ttu-id="5226e-169">L’affectation de la valeur 0x1 indique que l’extension doit être épinglée.</span><span class="sxs-lookup"><span data-stu-id="5226e-169">Setting this value to 0x1 indicates that the extension should be pinned.</span></span> <span data-ttu-id="5226e-170">Cela permet de s’assurer que les utilisateurs sont affichés par défaut.</span><span class="sxs-lookup"><span data-stu-id="5226e-170">This will make sure it is shown to users by default.</span></span> <span data-ttu-id="5226e-171">La configuration par défaut d’un utilisateur est que seuls les éléments épinglés sont affichés dans le volet de navigation.</span><span class="sxs-lookup"><span data-stu-id="5226e-171">The default configuration for a user is that only pinned items will be shown in the Navigation Pane.</span></span> <span data-ttu-id="5226e-172">Un utilisateur peut modifier ce paramètre en cliquant avec le bouton droit dans le volet de navigation et en sélectionnant **Afficher tous les dossiers**.</span><span class="sxs-lookup"><span data-stu-id="5226e-172">A user can change that setting by right-clicking in the Navigation Pane and selecting **Show all folders**.</span></span> <span data-ttu-id="5226e-173">Si vous ne souhaitez pas épingler votre extension, vous pouvez définir cette valeur sur 0x0.</span><span class="sxs-lookup"><span data-stu-id="5226e-173">If you don't want to pin your extension, you can set this value to 0x0.</span></span> <span data-ttu-id="5226e-174">Cela ne supprime pas votre extension, mais ne l’empêche pas d’être affichée par défaut à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5226e-174">That will not remove your extension, but merely prevent it from being displayed to the user by default.</span></span>

<span data-ttu-id="5226e-175">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/v System. IsPinnedToNameSpaceTree/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-175">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v System.IsPinnedToNameSpaceTree /t REG\_DWORD /d 0x1 /f**</span></span>

### <a name="step-4-set-the-location-for-your-extension-in-the-navigation-pane"></a><span data-ttu-id="5226e-176">Étape 4 : définir l’emplacement de votre extension dans le volet de navigation</span><span class="sxs-lookup"><span data-stu-id="5226e-176">Step 4: Set the location for your extension in the Navigation Pane</span></span>

<span data-ttu-id="5226e-177">Cela est essentiel pour s’assurer que le volet de navigation offre une expérience cohérente à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5226e-177">This is critical in order to make sure the Navigation Pane provides a consistent experience for the user.</span></span>

<span data-ttu-id="5226e-178">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/V SortOrderIndex/t reg \_ DWORD/d 0x42/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-178">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v SortOrderIndex /t REG\_DWORD /d 0x42 /f**</span></span>

### <a name="step-5-provide-the-dll-that-hosts-your-extension"></a><span data-ttu-id="5226e-179">Étape 5 : fournissez la dll qui héberge votre extension.</span><span class="sxs-lookup"><span data-stu-id="5226e-179">Step 5: Provide the dll that hosts your extension.</span></span>

<span data-ttu-id="5226e-180">Utilisez la shell32.dll pour émuler les dossiers Windows par défaut.</span><span class="sxs-lookup"><span data-stu-id="5226e-180">Use the shell32.dll to emulate default windows folders.</span></span> <span data-ttu-id="5226e-181">Ne modifiez cette valeur que si vous avez une raison particulière de le faire et si vous êtes familiarisé avec les extensions d’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="5226e-181">Only change this if you have a specific reason to do so and are familiar with namespace extensions.</span></span>

<span data-ttu-id="5226e-182">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ InprocServer32/ve/t reg \_ expand \_ SZ/d%% SystemRoot%% \\ system32 \\shell32.dll/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-182">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\InProcServer32 /ve /t REG\_EXPAND\_SZ /d %%systemroot%%\\system32\\shell32.dll /f**</span></span>

### <a name="step-6-define-the-instance-object"></a><span data-ttu-id="5226e-183">Étape 6 : définition de l’objet d’instance</span><span class="sxs-lookup"><span data-stu-id="5226e-183">Step 6: Define the instance object</span></span>

<span data-ttu-id="5226e-184">Indiquez que votre extension d’espace de noms doit fonctionner comme d’autres structures de dossiers de fichiers dans l’Explorateur de fichiers.</span><span class="sxs-lookup"><span data-stu-id="5226e-184">Indicate that your namespace extension should function like other file folder structures in File Explorer.</span></span> <span data-ttu-id="5226e-185">Pour plus d’informations sur les objets d’instance de Shell, consultez [création d’extensions de Shell avec des objets d’instance de Shell](/previous-versions/ms997573(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="5226e-185">For more information about shell instance objects, see [Creating Shell Extensions with Shell Instance Objects](/previous-versions/ms997573(v=msdn.10)).</span></span>

<span data-ttu-id="5226e-186">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ instance/v CLSID/T reg \_ SZ/d {0E5AAE11-A475-4c5b-AB00-C66DE400274E}/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-186">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance /v CLSID /t REG\_SZ /d {0E5AAE11-A475-4c5b-AB00-C66DE400274E} /f**</span></span>

### <a name="step-7-provide-the-file-system-attributes-of-the-target-folder"></a><span data-ttu-id="5226e-187">Étape 7 : fournir les attributs du système de fichiers du dossier cible</span><span class="sxs-lookup"><span data-stu-id="5226e-187">Step 7: Provide the file system attributes of the target folder</span></span>

<span data-ttu-id="5226e-188">Cela est nécessaire pour s’assurer que l’Explorateur de fichiers offre une expérience cohérente et attendue aux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="5226e-188">This is required to make sure that the File Explorer provides a consistent and expected experience for users.</span></span> <span data-ttu-id="5226e-189">Cette commande définit **le \_ \_ Répertoire des attributs de fichier** et l’attribut de **fichier \_ \_ ReadOnly**, qui sont tous deux des [**constantes d’attribut de fichier**](../fileio/file-attribute-constants.md).</span><span class="sxs-lookup"><span data-stu-id="5226e-189">This command sets **FILE\_ATTRIBUTE\_DIRECTORY** and **FILE\_ATTRIBUTE\_READONLY**, both of which are [**File Attribute Constants**](../fileio/file-attribute-constants.md).</span></span>

<span data-ttu-id="5226e-190">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ instance \\ InitPropertyBag/v attributs/t reg \_ DWORD/d 0x11/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-190">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v Attributes /t REG\_DWORD /d 0x11 /f**</span></span>

### <a name="step-8-set-the-path-for-the-sync-root"></a><span data-ttu-id="5226e-191">Étape 8 : définir le chemin d’accès pour la racine de synchronisation</span><span class="sxs-lookup"><span data-stu-id="5226e-191">Step 8: Set the path for the sync root</span></span>

<span data-ttu-id="5226e-192">Définissez le chemin d’accès pour la racine de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="5226e-192">Set the path for the sync root.</span></span>

<span data-ttu-id="5226e-193">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ instance \\ InitPropertyBag/v TargetFolderPath/t reg \_ expand \_ SZ/d%% UserProfile%% \\ MyCloudStorageApp/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-193">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v TargetFolderPath /t REG\_EXPAND\_SZ /d %%USERPROFILE%%\\MyCloudStorageApp /f**</span></span>

### <a name="step-9-set-appropriate-shell-flags"></a><span data-ttu-id="5226e-194">Étape 9 : définir les indicateurs d’interpréteur de commandes appropriés</span><span class="sxs-lookup"><span data-stu-id="5226e-194">Step 9: Set appropriate shell flags</span></span>

<span data-ttu-id="5226e-195">Définissez certains indicateurs nécessaires à l’épinglage de votre extension d’espace de noms dans l’arborescence de l’Explorateur de fichiers.</span><span class="sxs-lookup"><span data-stu-id="5226e-195">Set some flags necessary to pin your namespace extension to the File Explorer tree.</span></span>

<span data-ttu-id="5226e-196">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ ShellFolder/v FolderValueFlags/t reg \_ DWORD/d 0x28/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-196">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v FolderValueFlags /t REG\_DWORD /d 0x28 /f**</span></span>

### <a name="step-10-set-the-appropriate-flags-to-control-your-shell-behavior"></a><span data-ttu-id="5226e-197">Étape 10 : définir les indicateurs appropriés pour contrôler votre comportement de l’interpréteur de commandes</span><span class="sxs-lookup"><span data-stu-id="5226e-197">Step 10: Set the appropriate flags to control your shell behavior</span></span>

<span data-ttu-id="5226e-198">Définissez les indicateurs [**SFGAO**](sfgao.md) appropriés.</span><span class="sxs-lookup"><span data-stu-id="5226e-198">Set the appropriate [**SFGAO**](sfgao.md) flags.</span></span> <span data-ttu-id="5226e-199">Les indicateurs appropriés sont SFGAO \_ CANCOPY, SFGAO \_ CANLink, SFGAO \_ Storage, SFGAO HASPROPSHEET \_ , SFGAO \_ STORAGEANCESTOR, SFGAO \_ FILESYSANCESTOR, SFGAO \_ Folder, SFGAO \_ FileSystem et SFGAO HASSUBFOLDER \_ .</span><span class="sxs-lookup"><span data-stu-id="5226e-199">The relevant flags are SFGAO\_CANCOPY, SFGAO\_CANLINK, SFGAO\_STORAGE, SFGAO\_HASPROPSHEET, SFGAO\_STORAGEANCESTOR, SFGAO\_FILESYSANCESTOR, SFGAO\_FOLDER, SFGAO\_FILESYSTEM, and SFGAO\_HASSUBFOLDER.</span></span>

<span data-ttu-id="5226e-200">**Reg Add HKCU \\ Software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ ShellFolder/v attributs/t reg \_ DWORD/d 0xF080004D/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-200">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v Attributes /t REG\_DWORD /d 0xF080004D /f**</span></span>

### <a name="step-11-register-your-extension-in-the-namespace-root"></a><span data-ttu-id="5226e-201">Étape 11 : inscrire votre extension dans la racine de l’espace de noms</span><span class="sxs-lookup"><span data-stu-id="5226e-201">Step 11: Register your extension in the namespace root</span></span>

<span data-ttu-id="5226e-202">Configurez l’extension d’espace de noms en tant qu’enfant du dossier Desktop.</span><span class="sxs-lookup"><span data-stu-id="5226e-202">Configure the namespace extension to be a child of the desktop folder.</span></span>

<span data-ttu-id="5226e-203">**Reg Add HKCU \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ Desktop \\ namespace \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/ve/t reg \_ SZ/d MyCloudStorageApp/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-203">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Desktop\\NameSpace\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d MyCloudStorageApp /f**</span></span>

### <a name="step-12-hide-your-extension-from-the-desktop"></a><span data-ttu-id="5226e-204">Étape 12 : masquer votre extension sur le Bureau</span><span class="sxs-lookup"><span data-stu-id="5226e-204">Step 12: Hide your extension from the Desktop</span></span>

<span data-ttu-id="5226e-205">Il est important que votre extension apparaisse uniquement dans le volet de navigation de l’Explorateur de fichiers.</span><span class="sxs-lookup"><span data-stu-id="5226e-205">It is important that your extension only appears on the Navigation Pane of the File Explorer.</span></span> <span data-ttu-id="5226e-206">Une extension d’espace de noms ne fonctionne pas comme un raccourci normal.</span><span class="sxs-lookup"><span data-stu-id="5226e-206">A namespace extension does not function like a normal shortcut.</span></span> <span data-ttu-id="5226e-207">Par conséquent, vous ne devez pas utiliser cette méthode pour créer un raccourci sur le bureau.</span><span class="sxs-lookup"><span data-stu-id="5226e-207">Therefore, you should not use this method to create a Desktop shortcut.</span></span>

<span data-ttu-id="5226e-208">**Reg Add HKCU \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ HideDesktopIcons \\ NewStartPanel/v {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="5226e-208">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\HideDesktopIcons\\NewStartPanel /v {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /t REG\_DWORD /d 0x1 /f**</span></span>

 

 
