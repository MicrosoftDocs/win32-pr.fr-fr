---
title: Exposition des ressources en mosaïque HLSL
description: La nouvelle syntaxe HLSL (High Level Shader Language) de Microsoft est requise pour prendre en charge les ressources en mosaïque dans le nuancier Model 5.
ms.assetid: B6CE51E6-1BA9-4D15-9654-86FE9BAAF585
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b2b266b98045b38645e1e8d24ed0014a5f448a38
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104463387"
---
# <a name="hlsl-tiled-resources-exposure"></a><span data-ttu-id="0dc88-103">Exposition des ressources en mosaïque HLSL</span><span class="sxs-lookup"><span data-stu-id="0dc88-103">HLSL tiled resources exposure</span></span>

<span data-ttu-id="0dc88-104">La nouvelle syntaxe HLSL (High Level Shader Language) de Microsoft est requise pour prendre en charge les ressources en mosaïque dans le [nuancier Model 5](/windows/desktop/direct3dhlsl/d3d11-graphics-reference-sm5).</span><span class="sxs-lookup"><span data-stu-id="0dc88-104">New Microsoft High Level Shader Language (HLSL) syntax is required to support tiled resources in [Shader Model 5](/windows/desktop/direct3dhlsl/d3d11-graphics-reference-sm5).</span></span>

<span data-ttu-id="0dc88-105">La nouvelle syntaxe HLSL est autorisée uniquement sur les appareils avec prise en charge des ressources en mosaïque.</span><span class="sxs-lookup"><span data-stu-id="0dc88-105">The new HLSL syntax is allowed only on devices with tiled resources support.</span></span> <span data-ttu-id="0dc88-106">Chaque méthode HLSL appropriée pour les ressources en mosaïque dans le tableau suivant accepte soit un (commentaire) soit deux (verrouillage et commentaires dans cet ordre) des paramètres facultatifs supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="0dc88-106">Each relevant HLSL method for tiled resources in the following table accepts either one (feedback) or two (clamp and feedback in this order) additional optional parameters.</span></span> <span data-ttu-id="0dc88-107">Par exemple, voici un **exemple** de méthode :</span><span class="sxs-lookup"><span data-stu-id="0dc88-107">For example, a **Sample** method is:</span></span>

<span data-ttu-id="0dc88-108">**Exemple (échantillonneur, emplacement \[ , décalage \[ , bride \[ , commentaires \] \] \] )**</span><span class="sxs-lookup"><span data-stu-id="0dc88-108">**Sample(sampler, location \[, offset \[, clamp \[, feedback\] \] \])**</span></span>

<span data-ttu-id="0dc88-109">[**Texture2D. Sample (S, float, int, float, uint)**](/windows/desktop/direct3dhlsl/t2darray-sample-s-float-int-float-uint-)est un exemple de méthode d' **exemple** .</span><span class="sxs-lookup"><span data-stu-id="0dc88-109">An example of a **Sample** method is [**Texture2D.Sample(S,float,int,float,uint)**](/windows/desktop/direct3dhlsl/t2darray-sample-s-float-int-float-uint-).</span></span>

<span data-ttu-id="0dc88-110">Les paramètres décalage, Clamp et Feedback sont facultatifs.</span><span class="sxs-lookup"><span data-stu-id="0dc88-110">The offset, clamp and feedback parameters are optional.</span></span> <span data-ttu-id="0dc88-111">Vous devez spécifier tous les paramètres facultatifs jusqu’à celui dont vous avez besoin, ce qui est cohérent avec les règles C++ pour les arguments de fonction par défaut.</span><span class="sxs-lookup"><span data-stu-id="0dc88-111">You must specify all optional parameters up to the one you need, which is consistent with the C++ rules for default function arguments.</span></span> <span data-ttu-id="0dc88-112">Par exemple, si l’état des commentaires est requis, les paramètres de décalage et de fixation doivent être fournis explicitement à **Sample**, même s’ils ne sont pas nécessaires logiquement.</span><span class="sxs-lookup"><span data-stu-id="0dc88-112">For example, if the feedback status is needed, both offset and clamp parameters need to be explicitly supplied to **Sample**, even though they may not be logically needed.</span></span>

<span data-ttu-id="0dc88-113">Le paramètre clamp est une valeur flottante scalaire.</span><span class="sxs-lookup"><span data-stu-id="0dc88-113">The clamp parameter is a scalar float value.</span></span> <span data-ttu-id="0dc88-114">La valeur littérale de Clamp = 0.0 f indique que l’opération de verrouillage n’est pas effectuée.</span><span class="sxs-lookup"><span data-stu-id="0dc88-114">The literal value of clamp=0.0f indicates that the clamp operation isn't performed.</span></span>

<span data-ttu-id="0dc88-115">Le paramètre feedback est une variable **uint** que vous pouvez fournir à la fonction [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) intrinsèque d’interrogation de l’accès mémoire.</span><span class="sxs-lookup"><span data-stu-id="0dc88-115">The feedback parameter is a **uint** variable that you can supply to the memory-access querying intrinsic [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) function.</span></span> <span data-ttu-id="0dc88-116">Vous ne devez pas modifier ni interpréter la valeur du paramètre Feedback ; Toutefois, le compilateur ne fournit aucune analyse et aucun diagnostic avancés pour déterminer si vous avez modifié la valeur.</span><span class="sxs-lookup"><span data-stu-id="0dc88-116">You must not modify or interpret the value of the feedback parameter; but, the compiler doesn't provide any advanced analysis and diagnostics to detect whether you modified the value.</span></span>

<span data-ttu-id="0dc88-117">Voici la syntaxe de [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped):</span><span class="sxs-lookup"><span data-stu-id="0dc88-117">Here is the syntax of [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped):</span></span>

<span data-ttu-id="0dc88-118">**bool CheckAccessFullyMapped (dans uint FeedbackVar);**</span><span class="sxs-lookup"><span data-stu-id="0dc88-118">**bool CheckAccessFullyMapped(in uint FeedbackVar);**</span></span>

<span data-ttu-id="0dc88-119">[**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) interprète la valeur de *FeedbackVar* et retourne true si toutes les données en cours d’accès ont été mappées dans la ressource ; Sinon, **CheckAccessFullyMapped** retourne false.</span><span class="sxs-lookup"><span data-stu-id="0dc88-119">[**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) interprets the value of *FeedbackVar* and returns true if all data being accessed was mapped in the resource; otherwise, **CheckAccessFullyMapped** returns false.</span></span>

<span data-ttu-id="0dc88-120">Si le paramètre clamp ou feedback est présent, le compilateur émet une variante de l’instruction de base.</span><span class="sxs-lookup"><span data-stu-id="0dc88-120">If either the clamp or feedback parameter is present, the compiler emits a variant of the basic instruction.</span></span> <span data-ttu-id="0dc88-121">Par exemple, l’exemple d’une ressource en mosaïque génère l' `sample_cl_s` instruction.</span><span class="sxs-lookup"><span data-stu-id="0dc88-121">For example, sample of a tiled resource generates the `sample_cl_s` instruction.</span></span> <span data-ttu-id="0dc88-122">Si ni clamp ni Feedback n’est spécifié, le compilateur émet l’instruction de base, afin qu’il n’y ait aucune modification par rapport au comportement actuel.</span><span class="sxs-lookup"><span data-stu-id="0dc88-122">If neither clamp nor feedback is specified, the compiler emits the basic instruction, so that there is no change from the current behavior.</span></span> <span data-ttu-id="0dc88-123">La valeur Clamp de 0.0 f indique qu’aucune bride n’est exécutée ; ainsi, le compilateur de pilotes peut affiner l’instruction sur le matériel cible.</span><span class="sxs-lookup"><span data-stu-id="0dc88-123">The clamp value of 0.0f indicates that no clamp is performed; thus, the driver compiler can further tailor the instruction to the target hardware.</span></span> <span data-ttu-id="0dc88-124">Si les commentaires sont un registre NULL dans une instruction, les commentaires ne sont pas utilisés ; par conséquent, le compilateur de pilotes peut adapter l’instruction à l’architecture cible.</span><span class="sxs-lookup"><span data-stu-id="0dc88-124">If feedback is a NULL register in an instruction, the feedback is unused; thus, the driver compiler can further tailor the instruction to the target architecture.</span></span>

<span data-ttu-id="0dc88-125">Si le compilateur HLSL déduit que la bride est 0.0 f et que les commentaires sont inutilisés, le compilateur émet l’instruction de base correspondante (par exemple, `sample` plutôt que `sample_cl_s` ).</span><span class="sxs-lookup"><span data-stu-id="0dc88-125">If the HLSL compiler infers that clamp is 0.0f and feedback is unused, the compiler emits the corresponding basic instruction (for example, `sample` rather than `sample_cl_s`).</span></span>

<span data-ttu-id="0dc88-126">Si un accès aux ressources en mosaïque est constitué de plusieurs instructions de code d’octet constitutives, par exemple, pour les ressources structurées, le compilateur agrège les valeurs de commentaires individuelles via l’opération ou pour produire la valeur de retour finale.</span><span class="sxs-lookup"><span data-stu-id="0dc88-126">If a tiled resource access consists of several constituent byte code instructions, for example, for structured resources, the compiler aggregates individual feedback values via the OR operation to produce the final feedback value.</span></span> <span data-ttu-id="0dc88-127">Par conséquent, vous voyez une valeur de commentaire unique pour un accès complexe.</span><span class="sxs-lookup"><span data-stu-id="0dc88-127">Therefore, you see a single feedback value for such a complex access.</span></span>

<span data-ttu-id="0dc88-128">Il s’agit de la table de résumé des méthodes HLSL qui sont modifiées pour prendre en charge les commentaires et/ou la fixation.</span><span class="sxs-lookup"><span data-stu-id="0dc88-128">This is the summary table of HLSL methods that are changed to support feedback and/or clamp.</span></span> <span data-ttu-id="0dc88-129">Tout fonctionne sur les ressources en mosaïque et non en mosaïque de toutes les dimensions.</span><span class="sxs-lookup"><span data-stu-id="0dc88-129">These all work on tiled and non-tiled resources of all dimensions.</span></span> <span data-ttu-id="0dc88-130">Les ressources non juxtaposées semblent toujours être entièrement mappées.</span><span class="sxs-lookup"><span data-stu-id="0dc88-130">Non-tiled resources always appear to be fully mapped.</span></span>



| [<span data-ttu-id="0dc88-131">Objets HLSL</span><span class="sxs-lookup"><span data-stu-id="0dc88-131">HLSL objects</span></span>](/windows/desktop/direct3dhlsl/d3d11-graphics-reference-sm5-objects)                                                                                                                                                                                                                                | <span data-ttu-id="0dc88-132">Méthodes intrinsèques avec l’option Feedback ( \* )-possède également l’option clamp</span><span class="sxs-lookup"><span data-stu-id="0dc88-132">Intrinsic methods with feedback option (\*) - also has clamp option</span></span>                                                                                                                                                                  |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0dc88-133">\[\]TEXTURE2D RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-133">\[RW\]Texture2D</span></span><br/> <span data-ttu-id="0dc88-134">\[\]TEXTURE2DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-134">\[RW\]Texture2DArray</span></span><br/> <span data-ttu-id="0dc88-135">TextureCUBE</span><span class="sxs-lookup"><span data-stu-id="0dc88-135">TextureCUBE</span></span><br/> <span data-ttu-id="0dc88-136">TextureCUBEArray</span><span class="sxs-lookup"><span data-stu-id="0dc88-136">TextureCUBEArray</span></span><br/>                                                                                                                                                                                    | <span data-ttu-id="0dc88-137">Gather</span><span class="sxs-lookup"><span data-stu-id="0dc88-137">Gather</span></span><br/> <span data-ttu-id="0dc88-138">GatherRed</span><span class="sxs-lookup"><span data-stu-id="0dc88-138">GatherRed</span></span><br/> <span data-ttu-id="0dc88-139">GatherGreen</span><span class="sxs-lookup"><span data-stu-id="0dc88-139">GatherGreen</span></span><br/> <span data-ttu-id="0dc88-140">GatherBlue</span><span class="sxs-lookup"><span data-stu-id="0dc88-140">GatherBlue</span></span><br/> <span data-ttu-id="0dc88-141">GatherAlpha</span><span class="sxs-lookup"><span data-stu-id="0dc88-141">GatherAlpha</span></span><br/> <span data-ttu-id="0dc88-142">GatherCmp</span><span class="sxs-lookup"><span data-stu-id="0dc88-142">GatherCmp</span></span><br/> <span data-ttu-id="0dc88-143">GatherCmpRed</span><span class="sxs-lookup"><span data-stu-id="0dc88-143">GatherCmpRed</span></span><br/> <span data-ttu-id="0dc88-144">GatherCmpGreen</span><span class="sxs-lookup"><span data-stu-id="0dc88-144">GatherCmpGreen</span></span><br/> <span data-ttu-id="0dc88-145">GatherCmpBlue</span><span class="sxs-lookup"><span data-stu-id="0dc88-145">GatherCmpBlue</span></span><br/> <span data-ttu-id="0dc88-146">GatherCmpAlpha</span><span class="sxs-lookup"><span data-stu-id="0dc88-146">GatherCmpAlpha</span></span><br/> |
| <span data-ttu-id="0dc88-147">\[\]TEXTURE1D RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-147">\[RW\]Texture1D</span></span><br/> <span data-ttu-id="0dc88-148">\[\]TEXTURE1DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-148">\[RW\]Texture1DArray</span></span><br/> <span data-ttu-id="0dc88-149">\[\]TEXTURE2D RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-149">\[RW\]Texture2D</span></span><br/> <span data-ttu-id="0dc88-150">\[\]TEXTURE2DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-150">\[RW\]Texture2DArray</span></span><br/> <span data-ttu-id="0dc88-151">\[\]TEXTURE3D RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-151">\[RW\]Texture3D</span></span><br/> <span data-ttu-id="0dc88-152">TextureCUBE</span><span class="sxs-lookup"><span data-stu-id="0dc88-152">TextureCUBE</span></span><br/> <span data-ttu-id="0dc88-153">TextureCUBEArray</span><span class="sxs-lookup"><span data-stu-id="0dc88-153">TextureCUBEArray</span></span><br/>                                                                                              | <span data-ttu-id="0dc88-154">Exemple\*</span><span class="sxs-lookup"><span data-stu-id="0dc88-154">Sample\*</span></span><br/> <span data-ttu-id="0dc88-155">SampleBias\*</span><span class="sxs-lookup"><span data-stu-id="0dc88-155">SampleBias\*</span></span><br/> <span data-ttu-id="0dc88-156">SampleCmp\*</span><span class="sxs-lookup"><span data-stu-id="0dc88-156">SampleCmp\*</span></span><br/> <span data-ttu-id="0dc88-157">SampleCmpLevelZero</span><span class="sxs-lookup"><span data-stu-id="0dc88-157">SampleCmpLevelZero</span></span><br/> <span data-ttu-id="0dc88-158">SampleGrad\*</span><span class="sxs-lookup"><span data-stu-id="0dc88-158">SampleGrad\*</span></span><br/> <span data-ttu-id="0dc88-159">SampleLevel</span><span class="sxs-lookup"><span data-stu-id="0dc88-159">SampleLevel</span></span><br/>                                                                                      |
| <span data-ttu-id="0dc88-160">\[\]TEXTURE1D RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-160">\[RW\]Texture1D</span></span><br/> <span data-ttu-id="0dc88-161">\[\]TEXTURE1DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-161">\[RW\]Texture1DArray</span></span><br/> <span data-ttu-id="0dc88-162">\[\]TEXTURE2D RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-162">\[RW\]Texture2D</span></span><br/> <span data-ttu-id="0dc88-163">Texture2DMS</span><span class="sxs-lookup"><span data-stu-id="0dc88-163">Texture2DMS</span></span><br/> <span data-ttu-id="0dc88-164">\[\]TEXTURE2DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-164">\[RW\]Texture2DArray</span></span><br/> <span data-ttu-id="0dc88-165">Texture2DArrayMS</span><span class="sxs-lookup"><span data-stu-id="0dc88-165">Texture2DArrayMS</span></span><br/> <span data-ttu-id="0dc88-166">\[\]TEXTURE3D RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-166">\[RW\]Texture3D</span></span><br/> <span data-ttu-id="0dc88-167">\[\]Mémoire tampon RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-167">\[RW\]Buffer</span></span><br/> <span data-ttu-id="0dc88-168">\[\]BYTEADDRESSBUFFER RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-168">\[RW\]ByteAddressBuffer</span></span><br/> <span data-ttu-id="0dc88-169">\[\]STRUCTUREDBUFFER RW</span><span class="sxs-lookup"><span data-stu-id="0dc88-169">\[RW\]StructuredBuffer</span></span><br/> | <span data-ttu-id="0dc88-170">Load</span><span class="sxs-lookup"><span data-stu-id="0dc88-170">Load</span></span>                                                                                                                                                                                                                                 |



 

## <a name="related-topics"></a><span data-ttu-id="0dc88-171">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="0dc88-171">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0dc88-172">Accès du pipeline aux ressources en mosaïque</span><span class="sxs-lookup"><span data-stu-id="0dc88-172">Pipeline access to tiled resources</span></span>](pipeline-access-to-tiled-resources.md)
</dt> </dl>

 

