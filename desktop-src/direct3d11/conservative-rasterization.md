---
title: Pixellisation de Direct3D 11,3
description: La pixellisation conservatrice apporte une certaine certitude au rendu des pixels, ce qui est utile en particulier pour les algorithmes de détection des collisions.
ms.assetid: 83F223C0-9282-4149-86CF-471B88829F76
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 003cb7e31c1380943318b34f9308f6b5e72d6e51
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104199340"
---
# <a name="direct3d-113-conservative-rasterization"></a><span data-ttu-id="78a72-103">Pixellisation de Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="78a72-103">Direct3D 11.3 Conservative Rasterization</span></span>

<span data-ttu-id="78a72-104">La pixellisation conservatrice apporte une certaine certitude au rendu des pixels, ce qui est utile en particulier pour les algorithmes de détection des collisions.</span><span class="sxs-lookup"><span data-stu-id="78a72-104">Conservative rasterization adds some certainty to pixel rendering, which is helpful in particular to collision detection algorithms.</span></span>

-   [<span data-ttu-id="78a72-105">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="78a72-105">Overview</span></span>](#overview)
-   [<span data-ttu-id="78a72-106">Interactions avec le pipeline</span><span class="sxs-lookup"><span data-stu-id="78a72-106">Interactions with the pipeline</span></span>](#interactions-with-the-pipeline)
-   [<span data-ttu-id="78a72-107">Détails de l’implémentation</span><span class="sxs-lookup"><span data-stu-id="78a72-107">Implementation details</span></span>](#implementation-details)
-   [<span data-ttu-id="78a72-108">API summary</span><span class="sxs-lookup"><span data-stu-id="78a72-108">API summary</span></span>](#api-summary)
-   [<span data-ttu-id="78a72-109">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="78a72-109">Related topics</span></span>](#related-topics)

## <a name="overview"></a><span data-ttu-id="78a72-110">Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="78a72-110">Overview</span></span>

<span data-ttu-id="78a72-111">La pixellisation conservatrice signifie que tous les pixels qui sont au moins partiellement couverts par une primitive rendue sont pixellisés, ce qui signifie que le nuanceur de pixels est appelé.</span><span class="sxs-lookup"><span data-stu-id="78a72-111">Conservative rasterization means that all pixels that are at least partially covered by a rendered primitive are rasterized, which means that the pixel shader is invoked.</span></span> <span data-ttu-id="78a72-112">Le comportement normal est l’échantillonnage, qui n’est pas utilisé si la pixellisation conservatrice est activée.</span><span class="sxs-lookup"><span data-stu-id="78a72-112">Normal behavior is sampling, which is not used if conservative rasterization is enabled.</span></span>

<span data-ttu-id="78a72-113">La pixellisation conservatrice est utile dans un certain nombre de situations, notamment pour garantir la détection des collisions, l’élimination des occlusions et la détection de la visibilité.</span><span class="sxs-lookup"><span data-stu-id="78a72-113">Conservative rasterization is useful in a number of situations, including for certainty in collision detection, occlusion culling, and visibility detection.</span></span>

<span data-ttu-id="78a72-114">Par exemple, l’illustration suivante montre un triangle vert rendu à l’aide d’une pixellisation conservatrice.</span><span class="sxs-lookup"><span data-stu-id="78a72-114">For example, the following figure shows a green triangle rendered using conservative rasterization.</span></span> <span data-ttu-id="78a72-115">La zone brune est connue sous le nom de « région d’incertitude » : une région dans laquelle les erreurs d’arrondi et autres problèmes ajoutent de l’incertitude aux dimensions exactes du triangle.</span><span class="sxs-lookup"><span data-stu-id="78a72-115">The brown area is known as an "uncertainty region" - a region where rounding errors and other issues add some uncertainty to the exact dimensions of the triangle.</span></span> <span data-ttu-id="78a72-116">Les triangles rouges de chaque vertex montrent comment la région d’incertitude est calculée.</span><span class="sxs-lookup"><span data-stu-id="78a72-116">The red triangles at each vertex show how the uncertainty region is calculated.</span></span> <span data-ttu-id="78a72-117">Les grands carrés gris affichent les pixels qui seront rendus.</span><span class="sxs-lookup"><span data-stu-id="78a72-117">The large gray squares show the pixels that will be rendered.</span></span> <span data-ttu-id="78a72-118">Les carrés roses affichent les pixels affichés à l’aide de la « règle de haut en bas », qui entre en lecture lorsque le bord du triangle traverse le bord des pixels.</span><span class="sxs-lookup"><span data-stu-id="78a72-118">The pink squares show pixels rendered using the "top-left rule", which comes into play as the edge of the triangle crosses the edge of the pixels.</span></span> <span data-ttu-id="78a72-119">Il peut y avoir des faux positifs (pixels définis qui ne devraient pas avoir été) que le système va normalement, mais pas toujours.</span><span class="sxs-lookup"><span data-stu-id="78a72-119">There can be false positives (pixels set that should not have been) which the system will normally but not always cull.</span></span>

![affiche la règle en haut à gauche](images/conservative-rasterization-0.png)

## <a name="interactions-with-the-pipeline"></a><span data-ttu-id="78a72-121">Interactions avec le pipeline</span><span class="sxs-lookup"><span data-stu-id="78a72-121">Interactions with the pipeline</span></span>

<span data-ttu-id="78a72-122">Pour de nombreux détails sur la façon dont la pixellisation conservatrice interagit avec le pipeline Graphics, reportez-vous à la [pixellisation conservatrice D3D12](/windows/desktop/direct3d12/conservative-rasterization).</span><span class="sxs-lookup"><span data-stu-id="78a72-122">For many details on how conservative rasterization interacts with the graphics pipeline, refer to [D3D12 Conservative rasterization](/windows/desktop/direct3d12/conservative-rasterization).</span></span>

## <a name="implementation-details"></a><span data-ttu-id="78a72-123">Informations d’implémentation</span><span class="sxs-lookup"><span data-stu-id="78a72-123">Implementation details</span></span>

<span data-ttu-id="78a72-124">Le type de pixellisation pris en charge dans Direct3D 12 est parfois appelé « pixellisation conservatrice préestimée ».</span><span class="sxs-lookup"><span data-stu-id="78a72-124">The type of rasterization supported in Direct3D 12 is sometimes referred to as "overestimated conservative rasterization".</span></span> <span data-ttu-id="78a72-125">Il existe également le concept de « pixellisation conservatrice sous-estimée », ce qui signifie que seuls les pixels entièrement couverts par une primitive rendue sont pixellisés.</span><span class="sxs-lookup"><span data-stu-id="78a72-125">There is also the concept of "underestimated conservative rasterization", which means that only pixels that are fully covered by a rendered primitive are rasterized.</span></span> <span data-ttu-id="78a72-126">Les informations de pixellisation conservatrice sous-estimée sont disponibles via le nuanceur de pixels par le biais de l’utilisation de données de couverture d’entrée, et seule une pixellisation conservatrice surestimée est disponible en mode de pixellisation.</span><span class="sxs-lookup"><span data-stu-id="78a72-126">Underestimated conservative rasterization information is available through the pixel shader through the use of input coverage data, and only overestimated conservative rasterization is available as a rasterizing mode.</span></span>

<span data-ttu-id="78a72-127">Si une partie d’une primitive chevauche un pixel, ce pixel est considéré comme couvert et est ensuite pixellisé.</span><span class="sxs-lookup"><span data-stu-id="78a72-127">If any part of a primitive overlaps a pixel, then that pixel is considered covered and is then rasterized.</span></span> <span data-ttu-id="78a72-128">Lorsqu’un bord ou un angle d’une primitive se trouve le long du bord ou de l’angle d’un pixel, l’application de la « règle de haut en bas » est spécifique à l’implémentation.</span><span class="sxs-lookup"><span data-stu-id="78a72-128">When an edge or corner of a primitive falls along the edge or corner of a pixel, the application of the "top-left rule" is implementation-specific.</span></span> <span data-ttu-id="78a72-129">Toutefois, pour les implémentations qui prennent en charge les triangles dégénérées, un triangle dégenerate sur un bord ou un angle doit couvrir au moins un pixel.</span><span class="sxs-lookup"><span data-stu-id="78a72-129">However, for implementations that support degenerate triangles, a degenerate triangle along an edge or corner must cover at least one pixel.</span></span>

<span data-ttu-id="78a72-130">Les implémentations de pixellisation conservatrices peuvent varier sur un matériel différent et produisent des faux positifs, ce qui signifie qu’ils peuvent incorrectement décider que les pixels sont couverts.</span><span class="sxs-lookup"><span data-stu-id="78a72-130">Conservative rasterization implementations can vary on different hardware, and do produce false positives, meaning that they can incorrectly decide that pixels are covered.</span></span> <span data-ttu-id="78a72-131">Cela peut être dû à des détails spécifiques à l’implémentation, tels que des erreurs de culture ou d’accrochage primitives inhérentes aux coordonnées de vertex à virgule fixe utilisées dans la pixellisation.</span><span class="sxs-lookup"><span data-stu-id="78a72-131">This can occur because of implementation-specific details like primitive growing or snapping errors inherent in the fixed-point vertex coordinates used in rasterization.</span></span> <span data-ttu-id="78a72-132">La raison pour laquelle les faux positifs (en ce qui concerne les coordonnées de vertex à virgule fixe) sont valides est parce qu’une certaine quantité de faux positifs sont nécessaires pour permettre à une implémentation d’effectuer une évaluation de la couverture sur des sommets postérieurs à l’alignement (c’est-à-dire des coordonnées de vertex qui ont été converties de la virgule flottante en virgule flottante de 16,8</span><span class="sxs-lookup"><span data-stu-id="78a72-132">The reason false positives (with respect to fixed point vertex coordinates) are valid is because some amount of false positives are needed to allow an implementation to do coverage evaluation against post-snapped vertices (i.e. vertex coordinates that have been converted from floating point to the 16.8 fixed-point used in the rasterizer), but honor the coverage produced by the original floating point vertex coordinates.</span></span>

<span data-ttu-id="78a72-133">Les implémentations de pixellisation conservatrice ne produisent pas de faux négatifs en ce qui concerne les coordonnées de vertex à virgule flottante pour les primitives postérieures à la dégénération : si une partie d’une primitive chevauche une partie d’un pixel, ce pixel est pixellisé.</span><span class="sxs-lookup"><span data-stu-id="78a72-133">Conservative rasterization implementations do not produce false negatives with respect to the floating-point vertex coordinates for non-degenerate post-snap primitives: if any part of a primitive overlaps any part of a pixel, then that pixel is rasterized.</span></span>

<span data-ttu-id="78a72-134">Les triangles dégénérées (doublons d’index dans une mémoire tampon d’index ou colinéaire en 3D) ou dégénérées après la conversion à virgule fixe (vertex colinéaires dans le rastériseur) peuvent être éliminés ou non ; les deux sont des comportements valides.</span><span class="sxs-lookup"><span data-stu-id="78a72-134">Triangles that are degenerate (duplicate indices in an index buffer or collinear in 3D), or become degenerate after fixed-point conversion (collinear vertices in the rasterizer), may or may not be culled; both are valid behaviors.</span></span> <span data-ttu-id="78a72-135">Les triangles dégénérées doivent être considérés comme étant en arrière. ainsi, si un comportement spécifique est requis par une application, il peut utiliser l’élimination des faces arrière ou les tests pour les faces avant.</span><span class="sxs-lookup"><span data-stu-id="78a72-135">Degenerate triangles must be considered back facing, so if a specific behavior is required by an application, it can use back-face culling or test for front facing.</span></span> <span data-ttu-id="78a72-136">Les triangles dégénérées utilisent les valeurs affectées au vertex 0 pour toutes les valeurs interpolées.</span><span class="sxs-lookup"><span data-stu-id="78a72-136">Degenerate triangles use the values assigned to Vertex 0 for all interpolated values.</span></span>

<span data-ttu-id="78a72-137">Il existe trois niveaux de prise en charge matérielle, en plus de la possibilité que le matériel ne prenne pas en charge cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="78a72-137">There are three tiers of hardware support, in addition to the possibility that the hardware does not support this feature.</span></span>

-   <span data-ttu-id="78a72-138">Le niveau 1 prend en charge les régions d’incertitude de 1/2 pixels et aucune dégénération de l’instantané.</span><span class="sxs-lookup"><span data-stu-id="78a72-138">Tier 1 supports 1/2 pixel uncertainty regions, and no post-snap degenerates.</span></span> <span data-ttu-id="78a72-139">Cela est utile pour le rendu en mosaïque, un Atlas de textures, la génération de cartes de lumière et les mappages d’ombre sous-pixel.</span><span class="sxs-lookup"><span data-stu-id="78a72-139">This is good for tiled rendering, a texture atlas, light map generation and sub-pixel shadow maps.</span></span>
-   <span data-ttu-id="78a72-140">Le niveau 2 ajoute des dégénérations postérieures au Snap et 1/256 régions d’incertitude.</span><span class="sxs-lookup"><span data-stu-id="78a72-140">Tier 2 adds post-snap degenerates, and 1/256 uncertainty regions.</span></span> <span data-ttu-id="78a72-141">Elle ajoute également la prise en charge de l’accélération de l’algorithme basée sur le processeur (telle que voxelization).</span><span class="sxs-lookup"><span data-stu-id="78a72-141">It also adds support for CPU-based algorithm acceleration (such as voxelization).</span></span>
-   <span data-ttu-id="78a72-142">Le niveau 3 ajoute 1/512 régions d’incertitude, la couverture d’entrée interne et prend en charge l’élimination des occlusions.</span><span class="sxs-lookup"><span data-stu-id="78a72-142">Tier 3 adds 1/512 uncertainty regions, inner input coverage and supports occlusion culling.</span></span> <span data-ttu-id="78a72-143">La couverture d’entrée ajoute la nouvelle valeur `SV_InnerCoverage` au langage HLSL (High Level Shading Language).</span><span class="sxs-lookup"><span data-stu-id="78a72-143">The input coverage adds the new value `SV_InnerCoverage` to High Level Shading Language (HLSL).</span></span> <span data-ttu-id="78a72-144">Il s’agit d’un entier scalaire 32 bits qui peut être spécifié à l’entrée d’un nuanceur de pixels, et représente les informations de pixellisation conservatrice sous-estimées (autrement dit, si un pixel est garanti comme étant entièrement couvert).</span><span class="sxs-lookup"><span data-stu-id="78a72-144">This is a 32-bit scalar integer that can be specified on input to a pixel shader, and represents the underestimated conservative rasterization information (that is, whether a pixel is guaranteed-to-be-fully covered).</span></span>

## <a name="api-summary"></a><span data-ttu-id="78a72-145">Résumé des API</span><span class="sxs-lookup"><span data-stu-id="78a72-145">API summary</span></span>

<span data-ttu-id="78a72-146">Les méthodes, structures, énumérations et classes d’assistance suivantes font référence à la pixellisation conservatrice :</span><span class="sxs-lookup"><span data-stu-id="78a72-146">The following methods, structures, enums, and helper classes reference conservative rasterization:</span></span>

-   <span data-ttu-id="78a72-147">[**D3d11 \_ RASTÉRISEUR \_ DESC2**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_rasterizer_desc2) : structure contenant la description du rastériseur, en notant la \_ \_ classe d’assistance CD3D12 rastériseur DESC2 pour la création de descriptions de rastériseur.</span><span class="sxs-lookup"><span data-stu-id="78a72-147">[**D3D11\_RASTERIZER\_DESC2**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_rasterizer_desc2) : structure holding the rasterizer description, noting the CD3D12\_RASTERIZER\_DESC2 helper class for creating rasterizer descriptions.</span></span>
-   <span data-ttu-id="78a72-148">[**D3d11 \_ \_ \_ Mode de pixellisation conservateur**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_conservative_rasterization_mode) : valeurs enum pour le mode (on ou OFF).</span><span class="sxs-lookup"><span data-stu-id="78a72-148">[**D3D11\_CONSERVATIVE\_RASTERIZATION\_MODE**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_conservative_rasterization_mode) : enum values for the mode (on or off).</span></span>
-   <span data-ttu-id="78a72-149">[**D3d11 \_ Données de fonctionnalités \_ \_ d3d11 \_ OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2) : structure détenant le niveau de prise en charge.</span><span class="sxs-lookup"><span data-stu-id="78a72-149">[**D3D11\_FEATURE\_DATA\_D3D11\_OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2) : structure holding the tier of support.</span></span>
-   <span data-ttu-id="78a72-150">[**D3d11 \_ \_ \_ Niveau de pixellisation conservateur**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_conservative_rasterization_tier) : valeurs d’énumération pour chaque niveau de prise en charge par le matériel.</span><span class="sxs-lookup"><span data-stu-id="78a72-150">[**D3D11\_CONSERVATIVE\_RASTERIZATION\_TIER**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_conservative_rasterization_tier) : enum values for each tier of support by the hardware.</span></span>
-   <span data-ttu-id="78a72-151">[**ID3D11Device :: CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) : méthode permettant d’accéder aux fonctionnalités prises en charge.</span><span class="sxs-lookup"><span data-stu-id="78a72-151">[**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) : method to access the supported features.</span></span>

## <a name="related-topics"></a><span data-ttu-id="78a72-152">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="78a72-152">Related topics</span></span>
* [<span data-ttu-id="78a72-153">Fonctionnalités Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="78a72-153">Direct3D 11.3 Features</span></span>](direct3d-11-3-features.md)