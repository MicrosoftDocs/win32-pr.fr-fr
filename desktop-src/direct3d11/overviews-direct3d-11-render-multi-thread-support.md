---
title: Comment vérifier la prise en charge des pilotes
description: Cette rubrique montre comment déterminer si les fonctionnalités de multithreading (y compris la création de ressources et les listes de commandes) sont prises en charge pour l’accélération matérielle.
ms.assetid: f577357c-c2e5-4e58-9870-2e995bdc6782
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ae42bbb3eedb76d049479839d497a79db81b5697
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104990612"
---
# <a name="how-to-check-for-driver-support"></a><span data-ttu-id="04c92-103">Procédure : vérifier la prise en charge des pilotes</span><span class="sxs-lookup"><span data-stu-id="04c92-103">How To: Check for Driver Support</span></span>

<span data-ttu-id="04c92-104">Cette rubrique montre comment déterminer si les fonctionnalités de multithreading (y compris la [création de ressources](overviews-direct3d-11-render-multi-thread-intro.md) et les [listes de commandes](overviews-direct3d-11-render-multi-thread-command-list.md)) sont prises en charge pour l’accélération matérielle.</span><span class="sxs-lookup"><span data-stu-id="04c92-104">This topic shows how to determine whether multithreading features (including [resource creation](overviews-direct3d-11-render-multi-thread-intro.md) and [command lists](overviews-direct3d-11-render-multi-thread-command-list.md)) are supported for hardware acceleration.</span></span>

<span data-ttu-id="04c92-105">Pour les applications, il est recommandé de vérifier la prise en charge du matériel graphique du multithread.</span><span class="sxs-lookup"><span data-stu-id="04c92-105">We recommend for applications to check for graphics hardware support of multithreading.</span></span> <span data-ttu-id="04c92-106">Si le matériel et le pilote ne prennent pas en charge la création d’objets multithread, les performances peuvent être limitées des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="04c92-106">If the driver and graphics hardware do not support multithreaded object creation, performance can be limited in the following ways:</span></span>

-   <span data-ttu-id="04c92-107">La création de plusieurs objets (même de différents types) en même temps peut être limitée.</span><span class="sxs-lookup"><span data-stu-id="04c92-107">Creating multiple objects (even of different types) at the same time might be limited.</span></span>
-   <span data-ttu-id="04c92-108">La création d’un objet lors du rendu des commandes graphiques à l’aide d’un [contexte immédiat](overviews-direct3d-11-render-multi-thread-render.md) peut être limitée.</span><span class="sxs-lookup"><span data-stu-id="04c92-108">Creating an object while rendering graphics commands by using an [immediate context](overviews-direct3d-11-render-multi-thread-render.md) might be limited.</span></span> <span data-ttu-id="04c92-109">Par exemple, si le matériel ne prend pas en charge le multithreading, une application doit éviter de créer sur un thread d’arrière-plan un objet qui nécessite beaucoup de temps pour la création.</span><span class="sxs-lookup"><span data-stu-id="04c92-109">For example, if hardware does not support multithreading, an application should avoid creating on a background thread an object that requires a very long time to create.</span></span> <span data-ttu-id="04c92-110">Une opération de création qui prend beaucoup de temps peut bloquer le rendu immédiat du contexte et accroître le risque d’interruption de la fréquence d’images visuelles.</span><span class="sxs-lookup"><span data-stu-id="04c92-110">A create operation that takes very long can block immediate context rendering and increase the risk of a visual frame rate stutter.</span></span>

<span data-ttu-id="04c92-111">Le runtime prend en charge les listes de multithreads et de commandes, indépendamment de la prise en charge des pilotes et du matériel ; s’il n’existe pas de prise en charge du matériel et des pilotes pour les multithreads ou les listes de commandes, le runtime émulera les fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="04c92-111">The runtime supports multithreading and command lists regardless of driver and hardware support; if there is no driver and hardware support for either multithreads or command lists, the runtime will emulate the functionality.</span></span> <span data-ttu-id="04c92-112">Pour plus d’informations sur le multithreading, consultez [Introduction au multithreading dans Direct3D 11](overviews-direct3d-11-render-multi-thread-intro.md).</span><span class="sxs-lookup"><span data-stu-id="04c92-112">For more information about multithreading, see [Introduction to Multithreading in Direct3D 11](overviews-direct3d-11-render-multi-thread-intro.md).</span></span>

<span data-ttu-id="04c92-113">**Pour vérifier la prise en charge des pilotes pour le multithreading :**</span><span class="sxs-lookup"><span data-stu-id="04c92-113">**To check for driver support for multithreading:**</span></span>

1.  <span data-ttu-id="04c92-114">Initialisez un objet d’interface [**ID3D11Device**](/windows/desktop/api/D3D11/nn-d3d11-id3d11device) .</span><span class="sxs-lookup"><span data-stu-id="04c92-114">Initialize an [**ID3D11Device**](/windows/desktop/api/D3D11/nn-d3d11-id3d11device) interface object.</span></span> <span data-ttu-id="04c92-115">Par défaut, le multithreading est activé.</span><span class="sxs-lookup"><span data-stu-id="04c92-115">By default, multithreading is enabled.</span></span>
2.  <span data-ttu-id="04c92-116">Appelez [**ID3D11Device :: CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport).</span><span class="sxs-lookup"><span data-stu-id="04c92-116">Call [**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport).</span></span> <span data-ttu-id="04c92-117">Transmettez la valeur de **\_ \_ Threading de la fonctionnalité d3d11** au paramètre *Feature* , transmettez la structure de thread de données de la [**\_ fonctionnalité \_ \_ d3d11**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_threading) au paramètre *pFeatureSupportData* et transmettez la taille de la structure de thread de données de la **\_ fonctionnalité \_ \_ d3d11** au paramètre *FeatureSupportDataSize* .</span><span class="sxs-lookup"><span data-stu-id="04c92-117">Pass the **D3D11\_FEATURE\_THREADING** value to the *Feature* parameter, pass the [**D3D11\_FEATURE\_DATA\_THREADING**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_threading) structure to the *pFeatureSupportData* parameter, and pass the size of the **D3D11\_FEATURE\_DATA\_THREADING** structure to the *FeatureSupportDataSize* parameter.</span></span>
3.  <span data-ttu-id="04c92-118">Si la méthode [**ID3D11Device :: CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) réussit, la structure de [**\_ \_ \_ Threading de données de la fonctionnalité d3d11**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_threading) que vous avez passée à l’étape précédente sera initialisée avec les informations relatives à la prise en charge du multithreading.</span><span class="sxs-lookup"><span data-stu-id="04c92-118">If the [**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) method succeeds, the [**D3D11\_FEATURE\_DATA\_THREADING**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_threading) structure that you passed in the previous step will be initialized with information about multithreading support.</span></span>
    -   <span data-ttu-id="04c92-119">Si **DriverConcurrentCreates** a la **valeur true**, un pilote peut créer plusieurs ressources en même temps (simultanément) sur des threads différents.</span><span class="sxs-lookup"><span data-stu-id="04c92-119">If **DriverConcurrentCreates** is **TRUE**, a driver can create more than one resource at the same time (concurrently) on different threads.</span></span>

        <span data-ttu-id="04c92-120">Si **DriverCommandLists** a la **valeur true**, le pilote prend en charge les listes de commandes.</span><span class="sxs-lookup"><span data-stu-id="04c92-120">If **DriverCommandLists** is **TRUE**, the driver supports command lists.</span></span> <span data-ttu-id="04c92-121">Autrement dit, les commandes de rendu émises par un contexte immédiat peuvent être simultanées avec la création d’objets sur des threads distincts avec un faible risque d’interruption de la fréquence d’images.</span><span class="sxs-lookup"><span data-stu-id="04c92-121">That is, rendering commands issued by an immediate context can be concurrent with object creation on separate threads with low risk of a frame rate stutter.</span></span>

    -   <span data-ttu-id="04c92-122">Si **DriverConcurrentCreates** a la **valeur false**, un pilote ne prend pas en charge la création simultanée, ce qui signifie que la quantité d’accès concurrentiel possible est extrêmement limitée.</span><span class="sxs-lookup"><span data-stu-id="04c92-122">If **DriverConcurrentCreates** is **FALSE**, a driver does not support concurrent creation, which means the amount of concurrency possible is extremely limited.</span></span> <span data-ttu-id="04c92-123">Le matériel graphique ne peut pas créer d’objets de types différents sur des threads différents simultanueously.</span><span class="sxs-lookup"><span data-stu-id="04c92-123">The graphics hardware cannot create objects of different types on different threads simultanueously.</span></span> <span data-ttu-id="04c92-124">En outre, le matériel graphique ne peut pas utiliser un contexte immédiat pour émettre des commandes de rendu alors que le matériel graphique tente de créer une ressource sur un autre thread.</span><span class="sxs-lookup"><span data-stu-id="04c92-124">Additionally, the graphics hardware cannot use an immediate context to issue render commands while the graphics hardware attempts to create a resource on another thread.</span></span>

## <a name="related-topics"></a><span data-ttu-id="04c92-125">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="04c92-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="04c92-126">Comment utiliser Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="04c92-126">How to Use Direct3D 11</span></span>](how-to-use-direct3d-11.md)
</dt> <dt>

[<span data-ttu-id="04c92-127">Traitement multithread</span><span class="sxs-lookup"><span data-stu-id="04c92-127">Multithreading</span></span>](overviews-direct3d-11-render-multi-thread.md)
</dt> </dl>

 

 




