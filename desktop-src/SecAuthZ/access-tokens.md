---
description: Un jeton d’accès est un objet qui décrit le contexte de sécurité d’un processus ou d’un thread.
ms.assetid: 350159c9-2399-427a-ba44-c897a9664299
title: Jetons d’accès
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0993c1f5aebab797ab28e61b36f59507e4d2f1ab
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103866002"
---
# <a name="access-tokens"></a><span data-ttu-id="6af20-103">Jetons d’accès</span><span class="sxs-lookup"><span data-stu-id="6af20-103">Access Tokens</span></span>

<span data-ttu-id="6af20-104">Un [*jeton d’accès*](/windows/desktop/SecGloss/a-gly) est un objet qui décrit le [*contexte de sécurité*](/windows/desktop/SecGloss/s-gly) d’un [*processus*](/windows/desktop/SecGloss/p-gly) ou d’un thread.</span><span class="sxs-lookup"><span data-stu-id="6af20-104">An [*access token*](/windows/desktop/SecGloss/a-gly) is an object that describes the [*security context*](/windows/desktop/SecGloss/s-gly) of a [*process*](/windows/desktop/SecGloss/p-gly) or thread.</span></span> <span data-ttu-id="6af20-105">Les informations contenues dans un jeton incluent l’identité et les privilèges du compte d’utilisateur associé au processus ou au thread.</span><span class="sxs-lookup"><span data-stu-id="6af20-105">The information in a token includes the identity and privileges of the user account associated with the process or thread.</span></span> <span data-ttu-id="6af20-106">Lorsqu’un utilisateur ouvre une session, le système vérifie le mot de passe de l’utilisateur en le comparant avec les informations stockées dans une base de données de sécurité.</span><span class="sxs-lookup"><span data-stu-id="6af20-106">When a user logs on, the system verifies the user's password by comparing it with information stored in a security database.</span></span> <span data-ttu-id="6af20-107">Si le mot de passe est [*authentifié*](/windows/desktop/SecGloss/a-gly), le système génère un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-107">If the password is [*authenticated*](/windows/desktop/SecGloss/a-gly), the system produces an access token.</span></span> <span data-ttu-id="6af20-108">Chaque processus exécuté pour le compte de cet utilisateur dispose d’une copie de ce jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-108">Every process executed on behalf of this user has a copy of this access token.</span></span>

<span data-ttu-id="6af20-109">Le système utilise un jeton d’accès pour identifier l’utilisateur lorsqu’un thread interagit avec un [objet sécurisable](securable-objects.md) ou tente d’exécuter une tâche système qui requiert des privilèges.</span><span class="sxs-lookup"><span data-stu-id="6af20-109">The system uses an access token to identify the user when a thread interacts with a [securable object](securable-objects.md) or tries to perform a system task that requires privileges.</span></span> <span data-ttu-id="6af20-110">Les jetons d’accès contiennent les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="6af20-110">Access tokens contain the following information:</span></span>

-   <span data-ttu-id="6af20-111">[Identificateur de sécurité](security-identifiers.md) (SID) pour le compte de l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="6af20-111">The [security identifier](security-identifiers.md) (SID) for the user's account</span></span>
-   <span data-ttu-id="6af20-112">Sid pour les groupes dont l’utilisateur est membre</span><span class="sxs-lookup"><span data-stu-id="6af20-112">SIDs for the groups of which the user is a member</span></span>
-   <span data-ttu-id="6af20-113">Un [*SID d’ouverture*](/windows/desktop/SecGloss/l-gly) de session qui identifie la [*session d’ouverture de session*](/windows/desktop/SecGloss/l-gly) active</span><span class="sxs-lookup"><span data-stu-id="6af20-113">A [*logon SID*](/windows/desktop/SecGloss/l-gly) that identifies the current [*logon session*](/windows/desktop/SecGloss/l-gly)</span></span>
-   <span data-ttu-id="6af20-114">Liste des [privilèges](privileges.md) détenus par l’utilisateur ou par les groupes de l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="6af20-114">A list of the [privileges](privileges.md) held by either the user or the user's groups</span></span>
-   <span data-ttu-id="6af20-115">Un SID propriétaire</span><span class="sxs-lookup"><span data-stu-id="6af20-115">An owner SID</span></span>
-   <span data-ttu-id="6af20-116">SID du groupe principal</span><span class="sxs-lookup"><span data-stu-id="6af20-116">The SID for the primary group</span></span>
-   <span data-ttu-id="6af20-117">[DACL](access-control-lists.md) par défaut que le système utilise quand l’utilisateur crée un objet sécurisable sans spécifier de [*descripteur de sécurité*](/windows/desktop/SecGloss/s-gly)</span><span class="sxs-lookup"><span data-stu-id="6af20-117">The default [DACL](access-control-lists.md) that the system uses when the user creates a securable object without specifying a [*security descriptor*](/windows/desktop/SecGloss/s-gly)</span></span>
-   <span data-ttu-id="6af20-118">Source du jeton d’accès</span><span class="sxs-lookup"><span data-stu-id="6af20-118">The source of the access token</span></span>
-   <span data-ttu-id="6af20-119">Si le jeton est un jeton [*principal*](/windows/desktop/SecGloss/p-gly) ou un jeton d' [emprunt d’identité](client-impersonation.md)</span><span class="sxs-lookup"><span data-stu-id="6af20-119">Whether the token is a [*primary*](/windows/desktop/SecGloss/p-gly) or [impersonation](client-impersonation.md) token</span></span>
-   <span data-ttu-id="6af20-120">Liste facultative des [SID de restriction](restricted-tokens.md)</span><span class="sxs-lookup"><span data-stu-id="6af20-120">An optional list of [restricting SIDs](restricted-tokens.md)</span></span>
-   <span data-ttu-id="6af20-121">Niveaux d’emprunt d’identité actuels</span><span class="sxs-lookup"><span data-stu-id="6af20-121">Current impersonation levels</span></span>
-   <span data-ttu-id="6af20-122">Autres statistiques</span><span class="sxs-lookup"><span data-stu-id="6af20-122">Other statistics</span></span>

<span data-ttu-id="6af20-123">Chaque processus a un [*jeton principal*](/windows/desktop/SecGloss/p-gly) qui décrit le [*contexte de sécurité*](/windows/desktop/SecGloss/s-gly) du compte d’utilisateur associé au processus.</span><span class="sxs-lookup"><span data-stu-id="6af20-123">Every process has a [*primary token*](/windows/desktop/SecGloss/p-gly) that describes the [*security context*](/windows/desktop/SecGloss/s-gly) of the user account associated with the process.</span></span> <span data-ttu-id="6af20-124">Par défaut, le système utilise le jeton principal lorsqu’un thread du processus interagit avec un objet sécurisable.</span><span class="sxs-lookup"><span data-stu-id="6af20-124">By default, the system uses the primary token when a thread of the process interacts with a securable object.</span></span> <span data-ttu-id="6af20-125">En outre, un thread peut emprunter l’identité d’un compte client.</span><span class="sxs-lookup"><span data-stu-id="6af20-125">Moreover, a thread can impersonate a client account.</span></span> <span data-ttu-id="6af20-126">L’emprunt d’identité permet au thread d’interagir avec les objets sécurisables à l’aide du contexte de sécurité du client.</span><span class="sxs-lookup"><span data-stu-id="6af20-126">Impersonation allows the thread to interact with securable objects using the client's security context.</span></span> <span data-ttu-id="6af20-127">Un thread qui emprunte l’identité d’un client possède un jeton principal et un [*jeton d’emprunt d’identité*](/windows/desktop/SecGloss/i-gly).</span><span class="sxs-lookup"><span data-stu-id="6af20-127">A thread that is impersonating a client has both a primary token and an [*impersonation token*](/windows/desktop/SecGloss/i-gly).</span></span>

<span data-ttu-id="6af20-128">Utilisez la fonction [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken) pour récupérer un handle vers le jeton principal d’un processus.</span><span class="sxs-lookup"><span data-stu-id="6af20-128">Use the [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken) function to retrieve a handle to the primary token of a process.</span></span> <span data-ttu-id="6af20-129">Utilisez la fonction [**OpenThreadToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthreadtoken) pour récupérer un handle pour le jeton d’emprunt d’identité d’un thread.</span><span class="sxs-lookup"><span data-stu-id="6af20-129">Use the [**OpenThreadToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthreadtoken) function to retrieve a handle to the impersonation token of a thread.</span></span> <span data-ttu-id="6af20-130">Pour plus d’informations, consultez [emprunt d’identité](client-impersonation.md).</span><span class="sxs-lookup"><span data-stu-id="6af20-130">For more information, see [Impersonation](client-impersonation.md).</span></span>

<span data-ttu-id="6af20-131">Vous pouvez utiliser les fonctions suivantes pour manipuler des jetons d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-131">You can use the following functions to manipulate access tokens.</span></span>



| <span data-ttu-id="6af20-132">Fonction</span><span class="sxs-lookup"><span data-stu-id="6af20-132">Function</span></span>                                               | <span data-ttu-id="6af20-133">Description</span><span class="sxs-lookup"><span data-stu-id="6af20-133">Description</span></span>                                                                                                                                                            |
|--------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="6af20-134">**AdjustTokenGroups**</span><span class="sxs-lookup"><span data-stu-id="6af20-134">**AdjustTokenGroups**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokengroups)         | <span data-ttu-id="6af20-135">Modifie les informations de groupe dans un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-135">Changes the group information in an access token.</span></span>                                                                                                                      |
| [<span data-ttu-id="6af20-136">**AdjustTokenPrivileges**</span><span class="sxs-lookup"><span data-stu-id="6af20-136">**AdjustTokenPrivileges**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokenprivileges) | <span data-ttu-id="6af20-137">Active ou désactive les privilèges dans un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-137">Enables or disables the privileges in an access token.</span></span> <span data-ttu-id="6af20-138">Elle n’accorde pas de nouveaux privilèges ou révoque des privilèges existants.</span><span class="sxs-lookup"><span data-stu-id="6af20-138">It does not grant new privileges or revoke existing ones.</span></span>                                                       |
| [<span data-ttu-id="6af20-139">**CheckTokenMembership**</span><span class="sxs-lookup"><span data-stu-id="6af20-139">**CheckTokenMembership**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-checktokenmembership)   | <span data-ttu-id="6af20-140">Détermine si un SID spécifié est activé dans un jeton d’accès spécifié.</span><span class="sxs-lookup"><span data-stu-id="6af20-140">Determines whether a specified SID is enabled in a specified access token.</span></span>                                                                                             |
| [<span data-ttu-id="6af20-141">**CreateRestrictedToken**</span><span class="sxs-lookup"><span data-stu-id="6af20-141">**CreateRestrictedToken**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken) | <span data-ttu-id="6af20-142">Crée un nouveau jeton qui est une version limitée d’un jeton existant.</span><span class="sxs-lookup"><span data-stu-id="6af20-142">Creates a new token that is a restricted version of an existing token.</span></span> <span data-ttu-id="6af20-143">Le jeton restreint peut avoir des SID désactivés, des privilèges supprimés et une liste de sid restreints.</span><span class="sxs-lookup"><span data-stu-id="6af20-143">The restricted token can have disabled SIDs, deleted privileges, and a list of restricted SIDs.</span></span> |
| [<span data-ttu-id="6af20-144">**DuplicateToken**</span><span class="sxs-lookup"><span data-stu-id="6af20-144">**DuplicateToken**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-duplicatetoken)               | <span data-ttu-id="6af20-145">Crée un nouveau jeton d’emprunt d’identité qui duplique un jeton existant.</span><span class="sxs-lookup"><span data-stu-id="6af20-145">Creates a new impersonation token that duplicates an existing token.</span></span>                                                                                                   |
| [<span data-ttu-id="6af20-146">**DuplicateTokenEx**</span><span class="sxs-lookup"><span data-stu-id="6af20-146">**DuplicateTokenEx**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-duplicatetokenex)           | <span data-ttu-id="6af20-147">Crée un jeton principal ou un jeton d’emprunt d’identité qui duplique un jeton existant.</span><span class="sxs-lookup"><span data-stu-id="6af20-147">Creates a new primary token or impersonation token that duplicates an existing token.</span></span>                                                                                  |
| [<span data-ttu-id="6af20-148">**GetTokenInformation**</span><span class="sxs-lookup"><span data-stu-id="6af20-148">**GetTokenInformation**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation)     | <span data-ttu-id="6af20-149">Récupère des informations sur un jeton.</span><span class="sxs-lookup"><span data-stu-id="6af20-149">Retrieves information about a token.</span></span>                                                                                                                                   |
| [<span data-ttu-id="6af20-150">**IsTokenRestricted**</span><span class="sxs-lookup"><span data-stu-id="6af20-150">**IsTokenRestricted**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-istokenrestricted)         | <span data-ttu-id="6af20-151">Détermine si un jeton a une liste de SID de restriction.</span><span class="sxs-lookup"><span data-stu-id="6af20-151">Determines whether a token has a list of restricting SIDs.</span></span>                                                                                                             |
| [<span data-ttu-id="6af20-152">**OpenProcessToken**</span><span class="sxs-lookup"><span data-stu-id="6af20-152">**OpenProcessToken**</span></span>](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)           | <span data-ttu-id="6af20-153">Récupère un handle vers le jeton d’accès principal pour un processus.</span><span class="sxs-lookup"><span data-stu-id="6af20-153">Retrieves a handle to the primary access token for a process.</span></span>                                                                                                          |
| [<span data-ttu-id="6af20-154">**OpenThreadToken,**</span><span class="sxs-lookup"><span data-stu-id="6af20-154">**OpenThreadToken**</span></span>](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthreadtoken)             | <span data-ttu-id="6af20-155">Récupère un handle pour le jeton d’accès d’emprunt d’identité pour un thread.</span><span class="sxs-lookup"><span data-stu-id="6af20-155">Retrieves a handle to the impersonation access token for a thread.</span></span>                                                                                                     |
| [<span data-ttu-id="6af20-156">**SetThreadToken**</span><span class="sxs-lookup"><span data-stu-id="6af20-156">**SetThreadToken**</span></span>](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadtoken)               | <span data-ttu-id="6af20-157">Assigne ou supprime un jeton d’emprunt d’identité pour un thread.</span><span class="sxs-lookup"><span data-stu-id="6af20-157">Assigns or removes an impersonation token for a thread.</span></span>                                                                                                                |
| [<span data-ttu-id="6af20-158">**SetTokenInformation**</span><span class="sxs-lookup"><span data-stu-id="6af20-158">**SetTokenInformation**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-settokeninformation)     | <span data-ttu-id="6af20-159">Modifie le propriétaire, le groupe principal ou la liste DACL par défaut d’un jeton.</span><span class="sxs-lookup"><span data-stu-id="6af20-159">Changes a token's owner, primary group, or default DACL.</span></span>                                                                                                               |



 

<span data-ttu-id="6af20-160">Les fonctions de jeton d’accès utilisent les structures suivantes pour décrire les parties d’un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-160">The access token functions use the following structures to describe the parts of an access token.</span></span>



| <span data-ttu-id="6af20-161">Structure</span><span class="sxs-lookup"><span data-stu-id="6af20-161">Structure</span></span>                                            | <span data-ttu-id="6af20-162">Description</span><span class="sxs-lookup"><span data-stu-id="6af20-162">Description</span></span>                                                                                           |
|------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="6af20-163">**\_contrôle Token**</span><span class="sxs-lookup"><span data-stu-id="6af20-163">**TOKEN\_CONTROL**</span></span>](/windows/desktop/api/Winnt/ns-winnt-token_control)              | <span data-ttu-id="6af20-164">Informations qui identifient un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-164">Information that identifies an access token.</span></span>                                                          |
| [<span data-ttu-id="6af20-165">**\_DACL par défaut du jeton \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-165">**TOKEN\_DEFAULT\_DACL**</span></span>](/windows/desktop/api/Winnt/ns-winnt-token_default_dacl)   | <span data-ttu-id="6af20-166">DACL par défaut que le système utilise dans les descripteurs de sécurité des nouveaux objets créés par un thread.</span><span class="sxs-lookup"><span data-stu-id="6af20-166">The default DACL that the system uses in the security descriptors of new objects created by a thread.</span></span> |
| [<span data-ttu-id="6af20-167">**groupes de jetons \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-167">**TOKEN\_GROUPS**</span></span>](/windows/desktop/api/Winnt/ns-winnt-token_groups)                | <span data-ttu-id="6af20-168">Spécifie les SID et les attributs des SID de groupe dans un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-168">Specifies the SIDs and attributes of the group SIDs in an access token.</span></span>                               |
| [<span data-ttu-id="6af20-169">**propriétaire du jeton \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-169">**TOKEN\_OWNER**</span></span>](/windows/desktop/api/Winnt/ns-winnt-token_owner)                  | <span data-ttu-id="6af20-170">SID de propriétaire par défaut pour les descripteurs de sécurité de nouveaux objets.</span><span class="sxs-lookup"><span data-stu-id="6af20-170">The default owner SID for the security descriptors of new objects.</span></span>                                    |
| [<span data-ttu-id="6af20-171">**\_groupe principal de jetons \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-171">**TOKEN\_PRIMARY\_GROUP**</span></span>](/windows/desktop/api/Winnt/ns-winnt-token_primary_group) | <span data-ttu-id="6af20-172">SID de groupe principal par défaut pour les descripteurs de sécurité de nouveaux objets.</span><span class="sxs-lookup"><span data-stu-id="6af20-172">The default primary group SID for the security descriptors of new objects.</span></span>                            |
| [<span data-ttu-id="6af20-173">**privilèges de jeton \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-173">**TOKEN\_PRIVILEGES**</span></span>](/windows/desktop/api/Winnt/ns-winnt-token_privileges)        | <span data-ttu-id="6af20-174">Privilèges associés à un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-174">The privileges associated with an access token.</span></span> <span data-ttu-id="6af20-175">Détermine également si les privilèges sont activés.</span><span class="sxs-lookup"><span data-stu-id="6af20-175">Also determines whether the privileges are enabled.</span></span>   |
| [<span data-ttu-id="6af20-176">**SOURCE du jeton \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-176">**TOKEN\_SOURCE**</span></span>](/windows/desktop/api/Winnt/ns-winnt-token_source)                | <span data-ttu-id="6af20-177">Source d’un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-177">The source of an access token.</span></span>                                                                        |
| [<span data-ttu-id="6af20-178">**statistiques des jetons \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-178">**TOKEN\_STATISTICS**</span></span>](/windows/desktop/api/Winnt/ns-winnt-token_statistics)        | <span data-ttu-id="6af20-179">Statistiques associées à un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-179">Statistics associated with an access token.</span></span>                                                           |
| [<span data-ttu-id="6af20-180">**utilisateur du jeton \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-180">**TOKEN\_USER**</span></span>](/windows/desktop/api/Winnt/ns-winnt-token_user)                    | <span data-ttu-id="6af20-181">SID de l’utilisateur associé à un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-181">The SID of the user associated with an access token.</span></span>                                                  |



 

<span data-ttu-id="6af20-182">Les fonctions de jeton d’accès utilisent les types d’énumération suivants.</span><span class="sxs-lookup"><span data-stu-id="6af20-182">The access token functions use the following enumeration types.</span></span>



| <span data-ttu-id="6af20-183">Type d'énumération</span><span class="sxs-lookup"><span data-stu-id="6af20-183">Enumeration type</span></span>                                             | <span data-ttu-id="6af20-184">Spécifie</span><span class="sxs-lookup"><span data-stu-id="6af20-184">Specifies</span></span>                                                                       |
|--------------------------------------------------------------|---------------------------------------------------------------------------------|
| [<span data-ttu-id="6af20-185">**\_classe d’informations de jeton \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-185">**TOKEN\_INFORMATION\_CLASS**</span></span>](/windows/desktop/api/Winnt/ne-winnt-token_information_class) | <span data-ttu-id="6af20-186">Identifie le type d’informations qui est défini ou récupéré à partir d’un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="6af20-186">Identifies the type of information being set or retrieved from an access token.</span></span> |
| [<span data-ttu-id="6af20-187">**TYPE de jeton \_**</span><span class="sxs-lookup"><span data-stu-id="6af20-187">**TOKEN\_TYPE**</span></span>](/windows/desktop/api/Winnt/ne-winnt-token_type)                            | <span data-ttu-id="6af20-188">Identifie un jeton d’accès en tant que jeton principal ou d’emprunt d’identité.</span><span class="sxs-lookup"><span data-stu-id="6af20-188">Identifies an access token as a primary or impersonation token.</span></span>                 |



 

 

 
