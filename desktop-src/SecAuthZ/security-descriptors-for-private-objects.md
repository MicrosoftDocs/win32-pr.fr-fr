---
description: Pour créer un descripteur de sécurité, un serveur protégé peut utiliser la même procédure que celle qu’une application utiliserait pour créer un descripteur de sécurité pour un objet sécurisable.
ms.assetid: f40c4b62-a3f0-4e66-875e-2ef904d052e5
title: Descripteurs de sécurité pour les objets privés
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97c40dc5c4e9f0a3d0e641874153d2862d038a19
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103951313"
---
# <a name="security-descriptors-for-private-objects"></a><span data-ttu-id="6c7f4-103">Descripteurs de sécurité pour les objets privés</span><span class="sxs-lookup"><span data-stu-id="6c7f4-103">Security Descriptors for Private Objects</span></span>

<span data-ttu-id="6c7f4-104">Pour créer un [*descripteur de sécurité*](/windows/desktop/SecGloss/s-gly), un serveur protégé peut utiliser la même procédure que celle qu’une application utiliserait pour créer un descripteur de sécurité pour un objet sécurisable.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-104">To create a [*security descriptor*](/windows/desktop/SecGloss/s-gly), a protected server can use the same procedure that an application would use to create a security descriptor for a securable object.</span></span> <span data-ttu-id="6c7f4-105">Pour obtenir un exemple de code, consultez [création d’un descripteur de sécurité pour un nouvel objet en C++](creating-a-security-descriptor-for-a-new-object-in-c--.md).</span><span class="sxs-lookup"><span data-stu-id="6c7f4-105">For sample code, see [Creating a Security Descriptor for a New Object in C++](creating-a-security-descriptor-for-a-new-object-in-c--.md).</span></span> <span data-ttu-id="6c7f4-106">Une application serveur protégée peut également appeler la fonction [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) pour effectuer cette opération.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-106">Alternatively, a protected server application can call the [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) function to do this.</span></span> <span data-ttu-id="6c7f4-107">Si un pointeur vers un [*descripteur de sécurité auto-relatif*](/windows/desktop/SecGloss/s-gly) existant est fourni à **BuildSecurityDescriptor**, il génère le nouveau descripteur de sécurité avec les informations provenant de ce descripteur de sécurité fusionnées avec les nouvelles informations de contrôle d’accès passées comme paramètres dans l’appel de fonction.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-107">If a pointer to an existing [*self-relative security descriptor*](/windows/desktop/SecGloss/s-gly) is supplied to **BuildSecurityDescriptor**, it will build the new security descriptor with information taken from that security descriptor merged with new access control information passed as parameters in the function call.</span></span> <span data-ttu-id="6c7f4-108">Le propriétaire et le groupe sont éventuellement spécifiés par les structures de [**tiers de confiance**](/windows/desktop/api/AccCtrl/ns-accctrl-trustee_a) transmises à la fonction.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-108">The owner and group are optionally specified by [**TRUSTEE**](/windows/desktop/api/AccCtrl/ns-accctrl-trustee_a) structures passed to the function.</span></span> <span data-ttu-id="6c7f4-109">Le descripteur de sécurité créé par **BuildSecurityDescriptor** est au format *auto-relatif* .</span><span class="sxs-lookup"><span data-stu-id="6c7f4-109">The security descriptor created by **BuildSecurityDescriptor** is in *self-relative* format.</span></span>

<span data-ttu-id="6c7f4-110">En outre, l’API Windows fournit un ensemble de fonctions pour fusionner les informations de sécurité du client avec les informations héritées du descripteur de sécurité pour un objet parent ou à partir d’un descripteur de sécurité par défaut.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-110">In addition, the Windows API provides a set of functions for merging client security information with information inherited from the security descriptor for a parent object or from a default security descriptor.</span></span> <span data-ttu-id="6c7f4-111">Les fonctions [**CreatePrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createprivateobjectsecurity), [**GetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getprivateobjectsecurity), [**SetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setprivateobjectsecurity)et [**DestroyPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-destroyprivateobjectsecurity) permettent de récupérer des informations par défaut à partir d’un [*jeton d’accès*](/windows/desktop/SecGloss/a-gly), de prendre en charge l’héritage et de manipuler des parties spécifiques du descripteur de sécurité.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-111">The [**CreatePrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createprivateobjectsecurity), [**GetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getprivateobjectsecurity), [**SetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setprivateobjectsecurity), and [**DestroyPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-destroyprivateobjectsecurity) functions provide the ability to retrieve default information from an [*access token*](/windows/desktop/SecGloss/a-gly), support inheritance, and manipulate specific parts of the security descriptor.</span></span> <span data-ttu-id="6c7f4-112">Cela peut être utile lorsqu’un client crée un objet privé dans une hiérarchie d’objets sécurisés.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-112">This can be useful when a client creates a private object in a hierarchy of secured objects.</span></span> <span data-ttu-id="6c7f4-113">Par exemple, vous pouvez utiliser la fonction **CreatePrivateObjectSecurity** pour créer un descripteur de sécurité qui contenait des ACE spécifiées par le client, des ACE héritées d’un objet parent et le propriétaire par défaut à partir du jeton d’accès de création du client.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-113">For example, you could use the **CreatePrivateObjectSecurity** function to create a security descriptor that contained ACEs specified by the client, ACEs inherited from a parent object, and the default owner from the creating client's access token.</span></span> <span data-ttu-id="6c7f4-114">Alors que [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) crée des descripteurs de sécurité à partir des informations de contrôle d’accès passées dans l’appel de fonction ou à partir d’un descripteur de sécurité existant, **CreatePrivateObjectSecurity** crée un descripteur de sécurité uniquement à partir des informations contenues dans les descripteurs de sécurité existants.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-114">While [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) creates security descriptors either from access control information passed into the function call or from an existing security descriptor, **CreatePrivateObjectSecurity** creates a security descriptor solely from the information in existing security descriptors.</span></span>

<span data-ttu-id="6c7f4-115">La fonction [**LookupSecurityDescriptorParts**](/windows/desktop/api/Aclapi/nf-aclapi-lookupsecuritydescriptorpartsa) obtient les informations de descripteur de sécurité à partir d’un [*descripteur de sécurité auto-relatif*](/windows/desktop/SecGloss/s-gly)existant.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-115">[**LookupSecurityDescriptorParts**](/windows/desktop/api/Aclapi/nf-aclapi-lookupsecuritydescriptorpartsa) function obtains security descriptor information from an existing [*self-relative security descriptor*](/windows/desktop/SecGloss/s-gly).</span></span> <span data-ttu-id="6c7f4-116">Ces informations incluent la spécification du propriétaire et du groupe, le nombre d’entrées de du SACL ou DACL, ainsi que la liste des ACE dans la liste SACL ou DACL.</span><span class="sxs-lookup"><span data-stu-id="6c7f4-116">This information includes the owner and group specification, the number of ACEs in the SACL or DACL, and the list of ACEs in the SACL or DACL.</span></span>

 

 
