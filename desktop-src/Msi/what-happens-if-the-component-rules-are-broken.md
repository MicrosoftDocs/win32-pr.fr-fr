---
description: Dans certains cas, les auteurs peuvent décider de rompre les règles de création de composants, comme indiqué dans Organisation des applications en composants et modification du code du composant.
ms.assetid: 487b6a00-77eb-4c51-8e32-46bcd4493df8
title: Que se passe-t-il si les règles des composants sont rompues ?
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 78f61a0a819856c5014aa70acfaeb46be5043e58
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106524297"
---
# <a name="what-happens-if-the-component-rules-are-broken"></a><span data-ttu-id="23335-103">Que se passe-t-il si les règles des composants sont rompues ?</span><span class="sxs-lookup"><span data-stu-id="23335-103">What happens if the component rules are broken?</span></span>

<span data-ttu-id="23335-104">Dans certains cas, les auteurs peuvent décider de rompre les règles de création de composants, comme indiqué dans [Organisation des applications en composants](organizing-applications-into-components.md) et [modification du code du composant](changing-the-component-code.md).</span><span class="sxs-lookup"><span data-stu-id="23335-104">In certain cases, authors may decide they need to break the rules for creating components as discussed in [Organizing Applications into Components](organizing-applications-into-components.md) and [Changing the Component Code](changing-the-component-code.md).</span></span> <span data-ttu-id="23335-105">Les auteurs doivent être conscients des conséquences possibles de cette action et doivent sinon garantir que leurs composants ne sont jamais installés lorsqu’ils peuvent endommager d’autres applications ou composants sur le système de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="23335-105">Authors need to be aware of the possible consequences of doing this and must otherwise guarantee that their components are never installed where they can damage other applications or components on the user's system.</span></span>

<span data-ttu-id="23335-106">La liste suivante décrit les façons dont les auteurs rompent parfois les règles de composant recommandées et les conséquences possibles.</span><span class="sxs-lookup"><span data-stu-id="23335-106">The following list describes ways that authors sometimes break the recommended component rules and the possible consequences.</span></span>

<span data-ttu-id="23335-107">Un auteur ajoute des ressources à un composant sans modifier le code du composant.</span><span class="sxs-lookup"><span data-stu-id="23335-107">An author adds resources to a component without the changing the component code.</span></span>

-   <span data-ttu-id="23335-108">Les produits installés avec l’ancien composant n’ont pas d’informations sur les ressources ajoutées dans leur base de données d’installation.</span><span class="sxs-lookup"><span data-stu-id="23335-108">Products installed with the old component have no information about the added resources in their installation database.</span></span>
-   <span data-ttu-id="23335-109">Si un nouveau produit contenant les ressources ajoutées et un ancien produit est installé sur le même ordinateur, les ressources peuvent être conservées en arrière-plan si le nouveau produit est désinstallé en premier.</span><span class="sxs-lookup"><span data-stu-id="23335-109">If both a new product that has the added resources and an old product are installed on the same computer, the resources can be left behind if the new product is uninstalled first.</span></span>
-   <span data-ttu-id="23335-110">Un ancien produit sans les ressources ajoutées ne peut pas réparer la version la plus récente du composant.</span><span class="sxs-lookup"><span data-stu-id="23335-110">An old product without the added resources cannot repair the newer version of the component.</span></span> <span data-ttu-id="23335-111">La réinstallation de l’ancien produit ne restaure pas les ressources ajoutées.</span><span class="sxs-lookup"><span data-stu-id="23335-111">Reinstalling the old product does not restore the added resources.</span></span>

<span data-ttu-id="23335-112">Un auteur supprime les ressources d’un composant sans modifier le code du composant.</span><span class="sxs-lookup"><span data-stu-id="23335-112">An author removes resources from a component without changing the component code.</span></span>

-   <span data-ttu-id="23335-113">Les produits installés avec le nouveau composant n’ont pas d’informations sur les ressources supprimées dans leur base de données d’installation.</span><span class="sxs-lookup"><span data-stu-id="23335-113">Products installed with the new component have no information about the removed resources in their installation database.</span></span>
-   <span data-ttu-id="23335-114">Si un ancien produit, contenant les informations sur les ressources et un nouveau produit, est installé sur le même ordinateur, les ressources peuvent être conservées en arrière-plan si l’ancien produit est désinstallé en premier.</span><span class="sxs-lookup"><span data-stu-id="23335-114">If both an old product, having the resource information, and a new product are installed on the same computer, the resources can be left behind if the old product is uninstalled first.</span></span>
-   <span data-ttu-id="23335-115">Un nouveau produit avec les ressources supprimées ne peut pas réparer l’ancienne version du produit.</span><span class="sxs-lookup"><span data-stu-id="23335-115">A new product with the removed resources cannot repair the older version of the product.</span></span> <span data-ttu-id="23335-116">La réinstallation du nouveau produit ne restaure pas les ressources supprimées.</span><span class="sxs-lookup"><span data-stu-id="23335-116">Reinstalling the new product does not restore the removed resources.</span></span>

<span data-ttu-id="23335-117">Un auteur comprend un fichier qui n’est pas compatible avec les versions précédentes sans modifier le code du composant.</span><span class="sxs-lookup"><span data-stu-id="23335-117">An author includes a file that is incompatible with previous versions without changing the component code.</span></span>

<span data-ttu-id="23335-118">Si un fichier incompatible est inclus dans un composant sans modifier le code du composant, le contrôle de [version de fichier par défaut](default-file-versioning.md) entraîne le remplacement du fichier d’origine par le fichier incompatible le plus récent.</span><span class="sxs-lookup"><span data-stu-id="23335-118">If an incompatible file is included in a component without changing the component code, [default file versioning](default-file-versioning.md) causes the installer to overwrite the original file with the more recent incompatible file.</span></span> <span data-ttu-id="23335-119">Cela peut endommager les anciens produits qui ont besoin du fichier d’origine.</span><span class="sxs-lookup"><span data-stu-id="23335-119">This can damage old products needing the original file.</span></span> <span data-ttu-id="23335-120">Il peut également empêcher le programme d’installation de réparer l’ancien produit, car la version du fichier de chemin d’accès de clé d’un composant détermine la version du composant.</span><span class="sxs-lookup"><span data-stu-id="23335-120">It may also prevent the installer from repairing the old product because the version of a component's key path file determines the version of the component.</span></span> <span data-ttu-id="23335-121">Si une version plus récente du fichier de chemin d’accès de clé est déjà installée, le programme d’installation n’installe pas une version antérieure du composant.</span><span class="sxs-lookup"><span data-stu-id="23335-121">If a newer version of the key path file is already installed, the installer does not install an older version of the component.</span></span> <span data-ttu-id="23335-122">Pour plus d’informations, consultez règles de contrôle de [version de fichier](file-versioning-rules.md).</span><span class="sxs-lookup"><span data-stu-id="23335-122">For more information, see [File Versioning Rules](file-versioning-rules.md).</span></span> <span data-ttu-id="23335-123">Dans ce cas, le nouveau produit doit être supprimé avant que l’ancien produit puisse être réinstallé.</span><span class="sxs-lookup"><span data-stu-id="23335-123">In this case, the new product must be removed before the old product can be reinstalled.</span></span>

-   <span data-ttu-id="23335-124">Le contrôle de [version de fichier par défaut](default-file-versioning.md) entraîne le remplacement du fichier d’origine par le programme d’installation le plus récent.</span><span class="sxs-lookup"><span data-stu-id="23335-124">[Default file versioning](default-file-versioning.md) causes the installer to overwrite the original file with the more recent incompatible file.</span></span>
-   <span data-ttu-id="23335-125">Les anciens produits qui ont besoin du fichier d’origine sont endommagés.</span><span class="sxs-lookup"><span data-stu-id="23335-125">Old products that need the original file are damaged.</span></span>
-   <span data-ttu-id="23335-126">Il peut également empêcher le programme d’installation de réparer l’ancien produit, car la version du fichier de chemin d’accès de clé d’un composant détermine la version du composant.</span><span class="sxs-lookup"><span data-stu-id="23335-126">It may also prevent the installer from repairing the old product because the version of a component's key path file determines the version of the component.</span></span> <span data-ttu-id="23335-127">Si une version plus récente du fichier de chemin d’accès de clé est déjà installée, le programme d’installation n’installe pas l’ancienne version du composant.</span><span class="sxs-lookup"><span data-stu-id="23335-127">If a newer version of the key path file is already installed, the installer does not install the older version of the component.</span></span> <span data-ttu-id="23335-128">Pour plus d’informations, consultez règles de contrôle de [version de fichier](file-versioning-rules.md).</span><span class="sxs-lookup"><span data-stu-id="23335-128">For more information, see [File Versioning Rules](file-versioning-rules.md).</span></span> <span data-ttu-id="23335-129">Dans ce cas, le nouveau produit doit être supprimé avant que l’ancien produit puisse être réinstallé.</span><span class="sxs-lookup"><span data-stu-id="23335-129">In this case, the new product must be removed before the old product can be reinstalled.</span></span>

<span data-ttu-id="23335-130">Un auteur comprend la même ressource dans deux composants différents.</span><span class="sxs-lookup"><span data-stu-id="23335-130">An author includes the same resource in two different components.</span></span>

<span data-ttu-id="23335-131">Si deux composants ont une ressource sous le même nom et le même emplacement et que les deux composants sont installés dans le même dossier, la suppression de l’un ou l’autre des composants supprime la ressource commune, ce qui endommage le composant restant.</span><span class="sxs-lookup"><span data-stu-id="23335-131">If two components have a resource under the same name and location and both components are installed into the same folder, then the removal of either component removes the common resource, which damages the remaining component.</span></span>

-   <span data-ttu-id="23335-132">La désinstallation de l’un des deux composants supprime la ressource et interrompt l’autre composant.</span><span class="sxs-lookup"><span data-stu-id="23335-132">Uninstalling either component removes the resource and breaks the other component.</span></span>
-   <span data-ttu-id="23335-133">Le mécanisme de décompte de références des composants est endommagé.</span><span class="sxs-lookup"><span data-stu-id="23335-133">The component reference-counting mechanism is damaged.</span></span>

 

 



