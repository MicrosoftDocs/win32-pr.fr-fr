---
description: Pour installer plusieurs instances d’un produit à partir d’un Windows Installer Package, vous devez créer un package d’installation de base pour le produit et une transformation d’instance pour chaque instance à installer en plus de l’instance de base.
ms.assetid: fef49dda-503f-4b13-8763-70cb2ee0df5d
title: Création de plusieurs instances à l’aide de transformations d’instance
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c61424efbf08ea3e726594a3073f4ce7483af57d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106544810"
---
# <a name="authoring-multiple-instances-with-instance-transforms"></a><span data-ttu-id="27942-103">Création de plusieurs instances à l’aide de transformations d’instance</span><span class="sxs-lookup"><span data-stu-id="27942-103">Authoring Multiple Instances with Instance Transforms</span></span>

<span data-ttu-id="27942-104">Pour installer plusieurs instances d’un produit à partir d’un Windows Installer Package, vous devez créer un package d’installation de base pour le produit et une transformation d’instance pour chaque instance à installer en plus de l’instance de base.</span><span class="sxs-lookup"><span data-stu-id="27942-104">To install multiple instances of a product from one Windows Installer package, you need to author a base installation package for the product and an instance transform for each instance to be installed in addition to the base instance.</span></span> <span data-ttu-id="27942-105">Utilisez les instructions suivantes lors de la création de votre package de base et des transformations :</span><span class="sxs-lookup"><span data-stu-id="27942-105">Use the following guidelines when authoring your base package and transforms:</span></span>

-   <span data-ttu-id="27942-106">Votre application de configuration peut vérifier la présence du programme d’installation qui s’exécute sur une version de Windows Vista, Windows Server 2003, Windows XP avec Service Pack 1 (SP1) et le Windows Installer 3,0 Redistributable.</span><span class="sxs-lookup"><span data-stu-id="27942-106">Your setup application can check for the presence of the installer running on a version of Windows Vista, Windows Server 2003, Windows XP with Service Pack 1 (SP1), and the Windows Installer 3.0 redistributable.</span></span> <span data-ttu-id="27942-107">N’importe laquelle de ces versions du programme d’installation (ou version ultérieure) est requise pour installer plusieurs instances à partir d’un package unique à l’aide d’un code de produit – modification de la transformation.</span><span class="sxs-lookup"><span data-stu-id="27942-107">Any of these installer versions (or later) are required to install multiple instances from a single package using a product code–changing transform.</span></span>
-   <span data-ttu-id="27942-108">Chaque instance doit avoir un code de produit et un identificateur d’instance uniques.</span><span class="sxs-lookup"><span data-stu-id="27942-108">Each instance must have a unique product code and instance identifier.</span></span> <span data-ttu-id="27942-109">Vous pouvez définir une propriété dans le package de base, dont la valeur peut être définie sur l’identificateur d’instance.</span><span class="sxs-lookup"><span data-stu-id="27942-109">You may define a property in the base package, the value of which can be set to the instance identifier.</span></span>
-   <span data-ttu-id="27942-110">Pour que les fichiers de chaque instance restent isolés, le package de base doit installer les fichiers dans un emplacement de répertoire qui dépend de l’identificateur d’instance.</span><span class="sxs-lookup"><span data-stu-id="27942-110">To keep the files of each instance isolated, the base package should install files into a directory location that depends on the instance identifier.</span></span>
-   <span data-ttu-id="27942-111">Pour que les données de chaque instance ne soient pas isolées, le package de base doit collecter des données qui ne sont pas des fichiers dans des ensembles de composants pour chaque instance.</span><span class="sxs-lookup"><span data-stu-id="27942-111">To keep the nonfile data of each instance isolated, the base package should collect nonfile data into sets of components for each instance.</span></span> <span data-ttu-id="27942-112">Les composants appropriés doivent ensuite être installés en fonction des instructions conditionnelles qui dépendent de l’identificateur d’instance.</span><span class="sxs-lookup"><span data-stu-id="27942-112">The appropriate components should then be installed based on conditional statements that depend on the instance identifier.</span></span>
-   <span data-ttu-id="27942-113">Créez une transformation d’instance pour chaque instance installée en plus de l’instance de base.</span><span class="sxs-lookup"><span data-stu-id="27942-113">Author an instance transform for each instance being installed in addition to the base instance.</span></span> <span data-ttu-id="27942-114">Le package de base peut installer sa propre instance.</span><span class="sxs-lookup"><span data-stu-id="27942-114">The base package may install its own instance.</span></span>
-   <span data-ttu-id="27942-115">La transformation d’instance doit modifier le code de produit et l’identificateur pour chaque instance.</span><span class="sxs-lookup"><span data-stu-id="27942-115">The instance transform must change the product code and identifier for each instance.</span></span>
-   <span data-ttu-id="27942-116">Il est recommandé que la transformation du produit change également le nom du produit afin que l’instance soit facilement distinguée dans Ajout/suppression de programmes via le panneau de configuration.</span><span class="sxs-lookup"><span data-stu-id="27942-116">It is recommended that the product transform also change the product name so that the instance is readily distinguished in Add/Remove Programs through Control Panel.</span></span>
-   <span data-ttu-id="27942-117">Si la transformation d’instance installe des fichiers, ceux-ci doivent être installés dans un répertoire qui dépend de l’identificateur d’instance.</span><span class="sxs-lookup"><span data-stu-id="27942-117">If the instance transform installs files, they should be installed in a directory that depends on the instance identifier.</span></span>
-   <span data-ttu-id="27942-118">Toutes les données qui ne sont pas de type fichier, telles que les clés de Registre, doivent inclure le nom de l’instance dans leur chemin d’accès pour éviter les collisions.</span><span class="sxs-lookup"><span data-stu-id="27942-118">All nonfile data, such as registry keys, should include the instance name in their path to prevent collisions.</span></span> <span data-ttu-id="27942-119">Pour ce faire, vous pouvez utiliser la propriété dont la valeur est l’identificateur d’instance dans le chemin d’accès, comme indiqué dans l’exemple suivant d’une [table de Registre](registry-table.md).</span><span class="sxs-lookup"><span data-stu-id="27942-119">This can be accomplished by using the property whose value is the instance identifier in the path as shown by the following example of a [Registry Table](registry-table.md).</span></span>



| <span data-ttu-id="27942-120">Registre</span><span class="sxs-lookup"><span data-stu-id="27942-120">Registry</span></span> | <span data-ttu-id="27942-121">Root</span><span class="sxs-lookup"><span data-stu-id="27942-121">Root</span></span> | <span data-ttu-id="27942-122">Clé</span><span class="sxs-lookup"><span data-stu-id="27942-122">Key</span></span>                                            | <span data-ttu-id="27942-123">Nom</span><span class="sxs-lookup"><span data-stu-id="27942-123">Name</span></span>         | <span data-ttu-id="27942-124">Valeur</span><span class="sxs-lookup"><span data-stu-id="27942-124">Value</span></span>           | <span data-ttu-id="27942-125">-\_</span><span class="sxs-lookup"><span data-stu-id="27942-125">Component\_</span></span>      |
|----------|------|------------------------------------------------|--------------|-----------------|------------------|
| <span data-ttu-id="27942-126">Reg1</span><span class="sxs-lookup"><span data-stu-id="27942-126">Reg1</span></span>     | <span data-ttu-id="27942-127">1</span><span class="sxs-lookup"><span data-stu-id="27942-127">1</span></span>    | <span data-ttu-id="27942-128">Logiciel \\ Microsoft \\ MyProduct \\ \[ InstanceID\]</span><span class="sxs-lookup"><span data-stu-id="27942-128">Software\\Microsoft\\MyProduct\\\[InstanceId\]</span></span> | <span data-ttu-id="27942-129">InstanceGuid</span><span class="sxs-lookup"><span data-stu-id="27942-129">InstanceGuid</span></span> | <span data-ttu-id="27942-130">\[ProductCode\]</span><span class="sxs-lookup"><span data-stu-id="27942-130">\[ProductCode\]</span></span> | <span data-ttu-id="27942-131">NonFileDataComp1</span><span class="sxs-lookup"><span data-stu-id="27942-131">NonFileDataComp1</span></span> |



 

<span data-ttu-id="27942-132">Pour plus d’informations, consultez [installation de plusieurs instances de produits et correctifs](installing-multiple-instances-of-products-and-patches.md) et [installation de plusieurs instances à l’aide de transformations d’instance](installing-multiple-instances-with-instance-transforms.md).</span><span class="sxs-lookup"><span data-stu-id="27942-132">For more information, see [Installing Multiple Instances of Products and Patches](installing-multiple-instances-of-products-and-patches.md) and [Installing Multiple Instances with Instance Transforms](installing-multiple-instances-with-instance-transforms.md).</span></span>

 

 



