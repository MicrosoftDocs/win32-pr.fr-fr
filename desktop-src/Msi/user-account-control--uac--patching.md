---
description: La mise à jour corrective du contrôle de compte d’utilisateur permet aux auteurs d’installations Windows Installer d’identifier les correctifs signés numériquement qui peuvent être appliqués ultérieurement par des utilisateurs non-administrateurs.
ms.assetid: f7d64f61-24c8-4037-a10b-d68d0e9e3c42
title: Mise à jour corrective du contrôle de compte d’utilisateur (UAC)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6d111a39245ab15b24c1734d278a8e0a477e68a6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103868833"
---
# <a name="user-account-control-uac-patching"></a><span data-ttu-id="6ce6d-103">Mise à jour corrective du contrôle de compte d’utilisateur (UAC)</span><span class="sxs-lookup"><span data-stu-id="6ce6d-103">User Account Control (UAC) Patching</span></span>

<span data-ttu-id="6ce6d-104">La mise à jour corrective du [*contrôle de compte d’utilisateur*](u-gly.md) permet aux auteurs d’installations Windows Installer d’identifier les correctifs signés numériquement qui peuvent être appliqués ultérieurement par des utilisateurs non-administrateurs.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-104">[*User Account Control*](u-gly.md) (UAC) patching enables the authors of Windows Installer installations to identify digitally-signed patches that can be applied in the future by non-administrator users.</span></span>

<span data-ttu-id="6ce6d-105">Si la signature numérique ne correspond pas au certificat, Windows Vista affiche une boîte de dialogue UAC demandant l’autorisation de l’administrateur avant d’installer le correctif.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-105">If the digital signature does not match the certificate, Windows Vista displays a UAC dialog box requesting administrator authorization before installing the patch.</span></span> <span data-ttu-id="6ce6d-106">Sur les systèmes antérieurs à Windows Vista, le programme d’installation n’applique pas un correctif signé qui ne correspond pas au certificat.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-106">On systems earlier than Windows Vista, the installer will not apply a signed patch that does not match the certificate.</span></span>

<span data-ttu-id="6ce6d-107">Si un non-administrateur tente d’appliquer un correctif à une application et que les conditions suivantes ne sont pas remplies, Windows Vista notifie l’utilisateur que l’autorisation de l’administrateur est requise avant d’installer le correctif.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-107">If a non-administrator attempts to apply a patch to an application, and the following conditions have not been met, Windows Vista will notify the user that administrator authorization is required before installing the patch.</span></span> <span data-ttu-id="6ce6d-108">Un non-administrateur peut poursuivre l’installation du correctif, sans qu’il soit nécessaire d’obtenir des autorisations d’administrateur supplémentaires, à condition que les conditions suivantes soient remplies.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-108">A non-administrator can continue installing the patch, without needing to obtain additional administrator authorization, provided the following conditions are met.</span></span>

-   <span data-ttu-id="6ce6d-109">L’application a été installée sur Windows Vista ou Windows XP à l’aide de Windows Installer 3,0 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-109">The application was installed on Windows Vista or Windows XP using Windows Installer 3.0 or later.</span></span>

    <span data-ttu-id="6ce6d-110">**Windows Server 2008 :** Non pris en charge.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-110">**Windows Server 2008:** Not supported.</span></span>

-   <span data-ttu-id="6ce6d-111">Si l’application a été installée sur Windows XP, l’application doit également avoir été installée à partir d’un support amovible, tel qu’un CD-ROM ou un DVD.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-111">If the application was installed on Windows XP, the application must also have been installed from removable media, such a CD-ROM or DVD disk.</span></span> <span data-ttu-id="6ce6d-112">Cette restriction ne s’applique pas si l’application a été installée sur Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-112">This restriction does not apply if the application was installed on Windows Vista.</span></span>
-   <span data-ttu-id="6ce6d-113">L’application n’a pas été installée à partir d’une image source [d’installation administrative](administrative-installation.md) .</span><span class="sxs-lookup"><span data-stu-id="6ce6d-113">The application was not installed from an [administrative installation](administrative-installation.md) source image.</span></span>
-   <span data-ttu-id="6ce6d-114">L’application a été installée à l’origine par ordinateur.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-114">The application was originally installed per-machine.</span></span> <span data-ttu-id="6ce6d-115">Pour plus d’informations sur la façon de permettre aux non-administrateurs d’appliquer des correctifs logiciels à des applications gérées par l’utilisateur une fois que le correctif a été approuvé par un administrateur, consultez Mise à [jour corrective Per-User applications gérées](patching-per-user-managed-applications.md).</span><span class="sxs-lookup"><span data-stu-id="6ce6d-115">For information about how to enable non-administrators to apply patches to per-user-managed applications after the patch has been approved as trusted by an administrator, see [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span></span>
-   <span data-ttu-id="6ce6d-116">La [table MsiPatchCertificate](msipatchcertificate-table.md) est présente dans le package du programme d’installation de Windows (fichier. msi) et contient les informations nécessaires pour activer le contrôle de compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-116">The [MsiPatchCertificate table](msipatchcertificate-table.md) is present in the Window Installer package (.msi file) and contains the information needed to enable UAC.</span></span> <span data-ttu-id="6ce6d-117">La table et les informations ont peut-être été incluses dans le package d’installation d’origine ou ajoutées au package par un fichier correctif Windows Installer (fichier. msp).</span><span class="sxs-lookup"><span data-stu-id="6ce6d-117">The table and information may have been be included in the original installation package or added to the package by a Windows Installer patch file (.msp file).</span></span>
-   <span data-ttu-id="6ce6d-118">Les correctifs sont signés numériquement par un certificat répertorié dans le [tableau MsiPatchCertificate](msipatchcertificate-table.md).</span><span class="sxs-lookup"><span data-stu-id="6ce6d-118">The patches are digitally signed by a certificate listed in the [MsiPatchCertificate table](msipatchcertificate-table.md).</span></span> <span data-ttu-id="6ce6d-119">Pour plus d’informations sur les certificats de signature numérique, consultez [signatures numériques et Windows Installer](digital-signatures-and-windows-installer.md).</span><span class="sxs-lookup"><span data-stu-id="6ce6d-119">For more information about digital signature certificates, see [Digital Signatures and Windows Installer](digital-signatures-and-windows-installer.md).</span></span>
-   <span data-ttu-id="6ce6d-120">La signature numérique sur le package de correctifs peut être vérifiée par rapport au certificat figurant dans la [table MsiPatchCertificate](msipatchcertificate-table.md).</span><span class="sxs-lookup"><span data-stu-id="6ce6d-120">The digital signature on the patch package can be verified against the certificate in the [MsiPatchCertificate table](msipatchcertificate-table.md).</span></span> <span data-ttu-id="6ce6d-121">Pour plus d’informations sur l’utilisation de signatures numériques, de certificats numériques et de [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust), consultez la section [sécurité](https://msdn.microsoft.com/library/cc527452.aspx) du kit de développement logiciel (SDK) Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-121">For more information about the use of digital signatures, digital certificates, and [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust), see the [Security](https://msdn.microsoft.com/library/cc527452.aspx) section of the Microsoft Windows Software Development Kit (SDK).</span></span>
-   <span data-ttu-id="6ce6d-122">Le certificat de signataire utilisé pour vérifier la signature numérique sur le package de correctifs est valide et n’a pas été révoqué.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-122">The signer certificate used to verify the digital signature on the patch package is valid and has not been revoked.</span></span>
    > [!Note]  
    > <span data-ttu-id="6ce6d-123">Bien que vous ne pouvez pas signer un correctif à l’aide d’un certificat expiré, l’évaluation d’une signature numérique sur un correctif n’échoue pas si le certificat a expiré.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-123">Although you cannot sign a patch using an expired certificate, evaluation of a digital signature on a patch does not fail if the certificate has expired.</span></span> <span data-ttu-id="6ce6d-124">L’évaluation utilise la [table MsiPatchCertificate](msipatchcertificate-table.md)en cours, qui se compose de la table MsiPatchCertificate dans le package d’origine et de toute modification apportée à la table par les correctifs séquencés avant celle en cours.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-124">Evaluation uses the current [MsiPatchCertificate table](msipatchcertificate-table.md), which consists of the MsiPatchCertificate table in the original package and any changes to the table by patches sequenced prior to the current one.</span></span> <span data-ttu-id="6ce6d-125">Un correctif peut ajouter de nouveaux certificats à la table MsiPatchCertificate pour évaluer les correctifs séquencés après le correctif actuel.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-125">A patch can add new certificates to the MsiPatchCertificate table to evaluate patches sequenced after the current patch.</span></span> <span data-ttu-id="6ce6d-126">Un certificat révoqué est toujours rejeté.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-126">A revoked certificate is always rejected.</span></span>

     

-   <span data-ttu-id="6ce6d-127">La mise à jour corrective des privilèges minimaux n’a pas été désactivée en définissant la propriété [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) ou la stratégie [DisableLUAPatching](disableluapatching.md) .</span><span class="sxs-lookup"><span data-stu-id="6ce6d-127">Least-privilege patching has not been disabled by setting the [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) property or the [DisableLUAPatching](disableluapatching.md) policy.</span></span>

<span data-ttu-id="6ce6d-128">Un correctif appliqué à l’aide de la mise à jour corrective UAC peut également être supprimé par un non-administrateur.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-128">A patch that has been applied using UAC patching can also be removed by a non-administrator.</span></span>

<span data-ttu-id="6ce6d-129">Les administrateurs peuvent appliquer des correctifs aux produits installés par ordinateur, quel que soit le paramètre de contrôle de compte d’utilisateur de l’application.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-129">Administrators can apply patches to per-machine installed products regardless of the application's UAC setting.</span></span>

<span data-ttu-id="6ce6d-130">Vous pouvez déterminer si la mise à jour corrective des privilèges minimum est activée pour une application à l’aide de la fonction [**MsiGetProductInfoEx**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoexa) pour interroger la propriété de l' \_ \_ application Lua autorisée INSTALLPROPERTY \_ , ou en utilisant la méthode [**ProductInfo**](installer-productinfo.md) pour interroger la propriété « AuthorizedLUAApp ».</span><span class="sxs-lookup"><span data-stu-id="6ce6d-130">You can determine whether least-privilege patching is enabled for an application by using the [**MsiGetProductInfoEx**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoexa) function to query for the INSTALLPROPERTY\_AUTHORIZED\_LUA\_APP property, or by using the [**ProductInfo**](installer-productinfo.md) method to query for the "AuthorizedLUAApp" property.</span></span> <span data-ttu-id="6ce6d-131">Si la valeur de l’une des propriétés est 1, l’application est activée pour la mise à jour corrective des comptes d’utilisateur de moindre privilège.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-131">If the value of either property is 1, the application is enabled for least-privilege user account patching.</span></span>

<span data-ttu-id="6ce6d-132">Un administrateur peut désactiver la mise à jour corrective des privilèges minimaux sur l’ordinateur en affectant la valeur 1 à la stratégie [DisableLUAPatching](disableluapatching.md) .</span><span class="sxs-lookup"><span data-stu-id="6ce6d-132">An administrator can disable least-privilege patching on the computer by setting the [DisableLUAPatching](disableluapatching.md) policy to 1.</span></span> <span data-ttu-id="6ce6d-133">Vous pouvez affecter la valeur 1 à la propriété [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) lors de l’installation initiale d’une application afin d’empêcher la mise à jour corrective de moindre privilège pour cette application uniquement.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-133">You can set the [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) property to 1 during the initial installation of an application to prevent least-privilege patching for that application only.</span></span>

<span data-ttu-id="6ce6d-134">Cette fonctionnalité est disponible à partir de Windows Installer version 3,0.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-134">This functionality is available beginning with Windows Installer version 3.0.</span></span> <span data-ttu-id="6ce6d-135">La mise à jour corrective du contrôle de compte d’utilisateur (UAC) a été appelée mise à jour corrective du compte d’utilisateur avec privilèges minimum dans Windows XP.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-135">User Account Control (UAC) patching was called least-privilege user account (LUA) patching in Windows XP.</span></span> <span data-ttu-id="6ce6d-136">La mise à jour corrective LUA n’est pas disponible sur Windows 2000 et Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="6ce6d-136">LUA patching is not available on Windows 2000 and Windows Server 2003.</span></span>

<span data-ttu-id="6ce6d-137">Pour plus d’informations sur la compatibilité des applications et le développement d’applications compatibles avec le contrôle de compte d’utilisateur (UAC), consultez les informations UAC fournies sur [Microsoft TechNet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc709691(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="6ce6d-137">For more information about application compatibility and developing applications that are compatible with User Account Control (UAC), see the UAC information that is provided on [Microsoft Technet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc709691(v=ws.10)).</span></span>

 

 
