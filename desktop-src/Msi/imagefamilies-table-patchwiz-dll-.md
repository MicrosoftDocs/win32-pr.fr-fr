---
description: Une famille d’images est un groupe d’une ou de plusieurs images mises à niveau d’un produit qui ont été mises à jour vers la version la plus récente.
ms.assetid: 06a77b35-b593-47e6-9083-46a6b65b7481
title: Table ImageFamilies (Patchwiz.dll)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 33ece99e3c42626eb2155f16f2198703dc31b682
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103951469"
---
# <a name="imagefamilies-table-patchwizdll"></a><span data-ttu-id="b6536-103">Table ImageFamilies (Patchwiz.dll)</span><span class="sxs-lookup"><span data-stu-id="b6536-103">ImageFamilies Table (Patchwiz.dll)</span></span>

<span data-ttu-id="b6536-104">Une famille d’images est un groupe d’une ou de plusieurs images mises à niveau d’un produit qui ont été mises à jour vers la version la plus récente.</span><span class="sxs-lookup"><span data-stu-id="b6536-104">An image family is a group of one or more upgraded images of a product that have been updated to the most recent version.</span></span> <span data-ttu-id="b6536-105">Chaque image mise à niveau ne peut appartenir qu’à une seule famille.</span><span class="sxs-lookup"><span data-stu-id="b6536-105">Each upgraded image can belong to only one family.</span></span> <span data-ttu-id="b6536-106">Les images mises à niveau appartenant à une famille d’images partagent un ou plusieurs fichiers.</span><span class="sxs-lookup"><span data-stu-id="b6536-106">Upgraded images belonging to an image family share one or more files.</span></span> <span data-ttu-id="b6536-107">Chaque famille d’images a son propre fichier cab dans le fichier. msp contenant les correctifs binaires et les nouveaux fichiers nécessaires pour mettre à jour les différences entre les fichiers cibles et les fichiers mis à niveau.</span><span class="sxs-lookup"><span data-stu-id="b6536-107">Each image family has its own cabinet file in the .msp file containing the binary patches and new files needed to update the differences between target and upgraded files.</span></span> <span data-ttu-id="b6536-108">Le fichier CAB ne réplique pas les correctifs binaires et les nouveaux fichiers utilisés par les fichiers partagés.</span><span class="sxs-lookup"><span data-stu-id="b6536-108">The cabinet file does not replicate the binary patches and new files used by the shared files.</span></span>

<span data-ttu-id="b6536-109">Une table ImageFamilies contenant au moins un enregistrement est requise dans chaque base de données de création de correctif (fichier. PCP).</span><span class="sxs-lookup"><span data-stu-id="b6536-109">An ImageFamilies table containing at least one record is required in every patch creation database (.pcp file).</span></span> <span data-ttu-id="b6536-110">Cette table est utilisée par la fonction [UiCreatePatchPackageEx](uicreatepatchpackageex--patchwiz-dll-.md) .</span><span class="sxs-lookup"><span data-stu-id="b6536-110">This table is used by the [UiCreatePatchPackageEx](uicreatepatchpackageex--patchwiz-dll-.md) function.</span></span>

<span data-ttu-id="b6536-111">La table ImageFamilies contient les informations de mise à jour corrective qui doivent être ajoutées à la [table multimédia](media-table.md).</span><span class="sxs-lookup"><span data-stu-id="b6536-111">The ImageFamilies table contains the patching information that is to be added to the [Media table](media-table.md).</span></span> <span data-ttu-id="b6536-112">Un correctif ajoute une entrée à la table des médias.</span><span class="sxs-lookup"><span data-stu-id="b6536-112">A patch adds one entry to the Media table.</span></span> <span data-ttu-id="b6536-113">Chaque enregistrement dans les tables ImageFamilies fait référence à un groupe d’images de produits associées qui ont été mises à jour vers la version la plus récente du produit.</span><span class="sxs-lookup"><span data-stu-id="b6536-113">Each record in the ImageFamilies tables refers to a group of related product images that have been updated to the most recent version of the product.</span></span>

<span data-ttu-id="b6536-114">La table ImageFamilies contient les colonnes suivantes.</span><span class="sxs-lookup"><span data-stu-id="b6536-114">The ImageFamilies table has the following columns.</span></span> <span data-ttu-id="b6536-115">Une valeur NULL peut être utilisée dans les colonnes MediaSrcPropName, MediaDiskId et FileSequenceStart si le correctif est appliqué avec Windows Installer et Patchwiz.dll version 2,0.</span><span class="sxs-lookup"><span data-stu-id="b6536-115">A null value can be used in the MediaSrcPropName, MediaDiskId, and FileSequenceStart columns if the patch is applied with Windows Installer and Patchwiz.dll version 2.0.</span></span>



| <span data-ttu-id="b6536-116">Colonne</span><span class="sxs-lookup"><span data-stu-id="b6536-116">Column</span></span>            | <span data-ttu-id="b6536-117">Type</span><span class="sxs-lookup"><span data-stu-id="b6536-117">Type</span></span>    | <span data-ttu-id="b6536-118">Clé</span><span class="sxs-lookup"><span data-stu-id="b6536-118">Key</span></span> | <span data-ttu-id="b6536-119">Nullable</span><span class="sxs-lookup"><span data-stu-id="b6536-119">Nullable</span></span> |
|-------------------|---------|-----|----------|
| <span data-ttu-id="b6536-120">Famille</span><span class="sxs-lookup"><span data-stu-id="b6536-120">Family</span></span>            | <span data-ttu-id="b6536-121">text</span><span class="sxs-lookup"><span data-stu-id="b6536-121">text</span></span>    | <span data-ttu-id="b6536-122">O</span><span class="sxs-lookup"><span data-stu-id="b6536-122">Y</span></span>   | <span data-ttu-id="b6536-123">N</span><span class="sxs-lookup"><span data-stu-id="b6536-123">N</span></span>        |
| <span data-ttu-id="b6536-124">MediaSrcPropName</span><span class="sxs-lookup"><span data-stu-id="b6536-124">MediaSrcPropName</span></span>  | <span data-ttu-id="b6536-125">text</span><span class="sxs-lookup"><span data-stu-id="b6536-125">text</span></span>    |     | <span data-ttu-id="b6536-126">O</span><span class="sxs-lookup"><span data-stu-id="b6536-126">Y</span></span>        |
| <span data-ttu-id="b6536-127">MediaDiskId</span><span class="sxs-lookup"><span data-stu-id="b6536-127">MediaDiskId</span></span>       | <span data-ttu-id="b6536-128">entier</span><span class="sxs-lookup"><span data-stu-id="b6536-128">integer</span></span> |     | <span data-ttu-id="b6536-129">O</span><span class="sxs-lookup"><span data-stu-id="b6536-129">Y</span></span>        |
| <span data-ttu-id="b6536-130">FileSequenceStart</span><span class="sxs-lookup"><span data-stu-id="b6536-130">FileSequenceStart</span></span> | <span data-ttu-id="b6536-131">entier</span><span class="sxs-lookup"><span data-stu-id="b6536-131">integer</span></span> |     | <span data-ttu-id="b6536-132">O</span><span class="sxs-lookup"><span data-stu-id="b6536-132">Y</span></span>        |
| <span data-ttu-id="b6536-133">DiskPrompt</span><span class="sxs-lookup"><span data-stu-id="b6536-133">DiskPrompt</span></span>        | <span data-ttu-id="b6536-134">text</span><span class="sxs-lookup"><span data-stu-id="b6536-134">text</span></span>    |     | <span data-ttu-id="b6536-135">O</span><span class="sxs-lookup"><span data-stu-id="b6536-135">Y</span></span>        |
| <span data-ttu-id="b6536-136">VolumeLabel</span><span class="sxs-lookup"><span data-stu-id="b6536-136">VolumeLabel</span></span>       | <span data-ttu-id="b6536-137">text</span><span class="sxs-lookup"><span data-stu-id="b6536-137">text</span></span>    |     | <span data-ttu-id="b6536-138">O</span><span class="sxs-lookup"><span data-stu-id="b6536-138">Y</span></span>        |



 

## <a name="columns"></a><span data-ttu-id="b6536-139">Colonnes</span><span class="sxs-lookup"><span data-stu-id="b6536-139">Columns</span></span>

<dl> <dt>

<span data-ttu-id="b6536-140"><span id="Family"></span><span id="family"></span><span id="FAMILY"></span>Famille</span><span class="sxs-lookup"><span data-stu-id="b6536-140"><span id="Family"></span><span id="family"></span><span id="FAMILY"></span>Family</span></span>
</dt> <dd>

<span data-ttu-id="b6536-141">La valeur entrée dans ce champ est un identificateur pour un groupe d’images de produits associées qui ont été mises à jour vers la version la plus récente du produit.</span><span class="sxs-lookup"><span data-stu-id="b6536-141">The value entered in this field is an identifier for a group of related product images that have been updated to the most recent version of the product.</span></span> <span data-ttu-id="b6536-142">Limité à un total de 8 caractères alphanumériques ou traits de soulignement.</span><span class="sxs-lookup"><span data-stu-id="b6536-142">Limited to a total of 8 alphanumeric characters or underscores.</span></span> <span data-ttu-id="b6536-143">Le programme d’installation incorpore un flux de fichier cab dans le Windows Installer fichier correctif (fichier. msp) de chaque famille dans la table.</span><span class="sxs-lookup"><span data-stu-id="b6536-143">The installer embeds a cabinet stream in the Windows Installer patch file (.msp file) for each family in the table.</span></span> <span data-ttu-id="b6536-144">Le fichier cab contient les correctifs binaires et les nouveaux fichiers nécessaires à la mise à jour d’une image cible dans une image mise à niveau du produit.</span><span class="sxs-lookup"><span data-stu-id="b6536-144">The cabinet contains the binary patches and new files required to update a target image into an upgraded image of the product.</span></span> <span data-ttu-id="b6536-145">Le programme d’installation préfixe le nom de famille avec PCW \_ CAB \_ pour générer le nom de flux de l’armoire qu’il entre dans le champ Cabinet de la nouvelle entrée de [table de médias](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="b6536-145">The installer prefixes the family name with PCW\_CAB\_ to generate the cabinet's stream name it enters into the Cabinet field of the new [Media table](media-table.md) entry.</span></span>

</dd> <dt>

<span data-ttu-id="b6536-146"><span id="MediaSrcPropName"></span><span id="mediasrcpropname"></span><span id="MEDIASRCPROPNAME"></span>MediaSrcPropName</span><span class="sxs-lookup"><span data-stu-id="b6536-146"><span id="MediaSrcPropName"></span><span id="mediasrcpropname"></span><span id="MEDIASRCPROPNAME"></span>MediaSrcPropName</span></span>
</dt> <dd>

<span data-ttu-id="b6536-147">Valeur entrée dans le champ source de la nouvelle entrée de la [table multimédia](media-table.md) de l’image mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="b6536-147">The value entered into the Source field of the new [Media table](media-table.md) entry of the upgraded image.</span></span> <span data-ttu-id="b6536-148">Ce champ peut avoir la valeur NULL uniquement si vous utilisez la version 2,0 de Patchwiz.dll et si le MinimumRequiredMsiVersion dans la [table de propriétés (Patchwiz.dll)](properties-table-patchwiz-dll-.md) a la valeur 200.</span><span class="sxs-lookup"><span data-stu-id="b6536-148">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="b6536-149"><span id="MediaDiskId"></span><span id="mediadiskid"></span><span id="MEDIADISKID"></span>MediaDiskId</span><span class="sxs-lookup"><span data-stu-id="b6536-149"><span id="MediaDiskId"></span><span id="mediadiskid"></span><span id="MEDIADISKID"></span>MediaDiskId</span></span>
</dt> <dd>

<span data-ttu-id="b6536-150">Le programme d’installation entre cette valeur dans le champ depatinage du nouvel enregistrement de la [table de médias](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="b6536-150">The installer enters this value into the DiskId field of the new [Media table](media-table.md) record.</span></span> <span data-ttu-id="b6536-151">La valeur de l’irdérapante doit être supérieure à n’importe quel didérapageur actuel dans le package cible.</span><span class="sxs-lookup"><span data-stu-id="b6536-151">The DiskID value must be greater than any current DiskID in the target package.</span></span> <span data-ttu-id="b6536-152">La limite de MediaDiskId est 32767.</span><span class="sxs-lookup"><span data-stu-id="b6536-152">The limit for MediaDiskId is 32767.</span></span> <span data-ttu-id="b6536-153">Ce champ peut avoir la valeur NULL uniquement si vous utilisez la version 2,0 de Patchwiz.dll et si le MinimumRequiredMsiVersion dans la [table de propriétés (Patchwiz.dll)](properties-table-patchwiz-dll-.md) a la valeur 200.</span><span class="sxs-lookup"><span data-stu-id="b6536-153">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="b6536-154"><span id="FileSequenceStart"></span><span id="filesequencestart"></span><span id="FILESEQUENCESTART"></span>FileSequenceStart</span><span class="sxs-lookup"><span data-stu-id="b6536-154"><span id="FileSequenceStart"></span><span id="filesequencestart"></span><span id="FILESEQUENCESTART"></span>FileSequenceStart</span></span>
</dt> <dd>

<span data-ttu-id="b6536-155">Ce champ est le numéro de séquence du fichier de départ.</span><span class="sxs-lookup"><span data-stu-id="b6536-155">This field is the sequence number for the starting file.</span></span> <span data-ttu-id="b6536-156">Ce même numéro de séquence de fichier ne doit pas exister dans deux correctifs pour le même produit.</span><span class="sxs-lookup"><span data-stu-id="b6536-156">This same file sequence number must not exist in two patches for the same product.</span></span> <span data-ttu-id="b6536-157">Pour ce faire, la valeur de ce champ doit être supérieure à tous les numéros de séquence utilisés dans les correctifs précédents ou dans le package d’installation d’origine.</span><span class="sxs-lookup"><span data-stu-id="b6536-157">To ensure this, the value in this field must be greater than all sequence numbers used in previous patches or in the original installation package.</span></span> <span data-ttu-id="b6536-158">Le numéro de séquence le plus élevé d’un correctif peut être déterminé en ajoutant le nombre total d’entrées dans le fichier CAB du correctif au numéro FileSequenceStart pour ce correctif.</span><span class="sxs-lookup"><span data-stu-id="b6536-158">The greatest sequence number in a patch can be determined by adding the total number of entries in the patch cabinet file to the FileSequenceStart number for that patch.</span></span> <span data-ttu-id="b6536-159">Une façon de déterminer cela consiste à examiner le fichier. ddf généré par [Patchwiz.dll](patchwiz-dll.md) lors de la création du correctif.</span><span class="sxs-lookup"><span data-stu-id="b6536-159">One way to determine this is to look at the .ddf file generated by [Patchwiz.dll](patchwiz-dll.md) during the creation of the patch.</span></span> <span data-ttu-id="b6536-160">La limite de FileSequenceStart est 32767.</span><span class="sxs-lookup"><span data-stu-id="b6536-160">The limit for FileSequenceStart is 32767.</span></span> <span data-ttu-id="b6536-161">Ce champ peut avoir la valeur NULL uniquement si vous utilisez la version 2,0 de Patchwiz.dll et si le MinimumRequiredMsiVersion dans la [table de propriétés (Patchwiz.dll)](properties-table-patchwiz-dll-.md) a la valeur 200.</span><span class="sxs-lookup"><span data-stu-id="b6536-161">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="b6536-162"><span id="DiskPrompt"></span><span id="diskprompt"></span><span id="DISKPROMPT"></span>DiskPrompt</span><span class="sxs-lookup"><span data-stu-id="b6536-162"><span id="DiskPrompt"></span><span id="diskprompt"></span><span id="DISKPROMPT"></span>DiskPrompt</span></span>
</dt> <dd>

<span data-ttu-id="b6536-163">Le programme d’installation entre cette valeur dans le champ DiskPrompt du nouvel enregistrement de la [table de médias](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="b6536-163">The installer enters this value into the DiskPrompt field of the new [Media table](media-table.md) record.</span></span>

</dd> <dt>

<span data-ttu-id="b6536-164"><span id="VolumeLabel"></span><span id="volumelabel"></span><span id="VOLUMELABEL"></span>VolumeLabel</span><span class="sxs-lookup"><span data-stu-id="b6536-164"><span id="VolumeLabel"></span><span id="volumelabel"></span><span id="VOLUMELABEL"></span>VolumeLabel</span></span>
</dt> <dd>

<span data-ttu-id="b6536-165">Le programme d’installation entre cette valeur dans le champ VolumeLabel du nouvel enregistrement multimédia.</span><span class="sxs-lookup"><span data-stu-id="b6536-165">The installer enters this value into the VolumeLabel field of the new Media record.</span></span>

</dd> </dl>

## <a name="remarks"></a><span data-ttu-id="b6536-166">Notes</span><span class="sxs-lookup"><span data-stu-id="b6536-166">Remarks</span></span>

<span data-ttu-id="b6536-167">Le correctif ajoute le nom de l’armoire dans le fichier. msp au champ Cabinet du nouvel enregistrement ajouté à la [table multimédia](media-table.md).</span><span class="sxs-lookup"><span data-stu-id="b6536-167">The patch adds the name of the cabinet in the .msp file to the Cabinet field of the new record added to the [Media table](media-table.md).</span></span> <span data-ttu-id="b6536-168">Étant donné qu’il s’agit d’un fichier CAB incorporé, le nom est préfixé avec un \# caractère «».</span><span class="sxs-lookup"><span data-stu-id="b6536-168">Because it is an embedded cabinet, the name is prefixed with a '\#' character.</span></span> <span data-ttu-id="b6536-169">Le correctif ajoute une propriété au champ source du nouvel enregistrement dans la table multimédia.</span><span class="sxs-lookup"><span data-stu-id="b6536-169">The patch adds a property to the Source field of the new record in the Media table.</span></span> <span data-ttu-id="b6536-170">Deux correctifs ne peuvent pas avoir la même propriété source.</span><span class="sxs-lookup"><span data-stu-id="b6536-170">No two patches may have the same source property.</span></span>

<span data-ttu-id="b6536-171">Les fichiers qui sont partagés dans la famille d’images doivent avoir la même clé de table de fichiers dans chaque image mise à niveau de la famille.</span><span class="sxs-lookup"><span data-stu-id="b6536-171">The files that are shared within the image family must have the same file table key in each upgraded image of the family.</span></span> <span data-ttu-id="b6536-172">Toutes les clés de table de fichiers partagées entre les images mises à niveau doivent représenter le même fichier et doivent être identiques dans toutes les images mises à niveau.</span><span class="sxs-lookup"><span data-stu-id="b6536-172">Any file table keys shared among the upgraded images must represent the same file and must be identical in all the upgraded images.</span></span> <span data-ttu-id="b6536-173">La clé de table de fichier est la valeur entrée dans la colonne fichier de la [table de fichiers](file-table.md).</span><span class="sxs-lookup"><span data-stu-id="b6536-173">The file table key is the value entered in the File column of the [File table](file-table.md).</span></span>

<span data-ttu-id="b6536-174">La limite pour MediaDiskId et FileSequenceStart est 32767.</span><span class="sxs-lookup"><span data-stu-id="b6536-174">The limit for MediaDiskId and FileSequenceStart is 32767.</span></span> <span data-ttu-id="b6536-175">Pour augmenter cette limite, exportez la table ImageFamilies vers un fichier. IDT avec [Msidb.exe](msidb-exe.md) et remplacez le type de colonne I2 par i4, ou de I2 par i4, puis importez à nouveau le fichier. IDT dans la base de données. PCP.</span><span class="sxs-lookup"><span data-stu-id="b6536-175">To increase this limit export the ImageFamilies table to an .idt file with [Msidb.exe](msidb-exe.md) and change the column type from i2 to i4, or from I2 to I4, and then import the .idt file back into the .pcp database.</span></span> <span data-ttu-id="b6536-176">Les transformations et les correctifs ne peuvent pas être créés entre deux packages ayant des types de colonnes différents.</span><span class="sxs-lookup"><span data-stu-id="b6536-176">Transforms and patches cannot be created between two packages having different column types.</span></span>

 

 



