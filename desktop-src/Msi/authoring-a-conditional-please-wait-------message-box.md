---
description: L’exemple suivant montre comment créer une boîte de message conditionnelle qui s’affiche et avertit l’utilisateur qu’une tâche en arrière-plan est toujours en cours d’exécution chaque fois que l’utilisateur active un contrôle affiché prématurément.
ms.assetid: 4a99a96b-50c2-42eb-82ad-acdfa186a71f
title: Création d’un «Veuillez patienter. . ." Boîte de message
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 71c5f0cb1e4f1a0224c3b71d42d6fc63c1940483
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104528864"
---
# <a name="authoring-a-conditional-please-wait-message-box"></a><span data-ttu-id="c8f80-106">Création d’une condition « Veuillez patienter... » Boîte de message</span><span class="sxs-lookup"><span data-stu-id="c8f80-106">Authoring a Conditional "Please Wait..." Message Box</span></span>

<span data-ttu-id="c8f80-107">L’exemple suivant montre comment créer une boîte de message conditionnelle qui s’affiche et avertit l’utilisateur qu’une tâche en arrière-plan est toujours en cours d’exécution chaque fois que l’utilisateur active un contrôle affiché prématurément.</span><span class="sxs-lookup"><span data-stu-id="c8f80-107">The following example illustrates how to author a conditional message box that pops up and warns the user that a background task is still running whenever the user activates a displayed control prematurely.</span></span>

<span data-ttu-id="c8f80-108">L’exemple illustre également comment le [ControlEvent, SpawnWaitDialog](spawnwaitdialog-controlevent.md) peut généralement être utilisé pour protéger un contrôle qui déclenche une action en fonction de la fin d’une tâche en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="c8f80-108">The example also illustrates how the [SpawnWaitDialog ControlEvent](spawnwaitdialog-controlevent.md) can generally be used to protect a control that triggers an action dependent upon the completion of a background task.</span></span>

<span data-ttu-id="c8f80-109">Dans cet exemple, une [boîte de dialogue de sélection](selection-dialog.md) contenant trois contrôles de bouton de commande étiquetés **Installer maintenant**, **suivant** et **coût du disque** s’affiche pour l’utilisateur pendant le processus d’installation.</span><span class="sxs-lookup"><span data-stu-id="c8f80-109">In this example, a [Selection Dialog](selection-dialog.md) containing three push button controls labeled **Install Now**, **Next**, and **Disk Cost** is displayed to the user during the installation process.</span></span> <span data-ttu-id="c8f80-110">Toutefois, le programme d’installation effectue également une tâche de coût de l’espace disque en arrière-plan lors de l’affichage de cette boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="c8f80-110">However, the installer also carries out a disk space costing task in the background while displaying this dialog box.</span></span> <span data-ttu-id="c8f80-111">L’auteur souhaite protéger ces boutons de l’activation et souhaite qu’une boîte de message « Veuillez patienter » s’affiche si l’utilisateur clique sur l’un des boutons avant que l’évaluation des coûts soit terminée.</span><span class="sxs-lookup"><span data-stu-id="c8f80-111">The author wishes to protect these buttons from activation and wants a "Please wait" message box to pop up if the user clicks any of the buttons before the costing has completed.</span></span> <span data-ttu-id="c8f80-112">L’auteur souhaite également que cette boîte de message contienne un bouton **Annuler** et disparaisse dès que la tâche en arrière-plan est terminée.</span><span class="sxs-lookup"><span data-stu-id="c8f80-112">The author also wants this message box to contain a **Cancel** button and to disappear as soon as the background task is finished.</span></span>

<span data-ttu-id="c8f80-113">**Pour afficher une boîte de dialogue demandant à l’utilisateur d’attendre l’achèvement de l’évaluation des coûts du disque en arrière-plan**</span><span class="sxs-lookup"><span data-stu-id="c8f80-113">**To display a dialog box asking the user to wait while background disk costing is completed**</span></span>

1.  <span data-ttu-id="c8f80-114">Utilisez les fonctionnalités de création du programme d’installation pour ajouter une nouvelle boîte de dialogue modale, nommée **WaitForCosting**, à la [table de dialogue](dialog-table.md).</span><span class="sxs-lookup"><span data-stu-id="c8f80-114">Use the authoring capabilities of the installer to add a new modal dialog box, named **WaitForCosting**, into the [Dialog table](dialog-table.md).</span></span> <span data-ttu-id="c8f80-115">La boîte de dialogue doit afficher une chaîne de texte indiquant « Veuillez patienter pendant l’exécution du coût de l’espace disque ».</span><span class="sxs-lookup"><span data-stu-id="c8f80-115">The dialog box should display a text string that says "Please wait while disk space costing is completed."</span></span>
2.  <span data-ttu-id="c8f80-116">Ajoutez un contrôle de bouton de commande unique à cette boîte de dialogue, intitulé **Annuler**, en le créant dans la [table de contrôle](control-table.md).</span><span class="sxs-lookup"><span data-stu-id="c8f80-116">Add a single push button control to this dialog box, labeled **Cancel**, by authoring it into the [Control table](control-table.md).</span></span>
3.  <span data-ttu-id="c8f80-117">Liez le bouton **Annuler** Push à un ControlEvent, qui ferme la boîte de dialogue **WaitForCosting** en créant un [ControlEvent, EndDialog](enddialog-controlevent.md) dans la [table ControlEvent,](controlevent-table.md).</span><span class="sxs-lookup"><span data-stu-id="c8f80-117">Link the **Cancel** push button to a ControlEvent that closes the **WaitForCosting** dialog box by authoring an [EndDialog ControlEvent](enddialog-controlevent.md) into the [ControlEvent table](controlevent-table.md).</span></span> <span data-ttu-id="c8f80-118">Définissez l’argument de l’événement de contrôle EndDialog sur Exit.</span><span class="sxs-lookup"><span data-stu-id="c8f80-118">Set the argument of the EndDialog Control event to be Exit.</span></span>
4.  <span data-ttu-id="c8f80-119">Liez un [ControlEvent, SpawnWaitDialog](spawnwaitdialog-controlevent.md) aux contrôles de bouton d’installation de l' **installation** existante, **suivant** et du **coût du disque** affichés dans la boîte de dialogue de [sélection](selection-dialog.md) .</span><span class="sxs-lookup"><span data-stu-id="c8f80-119">Link a [SpawnWaitDialog ControlEvent](spawnwaitdialog-controlevent.md) to the existing **Install Now**, **Next**, and **Disk Cost** push button controls displayed in the [Selection Dialog](selection-dialog.md) box.</span></span> <span data-ttu-id="c8f80-120">Définissez l’argument de ce ControlEvent, dans la table ControlEvent, comme boîte de dialogue **WaitForCosting** et définissez l’expression dans la colonne condition de la table sur : [**CostingComplete**](costingcomplete.md) = 1.</span><span class="sxs-lookup"><span data-stu-id="c8f80-120">Set the argument of this ControlEvent in the ControlEvent table to be the **WaitForCosting** dialog box and set the expression in the Condition column of the table to be: [**CostingComplete**](costingcomplete.md) =1.</span></span>

 

 



