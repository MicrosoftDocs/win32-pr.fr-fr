---
description: La capacité des Windows Installer à définir des autorisations d’accès sur les services, les fichiers, les dossiers créés et les entrées de Registre peut aider à renforcer la sécurité des applications d’installation.
ms.assetid: a25fcecf-f15f-4772-8f41-d03864484cc9
title: Sécurisation des ressources
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 415fe7b2df343a54aa0819031f4fd22b05857618
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106534312"
---
# <a name="securing-resources"></a><span data-ttu-id="df873-103">Sécurisation des ressources</span><span class="sxs-lookup"><span data-stu-id="df873-103">Securing Resources</span></span>

<span data-ttu-id="df873-104">La capacité des Windows Installer à définir des autorisations d’accès sur les services, les fichiers, les dossiers créés et les entrées de Registre peut aider à renforcer la sécurité des applications d’installation.</span><span class="sxs-lookup"><span data-stu-id="df873-104">The capability of the Windows Installer to set access permissions on services, files, created folders, and registry entries can help make installation applications more secure.</span></span> <span data-ttu-id="df873-105">L’utilisation des tables [MsiLockPermissionsEx](msilockpermissionsex-table.md) ou [LockPermissions](lockpermissions-table.md) pour sécuriser les ressources est l’une des [recommandations recommandées pour la création d’installations sécurisées](guidelines-for-authoring-secure-installations.md).</span><span class="sxs-lookup"><span data-stu-id="df873-105">The use of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) or [LockPermissions](lockpermissions-table.md) tables to secure resources is one of the recommended [Guidelines for Authoring Secure Installations](guidelines-for-authoring-secure-installations.md).</span></span> <span data-ttu-id="df873-106">La table MsiLockPermissionsEx peut permettre à un auteur de package de sécuriser une ressource sans avoir à écrire une [action personnalisée](custom-actions.md).</span><span class="sxs-lookup"><span data-stu-id="df873-106">The MsiLockPermissionsEx table can enable a package author to secure a resource without having to write a [custom action](custom-actions.md).</span></span>

<span data-ttu-id="df873-107">À partir de packages développés pour Windows Installer 5,0, la table [MsiLockPermissionsEx](msilockpermissionsex-table.md) doit remplacer l’utilisation de la table [LockPermissions](lockpermissions-table.md) .</span><span class="sxs-lookup"><span data-stu-id="df873-107">Beginning with packages developed for Windows Installer 5.0, the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table should replace the use of the [LockPermissions](lockpermissions-table.md) table.</span></span> <span data-ttu-id="df873-108">Les fonctionnalités étendues fournies par la table MsiLockPermissionsEx permettent à un package de sécuriser les [services](../services/services.md)Windows, les fichiers, les dossiers et les clés de registre.</span><span class="sxs-lookup"><span data-stu-id="df873-108">The extended functionality provided by the MsiLockPermissionsEx table enables a package to secure Windows [Services](../services/services.md), files, folders, and registry keys.</span></span> <span data-ttu-id="df873-109">Un package ne doit pas contenir à la fois les tables MsiLockPermissionsEx et LockPermissions.</span><span class="sxs-lookup"><span data-stu-id="df873-109">A package should not contain both the MsiLockPermissionsEx and the LockPermissions tables.</span></span>

<span data-ttu-id="df873-110">Windows Installer 4,5 et les versions antérieures ignorent la [table MsiLockPermissionsEx](msilockpermissionsex-table.md).</span><span class="sxs-lookup"><span data-stu-id="df873-110">Windows Installer 4.5 and earlier ignores the [MsiLockPermissionsEx table](msilockpermissionsex-table.md).</span></span> <span data-ttu-id="df873-111">À partir de Windows Installer 5,0, l’installation échoue avec un message d’erreur 1941 si le package contient à la fois une [table LockPermissions](lockpermissions-table.md) et une table MsiLockPermissionsEx.</span><span class="sxs-lookup"><span data-stu-id="df873-111">Beginning with Windows Installer 5.0, the installation fails with an error message 1941 if the package contains both a [LockPermissions table](lockpermissions-table.md) and MsiLockPermissionsEx table.</span></span> <span data-ttu-id="df873-112">Les packages d’installation existants qui contiennent uniquement la table LockPermissions peuvent toujours être installés à l’aide de Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="df873-112">Existing installation packages that contain only the LockPermissions table can be still be installed using Windows Installer 5.0.</span></span>

<span data-ttu-id="df873-113">Windows Installer 5,0 traite les informations dans la table [MsiLockPermissionsEx](msilockpermissionsex-table.md) lorsqu’il exécute les actions standard [InstallFiles](installfiles-action.md), [InstallServices](installservices-action.md), [WriteRegistryValues](writeregistryvalues-action.md) et [CreateFolders](createfolders-action.md) .</span><span class="sxs-lookup"><span data-stu-id="df873-113">Windows Installer 5.0 processes the information in the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table when it runs the [InstallFiles](installfiles-action.md), [InstallServices](installservices-action.md), [WriteRegistryValues](writeregistryvalues-action.md) and [CreateFolders](createfolders-action.md) standard actions.</span></span> <span data-ttu-id="df873-114">Un objet sécurisable doit être installé ou réinstallé pour être sécurisé et il n’est pas possible d’ajouter une [liste de Access Control](../secauthz/access-control-lists.md) (ACL) à un objet existant sans réinstaller cet objet.</span><span class="sxs-lookup"><span data-stu-id="df873-114">A securable object must be installed or reinstalled to be secured and it is not possible to append an [Access Control List](../secauthz/access-control-lists.md) (ACL) to an existing object without reinstalling that object.</span></span>

<span data-ttu-id="df873-115">Pour spécifier le service, le fichier, le répertoire ou la clé de Registre à sécuriser, entrez les informations d’identification dans les champs LockObject et table de la table [MsiLockPermissionsEx](msilockpermissionsex-table.md) .</span><span class="sxs-lookup"><span data-stu-id="df873-115">To specify the service, file, directory, or registry key that is to be secured, enter the identifying information in the LockObject and Table fields of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table.</span></span> <span data-ttu-id="df873-116">Un objet est identifié par sa clé primaire dans la table [ServiceInstall](serviceinstall-table.md), la table de [fichiers](file-table.md), la table de [Registre](registry-table.md)ou la [table CreateFolder](createfolder-table.md).</span><span class="sxs-lookup"><span data-stu-id="df873-116">An object is identified by it's primary key in the [ServiceInstall Table](serviceinstall-table.md), [File Table](file-table.md), [Registry Table](registry-table.md), or [CreateFolder Table](createfolder-table.md).</span></span>

<span data-ttu-id="df873-117">Pour demander que les autorisations spécifiées s’appliquent à un objet, entrez une chaîne de descripteur de sécurité valide dans le champ *SDDLText* de la table [MsiLockPermissionsEx](msilockpermissionsex-table.md) à l’aide du langage SDDL ( [Security Descriptor Definition Language](../secauthz/security-descriptor-definition-language.md) ) valide.</span><span class="sxs-lookup"><span data-stu-id="df873-117">To request that specified permissions apply to an object, enter a valid security descriptor string in the *SDDLText* field of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table using valid [security descriptor definition language](../secauthz/security-descriptor-definition-language.md) (SDDL).</span></span> <span data-ttu-id="df873-118">La table **MsiLockPermissionsEx** peut spécifier un descripteur de sécurité qui refuse des autorisations, spécifie l’héritage des autorisations d’une ressource parent ou spécifie les autorisations d’un nouveau compte.</span><span class="sxs-lookup"><span data-stu-id="df873-118">The **MsiLockPermissionsEx** table can specify a security descriptor that denies permissions, specifies inheritance of permissions from a parent resource, or specifies the permissions of a new account.</span></span> <span data-ttu-id="df873-119">Pour obtenir la liste de toutes les autorisations qui peuvent être accordées, refusées ou héritées, consultez [chaînes ACE](../secauthz/ace-strings.md).</span><span class="sxs-lookup"><span data-stu-id="df873-119">For a list of all the permissions that can be granted, denied, or inherited see [ACE Strings](../secauthz/ace-strings.md).</span></span> <span data-ttu-id="df873-120">Windows Installer 5,0 étend l’ensemble des identificateurs de sécurité (SID) disponibles. Pour obtenir la liste des SID valides, consultez [sid Strings](../secauthz/sid-strings.md).</span><span class="sxs-lookup"><span data-stu-id="df873-120">Windows Installer 5.0 extends the set of available security identifiers (SIDs.) For a list of the valid SIDs, see [SID Strings](../secauthz/sid-strings.md).</span></span>

> [!NOTE]
> <span data-ttu-id="df873-121">Si vous souhaitez configurer le descripteur de sécurité d’une ressource parente pour spécifier que ses autorisations doivent être héritées par les objets enfants, votre programme d’installation doit appliquer des autorisations à la ressource parente avant de créer les objets enfants.</span><span class="sxs-lookup"><span data-stu-id="df873-121">If you want to configure the security descriptor of a parent resource to specify that that its permissions be inherited by child objects, your installer must apply permissions to the parent resource before it creates the child objects.</span></span> <span data-ttu-id="df873-122">Si votre programme d’installation crée les objets enfants avant d’appliquer les autorisations pouvant être héritées à la ressource parente, les autorisations de la ressource parent ne seront pas propagées aux objets enfants.</span><span class="sxs-lookup"><span data-stu-id="df873-122">If your installer creates the child objects before it applies the inheritable permissions to the parent resource, the permissions of the parent resource will not propagate to the child objects.</span></span>

<span data-ttu-id="df873-123">À partir de Windows Installer 5,0, le type de données [FormattedSDDLText](formattedsddltext.md) étend le type de données [mis en forme](formatted.md) .</span><span class="sxs-lookup"><span data-stu-id="df873-123">Beginning with Windows Installer 5.0, the [FormattedSDDLText](formattedsddltext.md) data type extends the [Formatted](formatted.md) data type.</span></span> <span data-ttu-id="df873-124">Le Windows Installer valide que la chaîne FormattedSDDLText entrée dans la colonne SDDLText de la table [MsiLockPermissionsEx](msilockpermissionsex-table.md) est conforme au [format de chaîne du descripteur de sécurité](../secauthz/security-descriptor-string-format.md).</span><span class="sxs-lookup"><span data-stu-id="df873-124">The Windows Installer validates that the FormattedSDDLText string entered in the SDDLText column of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table conforms to the [Security Descriptor String Format](../secauthz/security-descriptor-string-format.md).</span></span>

<span data-ttu-id="df873-125">**[Windows Installer 4,5 ou version antérieure](not-supported-in-windows-installer-4-5.md):** Non pris en charge.</span><span class="sxs-lookup"><span data-stu-id="df873-125">**[Windows Installer 4.5 or earlier](not-supported-in-windows-installer-4-5.md):** Not supported.</span></span> <span data-ttu-id="df873-126">La table [MsiLockPermissionsEx](msilockpermissionsex-table.md) et le type de données [FormattedSDDLText](formattedsddltext.md) sont disponibles à partir de Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="df873-126">The [MsiLockPermissionsEx](msilockpermissionsex-table.md) table and [FormattedSDDLText](formattedsddltext.md) data type are available beginning with Windows Installer 5.0.</span></span>

 

 
