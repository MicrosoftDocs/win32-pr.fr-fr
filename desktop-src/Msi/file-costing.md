---
description: L’évaluation des coûts est le processus qui consiste à déterminer l’espace disque total requis pour une installation.
ms.assetid: 53ebb532-9eb3-46b7-9dcc-f593bfd25c60
title: Coût des fichiers
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 55a4e6221775c2b9ecc429bd32f136e519a2b63b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106533619"
---
# <a name="file-costing"></a><span data-ttu-id="7f33a-103">Coût des fichiers</span><span class="sxs-lookup"><span data-stu-id="7f33a-103">File Costing</span></span>

<span data-ttu-id="7f33a-104">L’évaluation des coûts est le processus qui consiste à déterminer l’espace disque total requis pour une installation.</span><span class="sxs-lookup"><span data-stu-id="7f33a-104">Costing is the process of determining the total disk space requirements for an installation.</span></span> <span data-ttu-id="7f33a-105">Les éléments calculés dans le processus de coût des fichiers incluent la quantité d’espace disque dans laquelle les fichiers sont installés ou supprimés, ainsi que la quantité d’espace disque occupée par les entrées de Registre, les raccourcis et d’autres fichiers divers.</span><span class="sxs-lookup"><span data-stu-id="7f33a-105">The elements calculated in the file costing process include the amount of disk space in which files are installed or removed, as well as the amount of disk space taken up by registry entries, shortcuts, and other miscellaneous files.</span></span> <span data-ttu-id="7f33a-106">Les fichiers existants planifiés pour être remplacés sont également calculés dans les totaux de coût du disque.</span><span class="sxs-lookup"><span data-stu-id="7f33a-106">Existing files scheduled to be overwritten are also calculated in the disk cost totals.</span></span>

<span data-ttu-id="7f33a-107">Les coûts totaux sont accumulés pour chaque[composant](components-and-features.md) et se composent de trois parties distinctes : les coûts locaux, les coûts de source et les coûts de suppression.</span><span class="sxs-lookup"><span data-stu-id="7f33a-107">Total costs are accumulated on a per-[component](components-and-features.md) basis and consist of three separate parts: local costs, source costs, and removal costs.</span></span> <span data-ttu-id="7f33a-108">Ces éléments correspondent au coût du disque qui est encouru si le composant est installé localement, installé pour s’exécuter à partir du média source ou supprimé.</span><span class="sxs-lookup"><span data-stu-id="7f33a-108">These parts correspond to the disk cost that is incurred if the component is installed locally, installed to run from the source media, or removed.</span></span>

<span data-ttu-id="7f33a-109">Tous les calculs impliquant le coût d’installation des fichiers dépendent du volume de disque sur lequel le fichier doit être installé ou supprimé.</span><span class="sxs-lookup"><span data-stu-id="7f33a-109">All calculations involving the cost of installing files depend upon the disk volume to which the file is to be installed or removed.</span></span> <span data-ttu-id="7f33a-110">Chaque fois que le répertoire associé à un composant change, les coûts des fichiers d’installation contrôlés par ce composant doivent être recalculés.</span><span class="sxs-lookup"><span data-stu-id="7f33a-110">Each time the directory associated with a component changes, the costs of the installation files controlled by that component must be recalculated.</span></span> <span data-ttu-id="7f33a-111">Par exemple, étant donné qu’une modification de répertoire peut également impliquer une modification de volume, les tailles de fichiers en cluster doivent être recalculées.</span><span class="sxs-lookup"><span data-stu-id="7f33a-111">For example, because a directory change might also imply a volume change, the clustered file sizes must be recalculated.</span></span> <span data-ttu-id="7f33a-112">En outre, le nouveau répertoire doit être vérifié pour déterminer si des fichiers existants pouvant être remplacés doivent être pris en compte.</span><span class="sxs-lookup"><span data-stu-id="7f33a-112">In addition, the new directory must be checked to determine whether any existing files that may be overwritten must be taken into account.</span></span>

<span data-ttu-id="7f33a-113">Une fois l’action [CostInitialize](costinitialize-action.md) appelée, l’action [FileCost](filecost-action.md) doit être appelée.</span><span class="sxs-lookup"><span data-stu-id="7f33a-113">After the [CostInitialize](costinitialize-action.md) action is called, the [FileCost](filecost-action.md) action must be called.</span></span> <span data-ttu-id="7f33a-114">L’action CostInitialize initialise les routines internes du programme d’installation qui calculent dynamiquement les coûts de disque associés aux actions d’installation standard.</span><span class="sxs-lookup"><span data-stu-id="7f33a-114">The CostInitialize action initializes the installer's internal routines that dynamically calculate the disk costs involved with the standard installation actions.</span></span> <span data-ttu-id="7f33a-115">Aucun autre calcul de coût dynamique n’est effectué à ce stade.</span><span class="sxs-lookup"><span data-stu-id="7f33a-115">No other dynamic cost calculations are done at this point.</span></span>

<span data-ttu-id="7f33a-116">Ensuite, l’action [CostFinalize](costfinalize-action.md) doit être appelée.</span><span class="sxs-lookup"><span data-stu-id="7f33a-116">Next, the [CostFinalize](costfinalize-action.md) action must be called.</span></span> <span data-ttu-id="7f33a-117">Cette action permet de finaliser tous les calculs de coûts et de rendre disponibles les données de coût dans la table des [composants](component-table.md) .</span><span class="sxs-lookup"><span data-stu-id="7f33a-117">This action finalizes all cost calculations and makes the costing data available through the [Component](component-table.md) table.</span></span>

<span data-ttu-id="7f33a-118">Une fois l’exécution de l’action [CostFinalize](costfinalize-action.md) terminée, la table des [composants](component-table.md) est entièrement initialisée et une séquence de la boîte de dialogue de l’interface utilisateur contenant un contrôle [SelectionTree](selectiontree-control.md) peut être lancée si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="7f33a-118">After the [CostFinalize](costfinalize-action.md) action completes execution, the [Component](component-table.md) table is fully initialized and a user interface dialog box sequence containing a [SelectionTree](selectiontree-control.md) control can be initiated if needed.</span></span> <span data-ttu-id="7f33a-119">Les boîtes de dialogue de l’interface utilisateur peuvent offrir la possibilité de modifier l’état de sélection ou le répertoire de destination des fonctionnalités de la table de [fonctionnalités](feature-table.md) pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="7f33a-119">The user interface dialog boxes may offer the option to change the selection state or destination directory of any feature in the [Feature](feature-table.md) table to the user.</span></span> <span data-ttu-id="7f33a-120">Le processus est similaire lorsque l’état de sélection d’un composant change ; Toutefois, dans ce cas, le coût dynamique du composant modifié est uniquement recalculé.</span><span class="sxs-lookup"><span data-stu-id="7f33a-120">The process is similar when the selection state of a component changes; however, in this case, the dynamic cost of the changed component only is recalculated.</span></span>

<span data-ttu-id="7f33a-121">Une fois que l’utilisateur a terminé de sélectionner des fonctionnalités dans l’interface utilisateur, l’action [InstallValidate](installvalidate-action.md) doit être appelée.</span><span class="sxs-lookup"><span data-stu-id="7f33a-121">Once the user has completed selecting features in the user interface, the [InstallValidate](installvalidate-action.md) action should be called.</span></span> <span data-ttu-id="7f33a-122">Cette action permet de vérifier que tous les volumes auxquels le coût a été attribué disposent d’un espace suffisant pour l’installation.</span><span class="sxs-lookup"><span data-stu-id="7f33a-122">This action verifies that all volumes to which cost has been attributed have sufficient space for the installation.</span></span>

 

 



