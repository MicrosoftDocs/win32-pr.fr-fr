---
description: Les auteurs des packages d’installation doivent inclure des informations de mise à niveau dans leurs fichiers. msi pour s’assurer que leur package d’installation peut tirer parti de la fonctionnalité de mise à niveau complète disponible avec la Microsoft Windows Installer.
ms.assetid: 88bb2709-a1bf-4140-a145-ae6bee85dde1
title: Préparation d’une application pour les futures mises à niveau majeures
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c1e0dc9ccbee10becc39274e91d2fedeb3707028
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106524173"
---
# <a name="preparing-an-application-for-future-major-upgrades"></a><span data-ttu-id="28fdb-103">Préparation d’une application pour les futures mises à niveau majeures</span><span class="sxs-lookup"><span data-stu-id="28fdb-103">Preparing an Application for Future Major Upgrades</span></span>

<span data-ttu-id="28fdb-104">Les auteurs des packages d’installation doivent inclure des informations de mise à niveau dans leurs fichiers. msi pour s’assurer que leur package d’installation peut tirer parti de la fonctionnalité de mise à niveau complète disponible avec la Microsoft Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="28fdb-104">Authors of installation packages should include upgrading information in their .msi files to ensure that their installation package can take advantage of the full upgrading functionality available with the Microsoft Windows Installer.</span></span>

<span data-ttu-id="28fdb-105">Chaque application ou suite d’applications doit être assignée à la propriété [**UpgradeCode**](upgradecode.md) , à la propriété [**ProductVersion**](productversion.md) et à la propriété [**ProductLanguage**](productlanguage.md) .</span><span class="sxs-lookup"><span data-stu-id="28fdb-105">Every application, or suite of applications, should be assigned an [**UpgradeCode**](upgradecode.md) Property, [**ProductVersion**](productversion.md) Property, and [**ProductLanguage**](productlanguage.md) Property.</span></span> <span data-ttu-id="28fdb-106">La propriété [**UpgradeCode**](upgradecode.md) indique une famille d’applications associées qui se composent de versions différentes et de différentes versions linguistiques du même produit.</span><span class="sxs-lookup"><span data-stu-id="28fdb-106">The [**UpgradeCode**](upgradecode.md) property indicates a family of related applications consisting of different versions and different language versions of the same product.</span></span> <span data-ttu-id="28fdb-107">Pour plus d’informations sur l’utilisation de la propriété [**UpgradeCode**](upgradecode.md) , consultez [utilisation d’une UpgradeCode](using-an-upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="28fdb-107">For more information about using the [**UpgradeCode**](upgradecode.md) property, see [Using an UpgradeCode](using-an-upgradecode.md).</span></span>

<span data-ttu-id="28fdb-108">**Préparation d’une application pour les futures mises à niveau majeures**</span><span class="sxs-lookup"><span data-stu-id="28fdb-108">**Preparing an application for future major upgrades**</span></span>

1.  <span data-ttu-id="28fdb-109">Déterminez une nouvelle valeur de code de package pour l’application.</span><span class="sxs-lookup"><span data-stu-id="28fdb-109">Determine a new package code value for the application.</span></span> <span data-ttu-id="28fdb-110">Pour plus d’informations sur les codes de package, consultez [codes de package](package-codes.md).</span><span class="sxs-lookup"><span data-stu-id="28fdb-110">For more information about package codes, see [Package Codes](package-codes.md).</span></span> <span data-ttu-id="28fdb-111">Entrez le nouveau code de package dans la propriété [**Résumé du numéro de révision**](revision-number-summary.md) du flux d’informations de [synthèse](summary-information-stream.md).</span><span class="sxs-lookup"><span data-stu-id="28fdb-111">Enter the new package code into the [**Revision Number Summary**](revision-number-summary.md) Property of the [Summary Information Stream](summary-information-stream.md).</span></span>
2.  <span data-ttu-id="28fdb-112">Déterminez une nouvelle propriété [**ProductCode**](productcode.md) pour l’application.</span><span class="sxs-lookup"><span data-stu-id="28fdb-112">Determine a new [**ProductCode**](productcode.md) property for the application.</span></span> <span data-ttu-id="28fdb-113">Pour plus d’informations, consultez [modification du code du produit](changing-the-product-code.md) .</span><span class="sxs-lookup"><span data-stu-id="28fdb-113">See [Changing the Product Code](changing-the-product-code.md) for more information.</span></span> <span data-ttu-id="28fdb-114">Entrez [**ProductCode**](productcode.md) et sa valeur dans la [table de propriétés](property-table.md).</span><span class="sxs-lookup"><span data-stu-id="28fdb-114">Enter [**ProductCode**](productcode.md) and its value into the [Property table](property-table.md).</span></span>
3.  <span data-ttu-id="28fdb-115">Déterminez la version de l’application et la propriété [**ProductVersion**](productversion.md) .</span><span class="sxs-lookup"><span data-stu-id="28fdb-115">Determine the application's version and the [**ProductVersion**](productversion.md) property.</span></span> <span data-ttu-id="28fdb-116">Le [**ProductVersion**](productversion.md) doit augmenter avec chaque nouvelle version de l’application.</span><span class="sxs-lookup"><span data-stu-id="28fdb-116">The [**ProductVersion**](productversion.md) should increase with each new version of the application.</span></span> <span data-ttu-id="28fdb-117">Notez que le programme d’installation utilise uniquement les trois premiers champs de la version du produit.</span><span class="sxs-lookup"><span data-stu-id="28fdb-117">Note that the installer uses only the first three fields of the product version.</span></span> <span data-ttu-id="28fdb-118">Si vous incluez un quatrième champ dans la version de votre produit, le programme d’installation ignore le quatrième champ.</span><span class="sxs-lookup"><span data-stu-id="28fdb-118">If you include a fourth field in your product version, the installer ignores the fourth field.</span></span> <span data-ttu-id="28fdb-119">Entrez [**ProductVersion**](productversion.md) et sa valeur dans la table de propriétés.</span><span class="sxs-lookup"><span data-stu-id="28fdb-119">Enter [**ProductVersion**](productversion.md) and its value into the Property table.</span></span>
4.  <span data-ttu-id="28fdb-120">Déterminez la langue du package et la propriété [**ProductLanguage**](productlanguage.md) .</span><span class="sxs-lookup"><span data-stu-id="28fdb-120">Determine the language of the package and the [**ProductLanguage**](productlanguage.md) property.</span></span> <span data-ttu-id="28fdb-121">La valeur de cette propriété doit être un identificateur de langue numérique (LANGID).</span><span class="sxs-lookup"><span data-stu-id="28fdb-121">The value of this property must be a numeric language identifier (LANGID).</span></span> <span data-ttu-id="28fdb-122">Entrez [**ProductLanguage**](productlanguage.md) et sa valeur dans la [table de propriétés](property-table.md).</span><span class="sxs-lookup"><span data-stu-id="28fdb-122">Enter [**ProductLanguage**](productlanguage.md) and its value into the [Property table](property-table.md).</span></span> <span data-ttu-id="28fdb-123">Notez que l' [action FindRelatedProducts](findrelatedproducts-action.md) utilise la langue retournée par [**MsiGetProductInfo**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoa).</span><span class="sxs-lookup"><span data-stu-id="28fdb-123">Note that the [FindRelatedProducts action](findrelatedproducts-action.md) uses the language returned by [**MsiGetProductInfo**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoa).</span></span> <span data-ttu-id="28fdb-124">Pour que FindRelatedProducts fonctionne correctement, l’auteur du package doit s’assurer que la propriété [**ProductLanguage**](productlanguage.md) est définie dans la table de propriétés sur une langue qui est également indiquée dans la propriété [**Résumé du modèle**](template-summary.md) .</span><span class="sxs-lookup"><span data-stu-id="28fdb-124">For FindRelatedProducts to work correctly, the package author must be sure that the [**ProductLanguage**](productlanguage.md) property is set in the Property table to a language that is also listed in the [**Template Summary**](template-summary.md) property.</span></span>
5.  <span data-ttu-id="28fdb-125">Si vous créez un package d’installation pour la première version de votre produit, utilisez une nouvelle [**UpgradeCode**](upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="28fdb-125">If you are authoring an installation package for the first version of your product, use a new [**UpgradeCode**](upgradecode.md).</span></span> <span data-ttu-id="28fdb-126">Si votre package est destiné à une version plus récente d’un produit existant, ou s’il s’agit de la même version qu’un produit existant dans une autre langue, utilisez la même [**UpgradeCode**](upgradecode.md) que le produit existant.</span><span class="sxs-lookup"><span data-stu-id="28fdb-126">If your package is intended for a newer version of an existing product, or is the same version as an existing product in a different language, use the same [**UpgradeCode**](upgradecode.md) as the existing product.</span></span> <span data-ttu-id="28fdb-127">Deux produits avec le même [**ProductVersion**](productversion.md) et le même [**ProductLanguage**](productlanguage.md) ne peuvent pas avoir le même [**UpgradeCode**](upgradecode.md), sauf s’il s’agit d’une [petite mise à jour](small-updates.md) de l’autre.</span><span class="sxs-lookup"><span data-stu-id="28fdb-127">No two products with the same [**ProductVersion**](productversion.md) and the same [**ProductLanguage**](productlanguage.md) can have the same [**UpgradeCode**](upgradecode.md), unless one is a [small update](small-updates.md) of the other.</span></span>
6.  <span data-ttu-id="28fdb-128">La [**UpgradeCode**](upgradecode.md) a le format d’un [GUID](guid.md).</span><span class="sxs-lookup"><span data-stu-id="28fdb-128">The [**UpgradeCode**](upgradecode.md) has the format of a [GUID](guid.md).</span></span> <span data-ttu-id="28fdb-129">Entrez le GUID de [**UpgradeCode**](upgradecode.md) dans la table de propriétés.</span><span class="sxs-lookup"><span data-stu-id="28fdb-129">Enter the [**UpgradeCode**](upgradecode.md) GUID into the Property table.</span></span>

<span data-ttu-id="28fdb-130">Pour plus d’informations, consultez [la page empêcher l’installation d’un ancien package sur une version plus récente](preventing-an-old-package-from-installing-over-a-newer-version.md).</span><span class="sxs-lookup"><span data-stu-id="28fdb-130">For more information, see [Preventing an Old Package from Installing Over a Newer Version](preventing-an-old-package-from-installing-over-a-newer-version.md).</span></span>

 

 



