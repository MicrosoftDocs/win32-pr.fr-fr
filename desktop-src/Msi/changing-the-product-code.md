---
description: Le code du produit est un GUID qui est l’identification principale d’une application ou d’un produit. Consultez la section codes de produit.
ms.assetid: 4de84885-587d-405f-ba85-d62e09e8ba92
title: Modification du code du produit
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a0272f1901ef60342f01f4db091e7a4e62b28e30
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104034404"
---
# <a name="changing-the-product-code"></a><span data-ttu-id="2ec46-104">Modification du code du produit</span><span class="sxs-lookup"><span data-stu-id="2ec46-104">Changing the Product Code</span></span>

<span data-ttu-id="2ec46-105">Le code du produit est un GUID qui est l’identification principale d’une application ou d’un produit.</span><span class="sxs-lookup"><span data-stu-id="2ec46-105">The product code is a GUID that is the principal identification of an application or product.</span></span> <span data-ttu-id="2ec46-106">Consultez la section [codes de produit](product-codes.md).</span><span class="sxs-lookup"><span data-stu-id="2ec46-106">See [Product Codes](product-codes.md).</span></span>

<span data-ttu-id="2ec46-107">Une mise à jour qui respecte les instructions suivantes ne nécessite généralement pas de modification du code du produit et peut être traitée comme une [petite mise à jour](small-updates.md), ou si la version doit être modifiée, comme une [mise à niveau mineure](minor-upgrades.md):</span><span class="sxs-lookup"><span data-stu-id="2ec46-107">An update that meets the following guidelines generally does not require a change of the product code and can be handled as a [small update](small-updates.md), or if the version is to change, as a [minor upgrade](minor-upgrades.md):</span></span>

-   <span data-ttu-id="2ec46-108">La mise à jour peut agrandir ou réduire l’arborescence des composants de fonctionnalité, mais elle ne doit pas réorganiser la hiérarchie existante des fonctionnalités et composants décrits par les tables [Feature](feature-table.md) et [FeatureComponents](featurecomponents-table.md) .</span><span class="sxs-lookup"><span data-stu-id="2ec46-108">The update can enlarge or reduce the feature-component tree but it must not reorganize the existing hierarchy of features and components described by the [Feature](feature-table.md) and [FeatureComponents](featurecomponents-table.md) tables.</span></span> <span data-ttu-id="2ec46-109">Il peut ajouter une nouvelle fonctionnalité à la fonctionnalité existante-arborescence des composants.</span><span class="sxs-lookup"><span data-stu-id="2ec46-109">It can add a new feature to the existing feature-component tree.</span></span> <span data-ttu-id="2ec46-110">Si elle supprime une fonctionnalité parente, elle doit également supprimer toutes les fonctionnalités enfants de la fonctionnalité supprimée.</span><span class="sxs-lookup"><span data-stu-id="2ec46-110">If it removes a parent feature, it must also remove all the child features of the removed feature.</span></span>
-   <span data-ttu-id="2ec46-111">La mise à jour peut ajouter un nouveau composant à une fonctionnalité nouvelle ou existante.</span><span class="sxs-lookup"><span data-stu-id="2ec46-111">The update can add a new component to a new or an existing feature.</span></span>
-   <span data-ttu-id="2ec46-112">La mise à jour ne doit pas modifier le code d’un composant.</span><span class="sxs-lookup"><span data-stu-id="2ec46-112">The update must not change the component code of any component.</span></span> <span data-ttu-id="2ec46-113">Par conséquent, une petite mise à jour ou une mise à niveau mineure ne doit jamais modifier le nom du fichier de clé d’un composant, car cela nécessiterait la modification du code du composant.</span><span class="sxs-lookup"><span data-stu-id="2ec46-113">Consequently, a small update or minor upgrade must never change the name of a component's key file because this would require changing the component code.</span></span>
-   <span data-ttu-id="2ec46-114">La mise à jour ne doit pas modifier le nom du fichier. msi du package d’installation.</span><span class="sxs-lookup"><span data-stu-id="2ec46-114">The update must not change the name of the .msi file of the installation package.</span></span> <span data-ttu-id="2ec46-115">Au lieu de cela, étant donné qu’elle modifie le package, elle doit modifier le code du package.</span><span class="sxs-lookup"><span data-stu-id="2ec46-115">Instead, because it modifies the package, it should change the package code.</span></span> <span data-ttu-id="2ec46-116">Notez que cela signifie que la mise à jour peut modifier les tables, les actions personnalisées et les boîtes de dialogue dans le fichier. msi sans modifier le nom du fichier.</span><span class="sxs-lookup"><span data-stu-id="2ec46-116">Note that this means that the update can change the tables, custom actions, and dialogs in the .msi file without changing the file's name.</span></span>
-   <span data-ttu-id="2ec46-117">La mise à jour permet d’ajouter, de supprimer ou de modifier les fichiers, les clés de registre ou les raccourcis de composants qui ne sont pas partagés par au moins deux fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="2ec46-117">The update can add, remove, or modify the files, registry keys, or shortcuts of components that are not shared by two or more features.</span></span> <span data-ttu-id="2ec46-118">Si la mise à jour modifie un fichier avec version, la version de ce fichier doit être incrémentée dans la [table de fichiers](file-table.md).</span><span class="sxs-lookup"><span data-stu-id="2ec46-118">If the update modifies a versioned file, that file's version must be incremented in the [File table](file-table.md).</span></span> <span data-ttu-id="2ec46-119">Si la mise à jour supprime des ressources, elle doit également mettre à jour les tables [RemoveFile](removefile-table.md) et [RemoveRegistry](removeregistry-table.md) pour supprimer les fichiers inutilisés, les clés de registre ou les raccourcis qui ont déjà été installés.</span><span class="sxs-lookup"><span data-stu-id="2ec46-119">If the update removes resources, it should also update the [RemoveFile](removefile-table.md) and [RemoveRegistry](removeregistry-table.md) tables to remove any unused files, registry keys, or shortcuts that have already been installed.</span></span>
-   <span data-ttu-id="2ec46-120">La mise à jour d’un composant partagé par deux fonctionnalités ou plus doit être à compatibilité descendante avec toutes les applications et toutes les fonctionnalités qui utilisent le composant.</span><span class="sxs-lookup"><span data-stu-id="2ec46-120">The update of a component that is shared by two or more features must be backward compatible with all applications and features that use the component.</span></span> <span data-ttu-id="2ec46-121">La mise à jour peut modifier la ressource d’un composant partagé, comme les fichiers, les entrées de Registre et les raccourcis, à condition que les modifications soient à compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="2ec46-121">The update can modify the resource of a shared component, such as files, registry entries, and shortcuts, as long as the changes are backward compatible.</span></span> <span data-ttu-id="2ec46-122">Il n’est pas recommandé d’ajouter ou de supprimer des fichiers, des entrées de registre ou des raccourcis à partir d’un composant partagé.</span><span class="sxs-lookup"><span data-stu-id="2ec46-122">It is not recommended that the update add or remove files, registry entries, or shortcuts from a shared component.</span></span>
-   <span data-ttu-id="2ec46-123">Une petite mise à jour est fournie en tant que [package correctif](patch-packages.md)Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="2ec46-123">A small update is shipped as a Windows Installer [patch package](patch-packages.md).</span></span> <span data-ttu-id="2ec46-124">(Un CD-ROM complet du produit n’est généralement pas fourni avec une petite mise à jour.)</span><span class="sxs-lookup"><span data-stu-id="2ec46-124">(A full product CD-ROM is usually not provided with a small update.)</span></span>

<span data-ttu-id="2ec46-125">Le code du produit doit être modifié si l’une des conditions suivantes est vraie pour la mise à jour :</span><span class="sxs-lookup"><span data-stu-id="2ec46-125">The product code must be changed if any of the following are true for the update:</span></span>

-   <span data-ttu-id="2ec46-126">Des installations coexistantes de produits d’origine et mis à jour sur le même système doivent être possibles.</span><span class="sxs-lookup"><span data-stu-id="2ec46-126">Coexisting installations of both original and updated products on the same system must be possible.</span></span>
-   <span data-ttu-id="2ec46-127">Le nom du fichier. msi a été modifié.</span><span class="sxs-lookup"><span data-stu-id="2ec46-127">The name of the .msi file has been changed.</span></span>
-   <span data-ttu-id="2ec46-128">Le code du composant d’un composant existant a changé.</span><span class="sxs-lookup"><span data-stu-id="2ec46-128">The component code of an existing component has changed.</span></span>
-   <span data-ttu-id="2ec46-129">Un composant est supprimé d’une fonctionnalité existante.</span><span class="sxs-lookup"><span data-stu-id="2ec46-129">A component is removed from an existing feature.</span></span>
-   <span data-ttu-id="2ec46-130">Une fonctionnalité existante a été créée dans l’enfant d’une fonctionnalité existante.</span><span class="sxs-lookup"><span data-stu-id="2ec46-130">An existing feature has been made into a child of an existing feature.</span></span>
-   <span data-ttu-id="2ec46-131">Une fonctionnalité enfant existante a été supprimée de sa fonctionnalité parente.</span><span class="sxs-lookup"><span data-stu-id="2ec46-131">An existing child feature has been removed from its parent feature.</span></span>

<span data-ttu-id="2ec46-132">Notez que l’ajout d’une nouvelle fonctionnalité enfant, composée uniquement de nouveaux composants, à une fonctionnalité existante ne nécessite pas la modification du code du produit.</span><span class="sxs-lookup"><span data-stu-id="2ec46-132">Note that adding a new child feature, consisting entirely of new components, to an existing feature does not require changing the product code.</span></span>

<span data-ttu-id="2ec46-133">Les nouvelles fonctionnalités enfants peuvent être créées en incluant msidbFeatureAttributesFollowParent et msidbFeatureAttributesUIDisallowAbsent dans le champ attributs du [tableau des fonctionnalités](feature-table.md).</span><span class="sxs-lookup"><span data-stu-id="2ec46-133">New child features can be authored by including msidbFeatureAttributesFollowParent and msidbFeatureAttributesUIDisallowAbsent in the Attributes field of the [Feature table](feature-table.md).</span></span> <span data-ttu-id="2ec46-134">Si la mise à niveau mineure ajoute uniquement de nouvelles fonctionnalités enfants, puis réinstaller = ALL est suffisant pour forcer l’installation des nouvelles fonctionnalités enfants.</span><span class="sxs-lookup"><span data-stu-id="2ec46-134">If the minor upgrade only adds new child features, then REINSTALL=ALL is sufficient to force the installation of the new child features.</span></span> <span data-ttu-id="2ec46-135">Pour plus d’informations, consultez contrôle de la [sélection des fonctionnalités États](controlling-feature-selection-states.md).</span><span class="sxs-lookup"><span data-stu-id="2ec46-135">For more information, see [Controlling Feature Selection States](controlling-feature-selection-states.md).</span></span>

<span data-ttu-id="2ec46-136">Une nouvelle fonctionnalité enfant peut être masquée par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="2ec46-136">A new child feature may be hidden from the user.</span></span> <span data-ttu-id="2ec46-137">Pour synchroniser l’état d’installation d’une nouvelle fonctionnalité enfant avec sa fonctionnalité parente, définissez les bits msidbFeatureAttributesFollowParent et msidbFeatureAttributesUIDisallowAbsent pour la fonctionnalité enfant.</span><span class="sxs-lookup"><span data-stu-id="2ec46-137">To synchronize the installation state of a new child feature with its parent feature, set the msidbFeatureAttributesFollowParent and msidbFeatureAttributesUIDisallowAbsent bits for the child feature.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2ec46-138">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="2ec46-138">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2ec46-139">À propos des propriétés</span><span class="sxs-lookup"><span data-stu-id="2ec46-139">About Properties</span></span>](about-properties.md)
</dt> <dt>

[<span data-ttu-id="2ec46-140">Utilisation de propriétés</span><span class="sxs-lookup"><span data-stu-id="2ec46-140">Using Properties</span></span>](using-properties.md)
</dt> <dt>

[<span data-ttu-id="2ec46-141">Référence de propriété</span><span class="sxs-lookup"><span data-stu-id="2ec46-141">Property Reference</span></span>](property-reference.md)
</dt> </dl>

 

 



