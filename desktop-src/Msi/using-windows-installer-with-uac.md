---
description: Windows Installer est conforme au contrôle de compte d’utilisateur (UAC) dans Windows Vista.
ms.assetid: 13955ded-6b7f-475f-bb0f-6530a0b4963f
title: Utilisation de Windows Installer avec UAC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 77a05dcd2fb33eff24fb17702af1cb306f81002d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104114151"
---
# <a name="using-windows-installer-with-uac"></a><span data-ttu-id="277b8-103">Utilisation de Windows Installer avec UAC</span><span class="sxs-lookup"><span data-stu-id="277b8-103">Using Windows Installer with UAC</span></span>

<span data-ttu-id="277b8-104">Windows Installer est conforme au [*contrôle de compte d’utilisateur*](u-gly.md) (UAC) dans Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="277b8-104">Windows Installer complies with [*User Account Control*](u-gly.md) (UAC) in Windows Vista.</span></span> <span data-ttu-id="277b8-105">Avec l’autorisation d’un administrateur, les Windows Installer peuvent installer des applications ou des correctifs pour le compte d’un utilisateur qui n’est peut-être pas membre du groupe administrateurs.</span><span class="sxs-lookup"><span data-stu-id="277b8-105">With authorization from an administrator, the Windows Installer can install applications or patches on behalf of a user that may not be a member of the Administrators group.</span></span> <span data-ttu-id="277b8-106">C’est ce qu’on appelle une installation [*avec élévation de privilèges*](e-gly.md) , car le Windows Installer apporte des modifications au système pour le compte de l’utilisateur, qui ne seraient normalement pas autorisées si l’utilisateur effectuait les modifications directement.</span><span class="sxs-lookup"><span data-stu-id="277b8-106">This is referred to as an [*elevated*](e-gly.md) installation because the Windows Installer makes changes to the system on behalf of the user that would not normally be allowed if the user were making the changes directly.</span></span>

-   <span data-ttu-id="277b8-107">Lorsque vous utilisez Windows Vista dans un environnement d’entreprise, les applications peuvent être désignées en tant qu’applications gérées.</span><span class="sxs-lookup"><span data-stu-id="277b8-107">When using Windows Vista in a corporate environment, applications can be designated as managed applications.</span></span> <span data-ttu-id="277b8-108">À l’aide du déploiement et de la [stratégie de groupe](/previous-versions/windows/desktop/Policy/group-policy-start-page)de l’application, les administrateurs peuvent verrouiller les répertoires, puis affecter ou publier les applications gérées dans ces répertoires à des [*utilisateurs standard*](s-gly.md) pour l’installation, la réparation ou la suppression.</span><span class="sxs-lookup"><span data-stu-id="277b8-108">Using application deployment and [Group Policy](/previous-versions/windows/desktop/Policy/group-policy-start-page), administrators can lockdown directories and then assign or publish the managed applications in those directories to [*standard users*](s-gly.md) for install, repair, or removal.</span></span> <span data-ttu-id="277b8-109">Les applications managées sont inscrites dans la ruche de Registre **HKEY \_ local \_ machine** .</span><span class="sxs-lookup"><span data-stu-id="277b8-109">Managed applications are registered in the **HKEY\_LOCAL\_MACHINE** registry hive.</span></span> <span data-ttu-id="277b8-110">Une fois qu’une application a été inscrite en tant qu’application gérée, les opérations d’installation suivantes s’exécutent toujours avec des privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="277b8-110">Once an application has been registered as a managed application, subsequent installation operations always run with elevated privileges.</span></span> <span data-ttu-id="277b8-111">Si l’utilisateur s’exécute en tant qu’administrateur, aucune invite n’est requise pour poursuivre l’installation.</span><span class="sxs-lookup"><span data-stu-id="277b8-111">If the user is running as an administrator, no prompting is required to continue the installation.</span></span> <span data-ttu-id="277b8-112">Si l’utilisateur s’exécute en tant qu’utilisateur standard et que l’application a déjà été affectée ou publiée, l’installation de l’application managée peut continuer sans invite.</span><span class="sxs-lookup"><span data-stu-id="277b8-112">If the user is running as a standard user, and the application has already been assigned or published, the installation of the managed application can continue without prompting.</span></span>
-   <span data-ttu-id="277b8-113">Lorsque vous utilisez Windows Vista dans un environnement autre que l’entreprise, le contrôle de compte d’utilisateur gère l’élévation de l’installation de l’application.</span><span class="sxs-lookup"><span data-stu-id="277b8-113">When using Windows Vista in a non-corporate environment, UAC handles the elevation of application installation.</span></span> <span data-ttu-id="277b8-114">Windows Installer 4,0 peut appeler le [*service d’informations d’application*](a-gly.md) (AIS) pour demander l’autorisation de l’administrateur pour élever une installation.</span><span class="sxs-lookup"><span data-stu-id="277b8-114">Windows Installer 4.0 can call to the [*Application Information Service*](a-gly.md) (AIS) to request administrator authorization to elevate an installation.</span></span> <span data-ttu-id="277b8-115">Avant qu’une installation identifiée comme nécessitant des privilèges d’administrateur puisse être exécutée, l’UAC invite l’utilisateur à donner son consentement pour élever l’installation.</span><span class="sxs-lookup"><span data-stu-id="277b8-115">Before an installation identified as requiring administrator privileges can be run, UAC prompts the user for consent to elevate the installation.</span></span> <span data-ttu-id="277b8-116">L’invite de consentement s’affiche par défaut, même si l’utilisateur est membre du groupe Administrateurs local, car les administrateurs s’exécutent en tant qu’utilisateurs standard jusqu’à ce qu’une application ou un composant système nécessitant des informations d’identification d’administration demande l’autorisation d’exécuter.</span><span class="sxs-lookup"><span data-stu-id="277b8-116">The consent prompt is displayed by default, even if the user is a member of the local Administrators group, because administrators run as standard users until an application or system component that requires administrative credential requests permission to run.</span></span> <span data-ttu-id="277b8-117">Cette expérience utilisateur est appelée le [*mode d’approbation Administrateur*](a-gly.md) (AAM).</span><span class="sxs-lookup"><span data-stu-id="277b8-117">This user experience is called [*Admin Approval Mode*](a-gly.md) (AAM).</span></span> <span data-ttu-id="277b8-118">Si un utilisateur standard tente d’installer l’application, il doit obtenir des privilèges d’administrateur pour lui fournir les informations d’identification d’administrateur pour continuer l’installation.</span><span class="sxs-lookup"><span data-stu-id="277b8-118">If a standard user attempts to install the application, the user has to get a person with administrator privilege to provide them their administrator credentials to continue the installation.</span></span> <span data-ttu-id="277b8-119">Cette expérience utilisateur s’appelle une invite d’informations d’identification [*sur l’épaule*](o-gly.md) (OTS).</span><span class="sxs-lookup"><span data-stu-id="277b8-119">This user experience is called an [*Over the Shoulder*](o-gly.md) (OTS) credential prompt.</span></span>
-   <span data-ttu-id="277b8-120">Étant donné que le contrôle de compte d’utilisateur restreint les privilèges pendant les étapes d’une installation, les développeurs de packages de Windows Installer ne doivent pas supposer que leur installation aura toujours accès à toutes les parties du système.</span><span class="sxs-lookup"><span data-stu-id="277b8-120">Because UAC restricts privileges during the stages of an installation, developers of Windows Installer packages should not assume that their installation will always have access to all parts of the system.</span></span> <span data-ttu-id="277b8-121">Windows Installer les développeurs de packages doivent donc respecter les instructions de package décrites dans [les instructions](guidelines-for-packages.md) relatives aux packages pour s’assurer que leur package fonctionne avec le contrôle de compte d’utilisateur et Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="277b8-121">Windows Installer package developers should therefore adhere to the package guidelines described in [Guidelines for Packages](guidelines-for-packages.md) to ensure their package works with UAC and Windows Vista.</span></span> <span data-ttu-id="277b8-122">Un package qui a été créé et testé pour se conformer au contrôle de compte d’utilisateur doit contenir la propriété [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) définie sur 1.</span><span class="sxs-lookup"><span data-stu-id="277b8-122">A package that has been authored and tested to comply with UAC should contain the [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) property set to 1.</span></span>
-   <span data-ttu-id="277b8-123">Un administrateur peut également utiliser les méthodes décrites dans la section : [installation d’un package avec des privilèges élevés pour un non-](installing-a-package-with-elevated-privileges-for-a-non-admin.md) administrateur pour permettre à un utilisateur non-administrateur d’installer une application avec des privilèges système élevés.</span><span class="sxs-lookup"><span data-stu-id="277b8-123">An administrator can also use the methods described in the section: [Installing a Package with Elevated Privileges for a Non-Admin](installing-a-package-with-elevated-privileges-for-a-non-admin.md) to enable a non-administrator user to install an application with elevated system privileges.</span></span>
-   <span data-ttu-id="277b8-124">Des privilèges sont requis pour installer une application dans le contexte géré par l’utilisateur. par conséquent, les Windows Installer réinstallations ou réparations de l’application sont également effectuées par le programme d’installation à l’aide de privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="277b8-124">Privileges are required to install an application in the per-user-managed context, and therefore subsequent Windows Installer reinstallations or repairs of the application are also performed by the installer using elevated privileges.</span></span> <span data-ttu-id="277b8-125">Cela signifie que seuls les correctifs de sources approuvées peuvent être appliqués à une application dans l’état géré par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="277b8-125">This means that only patches from trusted sources can be applied to an application in the per-user-managed state.</span></span> <span data-ttu-id="277b8-126">À partir de Windows Installer 3,0, vous pouvez appliquer un correctif à une application gérée par utilisateur une fois que le correctif a été inscrit comme ayant des privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="277b8-126">Beginning with Windows Installer 3.0, you can apply a patch to a per-user managed application after the patch has been registered as having elevated privileges.</span></span> <span data-ttu-id="277b8-127">Pour plus d’informations, consultez Mise à [jour corrective des Applications Per-User gérées](patching-per-user-managed-applications.md).</span><span class="sxs-lookup"><span data-stu-id="277b8-127">For information see [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span></span>

> [!Note]  
> <span data-ttu-id="277b8-128">Lorsque des privilèges élevés ne sont pas requis pour installer un package Windows Installer, l’auteur du package peut supprimer la boîte de dialogue affichée par UAC pour demander aux utilisateurs l’autorisation d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="277b8-128">When elevated privileges are not required to install a Windows Installer package, the author of the package can suppress the dialog box that UAC displays to prompt users for administrator authorization.</span></span> <span data-ttu-id="277b8-129">Pour plus d’informations, consultez [création de packages sans la boîte de dialogue contrôle de compte d’utilisateur](authoring-packages-without-the-uac-dialog-box.md).</span><span class="sxs-lookup"><span data-stu-id="277b8-129">For more information, see [Authoring Packages without the UAC Dialog Box](authoring-packages-without-the-uac-dialog-box.md).</span></span>

 

 

 
