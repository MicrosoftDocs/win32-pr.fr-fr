---
description: Windows Installer les développeurs peuvent préparer leur package d’installation pour qu’ils fonctionnent avec le gestionnaire de redémarrage en suivant les instructions décrites dans utilisation de Windows Installer avec le gestionnaire de redémarrage.
ms.assetid: 777f8864-b3d2-43c7-9296-1118f3595d7b
title: Utilisation du gestionnaire de redémarrage avec une interface utilisateur externe
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0f112884669b173b40f3806c48cf8e05308c5b44
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104201466"
---
# <a name="using-restart-manager-with-an-external-ui"></a><span data-ttu-id="e9a04-103">Utilisation du gestionnaire de redémarrage avec une interface utilisateur externe</span><span class="sxs-lookup"><span data-stu-id="e9a04-103">Using Restart Manager with an External UI</span></span>

<span data-ttu-id="e9a04-104">Windows Installer les développeurs peuvent préparer leur package d’installation pour qu’ils fonctionnent avec le [Gestionnaire de redémarrage](../rstmgr/restart-manager-portal.md) en suivant les instructions décrites dans [utilisation de Windows Installer avec le gestionnaire de redémarrage](using-windows-installer-with-restart-manager.md).</span><span class="sxs-lookup"><span data-stu-id="e9a04-104">Windows Installer developers can prepare their installation package to work with [Restart Manager](../rstmgr/restart-manager-portal.md) by following the guidelines described in [Using Windows Installer with Restart Manager](using-windows-installer-with-restart-manager.md).</span></span>

<span data-ttu-id="e9a04-105">Spécifiez le \_ type de message INSTALLLOGMODE RMFILESINUSE lors de l’appel de la fonction [**MsiSetExternalUI**](/windows/desktop/api/Msi/nf-msi-msisetexternaluia) ou [**MsiSetExternalUIRecord**](/windows/desktop/api/Msi/nf-msi-msisetexternaluirecord) pour activer le gestionnaire d’interface utilisateur externe.</span><span class="sxs-lookup"><span data-stu-id="e9a04-105">Specify the INSTALLLOGMODE\_RMFILESINUSE message type when calling the [**MsiSetExternalUI**](/windows/desktop/api/Msi/nf-msi-msisetexternaluia) or [**MsiSetExternalUIRecord**](/windows/desktop/api/Msi/nf-msi-msisetexternaluirecord) function to enable the external user-interface handler.</span></span> <span data-ttu-id="e9a04-106">Windows Installer envoie ensuite un \_ message INSTALLMESSAGE RMFILESINUSE pour une utilisation par des gestionnaires d’interface utilisateur externes qui prennent en charge le [Gestionnaire de redémarrage](../rstmgr/restart-manager-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e9a04-106">Windows Installer then sends an INSTALLMESSAGE\_RMFILESINUSE message for use by external user-interface handlers that support the [Restart Manager](../rstmgr/restart-manager-portal.md).</span></span>

<span data-ttu-id="e9a04-107">Votre gestionnaire d’interface utilisateur externe doit gérer les informations contenues dans les \_ messages INSTALLMESSAGE RMFILESINUSE.</span><span class="sxs-lookup"><span data-stu-id="e9a04-107">Your external user-interface handler should handle the information contained in INSTALLMESSAGE\_RMFILESINUSE messages.</span></span> <span data-ttu-id="e9a04-108">Si aucune interface utilisateur inscrite ou interne ne gère le \_ message INSTALLMESSAGE RMFILESINUSE, Windows Installer envoie un \_ message INSTALLMESSAGE FILESINUSE pour une utilisation par des gestionnaires externes existants qui prennent en charge \_ les messages INSTALLMESSAGE FILESINUSE et la boîte de dialogue [FILESINUSE](filesinuse-dialog.md) .</span><span class="sxs-lookup"><span data-stu-id="e9a04-108">If no registered or internal user-interface handles the INSTALLMESSAGE\_RMFILESINUSE message, Windows Installer sends an INSTALLMESSAGE\_FILESINUSE message for use by existing external handlers that support INSTALLMESSAGE\_FILESINUSE messages and the [FilesInUse](filesinuse-dialog.md) dialog box.</span></span>

<span data-ttu-id="e9a04-109">L’interface utilisateur externe peut retourner les valeurs indiquées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="e9a04-109">The external user interface can return the values listed in the following table.</span></span>



| <span data-ttu-id="e9a04-110">Valeur de retour de l’interface utilisateur externe</span><span class="sxs-lookup"><span data-stu-id="e9a04-110">External UI return value</span></span> | <span data-ttu-id="e9a04-111">Action entreprise par Windows Installer</span><span class="sxs-lookup"><span data-stu-id="e9a04-111">Action taken by Windows Installer</span></span>                                                                                                                                                                                                                                                                                                              |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e9a04-112">IDOK</span><span class="sxs-lookup"><span data-stu-id="e9a04-112">IDOK</span></span>                     | <span data-ttu-id="e9a04-113">L’utilisateur a cliqué sur le bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="e9a04-113">The **OK** button was pressed by the user.</span></span> <span data-ttu-id="e9a04-114">Le Windows Installer demande que le [Gestionnaire de redémarrage](../rstmgr/restart-manager-portal.md) s’arrête et redémarre les applications qui contiennent les fichiers en cours d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="e9a04-114">The Windows Installer will request that the [Restart Manager](../rstmgr/restart-manager-portal.md) shut down and restart the applications that hold files currently in use.</span></span>                                                                                                                                               |
| <span data-ttu-id="e9a04-115">IDCANCEL</span><span class="sxs-lookup"><span data-stu-id="e9a04-115">IDCANCEL</span></span>                 | <span data-ttu-id="e9a04-116">Le bouton **Annuler** a été enfoncé.</span><span class="sxs-lookup"><span data-stu-id="e9a04-116">The **CANCEL** button was pressed.</span></span> <span data-ttu-id="e9a04-117">Annulez l’installation.</span><span class="sxs-lookup"><span data-stu-id="e9a04-117">Cancel the installation.</span></span>                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="e9a04-118">IDIGNORE</span><span class="sxs-lookup"><span data-stu-id="e9a04-118">IDIGNORE</span></span>                 | <span data-ttu-id="e9a04-119">L’utilisateur a cliqué sur le bouton **Ignorer** .</span><span class="sxs-lookup"><span data-stu-id="e9a04-119">The **IGNORE** button was pressed.</span></span> <span data-ttu-id="e9a04-120">Ignorer et continuer l’installation.</span><span class="sxs-lookup"><span data-stu-id="e9a04-120">Ignore and continue the installation.</span></span> <span data-ttu-id="e9a04-121">Un redémarrage sera nécessaire à la fin de l’installation.</span><span class="sxs-lookup"><span data-stu-id="e9a04-121">A restart will be required at the end of the installation.</span></span>                                                                                                                                                                                                            |
| <span data-ttu-id="e9a04-122">IDNO</span><span class="sxs-lookup"><span data-stu-id="e9a04-122">IDNO</span></span>                     | <span data-ttu-id="e9a04-123">Le bouton **non** a été enfoncé.</span><span class="sxs-lookup"><span data-stu-id="e9a04-123">The **NO** button was pressed.</span></span> <span data-ttu-id="e9a04-124">Si le package possède une boîte de dialogue [MsiRMFilesInUse](msirmfilesinuse-dialog.md) , envoyez un message 1610.</span><span class="sxs-lookup"><span data-stu-id="e9a04-124">If the package has an [MsiRMFilesInUse](msirmfilesinuse-dialog.md) dialog box, send a 1610 message.</span></span> <span data-ttu-id="e9a04-125">Pour plus d’informations, consultez [Windows Installer des messages d’erreur](windows-installer-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="e9a04-125">For more information, see [Windows Installer Error Messages](windows-installer-error-messages.md).</span></span> <span data-ttu-id="e9a04-126">Si le package n’a pas de boîte de dialogue MsiRMFilesInUse, envoyez un \_ message INSTALLMESSAGE FILESINUSE.</span><span class="sxs-lookup"><span data-stu-id="e9a04-126">If the package does not have a MsiRMFilesInUse dialog box, send an INSTALLMESSAGE\_FILESINUSE message.</span></span> |
| <span data-ttu-id="e9a04-127">IDRETRY</span><span class="sxs-lookup"><span data-stu-id="e9a04-127">IDRETRY</span></span>                  | <span data-ttu-id="e9a04-128">Le bouton **Réessayer** a été enfoncé.</span><span class="sxs-lookup"><span data-stu-id="e9a04-128">The **RETRY** button was pressed.</span></span> <span data-ttu-id="e9a04-129">Envoyez le \_ message INSTALLMESSAGE FILESINUSE.</span><span class="sxs-lookup"><span data-stu-id="e9a04-129">Send the INSTALLMESSAGE\_FILESINUSE message.</span></span>                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="e9a04-130">-1</span><span class="sxs-lookup"><span data-stu-id="e9a04-130">-1</span></span>                       | <span data-ttu-id="e9a04-131">Une erreur.</span><span class="sxs-lookup"><span data-stu-id="e9a04-131">An error.</span></span> <span data-ttu-id="e9a04-132">Mettez fin à l’installation.</span><span class="sxs-lookup"><span data-stu-id="e9a04-132">End the installation.</span></span>                                                                                                                                                                                                                                                                                                                |



 

 

 
