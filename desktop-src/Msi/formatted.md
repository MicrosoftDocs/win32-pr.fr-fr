---
description: Le type de données mis en forme est une chaîne de texte qui est traitée pour résoudre les noms de propriétés incorporées, les clés de table, les références de variable d’environnement et d’autres sous-chaînes spéciales.
ms.assetid: 7a1bc160-a06c-4d57-b429-e39167893a45
title: Mis en forme
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cdd15dca46839b25dbf186d8a741b7a5c37c05f3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103952301"
---
# <a name="formatted"></a><span data-ttu-id="bd8b2-103">Mis en forme</span><span class="sxs-lookup"><span data-stu-id="bd8b2-103">Formatted</span></span>

<span data-ttu-id="bd8b2-104">Le type de données mis en forme est une chaîne de texte qui est traitée pour résoudre les noms de propriétés incorporées, les clés de table, les références de variable d’environnement et d’autres sous-chaînes spéciales.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-104">The Formatted data type is a text string that is processed to resolve embedded property names, table keys, environment variable references, and other special substrings.</span></span> <span data-ttu-id="bd8b2-105">Les conventions suivantes sont reconnues pour résoudre la chaîne :</span><span class="sxs-lookup"><span data-stu-id="bd8b2-105">The following conventions are recognized to resolve the string:</span></span>

-   <span data-ttu-id="bd8b2-106">Les crochets ( \[ \] ) ou les accolades ({}) sans paire correspondante restent dans le texte.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-106">Square brackets (\[ \]) or curly braces ({ }) with no matching pair are left in the text.</span></span>
-   <span data-ttu-id="bd8b2-107">Si une sous-chaîne du formulaire \[ *PropertyName* \] est rencontrée, elle est remplacée par la valeur de la propriété.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-107">If a substring of the form \[*propertyname*\] is encountered, it is replaced by the value of the property.</span></span> <span data-ttu-id="bd8b2-108">Si *PropertyName* n’est pas un nom de propriété valide, la sous-chaîne se résout comme vide.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-108">If *propertyname* is not a valid property name, then the substring resolves as blank.</span></span> <span data-ttu-id="bd8b2-109">Par exemple, la colonne Description de la [table LaunchCondition](launchcondition-table.md) prend une chaîne mise en forme.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-109">For example, the Description column of the [LaunchCondition Table](launchcondition-table.md) takes a Formatted string.</span></span> <span data-ttu-id="bd8b2-110">Si ERRORTXT a été défini sur « veuillez contacter votre service de support technique ».</span><span class="sxs-lookup"><span data-stu-id="bd8b2-110">If ERRORTXT has been set to "Please contact your support personnel."</span></span> <span data-ttu-id="bd8b2-111">le texte affiché pour l’échec de la condition de lancement inclut cette chaîne.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-111">then the text displayed for failing the launch condition would include this string.</span></span> <span data-ttu-id="bd8b2-112">Si ERRORTXT n’est pas défini, le texte affiché pour l’échec de la condition de lancement est simplement « le système ne répond pas à la configuration requise pour l’installation. »</span><span class="sxs-lookup"><span data-stu-id="bd8b2-112">If ERRORTXT is not set then the text displayed for failing the launch condition would be just "System does not meet installation requirements."</span></span>

    

    | <span data-ttu-id="bd8b2-113">Condition</span><span class="sxs-lookup"><span data-stu-id="bd8b2-113">Condition</span></span> | <span data-ttu-id="bd8b2-114">Description</span><span class="sxs-lookup"><span data-stu-id="bd8b2-114">Description</span></span>                                                  |
    |-----------|--------------------------------------------------------------|
    | <span data-ttu-id="bd8b2-115">Version9X</span><span class="sxs-lookup"><span data-stu-id="bd8b2-115">Version9X</span></span> | <span data-ttu-id="bd8b2-116">Le système ne répond pas à la configuration requise pour l’installation.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-116">System does not meet installation requirements.</span></span> <span data-ttu-id="bd8b2-117">\[ERRORTXT\]</span><span class="sxs-lookup"><span data-stu-id="bd8b2-117">\[ERRORTXT\]</span></span> |

    

     

-   <span data-ttu-id="bd8b2-118">Les crochets peuvent être itérés et les noms de propriété sont résolus de l’intérieur vers l’extérieur. Par exemple, supposons que la propriété SUBSTRING est \[ \[ \] \] affichée dans le texte.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-118">The square brackets may be iterated and the property names are resolved from inside out. For example, suppose the substring \[\[PropertyA\]\] appears in the text.</span></span> <span data-ttu-id="bd8b2-119">Tout d’abord, la valeur de Property PropertyA est récupérée.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-119">First, the value of property PropertyA is retrieved.</span></span> <span data-ttu-id="bd8b2-120">Si la valeur est un nom de propriété valide, tel que PropertyB, la valeur de PropertyB est récupérée, et la propriété de la sous-chaîne entière \[ \[ \] \] est remplacée par la valeur de PropertyB.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-120">If the value is a valid property name, such as PropertyB, then the value of PropertyB is retrieved, and the entire substring \[\[PropertyA\]\] is substituted with the value of PropertyB.</span></span> <span data-ttu-id="bd8b2-121">Si PropertyA n’est pas un nom de propriété valide, ou si la valeur de PropertyA n’est pas un nom de propriété valide, la sous-chaîne est vide.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-121">If PropertyA is not a valid property name, or if the value of PropertyA is not a valid property name, then the substring is blank.</span></span>
-   <span data-ttu-id="bd8b2-122">Si une sous-chaîne du formulaire \[ % *EnvironmentVariable* \] est trouvée, la valeur de la variable d’environnement est substituée à la sous-chaîne.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-122">If a substring of the form \[%*environmentvariable*\] is found, the value of the environment variable is substituted for the substring.</span></span>
-   <span data-ttu-id="bd8b2-123">Si une sous-chaîne du formulaire \[ \\ *x* \] est trouvée, elle est remplacée par le caractère *x* , où *x* est un caractère, sans traitement supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-123">If a substring of the form \[\\*x*\] is found, it is replaced by the character *x* , where *x* is one character, without any further processing.</span></span> <span data-ttu-id="bd8b2-124">Seul le premier caractère après la barre oblique inverse est conservé ; tout le reste est supprimé.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-124">Only the first character after the backslash is kept; everything else is removed.</span></span> <span data-ttu-id="bd8b2-125">Par exemple, pour inclure un crochet gauche littéral ( \[ ), utilisez \[ \\ \[ \] .</span><span class="sxs-lookup"><span data-stu-id="bd8b2-125">For example, to include a literal left bracket (\[), use \[\\\[\].</span></span> <span data-ttu-id="bd8b2-126">Le \[ \\ \[ \] texte du crochet de texte est \[ \\ \] \] résolu en \[ texte entre crochets \] .</span><span class="sxs-lookup"><span data-stu-id="bd8b2-126">The text \[\\\[\]Bracket Text\[\\\]\] resolves to \[Bracket Text\].</span></span>
-   <span data-ttu-id="bd8b2-127">Si une sous-chaîne est entourée d’accolades ({}) et qu’elle ne contient pas de noms de propriété entre crochets ( \[ \] ), la sous-chaîne reste inchangée, y compris les accolades.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-127">If a substring is enclosed in curly braces ({ }), and it contains no property names enclosed in square brackets (\[ \]), the substring is left unchanged, including the curly braces.</span></span>
-   <span data-ttu-id="bd8b2-128">Si une sous-chaîne est placée entre accolades ({}) et qu’elle contient un ou plusieurs noms de propriété entre crochets ( \[ \] ), si tous les noms de propriétés sont valides, le texte (avec les substitutions résolues) s’affiche sans les accolades.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-128">If a substring is enclosed in curly braces ({ }) and it contains one or more property names enclosed in square brackets (\[ \]) then, if all the property names are valid, the text (with the resolved substitutions) is displayed without the curly braces.</span></span>
-   <span data-ttu-id="bd8b2-129">Si une sous-chaîne du formulaire \[ ~ \] est trouvée, elle est remplacée par le caractère null.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-129">If a substring of the form \[~\] is found, it is replaced with the null character.</span></span> <span data-ttu-id="bd8b2-130">Il est utilisé pour créer des chaînes de caractères **\_ \_ multiszs reg** dans la [table du Registre](registry-table.md).</span><span class="sxs-lookup"><span data-stu-id="bd8b2-130">This is used to author **REG\_MULTI\_SZ** character strings in the [Registry table](registry-table.md).</span></span> <span data-ttu-id="bd8b2-131">Notez que \[ ~ \] est également utilisé pour ajouter ou préfixer des valeurs à des variables d’environnement à l’aide de la [table d’environnement](environment-table.md).</span><span class="sxs-lookup"><span data-stu-id="bd8b2-131">Note that \[~\] is also used to append or prefix values to environment variables using the [Environment table](environment-table.md).</span></span>
-   <span data-ttu-id="bd8b2-132">Si une sous-chaîne du formulaire \[ \# *filekey* \] est trouvée, elle est remplacée par le chemin d’accès complet du fichier, avec la valeur *filekey* utilisée comme clé dans la [table de fichiers](file-table.md).</span><span class="sxs-lookup"><span data-stu-id="bd8b2-132">If a substring of the form \[\#*filekey*\] is found, it is replaced by the full path of the file, with the value *filekey* used as a key into the [File table](file-table.md).</span></span> <span data-ttu-id="bd8b2-133">La valeur de \[ \# *filekey* \] reste vide et n’est pas remplacée par un chemin d’accès jusqu’à ce que le programme d’installation exécute l’action [CostInitialize](costinitialize-action.md), l’action [FileCost](filecost-action.md)et l' [action CostFinalize](costfinalize-action.md).</span><span class="sxs-lookup"><span data-stu-id="bd8b2-133">The value of \[\#*filekey*\] remains blank and is not replaced by a path until the installer runs the [CostInitialize action](costinitialize-action.md), [FileCost action](filecost-action.md), and [CostFinalize action](costfinalize-action.md).</span></span> <span data-ttu-id="bd8b2-134">La valeur de \[ \# *filekey* \] dépend de l’état d’installation du composant auquel le fichier appartient.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-134">The value of \[\#*filekey*\] depends upon the installation state of the component to which the file belongs.</span></span> <span data-ttu-id="bd8b2-135">Si le composant est exécuté à partir de la source, la valeur est le chemin d’accès à l’emplacement source du fichier.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-135">If the component is run from the source, the value is the path to the source location of the file.</span></span> <span data-ttu-id="bd8b2-136">Si le composant est exécuté localement, la valeur est le chemin d’accès à l’emplacement cible du fichier après l’installation.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-136">If the component is run locally, the value is the path to the target location of the file after installation.</span></span> <span data-ttu-id="bd8b2-137">Si l’état d’action du composant est absent, l’état installé du composant est utilisé pour déterminer le \[ \) .</span><span class="sxs-lookup"><span data-stu-id="bd8b2-137">If the component has an action state of absent, the installed state of the component is used to determine the \[\).</span></span>
-   <span data-ttu-id="bd8b2-138">Si une sous-chaîne du formulaire \[ $ *componentkey* \] est trouvée, elle est remplacée par le répertoire d’installation du composant, avec la valeur *componentkey* utilisée comme clé dans la [table des composants](component-table.md).</span><span class="sxs-lookup"><span data-stu-id="bd8b2-138">If a substring of the form \[$*componentkey*\] is found, it is replaced by the install directory of the component, with the value *componentkey* used as a key into the [Component table](component-table.md).</span></span> <span data-ttu-id="bd8b2-139">La valeur de \[ $ *componentkey* \] reste vide et n’est pas remplacée par un répertoire tant que le programme d’installation n’a pas exécuté l’action [CostInitialize](costinitialize-action.md), l’action [FileCost](filecost-action.md)et l' [action CostFinalize](costfinalize-action.md).</span><span class="sxs-lookup"><span data-stu-id="bd8b2-139">The value of \[$*componentkey*\] remains blank and is not replaced by a directory until the installer runs the [CostInitialize action](costinitialize-action.md), [FileCost action](filecost-action.md), and [CostFinalize action](costfinalize-action.md).</span></span> <span data-ttu-id="bd8b2-140">La valeur de \[ $ *componentkey* \] dépend de l’état d’installation du composant et de l’emplacement où il se produit.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-140">The value of \[$*componentkey*\] depends upon the installation state of the component and where it occurs.</span></span> <span data-ttu-id="bd8b2-141">Dans la colonne valeur de la [table du Registre](registry-table.md), cette sous-chaîne peut faire référence à l’état de l’action ou à l’état d’action demandé du composant.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-141">In the Value column of the [Registry Table](registry-table.md), this substring may refer to the action state or the requested action state of the component.</span></span> <span data-ttu-id="bd8b2-142">Dans tous les autres cas, cette sous-chaîne fait référence à l’état d’action du composant.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-142">In all other cases, this substring refers to the action state of the component.</span></span> <span data-ttu-id="bd8b2-143">Par exemple, si le composant est exécuté à partir de la source, la valeur est le répertoire source du fichier.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-143">For example, if the component is run from the source, the value is the source directory of the file.</span></span> <span data-ttu-id="bd8b2-144">Si le composant est exécuté localement, la valeur est le répertoire cible après l’installation.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-144">If the component is run locally, the value is the target directory after installation.</span></span> <span data-ttu-id="bd8b2-145">Si le composant est absent, la valeur est laissée vide.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-145">If the component is absent, the value is left blank.</span></span> <span data-ttu-id="bd8b2-146">Windows Installer effectue le suivi des États de l’action et de l’installation demandée des composants.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-146">Windows Installer tracks both the action and requested installation states of components.</span></span> <span data-ttu-id="bd8b2-147">Par exemple, si un composant est déjà installé, il peut avoir l’état local demandé et un état d’action null.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-147">For example, if a component is already installed, it may have a requested state of local and an action state of null.</span></span> <span data-ttu-id="bd8b2-148">Pour plus d’informations sur la vérification de l’état d’installation des composants, consultez [vérification de l’installation de fonctionnalités, de composants et de fichiers](checking-the-installation-of-features-components-files.md).</span><span class="sxs-lookup"><span data-stu-id="bd8b2-148">For more information about checking the installation state of components, see [Checking the Installation of Features, Components, Files](checking-the-installation-of-features-components-files.md).</span></span>
-   <span data-ttu-id="bd8b2-149">Notez que si un composant est déjà installé et qu’il n’est pas réinstallé, supprimé ou déplacé au cours de l’installation actuelle, l’état d’action du composant est null et la chaîne \[ $ *componentkey* \] prend la valeur null.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-149">Note that if a component is already installed, and is not reinstalled, removed, or moved during the current installation, the action state of the component is null and the string \[$*componentkey*\] evaluates to Null.</span></span>
-   <span data-ttu-id="bd8b2-150">Si une sous-chaîne du formulaire \[ !*filekey* \] est trouvé, il est remplacé par le chemin d’accès complet du fichier, avec la valeur *filekey* utilisée comme clé dans la [table de fichiers](file-table.md).</span><span class="sxs-lookup"><span data-stu-id="bd8b2-150">If a substring of the form \[!*filekey*\] is found, it is replaced by the full short path of the file, with the value *filekey* used as a key into the [File table](file-table.md).</span></span>

    <span data-ttu-id="bd8b2-151">Cette syntaxe est valide uniquement lorsqu’elle est utilisée dans la colonne valeur du registre ou dans les tables IniFile.</span><span class="sxs-lookup"><span data-stu-id="bd8b2-151">This syntax is valid only when used in the Value column of the Registry or the IniFile tables.</span></span> <span data-ttu-id="bd8b2-152">En cas d’utilisation dans d’autres colonnes, cette syntaxe est traitée de la même façon que \[ \# *filekey* \] .</span><span class="sxs-lookup"><span data-stu-id="bd8b2-152">When used in other columns this syntax is treated the same as \[\#*filekey*\] .</span></span>

 

 



