---
description: Un correctif Windows Installer (fichier. msp) est un fichier utilisé pour fournir des mises à jour à des applications Windows Installer.
ms.assetid: f59736d7-0b5a-466c-ab60-f210ccccb07f
title: Packages de correctifs
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 56b4bb5b7e182c8118f5a40c45be440784b92099
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103755612"
---
# <a name="patch-packages"></a><span data-ttu-id="d9aff-103">Packages de correctifs</span><span class="sxs-lookup"><span data-stu-id="d9aff-103">Patch Packages</span></span>

<span data-ttu-id="d9aff-104">Un correctif Windows Installer (fichier. msp) est un fichier utilisé pour fournir des mises à jour à des applications Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="d9aff-104">A Windows Installer patch (.msp file) is a file used to deliver updates to Windows Installer applications.</span></span> <span data-ttu-id="d9aff-105">Le correctif est un package autonome qui contient toutes les informations requises pour mettre à jour l’application.</span><span class="sxs-lookup"><span data-stu-id="d9aff-105">The patch is a self-contained package that contains all the information required to update the application.</span></span> <span data-ttu-id="d9aff-106">Un package correctif (fichier. msp) peut être bien plus petit que le package Windows Installer (fichier. msi) pour l’ensemble de l’application mise à jour.</span><span class="sxs-lookup"><span data-stu-id="d9aff-106">A patch package (.msp file) can be much smaller than the Windows Installer package (.msi file) for the entire updated application.</span></span> <span data-ttu-id="d9aff-107">Pour plus d’informations sur la distribution de petites mises à jour pour les applications, consultez réduction de la [taille des correctifs](reducing-patch-size.md).</span><span class="sxs-lookup"><span data-stu-id="d9aff-107">For more information about delivering smaller updates to applications, see [Reducing Patch Size](reducing-patch-size.md).</span></span>

<span data-ttu-id="d9aff-108">Un package correctif contient les mises à jour réelles de l’application et décrit les versions de l’application qui peuvent recevoir le correctif.</span><span class="sxs-lookup"><span data-stu-id="d9aff-108">A patch package contains the actual updates to the application and describes which versions of the application can receive the patch.</span></span> <span data-ttu-id="d9aff-109">Les correctifs contiennent au minimum deux transformations de base de données.</span><span class="sxs-lookup"><span data-stu-id="d9aff-109">Patches contain at minimum two database transforms.</span></span> <span data-ttu-id="d9aff-110">Une transformation met à jour les informations dans la base de données d’installation de l’application.</span><span class="sxs-lookup"><span data-stu-id="d9aff-110">One transform updates the information in the installation database of the application.</span></span> <span data-ttu-id="d9aff-111">L’autre transformation ajoute des informations que le programme d’installation utilise pour l’application de correctifs aux fichiers.</span><span class="sxs-lookup"><span data-stu-id="d9aff-111">The other transform adds information that the installer uses for patching files.</span></span> <span data-ttu-id="d9aff-112">Le programme d’installation utilise les informations fournies par les transformations pour appliquer les fichiers correctifs stockés dans le flux de fichier CAB du package correctif.</span><span class="sxs-lookup"><span data-stu-id="d9aff-112">The installer uses the information provided by the transforms to apply patch files that are stored in the cabinet file stream of the patch package.</span></span> <span data-ttu-id="d9aff-113">Un package de correctifs n’a pas de base de données comme un package d’installation (fichier. msi).</span><span class="sxs-lookup"><span data-stu-id="d9aff-113">A patch package does not have a database like an installation package (.msi file.)</span></span>

<span data-ttu-id="d9aff-114">À partir de Windows Installer version 3,0, les packages de correctifs peuvent contenir des informations qui décrivent la séquence de mise à jour corrective pour le correctif par rapport à d’autres mises à jour dans la table [MsiPatchSequence](msipatchsequence-table.md) et des informations descriptives supplémentaires dans la table [MsiPatchMetadata](msipatchmetadata-table.md) .</span><span class="sxs-lookup"><span data-stu-id="d9aff-114">Beginning with Windows Installer version 3.0, patch packages can contain information that describe the patching sequence for the patch relative to other updates in the [MsiPatchSequence](msipatchsequence-table.md) table and additional descriptive information in the [MsiPatchMetadata](msipatchmetadata-table.md) table.</span></span>

<span data-ttu-id="d9aff-115">Les utilisateurs peuvent installer des applications et des mises à jour à partir d’une image administrative réseau.</span><span class="sxs-lookup"><span data-stu-id="d9aff-115">Users can install applications and updates from a network administrative image.</span></span> <span data-ttu-id="d9aff-116">Bien que les packages de correctifs puissent être appliqués aux installations administratives, la méthode recommandée pour fournir des mises à jour consiste à faire en sorte que les utilisateurs installent l’application d’origine, puis appliquent les correctifs à l’instance locale de l’application sur leur ordinateur.</span><span class="sxs-lookup"><span data-stu-id="d9aff-116">Although patch packages can be applied to administrative installations, the recommended method to deliver updates is to have users install the original application and then apply the patches to the local instance of the application on to their computer.</span></span> <span data-ttu-id="d9aff-117">Cela permet aux utilisateurs de synchroniser avec l’image administrative.</span><span class="sxs-lookup"><span data-stu-id="d9aff-117">This keeps users in synchronization with the administrative image.</span></span> <span data-ttu-id="d9aff-118">Si un correctif est appliqué à l’installation administrative, tous les clients de cette installation administrative doivent remettre en cache et réinstaller l’application pour recevoir la mise à jour.</span><span class="sxs-lookup"><span data-stu-id="d9aff-118">If a patch is applied to the administrative installation, all clients of that administrative installation must recache and reinstall the application to receive the update.</span></span> <span data-ttu-id="d9aff-119">Tant qu’un utilisateur n’est pas remis en cache et réinstallé, il ne peut pas installer les installations à la demande et de réparation à partir de l’installation d’administration corrigée.</span><span class="sxs-lookup"><span data-stu-id="d9aff-119">Until a user recaches and reinstalls, the user is unable to install-on-demand and repair installations from the patched administrative installation.</span></span>

<span data-ttu-id="d9aff-120">À partir de Windows Installer 3,0, les utilisateurs non-administrateurs peuvent appliquer des correctifs aux applications gérées par l’utilisateur une fois que le correctif a été approuvé par un administrateur.</span><span class="sxs-lookup"><span data-stu-id="d9aff-120">Beginning with Windows Installer 3.0, non-administrators can apply patches to per-user-managed applications after the patch has been approved as trusted by an administrator.</span></span> <span data-ttu-id="d9aff-121">Pour plus d’informations sur la façon de procéder, consultez Mise à [jour corrective des Applications Per-User gérées](patching-per-user-managed-applications.md).</span><span class="sxs-lookup"><span data-stu-id="d9aff-121">For more information on how to do this, see [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span></span> <span data-ttu-id="d9aff-122">Une autre méthode consiste à utiliser la mise à jour corrective des comptes d’utilisateur avec le moins de privilèges possible.</span><span class="sxs-lookup"><span data-stu-id="d9aff-122">Another method is to use least privileged user account patching.</span></span>

> [!Note]  
> <span data-ttu-id="d9aff-123">Si la stratégie [AllowLockdownPatch](allowlockdownpatch.md) a été définie, les utilisateurs non-administrateurs peuvent appliquer un correctif à une application existante tout en exécutant une installation avec des privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="d9aff-123">If the [AllowLockdownPatch](allowlockdownpatch.md) policy has been set, non-administrator users can apply a patch to an existing application while running an installation at elevated privileges.</span></span> <span data-ttu-id="d9aff-124">Cette méthode n’est pas recommandée, car elle permet d’appliquer des correctifs non approuvés à une application pouvant s’exécuter avec des privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="d9aff-124">This method is not recommended because it enables untrusted patches to be applied to an application that can run with elevated privileges.</span></span>

 

<span data-ttu-id="d9aff-125">Les packages de correctifs sont composés des éléments suivants.</span><span class="sxs-lookup"><span data-stu-id="d9aff-125">Patch packages are comprised of the following parts.</span></span> <span data-ttu-id="d9aff-126">Pour plus d’informations sur la construction des packages de correctifs, consultez [création d’un package de correctifs](creating-a-patch-package.md).</span><span class="sxs-lookup"><span data-stu-id="d9aff-126">For more information about the construction of patch packages, see [Creating a Patch Package](creating-a-patch-package.md).</span></span>

## <a name="summary-information-stream"></a><span data-ttu-id="d9aff-127">Flux d’informations de synthèse</span><span class="sxs-lookup"><span data-stu-id="d9aff-127">Summary Information Stream</span></span>

<span data-ttu-id="d9aff-128">Le flux d’informations de synthèse du package correctif fournit des informations sur l’identité et l’objectif du correctif.</span><span class="sxs-lookup"><span data-stu-id="d9aff-128">The summary information stream of the patch package provides information about the identity and purpose of the patch.</span></span>

<span data-ttu-id="d9aff-129">Le flux d’informations de Résumé contient au minimum les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="d9aff-129">The summary information stream holds a minimum of the following:</span></span>

-   <span data-ttu-id="d9aff-130">GUID qui identifie de façon unique le correctif.</span><span class="sxs-lookup"><span data-stu-id="d9aff-130">A GUID that uniquely identifies the patch.</span></span> <span data-ttu-id="d9aff-131">Le GUID de ce correctif est ajouté à une liste de GUID pour les correctifs antérieurs qui sont remplacés par ce correctif.</span><span class="sxs-lookup"><span data-stu-id="d9aff-131">The GUID for this patch is appended with a list of GUIDs for earlier patches that are replaced by this patch.</span></span>
-   <span data-ttu-id="d9aff-132">Liste délimitée par des points-virgules des codes de produit pour les cibles valides pour ce correctif.</span><span class="sxs-lookup"><span data-stu-id="d9aff-132">A semicolon-delimited list of product codes for valid targets for this patch.</span></span>
-   <span data-ttu-id="d9aff-133">Liste délimitée par des points-virgules de noms de sous-stockage de transformation dans l’ordre dans lequel ils doivent être traités.</span><span class="sxs-lookup"><span data-stu-id="d9aff-133">A semicolon-delimited list of transform substorage names in the order they are to be processed.</span></span>
-   <span data-ttu-id="d9aff-134">Liste de sources délimitées par des points-virgules pour ce correctif.</span><span class="sxs-lookup"><span data-stu-id="d9aff-134">A semicolon-delimited list of sources for this patch.</span></span>

## <a name="transform-substorage"></a><span data-ttu-id="d9aff-135">Transformer le sous-stockage</span><span class="sxs-lookup"><span data-stu-id="d9aff-135">Transform Substorage</span></span>

<span data-ttu-id="d9aff-136">Un package correctif contient des transformations qui permettent d’ajouter ou de supprimer des fichiers, des entrées de Registre, des interfaces utilisateur et des personnalisations.</span><span class="sxs-lookup"><span data-stu-id="d9aff-136">A patch package contains transforms that can add or remove files, registry entries, user interfaces, and customizations.</span></span> <span data-ttu-id="d9aff-137">Les transformations sont incluses en tant que sous-stockage dans le package.</span><span class="sxs-lookup"><span data-stu-id="d9aff-137">Transforms are included as substorages in the package.</span></span> <span data-ttu-id="d9aff-138">Un package correctif contient deux transformations pour chaque base de données cible.</span><span class="sxs-lookup"><span data-stu-id="d9aff-138">A patch package contains two transforms for each target database.</span></span> <span data-ttu-id="d9aff-139">Une transformation correspond aux mises à jour réelles de la base de données d’installation et est générée à partir des différences entre les images d’origine et les images mises à jour du package d’installation.</span><span class="sxs-lookup"><span data-stu-id="d9aff-139">One transform is the actual updates to the installation database and is generated from the differences between the original and updated images of the installation package.</span></span> <span data-ttu-id="d9aff-140">L’autre transformation ajoute des entrées aux tables [patch](patch-table.md), [PatchPackage](patchpackage-table.md), [Media](media-table.md), [InstallExecuteSequence](installexecutesequence-table.md)et [AdminExecuteSequence](adminexecutesequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="d9aff-140">The other transform adds entries to the [Patch](patch-table.md), [PatchPackage](patchpackage-table.md), [Media](media-table.md), [InstallExecuteSequence](installexecutesequence-table.md), and [AdminExecuteSequence](adminexecutesequence-table.md) tables.</span></span> <span data-ttu-id="d9aff-141">Les informations contenues dans le sous-stockage l’associent à une [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md)et [**ProductLanguage**](productlanguage.md)spécifiques.</span><span class="sxs-lookup"><span data-stu-id="d9aff-141">Information in the substorage ties it to a specific [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md), and [**ProductLanguage**](productlanguage.md).</span></span> <span data-ttu-id="d9aff-142">Un package correctif qui peut être appliqué à plusieurs cibles contient plusieurs paires de ces transformations.</span><span class="sxs-lookup"><span data-stu-id="d9aff-142">A patch package that can be applied to multiple targets contains more than one pair of these transforms.</span></span>

## <a name="cabinet-file-stream"></a><span data-ttu-id="d9aff-143">Flux de fichier CAB</span><span class="sxs-lookup"><span data-stu-id="d9aff-143">Cabinet File Stream</span></span>

<span data-ttu-id="d9aff-144">Le flux de fichier CAB inclus dans un correctif peut contenir les types de fichiers suivants :</span><span class="sxs-lookup"><span data-stu-id="d9aff-144">The cabinet file stream included in a patch can contain these types of files:</span></span>

-   <span data-ttu-id="d9aff-145">Fichiers correctifs contenant les informations nécessaires pour modifier l’ancienne version du fichier dans la nouvelle version.</span><span class="sxs-lookup"><span data-stu-id="d9aff-145">Patch files containing the information required to change the old version of the file into the new version.</span></span> <span data-ttu-id="d9aff-146">Un seul fichier correctif peut être utilisé pour mettre à jour une ou plusieurs anciennes versions d’un fichier.</span><span class="sxs-lookup"><span data-stu-id="d9aff-146">A single patch file can be used to update one or more old versions of a file.</span></span>
-   <span data-ttu-id="d9aff-147">Les fichiers supplémentaires ajoutés à l’application ne sont pas présents dans l’ancienne version.</span><span class="sxs-lookup"><span data-stu-id="d9aff-147">Additional files being added to the application that are not present in the old version.</span></span>
-   <span data-ttu-id="d9aff-148">Un fichier de remplacement entier.</span><span class="sxs-lookup"><span data-stu-id="d9aff-148">An entire replacement file.</span></span> <span data-ttu-id="d9aff-149">Dans les rares cas où la nouvelle version d’un fichier est plus petite que le correctif requis pour mettre à jour l’ancienne version de ce fichier, le nouveau fichier peut être inclus dans son intégralité.</span><span class="sxs-lookup"><span data-stu-id="d9aff-149">In the rare case where the new version of a file is smaller than the patch required to update the old version of that file, the new file can be included in its entirety.</span></span> <span data-ttu-id="d9aff-150">Il s’agit de nouveaux fichiers qui sont installés sur leurs anciennes versions.</span><span class="sxs-lookup"><span data-stu-id="d9aff-150">These are new files that are installed over their old versions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d9aff-151">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="d9aff-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d9aff-152">Création d’un package de correctifs</span><span class="sxs-lookup"><span data-stu-id="d9aff-152">Creating a Patch Package</span></span>](creating-a-patch-package.md)
</dt> </dl>

 

 



