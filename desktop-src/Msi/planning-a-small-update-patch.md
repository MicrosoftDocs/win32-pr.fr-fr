---
description: Le fichier de fonctionnalité de concert du produit d’origine, MNP2000, contient une erreur dans le fichier Concert.txt.
ms.assetid: 4289bd0c-bdf3-4747-9287-94f737ce4f5c
title: Planification d’un correctif logiciel de petite mise à jour
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f15f3667c6a18ab7a71e86997091bd76d4b15577
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/05/2021
ms.locfileid: "103869633"
---
# <a name="planning-a-small-update-patch"></a><span data-ttu-id="0f264-103">Planification d’un correctif logiciel de petite mise à jour</span><span class="sxs-lookup"><span data-stu-id="0f264-103">Planning a Small Update Patch</span></span>

<span data-ttu-id="0f264-104">Le fichier de fonctionnalité de concert du produit d’origine, MNP2000, contient une erreur dans le fichier Concert.txt.</span><span class="sxs-lookup"><span data-stu-id="0f264-104">The Concert feature file of the original product, MNP2000, contains an error in the Concert.txt file.</span></span> <span data-ttu-id="0f264-105">Étant donné que Windows Installer a été utilisé pour l’installation et la configuration de l’application, des correctifs mineurs pour l’application peuvent être gérés par l’installation d’un package correctif de mise à jour de petite taille.</span><span class="sxs-lookup"><span data-stu-id="0f264-105">Because Windows Installer was used for the installation and setup of the application, minor fixes to the application may be handled by installing a small update patch package.</span></span> <span data-ttu-id="0f264-106">Une [petite mise à jour](small-updates.md) apporte des modifications à un ou plusieurs fichiers d’application qui sont trop mineurs pour modifier le code du produit.</span><span class="sxs-lookup"><span data-stu-id="0f264-106">A [small update](small-updates.md) makes changes to one or more application files that are too minor to change the product code.</span></span> <span data-ttu-id="0f264-107">L’exemple suivant montre comment créer un package de correctifs Windows Installer qui peut appliquer la petite mise à jour et fournir un correctif rapide au produit MNP2000.</span><span class="sxs-lookup"><span data-stu-id="0f264-107">The following example shows you how to create a Windows Installer patch package that can apply the small update and provide a quick fix to the MNP2000 product.</span></span>

<span data-ttu-id="0f264-108">Pour créer la petite mise à jour, commencez par obtenir une image entièrement non compressée du produit MNP2000 qui comprend l’erreur dans Concert.txt.</span><span class="sxs-lookup"><span data-stu-id="0f264-108">To create the small update first obtain a fully uncompressed image of the MNP2000 product that includes the error in Concert.txt.</span></span> <span data-ttu-id="0f264-109">L’image doit inclure MNP2000.msi et tous les fichiers sources décrits dans [planification de l’installation](planning-the-installation.md).</span><span class="sxs-lookup"><span data-stu-id="0f264-109">The image must include MNP2000.msi and all the source files described in [Planning the Installation](planning-the-installation.md).</span></span> <span data-ttu-id="0f264-110">Dans la discussion suivante, il s’agit de l’image cible.</span><span class="sxs-lookup"><span data-stu-id="0f264-110">In the following discussion this is called the Target image.</span></span> <span data-ttu-id="0f264-111">L’image cible doit être entièrement décompressée, car le processus de création de correctif ne peut pas générer de correctifs binaires pour les fichiers compressés dans des armoires.</span><span class="sxs-lookup"><span data-stu-id="0f264-111">The Target image must be fully uncompressed because the patch creation process is unable to generate binary patches for files compressed in cabinets.</span></span> <span data-ttu-id="0f264-112">Placez le fichier. msi et tous les fichiers sources de l’image cible dans un dossier nommé target.</span><span class="sxs-lookup"><span data-stu-id="0f264-112">Put the .msi file and all the source files of the Target image into a folder named Target.</span></span>

<span data-ttu-id="0f264-113">Ensuite, obtenez une image entièrement non compressée du produit MNP2000 avec un fichier Concert.txt qui est fixe.</span><span class="sxs-lookup"><span data-stu-id="0f264-113">Next, obtain a fully uncompressed image of the MNP2000 product with a Concert.txt file that is fixed.</span></span> <span data-ttu-id="0f264-114">C’est ce que l’on appelle l’image mise à niveau dans la discussion suivante.</span><span class="sxs-lookup"><span data-stu-id="0f264-114">This is called the Upgraded image in the following discussion.</span></span> <span data-ttu-id="0f264-115">Utilisez un outil d’édition de base de données d’installation, tel qu’Orca, pour mettre à jour le fichier. msi.</span><span class="sxs-lookup"><span data-stu-id="0f264-115">Use an installation database editing tool, such as Orca, to update the .msi file.</span></span> <span data-ttu-id="0f264-116">Par exemple, si la taille de la Concert.txt corrigée est inférieure à celle d’origine, veillez à entrer la nouvelle taille dans le champ FileSize de la table file de l’image mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="0f264-116">For example, if the size of the corrected Concert.txt is smaller than the original, be sure to enter the new size in the FileSize field of the File table of the upgraded image.</span></span> <span data-ttu-id="0f264-117">Notez que, étant donné que le package a changé, vous devez attribuer un nouveau code de package dans la propriété [**Résumé du numéro de révision**](revision-number-summary.md) .</span><span class="sxs-lookup"><span data-stu-id="0f264-117">Note that because the package has changed you must assign a new package code in the [**Revision Number Summary**](revision-number-summary.md) Property.</span></span> <span data-ttu-id="0f264-118">Placez le fichier. msi et tous les fichiers sources de l’image mise à niveau dans un dossier nommé Upgraded.</span><span class="sxs-lookup"><span data-stu-id="0f264-118">Put the .msi file and all the source files of the Upgraded image into a folder named Upgraded.</span></span>

<span data-ttu-id="0f264-119">Dans le cadre de cet exemple, supposez que la taille du fichier de Concert.txt change.</span><span class="sxs-lookup"><span data-stu-id="0f264-119">For the purposes of this example, assume that the size of the Concert.txt file changes.</span></span> <span data-ttu-id="0f264-120">Cela signifie que les champs FileSize dans les tables de fichiers de la base de données cible et mise à niveau contiennent des données différentes.</span><span class="sxs-lookup"><span data-stu-id="0f264-120">This means that FileSize fields in the File tables of the Target and Upgraded database contain different data.</span></span>

<span data-ttu-id="0f264-121">La [table de fichiers](file-table.md) suivante identifie l’enregistrement de l’image cible.</span><span class="sxs-lookup"><span data-stu-id="0f264-121">The following [File Table](file-table.md) identifies the record from the Target Image.</span></span>



| <span data-ttu-id="0f264-122">Fichier</span><span class="sxs-lookup"><span data-stu-id="0f264-122">File</span></span>        | <span data-ttu-id="0f264-123">-\_</span><span class="sxs-lookup"><span data-stu-id="0f264-123">Component\_</span></span> | <span data-ttu-id="0f264-124">FileName</span><span class="sxs-lookup"><span data-stu-id="0f264-124">FileName</span></span>    | <span data-ttu-id="0f264-125">FileSize</span><span class="sxs-lookup"><span data-stu-id="0f264-125">FileSize</span></span> | <span data-ttu-id="0f264-126">Version</span><span class="sxs-lookup"><span data-stu-id="0f264-126">Version</span></span> | <span data-ttu-id="0f264-127">Language</span><span class="sxs-lookup"><span data-stu-id="0f264-127">Language</span></span> | <span data-ttu-id="0f264-128">Attributs</span><span class="sxs-lookup"><span data-stu-id="0f264-128">Attributes</span></span> | <span data-ttu-id="0f264-129">Séquence</span><span class="sxs-lookup"><span data-stu-id="0f264-129">Sequence</span></span> |
|-------------|-------------|-------------|----------|---------|----------|------------|----------|
| <span data-ttu-id="0f264-130">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="0f264-130">Concert.txt</span></span> | <span data-ttu-id="0f264-131">Concert</span><span class="sxs-lookup"><span data-stu-id="0f264-131">Concert</span></span>     | <span data-ttu-id="0f264-132">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="0f264-132">Concert.txt</span></span> | <span data-ttu-id="0f264-133">1 000</span><span class="sxs-lookup"><span data-stu-id="0f264-133">1000</span></span>     |         |          | <span data-ttu-id="0f264-134">0</span><span class="sxs-lookup"><span data-stu-id="0f264-134">0</span></span>          | <span data-ttu-id="0f264-135">1</span><span class="sxs-lookup"><span data-stu-id="0f264-135">1</span></span>        |



 

<span data-ttu-id="0f264-136">La table de fichiers suivante identifie l’enregistrement à partir de l’image mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="0f264-136">The following File Table identifies the record from the Upgraded Image.</span></span>



| <span data-ttu-id="0f264-137">Fichier</span><span class="sxs-lookup"><span data-stu-id="0f264-137">File</span></span>        | <span data-ttu-id="0f264-138">-\_</span><span class="sxs-lookup"><span data-stu-id="0f264-138">Component\_</span></span> | <span data-ttu-id="0f264-139">FileName</span><span class="sxs-lookup"><span data-stu-id="0f264-139">FileName</span></span>    | <span data-ttu-id="0f264-140">FileSize</span><span class="sxs-lookup"><span data-stu-id="0f264-140">FileSize</span></span> | <span data-ttu-id="0f264-141">Version</span><span class="sxs-lookup"><span data-stu-id="0f264-141">Version</span></span> | <span data-ttu-id="0f264-142">Language</span><span class="sxs-lookup"><span data-stu-id="0f264-142">Language</span></span> | <span data-ttu-id="0f264-143">Attributs</span><span class="sxs-lookup"><span data-stu-id="0f264-143">Attributes</span></span> | <span data-ttu-id="0f264-144">Séquence</span><span class="sxs-lookup"><span data-stu-id="0f264-144">Sequence</span></span> |
|-------------|-------------|-------------|----------|---------|----------|------------|----------|
| <span data-ttu-id="0f264-145">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="0f264-145">Concert.txt</span></span> | <span data-ttu-id="0f264-146">Concert</span><span class="sxs-lookup"><span data-stu-id="0f264-146">Concert</span></span>     | <span data-ttu-id="0f264-147">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="0f264-147">Concert.txt</span></span> | <span data-ttu-id="0f264-148">900</span><span class="sxs-lookup"><span data-stu-id="0f264-148">900</span></span>      |         |          | <span data-ttu-id="0f264-149">0</span><span class="sxs-lookup"><span data-stu-id="0f264-149">0</span></span>          | <span data-ttu-id="0f264-150">1</span><span class="sxs-lookup"><span data-stu-id="0f264-150">1</span></span>        |



 

> [!Note]
> <span data-ttu-id="0f264-151">Le fichier doit avoir la même clé dans les [tables de fichiers](file-table.md) de l’image cible et de l’image mise à jour.</span><span class="sxs-lookup"><span data-stu-id="0f264-151">The file must have the same key in the [File Tables](file-table.md) of both the target image and the updated image.</span></span> <span data-ttu-id="0f264-152">Les valeurs de chaîne dans la colonne file des deux tables doivent être identiques.</span><span class="sxs-lookup"><span data-stu-id="0f264-152">The string values in the File column of both tables must be identical.</span></span> <span data-ttu-id="0f264-153">Les majuscules et les minuscules doivent également être identiques.</span><span class="sxs-lookup"><span data-stu-id="0f264-153">Uppercase and lowercase must be identical also.</span></span>
> 
> <span data-ttu-id="0f264-154">Suivez les instructions décrites dans [création d’un package de correctifs](creating-a-patch-package.md).</span><span class="sxs-lookup"><span data-stu-id="0f264-154">Follow the guidelines described in [Creating a Patch Package](creating-a-patch-package.md).</span></span> <span data-ttu-id="0f264-155">Ne créez pas de package avec des clés de [table de fichiers](file-table.md) qui diffèrent uniquement par la casse, car [Msimsp.exe](msimsp-exe.md) et [Patchwiz.dll](patchwiz-dll.md) appel Makecab.exe, ce qui ne respecte pas la casse et la génération de correctifs échoue.</span><span class="sxs-lookup"><span data-stu-id="0f264-155">Do not author a package with [File Table](file-table.md) keys that differ only by case, because [Msimsp.exe](msimsp-exe.md) and [Patchwiz.dll](patchwiz-dll.md) call Makecab.exe, which is case-insensitive and patch generation fails.</span></span>

[<span data-ttu-id="0f264-156">Continuer</span><span class="sxs-lookup"><span data-stu-id="0f264-156">Continue</span></span>](creating-a-patch-creation-properties-file.md)

 

 



