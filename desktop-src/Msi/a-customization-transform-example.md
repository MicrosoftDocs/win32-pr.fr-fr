---
description: Cet exemple montre comment une transformation de personnalisation peut être utilisée pour désactiver des fonctionnalités et ajouter de nouvelles ressources.
ms.assetid: 028b1d01-3b66-4640-98f9-ca33f90ca516
title: Exemple de transformation de personnalisation
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 26ea655d1187b0271aba7ea56a46bacf95f5fb40
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106519068"
---
# <a name="a-customization-transform-example"></a><span data-ttu-id="b4143-103">Exemple de transformation de personnalisation</span><span class="sxs-lookup"><span data-stu-id="b4143-103">A Customization Transform Example</span></span>

<span data-ttu-id="b4143-104">Cet exemple montre comment une transformation de personnalisation peut être utilisée pour désactiver des fonctionnalités et ajouter de nouvelles ressources.</span><span class="sxs-lookup"><span data-stu-id="b4143-104">This example illustrates how a customization transform may be used to disable features and add new resources.</span></span>

<span data-ttu-id="b4143-105">Un administrateur peut désactiver définitivement une fonctionnalité à l’aide d’une transformation de personnalisation pour entrer 0 dans la colonne de niveau de la [table des fonctionnalités](feature-table.md).</span><span class="sxs-lookup"><span data-stu-id="b4143-105">An administrator can permanently disable a feature by using a customization transform to enter a 0 into the Level column of the [Feature table](feature-table.md).</span></span> <span data-ttu-id="b4143-106">L’application de la transformation de personnalisation empêche l’installation et l’affichage de cette fonctionnalité, même si l’utilisateur sélectionne une installation complète à l’aide de l’interface utilisateur ou en affectant à la propriété [**addlocal**](addlocal.md) la valeur All sur la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="b4143-106">The application of the customization transform then prevents the installation and display of that feature even if the user selects a complete installation using the UI or by setting the [**ADDLOCAL**](addlocal.md) property to ALL on the command line.</span></span> <span data-ttu-id="b4143-107">Pour plus d’informations sur le niveau d’installation, consultez [table des fonctionnalités](feature-table.md) et propriété [**INSTALLLEVEL**](installlevel.md) .</span><span class="sxs-lookup"><span data-stu-id="b4143-107">For a discussion of installation level, see [Feature table](feature-table.md) and [**INSTALLLEVEL**](installlevel.md) property.</span></span>

<span data-ttu-id="b4143-108">Les ressources nécessaires pour personnaliser une application peuvent être déployées à l’aide d’une transformation de personnalisation pour ajouter un ou plusieurs nouveaux composants.</span><span class="sxs-lookup"><span data-stu-id="b4143-108">The resources needed to customize an application can be deployed by using a customization transform to add one or more new components.</span></span> <span data-ttu-id="b4143-109">La transformation doit ajouter une ou plusieurs nouvelles fonctionnalités pour contenir ces nouveaux composants.</span><span class="sxs-lookup"><span data-stu-id="b4143-109">The transform must add one or more new features to contain these new components.</span></span> <span data-ttu-id="b4143-110">Pour connaître les règles qui doivent être suivies lors du déploiement de ressources, telles que des fichiers, des clés de registre ou des raccourcis, consultez [utilisation de transformations pour ajouter des ressources](using-transforms-to-add-resources.md).</span><span class="sxs-lookup"><span data-stu-id="b4143-110">For the rules that should be followed when deploying resources, such as files, registry keys, or shortcuts, see [Using Transforms to Add Resources](using-transforms-to-add-resources.md).</span></span>

<span data-ttu-id="b4143-111">Cet exemple montre comment créer une [transformation](transforms.md) pour personnaliser l’installation de l’application décrite dans [un exemple d’installation](an-installation-example.md).</span><span class="sxs-lookup"><span data-stu-id="b4143-111">This example illustrates how to create a [transform](transforms.md) to customize the installation of the application described in [An Installation Example](an-installation-example.md).</span></span> <span data-ttu-id="b4143-112">Le package d’installation d’origine installe toutes les fonctionnalités de l’exemple d’application, y compris la porte de fonctionnalités, qui permet aux utilisateurs d’afficher les informations d’admission pour le parc de parcs rouge.</span><span class="sxs-lookup"><span data-stu-id="b4143-112">The original installation package installs all the features of the sample application, including the feature Gate, which enables users to view admissions information for the Red Park Arena.</span></span> <span data-ttu-id="b4143-113">Certains groupes d’utilisateurs ont uniquement besoin des fonctionnalités d’application qui fournissent des informations sur la planification des événements et n’ont pas besoin de la fonctionnalité de porte.</span><span class="sxs-lookup"><span data-stu-id="b4143-113">Some groups of users only need the application features that give event scheduling information, and do not need the Gate feature.</span></span> <span data-ttu-id="b4143-114">Ces groupes doivent également obtenir une liste de numéros de téléphone spéciale.</span><span class="sxs-lookup"><span data-stu-id="b4143-114">These groups also need to get a special phone list.</span></span> <span data-ttu-id="b4143-115">La transformation doit donc faire deux choses : 1) personnaliser l’installation afin que ce groupe ne reçoive que les fonctionnalités d’application dont il a besoin et 2) fournisse les ressources nécessaires pour la nouvelle liste téléphonique.</span><span class="sxs-lookup"><span data-stu-id="b4143-115">The transform must therefore do two things: 1) customize the installation so that this group only receives the application features they need and 2) provide the resources needed for the new phone list.</span></span>

<span data-ttu-id="b4143-116">Un exemple d’interface utilisateur minimale pour cet exemple est fourni dans les [composants SDK Windows pour Windows Installer les développeurs](platform-sdk-components-for-windows-installer-developers.md) comme Uisample.msi de fichier.</span><span class="sxs-lookup"><span data-stu-id="b4143-116">An example of a minimal user interface for this sample is provided in the [Windows SDK Components for Windows Installer Developers](platform-sdk-components-for-windows-installer-developers.md) as the file Uisample.msi.</span></span> <span data-ttu-id="b4143-117">Si vous avez le kit de développement logiciel (SDK), vous avez accès à tous les outils et données nécessaires pour reproduire l’exemple de package d’installation, l’interface utilisateur et la transformation de personnalisation.</span><span class="sxs-lookup"><span data-stu-id="b4143-117">If you have the SDK, you have access to all the tools and data necessary to reproduce the sample installation package, user interface, and customization transform.</span></span>

<span data-ttu-id="b4143-118">La transformation de personnalisation présente les spécifications suivantes :</span><span class="sxs-lookup"><span data-stu-id="b4143-118">The customization transform has the following specifications:</span></span>

-   <span data-ttu-id="b4143-119">La transformation de personnalisation est incorporée dans le fichier MNP2000.msi pour garantir qu’elle est toujours disponible avec la base de données d’installation.</span><span class="sxs-lookup"><span data-stu-id="b4143-119">The customization transform is embedded inside the MNP2000.msi file to guarantee that it is always available with the installation database.</span></span>
-   <span data-ttu-id="b4143-120">L’installation de MNP2000.msi à l’aide de la transformation de personnalisation n’installe pas la fonctionnalité porte, les fonctionnalités enfants de la fonctionnalité porte ou l’un des composants de la fonctionnalité de porte, même si l’utilisateur sélectionne le type complet d’installation.</span><span class="sxs-lookup"><span data-stu-id="b4143-120">Installing MNP2000.msi with the customization transform does not install the Gate feature, child features of the Gate feature, or any of the components of the Gate feature, even if the user selects the Complete type of installation.</span></span>
-   <span data-ttu-id="b4143-121">D’autres applications peuvent partager certains ou l’ensemble des composants de la fonctionnalité de la porte.</span><span class="sxs-lookup"><span data-stu-id="b4143-121">Other applications may share some or all of the components of the Gate feature.</span></span> <span data-ttu-id="b4143-122">Les packages d’installation de ces applications peuvent installer tous leurs composants sur l’ordinateur de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b4143-122">The installation packages of these applications may install all their components on the user's computer.</span></span>
-   <span data-ttu-id="b4143-123">La suppression de MNP2000.msi à l’aide de la transformation de personnalisation ne supprime pas les composants de la porte qui ont été installés par d’autres applications.</span><span class="sxs-lookup"><span data-stu-id="b4143-123">Removing MNP2000.msi with the customization transform does not remove any of the Gate components that have been installed by other applications.</span></span>
-   <span data-ttu-id="b4143-124">L’installation de MNP2000.msi avec la transformation de personnalisation installe également une nouvelle fonctionnalité de niveau supérieur, une \_ Liste téléphonique et un nouveau composant, téléphone, qui nécessite l’installation de la ressource, Phone.txt.</span><span class="sxs-lookup"><span data-stu-id="b4143-124">Installing MNP2000.msi with the customization transform also installs a new top level feature, Phone\_List, and a new component, phone, which requires the installation of the resource, Phone.txt.</span></span> <span data-ttu-id="b4143-125">L’utilisateur accède à la \_ fonctionnalité de liste téléphonique à l’aide d’un raccourci dans le répertoire menu.</span><span class="sxs-lookup"><span data-stu-id="b4143-125">The user accesses the Phone\_List feature using a shortcut in the Menu directory.</span></span>

[<span data-ttu-id="b4143-126">Continuer</span><span class="sxs-lookup"><span data-stu-id="b4143-126">Continue</span></span>](customizing-an-original-database.md)

 

 



