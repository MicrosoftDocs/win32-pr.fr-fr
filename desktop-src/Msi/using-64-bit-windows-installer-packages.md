---
description: Respectez les consignes suivantes lors de la création d’un package Windows Installer bits 64.
ms.assetid: e7dfd188-fd4d-49d6-8cf5-c17182b697ca
title: Utilisation de packages Windows Installers 64 bits
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5b46ab8a9668d816ea99bd92c2575e9ea6367352
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106521271"
---
# <a name="using-64-bit-windows-installer-packages"></a><span data-ttu-id="c1e07-103">Utilisation de packages Windows Installers 64 bits</span><span class="sxs-lookup"><span data-stu-id="c1e07-103">Using 64-Bit Windows Installer Packages</span></span>

<span data-ttu-id="c1e07-104">Lorsque vous créez des [packages ou des applications Windows Installer bits 64](64-bit-windows-installer-packages.md) qui appellent Windows Installer pour installer des packages 64 bits, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="c1e07-104">When you create [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) or applications that call Windows Installer to install 64-bit packages, do the following:</span></span>

-   <span data-ttu-id="c1e07-105">Utilisez un schéma de base de données Windows Installer de 200 ou une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="c1e07-105">Use a Windows Installer database schema of 200 or higher.</span></span> <span data-ttu-id="c1e07-106">Spécifiez que la version 2,0 est la version minimale du programme d’installation requis pour installer le package en affectant à la propriété [**Résumé du nombre de pages**](page-count-summary.md) la valeur de l’entier 200.</span><span class="sxs-lookup"><span data-stu-id="c1e07-106">Specify that version 2.0 is the minimum version of the installer required to install the package by setting the [**Page Count Summary**](page-count-summary.md) property to the integer 200.</span></span> <span data-ttu-id="c1e07-107">Les versions antérieures de Windows Installer rejettent les tentatives d’installation des packages 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-107">Earlier Windows Installer versions reject attempts to install 64-bit packages.</span></span> <span data-ttu-id="c1e07-108">Pour les packages 64 bits sur la plateforme Arm64, le schéma de base de données Windows Installer doit être 500 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="c1e07-108">For 64-bit packages on the Arm64 platform, the Windows Installer database schema must be 500 or higher.</span></span>
-   <span data-ttu-id="c1e07-109">Indiquez dans la propriété [**Résumé du modèle**](template-summary.md) du flux d’informations Résumé du package qu’il s’agit d’un package 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-109">Indicate in the [**Template Summary**](template-summary.md) property of the package summary information stream that this is a 64-bit package.</span></span> <span data-ttu-id="c1e07-110">Entrez « Intel64 » dans le champ plateforme de la propriété **Résumé du modèle** si le package doit être exécuté sur un processeur Intel64.</span><span class="sxs-lookup"><span data-stu-id="c1e07-110">Enter "Intel64" into the platform field of the **Template Summary** property if the package is to be run on an Intel64 processor.</span></span> <span data-ttu-id="c1e07-111">Entrez « x64 » si le package doit être exécuté sur un processeur étendu 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-111">Enter "x64" if the package is to be run on a 64-bit extended processor.</span></span> <span data-ttu-id="c1e07-112">Entrez « Arm64 » si le package doit être exécuté sur un processeur Arm64.</span><span class="sxs-lookup"><span data-stu-id="c1e07-112">Enter “Arm64” if the package is to be run on an Arm64 processor.</span></span> <span data-ttu-id="c1e07-113">Un package ne peut pas être marqué comme prenant en charge les plateformes Intel64 et x64, la valeur de propriété de **Résumé de modèle** « Intel64, x64 » n’est pas valide.</span><span class="sxs-lookup"><span data-stu-id="c1e07-113">A package cannot be marked as supporting both Intel64 and x64 platforms, a **Template Summary** property value of "Intel64,x64" is invalid.</span></span> <span data-ttu-id="c1e07-114">Un package ne peut pas être marqué comme prenant en charge les plateformes 32 bits et 64 bits, les valeurs de propriété de **Résumé de modèle** « Intel, x64 » ou « Intel, Intel64 » ne sont pas valides.</span><span class="sxs-lookup"><span data-stu-id="c1e07-114">A package cannot be marked as supporting both 32-bit and 64-bit platforms, the **Template Summary** property values of "Intel,x64" or "Intel,Intel64" are invalid.</span></span>
-   <span data-ttu-id="c1e07-115">Identifiez chaque composant 64 bits en définissant **msidbComponentAttributes64bit** dans la colonne attributs de la table des [composants](component-table.md) .</span><span class="sxs-lookup"><span data-stu-id="c1e07-115">Identify every 64-bit component by setting the **msidbComponentAttributes64bit** in the Attributes column of the [Component](component-table.md) table.</span></span>
-   <span data-ttu-id="c1e07-116">Utilisez des instructions conditionnelles facultatives qui vérifient la version du système d’exploitation 64 bits en référençant la propriété [**VersionNT64**](versionnt64.md) .</span><span class="sxs-lookup"><span data-stu-id="c1e07-116">Use optional conditional statements that check the version of the 64-bit operating system by referencing the [**VersionNT64**](versionnt64.md) property.</span></span> <span data-ttu-id="c1e07-117">Windows Installer définit cette propriété sur la version de Windows 64 bits et laisse VersionNT64 non défini si le système d’exploitation n’est pas Windows 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-117">Windows Installer sets this property to the 64-bit Windows version and leaves VersionNT64 undefined if the operating system is not 64-bit Windows.</span></span> <span data-ttu-id="c1e07-118">Pour plus d’informations, consultez [utilisation des propriétés dans des instructions conditionnelles](using-properties-in-conditional-statements.md).</span><span class="sxs-lookup"><span data-stu-id="c1e07-118">For more information, see [Using Properties in Conditional Statements](using-properties-in-conditional-statements.md).</span></span>
-   <span data-ttu-id="c1e07-119">Utilisez des instructions conditionnelles facultatives qui vérifient le niveau de processeur numérique de l’ordinateur en référençant la propriété [**Intel64**](intel64.md) ou [**Msix64**](msix64.md) .</span><span class="sxs-lookup"><span data-stu-id="c1e07-119">Use optional conditional statements that check the numeric processor level of the computer by referencing the [**Intel64**](intel64.md) or [**Msix64**](msix64.md) property.</span></span> <span data-ttu-id="c1e07-120">Le Windows Installer définit ces propriétés au niveau du processeur numérique actuel de l’ordinateur et laisse la propriété **Intel64** non définie si ce n’est pas un processeur Itanium.</span><span class="sxs-lookup"><span data-stu-id="c1e07-120">The Windows Installer  sets these properties to the current numeric processor level of the computer and leaves the **Intel64** Property undefined if this is not an Itanium-based processor.</span></span> <span data-ttu-id="c1e07-121">Pour plus d’informations, consultez [utilisation des propriétés dans des instructions conditionnelles](using-properties-in-conditional-statements.md).</span><span class="sxs-lookup"><span data-stu-id="c1e07-121">For more information, see [Using Properties in Conditional Statements](using-properties-in-conditional-statements.md).</span></span>
-   <span data-ttu-id="c1e07-122">Utilisez la [table AppSearch](appsearch-table.md) et l' [action AppSearch](appsearch-action.md) pour effectuer des recherches facultatives dans le registre pour les composants 64 bits existants.</span><span class="sxs-lookup"><span data-stu-id="c1e07-122">Use the [AppSearch Table](appsearch-table.md) and [AppSearch Action](appsearch-action.md) to do optional searches of the registry for existing 64-bit components.</span></span> <span data-ttu-id="c1e07-123">Pour rechercher des composants 64 bits existants, incluez le bit **msidbLocatorType64bit** dans la colonne type de la [table RegLocator](reglocator-table.md).</span><span class="sxs-lookup"><span data-stu-id="c1e07-123">To search for existing 64-bit components, include the **msidbLocatorType64bit** bit in the Type column of the [RegLocator Table](reglocator-table.md).</span></span> <span data-ttu-id="c1e07-124">Pour plus d’informations, consultez [recherche d’applications, de fichiers, d’entrées de registre ou de propriétés d’entrées de fichier. ini existants](searching-for-existing-applications-files-registry-entries-or--ini-file-entries.md)</span><span class="sxs-lookup"><span data-stu-id="c1e07-124">For more information, see [Searching for Existing Applications, Files, Registry Entries or .ini File Entries Property](searching-for-existing-applications-files-registry-entries-or--ini-file-entries.md)</span></span>
-   <span data-ttu-id="c1e07-125">Obtenez les chemins d’accès aux dossiers système en référençant la propriété [**System64Folder**](system64folder.md), la propriété [**ProgramFiles64Folder**](programfiles64folder.md) et la propriété [**CommonFiles64Folder**](commonfiles64folder.md) pour les dossiers 64 bits et la propriété [**SystemFolder**](systemfolder.md) , la propriété [**ProgramFilesFolder**](programfilesfolder.md) et la propriété [**CommonFilesFolder**](commonfilesfolder.md) pour les dossiers 32 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-125">Obtain the paths to system folders by referencing the [**System64Folder**](system64folder.md)Property, [**ProgramFiles64Folder**](programfiles64folder.md) Property, and [**CommonFiles64Folder**](commonfiles64folder.md) Property for the 64-bit folders and the [**SystemFolder**](systemfolder.md) Property, [**ProgramFilesFolder**](programfilesfolder.md) Property, and [**CommonFilesFolder**](commonfilesfolder.md) Property for the 32-bit folders.</span></span>
-   <span data-ttu-id="c1e07-126">Vérifiez que l’application utilise le GUID correct lors du référencement d’un composant 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-126">Verify that the application uses the correct GUID when referencing a 64-bit component.</span></span> <span data-ttu-id="c1e07-127">S’il existe des versions 32 bits et 64 bits d’un composant spécifique, ceux-ci doivent avoir des GUID d’ID de composant différents.</span><span class="sxs-lookup"><span data-stu-id="c1e07-127">If there are 32-bit and 64-bit versions of a specific component, these should have different component ID GUIDs.</span></span>
-   <span data-ttu-id="c1e07-128">Déterminez si de nouvelles variables d’environnement doivent être définies lors de l’installation d’applications 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-128">Determine whether any new environment variables need to be defined when installing 64-bit applications.</span></span>
-   <span data-ttu-id="c1e07-129">Si un gestionnaire de pilotes ODBC 64 bits doit être installé, le composant qui le contient doit être nommé ODBCDriverManager64.</span><span class="sxs-lookup"><span data-stu-id="c1e07-129">If a 64-bit ODBC Driver Manager is to be installed, the component that carries it should be named ODBCDriverManager64.</span></span> <span data-ttu-id="c1e07-130">Le gestionnaire de pilotes ODBC doit être créé dans le package d’installation et un composant nommé ODBCDriverManager64 doit être inclus.</span><span class="sxs-lookup"><span data-stu-id="c1e07-130">The ODBC Driver Manager must be authored in the installer package and a component named ODBCDriverManager64 must be included.</span></span> <span data-ttu-id="c1e07-131">Le gestionnaire sera installé si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="c1e07-131">The manager will be installed if necessary.</span></span>
-   <span data-ttu-id="c1e07-132">Vérifiez que l’application appelle uniquement des services 32 bits qui s’exécutent en tant qu’exécutables.</span><span class="sxs-lookup"><span data-stu-id="c1e07-132">Verify that the application only calls 32-bit services that run as executables.</span></span> <span data-ttu-id="c1e07-133">Les applications ne doivent pas appeler les services 32 bits qui s’exécutent dans des dll.</span><span class="sxs-lookup"><span data-stu-id="c1e07-133">Applications should not call 32-bit services that run in DLLs.</span></span>
-   <span data-ttu-id="c1e07-134">Si l’application installe la coexistence des versions 32 bits et 64 bits d’un composant, vérifiez que l’application partage correctement les informations du fichier. ini.</span><span class="sxs-lookup"><span data-stu-id="c1e07-134">If the application installs coexisting 32-bit and 64-bit versions of a component, verify that the application shares .ini file information correctly.</span></span>
-   <span data-ttu-id="c1e07-135">Vérifiez que l’application applique uniquement les correctifs 32 bits aux binaires 32 bits et les correctifs 64 bits aux fichiers binaires 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-135">Verify that the application only applies 32-bit patches to 32-bit binaries and 64-bit patches to 64-bit binaries.</span></span>
-   <span data-ttu-id="c1e07-136">Tenez compte des scénarios de mise à niveau futurs pour les versions 32 bits et 64 bits et tenez à jour les codes de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="c1e07-136">Consider future upgrade scenarios for both 32-bit and 64-bit versions and maintain upgrade codes.</span></span> <span data-ttu-id="c1e07-137">Pour plus d’informations, consultez [mise à jour corrective et mises à niveau](patching-and-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="c1e07-137">For more information, see [Patching and Upgrades](patching-and-upgrades.md).</span></span>
-   <span data-ttu-id="c1e07-138">Quand vous utilisez une application d' [amorçage](bootstrapping.md) pour installer un [package Windows Installer 64 bits](64-bit-windows-installer-packages.md), compilez l’application d’amorçage comme une application 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-138">When using a [bootstrapping](bootstrapping.md) application to install a [64-bit Windows Installer Package](64-bit-windows-installer-packages.md), compile the bootstrapping application as a 64-bit application.</span></span>
-   <span data-ttu-id="c1e07-139">Pour désactiver la [réflexion du Registre](../winprog64/registry-reflection.md) pour les clés de Registre qui sont affectées par un composant particulier, définissez le bit **msidbComponentAttributesDisableRegistryReflection** dans le champ attributs de la table des [composants](component-table.md) .</span><span class="sxs-lookup"><span data-stu-id="c1e07-139">To disable [Registry Reflection](../winprog64/registry-reflection.md) for registry keys that are affected by a particular component, set the **msidbComponentAttributesDisableRegistryReflection** bit in the Attributes field of the [Component](component-table.md) table.</span></span> <span data-ttu-id="c1e07-140">Cela peut être nécessaire pour que les copies 32 bits et 64 bits de la même application coexistent.</span><span class="sxs-lookup"><span data-stu-id="c1e07-140">This may be necessary to have 32-bit and 64-bit copies of the same application coexist.</span></span> <span data-ttu-id="c1e07-141">Si ce bit est défini, le Windows Installer appelle la fonction [**RegDisableReflectionKey**](/windows/win32/api/winreg/nf-winreg-regdisablereflectionkey) sur chaque clé à laquelle le composant accède.</span><span class="sxs-lookup"><span data-stu-id="c1e07-141">If this bit is set, the Windows Installer calls the [**RegDisableReflectionKey**](/windows/win32/api/winreg/nf-winreg-regdisablereflectionkey) function on each key that is being accessed by the component.</span></span> <span data-ttu-id="c1e07-142">Ce bit est disponible avec la version 4,0 de Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="c1e07-142">This bit is available with Windows Installer version 4.0.</span></span> <span data-ttu-id="c1e07-143">Ce bit est ignoré sur les systèmes 32 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-143">This bit is ignored on 32-bit systems.</span></span> <span data-ttu-id="c1e07-144">Ce bit est ignoré sur les versions 64 bits de Windows XP et Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="c1e07-144">This bit is ignored on the 64-bit versions of Windows XP and Windows 2000.</span></span>

> [!Note]  
> <span data-ttu-id="c1e07-145">La valeur de la racine de Registre numérique retournée par le paramètre *lpPathBuf* de la fonction [**MsiGetComponentPath**](/windows/desktop/api/Msi/nf-msi-msigetcomponentpatha) distingue les composants sur les systèmes d’exploitation 32 bits et 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c1e07-145">The value of the numeric registry root returned by the *lpPathBuf* parameter of the [**MsiGetComponentPath**](/windows/desktop/api/Msi/nf-msi-msigetcomponentpatha) function distinguishes between components on 32-bit and 64-bit operating systems.</span></span> <span data-ttu-id="c1e07-146">Pour plus d’informations, consultez fonction **MsiGetComponentPath** .</span><span class="sxs-lookup"><span data-stu-id="c1e07-146">For more information, see **MsiGetComponentPath** function.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="c1e07-147">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="c1e07-147">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c1e07-148">Actions personnalisées 64 bits</span><span class="sxs-lookup"><span data-stu-id="c1e07-148">64-Bit Custom Actions</span></span>](64-bit-custom-actions.md)
</dt> </dl>

 

 
