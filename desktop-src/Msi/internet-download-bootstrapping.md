---
description: avec Windows Installer, un exécutable de démarrage configurable (Setup.exe) et un outil de configuration (Msistuff.exe) sont inclus dans les composants de SDK Windows pour les développeurs Windows Installer.
ms.assetid: 478340b4-5ee8-4ae6-b2d4-f53afbf098d9
title: Amorçage du téléchargement Internet
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44e051382d425c0e4f99d30e5fa224967127cfff
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/13/2021
ms.locfileid: "127012005"
---
# <a name="internet-download-bootstrapping"></a>Amorçage du téléchargement Internet

avec Windows Installer, un exécutable de démarrage configurable (Setup.exe) et un outil de configuration ([Msistuff.exe](msistuff-exe.md)) sont inclus dans les [composants de SDK Windows pour les développeurs Windows Installer](platform-sdk-components-for-windows-installer-developers.md). en utilisant Msistuff.exe pour configurer les ressources dans Setup.exe, les développeurs peuvent facilement créer une installation web d’un package de Windows Installer.

la version minimale du programme d’installation requise par le fichier exécutable de démarrage est Windows Installer version 2,0. Les applications peuvent récupérer la version du programme d’installation à l’aide de [**DllGetVersion**](/windows/win32/api/shlwapi/nc-shlwapi-dllgetversionproc). pour plus d’informations, consultez [détermination de la Version de Windows Installer](determining-the-windows-installer-version.md)

l’exécutable bootstrap fourni avec le kit de développement logiciel (SDK) Windows Installer effectue les opérations suivantes :

-   Appelle [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust) pour vérifier la signature numérique du fichier .msi. Windows le programme d’installation version 2,0 et les versions ultérieures fournissent un Package d’Interface de sujet (SIP) pour permettre la signature des packages de Windows Installer.
-   si nécessaire, met à niveau la version du Windows Installer sur l’ordinateur.

Les ressources suivantes de Setup.exe peuvent être affichées ou configurées à l’aide de [Msistuff.exe](msistuff-exe.md).



| ID de ressource                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ISETUPPROPNAME, \_ BASEURL      | Emplacement de l’URL de base de Setup.exe. Si aucune valeur n’est spécifiée, l’emplacement de Setup.exe est défini par défaut sur support amovible. Seules les installations basées sur une URL sont soumises à un contrôle avec [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust). La barre oblique de fin sur l’URL est facultative. Cette ressource est facultative.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| \_base de données ISETUPPROPNAME     | Nom du fichier de .msi. Il s’agit d’un chemin d’accès relatif au fichier .msi spécifié par rapport à l’emplacement du programme Setup.exe. Cette ressource est requise si le correctif ISETUPPROPNAME de ressource \_ n’est pas spécifié. La \_ base de données ISETUPPROPNAME et le \_ correctif ISETUPPROPNAME ne peuvent pas être spécifiés. Vous ne pouvez spécifier qu’une seule des deux.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| \_opération ISETUPPROPNAME    | Type d’opération à effectuer. Les valeurs possibles sont INSTALL, MINPATCH, MAJPATCH et INSTALLUPD. La valeur d’installation correspond à la première installation du package. La valeur MINPATCH indique que le correctif spécifié dans la propriété PATCH est un correctif de mise à niveau faible ou mineur. La valeur MAJPATCH indique que le correctif spécifié dans la propriété PATCH est un correctif de mise à jour majeur. INSTALLUPD indique que l’installation peut être une première installation ou une mise à jour. L’utilisation de INSTALLUPD a le contrôle d’amorçage pour la présence du produit. Si le produit est présent, l’indicateur de package recache est défini et une réinstallation est effectuée ; dans le cas contraire, une installation normale est effectuée. Notez que INSTALLUPD doit être utilisé uniquement pour les petits packages de mise à niveau et mineurs où le code du produit ne change pas. Dans le cas d’une mise à niveau majeure, la réinstallation n’est pas nécessaire, car le code du produit change, créant ainsi un nouveau produit. La création de la table de mise à niveau en plus des actions FindRelatedProducts, MigrateFeatureStates et RemoveExistingProducts gère la mise à niveau du produit d’origine. Par conséquent, l’option d’installation est suffisante. Si cette ressource est manquante, l’opération d’installation est supposée si la \_ propriété de base de données ISETUPPROPNAME est créée. Dans le cas contraire, MINPATCH est supposé si la \_ propriété de patch ISETUPPROPNAME est créée. Il s’agit d’une valeur facultative. |
| ISETUPPROPNAME \_ ProductName  | Nom du produit. Il s’agit du nom utilisé dans le texte de la bannière de l’interface utilisateur téléchargée. Cette ressource est facultative. En cas d’omission, le nom a comme valeur par défaut « le produit ».                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| \_MSI minimal \_ ISETUPPROPNAME | version minimale de la Windows Installer requise. si la version minimale du Windows Installer n’est pas installée sur l’ordinateur, la [Instmsi.exe](instmsi-exe.md) appropriée est appelée pour mettre à niveau le Windows Installer. La valeur de cette propriété a le même format que la \_ valeur PageCount PID. Pour plus d’informations, consultez la propriété [**Résumé du nombre de pages**](page-count-summary.md) . cette valeur doit être au moins égale à 200, la valeur qui identifie le Windows Installer version 2,0. Cette ressource est requise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ISETUPPROPNAME \_ INSTLOCATION | emplacement de l’URL de base des exécutables de mise à niveau Windows Installer. Cette ressource peut être omise. Si cette valeur est omise, l’emplacement par défaut des exécutables de mise à niveau correspond à l’emplacement de Setup.exe.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ISETUPPROPNAME \_ INSTMSIA     | nom de la version ANSI du fichier exécutable de mise à niveau Windows Installer. Il s’agit d’un chemin d’accès relatif à la version ANSI de Instmsi.exe relative à l’emplacement spécifié par ISETUPPROPNAME \_ INSTLOCATION. Cette ressource est requise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ISETUPPROPNAME \_ INSTMSIW     | nom de la version Unicode du fichier exécutable de mise à niveau Windows Installer. Il s’agit d’un chemin d’accès relatif à la version Unicode de Instmsi.exe relative à l’emplacement spécifié par ISETUPPROPNAME \_ INSTLOCATION. Cette ressource est requise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| \_correctif ISETUPPROPNAME        | Nom du fichier. msp. Il s’agit d’un chemin d’accès relatif au fichier. msp spécifié par rapport à l’emplacement du programme Setup.exe. Cette ressource est requise si la \_ base de données ISETUPPROPNAME des ressources n’est pas spécifiée. La \_ base de données ISETUPPROPNAME et le \_ correctif ISETUPPROPNAME ne peuvent pas être spécifiés. Vous ne pouvez spécifier qu’une seule des deux.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| \_Propriétés ISETUPPROPNAME   | Les chaînes PROPERTY = VALUE. Il s’agit des paires propriété = valeur à inclure sur la ligne de commande. Cette option est facultative.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |



 

Par exemple, les \_ \_ valeurs de base de données ISETUPPROPNAME BASEURL et ISETUPPROPNAME suivantes seraient utilisées pour les emplacements de packages hypothétiques suivants.



| Emplacement réel du package                                                                            | Valeurs de ressources                                                                                                                               |
|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
| https : \/ /www.blueyonderairlines.com/Products/Product1/product1.msi                                   | ISETUPPROPNAME \_ BASEURL = https : \/ /www.blueyonderairlines.com/products/product1 ISETUPPROPNAME \_ Database = product1.msi<br/>              |
| https : \/ /www.blueyonderairlines.com/Products/Product1/product1.msi                                   | ISETUPPROPNAME \_ BASEURL = https : \/ /www.blueyonderairlines.com/products/product1 ISETUPPROPNAME \_ Database =.. /Products1/product1.msi<br/> |
| e : \\product1.msi                                                                                   | Omettez ISETUPPROPNAME \_ BASEURL. ISETUPPROPNAME \_ base de données = product1.msi<br/>                                                              |
| e : \\product1.msi d’installation \\ (l’emplacement en cours d’exécution de Setup.exe est e : \\setup.exe.)<br/> | Omettez ISETUPPROPNAME \_ BASEURL. ISETUPPROPNAME \_ base de données = installation \\product1.msi<br/>                                                       |



 

## <a name="setupexe-command-line-parameters"></a>Setup.exe les paramètres de ligne de commande

le tableau suivant répertorie les options de commande qui peuvent être utilisées avec la Setup.exe fournie avec les [composants SDK Windows pour les développeurs Windows Installer](platform-sdk-components-for-windows-installer-developers.md). En cas d’appel sans options de ligne de commande, Setup.exe le comportement spécifié par défaut via les ressources configurées. Les options de ligne de commande s’excluent mutuellement : seule l’une d’entre elles peut être utilisée à la fois.



| Option | Usage                                                                      | Signification                                                                                                                                                                                                                                                                                                         |
|--------|----------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **/a** | setup.exe **/a**                                                           | Lance une installation administrative. Si la \_ propriété de base de données ISETUPPROPNAME est configurée dans Setup.exe, cette option peut être utilisée pour effectuer une installation administrative du produit. Cette option de ligne de commande n’est pas prise en charge si la \_ ressource de correctif ISETUPPROPNAME est configurée.<br/> |
| **/a** | setup.exe **/a** *<chemin d’accès complet à une installation d’administration existante>* | Si la \_ propriété ISETUPPROPNAME patch est configurée dans Setup.exe, cette option peut être utilisée pour appliquer un correctif à une installation d’administration existante du produit. Cette option de ligne de commande n’est pas prise en charge si la \_ ressource de base de données ISETUPPROPNAME est configurée.                                               |
| **/v** | setup.exe **/v***<full path to a file>*                             | Vérifie la signature sur le fichier à l’aide de WinVerifyTrust. Aucune interface utilisateur n’est affichée lorsque cette option est utilisée. Dans ce cas, le résultat de la vérification d’approbation est la valeur de retour obtenue à partir de l’exécution de Setup.exe.                                                                                                 |
| **/?** |                                                                            | Affiche une boîte de dialogue d’aide indiquant les arguments valides. Remarque : la boîte de dialogue d’aide s’affiche également si des arguments non valides sont fournis.                                                                                                                                                                               |



 

pour plus d’informations, consultez [une URL basée sur un exemple d’Installation Windows Installer](a-url-based-windows-installer-installation-example.md).

 

 
