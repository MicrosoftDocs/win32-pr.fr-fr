---
title: Appel des dll d’extension
description: Appelle ces fonctions pour chaque paquet d’authentification ou de gestion des comptes valide qu’il reçoit du serveur d’accès au réseau (NAS).
ms.assetid: 6d738ad7-cce5-4835-97d6-c57173c79a16
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8bc96fab078a982f23f5f5dd86d51dbed46d5541
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103941220"
---
# <a name="invoking-the-extension-dlls"></a><span data-ttu-id="21ce7-103">Appel des dll d’extension</span><span class="sxs-lookup"><span data-stu-id="21ce7-103">Invoking the Extension DLLs</span></span>

> [!Note]  
> <span data-ttu-id="21ce7-104">Le service d’authentification Internet (IAS) a été renommé serveur NPS (Network Policy Server) à partir de Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="21ce7-104">Internet Authentication Service (IAS) was renamed Network Policy Server (NPS) starting with Windows Server 2008.</span></span> <span data-ttu-id="21ce7-105">Le contenu de cette rubrique s’applique à IAS et à NPS.</span><span class="sxs-lookup"><span data-stu-id="21ce7-105">The content of this topic applies to both IAS and NPS.</span></span> <span data-ttu-id="21ce7-106">Dans le texte, NPS est utilisé pour faire référence à toutes les versions du service, y compris les versions initialement appelées IAS.</span><span class="sxs-lookup"><span data-stu-id="21ce7-106">Throughout the text, NPS is used to refer to all versions of the service, including the versions originally referred to as IAS.</span></span>

 

<span data-ttu-id="21ce7-107">Les dll d’extension NPS doivent exporter au moins l’une des fonctions de rappel suivantes : [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process), [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)ou [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span><span class="sxs-lookup"><span data-stu-id="21ce7-107">NPS Extension DLLs must export at least one of the following callback functions: [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process), [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), or [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span> <span data-ttu-id="21ce7-108">NPS appelle ces fonctions pour chaque paquet d’authentification ou de gestion des comptes valide qu’il reçoit du serveur d’accès au réseau (NAS).</span><span class="sxs-lookup"><span data-stu-id="21ce7-108">NPS calls these function for each valid authentication or accounting packet that it receives from the Network Access Server (NAS).</span></span> <span data-ttu-id="21ce7-109">Le serveur NPS appelle ces fonctions dans chacune des dll listées sous la [clé de registre des paramètres](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)du serveur NPS.</span><span class="sxs-lookup"><span data-stu-id="21ce7-109">NPS calls these functions in each of the DLLs listed below the NPS' [Parameters registry key](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls).</span></span> <span data-ttu-id="21ce7-110">Les dll sont appelées dans l’ordre dans lequel elles sont répertoriées.</span><span class="sxs-lookup"><span data-stu-id="21ce7-110">The DLLs are called in the order in which they are listed.</span></span>

<span data-ttu-id="21ce7-111">Si une DLL d’extension NPS exporte plusieurs des fonctions ci-dessus, le serveur NPS appelle simplement l’une d’entre elles : la fonction la plus récente prise en charge par le système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="21ce7-111">If an NPS Extension DLL exports more than one of the above functions, NPS invokes just one of them: the newest function that is supported by the operating system.</span></span>

> [!Note]  
> <span data-ttu-id="21ce7-112">IAS a initialement pris en charge uniquement [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span><span class="sxs-lookup"><span data-stu-id="21ce7-112">IAS originally supported only [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="21ce7-113">IAS prend également en charge [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex).</span><span class="sxs-lookup"><span data-stu-id="21ce7-113">IAS supports also [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex).</span></span> <span data-ttu-id="21ce7-114">IAS (et les versions ultérieures de NPS) prend également en charge [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span><span class="sxs-lookup"><span data-stu-id="21ce7-114">IAS (and later NPS) supports also [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span>

 

<span data-ttu-id="21ce7-115">Les dll d’extension NPS peuvent également exporter les fonctions [**RadiusExtensionInit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) et [**RadiusExtensionTerm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) .</span><span class="sxs-lookup"><span data-stu-id="21ce7-115">NPS Extension DLLs may also export [**RadiusExtensionInit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) and [**RadiusExtensionTerm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) functions.</span></span> <span data-ttu-id="21ce7-116">S’ils sont présents, le serveur NPS appelle ces fonctions lorsque le service démarre et s’arrête, respectivement.</span><span class="sxs-lookup"><span data-stu-id="21ce7-116">If they are present, NPS calls these functions when the service starts and stops, respectively.</span></span>

## <a name="radiusextensionprocess-callback-function"></a><span data-ttu-id="21ce7-117">RadiusExtensionProcess fonction de rappel</span><span class="sxs-lookup"><span data-stu-id="21ce7-117">RadiusExtensionProcess Callback Function</span></span>

<span data-ttu-id="21ce7-118">Dans une DLL d’extension d’authentification, [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) reçoit tous les attributs qui sont reçus par NPS dans la demande d’authentification ou de gestion des comptes.</span><span class="sxs-lookup"><span data-stu-id="21ce7-118">In an Authentication Extension DLL, [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) receives all the attributes that are received by NPS in the authentication or accounting request.</span></span> <span data-ttu-id="21ce7-119">À l’aide de ces attributs, la fonction peut effectuer des validations supplémentaires, vérifier les autorisations de l’utilisateur ou envoyer des enregistrements de gestion de comptes à un serveur d’État central.</span><span class="sxs-lookup"><span data-stu-id="21ce7-119">Using these attributes, the function can perform additional validations, verify the user's authorizations, or send accounting records to a central state server.</span></span>

<span data-ttu-id="21ce7-120">Dans une DLL d’extension d’autorisation, **RadiusExtensionProcess** reçoit tous les attributs générés par le service d’autorisation NPS.</span><span class="sxs-lookup"><span data-stu-id="21ce7-120">In an Authorization Extension DLL, **RadiusExtensionProcess** receives all the attributes generated by the NPS authorization service.</span></span> <span data-ttu-id="21ce7-121">Il s’agit des attributs qui sont retournés dans le paquet Access-Accept.</span><span class="sxs-lookup"><span data-stu-id="21ce7-121">These are the attributes that are returned in the Access-Accept packet.</span></span>

<span data-ttu-id="21ce7-122">Après l’appel de **RadiusExtensionProcess**, l’action effectuée par le serveur NPS dépend de la valeur de retour de **RadiusExtensionProcess** et de la valeur retournée dans le paramètre *pfAction* .</span><span class="sxs-lookup"><span data-stu-id="21ce7-122">After calling **RadiusExtensionProcess**, the action performed by NPS depends on the return value of **RadiusExtensionProcess**, and the value returned in the *pfAction* parameter.</span></span> <span data-ttu-id="21ce7-123">Ces valeurs sont répertoriées dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="21ce7-123">These values are listed in the following table.</span></span>



| <span data-ttu-id="21ce7-124">*pfAction*</span><span class="sxs-lookup"><span data-stu-id="21ce7-124">*pfAction*</span></span> | <span data-ttu-id="21ce7-125">DLL d’extension d’authentification</span><span class="sxs-lookup"><span data-stu-id="21ce7-125">Authentication Extension DLL</span></span>                                                                                                                                            | <span data-ttu-id="21ce7-126">DLL d’extension d’autorisation</span><span class="sxs-lookup"><span data-stu-id="21ce7-126">Authorization Extension DLL</span></span>                                                                                                                                 |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="21ce7-127">Accepter</span><span class="sxs-lookup"><span data-stu-id="21ce7-127">Accept</span></span>     | <span data-ttu-id="21ce7-128">Ignore les autres DLL d’extension d’authentification et contourne également le mécanisme d’authentification NPS.</span><span class="sxs-lookup"><span data-stu-id="21ce7-128">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span>                                                                  | <span data-ttu-id="21ce7-129">Accepter non autorisé.</span><span class="sxs-lookup"><span data-stu-id="21ce7-129">Accept not allowed.</span></span>                                                                                                                                         |
| <span data-ttu-id="21ce7-130">Rejeter</span><span class="sxs-lookup"><span data-stu-id="21ce7-130">Reject</span></span>     | <span data-ttu-id="21ce7-131">Ignore les autres DLL d’extension d’authentification et contourne également le mécanisme d’authentification NPS.</span><span class="sxs-lookup"><span data-stu-id="21ce7-131">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span> <span data-ttu-id="21ce7-132">Access-Reject paquet est envoyé.</span><span class="sxs-lookup"><span data-stu-id="21ce7-132">Access-Reject packet is sent.</span></span>                                    | <span data-ttu-id="21ce7-133">Ignore toutes les autres DLL d’extension d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="21ce7-133">Bypasses any further Authorization Extension DLLs.</span></span>                                                                                                          |
| <span data-ttu-id="21ce7-134">Continuer</span><span class="sxs-lookup"><span data-stu-id="21ce7-134">Continue</span></span>   | <span data-ttu-id="21ce7-135">Le paquet est envoyé à la prochaine DLL d’extension d’authentification ou au mécanisme d’authentification NPS si aucune autre DLL d’extension d’authentification n’est répertoriée dans le registre.</span><span class="sxs-lookup"><span data-stu-id="21ce7-135">The packet is sent to the next Authentication Extension DLL or to the NPS authentication mechanism if no more Authentication Extension DLLs are listed in the registry.</span></span> | <span data-ttu-id="21ce7-136">Le paquet est envoyé à la DLL d’extension d’autorisation suivante ou au Journal de gestion des comptes NPS si aucune autre DLL d’extension d’autorisation n’est répertoriée dans le registre.</span><span class="sxs-lookup"><span data-stu-id="21ce7-136">The packet is sent to the next Authorization Extension DLL or to the NPS accounting log if no more Authorization Extension DLLs are listed in the registry.</span></span> |



 

<span data-ttu-id="21ce7-137">Pour toutes les dll d’extension, si **RadiusExtensionProcess** retourne une erreur, le paquet est ignoré.</span><span class="sxs-lookup"><span data-stu-id="21ce7-137">For all Extension DLLs, if **RadiusExtensionProcess** returns an error, the packet is discarded.</span></span> <span data-ttu-id="21ce7-138">Les paquets ignorés en raison d’une erreur ne sont pas traités par le journal de gestion des comptes NPS.</span><span class="sxs-lookup"><span data-stu-id="21ce7-138">Packets that are discarded because of an error are not processed by the NPS accounting log.</span></span>

<span data-ttu-id="21ce7-139">Si une erreur se produit, NPS publie un événement d’erreur générique dans le journal des événements.</span><span class="sxs-lookup"><span data-stu-id="21ce7-139">If an error occurs, NPS posts a generic error event to the Event Log.</span></span> <span data-ttu-id="21ce7-140">Il est recommandé que la DLL d’extension fournisse une journalisation des erreurs supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="21ce7-140">It is recommended that the Extension DLL provide additional error logging.</span></span>

<span data-ttu-id="21ce7-141">Pour plus d’informations et pour obtenir un diagramme qui représente le processus précédent, consultez [à propos des extensions NPS](/windows/desktop/Nps/ias-about-internet-authentication-service).</span><span class="sxs-lookup"><span data-stu-id="21ce7-141">For more information and a diagram that represents the preceding process, see [About NPS Extensions](/windows/desktop/Nps/ias-about-internet-authentication-service).</span></span>

<span data-ttu-id="21ce7-142">**RadiusExtensionProcess** doit retourner une erreur s’il ne peut pas vérifier l’acceptation ou le rejet du paquet.</span><span class="sxs-lookup"><span data-stu-id="21ce7-142">**RadiusExtensionProcess** should return an error if it cannot verify the acceptance or rejection of the packet.</span></span> <span data-ttu-id="21ce7-143">Cette situation peut se produire si un problème réseau empêche **RadiusExtensionProcess** de communiquer avec sa base de données d’authentification utilisateur.</span><span class="sxs-lookup"><span data-stu-id="21ce7-143">This situation might arise if a network problem prevents **RadiusExtensionProcess** from communicating with its user authentication database.</span></span>

<span data-ttu-id="21ce7-144">Lors du traitement d’un paquet de comptabilité, le paramètre *pfAction* est **null**, donc *pfAction* ne peut pas être défini.</span><span class="sxs-lookup"><span data-stu-id="21ce7-144">When processing an accounting packet, the *pfAction* parameter is **NULL**, so *pfAction* cannot be set.</span></span> <span data-ttu-id="21ce7-145">Le renvoi d’une erreur à partir de la fonction **RadiusExtensionProcess** lors du traitement d’une demande de gestion entraîne la suppression de la demande par le serveur NPS.</span><span class="sxs-lookup"><span data-stu-id="21ce7-145">Returning an error from the **RadiusExtensionProcess** function while processing an accounting request causes the request to be discarded by NPS.</span></span>

> [!Note]  
> <span data-ttu-id="21ce7-146">Après avoir reçu une acceptation, NPS n’appelle pas **RadiusExtensionProcess** dans les autres dll de la séquence.</span><span class="sxs-lookup"><span data-stu-id="21ce7-146">After receiving an accept, NPS does not call **RadiusExtensionProcess** in the remaining DLLs in the sequence.</span></span> <span data-ttu-id="21ce7-147">Étant donné que certaines fonctions d’authentification peuvent également implémenter des autorisations, les fonctions d’authentification ignorées peuvent entraîner l’omission des autorisations.</span><span class="sxs-lookup"><span data-stu-id="21ce7-147">Because some authentication functions may also implement authorizations, skipping such authentication functions may cause authorizations to be omitted.</span></span> <span data-ttu-id="21ce7-148">Si une instance de [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) retourne Accept, il est important de ne pas faire d’hypothèses sur les autorisations récupérées.</span><span class="sxs-lookup"><span data-stu-id="21ce7-148">If an instance of [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) returns Accept, it is important not to make any assumptions about the authorizations retrieved.</span></span>

 

<span data-ttu-id="21ce7-149">Si la valeur continue ou Accept est retournée, le profil correspondant au domaine est renvoyé dans le paquet Access-Accept.</span><span class="sxs-lookup"><span data-stu-id="21ce7-149">If Continue or Accept is returned, the profile corresponding to the realm is sent back in the Access-Accept packet.</span></span>

<span data-ttu-id="21ce7-150">Les dll d’extension d’authentification doivent être conçues pour coexister avec les fournisseurs d’authentification NPS intégrés et avec d’autres DLL d’extension.</span><span class="sxs-lookup"><span data-stu-id="21ce7-150">Authentication Extension DLLs should be designed to coexist with the built-in NPS authentication providers and with other Extension DLLs.</span></span> <span data-ttu-id="21ce7-151">Si une extension s’applique uniquement à une certaine base de données utilisateur (par exemple, Windows Active Directory), elle doit vérifier l’attribut [**ratProvider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider) transmis dans *le paramètre des* modèles, avant de traiter la demande.</span><span class="sxs-lookup"><span data-stu-id="21ce7-151">If an extension is only applicable to a certain user database (for example Windows Active Directory), then it should verify the [**ratProvider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider) attribute passed in the *pAttrs* parameter, before processing the request.</span></span> <span data-ttu-id="21ce7-152">L’attribut ratProvider serait une liste d’attributs vers laquelle pointe *le paramètre de* modèles.</span><span class="sxs-lookup"><span data-stu-id="21ce7-152">The ratProvider attribute would be one of a list of attributes pointed to by the *pAttrs* parameter.</span></span>

<span data-ttu-id="21ce7-153">Les dll d’extension ne doivent pas rejeter les demandes, car les attributs requis sont manquants.</span><span class="sxs-lookup"><span data-stu-id="21ce7-153">Extension DLLs should not reject requests because required attributes are missing.</span></span> <span data-ttu-id="21ce7-154">Par exemple, si une extension d’authentification requiert l’attribut User-Password, ratUserPassword et que l’attribut n’est pas présent, l’extension doit retourner une action de raContinue pour permettre à d’autres extensions et fournisseurs de traiter la demande.</span><span class="sxs-lookup"><span data-stu-id="21ce7-154">For example, if an authentication extension requires the User-Password attribute, ratUserPassword, and the attribute is not present, the extension should return an action of raContinue to give other extensions and providers a chance to process the request.</span></span>

<span data-ttu-id="21ce7-155">Le serveur NPS appelle la fonction [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) après avoir décidé d’utiliser une base de données d’authentification particulière, mais avant que l’utilisateur soit authentifié.</span><span class="sxs-lookup"><span data-stu-id="21ce7-155">NPS calls the [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) function after the decision to use a particular authentication database is made, but before the user is authenticated.</span></span> <span data-ttu-id="21ce7-156">Par conséquent, les informations relatives à la base de données d’authentification à utiliser sont disponibles pour la fonction, afin que la fonction puisse vérifier les autorisations de l’utilisateur dans la base de données d’authentification appropriée.</span><span class="sxs-lookup"><span data-stu-id="21ce7-156">Therefore, information about which authentication database to use is available to the function, so that the function can check for the user's authorizations in the appropriate authentication database.</span></span> <span data-ttu-id="21ce7-157">NPS prend en charge différentes bases de données d’authentification, y compris Windows Active Directory.</span><span class="sxs-lookup"><span data-stu-id="21ce7-157">NPS supports various authentication databases including the Windows Active Directory.</span></span>

## <a name="radiusextensionprocessex-callback-function"></a><span data-ttu-id="21ce7-158">RadiusExtensionProcessEx fonction de rappel</span><span class="sxs-lookup"><span data-stu-id="21ce7-158">RadiusExtensionProcessEx Callback Function</span></span>

<span data-ttu-id="21ce7-159">Les dll d’extension NPS peuvent exporter des [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) au lieu de ou en plus de [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span><span class="sxs-lookup"><span data-stu-id="21ce7-159">NPS Extension DLLs may export [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="21ce7-160">Cette fonction permet à la DLL d’ajouter des attributs d’autorisation supplémentaires à la réponse d’authentification.</span><span class="sxs-lookup"><span data-stu-id="21ce7-160">This function enables the DLL to append additional authorization attributes to the authentication response.</span></span>

<span data-ttu-id="21ce7-161">Les informations décrites dans la section *fonction de rappel RadiusExtensionProcess* s’appliquent à la fonction [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) .</span><span class="sxs-lookup"><span data-stu-id="21ce7-161">The same information described in the *RadiusExtensionProcess Callback Function* section applies to the [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function.</span></span>

<span data-ttu-id="21ce7-162">[**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) ne peut pas modifier ou supprimer les attributs présents.</span><span class="sxs-lookup"><span data-stu-id="21ce7-162">[**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) cannot modify or remove any of the attributes that are present.</span></span> <span data-ttu-id="21ce7-163">Si un scénario se produit dans lequel la DLL doit modifier ou supprimer des attributs, la seule option consiste à utiliser l’interface utilisateur du serveur NPS pour s’assurer que les attributs ne sont pas présents.</span><span class="sxs-lookup"><span data-stu-id="21ce7-163">If a scenario arises in which the DLL must modify or remove attributes, the only option is to use the NPS user interface to ensure that the attributes are not present.</span></span> <span data-ttu-id="21ce7-164">Par défaut, aucun attribut d’autorisation n’est présent.</span><span class="sxs-lookup"><span data-stu-id="21ce7-164">By default, no authorization attributes are present.</span></span> <span data-ttu-id="21ce7-165">Tous ceux qui sont présents doivent avoir été ajoutés par le biais de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="21ce7-165">Any that are present must have been added through the user interface.</span></span>

<span data-ttu-id="21ce7-166">Si plusieurs DLL d’autorisation sont configurées et que certaines de ces dll implémentent [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), la fonction **RadiusExtensionProcess/ex** dans une dll donnée ne reçoit pas les attributs des dll d’autorisation précédemment appelées.</span><span class="sxs-lookup"><span data-stu-id="21ce7-166">If multiple Authorization DLLs are configured and some of these DLLs implement [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), the **RadiusExtensionProcess/Ex** function in a given DLL does not receive the attributes from the previously called Authorization DLLs.</span></span> <span data-ttu-id="21ce7-167">Il reçoit uniquement les attributs générés par le service d’autorisation NPS.</span><span class="sxs-lookup"><span data-stu-id="21ce7-167">It receives only those attributes generated by the NPS authorization service.</span></span>

## <a name="radiusextensionprocess2-callback-function"></a><span data-ttu-id="21ce7-168">RadiusExtensionProcess2 fonction de rappel</span><span class="sxs-lookup"><span data-stu-id="21ce7-168">RadiusExtensionProcess2 Callback Function</span></span>

<span data-ttu-id="21ce7-169">Les dll d’extension NPS peuvent également exporter des [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) au lieu de, ou en plus de, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) et **RadiusExtensionProcessEx**.</span><span class="sxs-lookup"><span data-stu-id="21ce7-169">NPS Extension DLLs may also export [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) and **RadiusExtensionProcessEx**.</span></span> <span data-ttu-id="21ce7-170">Cette fonction permet à la DLL d’ajouter, de modifier et de supprimer des attributs vers et à partir de la demande ou de la réponse d’authentification.</span><span class="sxs-lookup"><span data-stu-id="21ce7-170">This function enables the DLL to add, modify, and remove attributes to and from the authentication request or response.</span></span>

<span data-ttu-id="21ce7-171">Les informations décrites dans la section *fonction de rappel RadiusExtensionProcessEx* s’appliquent à la fonction [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) , avec les exceptions suivantes :</span><span class="sxs-lookup"><span data-stu-id="21ce7-171">The same information described in the *RadiusExtensionProcessEx Callback Function* section applies to the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function, with the following exceptions:</span></span>

-   <span data-ttu-id="21ce7-172">Dans une DLL d’autorisation, **RadiusExtensionProcess2** reçoit à la fois les attributs générés par le service d’autorisation NPS et les attributs générés à partir des dll d’autorisation précédemment appelées.</span><span class="sxs-lookup"><span data-stu-id="21ce7-172">In an Authorization DLL, **RadiusExtensionProcess2** receives both the attributes generated by the NPS authorization service and the attributes generated from previously called Authorization DLLs.</span></span>
-   <span data-ttu-id="21ce7-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) n’a pas de paramètre *pfAction* .</span><span class="sxs-lookup"><span data-stu-id="21ce7-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) does not have a *pfAction* parameter.</span></span> <span data-ttu-id="21ce7-174">**RadiusExtensionProcess2** définit la disposition finale de la demande à l’aide de la fonction [**SetResponseType**](/previous-versions/ms688462(v=vs.85)) fournie dans la structure de [**bloc de \_ \_ contrôle \_ d’extension RADIUS**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block) .</span><span class="sxs-lookup"><span data-stu-id="21ce7-174">**RadiusExtensionProcess2** sets the final disposition of the request using the [**SetResponseType**](/previous-versions/ms688462(v=vs.85)) function provided in the [**RADIUS\_EXTENSION\_CONTROL\_BLOCK**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block) structure.</span></span>
-   <span data-ttu-id="21ce7-175">NPS appelle toujours la fonction [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) dans toutes les dll restantes, que les fonctions des dll précédentes aient retourné Accept.</span><span class="sxs-lookup"><span data-stu-id="21ce7-175">NPS always calls the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) function in any remaining DLLs regardless of whether functions in previous DLLs returned Accept.</span></span>

## <a name="related-topics"></a><span data-ttu-id="21ce7-176">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="21ce7-176">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="21ce7-177">Configuration des dll d’extension</span><span class="sxs-lookup"><span data-stu-id="21ce7-177">Setting Up the Extension DLLs</span></span>](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)
</dt> <dt>

[<span data-ttu-id="21ce7-178">Attributs d’identification utilisateur</span><span class="sxs-lookup"><span data-stu-id="21ce7-178">User Identification Attributes</span></span>](/windows/desktop/Nps/ias-user-identification-attributes)
</dt> </dl>

 

 