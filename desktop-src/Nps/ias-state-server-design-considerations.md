---
title: Considérations relatives à la conception du serveur d’État
description: Selon votre conception, vous pouvez avoir besoin d’un serveur pour effectuer le suivi des utilisateurs qui sont actuellement connectés sur le réseau.
ms.assetid: 2f8d268b-5518-4ad2-aed6-5971c913db6d
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7a0ef654f3641138075acc667d733b20c94c4840
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104380180"
---
# <a name="state-server-design-considerations"></a><span data-ttu-id="1886d-103">Considérations relatives à la conception du serveur d’État</span><span class="sxs-lookup"><span data-stu-id="1886d-103">State Server Design Considerations</span></span>

> [!Note]  
> <span data-ttu-id="1886d-104">Le service d’authentification Internet (IAS) a été renommé serveur NPS (Network Policy Server) à partir de Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="1886d-104">Internet Authentication Service (IAS) was renamed Network Policy Server (NPS) starting with Windows Server 2008.</span></span> <span data-ttu-id="1886d-105">Le contenu de cette rubrique s’applique à IAS et à NPS.</span><span class="sxs-lookup"><span data-stu-id="1886d-105">The content of this topic applies to both IAS and NPS.</span></span> <span data-ttu-id="1886d-106">Dans le texte, NPS est utilisé pour faire référence à toutes les versions du service, y compris les versions initialement appelées IAS.</span><span class="sxs-lookup"><span data-stu-id="1886d-106">Throughout the text, NPS is used to refer to all versions of the service, including the versions originally referred to as IAS.</span></span>

 

<span data-ttu-id="1886d-107">Selon votre conception, vous pouvez avoir besoin d’un serveur pour effectuer le suivi des utilisateurs qui sont actuellement connectés sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="1886d-107">Depending on your design, you may need a server to track the users that are currently logged onto the network.</span></span> <span data-ttu-id="1886d-108">Le principal défi avec le serveur d’État est de maintenir la synchronisation des informations de la base de données du serveur d’État avec celles qui sont actuellement connectées.</span><span class="sxs-lookup"><span data-stu-id="1886d-108">The main challenge with the state server is keeping the information in the state server database in-sync with who is actually logged on.</span></span> <span data-ttu-id="1886d-109">Si les informations du serveur d’État ne sont pas synchronisées, les utilisateurs peuvent avoir plusieurs sessions lorsqu’ils ne sont pas autorisés à le faire.</span><span class="sxs-lookup"><span data-stu-id="1886d-109">If the information in the state server is out of sync, users may succeed in having multiple sessions when they aren't authorized to do so.</span></span> <span data-ttu-id="1886d-110">En outre, les utilisateurs qui n’ont pas plusieurs sessions peuvent être pénalisés par inadvertance.</span><span class="sxs-lookup"><span data-stu-id="1886d-110">Also, users who do not have multiple sessions could be inadvertently penalized.</span></span>

<span data-ttu-id="1886d-111">Les éléments suivants doivent être pris en considération lors de l’implémentation du serveur d’État :</span><span class="sxs-lookup"><span data-stu-id="1886d-111">The following should be taken into consideration in implementing the state server:</span></span>

-   <span data-ttu-id="1886d-112">Le serveur d’État doit prendre la décision en ligne en quelques secondes.</span><span class="sxs-lookup"><span data-stu-id="1886d-112">The state server must make the decision online in a few seconds.</span></span> <span data-ttu-id="1886d-113">Pour cette raison, le serveur d’état requiert une infrastructure évolutive capable de prendre en charge de nombreuses mises à jour et requêtes par seconde.</span><span class="sxs-lookup"><span data-stu-id="1886d-113">For this reason the state server requires a scaleable infrastructure that can support many updates and queries per second.</span></span> <span data-ttu-id="1886d-114">Les bases de données relationnelles ne sont pas appropriées pour ces requêtes volumineuses avec des mises à jour simultanées.</span><span class="sxs-lookup"><span data-stu-id="1886d-114">Relational databases are not appropriate for such large queries with simultaneous updates.</span></span> <span data-ttu-id="1886d-115">Les bases de données relationnelles sont principalement conçues pour maintenir la cohérence des données et fournir une vue cohérente des données à tous les consommateurs.</span><span class="sxs-lookup"><span data-stu-id="1886d-115">Relational databases are primarily built to keep data consistent and to provide a consistent view of the data to all consumers.</span></span> <span data-ttu-id="1886d-116">Elles ne sont pas conçues pour des mises à jour rapides.</span><span class="sxs-lookup"><span data-stu-id="1886d-116">They are not built for quick updates.</span></span>
-   <span data-ttu-id="1886d-117">La cohérence transactionnelle des mises à jour entre plusieurs objets n’est pas importante.</span><span class="sxs-lookup"><span data-stu-id="1886d-117">Transactional consistency on updates between multiple objects is not important.</span></span> <span data-ttu-id="1886d-118">Cela est dû au fait que le serveur d’État peut tolérer une petite fenêtre d’opportunités.</span><span class="sxs-lookup"><span data-stu-id="1886d-118">This is because the state server can tolerate a small window of opportunity.</span></span> <span data-ttu-id="1886d-119">Toutefois, la cohérence transactionnelle d’une seule mise à jour est importante pour réduire les risques de laisser le serveur d’État dans un état incohérent si l’un des serveurs RADIUS est arrêté au milieu de la mise à jour.</span><span class="sxs-lookup"><span data-stu-id="1886d-119">However, transactional consistency of a single update is important to reduce the chances of leaving the state server in an inconsistent state if one of the RADIUS servers is shut down in the middle of the update.</span></span>
-   <span data-ttu-id="1886d-120">La persistance (enregistrement de l’état du réseau dans le stockage persistant) n’est pas importante, car les informations persistantes sont rapidement désynchronisées avec l’état réel du réseau.</span><span class="sxs-lookup"><span data-stu-id="1886d-120">Persistence (saving the state of the network to persistent storage) is not important because the persistent information will quickly fall out of sync with the actual state of the network.</span></span>
-   <span data-ttu-id="1886d-121">Si RNIS ou d’autres formes de liaisons multiples sont prises en charge sur le réseau, le serveur d’État doit être en mesure de gérer les scénarios qui utilisent ces fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="1886d-121">If ISDN or other forms of multilink are supported on the network, the state server should be able to handle scenarios that use these features.</span></span>

<span data-ttu-id="1886d-122">Une conception possible consiste à implémenter à la fois une DLL d’extension d’authentification et une DLL d’extension d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="1886d-122">One possible design is to implement both an Authentication Extension DLL and an Authorization Extension DLL.</span></span> <span data-ttu-id="1886d-123">Chacune de ces dll peut communiquer sur le réseau avec une base de données.</span><span class="sxs-lookup"><span data-stu-id="1886d-123">Each of these DLLs can communicate over the network with a database.</span></span> <span data-ttu-id="1886d-124">La DLL d’extension d’autorisation peut mettre à jour la base de données avec des informations sur la personne qui est actuellement connectée au réseau.</span><span class="sxs-lookup"><span data-stu-id="1886d-124">The Authorization Extension DLL can update the database with information about who is currently logged onto the network.</span></span> <span data-ttu-id="1886d-125">La DLL d’extension d’authentification peut demander ces informations à la base de données pour décider s’il faut accepter ou refuser la demande d’authentification d’un utilisateur particulier. Si l’utilisateur est déjà connecté, la demande est rejetée.</span><span class="sxs-lookup"><span data-stu-id="1886d-125">The Authentication Extension DLL can query the database for this information to decide whether to accept or reject a particular user's authentication request; if the user is already logged on, the request is rejected.</span></span>

<span data-ttu-id="1886d-126">L’avantage de disposer de la DLL d’extension d’autorisation pour mettre à jour la base de données du serveur d’État est que la DLL d’extension d’autorisation a accès à des informations supplémentaires sur l’utilisateur authentifié.</span><span class="sxs-lookup"><span data-stu-id="1886d-126">The advantage of having the Authorization Extension DLL update the state-server database is that the Authorization Extension DLL has access to more information about the authenticated user.</span></span> <span data-ttu-id="1886d-127">La DLL d’extension d’autorisation a accès à tous les attributs d’autorisation à partir du mécanisme d’autorisation du serveur NPS.</span><span class="sxs-lookup"><span data-stu-id="1886d-127">The Authorization Extension DLL has access to all of the authorization attributes from the NPS Authorization mechanism.</span></span> <span data-ttu-id="1886d-128">Par exemple, certains utilisateurs peuvent avoir des autorisations qui leur permettent d’avoir plusieurs sessions.</span><span class="sxs-lookup"><span data-stu-id="1886d-128">For example, some users may have authorizations that allow them to have multiple sessions.</span></span> <span data-ttu-id="1886d-129">Le serveur d’État doit traiter ces utilisateurs comme un cas spécial.</span><span class="sxs-lookup"><span data-stu-id="1886d-129">The state server should treat such users as a special case.</span></span>

 

 




