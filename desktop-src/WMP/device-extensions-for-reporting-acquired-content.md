---
title: Extensions d’appareil pour la création de rapports sur le contenu acquis
description: Extensions d’appareil pour la création de rapports sur le contenu acquis
ms.assetid: 597d872e-9105-4edb-afa3-9f4407de0f73
keywords:
- Windows Media Player, extensions d’appareils
- Windows Media Player, extensions
- Lecteur Windows Media, création de rapports sur le contenu acquis
- extensions d’appareils, création de rapports sur le contenu acquis
- extensions, création de rapports sur le contenu acquis
- création de rapports sur le contenu acquis
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 831312457427cc9fe4ceed004772f3b174f77989
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "106511840"
---
# <a name="device-extensions-for-reporting-acquired-content"></a><span data-ttu-id="a6606-109">Extensions d’appareil pour la création de rapports sur le contenu acquis</span><span class="sxs-lookup"><span data-stu-id="a6606-109">Device Extensions for Reporting Acquired Content</span></span>

<span data-ttu-id="a6606-110">Le lecteur Windows Media 11 introduit une nouvelle fonctionnalité qui permet aux appareils portables de notifier le lecteur du contenu ajouté à l’appareil depuis la dernière synchronisation.</span><span class="sxs-lookup"><span data-stu-id="a6606-110">Windows Media Player 11 introduces new functionality that enables portable devices to notify the Player about content added to the device since the last synchronization.</span></span> <span data-ttu-id="a6606-111">Le lecteur Windows Media 11 peut utiliser ces informations pour copier le contenu nouvellement acquis de l’appareil sur l’ordinateur de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a6606-111">Windows Media Player 11 can use this information to copy newly acquired content from the device to the user's computer.</span></span> <span data-ttu-id="a6606-112">Les fabricants de périphériques doivent noter les exigences suivantes pour la prise en charge de cette fonctionnalité :</span><span class="sxs-lookup"><span data-stu-id="a6606-112">Device manufacturers should note the following requirements for supporting this functionality:</span></span>

-   <span data-ttu-id="a6606-113">Cette fonctionnalité est prise en charge uniquement pour les appareils compatibles MTP.</span><span class="sxs-lookup"><span data-stu-id="a6606-113">This feature is supported only for MTP-enabled devices.</span></span>
-   <span data-ttu-id="a6606-114">Cette fonctionnalité fonctionne uniquement avec les appareils qui ont un partenariat avec le lecteur Windows Media.</span><span class="sxs-lookup"><span data-stu-id="a6606-114">This feature works only with devices that have a partnership with Windows Media Player.</span></span>
-   <span data-ttu-id="a6606-115">Les appareils doivent signaler uniquement le contenu que l’appareil a créé ou téléchargé.</span><span class="sxs-lookup"><span data-stu-id="a6606-115">Devices must report only content that the device authored or downloaded.</span></span> <span data-ttu-id="a6606-116">Cela comprend les photos prises par l’appareil ; enregistrements vocaux créés par l’appareil ; enregistrements de la messagerie vocale ; téléchargements à partir d’une carte de stockage ; et téléchargements à partir d’Internet.</span><span class="sxs-lookup"><span data-stu-id="a6606-116">This includes photos taken by the device; voice recordings created by the device; voicemail recordings; downloads from a storage card; and downloads from the Internet.</span></span> <span data-ttu-id="a6606-117">Le contenu qui a été stocké sur le périphérique suite à une synchronisation avec un autre appareil ou un autre partenariat ne doit pas être signalé.</span><span class="sxs-lookup"><span data-stu-id="a6606-117">Content that was stored on the device as a result of synchronization with another device or a different partnership must not be reported.</span></span>

<span data-ttu-id="a6606-118">Le fichier d’en-tête nommé wmpdevices. h, qui est installé dans le cadre du kit de développement logiciel (SDK) du lecteur Windows Media, définit les structures et les constantes nécessaires à la prise en charge des extensions de périphérique du lecteur Windows Media.</span><span class="sxs-lookup"><span data-stu-id="a6606-118">The header file named wmpdevices.h, which is installed as part of the Windows Media Player SDK, defines the structures and constants needed to support Windows Media Player device extensions.</span></span>

<span data-ttu-id="a6606-119">Pour qu’un appareil soit reconnu comme prenant en charge la création de rapports de contenu acquis via le jeu d’extensions de périphérique MTP du lecteur Windows Media, il doit inclure les informations suivantes dans le jeu de données DeviceInfo.</span><span class="sxs-lookup"><span data-stu-id="a6606-119">For a device to be recognized as supporting the reporting of acquired content through the Windows Media Player MTP device extension set, it must include the following information in the DeviceInfo dataset.</span></span> <span data-ttu-id="a6606-120">(Pour plus d’informations sur ce jeu de données, consultez la section 4.6.1 de la spécification MTP.)</span><span class="sxs-lookup"><span data-stu-id="a6606-120">(For more information about this dataset, see section 4.6.1 of the MTP specification.)</span></span>



| <span data-ttu-id="a6606-121">Champ de DataSet</span><span class="sxs-lookup"><span data-stu-id="a6606-121">Dataset field</span></span>          | <span data-ttu-id="a6606-122">Ordre des champs</span><span class="sxs-lookup"><span data-stu-id="a6606-122">Field order</span></span> | <span data-ttu-id="a6606-123">Type de données</span><span class="sxs-lookup"><span data-stu-id="a6606-123">Data type</span></span>  | <span data-ttu-id="a6606-124">Valeur</span><span class="sxs-lookup"><span data-stu-id="a6606-124">Value</span></span>                       |
|------------------------|-------------|------------|-----------------------------|
| <span data-ttu-id="a6606-125">VendorExtensionID</span><span class="sxs-lookup"><span data-stu-id="a6606-125">VendorExtensionID</span></span>      | <span data-ttu-id="a6606-126">2</span><span class="sxs-lookup"><span data-stu-id="a6606-126">2</span></span>           | <span data-ttu-id="a6606-127">**UINT32**</span><span class="sxs-lookup"><span data-stu-id="a6606-127">**UINT32**</span></span> | <span data-ttu-id="a6606-128">0x00000006</span><span class="sxs-lookup"><span data-stu-id="a6606-128">0x00000006</span></span>                  |
| <span data-ttu-id="a6606-129">VendorExtensionVersion</span><span class="sxs-lookup"><span data-stu-id="a6606-129">VendorExtensionVersion</span></span> | <span data-ttu-id="a6606-130">3</span><span class="sxs-lookup"><span data-stu-id="a6606-130">3</span></span>           | <span data-ttu-id="a6606-131">**UINT16**</span><span class="sxs-lookup"><span data-stu-id="a6606-131">**UINT16**</span></span> | <span data-ttu-id="a6606-132">0x0064 (100)</span><span class="sxs-lookup"><span data-stu-id="a6606-132">0x0064 (100)</span></span>                |
| <span data-ttu-id="a6606-133">VendorExtensionDesc</span><span class="sxs-lookup"><span data-stu-id="a6606-133">VendorExtensionDesc</span></span>    | <span data-ttu-id="a6606-134">4</span><span class="sxs-lookup"><span data-stu-id="a6606-134">4</span></span>           | <span data-ttu-id="a6606-135">**Chaîne**</span><span class="sxs-lookup"><span data-stu-id="a6606-135">**String**</span></span> | <span data-ttu-id="a6606-136">« microsoft.com/WMPPD : 11,0 »</span><span class="sxs-lookup"><span data-stu-id="a6606-136">"microsoft.com/WMPPD: 11.0"</span></span> |



 

<span data-ttu-id="a6606-137">Le tableau suivant fournit des détails sur l’opération MTP pour la création de rapports sur le contenu acquis.</span><span class="sxs-lookup"><span data-stu-id="a6606-137">The following table provides details about the MTP operation for reporting acquired content.</span></span>



| <span data-ttu-id="a6606-138">Élément</span><span class="sxs-lookup"><span data-stu-id="a6606-138">Item</span></span>                  | <span data-ttu-id="a6606-139">Description</span><span class="sxs-lookup"><span data-stu-id="a6606-139">Description</span></span>                                                                                                                                                                                                                     |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a6606-140">Code d’opération</span><span class="sxs-lookup"><span data-stu-id="a6606-140">Operation Code</span></span>        | <span data-ttu-id="a6606-141">0x9202</span><span class="sxs-lookup"><span data-stu-id="a6606-141">0x9202</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="a6606-142">Paramètre d’opération 1</span><span class="sxs-lookup"><span data-stu-id="a6606-142">Operation Parameter 1</span></span> | <span data-ttu-id="a6606-143">L’ID de transaction fourni par l’appareil lors de la session précédente.</span><span class="sxs-lookup"><span data-stu-id="a6606-143">The transaction ID supplied by the device during the previous session.</span></span> <span data-ttu-id="a6606-144">Cette valeur est égale à zéro pour la première session.</span><span class="sxs-lookup"><span data-stu-id="a6606-144">This value is zero for the first session.</span></span>                                                                                                                |
| <span data-ttu-id="a6606-145">Paramètre d’opération 2</span><span class="sxs-lookup"><span data-stu-id="a6606-145">Operation Parameter 2</span></span> | <span data-ttu-id="a6606-146">Index de départ.</span><span class="sxs-lookup"><span data-stu-id="a6606-146">Starting index.</span></span> <span data-ttu-id="a6606-147">Cette valeur est toujours égale à zéro lors du premier appel d’une session.</span><span class="sxs-lookup"><span data-stu-id="a6606-147">This value is always zero on the first call of a session.</span></span> <span data-ttu-id="a6606-148">Lors des appels suivants au sein de la même session de synchronisation, cette valeur augmente en fonction du nombre d’éléments renvoyés par les données de la réponse précédente.</span><span class="sxs-lookup"><span data-stu-id="a6606-148">On subsequent calls within the same synchronization session, this value increases by the count of the items returned from the previous response data.</span></span> |
| <span data-ttu-id="a6606-149">Paramètre d’opération 3</span><span class="sxs-lookup"><span data-stu-id="a6606-149">Operation Parameter 3</span></span> | <span data-ttu-id="a6606-150">0x10000.</span><span class="sxs-lookup"><span data-stu-id="a6606-150">0x10000.</span></span> <span data-ttu-id="a6606-151">Cette constante, définie dans wmpdevices. h, est le nombre maximal de PUOIDs qui peuvent être retournés dans la réponse.</span><span class="sxs-lookup"><span data-stu-id="a6606-151">This constant, defined in wmpdevices.h, is the maximum number of PUOIDs that can be returned in the response.</span></span> <span data-ttu-id="a6606-152">Notez que la valeur de cette constante peut être révisée dans les versions ultérieures de ce fichier d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="a6606-152">Note that the value of this constant may be revised in future releases of this header file.</span></span>              |
| <span data-ttu-id="a6606-153">Paramètre d’opération 4</span><span class="sxs-lookup"><span data-stu-id="a6606-153">Operation Parameter 4</span></span> | <span data-ttu-id="a6606-154">0</span><span class="sxs-lookup"><span data-stu-id="a6606-154">0</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="a6606-155">Paramètre d’opération 5</span><span class="sxs-lookup"><span data-stu-id="a6606-155">Operation Parameter 5</span></span> | <span data-ttu-id="a6606-156">0</span><span class="sxs-lookup"><span data-stu-id="a6606-156">0</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="a6606-157">Données</span><span class="sxs-lookup"><span data-stu-id="a6606-157">Data</span></span>                  | <span data-ttu-id="a6606-158">L’appareil retourne un tableau MTP contenant des PUOIDs acquis.</span><span class="sxs-lookup"><span data-stu-id="a6606-158">The device returns an MTP array containing PUOIDs that have been acquired.</span></span> <span data-ttu-id="a6606-159">Le tableau commence par une valeur **DWORD** indiquant le nombre d’éléments dans le tableau, suivi du tableau d’éléments.</span><span class="sxs-lookup"><span data-stu-id="a6606-159">The array begins with a **DWORD** value indicating the count of items in the array, followed by the array of elements.</span></span>                               |
| <span data-ttu-id="a6606-160">Direction des données</span><span class="sxs-lookup"><span data-stu-id="a6606-160">Data Direction</span></span>        | <span data-ttu-id="a6606-161">R->I</span><span class="sxs-lookup"><span data-stu-id="a6606-161">R->I</span></span>                                                                                                                                                                                                                         |
| <span data-ttu-id="a6606-162">Options de code de réponse</span><span class="sxs-lookup"><span data-stu-id="a6606-162">Response Code Options</span></span> | <span data-ttu-id="a6606-163">**MTP \_ RÉPONSE \_ OK** (0x2001) ou code de réponse d’erreur valide.</span><span class="sxs-lookup"><span data-stu-id="a6606-163">**MTP\_RESPONSE\_OK** (0x2001) or valid error response code.</span></span>                                                                                                                                                                    |
| <span data-ttu-id="a6606-164">Paramètre de réponse 1</span><span class="sxs-lookup"><span data-stu-id="a6606-164">Response Parameter 1</span></span>  | <span data-ttu-id="a6606-165">ID de la transaction actuelle.</span><span class="sxs-lookup"><span data-stu-id="a6606-165">The current transaction ID.</span></span>                                                                                                                                                                                                     |
| <span data-ttu-id="a6606-166">Paramètre de réponse 2</span><span class="sxs-lookup"><span data-stu-id="a6606-166">Response Parameter 2</span></span>  | <span data-ttu-id="a6606-167">Nombre de PUOIDs qui restent à récupérer par des demandes ultérieures.</span><span class="sxs-lookup"><span data-stu-id="a6606-167">The number of PUOIDs that remain to be retrieved by future requests.</span></span>                                                                                                                                                            |
| <span data-ttu-id="a6606-168">Paramètre de réponse 3</span><span class="sxs-lookup"><span data-stu-id="a6606-168">Response Parameter 3</span></span>  | <span data-ttu-id="a6606-169">**Valeur DWORD** contenant les informations d’État.</span><span class="sxs-lookup"><span data-stu-id="a6606-169">**DWORD** containing status information.</span></span> <span data-ttu-id="a6606-170">L’État est indiqué par une opération au niveau du bit.</span><span class="sxs-lookup"><span data-stu-id="a6606-170">Status is indicated in a bitwise fashion.</span></span> <span data-ttu-id="a6606-171">Pour plus d’informations sur les indicateurs à utiliser, consultez la section Notes.</span><span class="sxs-lookup"><span data-stu-id="a6606-171">See Remarks for information about flags to use.</span></span>                                                                                              |
| <span data-ttu-id="a6606-172">Paramètre de réponse 4</span><span class="sxs-lookup"><span data-stu-id="a6606-172">Response Parameter 4</span></span>  | <span data-ttu-id="a6606-173">0</span><span class="sxs-lookup"><span data-stu-id="a6606-173">0</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="a6606-174">Paramètre de réponse 5</span><span class="sxs-lookup"><span data-stu-id="a6606-174">Response Parameter 5</span></span>  | <span data-ttu-id="a6606-175">0</span><span class="sxs-lookup"><span data-stu-id="a6606-175">0</span></span>                                                                                                                                                                                                                               |



 

## <a name="remarks"></a><span data-ttu-id="a6606-176">Notes</span><span class="sxs-lookup"><span data-stu-id="a6606-176">Remarks</span></span>

<span data-ttu-id="a6606-177">L’État est indiqué par le paramètre de réponse 3 dans un mode de bits à l’aide de l’indicateur suivant.</span><span class="sxs-lookup"><span data-stu-id="a6606-177">Status is indicated through Response Parameter 3 in a bitwise fashion by using the following flag.</span></span>



| <span data-ttu-id="a6606-178">Indicateur</span><span class="sxs-lookup"><span data-stu-id="a6606-178">Flag</span></span>                                              | <span data-ttu-id="a6606-179">Valeur</span><span class="sxs-lookup"><span data-stu-id="a6606-179">Value</span></span> | <span data-ttu-id="a6606-180">Description</span><span class="sxs-lookup"><span data-stu-id="a6606-180">Description</span></span>                                                                                                                                                                                                                             |
|---------------------------------------------------|-------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a6606-181">**indicateurs MDRT WMP qui ne sont pas \_ \_ \_ signalés comme étant \_ acquis \_**</span><span class="sxs-lookup"><span data-stu-id="a6606-181">**WMP\_MDRT\_FLAGS\_UNREPORTED\_ACQUIRED\_ITEMS**</span></span> | <span data-ttu-id="a6606-182">0x1</span><span class="sxs-lookup"><span data-stu-id="a6606-182">0x1</span></span>   | <span data-ttu-id="a6606-183">L’appareil contient des éléments acquis qui ne peuvent pas être retournés dans la liste des PUOIDS.</span><span class="sxs-lookup"><span data-stu-id="a6606-183">The device contains some acquired items that cannot be returned in the list of PUOIDS.</span></span> <span data-ttu-id="a6606-184">Notez que cet indicateur n’est pas redondant avec le paramètre de réponse 2.</span><span class="sxs-lookup"><span data-stu-id="a6606-184">Note that this flag is not redundant with Response Parameter 2.</span></span> <span data-ttu-id="a6606-185">Définissez cet indicateur uniquement lorsqu’il y a des éléments demandés que l’appareil ne peut pas retourner.</span><span class="sxs-lookup"><span data-stu-id="a6606-185">Set this flag only when there are requested items that the device cannot return.</span></span> |



 

<span data-ttu-id="a6606-186">Les bits 1 à 31 sont réservés à une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="a6606-186">Bits 1 through 31 are reserved for future use.</span></span> <span data-ttu-id="a6606-187">Ces bits doivent être définis sur zéro.</span><span class="sxs-lookup"><span data-stu-id="a6606-187">These bits should be set to zero.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a6606-188">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="a6606-188">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a6606-189">**Lecteur Windows Media**</span><span class="sxs-lookup"><span data-stu-id="a6606-189">**Windows Media Player**</span></span>](windows-media-player.md)
</dt> </dl>

 

 




