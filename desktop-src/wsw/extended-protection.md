---
title: protection étendue
description: La protection étendue est un mécanisme permettant de lier un canal sécurisé externe tel que SSL à des protocoles d’authentification de canal interne tels que Kerberos-APREQ et l’authentification d’en-tête HTTP.
ms.assetid: 35e48846-05e5-4db9-a3b5-098b62815b66
keywords:
- Protection étendue Native-services Web
- WWSAPI
- WWS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 895bdfecf994f6673c2ed7e7367bc3a7b5bd70c9
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "106511633"
---
# <a name="extended-protection"></a><span data-ttu-id="1c076-106">protection étendue</span><span class="sxs-lookup"><span data-stu-id="1c076-106">Extended Protection</span></span>

<span data-ttu-id="1c076-107">La protection étendue est un mécanisme permettant de lier un canal sécurisé externe tel que SSL à des protocoles d’authentification de canal interne tels que Kerberos-APREQ et l’authentification d’en-tête HTTP.</span><span class="sxs-lookup"><span data-stu-id="1c076-107">Extended protection is a mechanism to bind an outer secure channel such as SSL to inner channel authentication protocols such as Kerberos-APREQ and HTTP header authentication.</span></span>

<span data-ttu-id="1c076-108">Le concept de protection étendue est défini dans RFC2743.</span><span class="sxs-lookup"><span data-stu-id="1c076-108">The concept of extended protection is defined in RFC2743.</span></span>

<span data-ttu-id="1c076-109">La protection étendue, le cas échéant, est configurée automatiquement sur le client, mais peut nécessiter une configuration sur le serveur pour les scénarios autres que ceux par défaut.</span><span class="sxs-lookup"><span data-stu-id="1c076-109">Extended protection, when available, is configured automatically on the client but may require configuration on the server for non-default scenarios.</span></span>

## <a name="supported-configurations"></a><span data-ttu-id="1c076-110">Configurations prises en charge</span><span class="sxs-lookup"><span data-stu-id="1c076-110">Supported Configurations</span></span>

<span data-ttu-id="1c076-111">La protection étendue est prise en charge lors de l’utilisation de la [**\_ \_ \_ liaison de canal http WS**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_binding) avec des liaisons de sécurité à l’aide de protocoles d’authentification intégrée de Windows, tels que [**\_ \_ \_ \_ \_ liaison de sécurité d’en-tête WS http**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) et [**\_ \_ \_ \_ \_ liaison de sécurité de message WS Kerberos APREQ**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding).</span><span class="sxs-lookup"><span data-stu-id="1c076-111">Extended protection is supported when using [**WS\_HTTP\_CHANNEL\_BINDING**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_binding) with security bindings using Windows Integrated Authentication protocols such as [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) and [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding).</span></span> <span data-ttu-id="1c076-112">Il est configuré via les [**Propriétés de sécurité**](/windows/desktop/api/WebServices/ns-webservices-ws_security_property)suivantes :</span><span class="sxs-lookup"><span data-stu-id="1c076-112">It is configured via the following [**security properties**](/windows/desktop/api/WebServices/ns-webservices-ws_security_property):</span></span>

-   [<span data-ttu-id="1c076-113">**\_stratégie de \_ \_ protection étendue \_ \_ de la propriété WS Security**</span><span class="sxs-lookup"><span data-stu-id="1c076-113">**WS\_SECURITY\_PROPERTY\_EXTENDED\_PROTECTION\_POLICY**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id)
-   [<span data-ttu-id="1c076-114">**\_scénario de \_ \_ protection étendue \_ des propriétés WS Security \_**</span><span class="sxs-lookup"><span data-stu-id="1c076-114">**WS\_SECURITY\_PROPERTY\_EXTENDED\_PROTECTION\_SCENARIO**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id)
-   [<span data-ttu-id="1c076-115">**\_ \_ \_ identités du service de propriétés de sécurité WS \_**</span><span class="sxs-lookup"><span data-stu-id="1c076-115">**WS\_SECURITY\_PROPERTY\_SERVICE\_IDENTITIES**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id)

<span data-ttu-id="1c076-116">Les configurations suivantes impliquant la protection étendue sont possibles :</span><span class="sxs-lookup"><span data-stu-id="1c076-116">The following configurations involving extended protection are possible:</span></span>

<span data-ttu-id="1c076-117">Client</span><span class="sxs-lookup"><span data-stu-id="1c076-117">Client</span></span>

-   <span data-ttu-id="1c076-118">[**WS \_ La \_ \_ \_ liaison de sécurité de transport SSL**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) est utilisée avec la liaison de sécurité de [**\_ message WS Kerberos \_ APREQ \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) ou la liaison de [**\_ \_ \_ \_ sécurité \_ d’en-tête WS http**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding).</span><span class="sxs-lookup"><span data-stu-id="1c076-118">[**WS\_SSL\_TRANSPORT\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) is used with [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) or [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding).</span></span> <span data-ttu-id="1c076-119">Dans cette configuration, la liaison d’authentification est liée à la connexion SSL via un jeton de protection étendu qui est automatiquement extrait de la connexion SSL.</span><span class="sxs-lookup"><span data-stu-id="1c076-119">In this configuration the authentication binding is bound to the SSL connection via an extended protection token that is automatically extracted from the SSL connection.</span></span>
-   <span data-ttu-id="1c076-120">Aucun SSL n’est utilisé et la [**liaison de sécurité d' \_ \_ \_ authentification \_ \_ des en-têtes WS http**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) est définie.</span><span class="sxs-lookup"><span data-stu-id="1c076-120">No SSL is used and [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) is set.</span></span> <span data-ttu-id="1c076-121">La liaison d’authentification est liée via le nom de principal du serveur (SPN), qui est autonatically déterminé à partir de l' [**\_ \_ adresse du point de terminaison WS**](/windows/desktop/api/WebServices/ns-webservices-ws_endpoint_address).</span><span class="sxs-lookup"><span data-stu-id="1c076-121">The authentication binding is bound via the Server Principal Name (SPN), which is autonatically determined from the [**WS\_ENDPOINT\_ADDRESS**](/windows/desktop/api/WebServices/ns-webservices-ws_endpoint_address).</span></span>

<span data-ttu-id="1c076-122">Serveur</span><span class="sxs-lookup"><span data-stu-id="1c076-122">Server</span></span>

-   <span data-ttu-id="1c076-123">[**WS \_ La \_ \_ \_ liaison de sécurité de transport SSL**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) est utilisée avec la liaison de sécurité de [**\_ message WS Kerberos \_ APREQ \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) ou la liaison de [**\_ \_ \_ \_ sécurité \_ d’en-tête WS http**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding).</span><span class="sxs-lookup"><span data-stu-id="1c076-123">[**WS\_SSL\_TRANSPORT\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) is used with [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) or [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding).</span></span> <span data-ttu-id="1c076-124">Dans cette configuration, la liaison d’authentification est liée à la connexion SSL via un jeton de protection étendu qui est extrait de la connexion SSL et validé automatiquement.</span><span class="sxs-lookup"><span data-stu-id="1c076-124">In this configuration the authentication binding is bound to the SSL connection via an extended protection token that is extracted from the SSL connection and validated automatically.</span></span>
-   <span data-ttu-id="1c076-125">Aucun SSL n’est utilisé et la [**liaison de sécurité d' \_ \_ \_ authentification \_ \_ des en-têtes WS http**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) est définie.</span><span class="sxs-lookup"><span data-stu-id="1c076-125">No SSL is used and [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) is set.</span></span> <span data-ttu-id="1c076-126">La liaison d’authentification est liée via le nom de principal du serveur (SPN), qui doit être fourni via les [**\_ \_ \_ \_ identités du service de propriétés de sécurité WS**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id).</span><span class="sxs-lookup"><span data-stu-id="1c076-126">The authentication binding is bound via the Server Principal Name (SPN), which must be provided via [**WS\_SECURITY\_PROPERTY\_SERVICE\_IDENTITIES**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id).</span></span> <span data-ttu-id="1c076-127">Lorsqu’un message est reçu, le SPN est extrait et validé pour une correspondance exacte avec les noms de service fournis.</span><span class="sxs-lookup"><span data-stu-id="1c076-127">When a message is received, the SPN is extracted and validated for an exact match with the provided service names.</span></span> <span data-ttu-id="1c076-128">Ne pas fournir de SPN est l’équivalent de la définition de la [**\_ stratégie de protection étendue WS \_ \_ \_ jamais**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy).</span><span class="sxs-lookup"><span data-stu-id="1c076-128">Not providing SPNs is the equivalent of setting [**WS\_EXTENDED\_PROTECTION\_POLICY\_NEVER**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy).</span></span>
-   <span data-ttu-id="1c076-129">Aucun SSL n’est utilisé, le [**\_ \_ \_ \_ \_ serveur lié au scénario de protection étendue WS**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario) est spécifié et la [**\_ \_ \_ \_ \_ liaison de sécurité de message WS Kerberos APREQ**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) est utilisée.</span><span class="sxs-lookup"><span data-stu-id="1c076-129">No SSL is used, [**WS\_EXTENDED\_PROTECTION\_SCENARIO\_BOUND\_SERVER**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario) is specified and [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) is used.</span></span> <span data-ttu-id="1c076-130">Dans cette configuration, [**les \_ \_ \_ \_ identités du service de propriétés WS Security**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id) ne doivent pas être définies.</span><span class="sxs-lookup"><span data-stu-id="1c076-130">In this configuration, [**WS\_SECURITY\_PROPERTY\_SERVICE\_IDENTITIES**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id) must not be set.</span></span> <span data-ttu-id="1c076-131">Aucune vérification du SPN n’est effectuée au-delà de ce qui est fait dans le cadre du protocole Kerberos.</span><span class="sxs-lookup"><span data-stu-id="1c076-131">No SPN check is performed beyond what is done as part of the Kerberos protocol.</span></span>
-   <span data-ttu-id="1c076-132">[**WS \_ Le \_ \_ \_ \_ protocole SSL terminé du scénario de protection étendue**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario) est spécifié et la liaison de sécurité de [**\_ message WS Kerberos \_ APREQ \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) ou de l' [**\_ \_ en-tête WS \_ \_ \_ http**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) est utilisée.</span><span class="sxs-lookup"><span data-stu-id="1c076-132">[**WS\_EXTENDED\_PROTECTION\_SCENARIO\_TERMINATED\_SSL**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario) is specified and either [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) or [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) is used.</span></span> <span data-ttu-id="1c076-133">[**WS \_ Les \_ \_ \_ identités du service de propriétés de sécurité**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id) doivent être définies.</span><span class="sxs-lookup"><span data-stu-id="1c076-133">[**WS\_SECURITY\_PROPERTY\_SERVICE\_IDENTITIES**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id) must be set.</span></span>

## <a name="supported-platforms"></a><span data-ttu-id="1c076-134">Plateformes prises en charge</span><span class="sxs-lookup"><span data-stu-id="1c076-134">Supported Platforms</span></span>

<span data-ttu-id="1c076-135">La protection étendue est prise en charge sur les plateformes prenant en charge le service informatique dans le système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="1c076-135">Extended protection is supported on platforms with support for it in the operating system.</span></span> <span data-ttu-id="1c076-136">Windows 7 et Windows Server 2008 R2 offrent une prise en charge intégrée.</span><span class="sxs-lookup"><span data-stu-id="1c076-136">Windows 7 and Windows Server 2008 R2 provide built-in support.</span></span> <span data-ttu-id="1c076-137">D’autres plateformes peuvent nécessiter une mise à jour.</span><span class="sxs-lookup"><span data-stu-id="1c076-137">Other platforms may require an update.</span></span>

<span data-ttu-id="1c076-138">Si le système d’exploitation du serveur ne fournit pas de prise en charge, toutes les informations de protection étendue envoyées par le client sont ignorées.</span><span class="sxs-lookup"><span data-stu-id="1c076-138">If the server's operating system does not provide such support, any extended protection information sent by the client is ignored.</span></span> <span data-ttu-id="1c076-139">Par conséquent, les clients qui utilisent la protection étendue peuvent communiquer avec un serveur de ce type, mais l’avantage de sécurité est perdu.</span><span class="sxs-lookup"><span data-stu-id="1c076-139">As a result, clients using extended protection can communicate with such a server, but the security benefit is lost.</span></span> <span data-ttu-id="1c076-140">Sur le client, [**la \_ \_ liaison de \_ \_ sécurité de \_ message WS Kerberos APREQ**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) associée à la [**\_ \_ \_ \_ liaison de sécurité de transport WS SSL**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) prend uniquement en charge la protection étendue sur Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="1c076-140">On the client, [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) combined with [**WS\_SSL\_TRANSPORT\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) only supports extended protection on Vista and above.</span></span>

<span data-ttu-id="1c076-141">Remarque : la protection étendue non disponible n’empêche pas l’utilisation d’une configuration particulière.</span><span class="sxs-lookup"><span data-stu-id="1c076-141">NOTE: Extended protection being unavailable does not prevent any particular configuration from being used.</span></span>

## <a name="interoperability"></a><span data-ttu-id="1c076-142">Interopérabilité</span><span class="sxs-lookup"><span data-stu-id="1c076-142">Interoperability</span></span>

<span data-ttu-id="1c076-143">Un serveur configuré par défaut peut communiquer avec les clients SOAP, qu’ils utilisent ou non la protection étendue.</span><span class="sxs-lookup"><span data-stu-id="1c076-143">A default-configured server can communicate with SOAP clients regardless of whether they use extended protection or not.</span></span> <span data-ttu-id="1c076-144">La seule exception étant Windows XP et Windows Server 2003, les clients WWSAPI mis à jour pour prendre en charge la protection étendue et utilisent la liaison de [**\_ sécurité de message WS Kerberos \_ APREQ \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) et la liaison de [**\_ sécurité de \_ transport \_ \_ WS SSL**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding).</span><span class="sxs-lookup"><span data-stu-id="1c076-144">The one exception being Windows XP and Windows Server 2003 WWSAPI clients that have been updated to support extended protection and use both [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) and [**WS\_SSL\_TRANSPORT\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding).</span></span> <span data-ttu-id="1c076-145">Pour prendre en charge ces clients, la [**\_ stratégie de protection étendue WS ne doit \_ \_ \_ jamais**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy) être spécifiée par le serveur.</span><span class="sxs-lookup"><span data-stu-id="1c076-145">To support such clients [**WS\_EXTENDED\_PROTECTION\_POLICY\_NEVER**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy) must be specified by the server.</span></span> <span data-ttu-id="1c076-146">Les serveurs configurés avec la **stratégie de protection étendue de WS rejettent \_ \_ \_ \_ toujours** les communications des clients qui n’utilisent pas la protection étendue.</span><span class="sxs-lookup"><span data-stu-id="1c076-146">Servers configured with **WS\_EXTENDED\_PROTECTION\_POLICY\_ALWAYS** will reject communication from clients that do not use extended protection.</span></span> <span data-ttu-id="1c076-147">Sur le client, **la \_ \_ liaison de \_ \_ sécurité de \_ message WS Kerberos APREQ** combinée à la **\_ \_ \_ \_ liaison de sécurité de transport WS SSL** entraîne l’envoi du message à l’aide de l’encodage de transfert en bloc http sur Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="1c076-147">On the client, **WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING** combined with **WS\_SSL\_TRANSPORT\_SECURITY\_BINDING** will result in the message being sent using the HTTP chunked transfer encoding on Vista and above.</span></span> <span data-ttu-id="1c076-148">Cela peut entraîner des problèmes d’interopérabilité avec les serveurs qui ne prennent pas en charge le transfert mémorisé en bloc.</span><span class="sxs-lookup"><span data-stu-id="1c076-148">This may cause interop issues with servers that do not support chunked transfer.</span></span>

<span data-ttu-id="1c076-149">Les enums/constantes suivants font partie de la protection étendue :</span><span class="sxs-lookup"><span data-stu-id="1c076-149">The following Enums/Constants are part of extended protection:</span></span>

-   [<span data-ttu-id="1c076-150">**\_stratégie de \_ protection \_ étendue WS**</span><span class="sxs-lookup"><span data-stu-id="1c076-150">**WS\_EXTENDED\_PROTECTION\_POLICY**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy)
-   [<span data-ttu-id="1c076-151">**\_scénario de \_ protection \_ étendue WS**</span><span class="sxs-lookup"><span data-stu-id="1c076-151">**WS\_EXTENDED\_PROTECTION\_SCENARIO**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario)

<span data-ttu-id="1c076-152">Les structures répertoires suivants font partie de la protection étendue :</span><span class="sxs-lookup"><span data-stu-id="1c076-152">The following stuctures are part of extended protection:</span></span>

-   [<span data-ttu-id="1c076-153">**\_ \_ identités de sécurité WS service \_**</span><span class="sxs-lookup"><span data-stu-id="1c076-153">**WS\_SERVICE\_SECURITY\_IDENTITIES**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_service_security_identities)

 

 




