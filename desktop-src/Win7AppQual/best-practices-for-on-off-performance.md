---
description: .
ms.assetid: 872c2a33-327e-41a8-81db-905c46673f13
title: Meilleures pratiques pour les performances d’activation/de désactivation
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6fda45cb1ec7fb66b8afdcdebab7c92bdb071a79
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106526965"
---
# <a name="best-practices-for-onoff-performance"></a><span data-ttu-id="00149-103">Meilleures pratiques pour les performances d’activation/de désactivation</span><span class="sxs-lookup"><span data-stu-id="00149-103">Best Practices for On/Off Performance</span></span>

## <a name="platform"></a><span data-ttu-id="00149-104">Plateforme</span><span class="sxs-lookup"><span data-stu-id="00149-104">Platform</span></span>

<span data-ttu-id="00149-105">**Clients-** Windows Vista \| Windows 7</span><span class="sxs-lookup"><span data-stu-id="00149-105">**Clients -** Windows Vista \| Windows 7</span></span>  
<span data-ttu-id="00149-106">**Serveurs-** Windows Server 2008 \| Windows server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="00149-106">**Servers -** Windows Server 2008 \| Windows Server 2008 R2</span></span>  

## <a name="description"></a><span data-ttu-id="00149-107">Description</span><span class="sxs-lookup"><span data-stu-id="00149-107">Description</span></span>

<span data-ttu-id="00149-108">Les États d’alimentation du système (ou S-États), tels que définis dans la spécification ACPI (Advanced Computer Power Interface), sont appelés de manière commune les États activés/désactivés dans la mesure où la transition d’État S la plus courante est l’activation et la désactivation d’un ordinateur.</span><span class="sxs-lookup"><span data-stu-id="00149-108">The system power states (or S-states), as defined in the Advanced Computer Power Interface (ACPI) specification, are colloquially called on/off states since the most common S-state transition is a computer turning on and off.</span></span> <span data-ttu-id="00149-109">Les différentes transitions d’état activé/désactivé sur un système exécutant Windows Vista ou Windows 7 sont les mêmes démarrage, veille (ACPI S3), mise en veille prolongée (ACPI S4) et arrêt.</span><span class="sxs-lookup"><span data-stu-id="00149-109">The different on/off state transitions on a system running Windows Vista or Windows 7 are boot, sleep (ACPI S3), hibernate (ACPI S4), and shutdown.</span></span>

<span data-ttu-id="00149-110">Une bonne performance au cours de ces transitions d’activation/de désactivation permet non seulement d’améliorer la qualité perçue d’un ordinateur, mais également d’affecter considérablement les modèles d’utilisation des ordinateurs quotidiens et la fiabilité du système.</span><span class="sxs-lookup"><span data-stu-id="00149-110">Good performance during these on/off transitions not only improves the perceived quality of a computer, but also greatly affects daily computer usage patterns and system reliability.</span></span> <span data-ttu-id="00149-111">Les clients peuvent devenir frustrés par des systèmes dont le démarrage ou l’arrêt de l’ordinateur prend trop de temps.</span><span class="sxs-lookup"><span data-stu-id="00149-111">Customers can become frustrated by systems that take too long to boot or to shut down.</span></span> <span data-ttu-id="00149-112">Les systèmes mobiles qui ont des transitions de veille et de veille prolongée peuvent inutilement épuiser la durée de vie de la batterie.</span><span class="sxs-lookup"><span data-stu-id="00149-112">Mobile systems that have lengthy sleep and hibernation transitions can unnecessarily deplete battery life.</span></span> <span data-ttu-id="00149-113">Les durées d’arrêt plus longues peuvent également nuire à la fiabilité des systèmes mobiles.</span><span class="sxs-lookup"><span data-stu-id="00149-113">Longer shutdown times can also adversely affect the reliability of mobile systems.</span></span> <span data-ttu-id="00149-114">Par exemple, ils augmentent le risque d’une coupure d’alimentation inattendue.</span><span class="sxs-lookup"><span data-stu-id="00149-114">For example, they increase the risk of unexpected power cut-offs.</span></span>

<span data-ttu-id="00149-115">Les extensions système telles que les pilotes, les applications et les services peuvent avoir un impact significatif sur les temps de transition activés/désactivés.</span><span class="sxs-lookup"><span data-stu-id="00149-115">System extensions like drivers, applications, and services can have a significant impact on on/off transition times.</span></span> <span data-ttu-id="00149-116">Cette section décrit quelques-unes des meilleures pratiques que les développeurs d’applications et de services peuvent suivre pour éviter les retards lors du démarrage, de la mise en veille et de l’arrêt, et pour garantir une expérience utilisateur réactive après le démarrage et après reprise.</span><span class="sxs-lookup"><span data-stu-id="00149-116">This section discusses some of the best practices that application and service developers can follow to avoid delays during boot, standby, and shutdown, and to ensure a responsive post-boot and post-resume user experience.</span></span> <span data-ttu-id="00149-117">Pour plus d’informations sur l’identification des problèmes de performances d’activation/de désactivation à l’aide de Windows performance Toolkit et pour mettre en œuvre les recommandations ci-dessous pour votre application ou service, reportez-vous aux livres blancs de la section « Liens vers d’autres ressources ».</span><span class="sxs-lookup"><span data-stu-id="00149-117">For more details on how to identify on/off performance issues using the Windows Performance Toolkit and implement the below recommendations for your application or service, please refer to the whitepapers in the 'Links to other Resources' section.</span></span>

## <a name="best-practices"></a><span data-ttu-id="00149-118">Bonnes pratiques</span><span class="sxs-lookup"><span data-stu-id="00149-118">Best Practices</span></span>

-   <span data-ttu-id="00149-119">Utilisez Windows performance Toolkit pour mesurer les performances pendant toutes les transitions activées/désactivées.</span><span class="sxs-lookup"><span data-stu-id="00149-119">Use the Windows Performance Toolkit to measure performance during all on/off transitions.</span></span>
-   <span data-ttu-id="00149-120">Effectuez des tests de manière contrôlée et effectuez des comparaisons par rapport à une ligne de base valide :</span><span class="sxs-lookup"><span data-stu-id="00149-120">Perform testing in a controlled way, and make comparisons against a valid baseline:</span></span>
    -   <span data-ttu-id="00149-121">Obtenir une mesure de ligne de base sur un système avec le moins d’extensions système possible</span><span class="sxs-lookup"><span data-stu-id="00149-121">Obtain a baseline measurement on a system with as few system extensions as possible</span></span>
    -   <span data-ttu-id="00149-122">Ajouter des applications et des services l’un après l’autre</span><span class="sxs-lookup"><span data-stu-id="00149-122">Add applications and services one at a time</span></span>
    -   <span data-ttu-id="00149-123">Tester les régressions inacceptables dans les temps de transition activé/désactivé</span><span class="sxs-lookup"><span data-stu-id="00149-123">Test for unacceptable regressions in on/off transition times</span></span>
-   <span data-ttu-id="00149-124">Évitez d’utiliser du code managé pour les applications sur le chemin de démarrage critique.</span><span class="sxs-lookup"><span data-stu-id="00149-124">Avoid using managed code for applications on the critical boot path.</span></span>
-   <span data-ttu-id="00149-125">Assurez-vous que toutes les applications répondent rapidement aux notifications d’arrêt ( \_ messages WM QUERYENDSESSION et WM \_ ENDSESSION).</span><span class="sxs-lookup"><span data-stu-id="00149-125">Ensure that all applications respond quickly to shutdown notifications (WM\_QUERYENDSESSION and WM\_ENDSESSION messages).</span></span>
-   <span data-ttu-id="00149-126">Réduisez les retards dans le chemin d’arrêt des services et des applications en minimisant l’activité du processeur, du disque et du réseau en réponse aux notifications d’arrêt.</span><span class="sxs-lookup"><span data-stu-id="00149-126">Reduce delays in the shutdown path of services and applications by minimizing CPU, disk, and network activity in response to shutdown notifications.</span></span>
-   <span data-ttu-id="00149-127">Évitez les retards dans le traitement de la notification de suspension ( \_ message WM POWERBROADCAST).</span><span class="sxs-lookup"><span data-stu-id="00149-127">Avoid delays in processing the suspend notification (WM\_POWERBROADCAST message).</span></span>
-   <span data-ttu-id="00149-128">Répondez rapidement aux événements et réduisez l’utilisation du processeur, du disque et du réseau après la reprise.</span><span class="sxs-lookup"><span data-stu-id="00149-128">Respond quickly to resume events and minimize post-resume CPU, disk, and network usage.</span></span>
-   <span data-ttu-id="00149-129">Réduire la consommation des ressources d’application après le démarrage.</span><span class="sxs-lookup"><span data-stu-id="00149-129">Reduce application resource consumption post-boot.</span></span>
-   <span data-ttu-id="00149-130">Ne démarrez pas les applications à partir de la clé RunOnce à chaque démarrage.</span><span class="sxs-lookup"><span data-stu-id="00149-130">Do not start applications from the RunOnce key on every boot.</span></span>
-   <span data-ttu-id="00149-131">Convertissez tous les services non essentiels en démarrage à la demande ou déclenchez le démarrage pour rendre les ressources système disponibles au démarrage.</span><span class="sxs-lookup"><span data-stu-id="00149-131">Convert all nonessential services to demand start or trigger start in order to make system resources available during boot.</span></span>
-   <span data-ttu-id="00149-132">Évitez d’utiliser des groupes d’ordre de chargement pour exprimer des dépendances de service.</span><span class="sxs-lookup"><span data-stu-id="00149-132">Avoid using load order groups to express service dependencies.</span></span>
-   <span data-ttu-id="00149-133">Assurez-vous que tous les services en cours d’exécution signalent cet État le plus rapidement possible au démarrage pour éviter de bloquer le gestionnaire de contrôle des services.</span><span class="sxs-lookup"><span data-stu-id="00149-133">Ensure that all running services report this status as soon as possible during boot to avoid blocking the Service Control Manager (SCM).</span></span>
-   <span data-ttu-id="00149-134">Évitez d’utiliser du code managé pour les services sur le chemin d’accès de démarrage.</span><span class="sxs-lookup"><span data-stu-id="00149-134">Avoid using managed code for services on the startup path.</span></span>
-   <span data-ttu-id="00149-135">N’autorisez pas les services à accepter de recevoir des notifications de pré-arrêt et d’arrêt (codes de contrôle de préarrêt et de contrôle de service du contrôle de service \_ \_ \_ \_ ) sauf si cela est absolument requis.</span><span class="sxs-lookup"><span data-stu-id="00149-135">Do not allow services to opt in to receive pre-shutdown and shutdown notifications (SERVICE\_CONTROL\_PRESHUTDOWN and SERVICE\_CONTROL\_SHUTDOWN control codes) unless absolutely required.</span></span>
-   <span data-ttu-id="00149-136">Assurez-vous que tous les services qui ont choisi de recevoir des notifications d’arrêt répondent rapidement au SCM.</span><span class="sxs-lookup"><span data-stu-id="00149-136">Ensure that all services that have opted to receive shutdown notifications respond quickly to the SCM.</span></span>
-   <span data-ttu-id="00149-137">Vérifiez que les services ne s’abonnent pas à la réception de notifications d’interruption, sauf si cela est absolument requis.</span><span class="sxs-lookup"><span data-stu-id="00149-137">Verify that services do not opt in to receive suspend notifications unless absolutely required.</span></span>
-   <span data-ttu-id="00149-138">Assurez-vous que tous les services répondent rapidement pour reprendre les événements et réduire le temps d’utilisation du processeur, du disque et du réseau après la reprise.</span><span class="sxs-lookup"><span data-stu-id="00149-138">Ensure that all services respond quickly to resume events and minimize post-resume CPU, disk, and network usage.</span></span>

## <a name="links-to-other-resources"></a><span data-ttu-id="00149-139">Liens vers d’autres ressources</span><span class="sxs-lookup"><span data-stu-id="00149-139">Links to Other Resources</span></span>

-   -   [<span data-ttu-id="00149-140">Guide de solutions pour les transitions de Windows on/off</span><span class="sxs-lookup"><span data-stu-id="00149-140">Windows On/Off Transitions Solutions Guide</span></span>](/windows-hardware/test/assessments/onoff-transition-performance)
-   [<span data-ttu-id="00149-141">Analyse des performances de transition on/off de Windows Vista</span><span class="sxs-lookup"><span data-stu-id="00149-141">On/Off Transition Performance Analysis of Windows Vista</span></span>](/windows-hardware/test/assessments/onoff-transition-performance)
-   [<span data-ttu-id="00149-142">Analyse des performances Windows</span><span class="sxs-lookup"><span data-stu-id="00149-142">Windows Performance Analysis</span></span>](https://msdn.microsoft.com/performance/default.aspx)
-   [<span data-ttu-id="00149-143">Documentation Windows performance Toolkit sur MSDN</span><span class="sxs-lookup"><span data-stu-id="00149-143">Windows Performance Toolkit documentation on MSDN</span></span>](/previous-versions/windows/desktop/xperf/windows-performance-analyzer--wpa-)
-   [<span data-ttu-id="00149-144">Forum sur l’analyse des performances Windows</span><span class="sxs-lookup"><span data-stu-id="00149-144">Windows Performance Analysis forum</span></span>](https://social.msdn.microsoft.com/Forums/wptk_v4/threads/)
-   [<span data-ttu-id="00149-145">Suivi d’v nements pour Windows sur MSDN</span><span class="sxs-lookup"><span data-stu-id="00149-145">Event Tracing for Windows on MSDN</span></span>](../etw/event-tracing-portal.md)

 

 
