---
title: Message WM_POINTERLEAVE
description: Envoyé à une fenêtre lorsqu’un pointeur quitte la plage de détection sur la fenêtre (pointage) ou lorsqu’un pointeur se déplace à l’extérieur des limites de la fenêtre.
ms.assetid: 3bdc37da-227c-4be1-bf0b-99704b8c1322
keywords:
- WM_POINTERLEAVE les messages d’entrée du message et les notifications
topic_type:
- apiref
api_name:
- WM_POINTERDOWN
api_location:
- Winuser.h
api_type:
- HeaderDef
ms.topic: article
ms.date: 02/03/2020
ms.openlocfilehash: 2ee58fd74f266d067f6211e156d984a3b3d1c477
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/12/2020
ms.locfileid: "106511577"
---
# <a name="wm_pointerleave-message"></a><span data-ttu-id="a3299-104">Message WM_POINTERLEAVE</span><span class="sxs-lookup"><span data-stu-id="a3299-104">WM_POINTERLEAVE message</span></span>

<span data-ttu-id="a3299-105">Envoyé à une fenêtre lorsqu’un pointeur quitte la plage de détection sur la fenêtre (pointage) ou lorsqu’un pointeur se déplace à l’extérieur des limites de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="a3299-105">Sent to a window when a pointer leaves detection range over the window (hover) or when a pointer moves outside the boundaries of the window.</span></span>

<span data-ttu-id="a3299-106">Une fenêtre reçoit ce message par le biais de sa fonction [**WindowProc**](/previous-versions/windows/desktop/legacy/ms633573(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="a3299-106">A window receives this message through its [**WindowProc**](/previous-versions/windows/desktop/legacy/ms633573(v=vs.85)) function.</span></span>

> <span data-ttu-id="a3299-107">\[! Précieuse\]</span><span class="sxs-lookup"><span data-stu-id="a3299-107">\[!Important\]</span></span>  
> <span data-ttu-id="a3299-108">Les applications de bureau doivent prendre en charge DPI.</span><span class="sxs-lookup"><span data-stu-id="a3299-108">Desktop apps should be DPI aware.</span></span> <span data-ttu-id="a3299-109">Si votre application n’a pas de prise en charge DPI, les coordonnées d’écran contenues dans les messages de pointeur et les structures associées peuvent apparaître inexactes en raison de la virtualisation DPI.</span><span class="sxs-lookup"><span data-stu-id="a3299-109">If your app is not DPI aware, screen coordinates contained in pointer messages and related structures might appear inaccurate due to DPI virtualization.</span></span> <span data-ttu-id="a3299-110">La virtualisation PPP offre une prise en charge de la mise à l’échelle automatique aux applications qui ne prennent pas en charge la fonction PPP et est active par défaut (les utilisateurs peuvent la désactiver).</span><span class="sxs-lookup"><span data-stu-id="a3299-110">DPI virtualization provides automatic scaling support to applications that are not DPI aware and is active by default (users can turn it off).</span></span> <span data-ttu-id="a3299-111">Pour plus d’informations, consultez [écriture d’applications Win32 à haute résolution](/previous-versions//dd464660(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="a3299-111">For more information, see [Writing High-DPI Win32 Applications](/previous-versions//dd464660(v=vs.85)).</span></span>

 


```C++
#define WM_POINTERLEAVE                 0x024A
```



## <a name="parameters"></a><span data-ttu-id="a3299-112">Paramètres</span><span class="sxs-lookup"><span data-stu-id="a3299-112">Parameters</span></span>

<dl> <dt>

<span data-ttu-id="a3299-113">*wParam*</span><span class="sxs-lookup"><span data-stu-id="a3299-113">*wParam*</span></span> 
</dt> <dd>

<span data-ttu-id="a3299-114">Contient l’identificateur du pointeur et des informations supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="a3299-114">Contains the pointer identifier and additional information.</span></span> <span data-ttu-id="a3299-115">Utilisez les macros suivantes pour récupérer ces informations.</span><span class="sxs-lookup"><span data-stu-id="a3299-115">Use the following macros to retrieve this information.</span></span>

-   <span data-ttu-id="a3299-116">[**GET_POINTERID_WPARAM**](/previous-versions/windows/desktop/api)(wParam) : identificateur du pointeur.</span><span class="sxs-lookup"><span data-stu-id="a3299-116">[**GET_POINTERID_WPARAM**](/previous-versions/windows/desktop/api)(wParam): the pointer identifier.</span></span>
-   <span data-ttu-id="a3299-117">[**IS_POINTER_INRANGE_WPARAM**](/previous-versions/windows/desktop/api)(wParam) : indique si ce message a été généré par un pointeur qui n’a pas la plage de détection restante.</span><span class="sxs-lookup"><span data-stu-id="a3299-117">[**IS_POINTER_INRANGE_WPARAM**](/previous-versions/windows/desktop/api)(wParam): indicates whether this message was generated by a pointer that has not left detection range.</span></span> <span data-ttu-id="a3299-118">Cet indicateur n’est pas défini lorsque le pointeur quitte la plage de détection de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="a3299-118">This flag is not set when the pointer leaves the detection range of the window.</span></span>
-   <span data-ttu-id="a3299-119">[**IS_POINTER_INCONTACT_WPARAM**](/previous-versions/windows/desktop/api)(wParam) : indicateur qui indique si ce message a été généré par un pointeur qui est en contact.</span><span class="sxs-lookup"><span data-stu-id="a3299-119">[**IS_POINTER_INCONTACT_WPARAM**](/previous-versions/windows/desktop/api)(wParam): a flag that indicates whether this message was generated by a pointer that is in contact.</span></span> <span data-ttu-id="a3299-120">Cet indicateur n’est pas défini pour un pointeur dans la plage de détection (pointage).</span><span class="sxs-lookup"><span data-stu-id="a3299-120">This flag is not set for a pointer in detection range (hover).</span></span>

</dd> <dt>

<span data-ttu-id="a3299-121">*lParam*</span><span class="sxs-lookup"><span data-stu-id="a3299-121">*lParam*</span></span> 
</dt> <dd>

<span data-ttu-id="a3299-122">Contient l’emplacement du point du pointeur.</span><span class="sxs-lookup"><span data-stu-id="a3299-122">Contains the point location of the pointer.</span></span>

> [!Note]  
> <span data-ttu-id="a3299-123">Étant donné que le pointeur peut établir un contact avec l’appareil sur une zone non triviale, cet emplacement de point peut être une simplification d’une zone de pointeur plus complexe.</span><span class="sxs-lookup"><span data-stu-id="a3299-123">Because the pointer may make contact with the device over a non-trivial area, this point location may be a simplification of a more complex pointer area.</span></span> <span data-ttu-id="a3299-124">Dans la mesure du possible, une application doit utiliser les informations complètes de la zone du pointeur à la place de l’emplacement du point.</span><span class="sxs-lookup"><span data-stu-id="a3299-124">Whenever possible, an application should use the complete pointer area information instead of the point location.</span></span>

 

<span data-ttu-id="a3299-125">Utilisez les macros suivantes pour récupérer les coordonnées d’écran physiques du point.</span><span class="sxs-lookup"><span data-stu-id="a3299-125">Use the following macros to retrieve the physical screen coordinates of the point.</span></span>

-   <span data-ttu-id="a3299-126">[**GET_X_LPARAM**](/windows/win32/api/windowsx/nf-windowsx-get_x_lparam)(lParam) : coordonnée X (point horizontal).</span><span class="sxs-lookup"><span data-stu-id="a3299-126">[**GET_X_LPARAM**](/windows/win32/api/windowsx/nf-windowsx-get_x_lparam)(lParam): the x (horizontal point) coordinate.</span></span>
-   <span data-ttu-id="a3299-127">[**GET_Y_LPARAM**](/windows/win32/api/windowsx/nf-windowsx-get_y_lparam)(lParam) : coordonnée Y (point vertical).</span><span class="sxs-lookup"><span data-stu-id="a3299-127">[**GET_Y_LPARAM**](/windows/win32/api/windowsx/nf-windowsx-get_y_lparam)(lParam): the y (vertical point) coordinate.</span></span>

</dd> </dl>

## <a name="return-value"></a><span data-ttu-id="a3299-128">Valeur retournée</span><span class="sxs-lookup"><span data-stu-id="a3299-128">Return value</span></span>

<span data-ttu-id="a3299-129">Si une application traite ce message, elle doit retourner la valeur zéro.</span><span class="sxs-lookup"><span data-stu-id="a3299-129">If an application processes this message, it should return zero.</span></span>

<span data-ttu-id="a3299-130">Si l’application ne traite pas ce message, elle doit appeler [**DefWindowProc**](/windows/win32/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="a3299-130">If the application does not process this message, it should call [**DefWindowProc**](/windows/win32/api/winuser/nf-winuser-defwindowproca).</span></span>

## <a name="remarks"></a><span data-ttu-id="a3299-131">Notes</span><span class="sxs-lookup"><span data-stu-id="a3299-131">Remarks</span></span>

<span data-ttu-id="a3299-132">La notification **WM_POINTERLEAVE** peut être utilisée par une fenêtre pour modifier le mode ou pour arrêter les commentaires à l’utilisateur lorsque le pointeur se trouve sur l’aire de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="a3299-132">The **WM_POINTERLEAVE** notification can be used by a window to change mode or stop any feedback to the user while the pointer is over the window surface.</span></span>

<span data-ttu-id="a3299-133">Cette notification est envoyée uniquement à la fenêtre qui reçoit l’entrée pour le pointeur.</span><span class="sxs-lookup"><span data-stu-id="a3299-133">This notification is only sent to the window that is receiving input for the pointer.</span></span> <span data-ttu-id="a3299-134">Le tableau suivant répertorie certaines situations dans lesquelles cette notification est envoyée.</span><span class="sxs-lookup"><span data-stu-id="a3299-134">The following table lists some of the situations in which this notification is sent.</span></span>



| <span data-ttu-id="a3299-135">Action</span><span class="sxs-lookup"><span data-stu-id="a3299-135">Action</span></span>                                        | <span data-ttu-id="a3299-136">Indicateurs définis</span><span class="sxs-lookup"><span data-stu-id="a3299-136">Flags Set</span></span>                                                         | <span data-ttu-id="a3299-137">Notifications envoyées à</span><span class="sxs-lookup"><span data-stu-id="a3299-137">Notifications Sent To</span></span>                                |
|-----------------------------------------------|-------------------------------------------------------------------|------------------------------------------------------|
| <span data-ttu-id="a3299-138">Un pointeur de pointage dépasse les limites de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="a3299-138">A hovering pointer crosses window boundaries.</span></span> | [<span data-ttu-id="a3299-139">**IS_POINTER_INRANGE_WPARAM**</span><span class="sxs-lookup"><span data-stu-id="a3299-139">**IS_POINTER_INRANGE_WPARAM**</span></span>](/previous-versions/windows/desktop/api) | <span data-ttu-id="a3299-140">Fenêtre en dehors de la limite déplacée par le pointeur.</span><span class="sxs-lookup"><span data-stu-id="a3299-140">Window outside of whose boundary the pointer moved.</span></span>  |
| <span data-ttu-id="a3299-141">Un pointeur sort de la plage de détection.</span><span class="sxs-lookup"><span data-stu-id="a3299-141">A pointer goes out of detection range.</span></span>        | <span data-ttu-id="a3299-142">N/A</span><span class="sxs-lookup"><span data-stu-id="a3299-142">N/A</span></span>                                                               | <span data-ttu-id="a3299-143">Fenêtre pour laquelle le pointeur quitte la plage de détection.</span><span class="sxs-lookup"><span data-stu-id="a3299-143">Window for which the pointer leaves detection range.</span></span> |



 

> <span data-ttu-id="a3299-144">\[! Précieuse\]</span><span class="sxs-lookup"><span data-stu-id="a3299-144">\[!Important\]</span></span>  
> <span data-ttu-id="a3299-145">Quand une fenêtre perd la capture d’un pointeur et qu’elle reçoit la notification [**WM_POINTERCAPTURECHANGED**](wm-pointercapturechanged.md) , elle ne reçoit généralement pas de notifications supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="a3299-145">When a window loses capture of a pointer and it receives the [**WM_POINTERCAPTURECHANGED**](wm-pointercapturechanged.md) notification, it typically will not receive any further notifications.</span></span> <span data-ttu-id="a3299-146">Pour cette raison, il est important de ne pas faire de suppositions basées sur des notifications égales [**WM_POINTERDOWN**](wm-pointerdown.md) / [**WM_POINTERUP**](wm-pointerup.md) ou de [**WM_POINTERENTER**](wm-pointerenter.md) / **WM_POINTERLEAVE** des notifications.</span><span class="sxs-lookup"><span data-stu-id="a3299-146">For this reason, it is important that you not make any assumptions based on evenly paired [**WM_POINTERDOWN**](wm-pointerdown.md)/[**WM_POINTERUP**](wm-pointerup.md) or [**WM_POINTERENTER**](wm-pointerenter.md)/**WM_POINTERLEAVE** notifications.</span></span>

 

<span data-ttu-id="a3299-147">Si le contact est maintenu avec le digitaliseur d’entrée et que le pointeur se déplace à l’extérieur de la fenêtre, **WM_POINTERLEAVE** n’est pas généré.</span><span class="sxs-lookup"><span data-stu-id="a3299-147">If contact is maintained with the input digitizer and the pointer moves outside the window, **WM_POINTERLEAVE** is not generated.</span></span> <span data-ttu-id="a3299-148">**WM_POINTERLEAVE** est généré uniquement lorsqu’un pointeur de pointage dépasse les limites d’une fenêtre ou si le contact est terminé.</span><span class="sxs-lookup"><span data-stu-id="a3299-148">**WM_POINTERLEAVE** is generated only when a hovering pointer crosses window boundaries or contact is terminated.</span></span>

<span data-ttu-id="a3299-149">**WM_POINTERLEAVE** est publié dans la file d’attente de messages publiée si l’entrée provient d’une souris.</span><span class="sxs-lookup"><span data-stu-id="a3299-149">**WM_POINTERLEAVE** is posted to the posted message queue if the input is originated from a mouse device.</span></span>

## <a name="requirements"></a><span data-ttu-id="a3299-150">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="a3299-150">Requirements</span></span>



| <span data-ttu-id="a3299-151">Condition requise</span><span class="sxs-lookup"><span data-stu-id="a3299-151">Requirement</span></span> | <span data-ttu-id="a3299-152">Valeur</span><span class="sxs-lookup"><span data-stu-id="a3299-152">Value</span></span> |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a3299-153">Client minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="a3299-153">Minimum supported client</span></span><br/> | <span data-ttu-id="a3299-154">Applications de \[ Bureau Windows 8 uniquement\]</span><span class="sxs-lookup"><span data-stu-id="a3299-154">Windows 8 \[desktop apps only\]</span></span><br/>                                                               |
| <span data-ttu-id="a3299-155">Serveur minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="a3299-155">Minimum supported server</span></span><br/> | <span data-ttu-id="a3299-156">Applications de bureau Windows Server 2012 \[ uniquement\]</span><span class="sxs-lookup"><span data-stu-id="a3299-156">Windows Server 2012 \[desktop apps only\]</span></span><br/>                                                     |
| <span data-ttu-id="a3299-157">En-tête</span><span class="sxs-lookup"><span data-stu-id="a3299-157">Header</span></span><br/>                   | <dl> <span data-ttu-id="a3299-158"><dt>Winuser. h (inclure Windows. h)</dt></span><span class="sxs-lookup"><span data-stu-id="a3299-158"><dt>Winuser.h (include Windows.h)</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="a3299-159">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="a3299-159">See also</span></span>

<dl> <dt>

[<span data-ttu-id="a3299-160">Messages</span><span class="sxs-lookup"><span data-stu-id="a3299-160">Messages</span></span>](messages.md)
</dt> <dt>

<span data-ttu-id="a3299-161">**Référence**</span><span class="sxs-lookup"><span data-stu-id="a3299-161">**Reference**</span></span>
</dt> <dt>

[<span data-ttu-id="a3299-162">**GET_POINTERID_WPARAM**</span><span class="sxs-lookup"><span data-stu-id="a3299-162">**GET_POINTERID_WPARAM**</span></span>](/previous-versions/windows/desktop/api)
</dt> <dt>

[<span data-ttu-id="a3299-163">**IS_POINTER_INRANGE_WPARAM**</span><span class="sxs-lookup"><span data-stu-id="a3299-163">**IS_POINTER_INRANGE_WPARAM**</span></span>](/previous-versions/windows/desktop/api)
</dt> <dt>

[<span data-ttu-id="a3299-164">**IS_POINTER_INCONTACT_WPARAM**</span><span class="sxs-lookup"><span data-stu-id="a3299-164">**IS_POINTER_INCONTACT_WPARAM**</span></span>](/previous-versions/windows/desktop/api)
</dt> </dl>

 

