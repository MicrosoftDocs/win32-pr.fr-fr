---
description: Le contrôle d’inscription de certificat peut être utilisé par une application qui doit demander qu’un certificat soit émis pour un objet nommé.
ms.assetid: ce6661b0-7ed2-452f-a54c-6705d14f3298
title: Contrôle d’inscription de certificat
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e417a9db7984cbb58b7c2e3b51d828b6d61a97b6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106516640"
---
# <a name="certificate-enrollment-control"></a><span data-ttu-id="eb6c8-103">Contrôle d’inscription de certificat</span><span class="sxs-lookup"><span data-stu-id="eb6c8-103">Certificate Enrollment Control</span></span>

<span data-ttu-id="eb6c8-104">Le contrôle d’inscription de certificat peut être utilisé par une application qui doit demander qu’un certificat soit émis pour un objet nommé.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-104">Certificate Enrollment Control can be used by an application that must request that a certificate be issued to a named subject.</span></span> <span data-ttu-id="eb6c8-105">Il est conçu pour accepter des données sous la forme d’une chaîne binaire (BSTR).</span><span class="sxs-lookup"><span data-stu-id="eb6c8-105">It is designed to accept data in the form of a binary string (BSTR).</span></span> <span data-ttu-id="eb6c8-106">Les données peuvent provenir d’une page Web ou de l’interface utilisateur du système de développement Visual Basic ou Visual C++.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-106">The data can come from a webpage or from the user interface of the Visual Basic or Visual C++ development system.</span></span> <span data-ttu-id="eb6c8-107">La sortie du contrôle d’inscription de certificats est une demande de \# certificat PKCS 10 qui peut être envoyée à une [*autorité de certification*](../secgloss/c-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="eb6c8-107">The output from the Certificate Enrollment Control is a PKCS \#10 certificate request that can be sent on to a [*certification authority*](../secgloss/c-gly.md) (CA).</span></span>

![contrôle d’inscription de certificat](images/xen-arch.png)

<span data-ttu-id="eb6c8-109">Les informations nécessaires sur l’utilisateur, l’objet du certificat, sont collectées par l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-109">Necessary information about the user, the certificate subject, is collected by the User Interface.</span></span> <span data-ttu-id="eb6c8-110">Ces informations sont fournies sous la forme d’une entrée BSTR dans le contrôle d’inscription de certificat.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-110">This information is provided as a BSTR input to the Certificate Enrollment Control.</span></span> <span data-ttu-id="eb6c8-111">Le contrôle d’inscription de certificat génère la clé de signature, la clé d’échange de clés ou les deux paires de clés appropriées.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-111">The Certificate Enrollment Control generates the appropriate signature key, key exchange key, or both key pairs.</span></span> <span data-ttu-id="eb6c8-112">Le contrôle génère et signe ensuite une \# demande de [*certificat*](../secgloss/c-gly.md) PKCS 10 à l’aide de la [*clé privée*](../secgloss/p-gly.md)générée.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-112">The control then generates and signs a PKCS \#10 [*certificate request*](../secgloss/c-gly.md) by using the generated [*private key*](../secgloss/p-gly.md).</span></span> <span data-ttu-id="eb6c8-113">Le contrôle d’inscription de certificat lie ensuite la paire de clés à un certificat factice temporaire qui est stocké dans le magasin de demandes jusqu’à ce que le certificat émis soit retourné par une autorité de certification.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-113">The Certificate Enrollment Control then links the key pair to a temporary dummy certificate which is stored in the request store until the issued certificate is returned from a certification authority.</span></span> <span data-ttu-id="eb6c8-114">Enfin, l’application envoie la \# demande de certificat PKCS 10 à une autorité de certification.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-114">Finally, the application sends the PKCS \#10 certificate request to a CA.</span></span>

<span data-ttu-id="eb6c8-115">Si l’autorité de certification approuve la demande de certificat, l’autorité de certification crée un certificat contenant la clé publique.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-115">If the CA approves the certificate request, the CA creates a certificate containing the public key.</span></span> <span data-ttu-id="eb6c8-116">L’autorité de certification signe et retourne également le certificat.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-116">The CA also signs and returns the certificate.</span></span>

<span data-ttu-id="eb6c8-117">Lorsque le certificat demandé est retourné par l’autorité de certification, l’application transmet le \# message PKCS 7 au contrôle d’inscription de certificat où le certificat ou la chaîne de certificats est extrait du \# message PKCS 7.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-117">When the requested certificate is returned from the CA, the application passes the PKCS \#7 message back to the Certificate Enrollment Control where the certificate or chain of certificates is extracted from the PKCS \#7 message.</span></span> <span data-ttu-id="eb6c8-118">Le certificat et tous les autres certificats de la chaîne d’approbation sont stockés dans un [*magasin de certificats*](../secgloss/c-gly.md).</span><span class="sxs-lookup"><span data-stu-id="eb6c8-118">The certificate and any other certificates in the chain of trust are stored in a [*certificate store*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="eb6c8-119">Le certificat retourné n’est pas modifié de quelque manière que ce soit.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-119">The returned certificate is not modified in any way.</span></span> <span data-ttu-id="eb6c8-120">Toute application prenant en charge les certificats peut maintenant accéder à ce certificat à partir du magasin.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-120">Any certificate-aware application can now access this certificate from the store.</span></span>

<span data-ttu-id="eb6c8-121">Le contrôle d’inscription de carte à puce est utilisé par un administrateur pour s’inscrire au nom des utilisateurs de carte à puce.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-121">Smart Card Enrollment Control is used by an administrator to enroll on behalf of smart card users.</span></span> <span data-ttu-id="eb6c8-122">Le processus d’inscription entraîne l’émission d’un certificat stocké sur la carte à puce d’un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-122">The enrollment process results in a certificate being issued that is stored on a user's smart card.</span></span>

<span data-ttu-id="eb6c8-123">Le contrôle d’inscription de carte à puce est contenu dans Scrdenrl.dll et se compose d’un objet, **SCrdEnr**.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-123">The Smart Card Enrollment Control is contained in Scrdenrl.dll and consists of one object, **SCrdEnr**.</span></span> <span data-ttu-id="eb6c8-124">Aucun autre objet n’est inclus dans Scrdenrl.dll.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-124">No other objects are included in Scrdenrl.dll.</span></span> <span data-ttu-id="eb6c8-125">Cet objet d’inscription de carte à puce peut être utilisé avec un langage de script, tel que Visual Basic Scripting Edition (VBScript).</span><span class="sxs-lookup"><span data-stu-id="eb6c8-125">This Smart Card Enrollment object can be used with a script language, such as Visual Basic Scripting Edition (VBScript).</span></span>

<span data-ttu-id="eb6c8-126">Un [*lecteur de carte à puce*](../secgloss/r-gly.md) doit être installé sur l’ordinateur exécutant le contrôle d’inscription de carte à puce.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-126">A [*smart card reader*](../secgloss/r-gly.md) must be installed on the computer running the Smart Card Enrollment Control.</span></span>

<span data-ttu-id="eb6c8-127">En outre, l’émetteur de carte à puce doit avoir obtenu un certificat de signature basé sur le modèle de certificat « EnrollmentAgent ».</span><span class="sxs-lookup"><span data-stu-id="eb6c8-127">Additionally, the smart card issuer must have obtained a signing certificate based on the "EnrollmentAgent" certificate template.</span></span> <span data-ttu-id="eb6c8-128">Ce certificat de signature sera utilisé pour signer la demande de certificat générée pour le compte du destinataire de la carte à puce.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-128">This signing certificate will be used to sign the certificate request generated on behalf of the smart card recipient.</span></span> <span data-ttu-id="eb6c8-129">Par défaut, les administrateurs de domaine sont autorisés à demander un certificat basé sur le modèle « agent d’inscription ».</span><span class="sxs-lookup"><span data-stu-id="eb6c8-129">By default, domain administrators are granted permission to request a certificate based on the "Enrollment Agent" template.</span></span> <span data-ttu-id="eb6c8-130">Un autre utilisateur peut être autorisé à s’inscrire pour obtenir un certificat « EnrollmentAgent » (au moyen du composant logiciel enfichable MMC sites et services Active Directory). Toutefois, cela permet à cet utilisateur d’auto-émettre une carte à puce avec des privilèges d’administrateur de domaine.</span><span class="sxs-lookup"><span data-stu-id="eb6c8-130">Another user can be granted permission to enroll for an "EnrollmentAgent" certificate (by means of the Active Directory Sites and Services MMC snap-in); doing so, however, allows this user to self-issue a smart card with domain administrator privileges.</span></span>

 

 
