---
description: Pour un certificat donné, la première étape du décodage de l’objet BLOB de certificat consiste à appeler CertCreateCertificateContext, en lui transmettant un pointeur vers le certificat encodé (BLOB).
ms.assetid: b50530e2-15a0-4215-bf18-300cf67d1611
title: Décodage d’une structure CERT_INFO
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7178c9a5bcfc95a8e2945a6e381f0c2c29cf3b4f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104564136"
---
# <a name="decoding-a-cert_info-structure"></a><span data-ttu-id="ee623-103">Décodage d’une \_ structure d’informations de certificat</span><span class="sxs-lookup"><span data-stu-id="ee623-103">Decoding a CERT\_INFO Structure</span></span>

<span data-ttu-id="ee623-104">Pour un certificat donné, la première étape du décodage de l' [*objet BLOB*](../secgloss/b-gly.md) de certificat consiste à appeler [**CertCreateCertificateContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certcreatecertificatecontext), en lui transmettant un pointeur vers le certificat encodé (*BLOB*).</span><span class="sxs-lookup"><span data-stu-id="ee623-104">Given a certificate, the first step in decoding the certificate [*BLOB*](../secgloss/b-gly.md) is to call [**CertCreateCertificateContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certcreatecertificatecontext), passing it a pointer to the encoded certificate (*BLOB*).</span></span> <span data-ttu-id="ee623-105">Lorsque cette fonction est appelée, elle crée un doublon du certificat encodé, crée une structure de type [**CERT \_ Context**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_context)et crée une structure de type [**CERT \_ info**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info).</span><span class="sxs-lookup"><span data-stu-id="ee623-105">When this function is called, it creates a duplicate of the encoded certificate, creates a structure of type [**CERT\_CONTEXT**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_context), and creates a structure of type [**CERT\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info).</span></span> <span data-ttu-id="ee623-106">Comme indiqué dans l’illustration suivante, un [*contexte de certificat*](../secgloss/c-gly.md) comprend l' *objet BLOB* de certificat d’origine, une structure c de type **Certificate \_** Certificate et une structure c de type **CERT \_ info**.</span><span class="sxs-lookup"><span data-stu-id="ee623-106">As shown in the following illustration, a [*certificate context*](../secgloss/c-gly.md) includes the original certificate *BLOB*, a C structure of type **CERT\_CONTEXT**, and a C structure of type **CERT\_INFO**.</span></span> <span data-ttu-id="ee623-107">L’un des membres de la structure de **\_ contexte** du certificat pointe vers la structure d' **\_ informations** de certificat et l’autre vers l’objet blob de certificat encodé.</span><span class="sxs-lookup"><span data-stu-id="ee623-107">One of the members of the **CERT\_CONTEXT** structure points to the **CERT\_INFO** structure and another to the encoded certificate BLOB.</span></span>

![contexte du certificat](images/certcntx.png)

<span data-ttu-id="ee623-109">L’objet encodé (membre de données) est toujours fourni comme entrée à la fonction [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) , et la sortie est une structure C qui peut ou non avoir des membres encodés, en fonction de la durée du processus.</span><span class="sxs-lookup"><span data-stu-id="ee623-109">The encoded object (data member) is always provided as the input to the [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) function, and the output is a C structure that may or may not have encoded members, depending on how far into the process you are.</span></span>

<span data-ttu-id="ee623-110">Il existe un autre membre qui requiert un décodage et qui est le membre d' **extension** .</span><span class="sxs-lookup"><span data-stu-id="ee623-110">There is one other member that requires some decoding, and that is the **Extension** member.</span></span> <span data-ttu-id="ee623-111">Bien qu’il ne soit pas encodé au niveau [**des \_ informations de certificat**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) , il contient des informations encodées.</span><span class="sxs-lookup"><span data-stu-id="ee623-111">Although it is not encoded at the [**CERT\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) level, it does contain some encoded information.</span></span> <span data-ttu-id="ee623-112">Pour décoder ces informations, procédez comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="ee623-112">To decode this information, proceed as shown in the following illustration.</span></span>

![décodage d’informations](images/xtension.png)

<span data-ttu-id="ee623-114">Dans la structure des [**\_ informations de certificat**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) , le membre **rgExtension** est un pointeur vers un tableau de structures d' [**\_ extension de certificat**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_extension) .</span><span class="sxs-lookup"><span data-stu-id="ee623-114">In the [**CERT\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) structure, member **rgExtension** is a pointer to an array of [**CERT\_EXTENSION**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_extension) structures.</span></span> <span data-ttu-id="ee623-115">Chaque structure d' **\_ extension de certificat** a un membre de **valeur** qui est sous forme encodée et doit être décodé.</span><span class="sxs-lookup"><span data-stu-id="ee623-115">Each **CERT\_EXTENSION** structure has a **Value** member that is in encoded form and needs to be decoded.</span></span> <span data-ttu-id="ee623-116">Le membre **value** est passé à la fonction [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) , puis la sortie de la fonction dépend de la valeur du membre **pszObjId** .</span><span class="sxs-lookup"><span data-stu-id="ee623-116">The **Value** member is passed to the [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) function, and then the output from the function depends on the value of the **pszObjId** member.</span></span> <span data-ttu-id="ee623-117">Notez que, dans l’illustration, deux structures différentes sont générées, l’une des valeurs de type [**CERT \_ Basic \_ Constraints \_**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_basic_constraints_info) et l’autre de type informations sur l’ID de clé de l’autorité de [**certification \_ \_ \_ \_**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_authority_key_id_info), en fonction de la valeur de **pszObjId**.</span><span class="sxs-lookup"><span data-stu-id="ee623-117">Notice that in the illustration, two different structures are produced, one of type [**CERT\_BASIC\_CONSTRAINTS\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_basic_constraints_info) and one of type [**CERT\_AUTHORITY\_KEY\_ID\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_authority_key_id_info), depending on the value of **pszObjId**.</span></span>

 

 
