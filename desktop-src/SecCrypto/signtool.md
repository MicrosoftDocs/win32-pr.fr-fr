---
title: SignTool (SignTool)
description: SignTool est un outil en ligne de commande qui signe numériquement les fichiers, vérifie les signatures dans les fichiers et les fichiers d’horodatage.
ms.assetid: aa59cb35-5fba-4ce8-97ea-fc767c83f88e
ms.topic: article
ms.date: 10/12/2020
ms.openlocfilehash: 884d4c132a2877a51cef7610dd32e8ef6b9c4bc3
ms.sourcegitcommit: 25e1fa2b3641ae13b79e0afdf9cb7a168d99e009
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/16/2020
ms.locfileid: "104383187"
---
# <a name="signtool"></a><span data-ttu-id="0d51a-103">SignTool (SignTool)</span><span class="sxs-lookup"><span data-stu-id="0d51a-103">SignTool</span></span>

<span data-ttu-id="0d51a-104">SignTool est un outil en ligne de commande qui signe numériquement les fichiers, vérifie les signatures dans les fichiers et les fichiers d’horodatage.</span><span class="sxs-lookup"><span data-stu-id="0d51a-104">SignTool is a command-line tool that digitally signs files, verifies the signatures in files, and timestamps files.</span></span> <span data-ttu-id="0d51a-105">Pour plus d’informations sur la raison pour laquelle la signature des fichiers est importante, consultez [Présentation de la signature de code](cryptography-tools.md).</span><span class="sxs-lookup"><span data-stu-id="0d51a-105">For information about why signing files is important, see [Introduction to Code Signing](cryptography-tools.md).</span></span> <span data-ttu-id="0d51a-106">L’outil est installé dans le \\ dossier bin du chemin d’installation du kit de développement logiciel (SDK) Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="0d51a-106">The tool is installed in the \\Bin folder of the Microsoft Windows Software Development Kit (SDK) installation path.</span></span>

<span data-ttu-id="0d51a-107">SignTool est disponible dans le cadre de la SDK Windows, que vous pouvez télécharger à partir de <https://developer.microsoft.com/windows/downloads/windows-10-sdk/> .</span><span class="sxs-lookup"><span data-stu-id="0d51a-107">SignTool is available as part of the Windows SDK, which you can download from <https://developer.microsoft.com/windows/downloads/windows-10-sdk/>.</span></span>

> [!Note]  
> <span data-ttu-id="0d51a-108">Les **versions 20236 et ultérieures** du kit de développement logiciel (SDK) Windows 10, Windows 10 HLK, Windows 10 WDK et Windows 10 ADK requièrent désormais la spécification de l’algorithme Digest.</span><span class="sxs-lookup"><span data-stu-id="0d51a-108">The Windows 10 SDK, Windows 10 HLK, Windows 10 WDK and Windows 10 ADK **builds 20236 and above** will now require specifying the digest algorithm.</span></span> <span data-ttu-id="0d51a-109">La commande de signature SignTool requiert la `file digest algorithm` spécification de/FD et de l' `timestamp digest algorithm` option/TD lors de la signature et de l’horodatage, respectivement.</span><span class="sxs-lookup"><span data-stu-id="0d51a-109">The SignTool sign command requires the /fd `file digest algorithm` and the /td `timestamp digest algorithm` option to be specified during signing and timestamping, respectively.</span></span> <span data-ttu-id="0d51a-110">Un avertissement (code d’erreur 0, initialement) est levé si/FD n’est pas spécifié lors de la signature et si/TD n’est pas spécifié lors de l’horodatage.</span><span class="sxs-lookup"><span data-stu-id="0d51a-110">A warning (error code 0, initially) will be thrown if /fd is not specified during signing and if /td is not specified during timestamping.</span></span> <span data-ttu-id="0d51a-111">Dans les versions ultérieures de SignTool, l’avertissement devient une erreur.</span><span class="sxs-lookup"><span data-stu-id="0d51a-111">In later versions of SignTool, the warning will become an error.</span></span> <span data-ttu-id="0d51a-112">SHA256 est recommandé et est considéré comme plus sûr que SHA1 par le secteur.</span><span class="sxs-lookup"><span data-stu-id="0d51a-112">SHA256 is recommended and considered to be more secure than SHA1 by the industry.</span></span>  


## <a name="syntax"></a><span data-ttu-id="0d51a-113">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="0d51a-113">Syntax</span></span>  
  
```console  
signtool [command] [options] [file_name | ...]  
```  

## <a name="parameters"></a><span data-ttu-id="0d51a-114">Paramètres</span><span class="sxs-lookup"><span data-stu-id="0d51a-114">Parameters</span></span>  
  
|<span data-ttu-id="0d51a-115">Argument</span><span class="sxs-lookup"><span data-stu-id="0d51a-115">Argument</span></span>|<span data-ttu-id="0d51a-116">Description</span><span class="sxs-lookup"><span data-stu-id="0d51a-116">Description</span></span>|  
|----|----|  
|`command`|<span data-ttu-id="0d51a-117">L'une des quatre commandes (`catdb`, `sign`, `Timestamp` ou `Verify`) qui spécifie une opération à exécuter sur un fichier.</span><span class="sxs-lookup"><span data-stu-id="0d51a-117">One of four commands (`catdb`, `sign`, `Timestamp`, or `Verify`) that specifies an operation to perform on a file.</span></span> <span data-ttu-id="0d51a-118">Pour obtenir une description de chaque commande, consultez le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="0d51a-118">For a description of each command, see the next table.</span></span>|  
|`options`|<span data-ttu-id="0d51a-119">Une option qui modifie une commande.</span><span class="sxs-lookup"><span data-stu-id="0d51a-119">An option that modifies a command.</span></span> <span data-ttu-id="0d51a-120">En plus des options globales `/q` et `/v`, chaque commande prend en charge un seul ensemble d'options.</span><span class="sxs-lookup"><span data-stu-id="0d51a-120">In addition to the global `/q` and `/v` options, each command supports a unique set of options.</span></span>|  
|`file_name`|<span data-ttu-id="0d51a-121">Le chemin d’accès à un fichier à signer.</span><span class="sxs-lookup"><span data-stu-id="0d51a-121">The path to a file to sign.</span></span>| 


<span data-ttu-id="0d51a-122">Les commandes suivantes sont prises en charge par SignTool.</span><span class="sxs-lookup"><span data-stu-id="0d51a-122">The following commands are supported by SignTool.</span></span>

|<span data-ttu-id="0d51a-123">Commande</span><span class="sxs-lookup"><span data-stu-id="0d51a-123">Command</span></span>|<span data-ttu-id="0d51a-124">Description</span><span class="sxs-lookup"><span data-stu-id="0d51a-124">Description</span></span>|  
|----|----|  
|`Catdb`|<span data-ttu-id="0d51a-125">Ajoute ou supprime un fichier catalogue dans une base de données de catalogue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-125">Adds a catalog file to, or removes it from, a catalog database.</span></span> <span data-ttu-id="0d51a-126">Les bases de données de catalogue sont utilisées pour la récupération automatique des fichiers catalogue et sont identifiées par un GUID.</span><span class="sxs-lookup"><span data-stu-id="0d51a-126">Catalog databases are used for automatic lookup of catalog files and are identified by GUID.</span></span> <span data-ttu-id="0d51a-127">Pour obtenir la liste des options prises en charge par la commande `catdb`, consultez [Options de commande catdb](/dotnet/framework/tools/signtool-exe#catdb-command-options).</span><span class="sxs-lookup"><span data-stu-id="0d51a-127">For a list of the options supported by the `catdb` command, see [catdb Command Options](/dotnet/framework/tools/signtool-exe#catdb-command-options).</span></span>|  
|`Sign`|<span data-ttu-id="0d51a-128">Signe numériquement les fichiers.</span><span class="sxs-lookup"><span data-stu-id="0d51a-128">Digitally signs files.</span></span> <span data-ttu-id="0d51a-129">Les signatures numériques protègent les fichiers contre la falsification et permettent aux utilisateurs de vérifier le signataire selon un certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-129">Digital signatures protect files from tampering, and enable users to verify the signer based on a signing certificate.</span></span> <span data-ttu-id="0d51a-130">Pour obtenir la liste des options prises en charge par la commande `sign`, consultez [Options de commande sign](/dotnet/framework/tools/signtool-exe#sign-command-options).</span><span class="sxs-lookup"><span data-stu-id="0d51a-130">For a list of the options supported by the `sign` command, see [sign Command Options](/dotnet/framework/tools/signtool-exe#sign-command-options).</span></span>|  
|`Timestamp`|<span data-ttu-id="0d51a-131">Horodate les fichiers.</span><span class="sxs-lookup"><span data-stu-id="0d51a-131">Time-stamps files.</span></span> <span data-ttu-id="0d51a-132">Pour obtenir la liste des options prises en charge par la commande `TimeStamp`, consultez [Options de commande TimeStamp](/dotnet/framework/tools/signtool-exe#timestamp-command-options).</span><span class="sxs-lookup"><span data-stu-id="0d51a-132">For a list of the options supported by the `TimeStamp` command, see [TimeStamp Command Options](/dotnet/framework/tools/signtool-exe#timestamp-command-options).</span></span>|  
|`Verify`|<span data-ttu-id="0d51a-133">Vérifie la signature numérique des fichiers en déterminant si le certificat de signature a été publié par une autorité de confiance, si le certificat de signature a été révoqué et, éventuellement, si le certificat de signature est valide pour une stratégie spécifique.</span><span class="sxs-lookup"><span data-stu-id="0d51a-133">Verifies the digital signature of files by determining whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span> <span data-ttu-id="0d51a-134">Pour obtenir la liste des options prises en charge par la commande `Verify`, consultez [Options de commande Verify](/dotnet/framework/tools/signtool-exe#verify-command-options).</span><span class="sxs-lookup"><span data-stu-id="0d51a-134">For a list of the options supported by the `Verify` command, see [Verify Command Options](/dotnet/framework/tools/signtool-exe#verify-command-options).</span></span>|

 <span data-ttu-id="0d51a-135">Les options suivantes s'appliquent à toutes les commandes de l'outil Signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-135">The following options apply to all Sign Tool commands.</span></span>  
  
|<span data-ttu-id="0d51a-136">Option globale</span><span class="sxs-lookup"><span data-stu-id="0d51a-136">Global option</span></span>|<span data-ttu-id="0d51a-137">Description</span><span class="sxs-lookup"><span data-stu-id="0d51a-137">Description</span></span>|  
|----|----|  
|<span data-ttu-id="0d51a-138">**/q**</span><span class="sxs-lookup"><span data-stu-id="0d51a-138">**/q**</span></span>|<span data-ttu-id="0d51a-139">N'affiche aucune sortie si la commande fonctionne correctement, et affiche la sortie minimale si la commande échoue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-139">Displays no output if the command runs successfully, and displays minimal output if the command fails.</span></span>|  
|<span data-ttu-id="0d51a-140">**/v**</span><span class="sxs-lookup"><span data-stu-id="0d51a-140">**/v**</span></span>|<span data-ttu-id="0d51a-141">Affiche la sortie des commentaires que la commande s'exécute correctement ou échoue, et affiche des messages d'avertissement.</span><span class="sxs-lookup"><span data-stu-id="0d51a-141">Displays verbose output regardless of whether the command runs successfully or fails, and displays warning messages.</span></span>|  
|<span data-ttu-id="0d51a-142">**/Debug**</span><span class="sxs-lookup"><span data-stu-id="0d51a-142">**/debug**</span></span>|<span data-ttu-id="0d51a-143">Affiche les informations de débogage.</span><span class="sxs-lookup"><span data-stu-id="0d51a-143">Displays debugging information.</span></span>|  

 
## <a name="catdb-command-options"></a><span data-ttu-id="0d51a-144">Options de commande CatDB</span><span class="sxs-lookup"><span data-stu-id="0d51a-144">Catdb command options</span></span>  

 <span data-ttu-id="0d51a-145">Le tableau suivant répertorie les options qui peuvent être utilisées avec la commande `Catdb`.</span><span class="sxs-lookup"><span data-stu-id="0d51a-145">The following table lists the options that can be used with the `Catdb` command.</span></span>

| <span data-ttu-id="0d51a-146">Option Catdb</span><span class="sxs-lookup"><span data-stu-id="0d51a-146">Catdb option</span></span> | <span data-ttu-id="0d51a-147">Description</span><span class="sxs-lookup"><span data-stu-id="0d51a-147">Description</span></span> |
|----|----| 
| <span data-ttu-id="0d51a-148">**/d**</span><span class="sxs-lookup"><span data-stu-id="0d51a-148">**/d**</span></span> | <span data-ttu-id="0d51a-149">Spécifie que la base de données de catalogue par défaut doit être mise à jour.</span><span class="sxs-lookup"><span data-stu-id="0d51a-149">Specifies that the default catalog database be updated.</span></span> <span data-ttu-id="0d51a-150">Si les options **/d** et **/g** ne sont pas utilisées, SignTool met à jour la base de données des pilotes et des composants système.</span><span class="sxs-lookup"><span data-stu-id="0d51a-150">If neither the **/d** nor **/g** option is used, SignTool updates the system component and driver database.</span></span> |
| <span data-ttu-id="0d51a-151">**/G** *GUID*</span><span class="sxs-lookup"><span data-stu-id="0d51a-151">**/g** *GUID*</span></span> | <span data-ttu-id="0d51a-152">Spécifie que la base de données de catalogue identifiée par le GUID doit être mise à jour.</span><span class="sxs-lookup"><span data-stu-id="0d51a-152">Specifies that the catalog database identified by the GUID be updated.</span></span>|
| <span data-ttu-id="0d51a-153">**/r**</span><span class="sxs-lookup"><span data-stu-id="0d51a-153">**/r**</span></span> | <span data-ttu-id="0d51a-154">Supprime le catalogue spécifié de la base de données du catalogue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-154">Removes the specified catalog from the catalog database.</span></span> <span data-ttu-id="0d51a-155">Si cette option n’est pas spécifiée, SignTool ajoute le catalogue spécifié à la base de données du catalogue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-155">If this option is not specified, SignTool will add the specified catalog to the catalog database.</span></span>|
| <span data-ttu-id="0d51a-156">**/u.**</span><span class="sxs-lookup"><span data-stu-id="0d51a-156">**/u**</span></span> | <span data-ttu-id="0d51a-157">Spécifie qu’un nom unique doit être généré automatiquement pour les fichiers catalogue ajoutés.</span><span class="sxs-lookup"><span data-stu-id="0d51a-157">Specifies that a unique name be automatically generated for the added catalog files.</span></span> <span data-ttu-id="0d51a-158">Si nécessaire, les fichiers catalogue seront renommés pour empêcher des conflits entre les noms des fichiers catalogue existants.</span><span class="sxs-lookup"><span data-stu-id="0d51a-158">If necessary, the catalog files are renamed to prevent name conflicts with existing catalog files.</span></span> <span data-ttu-id="0d51a-159">Si cette option n’est pas spécifiée, SignTool remplace tout catalogue existant qui porte le même nom que le catalogue ajouté.</span><span class="sxs-lookup"><span data-stu-id="0d51a-159">If this option is not specified, SignTool overwrites any existing catalog that has the same name as the catalog being added.</span></span>|

> [!Note]  
> <span data-ttu-id="0d51a-160">Les bases de données de catalogue sont utilisées pour la recherche automatique de fichiers de catalogue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-160">Catalog databases are used for automatic lookup of catalog files.</span></span>


## <a name="sign-command-options"></a><span data-ttu-id="0d51a-161">Options de la commande Sign</span><span class="sxs-lookup"><span data-stu-id="0d51a-161">Sign command options</span></span>  

 <span data-ttu-id="0d51a-162">Le tableau suivant répertorie les options qui peuvent être utilisées avec la commande `sign`.</span><span class="sxs-lookup"><span data-stu-id="0d51a-162">The following table lists the options that can be used with the `sign` command.</span></span>  
  
|<span data-ttu-id="0d51a-163">Options de la commande Sign</span><span class="sxs-lookup"><span data-stu-id="0d51a-163">Sign command option</span></span>|<span data-ttu-id="0d51a-164">Description</span><span class="sxs-lookup"><span data-stu-id="0d51a-164">Description</span></span>|  
|----|----| 
|`/a`|<span data-ttu-id="0d51a-165">Sélectionne automatiquement le meilleur certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-165">Automatically selects the best signing certificate.</span></span> <span data-ttu-id="0d51a-166">L'outil Signature recherche tous les certificats valides qui répondent à toutes les conditions spécifiées et sélectionne celui qui est valide le plus longtemps.</span><span class="sxs-lookup"><span data-stu-id="0d51a-166">Sign Tool will find all valid certificates that satisfy all specified conditions and select the one that is valid for the longest time.</span></span> <span data-ttu-id="0d51a-167">Si cette option n'est pas présente, l'outil Signature pense trouver un seul certificat de signature valide.</span><span class="sxs-lookup"><span data-stu-id="0d51a-167">If this option is not present, Sign Tool expects to find only one valid signing certificate.</span></span>|  
|<span data-ttu-id="0d51a-168">`/ac`  *fichier*</span><span class="sxs-lookup"><span data-stu-id="0d51a-168">`/ac`  *file*</span></span>|<span data-ttu-id="0d51a-169">Ajoute un certificat supplémentaire à partir de *file* au bloc de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-169">Adds an additional certificate from *file* to the signature block.</span></span>|  
|`/as`|<span data-ttu-id="0d51a-170">Ajoute cette signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-170">Appends this signature.</span></span> <span data-ttu-id="0d51a-171">Si aucune signature principale n'est présente, cette signature est effectuée à la signature principale à la place.</span><span class="sxs-lookup"><span data-stu-id="0d51a-171">If no primary signature is present, this signature is made the primary signature instead.</span></span>|  
|<span data-ttu-id="0d51a-172">`/c`  *CertTemplateName*</span><span class="sxs-lookup"><span data-stu-id="0d51a-172">`/c`  *CertTemplateName*</span></span>|<span data-ttu-id="0d51a-173">Spécifie le nom du modèle de certificat (une extension Microsoft) pour le certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-173">Specifies the Certificate Template Name (a Microsoft extension) for the signing certificate.</span></span>|  
|<span data-ttu-id="0d51a-174">`/csp`  *CSPName*</span><span class="sxs-lookup"><span data-stu-id="0d51a-174">`/csp`  *CSPName*</span></span>|<span data-ttu-id="0d51a-175">Spécifie le fournisseur de services de chiffrement (CSP) qui contient le conteneur de clés privées.</span><span class="sxs-lookup"><span data-stu-id="0d51a-175">Specifies the cryptographic service provider (CSP) that contains the private key container.</span></span>|  
|<span data-ttu-id="0d51a-176">`/d`  *DESC*</span><span class="sxs-lookup"><span data-stu-id="0d51a-176">`/d`  *Desc*</span></span>|<span data-ttu-id="0d51a-177">Spécifie une description du contenu signé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-177">Specifies a description of the signed content.</span></span>|  
|<span data-ttu-id="0d51a-178">`/dg`  *D*</span><span class="sxs-lookup"><span data-stu-id="0d51a-178">`/dg`  *Path*</span></span>|<span data-ttu-id="0d51a-179">Génère le condensé à signer et les fichiers PKCS7 non signés.</span><span class="sxs-lookup"><span data-stu-id="0d51a-179">Generates the digest to be signed and the unsigned PKCS7 files.</span></span> <span data-ttu-id="0d51a-180">Les fichiers de sortie Digest et PKCS7 sont les suivants : *Path\FileName.Dig* et *Path\FileName.p7u*.</span><span class="sxs-lookup"><span data-stu-id="0d51a-180">The output digest and PKCS7 files will be: *Path\FileName.dig* and *Path\FileName.p7u*.</span></span> <span data-ttu-id="0d51a-181">Pour générer un fichier XML supplémentaire, consultez <strong>/DXML</strong>.</span><span class="sxs-lookup"><span data-stu-id="0d51a-181">To output an additional XML file, see <strong>/dxml</strong>.</span></span>|  
|<span data-ttu-id="0d51a-182">`/di`  *D*</span><span class="sxs-lookup"><span data-stu-id="0d51a-182">`/di`  *Path*</span></span>|<span data-ttu-id="0d51a-183">Crée la signature en ingestion du condensé signé dans le fichier PKCS7 non signé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-183">Creates the signature by ingesting the signed digest to the unsigned PKCS7 file.</span></span> <span data-ttu-id="0d51a-184">Les fichiers de résumé et PKCS7 non signés d’entrée doivent être : *Path\FileName.Dig.signed* et *Path\FileName.p7u*.</span><span class="sxs-lookup"><span data-stu-id="0d51a-184">The input signed digest and unsigned PKCS7 files should be: *Path\FileName.dig.signed* and *Path\FileName.p7u*.</span></span>|  
|<span data-ttu-id="0d51a-185">`/dlib`  *DLL*</span><span class="sxs-lookup"><span data-stu-id="0d51a-185">`/dlib`  *DLL*</span></span>|<span data-ttu-id="0d51a-186">Spécifie la DLL qui implémente la <code>AuthenticodeDigestSign</code> fonction avec laquelle signer le Digest.</span><span class="sxs-lookup"><span data-stu-id="0d51a-186">Specifies the DLL implementing the <code>AuthenticodeDigestSign</code> function to sign the digest with.</span></span> <span data-ttu-id="0d51a-187">Cette option équivaut à utiliser <strong>SignTool</strong> séparément avec les commutateurs <strong>/DG</strong>, <strong>/DS</strong>et <strong>/di</strong> , sauf que cette option appelle les trois une seule opération atomique.</span><span class="sxs-lookup"><span data-stu-id="0d51a-187">This option is equivalent to using <strong>SignTool</strong> separately with the <strong>/dg</strong>, <strong>/ds</strong>, and <strong>/di</strong> switches, except this option invokes all three as one atomic operation.</span></span>|  
|<span data-ttu-id="0d51a-188">`/dmdf`  *Extension*</span><span class="sxs-lookup"><span data-stu-id="0d51a-188">`/dmdf`  *Filename*</span></span>|<span data-ttu-id="0d51a-189">Lorsqu’il est utilisé avec l’option <strong>/DG</strong> , passe le contenu du fichier à la <code>AuthenticodeDigestSign</code> fonction sans modification.</span><span class="sxs-lookup"><span data-stu-id="0d51a-189">When used with the <strong>/dg</strong> option, passes the file’s contents to the <code>AuthenticodeDigestSign</code> function without modification.</span></span>|  
|`/ds`  |<span data-ttu-id="0d51a-190">Signe le condensé uniquement.</span><span class="sxs-lookup"><span data-stu-id="0d51a-190">Signs the digest only.</span></span> <span data-ttu-id="0d51a-191">Le fichier d’entrée doit être le Digest généré par l’option <strong>/DG</strong> .</span><span class="sxs-lookup"><span data-stu-id="0d51a-191">The input file should be the digest generated by the <strong>/dg</strong> option.</span></span> <span data-ttu-id="0d51a-192">Le fichier de sortie sera : *file. signed*.</span><span class="sxs-lookup"><span data-stu-id="0d51a-192">The output file will be: *File.signed*.</span></span>|  
|<span data-ttu-id="0d51a-193">`/du`  *URL*</span><span class="sxs-lookup"><span data-stu-id="0d51a-193">`/du`  *URL*</span></span>|<span data-ttu-id="0d51a-194">Spécifie une URL pour la description développée du contenu signé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-194">Specifies a Uniform Resource Locator (URL) for the expanded description of the signed content.</span></span>|  
|`/dxml`  |<span data-ttu-id="0d51a-195">Lorsqu’il est utilisé avec l’option <strong>/DG</strong> , produit un fichier XML.</span><span class="sxs-lookup"><span data-stu-id="0d51a-195">When used with the <strong>/dg</strong> option, produces an XML file.</span></span> <span data-ttu-id="0d51a-196">Le fichier de sortie est le suivant : *Path\FileName.dig.xml*.</span><span class="sxs-lookup"><span data-stu-id="0d51a-196">The output file will be: *Path\FileName.dig.xml*.</span></span>|  
|<span data-ttu-id="0d51a-197">`/f`  *SignCertFile*</span><span class="sxs-lookup"><span data-stu-id="0d51a-197">`/f`  *SignCertFile*</span></span>|<span data-ttu-id="0d51a-198">Spécifie le certificat de signature dans un fichier.</span><span class="sxs-lookup"><span data-stu-id="0d51a-198">Specifies the signing certificate in a file.</span></span> <span data-ttu-id="0d51a-199">Si le fichier est au format PFX (Personal Information Exchange) et protégé par un mot de passe, utilisez l'option `/p` pour spécifier le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="0d51a-199">If the file is in Personal Information Exchange (PFX) format and protected by a password, use the `/p` option to specify the password.</span></span> <span data-ttu-id="0d51a-200">Si le fichier ne contient aucune clé privée, utilisez les options `/csp` et `/kc` pour spécifier le nom du conteneur CSP et de clés privées.</span><span class="sxs-lookup"><span data-stu-id="0d51a-200">If the file does not contain private keys, use the `/csp` and `/kc` options to specify the CSP and private key container name.</span></span>|  
|<span data-ttu-id="0d51a-201">`/fd`*ALG*</span><span class="sxs-lookup"><span data-stu-id="0d51a-201">`/fd` *alg*</span></span>|<span data-ttu-id="0d51a-202">Spécifie l’algorithme de condensat de fichiers à utiliser pour créer des signatures de fichiers.</span><span class="sxs-lookup"><span data-stu-id="0d51a-202">Specifies the file digest algorithm to use for creating file signatures.</span></span> </br> <span data-ttu-id="0d51a-203">**Remarque :** Un avertissement est généré si l’option <strong>/FD</strong> n’est pas spécifiée lors de la signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-203">**Note:** A warning is generated if <strong>/fd</strong> switch is not provided while signing.</span></span> <span data-ttu-id="0d51a-204">L’ALG par défaut est SHA1 mais SHA256 est recommandé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-204">The default alg is SHA1 but SHA256 is recommended.</span></span>|
|<span data-ttu-id="0d51a-205">`/fd`  *certHash*</span><span class="sxs-lookup"><span data-stu-id="0d51a-205">`/fd`  *certHash*</span></span>|<span data-ttu-id="0d51a-206">La spécification de la chaîne certHash aura comme valeur par défaut l’algorithme utilisé sur le certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-206">Specifying the string certHash will default to the algorithm used on the signing certificate.</span></span> </br> <span data-ttu-id="0d51a-207">**Remarque :** Disponible uniquement dans les versions 20236 et ultérieures du Kit Windows 10.</span><span class="sxs-lookup"><span data-stu-id="0d51a-207">**Note:** Only available in Windows 10 kit builds 20236 and greater.</span></span>|  
|<span data-ttu-id="0d51a-208">`/i`  *IssuerName*</span><span class="sxs-lookup"><span data-stu-id="0d51a-208">`/i`  *IssuerName*</span></span>|<span data-ttu-id="0d51a-209">Spécifie le nom de l'émetteur du certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-209">Specifies the name of the issuer of the signing certificate.</span></span> <span data-ttu-id="0d51a-210">Cette valeur peut être une sous-chaîne du nom d'émetteur entier.</span><span class="sxs-lookup"><span data-stu-id="0d51a-210">This value can be a substring of the entire issuer name.</span></span>|  
|<span data-ttu-id="0d51a-211">`/kc`  *PrivKeyContainerName*</span><span class="sxs-lookup"><span data-stu-id="0d51a-211">`/kc`  *PrivKeyContainerName*</span></span>|<span data-ttu-id="0d51a-212">Spécifie le nom du conteneur de clés privées.</span><span class="sxs-lookup"><span data-stu-id="0d51a-212">Specifies the private key container name.</span></span>|  
|<span data-ttu-id="0d51a-213">`/n`  *SubjectName*</span><span class="sxs-lookup"><span data-stu-id="0d51a-213">`/n`  *SubjectName*</span></span>|<span data-ttu-id="0d51a-214">Spécifie le nom de l'objet du certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-214">Specifies the name of the subject of the signing certificate.</span></span> <span data-ttu-id="0d51a-215">Cette valeur peut être une sous-chaîne du nom de l'objet entier.</span><span class="sxs-lookup"><span data-stu-id="0d51a-215">This value can be a substring of the entire subject name.</span></span>|  
|`/nph`|<span data-ttu-id="0d51a-216">En cas de prise en charge, supprime les hachages de pages pour les fichiers exécutables.</span><span class="sxs-lookup"><span data-stu-id="0d51a-216">If supported, suppresses page hashes for executable files.</span></span> <span data-ttu-id="0d51a-217">La valeur par défaut est déterminée par la variable d'environnement SIGNTOOL_PAGE_HASHES et par la version de wintrust.dll.</span><span class="sxs-lookup"><span data-stu-id="0d51a-217">The default is determined by the SIGNTOOL_PAGE_HASHES environment variable and by the wintrust.dll version.</span></span> <span data-ttu-id="0d51a-218">Cette option est ignorée pour les fichiers non PE.</span><span class="sxs-lookup"><span data-stu-id="0d51a-218">This option is ignored for non-PE files.</span></span>|  
|<span data-ttu-id="0d51a-219">`/p`  *Mot de passe*</span><span class="sxs-lookup"><span data-stu-id="0d51a-219">`/p`  *Password*</span></span>|<span data-ttu-id="0d51a-220">Spécifie le mot de passe à utiliser lors de l'ouverture d'un fichier PFX.</span><span class="sxs-lookup"><span data-stu-id="0d51a-220">Specifies the password to use when opening a PFX file.</span></span> <span data-ttu-id="0d51a-221">(Utilisez l'option `/f` pour spécifier un fichier PFX.)</span><span class="sxs-lookup"><span data-stu-id="0d51a-221">(Use the `/f` option to specify a PFX file.)</span></span>|  
|<span data-ttu-id="0d51a-222">`/p7` *Chemin*</span><span class="sxs-lookup"><span data-stu-id="0d51a-222">`/p7` *Path*</span></span>|<span data-ttu-id="0d51a-223">Spécifie qu'un fichier PKCS (Public Key Cryptography Standards) #7 est produit pour chaque fichier de contenu spécifié.</span><span class="sxs-lookup"><span data-stu-id="0d51a-223">Specifies that a Public Key Cryptography Standards (PKCS) #7 file is produced for each specified content file.</span></span> <span data-ttu-id="0d51a-224">Les fichiers de #7 PKCS sont nommés *chemin* \\ *nom_de_fichier*. P7.</span><span class="sxs-lookup"><span data-stu-id="0d51a-224">PKCS #7 files are named *path*\\*filename*.p7.</span></span>|  
|<span data-ttu-id="0d51a-225">`/p7ce` *Valeur*</span><span class="sxs-lookup"><span data-stu-id="0d51a-225">`/p7ce` *Value*</span></span>|<span data-ttu-id="0d51a-226">Spécifie des options pour le contenu PKCS #7 signé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-226">Specifies options for the signed PKCS #7 content.</span></span> <span data-ttu-id="0d51a-227">Remplacez *Value* par « Embedded » pour incorporer le contenu signé dans le fichier PKCS #7 ou par « DetachedSignedData » pour produire la partie signée des données d’un fichier PKCS #7 détaché.</span><span class="sxs-lookup"><span data-stu-id="0d51a-227">Set *Value* to "Embedded" to embed the signed content in the PKCS #7 file, or to "DetachedSignedData" to produce the signed data portion of a detached PKCS #7 file.</span></span> <span data-ttu-id="0d51a-228">Si l'option `/p7ce` n'est pas utilisée, le contenu signé est incorporé par défaut.</span><span class="sxs-lookup"><span data-stu-id="0d51a-228">If the `/p7ce` option is not used, the signed content is embedded by default.</span></span>|  
|<span data-ttu-id="0d51a-229">`/p7co` *\<OID>*</span><span class="sxs-lookup"><span data-stu-id="0d51a-229">`/p7co` *\<OID>*</span></span>|<span data-ttu-id="0d51a-230">Spécifie l'identificateur d'objet (OID) qui identifie le contenu PKCS #7 signé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-230">Specifies the object identifier (OID) that identifies the signed PKCS #7 content.</span></span>|  
|`/ph`|<span data-ttu-id="0d51a-231">En cas de prise en charge, génère les hachages de pages pour les fichiers exécutables.</span><span class="sxs-lookup"><span data-stu-id="0d51a-231">If supported, generates page hashes for executable files.</span></span>|  
|<span data-ttu-id="0d51a-232">`/r`  *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="0d51a-232">`/r`  *RootSubjectName*</span></span>|<span data-ttu-id="0d51a-233">Spécifie le nom de l'objet du certificat racine auquel le certificat de signature doit être lié.</span><span class="sxs-lookup"><span data-stu-id="0d51a-233">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="0d51a-234">Cette valeur peut être une sous-chaîne du nom de l'objet entier du certificat racine.</span><span class="sxs-lookup"><span data-stu-id="0d51a-234">This value may be a substring of the entire subject name of the root certificate.</span></span>|  
|<span data-ttu-id="0d51a-235">`/s`  *StoreName*</span><span class="sxs-lookup"><span data-stu-id="0d51a-235">`/s`  *StoreName*</span></span>|<span data-ttu-id="0d51a-236">Spécifie le magasin à ouvrir lors de la recherche du certificat.</span><span class="sxs-lookup"><span data-stu-id="0d51a-236">Specifies the store to open when searching for the certificate.</span></span> <span data-ttu-id="0d51a-237">Si cette option n'est pas spécifiée, le magasin `My` est ouvert.</span><span class="sxs-lookup"><span data-stu-id="0d51a-237">If this option is not specified, the `My` store is opened.</span></span>|  
|<span data-ttu-id="0d51a-238">`/sha1`  *Format*</span><span class="sxs-lookup"><span data-stu-id="0d51a-238">`/sha1`  *Hash*</span></span>|<span data-ttu-id="0d51a-239">Spécifie le hachage SHA1 du certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-239">Specifies the SHA1 hash of the signing certificate.</span></span> <span data-ttu-id="0d51a-240">Le hachage SHA1 est souvent spécifié lorsque plusieurs certificats répondent aux critères spécifiés par les commutateurs restants.</span><span class="sxs-lookup"><span data-stu-id="0d51a-240">The SHA1 hash is commonly specified when multiple certificates satisfy the criteria specified by the remaining switches.</span></span>|  
|`/sm`|<span data-ttu-id="0d51a-241">Spécifie qu'un magasin d'ordinateur, au lieu d'un magasin d'utilisateur, est utilisé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-241">Specifies that a machine store, instead of a user store, is used.</span></span>|  
|<span data-ttu-id="0d51a-242">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="0d51a-242">`/t`  *URL*</span></span>|<span data-ttu-id="0d51a-243">Spécifie l'URL du serveur d'horodatage.</span><span class="sxs-lookup"><span data-stu-id="0d51a-243">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="0d51a-244">Si cette option (ou `/tr`) n'est pas présente, le fichier signé ne sera pas horodaté.</span><span class="sxs-lookup"><span data-stu-id="0d51a-244">If this option (or `/tr`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="0d51a-245">Un avertissement est généré si l'horodatage échoue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-245">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="0d51a-246">Cette option ne peut pas être utilisée avec l'option `/tr`.</span><span class="sxs-lookup"><span data-stu-id="0d51a-246">This option cannot be used with the `/tr` option.</span></span>|  
|<span data-ttu-id="0d51a-247">`/td`  *ALG*</span><span class="sxs-lookup"><span data-stu-id="0d51a-247">`/td`  *alg*</span></span>|<span data-ttu-id="0d51a-248">Utilisé avec l'option `/tr` pour demander un algorithme Digest utilisé par le serveur d'horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="0d51a-248">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="0d51a-249">**Remarque :** Un avertissement est généré si le commutateur <strong>/TD</strong> n’est pas fourni lors de l’horodatage.</span><span class="sxs-lookup"><span data-stu-id="0d51a-249">**Note:** A warning is generated if <strong>/td</strong> switch is not provided while timestamping.</span></span> <span data-ttu-id="0d51a-250">L’ALG par défaut est SHA1 mais SHA256 est recommandé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-250">The default alg is SHA1 but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="0d51a-251">Le commutateur <strong>/TD</strong> doit être déclaré après le commutateur <strong>/TR</strong> , et non avant.</span><span class="sxs-lookup"><span data-stu-id="0d51a-251">The <strong>/td</strong> switch must be declared after the <strong>/tr</strong> switch, not before.</span></span> <span data-ttu-id="0d51a-252">Si le commutateur <strong>/TD</strong> est déclaré avant le commutateur <strong>/TR</strong> , l’horodateur retourné est issu d’un algorithme SHA1 au lieu de l’algorithme SHA256 prévu.</span><span class="sxs-lookup"><span data-stu-id="0d51a-252">If the <strong>/td</strong> switch is declared before the <strong>/tr</strong> switch, the timestamp that is returned is from an SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="0d51a-253">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="0d51a-253">`/tr`  *URL*</span></span>|<span data-ttu-id="0d51a-254">Spécifie l'URL du serveur d'horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="0d51a-254">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="0d51a-255">Si cette option (ou `/t`) n'est pas présente, le fichier signé ne sera pas horodaté.</span><span class="sxs-lookup"><span data-stu-id="0d51a-255">If this option (or `/t`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="0d51a-256">Un avertissement est généré si l'horodatage échoue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-256">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="0d51a-257">Cette option ne peut pas être utilisée avec l'option `/t`.</span><span class="sxs-lookup"><span data-stu-id="0d51a-257">This option cannot be used with the `/t` option.</span></span>|  
|<span data-ttu-id="0d51a-258">`/u`  *Utilisation*</span><span class="sxs-lookup"><span data-stu-id="0d51a-258">`/u`  *Usage*</span></span>|<span data-ttu-id="0d51a-259">Spécifie l'utilisation améliorée de la clé (EKU) qui doit être présente dans le certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-259">Specifies the enhanced key usage (EKU) that must be present in the signing certificate.</span></span> <span data-ttu-id="0d51a-260">La valeur de l'utilisation peut être spécifiée par un OID ou une chaîne.</span><span class="sxs-lookup"><span data-stu-id="0d51a-260">The usage value can be specified by OID or string.</span></span> <span data-ttu-id="0d51a-261">L'utilisation par défaut est « Signature du code » (1.3.6.1.5.5.7.3.3).</span><span class="sxs-lookup"><span data-stu-id="0d51a-261">The default usage is "Code Signing" (1.3.6.1.5.5.7.3.3).</span></span>|  
|`/uw`|<span data-ttu-id="0d51a-262">Spécifie l'utilisation « Windows System Component Verification » (1.3.6.1.4.1.311.10.3.6).</span><span class="sxs-lookup"><span data-stu-id="0d51a-262">Specifies usage of "Windows System Component Verification" (1.3.6.1.4.1.311.10.3.6).</span></span>|  
  
 <span data-ttu-id="0d51a-263">Pour obtenir des exemples, consultez [Utilisation de SignTool pour signer un fichier](using-signtool-to-sign-a-file.md).</span><span class="sxs-lookup"><span data-stu-id="0d51a-263">For usage examples, see [Using SignTool to Sign a File](using-signtool-to-sign-a-file.md).</span></span>  
  

## <a name="timestamp-command-options"></a><span data-ttu-id="0d51a-264">Options de commande TimeStamp</span><span class="sxs-lookup"><span data-stu-id="0d51a-264">TimeStamp command options</span></span>  

 <span data-ttu-id="0d51a-265">Le tableau suivant répertorie les options qui peuvent être utilisées avec la commande `TimeStamp`.</span><span class="sxs-lookup"><span data-stu-id="0d51a-265">The following table lists the options that can be used with the `TimeStamp` command.</span></span>  
  
|<span data-ttu-id="0d51a-266">Option TimeStamp</span><span class="sxs-lookup"><span data-stu-id="0d51a-266">TimeStamp option</span></span>|<span data-ttu-id="0d51a-267">Description</span><span class="sxs-lookup"><span data-stu-id="0d51a-267">Description</span></span>|  
|----|----|  
|`/p7`|<span data-ttu-id="0d51a-268">Horodate les fichiers PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="0d51a-268">Time stamps PKCS #7 files.</span></span>|  
|<span data-ttu-id="0d51a-269">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="0d51a-269">`/t`  *URL*</span></span>|<span data-ttu-id="0d51a-270">Spécifie l'URL du serveur d'horodatage.</span><span class="sxs-lookup"><span data-stu-id="0d51a-270">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="0d51a-271">Le fichier en cours d'horodatage doit avoir été signé au préalable.</span><span class="sxs-lookup"><span data-stu-id="0d51a-271">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="0d51a-272">L'option `/t` ou `/tr` est obligatoire.</span><span class="sxs-lookup"><span data-stu-id="0d51a-272">Either the `/t` or the `/tr` option is required.</span></span>|  
|<span data-ttu-id="0d51a-273">`/td`  *ALG*</span><span class="sxs-lookup"><span data-stu-id="0d51a-273">`/td`  *alg*</span></span>|<span data-ttu-id="0d51a-274">Utilisé avec l'option `/tr` pour demander un algorithme Digest utilisé par le serveur d'horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="0d51a-274">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="0d51a-275">**Remarque :** Un avertissement est généré si le commutateur <strong>/TD</strong> n’est pas fourni lors de l’horodatage.</span><span class="sxs-lookup"><span data-stu-id="0d51a-275">**Note:** A warning is generated if <strong>/td</strong> switch is not provided while timestamping.</span></span> <span data-ttu-id="0d51a-276">L’ALG par défaut est SHA1 mais SHA256 est recommandé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-276">The default alg is SHA1 but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="0d51a-277">Le commutateur <strong>/TD</strong> doit être déclaré après le commutateur <strong>/TR</strong> , et non avant.</span><span class="sxs-lookup"><span data-stu-id="0d51a-277">The <strong>/td</strong> switch must be declared after the <strong>/tr</strong> switch, not before.</span></span> <span data-ttu-id="0d51a-278">Si le commutateur <strong>/TD</strong> est déclaré avant le commutateur <strong>/TR</strong> , l’horodateur retourné est issu d’un algorithme SHA1 au lieu de l’algorithme SHA256 prévu.</span><span class="sxs-lookup"><span data-stu-id="0d51a-278">If the <strong>/td</strong> switch is declared before the <strong>/tr</strong> switch, the timestamp that is returned is from an SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="0d51a-279">`/tp`*index*</span><span class="sxs-lookup"><span data-stu-id="0d51a-279">`/tp` *index*</span></span>|<span data-ttu-id="0d51a-280">Horodate la signature à l’*index*.</span><span class="sxs-lookup"><span data-stu-id="0d51a-280">Time stamps the signature at *index*.</span></span>|  
|<span data-ttu-id="0d51a-281">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="0d51a-281">`/tr`  *URL*</span></span>|<span data-ttu-id="0d51a-282">Spécifie l'URL du serveur d'horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="0d51a-282">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="0d51a-283">Le fichier en cours d'horodatage doit avoir été signé au préalable.</span><span class="sxs-lookup"><span data-stu-id="0d51a-283">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="0d51a-284">L'option `/tr` ou `/t` est obligatoire.</span><span class="sxs-lookup"><span data-stu-id="0d51a-284">Either the `/tr` or the `/t` option is required.</span></span>|  


## <a name="verify-command-options"></a><span data-ttu-id="0d51a-285">Options de commande Verify</span><span class="sxs-lookup"><span data-stu-id="0d51a-285">Verify command options</span></span>  

|<span data-ttu-id="0d51a-286">Option Verify</span><span class="sxs-lookup"><span data-stu-id="0d51a-286">Verify option</span></span>|<span data-ttu-id="0d51a-287">Description</span><span class="sxs-lookup"><span data-stu-id="0d51a-287">Description</span></span>|
|----|----|
| <span data-ttu-id="0d51a-288">**/a**</span><span class="sxs-lookup"><span data-stu-id="0d51a-288">**/a**</span></span> | <span data-ttu-id="0d51a-289">Spécifie que toutes les méthodes peuvent être utilisées pour vérifier le fichier.</span><span class="sxs-lookup"><span data-stu-id="0d51a-289">Specifies that all methods can be used to verify the file.</span></span> <span data-ttu-id="0d51a-290">En premier lieu, une recherche est effectuée dans les bases de données de catalogue pour déterminer si le fichier est signé dans un catalogue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-290">First, the catalog databases are searched to determine whether the file is signed in a catalog.</span></span> <span data-ttu-id="0d51a-291">Si le fichier n’est signé dans aucun catalogue, SignTool tente de vérifier la signature incorporée du fichier.</span><span class="sxs-lookup"><span data-stu-id="0d51a-291">If the file is not signed in any catalog, SignTool attempts to verify the file's embedded signature.</span></span> <span data-ttu-id="0d51a-292">Cette option est recommandée lors de la vérification de fichiers qui peuvent être ou non signés dans un catalogue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-292">This option is recommended when verifying files that may or may not be signed in a catalog.</span></span> <span data-ttu-id="0d51a-293">Les fichiers ou pilotes Windows sont des exemples de fichiers qui peuvent être ou non signés.</span><span class="sxs-lookup"><span data-stu-id="0d51a-293">Examples of files that may or may not be signed include Windows files or drivers.</span></span> |
| <span data-ttu-id="0d51a-294">**/ad**</span><span class="sxs-lookup"><span data-stu-id="0d51a-294">**/ad**</span></span> | <span data-ttu-id="0d51a-295">Recherche le catalogue à l'aide de la base de données de catalogue par défaut.</span><span class="sxs-lookup"><span data-stu-id="0d51a-295">Finds the catalog by using the default catalog database.</span></span> |
| <span data-ttu-id="0d51a-296">**All**</span><span class="sxs-lookup"><span data-stu-id="0d51a-296">**/all**</span></span> | <span data-ttu-id="0d51a-297">Vérifie toutes les signatures dans un fichier avec plusieurs signatures.</span><span class="sxs-lookup"><span data-stu-id="0d51a-297">Verifies all signatures in a file with multiple signatures.</span></span> |
| <span data-ttu-id="0d51a-298">**/as**</span><span class="sxs-lookup"><span data-stu-id="0d51a-298">**/as**</span></span> | <span data-ttu-id="0d51a-299">Recherche le catalogue à l'aide de la base de données de catalogue du composant système (pilote).</span><span class="sxs-lookup"><span data-stu-id="0d51a-299">Finds the catalog by using the system component (driver) catalog database.</span></span> |
| <span data-ttu-id="0d51a-300">**/AG** *CatDBGUID*</span><span class="sxs-lookup"><span data-stu-id="0d51a-300">**/ag** *CatDBGUID*</span></span> | <span data-ttu-id="0d51a-301">Recherche le catalogue dans la base de données du catalogue identifié par le **GUID**.</span><span class="sxs-lookup"><span data-stu-id="0d51a-301">Finds the catalog in the catalog database identified by the **GUID**.</span></span> |
| <span data-ttu-id="0d51a-302">**/c** *CatFile*</span><span class="sxs-lookup"><span data-stu-id="0d51a-302">**/c** *CatFile*</span></span> | <span data-ttu-id="0d51a-303">Spécifie le fichier catalogue par nom.</span><span class="sxs-lookup"><span data-stu-id="0d51a-303">Specifies the catalog file by name.</span></span> |
| <span data-ttu-id="0d51a-304">**/d**</span><span class="sxs-lookup"><span data-stu-id="0d51a-304">**/d**</span></span> | <span data-ttu-id="0d51a-305">Imprimez la description et l’URL de description.</span><span class="sxs-lookup"><span data-stu-id="0d51a-305">Print the description and description URL.</span></span><br/> <span data-ttu-id="0d51a-306">**Windows Vista et versions antérieures :** Cet indicateur n’est pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="0d51a-306">**Windows Vista and earlier:** This flag is not supported.</span></span><br/> |
| <span data-ttu-id="0d51a-307">l' *index* **/DS**</span><span class="sxs-lookup"><span data-stu-id="0d51a-307">**/ds** *Index*</span></span> | <span data-ttu-id="0d51a-308">Vérifie la signature à une certaine position.</span><span class="sxs-lookup"><span data-stu-id="0d51a-308">Verifies the signature at a certain position.</span></span> |
| <span data-ttu-id="0d51a-309">**/hash**{**SHA1** \| **SHA256**}</span><span class="sxs-lookup"><span data-stu-id="0d51a-309">**/hash**{**SHA1**\|**SHA256**}</span></span> | <span data-ttu-id="0d51a-310">Spécifie un algorithme de hachage facultatif à utiliser lors de la recherche d'un fichier dans un catalogue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-310">Specifies an optional hash algorithm to use when searching for a file in a catalog.</span></span> |
| <span data-ttu-id="0d51a-311">**/kp**</span><span class="sxs-lookup"><span data-stu-id="0d51a-311">**/kp**</span></span> | <span data-ttu-id="0d51a-312">Effectue la vérification à l’aide de la stratégie de signature de pilotes en mode noyau x64.</span><span class="sxs-lookup"><span data-stu-id="0d51a-312">Performs the verification by using the x64 kernel-mode driver signing policy.</span></span> |
| <span data-ttu-id="0d51a-313">**/ms.**</span><span class="sxs-lookup"><span data-stu-id="0d51a-313">**/ms**</span></span> | <span data-ttu-id="0d51a-314">Utilise plusieurs sémantiques de vérification.</span><span class="sxs-lookup"><span data-stu-id="0d51a-314">Uses multiple verification semantics.</span></span> <span data-ttu-id="0d51a-315">Il s’agit du comportement par défaut d’un appel [**WinVerifyTrust**](/windows/desktop/api/Wintrust/nf-wintrust-winverifytrust) .</span><span class="sxs-lookup"><span data-stu-id="0d51a-315">This is the default behavior of a [**WinVerifyTrust**](/windows/desktop/api/Wintrust/nf-wintrust-winverifytrust) call.</span></span> |
| <span data-ttu-id="0d51a-316"> *version* /o</span><span class="sxs-lookup"><span data-stu-id="0d51a-316">**/o** *Version*</span></span> | <span data-ttu-id="0d51a-317">Vérifie le fichier par version du système d'exploitation.</span><span class="sxs-lookup"><span data-stu-id="0d51a-317">Verifies the file by operating system version.</span></span> <span data-ttu-id="0d51a-318">Le paramètre version se présente sous la forme suivante :</span><span class="sxs-lookup"><span data-stu-id="0d51a-318">The version parameter is of the form:</span></span><br/> <span data-ttu-id="0d51a-319">*PlatformID ***:*** VerMajor ***.*** Vermine ***.*** BuildNumber*</span><span class="sxs-lookup"><span data-stu-id="0d51a-319">*PlatformID ***:*** VerMajor ***.*** VerMinor ***.*** BuildNumber*</span></span><br/> <span data-ttu-id="0d51a-320">L’utilisation du commutateur */o* est recommandée.</span><span class="sxs-lookup"><span data-stu-id="0d51a-320">The use of the */o* switch is recommended.</span></span> <span data-ttu-id="0d51a-321">Si */o* n’est pas spécifié, SignTool peut retourner des résultats inattendus.</span><span class="sxs-lookup"><span data-stu-id="0d51a-321">If */o* is not specified SignTool may return unexpected results.</span></span> <span data-ttu-id="0d51a-322">Par exemple, si vous n’incluez pas le commutateur */o* , les catalogues système qui valident correctement sur un système d’exploitation plus ancien peuvent ne pas valider correctement sur un système d’exploitation plus récent.</span><span class="sxs-lookup"><span data-stu-id="0d51a-322">For example, if you do not include the */o* switch, then system catalogs that validate correctly on an older OS may not validate correctly on a newer OS.</span></span> |
| <span data-ttu-id="0d51a-323">**/p7**</span><span class="sxs-lookup"><span data-stu-id="0d51a-323">**/p7**</span></span> | <span data-ttu-id="0d51a-324">Vérifiez les \# fichiers PKCS 7.</span><span class="sxs-lookup"><span data-stu-id="0d51a-324">Verify PKCS \#7 files.</span></span> <span data-ttu-id="0d51a-325">Aucune stratégie existante n’est utilisée pour la \# validation PKCS 7.</span><span class="sxs-lookup"><span data-stu-id="0d51a-325">No existing policies are used for PKCS \#7 validation.</span></span> <span data-ttu-id="0d51a-326">La signature est vérifiée et une chaîne est générée pour le certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="0d51a-326">The signature is checked and a chain is built for the signing certificate.</span></span> |
| <span data-ttu-id="0d51a-327">**/pa**</span><span class="sxs-lookup"><span data-stu-id="0d51a-327">**/pa**</span></span> | <span data-ttu-id="0d51a-328">Spécifie que la stratégie de vérification de l’authentification par défaut est utilisée.</span><span class="sxs-lookup"><span data-stu-id="0d51a-328">Specifies that the Default Authentication Verification Policy is used.</span></span> <span data-ttu-id="0d51a-329">Si l’option **/PA** n’est pas spécifiée, SignTool utilise la stratégie de vérification des pilotes Windows.</span><span class="sxs-lookup"><span data-stu-id="0d51a-329">If the **/pa** option is not specified, SignTool uses the Windows Driver Verification Policy.</span></span> <span data-ttu-id="0d51a-330">Cette option ne peut pas être utilisée avec les options **CatDB** .</span><span class="sxs-lookup"><span data-stu-id="0d51a-330">This option cannot be used with the **catdb** options.</span></span> |
| <span data-ttu-id="0d51a-331">**/PG** *PolicyGUID*</span><span class="sxs-lookup"><span data-stu-id="0d51a-331">**/pg** *PolicyGUID*</span></span> | <span data-ttu-id="0d51a-332">Spécifie une stratégie de vérification par **GUID**.</span><span class="sxs-lookup"><span data-stu-id="0d51a-332">Specifies a verification policy by **GUID**.</span></span> <span data-ttu-id="0d51a-333">Le **GUID** correspond à l’ActionID de la stratégie de vérification.</span><span class="sxs-lookup"><span data-stu-id="0d51a-333">The **GUID** corresponds to the ActionID of the verification policy.</span></span> <span data-ttu-id="0d51a-334">Cette option ne peut pas être utilisée avec les options **CatDB** .</span><span class="sxs-lookup"><span data-stu-id="0d51a-334">This option cannot be used with the **catdb** options.</span></span> |
| <span data-ttu-id="0d51a-335">**/pH**</span><span class="sxs-lookup"><span data-stu-id="0d51a-335">**/ph**</span></span> | <span data-ttu-id="0d51a-336">Imprimer et vérifier les valeurs de hachage de la page.</span><span class="sxs-lookup"><span data-stu-id="0d51a-336">Print and verify page hash values.</span></span><br/> <span data-ttu-id="0d51a-337">**Windows Vista et versions antérieures :** Cet indicateur n’est pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="0d51a-337">**Windows Vista and earlier:** This flag is not supported.</span></span><br/>  |
| <span data-ttu-id="0d51a-338">**/R** *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="0d51a-338">**/r** *RootSubjectName*</span></span> | <span data-ttu-id="0d51a-339">Spécifie le nom de l'objet du certificat racine auquel le certificat de signature doit être lié.</span><span class="sxs-lookup"><span data-stu-id="0d51a-339">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="0d51a-340">Cette valeur peut être une sous-chaîne du nom de l'objet entier du certificat racine.</span><span class="sxs-lookup"><span data-stu-id="0d51a-340">This value can be a substring of the entire subject name of the root certificate.</span></span> |
| <span data-ttu-id="0d51a-341">**/tw**</span><span class="sxs-lookup"><span data-stu-id="0d51a-341">**/tw**</span></span> | <span data-ttu-id="0d51a-342">Spécifie qu’un avertissement est généré si la signature n’est pas horodatée.</span><span class="sxs-lookup"><span data-stu-id="0d51a-342">Specifies that a warning is generated if the signature is not time stamped.</span></span>|


<span data-ttu-id="0d51a-343">La commande SignTool **verify** détermine si le certificat de signature a été émis par une autorité de confiance, si le certificat de signature a été révoqué et, éventuellement, si le certificat de signature est valide pour une stratégie spécifique.</span><span class="sxs-lookup"><span data-stu-id="0d51a-343">The SignTool **verify** command determines whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span>  

<span data-ttu-id="0d51a-344">La commande SignTool **verify** génère l’état de la signature **incorporée** , sauf si une option est spécifiée pour rechercher un catalogue (/a,/ad,/As,/AG,/c).</span><span class="sxs-lookup"><span data-stu-id="0d51a-344">The SignTool **verify** command will output the **embedded** signature status unless an option is specified to search a catalog (/a, /ad, /as, /ag, /c).</span></span>


## <a name="return-value"></a><span data-ttu-id="0d51a-345">Valeur retournée</span><span class="sxs-lookup"><span data-stu-id="0d51a-345">Return value</span></span>  

 <span data-ttu-id="0d51a-346">L'outil Signature retourne l'un des codes de sortie suivants lorsqu'il se termine.</span><span class="sxs-lookup"><span data-stu-id="0d51a-346">Sign Tool returns one of the following exit codes when it terminates.</span></span>  
  
|<span data-ttu-id="0d51a-347">Code de sortie</span><span class="sxs-lookup"><span data-stu-id="0d51a-347">Exit code</span></span>|<span data-ttu-id="0d51a-348">Description</span><span class="sxs-lookup"><span data-stu-id="0d51a-348">Description</span></span>|  
|----|----| 
|<span data-ttu-id="0d51a-349">0</span><span class="sxs-lookup"><span data-stu-id="0d51a-349">0</span></span>|<span data-ttu-id="0d51a-350">L'exécution a été correctement effectuée.</span><span class="sxs-lookup"><span data-stu-id="0d51a-350">Execution was successful.</span></span>|  
|<span data-ttu-id="0d51a-351">1</span><span class="sxs-lookup"><span data-stu-id="0d51a-351">1</span></span>|<span data-ttu-id="0d51a-352">L'exécution a échoué.</span><span class="sxs-lookup"><span data-stu-id="0d51a-352">Execution has failed.</span></span>|  
|<span data-ttu-id="0d51a-353">2</span><span class="sxs-lookup"><span data-stu-id="0d51a-353">2</span></span>|<span data-ttu-id="0d51a-354">L'exécution a été effectuée avec des avertissements.</span><span class="sxs-lookup"><span data-stu-id="0d51a-354">Execution has completed with warnings.</span></span>|


## <a name="examples"></a><span data-ttu-id="0d51a-355">Exemples</span><span class="sxs-lookup"><span data-stu-id="0d51a-355">Examples</span></span>  

 <span data-ttu-id="0d51a-356">La commande suivante ajoute le fichier catalogue MyCatalogFileName.cat au composant système et à la base de données de pilotes.</span><span class="sxs-lookup"><span data-stu-id="0d51a-356">The following command adds the catalog file MyCatalogFileName.cat to the system component and driver database.</span></span> <span data-ttu-id="0d51a-357">L'option `/u` génère un nom unique si nécessaire pour éviter de remplacer un fichier catalogue existant nommé `MyCatalogFileName.cat`.</span><span class="sxs-lookup"><span data-stu-id="0d51a-357">The `/u` option generates a unique name if necessary to prevent replacing an existing catalog file named `MyCatalogFileName.cat`.</span></span>  
  
```console  
signtool catdb /v /u MyCatalogFileName.cat  
```  
  
 <span data-ttu-id="0d51a-358">La commande suivante signe un fichier automatiquement à l'aide du meilleur certificat.</span><span class="sxs-lookup"><span data-stu-id="0d51a-358">The following command signs a file automatically by using the best certificate.</span></span>  
  
```console  
signtool sign /a /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="0d51a-359">La commande suivante signe numériquement un fichier à l'aide d'un certificat stocké dans un fichier PFX protégé par un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="0d51a-359">The following command digitally signs a file by using a certificate stored in a password-protected PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /p MyPassword /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="0d51a-360">La commande suivante signe numériquement et horodate un fichier.</span><span class="sxs-lookup"><span data-stu-id="0d51a-360">The following command digitally signs and time-stamps a file.</span></span> <span data-ttu-id="0d51a-361">Le certificat utilisé pour signer le fichier est stocké dans un fichier PFX.</span><span class="sxs-lookup"><span data-stu-id="0d51a-361">The certificate used to sign the file is stored in a PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /t http://timestamp.digicert.com /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="0d51a-362">La commande suivante signe un fichier à l'aide d'un certificat situé dans le magasin `My` qui a un nom d'objet `My Company Certificate`.</span><span class="sxs-lookup"><span data-stu-id="0d51a-362">The following command signs a file by using a certificate located in the `My` store that has a subject name of `My Company Certificate`.</span></span>  
  
```console  
signtool sign /n "My Company Certificate" /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="0d51a-363">La commande suivante signe un contrôle ActiveX et fournit des informations qui sont affichées par Internet Explorer lorsque l'utilisateur est invité à installer le contrôle.</span><span class="sxs-lookup"><span data-stu-id="0d51a-363">The following command signs an ActiveX control and provides information that is displayed by Internet Explorer when the user is prompted to install the control.</span></span>  
  
```console  
Signtool sign /f MyCert.pfx /d: "MyControl" /du http://www.example.com/MyControl/info.html /fd SHA256 MyControl.exe 
```  
  
 <span data-ttu-id="0d51a-364">La commande suivante horodate à un fichier qui a déjà été signé numériquement.</span><span class="sxs-lookup"><span data-stu-id="0d51a-364">The following command time-stamps a file that has already been digitally signed.</span></span>  
  
```console  
signtool timestamp /t http://timestamp.digicert.com MyFile.exe
```  

<span data-ttu-id="0d51a-365">L’heure de commande suivante horodate un fichier à l’aide d’un serveur d’horodatage RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="0d51a-365">The following command time-stamps a file using an RFC 3161 timestamp server.</span></span>  
  
```console  
signtool timestamp /tr http://timestamp.digicert.com /td SHA256 MyFile.exe
```  
  
 <span data-ttu-id="0d51a-366">La commande suivante vérifie qu'un fichier a été signé.</span><span class="sxs-lookup"><span data-stu-id="0d51a-366">The following command verifies that a file has been signed.</span></span>  
  
```console  
signtool verify MyFile.exe  
```  
  
 <span data-ttu-id="0d51a-367">La commande suivante vérifie un fichier système qui a peut-être été signé dans un catalogue.</span><span class="sxs-lookup"><span data-stu-id="0d51a-367">The following command verifies a system file that may be signed in a catalog.</span></span>  
  
```console  
signtool verify /a SystemFile.dll  
```  
  
 <span data-ttu-id="0d51a-368">La commande suivante vérifie un fichier système qui est signé dans un catalogue nommé `MyCatalog.cat`.</span><span class="sxs-lookup"><span data-stu-id="0d51a-368">The following command verifies a system file that is signed in a catalog named `MyCatalog.cat`.</span></span>  
  
```console  
signtool verify /c MyCatalog.cat SystemFile.dll  
```  
