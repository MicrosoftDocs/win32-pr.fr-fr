---
title: Considérations sur la sécurité interface utilisateur Windows
description: Cette rubrique fournit des informations sur les considérations relatives à la sécurité dans l’interface utilisateur de Windows.
ms.assetid: D560E59A-D6C8-40a9-AABB-DE5A47C94E6E
keywords:
- Interface utilisateur Windows, sécurité
- sécurité pour l’interface utilisateur Windows
- sécurité des chaînes
- entrée d’utilisateur, validation
- validation des entrées utilisateur
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 71b714de3ab12cb10d6e5d9a2e251c34eeeff7a5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104031664"
---
# <a name="security-considerations-windows-user-interface"></a><span data-ttu-id="96b78-108">Considérations relatives à la sécurité : interface utilisateur Windows</span><span class="sxs-lookup"><span data-stu-id="96b78-108">Security Considerations: Windows User Interface</span></span>

<span data-ttu-id="96b78-109">Cette rubrique fournit des informations sur les considérations relatives à la sécurité dans l’interface utilisateur de Windows.</span><span class="sxs-lookup"><span data-stu-id="96b78-109">This topic provides information about security considerations in the Windows User Interface.</span></span> <span data-ttu-id="96b78-110">Cette rubrique ne fournit pas tout ce que vous devez savoir sur les problèmes de sécurité.</span><span class="sxs-lookup"><span data-stu-id="96b78-110">This topic doesn't provide all you need to know about security issues.</span></span> <span data-ttu-id="96b78-111">Au lieu de cela, utilisez-le comme point de départ et référence pour ce domaine technologique.</span><span class="sxs-lookup"><span data-stu-id="96b78-111">Instead, use it as a starting point and reference for this technology area.</span></span>

<span data-ttu-id="96b78-112">Avec l’augmentation de l’interconnexion des ordinateurs, les développeurs doivent maintenant se préoccuper de la sécurité des applications.</span><span class="sxs-lookup"><span data-stu-id="96b78-112">With the increase in computer interconnectivity, developers now must concern themselves with application security.</span></span> <span data-ttu-id="96b78-113">Toutefois, la sécurité améliore également la sécurité et la robustesse des applications. C’est la raison pour laquelle le développeur peut fournir une bonne expérience utilisateur.</span><span class="sxs-lookup"><span data-stu-id="96b78-113">However, security also enhances general application safety and robustness; therefore it is another way that the developer can provide a good user experience.</span></span> <span data-ttu-id="96b78-114">Les rubriques suivantes décrivent certains problèmes de sécurité potentiels liés à l’utilisation de l’interface utilisateur Windows.</span><span class="sxs-lookup"><span data-stu-id="96b78-114">The following topics discuss some potential security concerns when using the Windows User Interface.</span></span>

-   [<span data-ttu-id="96b78-115">Considérations sur les chaînes</span><span class="sxs-lookup"><span data-stu-id="96b78-115">String Considerations</span></span>](#string-considerations)
-   [<span data-ttu-id="96b78-116">Entrée utilisateur</span><span class="sxs-lookup"><span data-stu-id="96b78-116">User Input</span></span>](#user-input)
-   [<span data-ttu-id="96b78-117">alertes de sécurité</span><span class="sxs-lookup"><span data-stu-id="96b78-117">Security Alerts</span></span>](#security-alerts)
-   [<span data-ttu-id="96b78-118">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="96b78-118">Related topics</span></span>](#related-topics)

## <a name="string-considerations"></a><span data-ttu-id="96b78-119">Considérations sur les chaînes</span><span class="sxs-lookup"><span data-stu-id="96b78-119">String Considerations</span></span>

<span data-ttu-id="96b78-120">De nombreuses fonctions, messages et macros utilisent des chaînes dans leurs paramètres.</span><span class="sxs-lookup"><span data-stu-id="96b78-120">Many functions, messages, and macros use strings in their parameters.</span></span> <span data-ttu-id="96b78-121">Toutefois, il est fréquent que les chaînes ne soient pas vérifiées par null ou pour la longueur.</span><span class="sxs-lookup"><span data-stu-id="96b78-121">However, often the strings are not checked for null-termination or for length.</span></span> <span data-ttu-id="96b78-122">Le calcul d’une longueur d’une chaîne ou d’une mémoire tampon est un problème connexe.</span><span class="sxs-lookup"><span data-stu-id="96b78-122">A related concern is miscalculating the length of a string or buffer.</span></span> <span data-ttu-id="96b78-123">Dans les deux cas, cela peut entraîner un dépassement de capacité de la mémoire tampon ou une troncation des données, ce qui peut nuire à votre application.</span><span class="sxs-lookup"><span data-stu-id="96b78-123">In either case, this can lead to buffer overflow or data truncation, which can affect your application adversely.</span></span> <span data-ttu-id="96b78-124">Pour plus d’informations sur les dépassements de mémoire tampon et d’autres problèmes de sécurité, consultez *écriture de code sécurisé* par Michael Howard et David LeBlanc, Microsoft Press, 2002.</span><span class="sxs-lookup"><span data-stu-id="96b78-124">For more information about buffer overruns and other security concerns, see *Writing Secure Code* by Michael Howard and David Leblanc, Microsoft Press, 2002.</span></span>

<span data-ttu-id="96b78-125">Pour gérer les chaînes de manière sûre, vous devez effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="96b78-125">To handle strings in a safe manner, you should do the following:</span></span>

-   <span data-ttu-id="96b78-126">Vérifiez que les chaînes sont terminées par un null ou pour la longueur appropriée.</span><span class="sxs-lookup"><span data-stu-id="96b78-126">Check strings for null-termination or for the proper length, as appropriate.</span></span>
-   <span data-ttu-id="96b78-127">Veillez à déterminer la longueur d’une chaîne ou d’une mémoire tampon, en particulier lorsqu’elle contient des valeurs **TCHAR** .</span><span class="sxs-lookup"><span data-stu-id="96b78-127">Take special care to determine the length of a string or buffer, especially when it contains **TCHAR** values.</span></span>
-   <span data-ttu-id="96b78-128">Si vous créez une chaîne ou utilisez une chaîne qui a été utilisée précédemment, initialisez-la à zéro ou insérez un terminateur null, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="96b78-128">If you create a string or use a string that was used previously, initialize it to zero or insert a null-terminator, as appropriate.</span></span>

<span data-ttu-id="96b78-129">En outre, envisagez d’utiliser les fonctions [StrSafe](/windows/desktop/menurc/strsafe-ovw) lors de la gestion de chaînes.</span><span class="sxs-lookup"><span data-stu-id="96b78-129">In addition, consider using the [StrSafe](/windows/desktop/menurc/strsafe-ovw) functions when dealing with strings.</span></span> <span data-ttu-id="96b78-130">Ces fonctions sont conçues pour gérer les chaînes en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="96b78-130">These functions are designed to handle strings safely.</span></span>

## <a name="user-input"></a><span data-ttu-id="96b78-131">Entrée utilisateur</span><span class="sxs-lookup"><span data-stu-id="96b78-131">User Input</span></span>

<span data-ttu-id="96b78-132">L’interface utilisateur Windows s’occupe de l’obtention et de la réponse aux informations des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="96b78-132">The Windows user interface is concerned with getting and responding to information from users.</span></span> <span data-ttu-id="96b78-133">Toutefois, les utilisateurs qui entrent des données incorrectes peuvent perturber votre application, qu’elles envisagent ou non de le faire.</span><span class="sxs-lookup"><span data-stu-id="96b78-133">However, users who enter incorrect data can disrupt your application, whether or not they intend to do so.</span></span> <span data-ttu-id="96b78-134">Ainsi, la règle de cardinalité est que toutes les entrées doivent être validées.</span><span class="sxs-lookup"><span data-stu-id="96b78-134">Thus, the cardinal rule is that all input must be validated.</span></span>

<span data-ttu-id="96b78-135">La préoccupation principale est la chaîne de données, qui est décrite dans considérations sur les [chaînes](#string-considerations).</span><span class="sxs-lookup"><span data-stu-id="96b78-135">Of primary concern is string data, which is discussed in [String Considerations](#string-considerations).</span></span> <span data-ttu-id="96b78-136">Toutefois, tous les types d’entrée doivent être validés avant d’être utilisés par votre application.</span><span class="sxs-lookup"><span data-stu-id="96b78-136">However, all types of input should be validated before being used by your application.</span></span> <span data-ttu-id="96b78-137">Un autre problème est lié au moment où les données sont validées à un point mais qu’elles sont modifiées avant d’être utilisées, par exemple lors de la réception de messages qui donnent la longueur du texte.</span><span class="sxs-lookup"><span data-stu-id="96b78-137">Another concern is when data is validated at one point but changes before it is used, for example, when receiving messages that give the length of text.</span></span> <span data-ttu-id="96b78-138">Par conséquent, si les données sont susceptibles de changer, vous devez vérifier les données juste avant de les utiliser.</span><span class="sxs-lookup"><span data-stu-id="96b78-138">So, if there is a chance the data might change, you should check the data just before you use it</span></span>

## <a name="security-alerts"></a><span data-ttu-id="96b78-139">Alertes de sécurité</span><span class="sxs-lookup"><span data-stu-id="96b78-139">Security Alerts</span></span>

<span data-ttu-id="96b78-140">Le tableau suivant répertorie les fonctionnalités qui, si elles sont utilisées de manière incorrecte, peuvent compromettre la sécurité de vos applications.</span><span class="sxs-lookup"><span data-stu-id="96b78-140">The following table lists features that, if used incorrectly, can compromise the security of your applications.</span></span>



| <span data-ttu-id="96b78-141">Fonctionnalité</span><span class="sxs-lookup"><span data-stu-id="96b78-141">Feature</span></span>                                                                                                                                                   | <span data-ttu-id="96b78-142">Limitation des risques</span><span class="sxs-lookup"><span data-stu-id="96b78-142">Mitigation</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="96b78-143">**GetAtomName**</span><span class="sxs-lookup"><span data-stu-id="96b78-143">**GetAtomName**</span></span>](/windows/desktop/api/winbase/nf-winbase-getatomnamea)                                                                                                               | <span data-ttu-id="96b78-144">Soyez prudent lorsque vous spécifiez la taille de la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="96b78-144">Be careful when specifying the size of the buffer.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="96b78-145">**GlobalGetAtomName**</span><span class="sxs-lookup"><span data-stu-id="96b78-145">**GlobalGetAtomName**</span></span>](/windows/desktop/api/winbase/nf-winbase-globalgetatomnamea)                                                                                                   | <span data-ttu-id="96b78-146">Les atomes de chaînes globaux sont accessibles à n’importe quelle application.</span><span class="sxs-lookup"><span data-stu-id="96b78-146">Global string atoms are accessible to any application.</span></span> <span data-ttu-id="96b78-147">Toutefois, si une autre application est inversée, elle risque de ne pas gérer leurs décomptes de références et de les supprimer.</span><span class="sxs-lookup"><span data-stu-id="96b78-147">However, if another application is careless, it could mishandle their reference counts and delete them.</span></span> <span data-ttu-id="96b78-148">Vous devez envisager d’utiliser des atomes d’entiers globaux à la place.</span><span class="sxs-lookup"><span data-stu-id="96b78-148">You should consider using global integer atoms instead.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="96b78-149">**ImpersonateDdeClientWindow**</span><span class="sxs-lookup"><span data-stu-id="96b78-149">**ImpersonateDdeClientWindow**</span></span>](/windows/desktop/api/dde/nf-dde-impersonateddeclientwindow)                                                                                 | <span data-ttu-id="96b78-150">Si la fonction échoue, les demandes des clients suivantes sont effectuées dans le contexte de sécurité du processus appelant.</span><span class="sxs-lookup"><span data-stu-id="96b78-150">If the function fails, subsequent client requests are made in the security context of the calling process.</span></span> <span data-ttu-id="96b78-151">Cela peut être un problème si le processus appelant s’exécute en tant que compte à privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="96b78-151">This can be a problem if the calling process is running as a highly privileged account.</span></span> <span data-ttu-id="96b78-152">Par conséquent, si l’appel échoue ou génère une erreur, ne poursuivez pas l’exécution de la requête du client.</span><span class="sxs-lookup"><span data-stu-id="96b78-152">Therefore, if the call fails or raises an error do not continue execution of the client request.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="96b78-153">**DdeImpersonateClient**</span><span class="sxs-lookup"><span data-stu-id="96b78-153">**DdeImpersonateClient**</span></span>](/windows/desktop/api/ddeml/nf-ddeml-ddeimpersonateclient)                                                                                             | <span data-ttu-id="96b78-154">Si la fonction échoue, les demandes des clients suivantes sont effectuées dans le contexte de sécurité du processus appelant.</span><span class="sxs-lookup"><span data-stu-id="96b78-154">If the function fails, subsequent client requests are made in the security context of the calling process.</span></span> <span data-ttu-id="96b78-155">Cela peut être un problème si le processus appelant s’exécute en tant que compte à privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="96b78-155">This can be a problem if the calling process is running as a highly privileged account.</span></span> <span data-ttu-id="96b78-156">Par conséquent, si l’appel échoue ou génère une erreur, ne poursuivez pas l’exécution de la requête du client.</span><span class="sxs-lookup"><span data-stu-id="96b78-156">Therefore, if the call fails or raises an error do not continue execution of the client request.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="96b78-157">**GetClipboardFormatName**</span><span class="sxs-lookup"><span data-stu-id="96b78-157">**GetClipboardFormatName**</span></span>](/windows/desktop/api/winuser/nf-winuser-getclipboardformatnamea)                                                                                         | <span data-ttu-id="96b78-158">Un calcul incorrect de la taille appropriée de la mémoire tampon *lpszFormatName* , en particulier lorsque l’application est utilisée à la fois dans les versions ANSI et Unicode, peut provoquer un dépassement de capacité de la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="96b78-158">Miscalculating the proper size of the *lpszFormatName* buffer, especially when the application is used in both ANSI and Unicode versions, can cause a buffer overflow.</span></span> <span data-ttu-id="96b78-159">Notez également que la chaîne est tronquée si elle est plus longue que le paramètre *cchMaxCount* , ce qui peut entraîner une perte d’informations.</span><span class="sxs-lookup"><span data-stu-id="96b78-159">Also, note that the string is truncated if it is longer than the *cchMaxCount* parameter, which can lead to loss of information.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="96b78-160">**GetMenuString**</span><span class="sxs-lookup"><span data-stu-id="96b78-160">**GetMenuString**</span></span>](/windows/desktop/api/winuser/nf-winuser-getmenustringa)                                                                                                           | <span data-ttu-id="96b78-161">Le paramètre *lpString* est une mémoire tampon **TCHAR** , tandis que *nMaxCount* est la longueur de la chaîne de menu dans **TCHAR** s.</span><span class="sxs-lookup"><span data-stu-id="96b78-161">The *lpString* parameter is a **TCHAR** buffer, and *nMaxCount* is the length of the menu string in **TCHAR** s.</span></span> <span data-ttu-id="96b78-162">La taille incorrecte de ces paramètres peut être la longueur de la chaîne de menu en caractères.</span><span class="sxs-lookup"><span data-stu-id="96b78-162">Sizing these parameters incorrectly can is the length of the menu string in characters.</span></span> <span data-ttu-id="96b78-163">Le dimensionnement de ces paramètres peut provoquer une troncation de la chaîne, entraînant ainsi une perte de données.</span><span class="sxs-lookup"><span data-stu-id="96b78-163">Sizing these parameters incorrectly can cause truncation of the string, leading to possible loss of data.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="96b78-164">[**GetStringTypeA**](/windows/desktop/api/winnls/nf-winnls-getstringtypea), [**GetStringTypeEx**](/windows/win32/api/stringapiset/nf-stringapiset-getstringtypeexw), [**GetStringTypeW**](/windows/desktop/api/stringapiset/nf-stringapiset-getstringtypew)</span><span class="sxs-lookup"><span data-stu-id="96b78-164">[**GetStringTypeA**](/windows/desktop/api/winnls/nf-winnls-getstringtypea), [**GetStringTypeEx**](/windows/win32/api/stringapiset/nf-stringapiset-getstringtypeexw), [**GetStringTypeW**](/windows/desktop/api/stringapiset/nf-stringapiset-getstringtypew)</span></span> | <span data-ttu-id="96b78-165">Pour éviter un dépassement de mémoire tampon, définissez la taille de la mémoire tampon *lpCharType* correctement.</span><span class="sxs-lookup"><span data-stu-id="96b78-165">To avoid a buffer overflow, set the size of the *lpCharType* buffer correctly.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="96b78-166">**LoadLibrary**</span><span class="sxs-lookup"><span data-stu-id="96b78-166">**LoadLibrary**</span></span>](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya)                                                                                                                       | <span data-ttu-id="96b78-167">L’utilisation incorrecte de **LoadLibrary** peut compromettre la sécurité de votre application en chargeant la dll incorrecte.</span><span class="sxs-lookup"><span data-stu-id="96b78-167">Using **LoadLibrary** incorrectly can compromise the security of your application by loading the wrong DLL.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="96b78-168">**LoadString**</span><span class="sxs-lookup"><span data-stu-id="96b78-168">**LoadString**</span></span>](/windows/desktop/api/winuser/nf-winuser-loadstringa)                                                                                                                 | <span data-ttu-id="96b78-169">Une utilisation incorrecte comprend la spécification d’une taille incorrecte dans le paramètre *nBufferMax* .</span><span class="sxs-lookup"><span data-stu-id="96b78-169">Incorrect use includes specifying the wrong size in the *nBufferMax* parameter.</span></span> <span data-ttu-id="96b78-170">Par exemple, sizeof (*lpBuffer*) donne la taille de la mémoire tampon en octets, ce qui peut entraîner un dépassement de capacité de la mémoire tampon pour la version Unicode de la fonction.</span><span class="sxs-lookup"><span data-stu-id="96b78-170">For example, sizeof(*lpBuffer*) gives the size of the buffer in bytes, which could lead to a buffer overflow for the Unicode version of the function.</span></span> <span data-ttu-id="96b78-171">Les situations de dépassement de mémoire tampon sont la cause de nombreux problèmes de sécurité dans les applications.</span><span class="sxs-lookup"><span data-stu-id="96b78-171">Buffer overflow situations are the cause of many security problems in applications.</span></span> <span data-ttu-id="96b78-172">Dans ce cas, l’utilisation `sizeof(lpBuffer)/sizeof(TCHAR)` de donne la taille appropriée de la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="96b78-172">In this case, using `sizeof(lpBuffer)/sizeof(TCHAR)` gives the proper size of the buffer.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="96b78-173">**lstrcat**</span><span class="sxs-lookup"><span data-stu-id="96b78-173">**lstrcat**</span></span>](/windows/desktop/api/winbase/nf-winbase-lstrcata)                                                                                                                       | <span data-ttu-id="96b78-174">Cette fonction utilise la gestion structurée des exceptions (SEH) pour intercepter les violations d’accès et d’autres erreurs.</span><span class="sxs-lookup"><span data-stu-id="96b78-174">This function uses structured exception handling (SEH) to catch access violations and other errors.</span></span> <span data-ttu-id="96b78-175">Lorsque cette fonction intercepte des erreurs SEH, elle retourne la **valeur null** sans terminer par null la chaîne et sans null sans null qui termine la chaîne et sans notifier l’appelant de l’erreur.</span><span class="sxs-lookup"><span data-stu-id="96b78-175">When this function catches SEH errors, it returns **NULL** without null-terminating the string and without NULL without null-terminating the string and without notifying the caller of the error.</span></span> <span data-ttu-id="96b78-176">L’appelant n’est pas sûr de supposer que l’espace est insuffisant pour la condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="96b78-176">The caller is not safe to assume that insufficient space is the error condition.</span></span> <span data-ttu-id="96b78-177">Le premier argument, *lpString1*, doit être suffisamment grand pour contenir *lpString2* et le' \\ 0 'fermant, sinon, un dépassement de mémoire tampon peut se produire.</span><span class="sxs-lookup"><span data-stu-id="96b78-177">The first argument, *lpString1*, must be large enough to hold *lpString2* and the closing '\\0', otherwise a buffer overrun may occur.</span></span> <span data-ttu-id="96b78-178">Les dépassements de mémoire tampon peuvent entraîner une attaque par déni de service contre l’application si une violation d’accès se produit.</span><span class="sxs-lookup"><span data-stu-id="96b78-178">Buffer overruns may lead to a denial of service attack against the application if an access violation occurs.</span></span> <span data-ttu-id="96b78-179">Dans le pire des cas, un dépassement de mémoire tampon peut permettre à une personne malveillante d’injecter du code exécutable dans votre processus, en particulier si *lpString1* est une mémoire tampon basée sur la pile.</span><span class="sxs-lookup"><span data-stu-id="96b78-179">In the worst case, a buffer overrun may allow an attacker to inject executable code into your process, especially if *lpString1* is a stack-based buffer.</span></span> <span data-ttu-id="96b78-180">Envisagez d’utiliser l’une des alternatives suivantes.</span><span class="sxs-lookup"><span data-stu-id="96b78-180">Consider using one of the following alternatives.</span></span> <span data-ttu-id="96b78-181">[**StringCbCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcbcata) ou [**StringCchCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcata).</span><span class="sxs-lookup"><span data-stu-id="96b78-181">[**StringCbCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcbcata) or [**StringCchCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcata).</span></span>                                                                                                                                                                                       |
| [<span data-ttu-id="96b78-182">**lstrcpy**</span><span class="sxs-lookup"><span data-stu-id="96b78-182">**lstrcpy**</span></span>](/windows/desktop/api/winbase/nf-winbase-lstrcpya)                                                                                                                       | <span data-ttu-id="96b78-183">Cette fonction utilise la gestion structurée des exceptions (SEH) pour intercepter les violations d’accès et d’autres erreurs.</span><span class="sxs-lookup"><span data-stu-id="96b78-183">This function uses structured exception handling (SEH) to catch access violations and other errors.</span></span> <span data-ttu-id="96b78-184">Lorsque cette fonction intercepte des erreurs SEH, elle retourne la **valeur null** sans terminer par null la chaîne et sans null sans null qui termine la chaîne et sans notifier l’appelant de l’erreur.</span><span class="sxs-lookup"><span data-stu-id="96b78-184">When this function catches SEH errors, it returns **NULL** without null-terminating the string and without NULL without null-terminating the string and without notifying the caller of the error.</span></span> <span data-ttu-id="96b78-185">L’appelant n’est pas sûr de supposer que l’espace est insuffisant pour la condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="96b78-185">The caller is not safe to assume that insufficient space is the error condition.</span></span> <span data-ttu-id="96b78-186">Le premier argument, *lpString1*, doit être suffisamment grand pour contenir *lpString2* et le' \\ 0 'fermant, sinon, un dépassement de mémoire tampon peut se produire.</span><span class="sxs-lookup"><span data-stu-id="96b78-186">The first argument, *lpString1*, must be large enough to hold *lpString2* and the closing '\\0', otherwise a buffer overrun may occur.</span></span> <span data-ttu-id="96b78-187">Les dépassements de mémoire tampon peuvent entraîner une attaque par déni de service contre l’application si une violation d’accès se produit.</span><span class="sxs-lookup"><span data-stu-id="96b78-187">Buffer overruns may lead to a denial of service attack against the application if an access violation occurs.</span></span> <span data-ttu-id="96b78-188">Dans le pire des cas, un dépassement de mémoire tampon peut permettre à une personne malveillante d’injecter du code exécutable dans votre processus, en particulier si *lpString1* est une mémoire tampon basée sur la pile.</span><span class="sxs-lookup"><span data-stu-id="96b78-188">In the worst case, a buffer overrun may allow an attacker to inject executable code into your process, especially if *lpString1* is a stack-based buffer.</span></span> <span data-ttu-id="96b78-189">Utilisez [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) à la place.</span><span class="sxs-lookup"><span data-stu-id="96b78-189">Consider using [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) instead.</span></span>                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="96b78-190">**lstrcpyn**</span><span class="sxs-lookup"><span data-stu-id="96b78-190">**lstrcpyn**</span></span>](/windows/desktop/api/winbase/nf-winbase-lstrcpyna)                                                                                                                     | <span data-ttu-id="96b78-191">Cette fonction utilise la gestion structurée des exceptions (SEH) pour intercepter les violations d’accès et d’autres erreurs.</span><span class="sxs-lookup"><span data-stu-id="96b78-191">This function uses structured exception handling (SEH) to catch access violations and other errors.</span></span> <span data-ttu-id="96b78-192">Lorsque cette fonction intercepte des erreurs SEH, elle retourne la **valeur null** sans terminer par null la chaîne et sans null sans null qui termine la chaîne et sans notifier l’appelant de l’erreur.</span><span class="sxs-lookup"><span data-stu-id="96b78-192">When this function catches SEH errors, it returns **NULL** without null-terminating the string and without NULL without null-terminating the string and without notifying the caller of the error.</span></span> <span data-ttu-id="96b78-193">L’appelant n’est pas sûr de supposer que l’espace est insuffisant pour la condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="96b78-193">The caller is not safe to assume that insufficient space is the error condition.</span></span> <span data-ttu-id="96b78-194">Si *lpString1* n’est pas suffisamment grand pour contenir la chaîne copiée, un dépassement de mémoire tampon peut se produire.</span><span class="sxs-lookup"><span data-stu-id="96b78-194">If *lpString1* is not large enough to contain the copied string, a buffer overrun can occur.</span></span> <span data-ttu-id="96b78-195">En outre, lors de la copie d’une chaîne entière, Notez que [sizeof](https://msdn.microsoft.com/library/0w557fh7(VS.71).aspx) retourne le nombre d’octets plutôt que **WCHAR**, alors que **sizeof** retourne le nombre d’octets plutôt que des caractères, ce qui est incorrect pour la version Unicode de cette fonction.</span><span class="sxs-lookup"><span data-stu-id="96b78-195">Also, when copying an entire string, note that [sizeof](https://msdn.microsoft.com/library/0w557fh7(VS.71).aspx) returns the number of bytes rather than **WCHAR**, that **sizeof** returns the number of bytes rather than characters, which is incorrect for the Unicode version of this function.</span></span> <span data-ttu-id="96b78-196">Les dépassements de mémoire tampon peuvent provoquer une attaque par déni de service contre l’application si une violation d’accès se produit.</span><span class="sxs-lookup"><span data-stu-id="96b78-196">Buffer overruns can cause a denial of service attack against the application if an access violation occurs.</span></span> <span data-ttu-id="96b78-197">Dans le pire des cas, un dépassement de mémoire tampon peut permettre à une personne malveillante d’injecter du code exécutable dans votre processus, en particulier si *lpString1* est une mémoire tampon basée sur la pile.</span><span class="sxs-lookup"><span data-stu-id="96b78-197">In the worst case, a buffer overrun may allow an attacker to inject executable code into your process, especially if *lpString1* is a stack-based buffer.</span></span> <span data-ttu-id="96b78-198">Utilisez [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) à la place.</span><span class="sxs-lookup"><span data-stu-id="96b78-198">Consider using [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) instead.</span></span> |
| [<span data-ttu-id="96b78-199">**lstrlen**</span><span class="sxs-lookup"><span data-stu-id="96b78-199">**lstrlen**</span></span>](/windows/desktop/api/winbase/nf-winbase-lstrlena)                                                                                                                       | <span data-ttu-id="96b78-200">[**lstrlen**](/windows/desktop/api/winbase/nf-winbase-lstrlena) suppose que *lpString* est une chaîne terminée par le caractère null.</span><span class="sxs-lookup"><span data-stu-id="96b78-200">[**lstrlen**](/windows/desktop/api/winbase/nf-winbase-lstrlena) assumes that *lpString* is a null-terminated string.</span></span> <span data-ttu-id="96b78-201">Si ce n’est pas le cas, cela peut entraîner un dépassement de mémoire tampon ou une attaque par déni de service contre votre application.</span><span class="sxs-lookup"><span data-stu-id="96b78-201">If it is not, this could lead to a buffer overrun or a denial of service attack against your application.</span></span> <span data-ttu-id="96b78-202">Envisagez d’utiliser l’une des alternatives suivantes.</span><span class="sxs-lookup"><span data-stu-id="96b78-202">Consider using one of the following alternatives.</span></span> <span data-ttu-id="96b78-203">[**StringCbLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcblengtha) ou [**StringCchLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcchlengtha).</span><span class="sxs-lookup"><span data-stu-id="96b78-203">[**StringCbLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcblengtha) or [**StringCchLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcchlengtha).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="96b78-204">**wsprintf**</span><span class="sxs-lookup"><span data-stu-id="96b78-204">**wsprintf**</span></span>](/windows/desktop/api/winuser/nf-winuser-wsprintfa)                                                                                                                     | <span data-ttu-id="96b78-205">Il n’est pas garanti que la chaîne retournée dans *lpOut* se termine par un caractère null.</span><span class="sxs-lookup"><span data-stu-id="96b78-205">The string returned in *lpOut* is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="96b78-206">Évitez également le format% s, ce qui peut entraîner un dépassement de mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="96b78-206">Also, avoid the %s format, which can lead to a buffer overrun.</span></span> <span data-ttu-id="96b78-207">Si une violation d’accès se produit, cela entraîne un déni de service par rapport à votre application.</span><span class="sxs-lookup"><span data-stu-id="96b78-207">If an access violation occurs it causes a denial of service against your application.</span></span> <span data-ttu-id="96b78-208">Dans le pire des cas, une personne malveillante peut injecter du code exécutable.</span><span class="sxs-lookup"><span data-stu-id="96b78-208">In the worse case, an attacker can inject executable code.</span></span> <span data-ttu-id="96b78-209">Envisagez d’utiliser l’une des alternatives suivantes.</span><span class="sxs-lookup"><span data-stu-id="96b78-209">Consider using one of the following alternatives.</span></span> <span data-ttu-id="96b78-210">[**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa)ou [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).</span><span class="sxs-lookup"><span data-stu-id="96b78-210">[**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa), or [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).</span></span>                                                                                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="96b78-211">**wvsprintf**</span><span class="sxs-lookup"><span data-stu-id="96b78-211">**wvsprintf**</span></span>](/windows/desktop/api/winuser/nf-winuser-wvsprintfa)                                                                                                                   | <span data-ttu-id="96b78-212">Il n’est pas garanti que la chaîne retournée dans *lpOutput* se termine par un caractère null.</span><span class="sxs-lookup"><span data-stu-id="96b78-212">The string returned in *lpOutput* is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="96b78-213">Évitez également d’utiliser le format% s, qui peut entraîner un dépassement de mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="96b78-213">Also, avoid the use of the %s format, which can lead to a buffer overrun.</span></span> <span data-ttu-id="96b78-214">Cela peut entraîner un déni de service si une violation d’accès se produit, ou une personne malveillante peut injecter du code exécutable.</span><span class="sxs-lookup"><span data-stu-id="96b78-214">This can lead to a denial of service if it results in an access violation, or an attacker may inject executable code.</span></span> <span data-ttu-id="96b78-215">Envisagez d’utiliser l’une des alternatives suivantes.</span><span class="sxs-lookup"><span data-stu-id="96b78-215">Consider using one of the following alternatives.</span></span> <span data-ttu-id="96b78-216">[**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa)ou [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).</span><span class="sxs-lookup"><span data-stu-id="96b78-216">[**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa), or [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).</span></span>                                                                                                                                                                                                                                                                                                                                                      |



 

## <a name="related-topics"></a><span data-ttu-id="96b78-217">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="96b78-217">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="96b78-218">Sécurité Microsoft</span><span class="sxs-lookup"><span data-stu-id="96b78-218">Microsoft Security</span></span>](https://www.microsoft.com/security/)
</dt> <dt>

[<span data-ttu-id="96b78-219">Sécurité et identité</span><span class="sxs-lookup"><span data-stu-id="96b78-219">Security and Identity</span></span>](/windows/desktop/security)
</dt> <dt>

<span data-ttu-id="96b78-220">[Index des procédures de sécurité](/previous-versions/msp-n-p/ff650055(v=pandp.10))</span><span class="sxs-lookup"><span data-stu-id="96b78-220">[Security How Tos Index](/previous-versions/msp-n-p/ff650055(v=pandp.10))</span></span>
</dt> <dt>

[<span data-ttu-id="96b78-221">Ressources de sécurité TechNet</span><span class="sxs-lookup"><span data-stu-id="96b78-221">TechNet Security Resources</span></span>](https://www.microsoft.com/technet/security/default.mspx)
</dt> <dt>

[<span data-ttu-id="96b78-222">Meilleures pratiques pour les API de sécurité</span><span class="sxs-lookup"><span data-stu-id="96b78-222">Best Practices for the Security APIs</span></span>](/windows/desktop/SecBP/best-practices-for-the-security-apis)
</dt> </dl>

 

 