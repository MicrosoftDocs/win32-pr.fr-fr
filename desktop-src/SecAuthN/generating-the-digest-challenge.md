---
description: Le Microsoft Digest Challenge est généré par l’appel initial du serveur à la fonction AcceptSecurityContext (Digest).
ms.assetid: d33383c2-5c0d-401f-ab28-2a985f6508e0
title: Génération de la demande de condensé
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 511ec4f01c90acf08669835f9728cc711dfd1023
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104210028"
---
# <a name="generating-the-digest-challenge"></a><span data-ttu-id="4dc10-103">Génération de la demande de condensé</span><span class="sxs-lookup"><span data-stu-id="4dc10-103">Generating the Digest Challenge</span></span>

<span data-ttu-id="4dc10-104">Le Microsoft Digest Challenge est généré par l’appel initial du serveur à la fonction [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) .</span><span class="sxs-lookup"><span data-stu-id="4dc10-104">The Microsoft Digest challenge is generated by the server's initial call to the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="4dc10-105">Cet appel de fonction génère un nonce, qui est une valeur unique qui contient des informations qui peuvent être utilisées pour détecter des violations de sécurité.</span><span class="sxs-lookup"><span data-stu-id="4dc10-105">This function call generates a nonce, which is a unique value that contains information that can be used to detect security violations.</span></span> <span data-ttu-id="4dc10-106">Cet appel génère également un [*contexte de sécurité*](/windows/desktop/SecGloss/s-gly) partiel qui est utilisé pour conserver les informations d’État.</span><span class="sxs-lookup"><span data-stu-id="4dc10-106">This call also generates a partial [*security context*](/windows/desktop/SecGloss/s-gly) which is used to maintain state information.</span></span> <span data-ttu-id="4dc10-107">Lors de l’appel de **AcceptSecurityContext (Digest)** , vous spécifiez des indicateurs de contexte pour contrôler le comportement de Microsoft Digest et pour définir la qualité de la protection.</span><span class="sxs-lookup"><span data-stu-id="4dc10-107">When calling **AcceptSecurityContext (Digest)** you specify context requirements flags to control the behavior of Microsoft Digest and to set the quality of protection.</span></span> <span data-ttu-id="4dc10-108">Pour plus d’informations, consultez [Configuration requise du contexte de test Digest](#digest-challenge-context-requirements).</span><span class="sxs-lookup"><span data-stu-id="4dc10-108">For more information, see [Digest Challenge Context Requirements](#digest-challenge-context-requirements).</span></span>

<span data-ttu-id="4dc10-109">La sortie de l’appel initial à la [*fonction*](/windows/desktop/SecGloss/c-gly) [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) est un tampon de sécurité qui contient un jeton envoyé au client avec une réponse HTTP 401 (accès refusé).</span><span class="sxs-lookup"><span data-stu-id="4dc10-109">The output from the initial call to the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) [*function*](/windows/desktop/SecGloss/c-gly) is a security buffer that contains a token that is sent to the client with an HTTP 401 response (Access Denied).</span></span>

> [!Note]  
> <span data-ttu-id="4dc10-110">Les appels à [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) qui ne contiennent pas d’informations dans les tampons d’entrée retournent une stimulation Digest.</span><span class="sxs-lookup"><span data-stu-id="4dc10-110">Calls to [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) that do not contain information in the input buffers return a Digest challenge.</span></span>

 

## <a name="digest-challenge-context-requirements"></a><span data-ttu-id="4dc10-111">Exigences du contexte de Challenge Digest</span><span class="sxs-lookup"><span data-stu-id="4dc10-111">Digest Challenge Context Requirements</span></span>

<span data-ttu-id="4dc10-112">Les spécifications de contexte sont des indicateurs qui déterminent :</span><span class="sxs-lookup"><span data-stu-id="4dc10-112">Context requirements are flags that determine:</span></span>

-   <span data-ttu-id="4dc10-113">Indique si Microsoft Digest fonctionne comme un mécanisme SASL ou un protocole d’authentification HTTP.</span><span class="sxs-lookup"><span data-stu-id="4dc10-113">Whether Microsoft Digest functions as a SASL mechanism or HTTP authentication protocol.</span></span>
-   <span data-ttu-id="4dc10-114">Qualité de protection prise en charge par le contexte de sécurité partagé par le client et le serveur.</span><span class="sxs-lookup"><span data-stu-id="4dc10-114">The quality of protection supported by the security context shared by the client and server.</span></span>

<span data-ttu-id="4dc10-115">Par défaut, Microsoft Digest fonctionne comme un mécanisme SASL.</span><span class="sxs-lookup"><span data-stu-id="4dc10-115">By default, Microsoft Digest functions as a SASL mechanism.</span></span> <span data-ttu-id="4dc10-116">Pour l’utiliser pour l’authentification HTTP, l' \_ indicateur ASC req \_ http (0x10000000) doit être défini par le serveur.</span><span class="sxs-lookup"><span data-stu-id="4dc10-116">To use it for HTTP authentication, the ASC\_REQ\_HTTP ( 0x10000000) flag must be set by the server.</span></span>

<span data-ttu-id="4dc10-117">Les spécifications de contexte sont spécifiées sous la forme d’indicateurs transmis au paramètre *fContextReq* de la fonction [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) .</span><span class="sxs-lookup"><span data-stu-id="4dc10-117">Context requirements are specified as flags passed to the *fContextReq* parameter of the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="4dc10-118">Les indicateurs affectent la qualité de protection du contexte de sécurité en contrôlant la directive QoP dans le défi.</span><span class="sxs-lookup"><span data-stu-id="4dc10-118">The flags affect the security context's quality of protection by controlling the qop directive in the challenge.</span></span>

<span data-ttu-id="4dc10-119">Par défaut, la directive QoP a la valeur « auth ».</span><span class="sxs-lookup"><span data-stu-id="4dc10-119">By default, the qop directive is set to "auth".</span></span> <span data-ttu-id="4dc10-120">Pour générer une stimulation qui définit la directive QoP sur « auth-int », le serveur doit spécifier un ou plusieurs des indicateurs suivants :</span><span class="sxs-lookup"><span data-stu-id="4dc10-120">To generate a challenge that sets the qop directive to "auth-int", the server must specify one or more of the following flags:</span></span>

-   <span data-ttu-id="4dc10-121">\_intégrité des demandes ASC \_</span><span class="sxs-lookup"><span data-stu-id="4dc10-121">ASC\_REQ\_INTEGRITY</span></span>
-   <span data-ttu-id="4dc10-122">détection de la \_ RElecture de la demande ASC \_ \_</span><span class="sxs-lookup"><span data-stu-id="4dc10-122">ASC\_REQ\_REPLAY\_DETECT</span></span>
-   <span data-ttu-id="4dc10-123">détection de la \_ séquence de demande ASC \_ \_</span><span class="sxs-lookup"><span data-stu-id="4dc10-123">ASC\_REQ\_SEQUENCE\_DETECT</span></span>

<span data-ttu-id="4dc10-124">Pour SASL uniquement : générez un Challenge avec la directive QoP définie sur « auth-conf » en spécifiant \_ l' \_ indicateur ASC requirer Context requirement.</span><span class="sxs-lookup"><span data-stu-id="4dc10-124">For SASL only: Generate a challenge with the qop directive set to "auth-conf" by specifying the ASC\_REQ\_CONFIDENTIALITY context requirement flag.</span></span> <span data-ttu-id="4dc10-125">Comme cet indicateur n’est pas valide pour l’authentification HTTP, il ne peut pas être utilisé avec l' \_ \_ indicateur http ASC req.</span><span class="sxs-lookup"><span data-stu-id="4dc10-125">Because this flag is not valid for HTTP authentication, it cannot be used with the ASC\_REQ\_HTTP flag.</span></span>

<span data-ttu-id="4dc10-126">Pour plus d’informations sur la directive QoP, consultez [qualité de protection et chiffrements](quality-of-protection-and-ciphers.md).</span><span class="sxs-lookup"><span data-stu-id="4dc10-126">For more information about the qop directive, see [Quality of Protection and Ciphers](quality-of-protection-and-ciphers.md).</span></span>

<span data-ttu-id="4dc10-127">Pour plus d’informations sur les défis, consultez [contenu d’une demande de résumé](contents-of-a-digest-challenge.md).</span><span class="sxs-lookup"><span data-stu-id="4dc10-127">For more information about challenges, see [Contents of a Digest Challenge](contents-of-a-digest-challenge.md).</span></span>

 

 
