---
description: Le protocole de stimulation/réponse de Windows (NTLM) est le protocole d’authentification utilisé sur les réseaux qui incluent des systèmes exécutant le système d’exploitation Windows et sur des systèmes autonomes.
ms.assetid: 35a38858-d36f-45c9-95f4-2541a182f5ac
title: Microsoft NTLM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9723f24d5913adefe70d4e238de0591790a34bfd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104525863"
---
# <a name="microsoft-ntlm"></a><span data-ttu-id="18c79-103">Microsoft NTLM</span><span class="sxs-lookup"><span data-stu-id="18c79-103">Microsoft NTLM</span></span>

<span data-ttu-id="18c79-104">Le protocole de stimulation/réponse de Windows (NTLM) est le protocole d’authentification utilisé sur les réseaux qui incluent des systèmes exécutant le système d’exploitation Windows et sur des systèmes autonomes.</span><span class="sxs-lookup"><span data-stu-id="18c79-104">Windows Challenge/Response (NTLM) is the authentication protocol used on networks that include systems running the Windows operating system and on stand-alone systems.</span></span>

<span data-ttu-id="18c79-105">Le [*package de sécurité*](../secgloss/s-gly.md) Microsoft [*Kerberos*](../secgloss/k-gly.md) ajoute une sécurité supérieure à celle de NTLM pour les systèmes d’un réseau.</span><span class="sxs-lookup"><span data-stu-id="18c79-105">The Microsoft [*Kerberos*](../secgloss/k-gly.md) [*security package*](../secgloss/s-gly.md) adds greater security than NTLM to systems on a network.</span></span> <span data-ttu-id="18c79-106">Bien que Microsoft *Kerberos* soit le protocole de choix, NTLM est toujours pris en charge.</span><span class="sxs-lookup"><span data-stu-id="18c79-106">Although Microsoft *Kerberos* is the protocol of choice, NTLM is still supported.</span></span> <span data-ttu-id="18c79-107">NTLM doit également être utilisé pour l’authentification d’ouverture de session sur des systèmes autonomes.</span><span class="sxs-lookup"><span data-stu-id="18c79-107">NTLM must also be used for logon authentication on stand-alone systems.</span></span> <span data-ttu-id="18c79-108">Pour plus d’informations sur Kerberos, consultez [Microsoft Kerberos](microsoft-kerberos.md).</span><span class="sxs-lookup"><span data-stu-id="18c79-108">For more information about Kerberos, see [Microsoft Kerberos](microsoft-kerberos.md).</span></span>

<span data-ttu-id="18c79-109">Les informations d’identification NTLM sont basées sur les données obtenues pendant le processus d’ouverture de session interactive et se composent d’un nom de domaine, d’un nom d’utilisateur et d’un [*hachage*](../secgloss/h-gly.md) unidirectionnel du mot de passe de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="18c79-109">NTLM credentials are based on data obtained during the interactive logon process and consist of a domain name, a user name, and a one-way [*hash*](../secgloss/h-gly.md) of the user's password.</span></span> <span data-ttu-id="18c79-110">NTLM utilise un protocole de stimulation/réponse chiffré pour authentifier un utilisateur sans envoyer le mot de passe de l’utilisateur sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="18c79-110">NTLM uses an encrypted challenge/response protocol to authenticate a user without sending the user's password over the wire.</span></span> <span data-ttu-id="18c79-111">Au lieu de cela, le système demandant l’authentification doit effectuer un calcul qui prouve qu’il a accès aux informations d’identification NTLM sécurisées.</span><span class="sxs-lookup"><span data-stu-id="18c79-111">Instead, the system requesting authentication must perform a calculation that proves it has access to the secured NTLM credentials.</span></span>

<span data-ttu-id="18c79-112">L’authentification NTLM interactive sur un réseau implique généralement deux systèmes : un système client, où l’utilisateur demande l’authentification et un contrôleur de domaine, où les informations relatives au mot de passe de l’utilisateur sont conservées.</span><span class="sxs-lookup"><span data-stu-id="18c79-112">Interactive NTLM authentication over a network typically involves two systems: a client system, where the user is requesting authentication, and a domain controller, where information related to the user's password is kept.</span></span> <span data-ttu-id="18c79-113">Une authentification non interactive, qui peut être nécessaire pour autoriser un utilisateur déjà connecté à accéder à une ressource telle qu’une application serveur, implique généralement trois systèmes : un client, un serveur et un contrôleur de domaine qui effectue les calculs d’authentification pour le compte du serveur.</span><span class="sxs-lookup"><span data-stu-id="18c79-113">Noninteractive authentication, which may be required to permit an already logged-on user to access a resource such as a server application, typically involves three systems: a client, a server, and a domain controller that does the authentication calculations on behalf of the server.</span></span>

<span data-ttu-id="18c79-114">Les étapes suivantes présentent un aperçu de l’authentification non interactive NTLM.</span><span class="sxs-lookup"><span data-stu-id="18c79-114">The following steps present an outline of NTLM noninteractive authentication.</span></span> <span data-ttu-id="18c79-115">La première étape fournit les informations d’identification NTLM de l’utilisateur et se produit uniquement dans le cadre du processus d’authentification interactive (ouverture de session).</span><span class="sxs-lookup"><span data-stu-id="18c79-115">The first step provides the user's NTLM credentials and occurs only as part of the interactive authentication (logon) process.</span></span>

1.  <span data-ttu-id="18c79-116">(Authentification interactive uniquement) Un utilisateur accède à un ordinateur client et fournit un nom de domaine, un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="18c79-116">(Interactive authentication only) A user accesses a client computer and provides a domain name, user name, and password.</span></span> <span data-ttu-id="18c79-117">Le client calcule un [*hachage*](../secgloss/h-gly.md) de chiffrement du mot de passe et ignore le mot de passe réel.</span><span class="sxs-lookup"><span data-stu-id="18c79-117">The client computes a cryptographic [*hash*](../secgloss/h-gly.md) of the password and discards the actual password.</span></span>
2.  <span data-ttu-id="18c79-118">Le client envoie le nom d’utilisateur au serveur (en [*texte en clair*](../secgloss/p-gly.md)).</span><span class="sxs-lookup"><span data-stu-id="18c79-118">The client sends the user name to the server (in [*plaintext*](../secgloss/p-gly.md)).</span></span>
3.  <span data-ttu-id="18c79-119">Le serveur génère un nombre aléatoire de 16 octets, appelé *défi* ou [*nonce*](../secgloss/n-gly.md), et l’envoie au client.</span><span class="sxs-lookup"><span data-stu-id="18c79-119">The server generates a 16-byte random number, called a *challenge* or [*nonce*](../secgloss/n-gly.md), and sends it to the client.</span></span>
4.  <span data-ttu-id="18c79-120">Le client chiffre cette stimulation avec le hachage du mot de passe de l’utilisateur et renvoie le résultat au serveur.</span><span class="sxs-lookup"><span data-stu-id="18c79-120">The client encrypts this challenge with the hash of the user's password and returns the result to the server.</span></span> <span data-ttu-id="18c79-121">C’est ce que l’on appelle la *réponse*.</span><span class="sxs-lookup"><span data-stu-id="18c79-121">This is called the *response*.</span></span>
5.  <span data-ttu-id="18c79-122">Le serveur envoie les trois éléments suivants au contrôleur de domaine :</span><span class="sxs-lookup"><span data-stu-id="18c79-122">The server sends the following three items to the domain controller:</span></span>

    -   <span data-ttu-id="18c79-123">Nom d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="18c79-123">User name</span></span>
    -   <span data-ttu-id="18c79-124">Stimulation envoyée au client</span><span class="sxs-lookup"><span data-stu-id="18c79-124">Challenge sent to the client</span></span>
    -   <span data-ttu-id="18c79-125">Réponse reçue du client</span><span class="sxs-lookup"><span data-stu-id="18c79-125">Response received from the client</span></span>

6.  <span data-ttu-id="18c79-126">Le contrôleur de domaine utilise le nom d’utilisateur pour récupérer le hachage du mot de passe de l’utilisateur dans la base de données du gestionnaire de comptes de sécurité.</span><span class="sxs-lookup"><span data-stu-id="18c79-126">The domain controller uses the user name to retrieve the hash of the user's password from the Security Account Manager database.</span></span> <span data-ttu-id="18c79-127">Elle utilise ce hachage de mot de passe pour chiffrer la demande.</span><span class="sxs-lookup"><span data-stu-id="18c79-127">It uses this password hash to encrypt the challenge.</span></span>
7.  <span data-ttu-id="18c79-128">Le contrôleur de domaine compare le Challenge chiffré qu’il a calculé (à l’étape 6) à la réponse calculée par le client (à l’étape 4).</span><span class="sxs-lookup"><span data-stu-id="18c79-128">The domain controller compares the encrypted challenge it computed (in step 6) to the response computed by the client (in step 4).</span></span> <span data-ttu-id="18c79-129">S’ils sont identiques, l’authentification réussit.</span><span class="sxs-lookup"><span data-stu-id="18c79-129">If they are identical, authentication is successful.</span></span>

<span data-ttu-id="18c79-130">Votre application ne doit pas accéder directement au [*package de sécurité*](../secgloss/s-gly.md) NTLM. au lieu de cela, il doit utiliser le package de sécurité [*Negotiate*](../secgloss/n-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="18c79-130">Your application should not access the NTLM [*security package*](../secgloss/s-gly.md) directly; instead, it should use the [*Negotiate*](../secgloss/n-gly.md) security package.</span></span> <span data-ttu-id="18c79-131">Negotiate permet à votre application de tirer parti de [*protocoles de sécurité*](../secgloss/s-gly.md) plus avancés s’ils sont pris en charge par les systèmes impliqués dans l’authentification.</span><span class="sxs-lookup"><span data-stu-id="18c79-131">Negotiate allows your application to take advantage of more advanced [*security protocols*](../secgloss/s-gly.md) if they are supported by the systems involved in the authentication.</span></span> <span data-ttu-id="18c79-132">Actuellement, le package de sécurité Negotiate choisit entre [*Kerberos*](../secgloss/k-gly.md) et NTLM.</span><span class="sxs-lookup"><span data-stu-id="18c79-132">Currently, the Negotiate security package selects between [*Kerberos*](../secgloss/k-gly.md) and NTLM.</span></span> <span data-ttu-id="18c79-133">Negotiate sélectionne Kerberos, sauf s’il ne peut pas être utilisé par l’un des systèmes impliqués dans l’authentification.</span><span class="sxs-lookup"><span data-stu-id="18c79-133">Negotiate selects Kerberos unless it cannot be used by one of the systems involved in the authentication.</span></span>

 

 
