---
description: Spécification des chiffrements Schannel et des forces de chiffrement
ms.assetid: b87d3e72-df7b-4a00-854e-c3706565ed7d
title: Spécification des chiffrements Schannel et des forces de chiffrement
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b04ec37cfea633814881fba5bfd71ad15205a1bd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106524370"
---
# <a name="specifying-schannel-ciphers-and-cipher-strengths"></a><span data-ttu-id="64b67-103">Spécification des chiffrements Schannel et des forces de chiffrement</span><span class="sxs-lookup"><span data-stu-id="64b67-103">Specifying Schannel Ciphers and Cipher Strengths</span></span>

<span data-ttu-id="64b67-104">Pour les échanges d’informations client/serveur, le comportement par défaut de Schannel est de négocier le meilleur chiffrement disponible en fonction de ceux qui sont activés dans le registre.</span><span class="sxs-lookup"><span data-stu-id="64b67-104">For client/server information exchanges, the default behavior of Schannel is to negotiate the best cipher available based on those enabled in the registry.</span></span> <span data-ttu-id="64b67-105">Les applications peuvent limiter les chiffrements et les niveaux de chiffrement autorisés pour une connexion à l’aide des membres de la structure [**Schannel \_ cred**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) , comme suit :</span><span class="sxs-lookup"><span data-stu-id="64b67-105">Applications may limit the ciphers and cipher strengths allowed for a connection by using members of the [**SCHANNEL\_CRED**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) structure as follows:</span></span>

1.  <span data-ttu-id="64b67-106">Définissez le membre **palgSupportedAlgs** sur un tableau d' [**\_ ID ALG**](../seccrypto/alg-id.md) contenant les chiffrements autorisés.</span><span class="sxs-lookup"><span data-stu-id="64b67-106">Set the **palgSupportedAlgs** member to an array of [**ALG\_ID**](../seccrypto/alg-id.md) containing the allowable ciphers.</span></span> <span data-ttu-id="64b67-107">Pour plus d’informations, consultez chiffrement des ID.</span><span class="sxs-lookup"><span data-stu-id="64b67-107">For more information, see Cipher IDs.</span></span>
2.  <span data-ttu-id="64b67-108">Définissez les membres **dwMinimumCipherStrength** et/ou **dwMaximumCipherStrength** sur les forces minimales et maximales autorisées.</span><span class="sxs-lookup"><span data-stu-id="64b67-108">Set the **dwMinimumCipherStrength** and/or **dwMaximumCipherStrength** members to the allowable minimum and maximum strengths.</span></span> <span data-ttu-id="64b67-109">Pour plus d’informations, consultez valeurs de niveau de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="64b67-109">For more information, see Cipher Strength Values.</span></span>
3.  <span data-ttu-id="64b67-110">Transmettez la structure [**Schannel \_ cred**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) (au moyen du paramètre *pAuthData* ) dans un appel à la fonction [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) .</span><span class="sxs-lookup"><span data-stu-id="64b67-110">Pass the [**SCHANNEL\_CRED**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) structure (by means of the *pAuthData* parameter) in a call to the [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) function.</span></span> <span data-ttu-id="64b67-111">Cette fonction retourne un handle d’informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="64b67-111">This function returns a credentials handle.</span></span>
4.  <span data-ttu-id="64b67-112">Spécifiez le descripteur des informations d’identification dans un appel à la fonction [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) côté client ou à la fonction [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) côté serveur.</span><span class="sxs-lookup"><span data-stu-id="64b67-112">Specify the credentials handle in a call to the client-side [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) function or the server-side [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span>

## <a name="cipher-ids"></a><span data-ttu-id="64b67-113">ID de chiffrement</span><span class="sxs-lookup"><span data-stu-id="64b67-113">Cipher IDs</span></span>

<span data-ttu-id="64b67-114">Le comportement par défaut de Schannel consiste à demander le chiffrement le mieux disponible en fonction des entrées Schannel dans le registre système.</span><span class="sxs-lookup"><span data-stu-id="64b67-114">The default behavior of Schannel is to request the best cipher available based on Schannel entries in the system registry.</span></span> <span data-ttu-id="64b67-115">Ne modifiez pas le registre système. les paramètres qu’il contient pour Schannel sont utilisés globalement et affectent les autres applications.</span><span class="sxs-lookup"><span data-stu-id="64b67-115">Do not change the system registry; the settings it contains for Schannel are used globally and will affect other applications.</span></span> <span data-ttu-id="64b67-116">Pour obtenir la liste des constantes valides, consultez [**ALG \_ ID**](../seccrypto/alg-id.md).</span><span class="sxs-lookup"><span data-stu-id="64b67-116">For the list of valid constants, see [**ALG\_ID**](../seccrypto/alg-id.md).</span></span>

## <a name="cipher-strength-values"></a><span data-ttu-id="64b67-117">Valeurs de niveau de chiffrement</span><span class="sxs-lookup"><span data-stu-id="64b67-117">Cipher Strength Values</span></span>

<span data-ttu-id="64b67-118">Cette fonctionnalité Schannel est généralement utilisée pour limiter une connexion à des chiffrements de niveau national ou d’exportation.</span><span class="sxs-lookup"><span data-stu-id="64b67-118">This Schannel feature is typically used to limit a connection to either domestic or export strength ciphers.</span></span> <span data-ttu-id="64b67-119">Les forces nationales incluent 56 et 128 bits, tandis que la puissance d’exportation est limitée à 56 bits.</span><span class="sxs-lookup"><span data-stu-id="64b67-119">Domestic strengths include 56, and 128 bits, while export strength is limited to 56 bits.</span></span> <span data-ttu-id="64b67-120">Si vous définissez les valeurs minimale et maximale sur zéro, Schannel utilise tous les niveaux de chiffrement disponibles.</span><span class="sxs-lookup"><span data-stu-id="64b67-120">If you set the minimum and maximum values to zero Schannel will use all available cipher strengths.</span></span>

<span data-ttu-id="64b67-121">À l’aide de TLS ou SSL 3,0, définissez le membre **dwMinimumCipherStrength** sur-1 (moins un) pour activer les suites de chiffrement « chiffrement NULL », qui fournissent des signatures, mais pas de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="64b67-121">Using TLS or SSL 3.0, set the **dwMinimumCipherStrength** member to -1 (negative one) to enable the "Null Cipher" cipher suites, which provide signatures but no encryption.</span></span> <span data-ttu-id="64b67-122">Si **dwMaximumCipherStrength** a également la valeur-1, seules les suites « chiffrement NULL » seront activées.</span><span class="sxs-lookup"><span data-stu-id="64b67-122">If **dwMaximumCipherStrength** is also set to -1 then only the "Null Cipher" suites will be enabled.</span></span> <span data-ttu-id="64b67-123">Ce paramètre est destiné uniquement au développement et ne doit pas être utilisé dans les systèmes de production.</span><span class="sxs-lookup"><span data-stu-id="64b67-123">This setting is intended for development only and should not be used in production systems.</span></span>

## <a name="querying-cipher-information"></a><span data-ttu-id="64b67-124">Interrogation des informations de chiffrement</span><span class="sxs-lookup"><span data-stu-id="64b67-124">Querying Cipher Information</span></span>

<span data-ttu-id="64b67-125">Pour récupérer les paramètres de niveau de chiffrement pour les informations d’identification, appelez la fonction [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) et spécifiez les \_ forces de chiffrement SECPKG attr \_ \_ comme paramètre *ulAttribute* .</span><span class="sxs-lookup"><span data-stu-id="64b67-125">To retrieve the cipher strength settings for a credential, call the [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) function and specify SECPKG\_ATTR\_CIPHER\_STRENGTHS as the *ulAttribute* parameter.</span></span>

<span data-ttu-id="64b67-126">Pour récupérer la liste des algorithmes pris en charge pour les informations d’identification, appelez [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) avec SECPKG \_ attr \_ pris en charge \_ algs comme paramètre *ulAttribute* .</span><span class="sxs-lookup"><span data-stu-id="64b67-126">To retrieve the list of supported algorithms for a credential, call the [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) with SECPKG\_ATTR\_SUPPORTED\_ALGS as the *ulAttribute* parameter.</span></span>

 

 
