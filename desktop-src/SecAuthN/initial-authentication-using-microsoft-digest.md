---
description: L’authentification initiale a lieu lorsque le serveur reçoit une réponse à une demande d’un client.
ms.assetid: 8a5cf26b-0b2a-4f19-807b-9ec4d533cdd4
title: Authentification initiale à l’aide de Microsoft Digest
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8ed4960d947bbc60df962e6a9b71be755e158c8e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103867861"
---
# <a name="initial-authentication-using-microsoft-digest"></a><span data-ttu-id="93541-103">Authentification initiale à l’aide de Microsoft Digest</span><span class="sxs-lookup"><span data-stu-id="93541-103">Initial Authentication Using Microsoft Digest</span></span>

<span data-ttu-id="93541-104">L’authentification initiale a lieu lorsque le serveur reçoit une réponse à une demande d’un client.</span><span class="sxs-lookup"><span data-stu-id="93541-104">The initial authentication takes place when the server receives a challenge response from a client.</span></span> <span data-ttu-id="93541-105">L’authentification d’une réponse de stimulation implique généralement un minimum de deux serveurs :</span><span class="sxs-lookup"><span data-stu-id="93541-105">Authenticating a challenge response typically involves a minimum of two servers:</span></span>

-   <span data-ttu-id="93541-106">Le serveur d’origine : reçoit la demande du client et émet une stimulation, puis reçoit la réponse de la stimulation du client qui doit être authentifiée.</span><span class="sxs-lookup"><span data-stu-id="93541-106">The originating server—receives the request from the client and issues a challenge, and then receives the challenge response from the client which must be authenticated.</span></span>
-   <span data-ttu-id="93541-107">Serveur d’authentification : reçoit les informations d’autorisation du serveur d’origine et effectue l’authentification.</span><span class="sxs-lookup"><span data-stu-id="93541-107">The authenticating server—receives authorization information from the originating server, and performs the authentication.</span></span> <span data-ttu-id="93541-108">Ce serveur est généralement un contrôleur de domaine qui prend en charge plusieurs serveurs d’origine.</span><span class="sxs-lookup"><span data-stu-id="93541-108">This server is typically a domain controller that supports multiple originating servers.</span></span>

<span data-ttu-id="93541-109">Lorsque le serveur d’origine reçoit une demande avec un en-tête d’autorisation contenant une réponse de stimulation Digest, l’authentification se poursuit comme suit :</span><span class="sxs-lookup"><span data-stu-id="93541-109">When the originating server receives a request with an Authorization header containing a Digest challenge response, the authentication proceeds as follows:</span></span>

-   <span data-ttu-id="93541-110">L’identité du serveur d’origine est vérifiée par rapport au serveur encodé dans la valeur à usage unique de la demande.</span><span class="sxs-lookup"><span data-stu-id="93541-110">The identity of the originating server is checked against the server encoded in the challenge's nonce.</span></span>
-   <span data-ttu-id="93541-111">L’horodatage encodé dans la valeur à usage unique est vérifié.</span><span class="sxs-lookup"><span data-stu-id="93541-111">The time stamp encoded in the nonce is checked.</span></span> <span data-ttu-id="93541-112">Si la valeur à usage unique a expiré et que les informations de nom d’utilisateur/mot de passe sont valides, le serveur d’origine met fin à l’authentification en émettant une nouvelle demande Digest avec la directive obsolète définie sur « true ».</span><span class="sxs-lookup"><span data-stu-id="93541-112">If the nonce has expired and the user name/password information is valid, the originating server ends the authentication by issuing a new Digest challenge with the stale directive set to "true".</span></span> <span data-ttu-id="93541-113">Cela indique que seule la valeur à usage unique était « obsolète » et que le client peut répondre à la nouvelle demande en utilisant le mot de passe utilisé dans la réponse précédente.</span><span class="sxs-lookup"><span data-stu-id="93541-113">This indicates that only the nonce was "stale" and the client can respond to the new challenge using the password it used in the previous response.</span></span> <span data-ttu-id="93541-114">Si le client reçoit un nouveau défi après l’envoi de la réponse de stimulation pour la demande obsolète, le client doit générer une nouvelle réponse de stimulation.</span><span class="sxs-lookup"><span data-stu-id="93541-114">If the client receives a new challenge after sending the challenge response for the stale challenge, the client must generate a new challenge response.</span></span>
-   <span data-ttu-id="93541-115">Si la détection de relecture est appliquée, la directive NC (nombre de nonce) est vérifiée par rapport à la base de données de session à usage unique gérée par le serveur.</span><span class="sxs-lookup"><span data-stu-id="93541-115">If replay detection is enforced, the nc directive (nonce count) is checked against the nonce session database maintained by the server.</span></span>
-   <span data-ttu-id="93541-116">Le serveur d’authentification est identifié et a envoyé les informations d’autorisation du client.</span><span class="sxs-lookup"><span data-stu-id="93541-116">The authenticating server is identified and sent the client's authorization information.</span></span>
-   <span data-ttu-id="93541-117">Le serveur d’authentification vérifie l’identité du serveur encodé dans la valeur à usage unique par rapport à l’identité du serveur d’origine.</span><span class="sxs-lookup"><span data-stu-id="93541-117">The authenticating server checks the identity of the server encoded in the nonce against the identity of the originating server.</span></span>
-   <span data-ttu-id="93541-118">Le serveur d’authentification, qui est un contrôleur de domaine, récupère le mot de passe de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="93541-118">The authenticating server, which is a domain controller, retrieves the user's password.</span></span>
-   <span data-ttu-id="93541-119">À l’aide des informations d’autorisation, du mot de passe et de l’identification du serveur d’origine, le serveur d’authentification calcule la valeur que le client doit avoir fournie dans la directive de réponse de la réponse de stimulation.</span><span class="sxs-lookup"><span data-stu-id="93541-119">Using the authorization information, password, and originating server identification, the authenticating server computes the value that the client should have supplied in the challenge response's response directive.</span></span> <span data-ttu-id="93541-120">Le serveur d’authentification compare la valeur calculée à la réponse du client pour déterminer la réussite ou l’échec de l’authentification.</span><span class="sxs-lookup"><span data-stu-id="93541-120">The authenticating server compares the computed value to the client's response to determine the success or failure of the authentication.</span></span>

<span data-ttu-id="93541-121">Si l’authentification réussit, le [*contexte de sécurité*](../secgloss/s-gly.md) de l’utilisateur et une [*clé de session*](../secgloss/s-gly.md) Digest sont retournés au serveur d’origine.</span><span class="sxs-lookup"><span data-stu-id="93541-121">If authentication is successful, the user's [*security context*](../secgloss/s-gly.md) and a Digest [*session key*](../secgloss/s-gly.md) are returned to the originating server.</span></span> <span data-ttu-id="93541-122">Si l’authentification échoue, le serveur d’origine doit générer une réponse d’erreur.</span><span class="sxs-lookup"><span data-stu-id="93541-122">If authentication fails, the originating server must generate an error response.</span></span> <span data-ttu-id="93541-123">Après une authentification réussie, le serveur d’origine retourne la ressource demandée au client.</span><span class="sxs-lookup"><span data-stu-id="93541-123">After a successful authentication the originating server returns the requested resource to the client.</span></span>

<span data-ttu-id="93541-124">La clé de session Digest retournée par le serveur d’authentification est mise en cache par le serveur d’origine pour être utilisée lors de l’authentification des demandes ultérieures.</span><span class="sxs-lookup"><span data-stu-id="93541-124">The Digest session key returned by the authenticating server is cached by the originating server for use in authenticating future requests.</span></span> <span data-ttu-id="93541-125">Pour plus d’informations, consultez [authentification des demandes suivantes à l’aide de Microsoft Digest](authenticating-subsequent-requests-using-microsoft-digest.md).</span><span class="sxs-lookup"><span data-stu-id="93541-125">For more information, see [Authenticating Subsequent Requests using Microsoft Digest](authenticating-subsequent-requests-using-microsoft-digest.md).</span></span>

 

 
