---
description: Les spécifications de contexte sont exprimées sous la forme d’une combinaison de bits indicateurs transmise à la fonction InitializeSecurityContext (General) ou AcceptSecurityContext (General).
ms.assetid: 4a44b829-4202-46c0-b17e-04943fa067ab
title: Exigences de contexte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f4f15baafe2d6dc9d9bf383fecdd8cf30c387d3def16089128346ee60d79d0fc
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/11/2021
ms.locfileid: "119008937"
---
# <a name="context-requirements"></a>Exigences de contexte

Les spécifications de contexte sont exprimées sous la forme d’une combinaison de bits indicateurs transmise à la fonction [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) ou [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) . Ces indicateurs affectent le [*contexte*](/windows/desktop/SecGloss/c-gly) de plusieurs façons. Tous les indicateurs ne s’appliquent pas à tous les contextes. Certains ne sont valides que pour le serveur, d’autres uniquement pour le client.

L’appelant utilise le paramètre *fContextReq* de l’appel [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) ou [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) pour spécifier un jeu d’indicateurs qui indiquent les fonctionnalités requises. Quand la fonction retourne une valeur, le paramètre *pfContextAttr* indique les attributs du contexte établi. L’appelant détermine si les attributs de contexte finaux sont acceptables.

Les indicateurs demandés à partir de ou retournés par [**InitializeSecurityContext (général)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) sont préfixés par ISC. Les requêtes demandées à partir de ou retournées par [**AcceptSecurityContext (général)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) sont précédées de ASC. Les indicateurs passés dans une fonction incluent REQ, tandis que les indicateurs retournés incluent RET. Par exemple, un indicateur de demande pour l’authentification mutuelle transmise à **InitializeSecurityContext (général)** est l’authentification mutuelle d’ISC \_ req \_ \_ . Un serveur demandant l’authentification mutuelle passe l’authentification \_ mutuelle de la demande ASC \_ \_ à **AcceptSecurityContext (général)**. Si l’authentification mutuelle est effectuée, **InitializeSecurityContext (General)** renvoie ISC \_ RET \_ Mutual \_ auth et **AcceptSecurityContext (General)** retourne ASC \_ RET \_ Mutual \_ auth. Si l’appelant demande l’authentification mutuelle, mais que le [*package de sécurité*](/windows/desktop/SecGloss/s-gly) indique qu’il ne peut pas être exécuté, l’appelant doit décider s’il faut annuler le contexte ou continuer.

Le tableau suivant décrit les différents indicateurs d’exigence de contexte.



| Indicateur                             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DISPOSER<br/>              | Le serveur de l’application de transport peut créer de nouveaux contextes de sécurité en usurpant l’identité du client qui sera accepté par d’autres serveurs comme contextes du client. Le délégué fonctionne uniquement si l' \_ authentification mutuelle est définie. Le délégué est actuellement pris en charge uniquement par [*Kerberos*](/windows/desktop/SecGloss/k-gly). En outre, Kerberos délègue uniquement à un serveur dont l’indicateur est approuvé \_ pour la \_ délégation. N’utilisez pas cet indicateur pour la [*délégation avec restriction*](/windows/desktop/SecGloss/c-gly).<br/> |
| \_authentification mutuelle<br/>          | Les parties communicantes doivent authentifier leurs identités les unes sur les autres. Sans \_ authentification mutuelle, le client authentifie son identité auprès du serveur. Avec \_ l’authentification mutuelle, le serveur doit également authentifier son identité auprès du client.<br/> Lorsque vous utilisez le package de sécurité [*Schannel*](/windows/desktop/SecGloss/s-gly) , le serveur définit la constante d' **\_ \_ \_ authentification mutuelle ASC RET** uniquement dans le dernier appel à [**AcceptSecurityContext (Negotiate)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext), une fois que le mappage de certificat s’est terminé avec succès.<br/>           |
| détecter la relecture \_<br/>        | Le [*package de sécurité*](/windows/desktop/SecGloss/s-gly) détecte les paquets relus et avertit l’appelant si un paquet a été relu. L’utilisation de cet indicateur implique toutes les conditions spécifiées par l’indicateur d’intégrité.<br/>                                                                                                                                                                                                                                                                                                                      |
| détection de séquence \_<br/>      | Le contexte doit être autorisé à détecter les paquets non remis dans le désordre ultérieurement par le biais des fonctions de prise en charge des messages. L’utilisation de cet indicateur implique toutes les conditions spécifiées par l’indicateur d’intégrité.<br/>                                                                                                                                                                                                                                                                                                                                                                                             |
| MEILLEURE<br/>       | Le contexte peut protéger les données en transit à l’aide des fonctions [**EncryptMessage (General)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) et [**DecryptMessage (General)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) . L’indicateur de confidentialité ne fonctionne pas si le contexte généré est destiné au compte invité.<br/>                                                                                                                                                                                                                                                                                                      |
| UTILISER \_ la \_ clé de session<br/>     | Une nouvelle [*clé de session*](/windows/desktop/SecGloss/s-gly) doit être négociée.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| DEMANDER \_ des \_ références<br/>    | Si le client est un utilisateur interactif, le package de sécurité doit, si possible, demander à l’utilisateur les [*informations d’identification*](/windows/desktop/SecGloss/c-gly)appropriées.<br/>                                                                                                                                                                                                                                                                                                                                                                                          |
| UTILISER \_ les \_ CREDS fournis<br/>  | Les informations d’identification spécifiques au package sont disponibles dans la mémoire tampon d’entrée. Le package de sécurité peut utiliser ces [*informations d’identification*](/windows/desktop/SecGloss/c-gly) pour authentifier la connexion.<br/>                                                                                                                                                                                                                                                                                                                                                                |
| Enregistrer \_ les \_ CREDS fournis<br/> | Les informations d’identification fournies doivent être mises en cache avec les informations d’identification supplémentaires.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| allouer de la \_ mémoire<br/>      | Le [*package de sécurité*](/windows/desktop/SecGloss/s-gly) doit allouer de la mémoire. L’appelant doit finalement appeler la fonction [**FreeContextBuffer**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer) pour libérer de la mémoire allouée par le package de sécurité.<br/>                                                                                                                                                                                                                                                                                                                      |
| UTILISER \_ le \_ style DCE<br/>       | L’appelant attend une [*transaction*](/windows/desktop/SecGloss/t-gly)d’authentification en trois jambes.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| REÇUS<br/>              | La sémantique de [*datagramme*](/windows/desktop/SecGloss/d-gly) doit être utilisée. Pour plus d’informations, consultez [contextes de datagramme](datagram-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| CONNECTION<br/>            | La sémantique de connexion doit être utilisée. Pour plus d’informations, consultez [contextes orientés connexion](connection-oriented-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Flux<br/>                | La sémantique du flux doit être utilisée. Pour plus d’informations, consultez [contextes de flux](stream-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| \_erreur étendue<br/>       | Les messages de réponse d’erreur pour l’homologue doivent être générés en cas d’échec du contexte.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| GARANTIS<br/>             | L’intégrité de la mémoire tampon peut être vérifiée, mais aucune détection de séquencement ou de réponse n’est activée.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| AUCUNE \_ intégrité<br/>         | L’exigence d' **intégrité** est ignorée.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| REPÉRER<br/>              | Lorsqu’un serveur emprunte l’identité d’un contexte pour lequel cet indicateur est défini, cet emprunt d’identité produit un accès extrêmement limité. L’emprunt d’identité avec l’identification définie est utilisé pour vérifier l’identité du client.<br/>                                                                                                                                                                                                                                                                                                                                                                                                       |



 

 

