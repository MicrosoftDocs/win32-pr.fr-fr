---
description: Protocole d’accès Digest
ms.assetid: 7b2fd75e-dd0d-4a63-a84b-a64f08f883f2
title: Protocole d’accès Digest
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86aa8f05580c27c866c0568dbc67c4d5ba5c2016
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104569768"
---
# <a name="the-digest-access-protocol"></a><span data-ttu-id="d076c-103">Protocole d’accès Digest</span><span class="sxs-lookup"><span data-stu-id="d076c-103">The Digest Access Protocol</span></span>

<span data-ttu-id="d076c-104">Le protocole d’accès Digest spécifié par [RFC 2617](https://www.ietf.org/rfc/rfc2617.txt) est implémenté par le [*fournisseur SSP (Security support Provider*](../secgloss/s-gly.md) ) Microsoft Digest.</span><span class="sxs-lookup"><span data-stu-id="d076c-104">The Digest Access protocol specified by [RFC 2617](https://www.ietf.org/rfc/rfc2617.txt) is implemented by the Microsoft Digest [*security support provider*](../secgloss/s-gly.md) (SSP).</span></span> <span data-ttu-id="d076c-105">L’implémentation se compose d’un ensemble de fonctions de contexte de sécurité SSPI ( [Microsoft Security Support Provider Interface](sspi.md) ) que les applications client/serveur appellent pour :</span><span class="sxs-lookup"><span data-stu-id="d076c-105">The implementation consists of a set of [Microsoft Security Support Provider Interface](sspi.md) (SSPI) security context functions that client/server applications call to:</span></span>

-   <span data-ttu-id="d076c-106">Établissez un [*contexte de sécurité*](../secgloss/s-gly.md) pour l’échange de messages.</span><span class="sxs-lookup"><span data-stu-id="d076c-106">Establish a [*security context*](../secgloss/s-gly.md) for message exchange.</span></span>
-   <span data-ttu-id="d076c-107">Obtenir les objets de données requis par le SSP Digest, tels que les [*informations d’identification*](../secgloss/c-gly.md) et les handles de contexte.</span><span class="sxs-lookup"><span data-stu-id="d076c-107">Obtain data objects required by the Digest SSP, such as [*credentials*](../secgloss/c-gly.md) and context handles.</span></span>
-   <span data-ttu-id="d076c-108">Accédez aux mécanismes d' [*intégrité*](../secgloss/i-gly.md) et de confidentialité des messages.</span><span class="sxs-lookup"><span data-stu-id="d076c-108">Access message [*integrity*](../secgloss/i-gly.md) and confidentiality mechanisms.</span></span>

<span data-ttu-id="d076c-109">L’authentification d’accès Digest a lieu dans les transactions de demande/réponse jumelées, avec les demandes provenant du client et les réponses provenant du serveur.</span><span class="sxs-lookup"><span data-stu-id="d076c-109">Digest Access authentication takes place within paired request/response transactions, with requests originating on the client and responses originating on the server.</span></span> <span data-ttu-id="d076c-110">Une authentification Digest Access réussie requiert deux paires demande/réponse.</span><span class="sxs-lookup"><span data-stu-id="d076c-110">A successful Digest Access authentication requires two request/response pairs.</span></span>

<span data-ttu-id="d076c-111">Lorsque le SSP Digest est utilisé pour l’authentification HTTP, aucune connexion n’est maintenue entre la première et la deuxième paire demande/réponse.</span><span class="sxs-lookup"><span data-stu-id="d076c-111">When the Digest SSP is used for HTTP authentication, there is no connection maintained between the first and second request/response pair.</span></span> <span data-ttu-id="d076c-112">En d’autres termes, le serveur n’attend pas la deuxième demande après l’envoi de la première réponse.</span><span class="sxs-lookup"><span data-stu-id="d076c-112">In other words, the server does not wait for the second request after it sends the first response.</span></span>

<span data-ttu-id="d076c-113">L’illustration suivante montre les étapes effectuées sur le chemin d’accès HTTP par un client et un serveur pour effectuer une authentification à l’aide du SSP Digest.</span><span class="sxs-lookup"><span data-stu-id="d076c-113">The following illustration shows the steps taken on the HTTP path by a client and server to complete an authentication using the Digest SSP.</span></span> <span data-ttu-id="d076c-114">Le mécanisme SASL utilise l’authentification mutuelle, de sorte que les données d’authentification sont renvoyées au dernier appel du serveur ASC au client, qui vérifie que le client communique avec le serveur approprié.</span><span class="sxs-lookup"><span data-stu-id="d076c-114">The SASL mechanism makes use of mutual authentication, so authentication data is sent back on the final ASC server call to the client that verifies that the client is communicating with the correct server.</span></span>

![protocole d’accès Digest](images/digest1.png)

<span data-ttu-id="d076c-116">Le processus commence par le client qui demande une ressource protégée par l’accès au serveur en envoyant la requête HTTP 1.</span><span class="sxs-lookup"><span data-stu-id="d076c-116">The process starts with the client requesting an access-protected resource from the server by sending HTTP Request 1.</span></span>

<span data-ttu-id="d076c-117">Le serveur reçoit la requête HTTP 1 et détermine que la ressource requiert des informations d’authentification qui n’étaient pas incluses dans la demande.</span><span class="sxs-lookup"><span data-stu-id="d076c-117">The server receives HTTP Request 1 and determines that the resource requires authentication information that was not included in the request.</span></span> <span data-ttu-id="d076c-118">Le serveur génère une demande de test pour le client comme suit :</span><span class="sxs-lookup"><span data-stu-id="d076c-118">The server generates a challenge for the client as follows:</span></span>

1.  <span data-ttu-id="d076c-119">Le serveur obtient ses [*informations d’identification*](../secgloss/c-gly.md) en appelant la fonction [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) .</span><span class="sxs-lookup"><span data-stu-id="d076c-119">The server obtains its [*credentials*](../secgloss/c-gly.md) by calling the [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) function.</span></span>
2.  <span data-ttu-id="d076c-120">Le serveur génère la stimulation Digest en appelant la fonction [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) .</span><span class="sxs-lookup"><span data-stu-id="d076c-120">The server generates the Digest challenge by calling the [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span>
3.  <span data-ttu-id="d076c-121">Le serveur envoie un en-tête de WWW-Authenticate en tant que réponse à la demande du client (indiqué en tant que réponse HTTP 1).</span><span class="sxs-lookup"><span data-stu-id="d076c-121">The server sends a WWW-Authenticate header as its response to the client's request (shown as HTTP Response 1).</span></span> <span data-ttu-id="d076c-122">L’en-tête contient la stimulation Digest et une directive opaque qui contient une référence à un [*contexte de sécurité*](../secgloss/s-gly.md) partiel établi pour le client.</span><span class="sxs-lookup"><span data-stu-id="d076c-122">The header contains the Digest challenge and an opaque directive that contains a reference to a partial [*security context*](../secgloss/s-gly.md) established for the client.</span></span> <span data-ttu-id="d076c-123">L’en-tête est envoyé avec un code d’état 401 qui indique que la demande du client a généré une erreur d’accès non autorisé.</span><span class="sxs-lookup"><span data-stu-id="d076c-123">The header is sent with a 401 status code that indicates that the client request generated an unauthorized access error.</span></span> <span data-ttu-id="d076c-124">Pour plus d’informations sur la demande de résumé, consultez le [contenu d’une demande de résumé](contents-of-a-digest-challenge.md) et [la génération de la demande de résumé](generating-the-digest-challenge.md).</span><span class="sxs-lookup"><span data-stu-id="d076c-124">For more information about the Digest challenge, see [Contents of a Digest Challenge](contents-of-a-digest-challenge.md) and [Generating the Digest Challenge](generating-the-digest-challenge.md).</span></span>
4.  <span data-ttu-id="d076c-125">Le client reçoit une réponse HTTP 1, extrait la stimulation de synthèse envoyée par le serveur et génère une réponse de demande de résumé comme suit :</span><span class="sxs-lookup"><span data-stu-id="d076c-125">The client receives HTTP Response 1, extracts the Digest challenge sent by the server, and generates a Digest challenge response as follows:</span></span>
    1.  <span data-ttu-id="d076c-126">Les informations d’identification de l’utilisateur sont obtenues en appelant la fonction [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) ou en invitant l’utilisateur à entrer des informations d’identification de manière interactive.</span><span class="sxs-lookup"><span data-stu-id="d076c-126">The user's credentials are obtained either by calling the [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) function or by interactively prompting the user for credentials.</span></span>
    2.  <span data-ttu-id="d076c-127">Les informations sur les informations d’identification et les informations d’identification sont transmises à la fonction [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) , qui génère la réponse de la stimulation de synthèse.</span><span class="sxs-lookup"><span data-stu-id="d076c-127">The challenge and credentials information are passed to the [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) function, which generates the Digest challenge response.</span></span>
5.  <span data-ttu-id="d076c-128">Le client envoie un en-tête d’autorisation qui contient la réponse de stimulation au serveur (indiqué sous la forme HTTP request 2).</span><span class="sxs-lookup"><span data-stu-id="d076c-128">The client sends an Authorization header that contains the challenge response to the server (shown as HTTP Request 2).</span></span> <span data-ttu-id="d076c-129">Pour plus d’informations sur la réponse à la demande de synthèse, consultez le [contenu d’une réponse de stimulation Digest](contents-of-a-digest-challenge-response.md) et [la génération de la réponse à la stimulation de synthèse](generating-the-digest-challenge-response.md).</span><span class="sxs-lookup"><span data-stu-id="d076c-129">For more information about the Digest challenge response, see [Contents of a Digest Challenge Response](contents-of-a-digest-challenge-response.md) and [Generating the Digest Challenge Response](generating-the-digest-challenge-response.md).</span></span>
6.  <span data-ttu-id="d076c-130">Le serveur reçoit la requête HTTP 2, extrait la réponse de stimulation envoyée par le client et authentifie les informations en appelant la fonction [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) .</span><span class="sxs-lookup"><span data-stu-id="d076c-130">The server receives HTTP Request 2, extracts the challenge response sent by the client, and authenticates the information by calling the [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="d076c-131">Pour plus d’informations sur le processus d’authentification, consultez [authentification initiale à l’aide de Microsoft Digest](initial-authentication-using-microsoft-digest.md).</span><span class="sxs-lookup"><span data-stu-id="d076c-131">For details about the authentication process, see [Initial Authentication using Microsoft Digest](initial-authentication-using-microsoft-digest.md).</span></span>
7.  <span data-ttu-id="d076c-132">Le serveur envoie la réponse HTTP 2 au client en tant que deuxième et dernière réponse requise par le protocole d’accès Digest.</span><span class="sxs-lookup"><span data-stu-id="d076c-132">The server sends HTTP Response 2 back to the client as the second and final response required by the Digest Access protocol.</span></span> <span data-ttu-id="d076c-133">Si l’authentification réussit, cette réponse contient la ressource demandée.</span><span class="sxs-lookup"><span data-stu-id="d076c-133">If the authentication is successful, this response contains the requested resource.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d076c-134">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="d076c-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d076c-135">Contenu d’une réponse de stimulation Digest</span><span class="sxs-lookup"><span data-stu-id="d076c-135">Contents of a Digest Challenge Response</span></span>](contents-of-a-digest-challenge-response.md)
</dt> </dl>

 

 
