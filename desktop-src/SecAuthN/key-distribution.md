---
description: La technique d’authentification par clé secrète n’explique pas comment le client et le serveur obtiennent la clé de session secrète à utiliser dans les sessions les unes avec les autres.
ms.assetid: 90ab0359-5079-49e9-809c-0c0005cc61bf
title: Distribution de clés
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f04a2968e8b7b978bc7b325d65b4a2acf08e1f6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103757011"
---
# <a name="key-distribution"></a><span data-ttu-id="7da98-103">Distribution de clés</span><span class="sxs-lookup"><span data-stu-id="7da98-103">Key Distribution</span></span>

<span data-ttu-id="7da98-104">La technique d’authentification par clé secrète n’explique pas comment le client et le serveur obtiennent la [*clé de session*](../secgloss/s-gly.md) secrète à utiliser dans les sessions les unes avec les autres.</span><span class="sxs-lookup"><span data-stu-id="7da98-104">The secret key authentication technique does not explain how the client and server get the secret [*session key*](../secgloss/s-gly.md) to use in sessions with each other.</span></span> <span data-ttu-id="7da98-105">S’il s’agit de personnes, elles peuvent respecter le secret et accepter la clé.</span><span class="sxs-lookup"><span data-stu-id="7da98-105">If they are people, they could meet in secret and agree on the key.</span></span> <span data-ttu-id="7da98-106">Toutefois, si le client est un programme exécuté sur une station de travail et que le serveur est un service s’exécutant sur un serveur réseau, cette méthode ne fonctionnera pas.</span><span class="sxs-lookup"><span data-stu-id="7da98-106">But if the client is a program running on a workstation and the server is a service running on a network server, that method will not work.</span></span>

<span data-ttu-id="7da98-107">Un client souhaite communiquer avec de nombreux serveurs et nécessite des clés différentes pour chacun d’eux.</span><span class="sxs-lookup"><span data-stu-id="7da98-107">A client will want to communicate with many servers and will need different keys for each of them.</span></span> <span data-ttu-id="7da98-108">Un serveur communique avec de nombreux clients et a besoin de clés différentes pour chacun d’eux.</span><span class="sxs-lookup"><span data-stu-id="7da98-108">A server communicates with many clients and needs different keys for each of them, as well.</span></span> <span data-ttu-id="7da98-109">Si chaque client a besoin d’une clé différente pour chaque serveur et que chaque serveur a besoin d’une clé différente pour chaque client, la distribution de clé devient un problème.</span><span class="sxs-lookup"><span data-stu-id="7da98-109">If each client needs a different key for every server, and each server needs a different key for every client, key distribution becomes a problem.</span></span> <span data-ttu-id="7da98-110">En outre, la nécessité de stocker et de protéger de nombreuses clés sur de nombreux ordinateurs crée un risque de sécurité énorme.</span><span class="sxs-lookup"><span data-stu-id="7da98-110">In addition, the need to store and protect many keys on many computers creates an enormous security risk.</span></span>

<span data-ttu-id="7da98-111">Le nom du [*protocole Kerberos*](../secgloss/k-gly.md) suggère sa solution au problème de la distribution des clés.</span><span class="sxs-lookup"><span data-stu-id="7da98-111">The name of the [*Kerberos protocol*](../secgloss/k-gly.md) suggests its solution to the problem of key distribution.</span></span> <span data-ttu-id="7da98-112">Kerberos (ou Cerberus) était une figure dans les Mythology grec classiques, un chien féroce à trois têtes qui a gardé des intrus vivants dans le monde entier.</span><span class="sxs-lookup"><span data-stu-id="7da98-112">Kerberos (or Cerberus) was a figure in classical Greek mythology—a fierce, three-headed dog who kept living intruders from entering the Underworld.</span></span> <span data-ttu-id="7da98-113">À l’instar de la protection par mythe, le protocole Kerberos comporte trois têtes : un client, un serveur et un tiers de confiance pour effectuer un médiateur entre eux.</span><span class="sxs-lookup"><span data-stu-id="7da98-113">Like the mythical guard, the Kerberos protocol has three heads: a client, a server, and a trusted third party to mediate between them.</span></span> <span data-ttu-id="7da98-114">L’intermédiaire approuvé dans ce protocole est le centre de distribution de clés (KDC).</span><span class="sxs-lookup"><span data-stu-id="7da98-114">The trusted intermediary in this protocol is the Key Distribution Center (KDC).</span></span>

<span data-ttu-id="7da98-115">Le KDC est un service qui s’exécute sur un serveur sécurisé physiquement.</span><span class="sxs-lookup"><span data-stu-id="7da98-115">The KDC is a service running on a physically secure server.</span></span> <span data-ttu-id="7da98-116">Il gère une base de données avec les informations de compte de tous les [*principaux de sécurité*](../secgloss/s-gly.md) dans son domaine.</span><span class="sxs-lookup"><span data-stu-id="7da98-116">It maintains a database with account information for all [*security principals*](../secgloss/s-gly.md) in its realm.</span></span> <span data-ttu-id="7da98-117">Un domaine est l’équivalent Kerberos d’un domaine dans Windows.</span><span class="sxs-lookup"><span data-stu-id="7da98-117">A realm is the Kerberos equivalent of a domain in Windows.</span></span>

<span data-ttu-id="7da98-118">Avec d’autres informations sur chaque principal de sécurité, le KDC stocke une clé de chiffrement connue uniquement du principal et du KDC.</span><span class="sxs-lookup"><span data-stu-id="7da98-118">Along with other information about each security principal, the KDC stores a cryptographic key known only to the principal and the KDC.</span></span> <span data-ttu-id="7da98-119">Il s’agit de la [*clé principale*](../secgloss/m-gly.md) utilisée pour les échanges entre chaque principal de sécurité et le KDC.</span><span class="sxs-lookup"><span data-stu-id="7da98-119">This is the [*master key*](../secgloss/m-gly.md) used in exchanges between each security principal and the KDC.</span></span> <span data-ttu-id="7da98-120">Dans la plupart des implémentations du protocole Kerberos, cette clé principale est dérivée à l’aide d’une fonction de [*hachage*](../secgloss/h-gly.md) du mot de passe d’un principal de sécurité.</span><span class="sxs-lookup"><span data-stu-id="7da98-120">In most implementations of the Kerberos protocol, this master key is derived using a [*hash*](../secgloss/h-gly.md) function from a security principal's password.</span></span>

<span data-ttu-id="7da98-121">Lorsqu’un client souhaite créer une connexion sécurisée avec un serveur, le client commence par envoyer une demande au centre de sécurité de l’accès, et non au serveur qu’il souhaite atteindre.</span><span class="sxs-lookup"><span data-stu-id="7da98-121">When a client wants to create a secure connection with a server, the client begins by sending a request to the KDC, not to the server that it wants to reach.</span></span> <span data-ttu-id="7da98-122">Le KDC crée et envoie au client une clé de [*session*](../secgloss/s-gly.md) unique pour le client et un serveur à utiliser pour s’authentifier mutuellement.</span><span class="sxs-lookup"><span data-stu-id="7da98-122">The KDC creates and sends to the client a unique [*session key*](../secgloss/s-gly.md) for the client and a server to use to authenticate each other.</span></span> <span data-ttu-id="7da98-123">Le KDC a accès à la clé principale du client et à la clé principale du serveur.</span><span class="sxs-lookup"><span data-stu-id="7da98-123">The KDC has access to both the client's master key and the server's master key.</span></span> <span data-ttu-id="7da98-124">Le KDC chiffre la copie du serveur de la clé de session à l’aide de la clé principale du serveur et de la copie du client à l’aide de la clé principale du client.</span><span class="sxs-lookup"><span data-stu-id="7da98-124">The KDC encrypts the server's copy of the session key using the server's master key, and the client's copy using the client's master key.</span></span>

<span data-ttu-id="7da98-125">Le KDC peut jouer son rôle d’intermédiaire approuvé en envoyant la clé de session directement à chaque principal de sécurité impliqué, mais dans la pratique, cette procédure ne fonctionne pas, pour plusieurs raisons.</span><span class="sxs-lookup"><span data-stu-id="7da98-125">The KDC could fulfill its role as trusted intermediary by sending the session key directly to each of the security principals involved, but in practice this procedure will not work, for a number of reasons.</span></span> <span data-ttu-id="7da98-126">Au lieu de cela, le centre KDC envoie les deux clés de session chiffrées au client.</span><span class="sxs-lookup"><span data-stu-id="7da98-126">Instead, the KDC sends both encrypted session keys to the client.</span></span> <span data-ttu-id="7da98-127">La clé de session du serveur est incluse dans un [ticket de session](session-tickets.md).</span><span class="sxs-lookup"><span data-stu-id="7da98-127">The session key for the server is included in a [session ticket](session-tickets.md).</span></span>

 

 
