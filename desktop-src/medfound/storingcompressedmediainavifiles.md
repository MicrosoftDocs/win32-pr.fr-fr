---
description: Décrit comment stocker des données Windows Media dans un fichier AVI.
ms.assetid: f2a9d9ff-4876-4f24-b96a-5d89e42fa3d5
title: Stockage d’un média compressé dans des fichiers AVI (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 080524a47b4295517d50705f6aeb125d085a8346
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/03/2021
ms.locfileid: "104321574"
---
# <a name="storing-compressed-media-in-avi-files-microsoft-media-foundation"></a><span data-ttu-id="fccf9-103">Stockage d’un média compressé dans des fichiers AVI (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="fccf9-103">Storing Compressed Media in AVI Files (Microsoft Media Foundation)</span></span>

<span data-ttu-id="fccf9-104">Tout le contenu que vous compressez à l’aide des codecs Windows Media Audio et vidéo doit être placé dans un format de conteneur.</span><span class="sxs-lookup"><span data-stu-id="fccf9-104">Any of the content that you compress using the Windows Media Audio and Video codecs must be put in some container format.</span></span> <span data-ttu-id="fccf9-105">L’un des formats les plus populaires est Audio Video entrelacé ou AVI.</span><span class="sxs-lookup"><span data-stu-id="fccf9-105">One of the most popular formats is Audio Video Interleave, or AVI.</span></span> <span data-ttu-id="fccf9-106">Vous pouvez utiliser Microsoft Video for Windows (VfW) ou Microsoft DirectShow pour créer des fichiers AVI.</span><span class="sxs-lookup"><span data-stu-id="fccf9-106">You can use Microsoft Video for Windows (VfW) or Microsoft DirectShow to create AVI files.</span></span> <span data-ttu-id="fccf9-107">Pour plus d’informations sur l’utilisation de la vidéo pour Windows ou DirectShow, reportez-vous à la documentation du produit sur MSDN.</span><span class="sxs-lookup"><span data-stu-id="fccf9-107">For more information about using Video for Windows or DirectShow, refer to the product documentation on MSDN.</span></span>

<span data-ttu-id="fccf9-108">Les codecs vidéo et Windows Media Audio ont été développés pour utiliser les propriétés du format ASF (Advanced Systems Format), qui est le conteneur utilisé par Windows Media.</span><span class="sxs-lookup"><span data-stu-id="fccf9-108">The Windows Media Audio and Video codecs have been developed to use the properties of the Advanced Systems Format (ASF), which is the container used by Windows Media.</span></span> <span data-ttu-id="fccf9-109">Étant donné que les contenus AVI et ASF stockent le contenu différemment, certaines difficultés surviennent lors du stockage de contenu compressé avec les codecs Windows Media Audio et vidéo dans un fichier AVI.</span><span class="sxs-lookup"><span data-stu-id="fccf9-109">Because AVI and ASF store content differently, some difficulties arise when storing content compressed with the Windows Media Audio and Video codecs in an AVI file.</span></span>

<span data-ttu-id="fccf9-110">Les codecs Windows Media Audio compressent le contenu audio de manière à ce qu’il ne puisse pas être correctement décompressé sans horodatage pour les échantillons individuels.</span><span class="sxs-lookup"><span data-stu-id="fccf9-110">The Windows Media Audio codecs compress audio content in such a way that it cannot be properly decompressed without time stamps for the individual samples.</span></span> <span data-ttu-id="fccf9-111">Cela permet d’optimiser le support compressé.</span><span class="sxs-lookup"><span data-stu-id="fccf9-111">This enables some optimization in the compressed media.</span></span> <span data-ttu-id="fccf9-112">Étant donné que le conteneur ASF conserve les horodatages avec tous les échantillons, cette caractéristique des algorithmes audio a toujours fonctionné correctement.</span><span class="sxs-lookup"><span data-stu-id="fccf9-112">Because the ASF container keeps time stamps with all samples, this characteristic of the audio algorithms has always worked well.</span></span>

<span data-ttu-id="fccf9-113">Toutefois, les fichiers AVI ne conservent pas les horodatages avec des échantillons.</span><span class="sxs-lookup"><span data-stu-id="fccf9-113">AVI files, however, do not keep time stamps with samples.</span></span> <span data-ttu-id="fccf9-114">Cela signifie que le contenu Windows Media Audio ne peut pas être décompressé correctement lorsqu’il est stocké dans un fichier AVI.</span><span class="sxs-lookup"><span data-stu-id="fccf9-114">This means that Windows Media Audio content cannot be decompressed properly when stored in an AVI file.</span></span> <span data-ttu-id="fccf9-115">Le contenu de Windows Media Video n’a pas cette limitation et peut être inclus dans des fichiers AVI.</span><span class="sxs-lookup"><span data-stu-id="fccf9-115">Windows Media Video content does not have this limitation, and can be included in AVI files.</span></span> <span data-ttu-id="fccf9-116">Pour encoder Windows Media Video contenu dans un fichier AVI avec un son synchronisé, vous devez utiliser un autre codec audio.</span><span class="sxs-lookup"><span data-stu-id="fccf9-116">To encode Windows Media Video content to an AVI file with synchronized sound, you must use another audio codec.</span></span>

<span data-ttu-id="fccf9-117">L’autre problème lié à l’utilisation d’un fichier AVI comme conteneur pour Windows Media concerne la vidéo à faible vitesse de transmission.</span><span class="sxs-lookup"><span data-stu-id="fccf9-117">The other issue with using an AVI file as a container for Windows Media concerns low-bit-rate video.</span></span> <span data-ttu-id="fccf9-118">L’une des façons dont les codecs Windows Media Video produisent du contenu vidéo pour des vitesses de transmission faibles consiste à déposer des frames en double.</span><span class="sxs-lookup"><span data-stu-id="fccf9-118">One of the ways in which the Windows Media Video codecs produce video content for low bit rates is by dropping duplicate frames.</span></span> <span data-ttu-id="fccf9-119">Si vous souhaitez placer Windows Media Video contenu dans un fichier ASF, vous devez définir l’encodeur pour fournir des frames factices pour les trames dupliquées (définissez [MFPKEY \_ PRODUCEDUMMYFRAMES](mfpkey-producedummyframesproperty.md) sur variant \_ true) afin que chaque frame soit représenté dans le fichier.</span><span class="sxs-lookup"><span data-stu-id="fccf9-119">If you want to put Windows Media Video content in an ASF file, you need to set the encoder to deliver dummy frames for duplicate frames (set [MFPKEY\_PRODUCEDUMMYFRAMES](mfpkey-producedummyframesproperty.md) to VARIANT\_TRUE) so that every frame is represented in the file.</span></span> <span data-ttu-id="fccf9-120">La taille des frames factices produits par le codec est de 8 octets.</span><span class="sxs-lookup"><span data-stu-id="fccf9-120">The dummy frames produced by the codec are 8 bytes in size.</span></span> <span data-ttu-id="fccf9-121">Toutefois, le frame écrit dans un fichier par le multiplexeur AVI peut avoir des centaines d’octets plus grands et remplir des données aléatoires.</span><span class="sxs-lookup"><span data-stu-id="fccf9-121">However, the frame written to file by the AVI multiplexer can be hundreds of bytes larger, and filled with random data.</span></span> <span data-ttu-id="fccf9-122">Un fichier AVI créé de cette façon sera toujours lisible, mais il sera bien plus grand que prévu.</span><span class="sxs-lookup"><span data-stu-id="fccf9-122">An AVI file made in this way will still be playable, but it will be much larger than expected.</span></span> <span data-ttu-id="fccf9-123">Vous pouvez éviter ce problème en utilisant des taux de bits plus élevés lors de l’encodage vidéo pour le stockage dans des fichiers AVI.</span><span class="sxs-lookup"><span data-stu-id="fccf9-123">You can avoid this problem by using higher bit rates when encoding video for storage in AVI files.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fccf9-124">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="fccf9-124">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fccf9-125">Codecs Windows Media</span><span class="sxs-lookup"><span data-stu-id="fccf9-125">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 



