---
description: Utilisation de la catégorie d’images Windows Media Video 9,1
ms.assetid: b77e955b-767b-4b64-9421-bacac9edf09c
title: Utilisation de la catégorie d’images Windows Media Video 9,1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44b545d37b61a1c89ffdd69615b28f636aa98b32
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/03/2021
ms.locfileid: "106531458"
---
# <a name="using-the-windows-media-video-91-image-category"></a><span data-ttu-id="dff32-103">Utilisation de la catégorie d’images Windows Media Video 9,1</span><span class="sxs-lookup"><span data-stu-id="dff32-103">Using the Windows Media Video 9.1 Image Category</span></span>

<span data-ttu-id="dff32-104">La catégorie d’images Windows Media Video 9,1 est différente des autres catégories de sortie prises en charge par l’encodeur et le décodeur Windows Media Video 9.</span><span class="sxs-lookup"><span data-stu-id="dff32-104">The Windows Media Video 9.1 Image category is different from the other output categories supported by the Windows Media Video 9 encoder and decoder.</span></span> <span data-ttu-id="dff32-105">Au lieu de traiter une vidéo non compressée, elle prend des échantillons d’entrée spéciaux qui se composent de données de transformation structurées et, parfois, d’images bitmap RVB sur lesquelles les transformations sont effectuées.</span><span class="sxs-lookup"><span data-stu-id="dff32-105">Instead of processing uncompressed video, it takes special input samples that consist of structured transformation data and, occasionally, RGB bitmap images on which the transformations are performed.</span></span>

<span data-ttu-id="dff32-106">Le contenu d’image Windows Media Video 9,1 encodé est quasiment identique au contenu encodé normal Windows Media Video 9, mais il est identifié par son propre code FOURCC (« WMVP »).</span><span class="sxs-lookup"><span data-stu-id="dff32-106">The encoded Windows Media Video 9.1 Image content is virtually identical to regular Windows Media Video 9 encoded content, but it is identified by its own FOURCC ("WMVP").</span></span>

<span data-ttu-id="dff32-107">Le type de sortie de l’encodeur pour l’image vidéo est défini exactement de la même façon que la vidéo Windows Media standard, sauf que les valeurs de sous-type et de compression doivent être définies sur les identificateurs d’image vidéo.</span><span class="sxs-lookup"><span data-stu-id="dff32-107">The encoder output type for video image is set in exactly the same way as standard Windows Media video, except that the subtype and compression values must be set to the video image identifiers.</span></span> <span data-ttu-id="dff32-108">Cela comprend la nécessité d’obtenir des données privées de codec et de les ajouter à la structure [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) .</span><span class="sxs-lookup"><span data-stu-id="dff32-108">This includes the need to obtain codec private data and append it to the [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) structure.</span></span> <span data-ttu-id="dff32-109">Pour plus d’informations, consultez Configuration de l' [encodage vidéo](configuringvideoencoding.md).</span><span class="sxs-lookup"><span data-stu-id="dff32-109">For more information, see [Configuring Video Encoding](configuringvideoencoding.md).</span></span>

<span data-ttu-id="dff32-110">La configuration du type d’entrée pour l’image vidéo est également très similaire à la configuration d’entrée pour les autres encodeurs vidéo.</span><span class="sxs-lookup"><span data-stu-id="dff32-110">The input type configuration for video image is also very similar to input configuration for the other video encoders.</span></span> <span data-ttu-id="dff32-111">Vous pouvez récupérer un [**\_ \_ type de média DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) partiellement terminé à partir de l’encodeur en appelant [**IMediaObject :: GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype), ou si vous utilisez le kit de développement logiciel (SDK) Media Foundation, en appelant [**IMFTransform :: GetInputAvailableType**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputavailabletype) et en extrayant le **\_ \_ type de média DMO** à l’aide de [**MFCreateAMMediaTypeFromMFMediaType**](/windows/desktop/api/mfapi/nf-mfapi-mfcreateammediatypefrommfmediatype).</span><span class="sxs-lookup"><span data-stu-id="dff32-111">You can retrieve a partially completed [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) from the encoder by calling [**IMediaObject::GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype), or if you are using the Media Foundation SDK, by calling [**IMFTransform::GetInputAvailableType**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputavailabletype) and retrieving the **DMO\_MEDIA\_TYPE** by using [**MFCreateAMMediaTypeFromMFMediaType**](/windows/desktop/api/mfapi/nf-mfapi-mfcreateammediatypefrommfmediatype).</span></span> <span data-ttu-id="dff32-112">Vous définissez ensuite la taille du frame et la structure du format [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) , comme vous le feriez pour une vidéo standard.</span><span class="sxs-lookup"><span data-stu-id="dff32-112">You then set the frame size and the [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) format structure, just as you would for standard video.</span></span> <span data-ttu-id="dff32-113">Comme pour le type de sortie, vous devez vous assurer que les valeurs de sous-type et de compression sont correctement définies.</span><span class="sxs-lookup"><span data-stu-id="dff32-113">As with the output type, you need to ensure that the subtype and compression values are set appropriately.</span></span>

## <a name="creating-input-samples"></a><span data-ttu-id="dff32-114">Création d’exemples d’entrée</span><span class="sxs-lookup"><span data-stu-id="dff32-114">Creating Input Samples</span></span>

<span data-ttu-id="dff32-115">Les exemples d’entrée du codec d’image vidéo sont structurés.</span><span class="sxs-lookup"><span data-stu-id="dff32-115">The input samples for the video image codec are structured.</span></span> <span data-ttu-id="dff32-116">La définition de la structure et des constantes utilisées pour l’image vidéo n’est pas fournie avec les interfaces de codec vidéo et Windows Media Audio.</span><span class="sxs-lookup"><span data-stu-id="dff32-116">The definition of the structure and constants used for video image are not included with the Windows Media Audio and Video codec interfaces.</span></span> <span data-ttu-id="dff32-117">Ces définitions sont incluses dans le kit de développement logiciel (SDK) Windows Media format et leur utilisation est entièrement expliquée dans la documentation du kit de développement logiciel (SDK) Windows Media format.</span><span class="sxs-lookup"><span data-stu-id="dff32-117">These definitions are included in the Windows Media Format SDK, and their use is fully explained in the Windows Media Format SDK documentation.</span></span>

## <a name="decoding"></a><span data-ttu-id="dff32-118">Décodage</span><span class="sxs-lookup"><span data-stu-id="dff32-118">Decoding</span></span>

<span data-ttu-id="dff32-119">Il n’existe aucune exigence particulière pour décoder la vidéo de capture d’écran.</span><span class="sxs-lookup"><span data-stu-id="dff32-119">There are no special requirements for decoding screen capture video.</span></span> <span data-ttu-id="dff32-120">À part un sous-type différent (MEDIASUBTYPE \_ WMVP) utilisé pour l’entrée du décodeur, le flux de l’image vidéo compressée est fondamentalement identique à un flux de Windows Media Video standard.</span><span class="sxs-lookup"><span data-stu-id="dff32-120">Other than a different subtype (MEDIASUBTYPE\_WMVP) used for decoder input, the compressed video image stream is essentially identical to a standard Windows Media Video stream.</span></span>

## <a name="related-topics"></a><span data-ttu-id="dff32-121">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="dff32-121">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="dff32-122">Utilisation de la vidéo</span><span class="sxs-lookup"><span data-stu-id="dff32-122">Working with Video</span></span>](workingwithvideo.md)
</dt> </dl>

 

 
