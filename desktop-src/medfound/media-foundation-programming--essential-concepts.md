---
description: Si vous débutez avec des médias numériques, cette rubrique présente quelques concepts que vous devez comprendre avant d’écrire une application Media Foundation.
ms.assetid: d76d655e-23f3-407c-97a1-be015b0de37d
title: 'Media Foundation : notions essentielles'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0298a20518df91dab4439770e0f1193802969ae8
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/03/2021
ms.locfileid: "104393843"
---
# <a name="media-foundation-essential-concepts"></a><span data-ttu-id="96c26-103">Media Foundation : notions essentielles</span><span class="sxs-lookup"><span data-stu-id="96c26-103">Media Foundation: Essential Concepts</span></span>

<span data-ttu-id="96c26-104">Si vous débutez avec des médias numériques, cette rubrique présente quelques concepts que vous devez comprendre avant d’écrire une application Media Foundation.</span><span class="sxs-lookup"><span data-stu-id="96c26-104">If you are new to digital media, this topic introduces some concepts that you will need to understand before writing a Media Foundation application.</span></span>

-   [<span data-ttu-id="96c26-105">Flux</span><span class="sxs-lookup"><span data-stu-id="96c26-105">Streams</span></span>](#streams)
-   [<span data-ttu-id="96c26-106">Compression</span><span class="sxs-lookup"><span data-stu-id="96c26-106">Compression</span></span>](#compression)
-   [<span data-ttu-id="96c26-107">Conteneurs de médias</span><span class="sxs-lookup"><span data-stu-id="96c26-107">Media Containers</span></span>](#media-containers)
-   [<span data-ttu-id="96c26-108">Formats</span><span class="sxs-lookup"><span data-stu-id="96c26-108">Formats</span></span>](#formats)
-   [<span data-ttu-id="96c26-109">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="96c26-109">Related topics</span></span>](#related-topics)

## <a name="streams"></a><span data-ttu-id="96c26-110">Flux</span><span class="sxs-lookup"><span data-stu-id="96c26-110">Streams</span></span>

<span data-ttu-id="96c26-111">Un *flux* est une séquence de données multimédias avec un type uniforme.</span><span class="sxs-lookup"><span data-stu-id="96c26-111">A *stream* is a sequence of media data with a uniform type.</span></span> <span data-ttu-id="96c26-112">Les types les plus courants sont audio et vidéo, mais un flux peut contenir presque n’importe quel type de données, notamment du texte, des commandes de script et des images fixes.</span><span class="sxs-lookup"><span data-stu-id="96c26-112">The most common types are audio and video, but a stream can contain almost any kind of data, including text, script commands, and still images.</span></span> <span data-ttu-id="96c26-113">Le terme *flux* dans cette documentation n’implique pas la livraison sur un réseau.</span><span class="sxs-lookup"><span data-stu-id="96c26-113">The term *stream* in this documentation does not imply delivery over a network.</span></span> <span data-ttu-id="96c26-114">Un fichier multimédia destiné à la lecture locale contient également des flux.</span><span class="sxs-lookup"><span data-stu-id="96c26-114">A media file intended for local playback also contains streams.</span></span>

<span data-ttu-id="96c26-115">En règle générale, un fichier multimédia contient soit un flux audio unique, soit exactement un flux vidéo et un flux audio.</span><span class="sxs-lookup"><span data-stu-id="96c26-115">Usually, a media file contains either a single audio stream, or exactly one video stream and one audio stream.</span></span> <span data-ttu-id="96c26-116">Toutefois, un fichier multimédia peut contenir plusieurs flux du même type.</span><span class="sxs-lookup"><span data-stu-id="96c26-116">However, a media file might contain several streams of the same type.</span></span> <span data-ttu-id="96c26-117">Par exemple, un fichier vidéo peut contenir des flux audio dans différentes langues.</span><span class="sxs-lookup"><span data-stu-id="96c26-117">For example, a video file might contain audio streams in several different languages.</span></span> <span data-ttu-id="96c26-118">Au moment de l’exécution, l’application sélectionne le flux à utiliser.</span><span class="sxs-lookup"><span data-stu-id="96c26-118">At run time, the application would select which stream to use.</span></span>

## <a name="compression"></a><span data-ttu-id="96c26-119">Compression</span><span class="sxs-lookup"><span data-stu-id="96c26-119">Compression</span></span>

<span data-ttu-id="96c26-120">La *compression* fait référence à tout processus qui réduit la taille d’un flux de données en supprimant les informations redondantes.</span><span class="sxs-lookup"><span data-stu-id="96c26-120">*Compression* refers to any process that reduces the size of a data stream by removing redundant information.</span></span> <span data-ttu-id="96c26-121">Les algorithmes de compression se répartissent en deux grandes catégories :</span><span class="sxs-lookup"><span data-stu-id="96c26-121">Compression algorithms fall into two broad categories:</span></span>

-   <span data-ttu-id="96c26-122">Compression *sans perte* .</span><span class="sxs-lookup"><span data-stu-id="96c26-122">*Lossless* compression.</span></span> <span data-ttu-id="96c26-123">À l’aide d’un algorithme sans perte, les données reconstruites sont identiques à celles d’origine.</span><span class="sxs-lookup"><span data-stu-id="96c26-123">Using a lossless algorithm, the reconstructed data is identical to the original.</span></span>
-   <span data-ttu-id="96c26-124">Compression avec *perte* .</span><span class="sxs-lookup"><span data-stu-id="96c26-124">*Lossy* compression.</span></span> <span data-ttu-id="96c26-125">À l’aide d’un algorithme de perte, les données reconstruites sont une approximation de l’original, mais n’est pas une correspondance exacte.</span><span class="sxs-lookup"><span data-stu-id="96c26-125">Using a lossy algorithm, the reconstructed data is an approximation of the original, but is not an exact match.</span></span>

<span data-ttu-id="96c26-126">Dans la plupart des autres domaines, la compression avec perte n’est pas acceptable.</span><span class="sxs-lookup"><span data-stu-id="96c26-126">In most other domains, lossy compression is not acceptable.</span></span> <span data-ttu-id="96c26-127">(Imaginez la récupération d’une « approximation » d’une feuille de calcul !) Toutefois, les schémas de compression avec perte sont bien adaptés à l’audio et à la vidéo, pour plusieurs raisons.</span><span class="sxs-lookup"><span data-stu-id="96c26-127">(Imagine getting back an "approximation" of a spreadsheet!) But lossy compression schemes are well-suited to audio and video, for a couple of reasons.</span></span>

<span data-ttu-id="96c26-128">La première raison est liée à la physique de perception humaine.</span><span class="sxs-lookup"><span data-stu-id="96c26-128">The first reason has to do with the physics of human perception.</span></span> <span data-ttu-id="96c26-129">Lorsque nous écoutons un son complexe, comme un enregistrement musical, certaines des informations contenues dans ce son ne sont pas perceptibles à l’oreille.</span><span class="sxs-lookup"><span data-stu-id="96c26-129">When we listen to a complex sound, like a music recording, some of the information contained in that sound is not perceptible to the ear.</span></span> <span data-ttu-id="96c26-130">Avec l’aide de la théorie du traitement des signaux, il est possible d’analyser et de séparer les fréquences qui ne peuvent pas être perçues.</span><span class="sxs-lookup"><span data-stu-id="96c26-130">With the help of signal processing theory, it is possible to analyze and separate the frequencies that cannot be perceived.</span></span> <span data-ttu-id="96c26-131">Ces fréquences peuvent être supprimées sans effet de perception.</span><span class="sxs-lookup"><span data-stu-id="96c26-131">These frequencies can be removed with no perceptual effect.</span></span> <span data-ttu-id="96c26-132">Bien que le son reconstruit ne corresponde pas exactement à l’original, il *est le même* que celui de l’écouteur.</span><span class="sxs-lookup"><span data-stu-id="96c26-132">Although the reconstructed audio will not match the original exactly, it will *sound* the same to the listener.</span></span> <span data-ttu-id="96c26-133">Des principes similaires s’appliquent à la vidéo.</span><span class="sxs-lookup"><span data-stu-id="96c26-133">Similar principles apply to video.</span></span>

<span data-ttu-id="96c26-134">Deuxièmement, une certaine dégradation de la qualité du son ou de l’image peut être acceptable, en fonction de l’objectif prévu.</span><span class="sxs-lookup"><span data-stu-id="96c26-134">Second, some degradation in sound or image quality may be acceptable, depending on the intended purpose.</span></span> <span data-ttu-id="96c26-135">Dans la téléphonie, par exemple, l’audio est souvent fortement compressé.</span><span class="sxs-lookup"><span data-stu-id="96c26-135">In telephony, for example, audio is often highly compressed.</span></span> <span data-ttu-id="96c26-136">Le résultat est suffisamment parfait pour une conversation téléphonique, mais vous ne souhaitez pas écouter un orchestre Symphony sur un téléphone.</span><span class="sxs-lookup"><span data-stu-id="96c26-136">The result is good enough for a phone conversation—but you wouldn't want to listen to a symphony orchestra over a telephone.</span></span>

<span data-ttu-id="96c26-137">La compression est également appelée « *encodage*» et un appareil qui encode est appelé « *encodeur*».</span><span class="sxs-lookup"><span data-stu-id="96c26-137">Compression is also called *encoding*, and a device that encodes is called an *encoder*.</span></span> <span data-ttu-id="96c26-138">Le processus inverse est le *décodage* et l’appareil est un naturellement appelé *décodeur*.</span><span class="sxs-lookup"><span data-stu-id="96c26-138">The reverse process is *decoding*, and the device is a naturally called a *decoder*.</span></span> <span data-ttu-id="96c26-139">Le terme général pour les encodeurs et les décodeurs est le *codec*.</span><span class="sxs-lookup"><span data-stu-id="96c26-139">The general term for both encoders and decoders is *codec*.</span></span> <span data-ttu-id="96c26-140">Les codecs peuvent être implémentés dans le matériel ou les logiciels.</span><span class="sxs-lookup"><span data-stu-id="96c26-140">Codecs can be implemented in hardware or software.</span></span>

<span data-ttu-id="96c26-141">La technologie de compression a changé rapidement depuis l’avènement des médias numériques et un grand nombre de schémas de compression sont actuellement utilisés.</span><span class="sxs-lookup"><span data-stu-id="96c26-141">Compression technology has changed rapidly since the advent of digital media, and a large number of compression schemes are in use today.</span></span> <span data-ttu-id="96c26-142">Ce fait est l’un des principaux défis de la programmation multimédia numérique.</span><span class="sxs-lookup"><span data-stu-id="96c26-142">This fact is one of the main challenges for digital media programming.</span></span>

## <a name="media-containers"></a><span data-ttu-id="96c26-143">Conteneurs de médias</span><span class="sxs-lookup"><span data-stu-id="96c26-143">Media Containers</span></span>

<span data-ttu-id="96c26-144">Il est rare de stocker un flux audio ou vidéo brut en tant que fichier d’ordinateur, ou d’en envoyer un directement sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="96c26-144">It is rare to store a raw audio or video stream as a computer file, or to send one directly over the network.</span></span> <span data-ttu-id="96c26-145">Pour une chose, il serait impossible de décoder un tel flux, sans connaître à l’avance le codec à utiliser.</span><span class="sxs-lookup"><span data-stu-id="96c26-145">For one thing, it would be impossible to decode such a stream, without knowing in advance which codec to use.</span></span> <span data-ttu-id="96c26-146">Par conséquent, les fichiers multimédias contiennent généralement au moins certains des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="96c26-146">Therefore, media files usually contain at least some of the following elements:</span></span>

-   <span data-ttu-id="96c26-147">En-têtes de fichier qui décrivent le nombre de flux, le format de chaque flux, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="96c26-147">File headers that describe the number of streams, the format of each stream, and so on.</span></span>
-   <span data-ttu-id="96c26-148">Index qui permet l’accès aléatoire au contenu.</span><span class="sxs-lookup"><span data-stu-id="96c26-148">An index that enables random access to the content.</span></span>
-   <span data-ttu-id="96c26-149">Métadonnées qui décrivent le contenu (par exemple, l’artiste ou le titre).</span><span class="sxs-lookup"><span data-stu-id="96c26-149">Metadata that describes the content (for example, the artist or title).</span></span>
-   <span data-ttu-id="96c26-150">En-têtes de paquets, pour activer la transmission réseau ou l’accès aléatoire.</span><span class="sxs-lookup"><span data-stu-id="96c26-150">Packet headers, to enable network transmission or random access.</span></span>

<span data-ttu-id="96c26-151">Cette documentation utilise le terme *conteneur* pour décrire l’ensemble du package de flux, d’en-têtes, d’index, de métadonnées et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="96c26-151">This documentation uses the term *container* to describe the entire package of streams, headers, indexes, metadata, and so forth.</span></span> <span data-ttu-id="96c26-152">La raison de l’utilisation du terme *conteneur* plutôt que de *fichier* est que certains formats de conteneur sont conçus pour la diffusion en direct.</span><span class="sxs-lookup"><span data-stu-id="96c26-152">The reason for using the term *container* rather than *file* is that some container formats are designed for live broadcast.</span></span> <span data-ttu-id="96c26-153">Une application peut générer le conteneur en temps réel, ne jamais le stocker dans un fichier.</span><span class="sxs-lookup"><span data-stu-id="96c26-153">An application could generate the container in real time, never storing it to a file.</span></span>

<span data-ttu-id="96c26-154">Le format de fichier AVI est un exemple précoce d’un conteneur de médias.</span><span class="sxs-lookup"><span data-stu-id="96c26-154">An early example of a media container is the AVI file format.</span></span> <span data-ttu-id="96c26-155">Voici d’autres exemples : MP4 et ASF (Advanced Systems Format).</span><span class="sxs-lookup"><span data-stu-id="96c26-155">Other examples include MP4 and Advanced Systems Format (ASF).</span></span> <span data-ttu-id="96c26-156">Les conteneurs peuvent être identifiés par une extension de nom de fichier (par exemple,. MP4) ou par un type MIME.</span><span class="sxs-lookup"><span data-stu-id="96c26-156">Containers can be identified by file name extension (for example, .mp4) or by MIME type.</span></span>

<span data-ttu-id="96c26-157">Le diagramme suivant montre une structure type pour un conteneur multimédia.</span><span class="sxs-lookup"><span data-stu-id="96c26-157">The following diagram shows a typical structure for a media container.</span></span> <span data-ttu-id="96c26-158">Le diagramme ne représente pas un format spécifique. les détails de chaque format varient considérablement.</span><span class="sxs-lookup"><span data-stu-id="96c26-158">The diagram does not represent any specific format; the details of each format vary widely.</span></span>

![Diagramme montrant un conteneur multimédia classique](images/concepts01.png)

<span data-ttu-id="96c26-160">Notez que la structure affichée dans le diagramme est hiérarchique, avec des informations d’en-tête apparaissant au début du conteneur.</span><span class="sxs-lookup"><span data-stu-id="96c26-160">Notice that the structure shown in the diagram is hierarchical, with header information appearing at the start of the container.</span></span> <span data-ttu-id="96c26-161">Cette structure est typique de nombreux formats de conteneur (mais pas tous).</span><span class="sxs-lookup"><span data-stu-id="96c26-161">This structure is typical of many (but not all) container formats.</span></span> <span data-ttu-id="96c26-162">Notez également que la section Data contient des paquets audio et vidéo entrelacés.</span><span class="sxs-lookup"><span data-stu-id="96c26-162">Also notice that the data section contains interleaved audio and video packets.</span></span> <span data-ttu-id="96c26-163">Ce type d’entrelacement est courant dans les conteneurs multimédias.</span><span class="sxs-lookup"><span data-stu-id="96c26-163">This type of interleaving is common in media containers.</span></span>

<span data-ttu-id="96c26-164">Le terme *multiplexage* fait référence au processus de transmission des flux audio et vidéo et de l’entrelacement des paquets dans le conteneur.</span><span class="sxs-lookup"><span data-stu-id="96c26-164">The term *multiplexing* refers to the process of packetizing the audio and video streams and interleaving the packets into the container.</span></span> <span data-ttu-id="96c26-165">Le processus inverse, réassemblant les flux à partir des données en paquets, est appelé *démultiplexage*.</span><span class="sxs-lookup"><span data-stu-id="96c26-165">The reverse process, reassembling the streams from the packetized data, is called *demultiplexing*.</span></span>

## <a name="formats"></a><span data-ttu-id="96c26-166">Formats</span><span class="sxs-lookup"><span data-stu-id="96c26-166">Formats</span></span>

<span data-ttu-id="96c26-167">Dans les médias numériques, le *format* de terme est ambigu.</span><span class="sxs-lookup"><span data-stu-id="96c26-167">In digital media, the term *format* is ambiguous.</span></span> <span data-ttu-id="96c26-168">Un format peut faire référence au type d' *encodage*, par exemple une vidéo H. 264 ou le *conteneur*, tel que MP4.</span><span class="sxs-lookup"><span data-stu-id="96c26-168">A format can refer to the type of *encoding*, such as H.264 video, or the *container*, such as MP4.</span></span> <span data-ttu-id="96c26-169">Cette distinction est souvent déroutante pour les utilisateurs ordinaires.</span><span class="sxs-lookup"><span data-stu-id="96c26-169">This distinction is often confusing for ordinary users.</span></span> <span data-ttu-id="96c26-170">Les noms donnés aux formats multimédias ne sont pas toujours utiles.</span><span class="sxs-lookup"><span data-stu-id="96c26-170">The names given to media formats do not always help.</span></span> <span data-ttu-id="96c26-171">Par exemple, *mp3* fait référence à un format d’encodage (MPEG-1 Audio Layer 3) et à un format de fichier.</span><span class="sxs-lookup"><span data-stu-id="96c26-171">For example, *MP3* refers both to an encoding format (MPEG-1 Audio Layer 3) and a file format.</span></span>

<span data-ttu-id="96c26-172">Toutefois, la distinction est importante, car la lecture d’un fichier multimédia implique en fait deux étapes :</span><span class="sxs-lookup"><span data-stu-id="96c26-172">The distinction is important, however, because reading a media file actually involves two stages:</span></span>

1.  <span data-ttu-id="96c26-173">Tout d’abord, le conteneur doit être analysé.</span><span class="sxs-lookup"><span data-stu-id="96c26-173">First, the container must be parsed.</span></span> <span data-ttu-id="96c26-174">Dans la plupart des cas, le nombre de flux et le format de chaque flux ne peuvent pas être connus tant que cette étape n’est pas terminée.</span><span class="sxs-lookup"><span data-stu-id="96c26-174">In most cases, the number of streams and the format of each stream cannot be known until this step is complete.</span></span>
2.  <span data-ttu-id="96c26-175">Ensuite, si les flux sont compressés, ils doivent être décodés à l’aide des décodeurs appropriés.</span><span class="sxs-lookup"><span data-stu-id="96c26-175">Next, if the streams are compressed, they must be decoded using the appropriate decoders.</span></span>

<span data-ttu-id="96c26-176">Ce fait est très naturellement une conception logicielle dans laquelle des composants distincts sont utilisés pour analyser les conteneurs et décoder les flux.</span><span class="sxs-lookup"><span data-stu-id="96c26-176">This fact leads quite naturally to a software design where separate components are used to parse containers and decode streams.</span></span> <span data-ttu-id="96c26-177">En outre, cette approche se prête à un modèle de plug-in, de sorte que les tiers peuvent fournir leurs propres analyseurs et codecs.</span><span class="sxs-lookup"><span data-stu-id="96c26-177">Further, this approach lends itself to a plug-in model, so that third parties can provide their own parsers and codecs.</span></span> <span data-ttu-id="96c26-178">Sur Windows, le modèle COM (Component Object Model) fournit un moyen standard de séparer une API de son implémentation, ce qui est une condition requise pour tout modèle de plug-in.</span><span class="sxs-lookup"><span data-stu-id="96c26-178">On Windows, the Component Object Model (COM) provides a standard way to separate an API from its implementation, which is a requirement for any plug-in model.</span></span> <span data-ttu-id="96c26-179">Pour cette raison (entre autres), Media Foundation utilise des interfaces COM.</span><span class="sxs-lookup"><span data-stu-id="96c26-179">For this reason (among others), Media Foundation uses COM interfaces.</span></span>

<span data-ttu-id="96c26-180">Le diagramme suivant montre les composants utilisés pour lire un fichier multimédia :</span><span class="sxs-lookup"><span data-stu-id="96c26-180">The following diagram shows the components used to read a media file:</span></span>

![Diagramme montrant les composants pour lire un fichier multimédia](images/concepts02.png)

<span data-ttu-id="96c26-182">L’écriture d’un fichier multimédia nécessite également deux étapes :</span><span class="sxs-lookup"><span data-stu-id="96c26-182">Writing a media file also requires two steps:</span></span>

1.  <span data-ttu-id="96c26-183">Encodage des données audio/vidéo non compressées.</span><span class="sxs-lookup"><span data-stu-id="96c26-183">Encoding the uncompressed audio/video data.</span></span>
2.  <span data-ttu-id="96c26-184">Placer les données compressées dans un format de conteneur particulier.</span><span class="sxs-lookup"><span data-stu-id="96c26-184">Putting the compressed data into a particular container format.</span></span>

<span data-ttu-id="96c26-185">Le diagramme suivant montre les composants utilisés pour écrire un fichier multimédia :</span><span class="sxs-lookup"><span data-stu-id="96c26-185">The following diagram shows the components used to write a media file:</span></span>

![Diagramme montrant les composants pour l’écriture d’un fichier multimédia.](images/concepts03.png)

## <a name="related-topics"></a><span data-ttu-id="96c26-187">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="96c26-187">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="96c26-188">Guide de programmation Media Foundation</span><span class="sxs-lookup"><span data-stu-id="96c26-188">Media Foundation Programming Guide</span></span>](media-foundation-programming-guide.md)
</dt> </dl>

 

 



