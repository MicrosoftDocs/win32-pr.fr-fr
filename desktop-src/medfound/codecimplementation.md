---
description: Implémentation du codec.
ms.assetid: 5ec23f95-cc7d-4c16-979a-f1d2cc485bb0
title: Implémentation de codec
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 201c0cb46fc61f117c9b45d059b102560986d5b7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103861825"
---
# <a name="codec-implementation"></a><span data-ttu-id="b25c0-103">Implémentation de codec</span><span class="sxs-lookup"><span data-stu-id="b25c0-103">Codec implementation</span></span>

<span data-ttu-id="b25c0-104">Les codecs vidéo et Windows Media Audio sont implémentés en tant qu’objets COM.</span><span class="sxs-lookup"><span data-stu-id="b25c0-104">The Windows Media Audio and Video codecs are implemented as COM objects.</span></span> <span data-ttu-id="b25c0-105">En règle générale, un codec est implémenté en tant que paire d’objets COM : un pour l’encodeur et un pour le décodeur.</span><span class="sxs-lookup"><span data-stu-id="b25c0-105">Typically, a codec is implemented as a pair of COM objects: one for the encoder and one for the decoder.</span></span> <span data-ttu-id="b25c0-106">L’encodeur a un identificateur de classe (CLSID) et le décodeur a un CLSID différent.</span><span class="sxs-lookup"><span data-stu-id="b25c0-106">The encoder has a class identifier (CLSID) and the decoder has a different CLSID.</span></span> <span data-ttu-id="b25c0-107">Par exemple, la partie encodeur du codec Windows Media Audio 9 a un CLSID représenté par la constante **CLSID \_ CWMAEncMediaObject**, et la partie décodeur de ce même codec a un CLSID représenté par la constante **CLSID \_ CWMADecMediaObject**.</span><span class="sxs-lookup"><span data-stu-id="b25c0-107">For example, the encoder portion of the Windows Media Audio 9 codec has a CLSID represented by the constant **CLSID\_CWMAEncMediaObject**, and the decoder portion of that same codec has a CLSID represented by the constant **CLSID\_CWMADecMediaObject**.</span></span>

<span data-ttu-id="b25c0-108">Dans certains cas, plusieurs encodeurs sont inclus dans un seul objet COM.</span><span class="sxs-lookup"><span data-stu-id="b25c0-108">In some cases, more than one encoder is included in a single COM object.</span></span> <span data-ttu-id="b25c0-109">Par exemple, l’encodeur Windows Media Video 9 et l’encodeur Windows Media Video 9,1 font tous deux partie du même objet COM.</span><span class="sxs-lookup"><span data-stu-id="b25c0-109">For example, the Windows Media Video 9 encoder and the Windows Media Video 9.1 encoder are both part of the same COM object.</span></span> <span data-ttu-id="b25c0-110">Par conséquent, elles ont toutes les deux le même CLSID, qui est représenté par la constante **CLSID \_ CWMV9EncMediaObject**.</span><span class="sxs-lookup"><span data-stu-id="b25c0-110">Consequently, they both have the same CLSID, which is represented by the constant **CLSID\_CWMV9EncMediaObject**.</span></span> <span data-ttu-id="b25c0-111">De même, certains objets COM incluent plus d’un décodeur.</span><span class="sxs-lookup"><span data-stu-id="b25c0-111">Similarly, some COM objects include more than one decoder.</span></span>

<span data-ttu-id="b25c0-112">Chaque objet encodeur ou décodeur expose l’interface [**IMediaObject**](/previous-versions/ms785953%28v%3dvs.85%29) afin que l’objet puisse être utilisé en tant qu’objet de média DirectX (DMO) et l’interface [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) afin que l’objet puisse être utilisé en tant que transformation de Media Foundation (MFT).</span><span class="sxs-lookup"><span data-stu-id="b25c0-112">Each encoder or decoder object exposes the [**IMediaObject**](/previous-versions/ms785953%28v%3dvs.85%29) interface so that the object can be used as a DirectX Media Object (DMO) and the [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) interface so that the object can be used as a Media Foundation Transform (MFT).</span></span>

<span data-ttu-id="b25c0-113">Pour la plupart des encodeurs, que vous utilisiez ou non l’encodeur comme DMO ou MFT, vous utilisez le même CLSID pour créer une instance de l’encodeur.</span><span class="sxs-lookup"><span data-stu-id="b25c0-113">For most encoders, regardless of whether you use the encoder as a DMO or an MFT, you use the same CLSID to create an instance of the encoder.</span></span> <span data-ttu-id="b25c0-114">Par exemple, pour créer une instance de l’encodeur Windows Media Video 9, vous utilisez le **CLSID \_ CWMV9EncMediaObject**, que vous souhaitiez utiliser l’encodeur comme DMO ou MFT.</span><span class="sxs-lookup"><span data-stu-id="b25c0-114">For example, to create an instance of the Windows Media Video 9 encoder, you use **CLSID\_CWMV9EncMediaObject**, regardless of whether you intend to use the encoder as a DMO or an MFT.</span></span> <span data-ttu-id="b25c0-115">De même, pour la plupart des décodeurs, chaque décodeur a un seul CLSID, que vous utilisiez ou non le décodeur comme DMO ou MFT.</span><span class="sxs-lookup"><span data-stu-id="b25c0-115">Similarly, for most decoders, each decoder has a single CLSID regardless of whether you use the decoder as a DMO or an MFT.</span></span>

> [!Note]  
> <span data-ttu-id="b25c0-116">Il existe quelques exceptions à l’instruction précédente sur l’utilisation d’un CLSID unique à la fois pour DMO et la table MFT.</span><span class="sxs-lookup"><span data-stu-id="b25c0-116">There are some exceptions to the preceding statement about using a single CLSID for both the DMO and the MFT.</span></span> <span data-ttu-id="b25c0-117">Par exemple, le décodeur MPEG-4 part 2 possède un CLSID lorsqu’il agit comme DMO et un CLSID différent lorsqu’il agit en tant que MFT.</span><span class="sxs-lookup"><span data-stu-id="b25c0-117">For example, the MPEG-4 Part 2 decoder has one CLSID when it is acting as a DMO and a different CLSID when it is acting as an MFT.</span></span>

 

<span data-ttu-id="b25c0-118">Outre les interfaces de base, chaque objet encodeur ou décodeur implémente deux interfaces similaires pour l’utilisation des propriétés de codec, **IPropertyBag** et **IPropertyStore**.</span><span class="sxs-lookup"><span data-stu-id="b25c0-118">In addition to the core interfaces, each encoder or decoder object implements two similar interfaces for working with codec properties, **IPropertyBag** and **IPropertyStore**.</span></span> <span data-ttu-id="b25c0-119">Les versions antérieures des objets encodeur et décodeur utilisaient **IPropertyBag**, qui identifie chaque propriété par une valeur de chaîne contenant un nom de propriété.</span><span class="sxs-lookup"><span data-stu-id="b25c0-119">Older versions of the encoder and decoder objects used **IPropertyBag**, which identifies each property by a string value containing a property name.</span></span> <span data-ttu-id="b25c0-120">**IPropertyStore** est une interface plus récente qui identifie les propriétés avec une valeur de clé de propriété unique.</span><span class="sxs-lookup"><span data-stu-id="b25c0-120">**IPropertyStore** is a newer interface that identifies properties with a unique property key value.</span></span> <span data-ttu-id="b25c0-121">La prise en charge de **IPropertyStore** a été ajoutée pour assurer la prise en charge de MFTS.</span><span class="sxs-lookup"><span data-stu-id="b25c0-121">Support for **IPropertyStore** was added to provide support for MFTs.</span></span> <span data-ttu-id="b25c0-122">La plupart des chaînes de nom de propriété **IPropertyBag** ont un GUID de clé de propriété **IPropertyStore** correspondant et la plupart des GUID ont une chaîne de nom **IPropertyBag** correspondante, à quelques exceptions près.</span><span class="sxs-lookup"><span data-stu-id="b25c0-122">Most **IPropertyBag** property name strings have a corresponding **IPropertyStore** property key GUID and most of the GUIDs have a corresponding **IPropertyBag** name string, with a few exceptions.</span></span>

<span data-ttu-id="b25c0-123">Cette documentation répertorie les propriétés par constante de clé de propriété, mais chaque entrée comprend la constante de chaîne de nom de propriété pour une utilisation avec **IPropertyBag** , le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="b25c0-123">This documentation lists the properties by property key constant, but each entry includes the property-name string constant for use with **IPropertyBag** when appropriate.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b25c0-124">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="b25c0-124">Related topics</span></span>

[<span data-ttu-id="b25c0-125">Codecs Windows Media</span><span class="sxs-lookup"><span data-stu-id="b25c0-125">Windows Media Codecs</span></span>](windows-media-codecs.md)
