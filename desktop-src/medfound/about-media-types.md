---
description: À propos des types de média
ms.assetid: 169cdb00-0c1a-4530-90b7-bc89c71d1d04
title: À propos des types de média (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca1ee75979c5c382e7e4ea458655efb83435a22d
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/03/2021
ms.locfileid: "103953343"
---
# <a name="about-media-types-microsoft-media-foundation"></a><span data-ttu-id="7b306-103">À propos des types de média (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="7b306-103">About Media Types (Microsoft Media Foundation)</span></span>

<span data-ttu-id="7b306-104">Un *type de média* décrit le format d’un flux multimédia.</span><span class="sxs-lookup"><span data-stu-id="7b306-104">A *media type* describes the format of a media stream.</span></span> <span data-ttu-id="7b306-105">Dans Microsoft Media Foundation, les types de média sont représentés par l’interface [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) .</span><span class="sxs-lookup"><span data-stu-id="7b306-105">In Microsoft Media Foundation, media types are represented by the [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) interface.</span></span> <span data-ttu-id="7b306-106">Cette interface hérite de l’interface [**IMFAttributes**](/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes) .</span><span class="sxs-lookup"><span data-stu-id="7b306-106">This interface inherits the [**IMFAttributes**](/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes) interface.</span></span> <span data-ttu-id="7b306-107">Les détails d’un type de média sont spécifiés en tant qu’attributs.</span><span class="sxs-lookup"><span data-stu-id="7b306-107">The details of a media type are specified as attributes.</span></span>

<span data-ttu-id="7b306-108">Pour créer un type de média, appelez la fonction [**MFCreateMediaType**](/windows/desktop/api/mfapi/nf-mfapi-mfcreatemediatype) .</span><span class="sxs-lookup"><span data-stu-id="7b306-108">To create a new media type, call the [**MFCreateMediaType**](/windows/desktop/api/mfapi/nf-mfapi-mfcreatemediatype) function.</span></span> <span data-ttu-id="7b306-109">Cette fonction retourne un pointeur vers l’interface [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) .</span><span class="sxs-lookup"><span data-stu-id="7b306-109">This function returns a pointer to the [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) interface.</span></span> <span data-ttu-id="7b306-110">Initialement, le type de média n’a pas d’attribut.</span><span class="sxs-lookup"><span data-stu-id="7b306-110">The media type initially has no attributes.</span></span> <span data-ttu-id="7b306-111">Pour définir les détails du format, définissez les attributs appropriés.</span><span class="sxs-lookup"><span data-stu-id="7b306-111">To set the details of the format, set the relevant attributes.</span></span>

<span data-ttu-id="7b306-112">Pour obtenir la liste des attributs de type de média, consultez [attributs de type de média](media-type-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="7b306-112">For a list of media type attributes, see [Media Type Attributes](media-type-attributes.md).</span></span>

## <a name="major-types-and-subtypes"></a><span data-ttu-id="7b306-113">Types et sous-types principaux</span><span class="sxs-lookup"><span data-stu-id="7b306-113">Major Types and Subtypes</span></span>

<span data-ttu-id="7b306-114">Deux informations importantes relatives à un type de support sont le type principal et le sous-type.</span><span class="sxs-lookup"><span data-stu-id="7b306-114">Two important pieces of information for any media type are the major type and the subtype.</span></span>

-   <span data-ttu-id="7b306-115">Le *type principal* est un GUID qui définit la catégorie globale des données dans un flux de données multimédia.</span><span class="sxs-lookup"><span data-stu-id="7b306-115">The *major type* is a GUID that defines the overall category of the data in a media stream.</span></span> <span data-ttu-id="7b306-116">Les types principaux incluent la vidéo et l’audio.</span><span class="sxs-lookup"><span data-stu-id="7b306-116">Major types include video and audio.</span></span> <span data-ttu-id="7b306-117">Pour spécifier le type principal, définissez l’attribut de [ \_ \_ \_ type principal MF MT](mf-mt-major-type-attribute.md) .</span><span class="sxs-lookup"><span data-stu-id="7b306-117">To specify the major type, set the [MF\_MT\_MAJOR\_TYPE](mf-mt-major-type-attribute.md) attribute.</span></span> <span data-ttu-id="7b306-118">La méthode [**IMFMediaType :: GetMajorType**](/windows/desktop/api/mfobjects/nf-mfobjects-imfmediatype-getmajortype) retourne la valeur de cet attribut.</span><span class="sxs-lookup"><span data-stu-id="7b306-118">The [**IMFMediaType::GetMajorType**](/windows/desktop/api/mfobjects/nf-mfobjects-imfmediatype-getmajortype) method returns the value of this attribute.</span></span>
-   <span data-ttu-id="7b306-119">Le *sous-type* définit davantage le format.</span><span class="sxs-lookup"><span data-stu-id="7b306-119">The *subtype* further defines the format.</span></span> <span data-ttu-id="7b306-120">Par exemple, dans le type principal vidéo, il existe des sous-types pour RGB-24, RGB-32, YUY2, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="7b306-120">For example, within the video major type, there are subtypes for RGB-24, RGB-32, YUY2, and so forth.</span></span> <span data-ttu-id="7b306-121">Dans l’audio, il y a des données audio PCM, des données audio à virgule flottante IEEE et d’autres.</span><span class="sxs-lookup"><span data-stu-id="7b306-121">Within audio, there are PCM audio, IEEE floating-point audio, and others.</span></span> <span data-ttu-id="7b306-122">Le sous-type fournit plus d’informations que le type principal, mais il ne définit pas tout ce qui concerne le format.</span><span class="sxs-lookup"><span data-stu-id="7b306-122">The subtype provides more information than the major type, but it does not define everything about the format.</span></span> <span data-ttu-id="7b306-123">Par exemple, les sous-types vidéo ne définissent pas la taille de l’image ni la fréquence d’images.</span><span class="sxs-lookup"><span data-stu-id="7b306-123">For example, video subtypes do not define the image size or the frame rate.</span></span> <span data-ttu-id="7b306-124">Pour spécifier le sous-type, définissez l’attribut de [ \_ sous- \_ type MF MT](mf-mt-subtype-attribute.md) .</span><span class="sxs-lookup"><span data-stu-id="7b306-124">To specify the subtype, set the [MF\_MT\_SUBTYPE](mf-mt-subtype-attribute.md) attribute.</span></span>

<span data-ttu-id="7b306-125">Tous les types de média doivent avoir un GUID de type principal et un GUID de sous-type.</span><span class="sxs-lookup"><span data-stu-id="7b306-125">All media types should have a major type GUID and a subtype GUID.</span></span> <span data-ttu-id="7b306-126">Pour obtenir la liste des principaux GUID de type et de sous-type, consultez [GUID type Media](media-type-guids.md).</span><span class="sxs-lookup"><span data-stu-id="7b306-126">For a list of major type and subtype GUIDs, see [Media Type GUIDs](media-type-guids.md).</span></span>

## <a name="why-attributes"></a><span data-ttu-id="7b306-127">Pourquoi des attributs ?</span><span class="sxs-lookup"><span data-stu-id="7b306-127">Why Attributes?</span></span>

<span data-ttu-id="7b306-128">Les attributs présentent plusieurs avantages par rapport aux structures de format qui ont été utilisés dans les technologies précédentes telles que DirectShow et le kit de développement logiciel (SDK) du format Windows Media.</span><span class="sxs-lookup"><span data-stu-id="7b306-128">Attributes have several advantages over the format structures that have been used in previous technologies such as DirectShow and the Windows Media Format SDK.</span></span>

-   <span data-ttu-id="7b306-129">Il est plus facile de représenter les valeurs « ne sais pas » ou « ne pas se soucier ».</span><span class="sxs-lookup"><span data-stu-id="7b306-129">It is easier to represent "don't know" or "don't care" values.</span></span> <span data-ttu-id="7b306-130">Par exemple, si vous écrivez une transformation vidéo, vous savez peut-être à l’avance quels sont les formats RVB et YUV que la transformation prend en charge, mais pas les dimensions de la trame vidéo, jusqu’à ce que vous les obteniez de la source vidéo.</span><span class="sxs-lookup"><span data-stu-id="7b306-130">For example, if you are writing a video transform, you might know in advance which RGB and YUV formats the transform supports, but not the dimensions of the video frame, until you get them from the video source.</span></span> <span data-ttu-id="7b306-131">De même, vous risquez de ne pas vous soucier de certains détails, tels que les vidéos primaires.</span><span class="sxs-lookup"><span data-stu-id="7b306-131">Similarly, you might not care about certain details, such as the video primaries.</span></span> <span data-ttu-id="7b306-132">Avec une structure de format, chaque membre doit être rempli avec une *certaine* valeur.</span><span class="sxs-lookup"><span data-stu-id="7b306-132">With a format structure, every member must be filled with *some* value.</span></span> <span data-ttu-id="7b306-133">Par conséquent, il est devenu courant d’utiliser zéro pour indiquer une valeur inconnue ou par défaut.</span><span class="sxs-lookup"><span data-stu-id="7b306-133">As a result, it has become common to use zero to indicate an unknown or default value.</span></span> <span data-ttu-id="7b306-134">Cette pratique peut provoquer des erreurs si un autre composant traite zéro comme une valeur légitime.</span><span class="sxs-lookup"><span data-stu-id="7b306-134">This practice can cause errors if another component treats zero as a legitimate value.</span></span> <span data-ttu-id="7b306-135">Avec les attributs, il vous suffit d’omettre les attributs qui sont inconnus ou non pertinents pour votre composant.</span><span class="sxs-lookup"><span data-stu-id="7b306-135">With attributes, you simply omit the attributes that are unknown or not relevant to your component.</span></span>

-   <span data-ttu-id="7b306-136">À mesure que les spécifications ont évolué au fil du temps, les structures de format ont été étendues en ajoutant des données supplémentaires à la fin de la structure.</span><span class="sxs-lookup"><span data-stu-id="7b306-136">As requirements have changed over time, format structures were extended by adding additional data at the end of the structure.</span></span> <span data-ttu-id="7b306-137">Par exemple, **WAVEFORMATEXTENSIBLE** étend la structure **WAVEFORMATEX** .</span><span class="sxs-lookup"><span data-stu-id="7b306-137">For example, **WAVEFORMATEXTENSIBLE** extends the **WAVEFORMATEX** structure.</span></span> <span data-ttu-id="7b306-138">Cette pratique est sujette à une erreur, car les composants doivent convertir les pointeurs de structure en d’autres types de structure.</span><span class="sxs-lookup"><span data-stu-id="7b306-138">This practice is prone to error, because components must cast structure pointers to other structure types.</span></span> <span data-ttu-id="7b306-139">Les attributs peuvent être étendus en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="7b306-139">Attributes can be extended safely.</span></span>
-   <span data-ttu-id="7b306-140">Des structures de format mutuellement incompatibles ont été définies.</span><span class="sxs-lookup"><span data-stu-id="7b306-140">Mutually incompatible format structures have been defined.</span></span> <span data-ttu-id="7b306-141">Par exemple, DirectShow définit les structures **VIDEOINFOHEADER** et **VIDEOINFOHEADER2** .</span><span class="sxs-lookup"><span data-stu-id="7b306-141">For example, DirectShow defines the **VIDEOINFOHEADER** and **VIDEOINFOHEADER2** structures.</span></span> <span data-ttu-id="7b306-142">Les attributs étant définis indépendamment l’un de l’autre, ce problème ne se pose pas.</span><span class="sxs-lookup"><span data-stu-id="7b306-142">Attributes are set independently of each other, so this problem does not arise.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7b306-143">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="7b306-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7b306-144">Attributs du type de média</span><span class="sxs-lookup"><span data-stu-id="7b306-144">Media Type Attributes</span></span>](media-type-attributes.md)
</dt> <dt>

[<span data-ttu-id="7b306-145">Types de médias</span><span class="sxs-lookup"><span data-stu-id="7b306-145">Media Types</span></span>](media-types.md)
</dt> </dl>

 

 



