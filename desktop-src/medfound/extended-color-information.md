---
description: Informations sur les couleurs étendues
ms.assetid: 05ca73c6-d105-47bc-96bc-b784f669febe
title: Informations sur les couleurs étendues
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 29ba43180a0f1e5253540088c1638f59d52380c9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103749244"
---
# <a name="extended-color-information"></a><span data-ttu-id="79532-103">Informations sur les couleurs étendues</span><span class="sxs-lookup"><span data-stu-id="79532-103">Extended Color Information</span></span>

<span data-ttu-id="79532-104">Si vous avez des informations sur la couleur RVB, vous savez que (255, 255, 255) est l’triplet RVB 8 bits pour la couleur *blanche*.</span><span class="sxs-lookup"><span data-stu-id="79532-104">If you know anything about RGB color, you know that (255, 255, 255) is the 8-bit RGB triplet for the color *white*.</span></span> <span data-ttu-id="79532-105">Mais quelle est la *couleur* réelle définie par cet triplet ?</span><span class="sxs-lookup"><span data-stu-id="79532-105">But what is the actual *color* defined by this triplet?</span></span>

<span data-ttu-id="79532-106">La réponse peut être surprenant : sans informations supplémentaires, cet triplet ne définit pas de couleur particulière.</span><span class="sxs-lookup"><span data-stu-id="79532-106">The answer may be surprising: Without some additional information, this triplet does not define any particular color!</span></span> <span data-ttu-id="79532-107">La signification de toute valeur RVB dépend de l' *espace colorimétrique*.</span><span class="sxs-lookup"><span data-stu-id="79532-107">The meaning of any RGB value depends on the *color space*.</span></span> <span data-ttu-id="79532-108">Si vous ne connaissez pas l’espace colorimétrique, vous ne connaissez pas la couleur.</span><span class="sxs-lookup"><span data-stu-id="79532-108">If we don't know the color space, then strictly speaking we don't know the color.</span></span>

<span data-ttu-id="79532-109">Un espace colorimétrique définit la manière dont la représentation numérique d’une valeur de couleur donnée doit être reproduite comme lumière physique.</span><span class="sxs-lookup"><span data-stu-id="79532-109">A color space defines how the numeric representation of a given color value should be reproduced as physical light.</span></span> <span data-ttu-id="79532-110">Lorsque la vidéo est encodée dans un espace de couleurs, mais qu’elle est affichée dans une autre, les couleurs sont déformées, sauf si la vidéo est corrigée en couleurs.</span><span class="sxs-lookup"><span data-stu-id="79532-110">When video is encoded in one color space but is displayed in another, it results in distorted colors, unless the video is color-corrected.</span></span> <span data-ttu-id="79532-111">Pour obtenir une fidélité des couleurs précise, il est donc essentiel de connaître l’espace colorimétrique de la vidéo source.</span><span class="sxs-lookup"><span data-stu-id="79532-111">To achieve accurate color fidelity, therefore, it is crucial to know the color space of the source video.</span></span> <span data-ttu-id="79532-112">Auparavant, le pipeline vidéo de Windows ne contenait pas d’informations sur l’espace de couleurs prévu.</span><span class="sxs-lookup"><span data-stu-id="79532-112">Previously, the video pipeline in Windows did not carry information about the intended color space.</span></span> <span data-ttu-id="79532-113">À partir de Windows Vista, DirectShow et Media Foundation prennent en charge des informations de couleur étendues dans le type de média.</span><span class="sxs-lookup"><span data-stu-id="79532-113">Starting in Windows Vista, both DirectShow and Media Foundation support extended color information in the media type.</span></span> <span data-ttu-id="79532-114">Ces informations sont également disponibles pour DirectX Video Acceleration (DXVA).</span><span class="sxs-lookup"><span data-stu-id="79532-114">This information is also available for DirectX Video Acceleration (DXVA).</span></span>

<span data-ttu-id="79532-115">La méthode standard pour décrire un espace colorimétrique mathématique consiste à utiliser l’espace de couleurs CIE XYZ, défini par la Commission internationale sur l’éclairage (CIE).</span><span class="sxs-lookup"><span data-stu-id="79532-115">The standard way to describe a color space mathematically is to use the CIE XYZ color space, defined by the International Commission on Illumination (CIE).</span></span> <span data-ttu-id="79532-116">Il n’est pas pratique d’utiliser les valeurs CIE XYZ directement dans la vidéo, mais l’espace de couleurs CIE XYZ peut être utilisé comme représentation intermédiaire lors de la conversion d’espaces de couleurs.</span><span class="sxs-lookup"><span data-stu-id="79532-116">It is not practical to use CIE XYZ values directly in video, but the CIE XYZ color space can be used as an intermediate representation when converting between color spaces.</span></span>

<span data-ttu-id="79532-117">Pour reproduire les couleurs avec précision, les informations suivantes sont nécessaires :</span><span class="sxs-lookup"><span data-stu-id="79532-117">To reproduce colors accurately, the following information is needed:</span></span>

-   <span data-ttu-id="79532-118">Couleurs primaires.</span><span class="sxs-lookup"><span data-stu-id="79532-118">Color primaries.</span></span> <span data-ttu-id="79532-119">Les couleurs primaires définissent la façon dont les valeurs de tristimulus CIE XYZ sont représentées en tant que composants RVB.</span><span class="sxs-lookup"><span data-stu-id="79532-119">The color primaries define how CIE XYZ tristimulus values are represented as RGB components.</span></span> <span data-ttu-id="79532-120">En effet, les couleurs primaires définissent la « signification » d’une valeur RVB donnée.</span><span class="sxs-lookup"><span data-stu-id="79532-120">In effect, the color primaries define the "meaning" of a given RGB value.</span></span>
-   <span data-ttu-id="79532-121">Fonction de transfert.</span><span class="sxs-lookup"><span data-stu-id="79532-121">Transfer function.</span></span> <span data-ttu-id="79532-122">La fonction de transfert est une fonction qui convertit les valeurs RGB linéaires en valeurs R’G’B non linéaires.</span><span class="sxs-lookup"><span data-stu-id="79532-122">The transfer function is a function that converts linear RGB values to non-linear R'G'B' values.</span></span> <span data-ttu-id="79532-123">Cette fonction est également appelée *correction gamma*.</span><span class="sxs-lookup"><span data-stu-id="79532-123">This function is also called *gamma correction*.</span></span>
-   <span data-ttu-id="79532-124">Matrice de transfert.</span><span class="sxs-lookup"><span data-stu-id="79532-124">Transfer matrix.</span></span> <span data-ttu-id="79532-125">La matrice de transfert définit la façon dont R’G’B est converti en Y’PbPr.</span><span class="sxs-lookup"><span data-stu-id="79532-125">The transfer matrix defines how R'G'B' is converted to Y'PbPr.</span></span>
-   <span data-ttu-id="79532-126">Échantillonnage Chroma.</span><span class="sxs-lookup"><span data-stu-id="79532-126">Chroma sampling.</span></span> <span data-ttu-id="79532-127">La plupart des vidéos YUV sont transmises avec moins de résolution dans les composants de chrominance que la luminance.</span><span class="sxs-lookup"><span data-stu-id="79532-127">Most YUV video is transmitted with less resolution in the chroma components than the luma.</span></span> <span data-ttu-id="79532-128">L’échantillonnage Chroma est indiqué par le FOURCC du format vidéo.</span><span class="sxs-lookup"><span data-stu-id="79532-128">Chroma sampling is indicated by the FOURCC of the video format.</span></span> <span data-ttu-id="79532-129">Par exemple, YUY2 est un format 4:2:2, ce qui signifie que les échantillons de chrominance sont échantillonnés horizontalement par un facteur de 2.</span><span class="sxs-lookup"><span data-stu-id="79532-129">For example, YUY2 is a 4:2:2 format, meaning the chroma samples are sampled horizontally by a factor of 2.</span></span>
-   <span data-ttu-id="79532-130">Emplacement de chrominance.</span><span class="sxs-lookup"><span data-stu-id="79532-130">Chroma siting.</span></span> <span data-ttu-id="79532-131">Lorsque la chrominance est échantillonnée, la position des échantillons de chrominance par rapport aux échantillons de luminance détermine la façon dont les échantillons manquants doivent être interpolés.</span><span class="sxs-lookup"><span data-stu-id="79532-131">When the chroma is sampled, the position of the chroma samples relative to the luma samples determines how the missing samples should be interpolated.</span></span>
-   <span data-ttu-id="79532-132">Plage nominale.</span><span class="sxs-lookup"><span data-stu-id="79532-132">Nominal range.</span></span> <span data-ttu-id="79532-133">La plage nominale définit le mode de mise à l’échelle des valeurs Y’PbPr vers Y’CbCr.</span><span class="sxs-lookup"><span data-stu-id="79532-133">The nominal range defines how Y'PbPr values are scaled to Y'CbCr.</span></span>

## <a name="color-space-in-media-types"></a><span data-ttu-id="79532-134">Espace colorimétrique dans les types de média</span><span class="sxs-lookup"><span data-stu-id="79532-134">Color Space in Media Types</span></span>

<span data-ttu-id="79532-135">DirectShow, Media Foundation et DirectX Video Acceleration (DXVA) ont tous des moyens différents pour représenter les formats vidéo.</span><span class="sxs-lookup"><span data-stu-id="79532-135">DirectShow, Media Foundation, and DirectX Video Acceleration (DXVA) all have different ways to represent video formats.</span></span> <span data-ttu-id="79532-136">Heureusement, il est facile de convertir les informations d’espace de couleurs d’une à l’autre, car les énumérations pertinentes sont les mêmes.</span><span class="sxs-lookup"><span data-stu-id="79532-136">Fortunately, it is easy to translate the color-space information from one to another, because the relevant enumerations are the same.</span></span>

-   <span data-ttu-id="79532-137">DXVA 1,0 : les informations sur l’espace colorimétrique sont fournies dans la structure [**DXVA \_ ExtendedFormat**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_extendedformat) .</span><span class="sxs-lookup"><span data-stu-id="79532-137">DXVA 1.0: Color-space information is given in the [**DXVA\_ExtendedFormat**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_extendedformat) structure.</span></span>
-   <span data-ttu-id="79532-138">DXVA 2,0 : les informations sur l’espace colorimétrique sont fournies dans la structure de la structure [**DXVA2 \_ ExtendedFormat**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_extendedformat) .</span><span class="sxs-lookup"><span data-stu-id="79532-138">DXVA 2.0: Color-space information is given in the [**DXVA2\_ExtendedFormat**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_extendedformat) structure structure.</span></span> <span data-ttu-id="79532-139">Cette structure est identique à la structure DXVA 1,0, et la signification des champs est la même.</span><span class="sxs-lookup"><span data-stu-id="79532-139">This structure is identical to the DXVA 1.0 structure, and the meaning of the fields is the same.</span></span>
-   <span data-ttu-id="79532-140">DirectShow : les informations sur l’espace colorimétrique sont fournies dans la structure [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) .</span><span class="sxs-lookup"><span data-stu-id="79532-140">DirectShow: Color-space information is given in the [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) structure.</span></span> <span data-ttu-id="79532-141">Les informations sont stockées dans les 24 bits supérieurs du champ **dwControlFlags** .</span><span class="sxs-lookup"><span data-stu-id="79532-141">The information is stored in the upper 24 bits of the **dwControlFlags** field.</span></span> <span data-ttu-id="79532-142">Si des informations sur l’espace colorimétrique sont présentes, définissez l’indicateur **AMCONTROL \_ COLORINFO \_ present** dans **dwControlFlags**.</span><span class="sxs-lookup"><span data-stu-id="79532-142">If color-space information is present, set the **AMCONTROL\_COLORINFO\_PRESENT** flag in **dwControlFlags**.</span></span> <span data-ttu-id="79532-143">Lorsque cet indicateur est défini, le champ **dwControlFlags** doit être interprété comme une [**structure \_ ExtendedFormat DXVA**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_extendedformat) , sauf que les 8 bits inférieurs de la structure sont réservés pour les indicateurs **AMCONTROL \_ xxx** .</span><span class="sxs-lookup"><span data-stu-id="79532-143">When this flag is set, the **dwControlFlags** field should be interpreted as a [**DXVA\_ExtendedFormat**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_extendedformat) structure, except that the lower 8 bits of the structure are reserved for **AMCONTROL\_xxx** flags.</span></span>
-   <span data-ttu-id="79532-144">Pilotes de capture vidéo : les informations sur l’espace colorimétrique sont fournies dans la structure [**\_ VIDEOINFOHEADER2 KS**](/windows-hardware/drivers/ddi/ksmedia/ns-ksmedia-tagks_videoinfoheader2) .</span><span class="sxs-lookup"><span data-stu-id="79532-144">Video capture drivers: Color-space information is given in the [**KS\_VIDEOINFOHEADER2**](/windows-hardware/drivers/ddi/ksmedia/ns-ksmedia-tagks_videoinfoheader2) structure.</span></span> <span data-ttu-id="79532-145">Cette structure est identique à la structure [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) , et la signification des champs est la même.</span><span class="sxs-lookup"><span data-stu-id="79532-145">This structure is identical to the [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) structure, and the meaning of the fields is the same.</span></span>
-   <span data-ttu-id="79532-146">Media Foundation : les informations d’espace colorimétrique sont stockées en tant qu’attributs dans le type de média :</span><span class="sxs-lookup"><span data-stu-id="79532-146">Media Foundation: Color-space information is stored as attributes in the media type:</span></span>

    

    | <span data-ttu-id="79532-147">Informations de couleur</span><span class="sxs-lookup"><span data-stu-id="79532-147">Color information</span></span>  | <span data-ttu-id="79532-148">Attribut</span><span class="sxs-lookup"><span data-stu-id="79532-148">Attribute</span></span>                                                                                                                                                   |
    |--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="79532-149">Couleurs primaires</span><span class="sxs-lookup"><span data-stu-id="79532-149">Color primaries</span></span>    | [<span data-ttu-id="79532-150">**\_vidéos de \_ \_ réamorçage de la vidéo MF**</span><span class="sxs-lookup"><span data-stu-id="79532-150">**MF\_MT\_VIDEO\_PRIMARIES**</span></span>](mf-mt-video-primaries-attribute.md)                                                                                         |
    | <span data-ttu-id="79532-151">Fonction de transfert</span><span class="sxs-lookup"><span data-stu-id="79532-151">Transfer function</span></span>  | [<span data-ttu-id="79532-152">**\_fonction de \_ transfert MF-MF \_**</span><span class="sxs-lookup"><span data-stu-id="79532-152">**MF\_MT\_TRANSFER\_FUNCTION**</span></span>](mf-mt-transfer-function-attribute.md)                                                                                     |
    | <span data-ttu-id="79532-153">Matrice de transfert</span><span class="sxs-lookup"><span data-stu-id="79532-153">Transfer matrix</span></span>    | [<span data-ttu-id="79532-154">**\_ \_ matrice YUV MT \_ YUV**</span><span class="sxs-lookup"><span data-stu-id="79532-154">**MF\_MT\_YUV\_MATRIX**</span></span>](mf-mt-yuv-matrix-attribute.md)                                                                                                   |
    | <span data-ttu-id="79532-155">Sous-échantillonnage de chrominance</span><span class="sxs-lookup"><span data-stu-id="79532-155">Chroma subsampling</span></span> | [<span data-ttu-id="79532-156">**\_sous- \_ type MF MT**</span><span class="sxs-lookup"><span data-stu-id="79532-156">**MF\_MT\_SUBTYPE**</span></span>](mf-mt-subtype-attribute.md)<br/> <span data-ttu-id="79532-157">(Fourni par le FOURCC, qui est stocké dans le premier **DWORD** du GUID de sous-type.)</span><span class="sxs-lookup"><span data-stu-id="79532-157">(Given by the FOURCC, which is stored in the first **DWORD** of the subtype GUID.)</span></span><br/> |
    | <span data-ttu-id="79532-158">Emplacement de chrominance</span><span class="sxs-lookup"><span data-stu-id="79532-158">Chroma siting</span></span>      | [<span data-ttu-id="79532-159">**vidéo MF MT-présentation de \_ \_ \_ chrominance \_**</span><span class="sxs-lookup"><span data-stu-id="79532-159">**MF\_MT\_VIDEO\_CHROMA\_SITING**</span></span>](mf-mt-video-chroma-siting-attribute.md)                                                                                |
    | <span data-ttu-id="79532-160">Plage nominale</span><span class="sxs-lookup"><span data-stu-id="79532-160">Nominal range</span></span>      | [<span data-ttu-id="79532-161">**\_ \_ plage nominale de vidéo MF MT \_ \_**</span><span class="sxs-lookup"><span data-stu-id="79532-161">**MF\_MT\_VIDEO\_NOMINAL\_RANGE**</span></span>](mf-mt-video-nominal-range-attribute.md)                                                                                |

    

     

## <a name="color-space-conversion"></a><span data-ttu-id="79532-162">Conversion de l’espace colorimétrique</span><span class="sxs-lookup"><span data-stu-id="79532-162">Color Space Conversion</span></span>

<span data-ttu-id="79532-163">La conversion d’un espace Y’CbCr à un autre requiert les étapes suivantes.</span><span class="sxs-lookup"><span data-stu-id="79532-163">Conversion from one Y'CbCr space to another requires the following steps.</span></span>

1.  <span data-ttu-id="79532-164">Quantification inverse : convertissez la représentation Y’CbCr en représentation Y’PbPr, à l’aide de la plage nominale source.</span><span class="sxs-lookup"><span data-stu-id="79532-164">Inverse quantization: Convert the Y'CbCr representation to a Y'PbPr representation, using the source nominal range.</span></span>
2.  <span data-ttu-id="79532-165">Échantillonnage : Convertissez les valeurs de chrominance échantillonnées en 4:4:4 en interpolant les valeurs de chrominance.</span><span class="sxs-lookup"><span data-stu-id="79532-165">Upsampling: Convert the sampled chroma values to 4:4:4 by interpolating chroma values.</span></span>
3.  <span data-ttu-id="79532-166">Conversion YUV à RGB : convertir de Y’PbPr en R’G’B non linéaires, à l’aide de la matrice de transfert source.</span><span class="sxs-lookup"><span data-stu-id="79532-166">YUV to RGB conversion: Convert from Y'PbPr to non-linear R'G'B', using the source transfer matrix.</span></span>
4.  <span data-ttu-id="79532-167">Fonction de transfert inverse : convertir un R’G’B non linéaire en RGB linéaire, à l’aide de l’inverse de la fonction de transfert.</span><span class="sxs-lookup"><span data-stu-id="79532-167">Inverse transfer function: Convert non-linear R'G'B' to linear RGB, using the inverse of the transfer function.</span></span>
5.  <span data-ttu-id="79532-168">Conversion de l’espace colorimétrique RVB : utilisez les couleurs primaires pour passer de l’espace RVB source à l’espace RVB cible.</span><span class="sxs-lookup"><span data-stu-id="79532-168">RGB color space conversion: Use the color primaries to convert from the source RGB space to the target RGB space.</span></span>
6.  <span data-ttu-id="79532-169">Fonction de transfert : convertit le RGB linéaire en R’G’B non linéaire, à l’aide de la fonction de transfert cible.</span><span class="sxs-lookup"><span data-stu-id="79532-169">Transfer function: Convert linear RGB to non-linear R'G'B, using the target transfer function.</span></span>

7.  <span data-ttu-id="79532-170">Conversion RGB en YUV : convertissez R’G’B’en Y’PbPr, à l’aide de la matrice de transfert cible.</span><span class="sxs-lookup"><span data-stu-id="79532-170">RGB to YUV conversion: Convert R'G'B' to Y'PbPr, using the target transfer matrix.</span></span>
8.  <span data-ttu-id="79532-171">Sous-échantillonnage : convertissez 4:4:4 en 4:2:2, 4:2:0 ou 4:1:1 en filtrant les valeurs de chrominance.</span><span class="sxs-lookup"><span data-stu-id="79532-171">Downsampling: Convert 4:4:4 to 4:2:2, 4:2:0, or 4:1:1 by filtering the chroma values.</span></span>
9.  <span data-ttu-id="79532-172">Quantification : convertissez Y’PbPr en Y’CbCr, à l’aide de la plage nominale cible.</span><span class="sxs-lookup"><span data-stu-id="79532-172">Quantization: Convert Y'PbPr to Y'CbCr, using the target nominal range.</span></span>

<span data-ttu-id="79532-173">Les étapes 1 à 4 se produisent dans l’espace de couleurs source et les étapes 6 à 9 se produisent dans l’espace de couleurs cible.</span><span class="sxs-lookup"><span data-stu-id="79532-173">Steps 1–4 occur in the source color space, and steps 6–9 occur in the target color space.</span></span> <span data-ttu-id="79532-174">Dans l’implémentation réelle, les étapes intermédiaires peuvent être approximatives et les étapes adjacentes peuvent être combinées.</span><span class="sxs-lookup"><span data-stu-id="79532-174">In the actual implementation, intermediate steps can be approximated and adjacent steps can be combined.</span></span> <span data-ttu-id="79532-175">Il y a généralement un compromis entre la précision et le coût de calcul.</span><span class="sxs-lookup"><span data-stu-id="79532-175">There is generally a trade-off between accuracy and computational cost.</span></span>

<span data-ttu-id="79532-176">Par exemple, pour convertir de RT. 601 en RT. 709, vous devez effectuer les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="79532-176">For example, to convert from RT.601 to RT.709 requires the following stages:</span></span>

-   <span data-ttu-id="79532-177">Quantification inverse : Y’CbCr (601) à Y’PbPr (601)</span><span class="sxs-lookup"><span data-stu-id="79532-177">Inverse quantization: Y'CbCr(601) to Y'PbPr(601)</span></span>
-   <span data-ttu-id="79532-178">Échantillonnage : Y’PbPr (601)</span><span class="sxs-lookup"><span data-stu-id="79532-178">Upsampling: Y'PbPr(601)</span></span>
-   <span data-ttu-id="79532-179">YUV à RVB : Y’PbPr (601) à R’G’B' (601)</span><span class="sxs-lookup"><span data-stu-id="79532-179">YUV to RGB: Y'PbPr(601) to R'G'B'(601)</span></span>
-   <span data-ttu-id="79532-180">Fonction de transfert inverse : R’G’B' (601) à RGB (601)</span><span class="sxs-lookup"><span data-stu-id="79532-180">Inverse transfer function: R'G'B'(601) to RGB(601)</span></span>
-   <span data-ttu-id="79532-181">Conversion de l’espace colorimétrique RVB : RVB (601) en RVB (709)</span><span class="sxs-lookup"><span data-stu-id="79532-181">RGB color space conversion: RGB(601) to RGB(709)</span></span>
-   <span data-ttu-id="79532-182">Fonction de transfert : RVB (709) à R’G’B' (709)</span><span class="sxs-lookup"><span data-stu-id="79532-182">Transfer function: RGB(709) to R'G'B'(709)</span></span>
-   <span data-ttu-id="79532-183">RGB en YUV : R’G’B' (709) à Y’PbPr (709)</span><span class="sxs-lookup"><span data-stu-id="79532-183">RGB to YUV: R'G'B'(709) to Y'PbPr(709)</span></span>
-   <span data-ttu-id="79532-184">Sous-échantillonnage : Y’PbPr (709)</span><span class="sxs-lookup"><span data-stu-id="79532-184">Downsampling: Y'PbPr(709)</span></span>

-   <span data-ttu-id="79532-185">Quantification : Y’PbPr (709) à Y’CbCr (709)</span><span class="sxs-lookup"><span data-stu-id="79532-185">Quantization: Y'PbPr(709) to Y'CbCr(709)</span></span>

## <a name="using-extended-color-information"></a><span data-ttu-id="79532-186">Utilisation des informations de couleurs étendues</span><span class="sxs-lookup"><span data-stu-id="79532-186">Using Extended Color Information</span></span>

<span data-ttu-id="79532-187">Pour préserver la fidélité des couleurs dans l’ensemble du pipeline, les informations sur l’espace colorimétrique doivent être introduites au niveau de la source ou du décodeur et être transmises au récepteur via le pipeline.</span><span class="sxs-lookup"><span data-stu-id="79532-187">To preserve color fidelity throughout the pipeline, color-space information must be introduced at the source or the decoder and conveyed all the way through the pipeline to the sink.</span></span>

### <a name="video-capture-devices"></a><span data-ttu-id="79532-188">Périphériques de capture vidéo</span><span class="sxs-lookup"><span data-stu-id="79532-188">Video Capture Devices</span></span>

<span data-ttu-id="79532-189">La plupart des périphériques de capture analogiques utilisent un espace de couleurs bien défini lors de la capture vidéo.</span><span class="sxs-lookup"><span data-stu-id="79532-189">Most analog capture devices use a well-defined color space when capturing video.</span></span> <span data-ttu-id="79532-190">Les pilotes de capture doivent offrir un format avec un bloc de format **KS \_ VIDEOINFOHEADER2** contenant les informations de couleur.</span><span class="sxs-lookup"><span data-stu-id="79532-190">Capture drivers should offer a format with a **KS\_VIDEOINFOHEADER2** format block that contains the color information.</span></span> <span data-ttu-id="79532-191">Pour la compatibilité descendante, le pilote doit accepter des formats qui ne contiennent pas les informations de couleur.</span><span class="sxs-lookup"><span data-stu-id="79532-191">For backward compatibility, the driver should accept formats that do not contain the color information.</span></span> <span data-ttu-id="79532-192">Cela permettra au pilote de fonctionner avec des composants qui n’acceptent pas les informations de couleur étendue.</span><span class="sxs-lookup"><span data-stu-id="79532-192">This will enable the driver to work with components that do not accept the extended color information.</span></span>

### <a name="file-based-sources"></a><span data-ttu-id="79532-193">Sources basées sur des fichiers</span><span class="sxs-lookup"><span data-stu-id="79532-193">File-based Sources</span></span>

<span data-ttu-id="79532-194">Lors de l’analyse d’un fichier vidéo, la source du média (ou le filtre de l’analyseur, dans DirectShow) peut être en mesure de fournir certaines informations de couleur.</span><span class="sxs-lookup"><span data-stu-id="79532-194">When parsing a video file, the media source (or parser filter, in DirectShow) might be able to provide some of the color information.</span></span> <span data-ttu-id="79532-195">Par exemple, le navigateur DVD peut déterminer l’espace colorimétrique en fonction du contenu du DVD.</span><span class="sxs-lookup"><span data-stu-id="79532-195">For example, the DVD Navigator can determine the color space based on the DVD content.</span></span> <span data-ttu-id="79532-196">D’autres informations de couleur peuvent être disponibles pour le décodeur.</span><span class="sxs-lookup"><span data-stu-id="79532-196">Other color information might be available to the decoder.</span></span> <span data-ttu-id="79532-197">Par exemple, un flux vidéo élémentaire MPEG-2 fournit les informations de couleur dans le champ extension de l’affichage de la séquence \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="79532-197">For example, an MPEG-2 elementary video stream gives the color information in the sequence\_display\_extension field.</span></span> <span data-ttu-id="79532-198">Si les informations de couleur ne sont pas explicitement décrites dans la source, elles peuvent être définies implicitement par le type de contenu.</span><span class="sxs-lookup"><span data-stu-id="79532-198">If the color information is not explicitly described in the source, it might be defined implicitly by the type of content.</span></span> <span data-ttu-id="79532-199">Par exemple, les variétés NTSC et PAL de vidéo DV utilisent chacune des espaces de couleurs différents.</span><span class="sxs-lookup"><span data-stu-id="79532-199">For example, the NTSC and PAL varieties of DV video each use different color spaces.</span></span> <span data-ttu-id="79532-200">Enfin, le décodeur peut utiliser toutes les informations de couleur qu’il obtient du type de média de la source.</span><span class="sxs-lookup"><span data-stu-id="79532-200">Finally, the decoder can use whatever color information it gets from the source's media type.</span></span>

### <a name="other-components"></a><span data-ttu-id="79532-201">Autres composants</span><span class="sxs-lookup"><span data-stu-id="79532-201">Other Components</span></span>

<span data-ttu-id="79532-202">D’autres composants peuvent avoir besoin d’utiliser les informations d’espace colorimétrique dans un type de média :</span><span class="sxs-lookup"><span data-stu-id="79532-202">Other components might need to use the color-space information in a media type:</span></span>

-   <span data-ttu-id="79532-203">Les convertisseurs d’espace colorimétrique logiciel doivent utiliser des informations d’espace colorimétrique lors de la sélection d’un algorithme de conversion.</span><span class="sxs-lookup"><span data-stu-id="79532-203">Software color-space converters should use color-space information when selecting a conversion algorithm.</span></span>
-   <span data-ttu-id="79532-204">Les mixages vidéo, tels que le mélangeur Video Enhancer (EVR), doivent utiliser les informations de couleur pour mélanger les flux vidéo de différents types de contenu.</span><span class="sxs-lookup"><span data-stu-id="79532-204">Video mixers, such as the enhanced video renderer (EVR) mixer, should use the color information when mixing video streams from different types of content.</span></span>
-   <span data-ttu-id="79532-205">Les API de traitement vidéo DXVA et DDIs permettent à l’appelant de spécifier des informations sur l’espace colorimétrique.</span><span class="sxs-lookup"><span data-stu-id="79532-205">The DXVA video processing APIs and DDIs enable the caller to specify color-space information information.</span></span> <span data-ttu-id="79532-206">Le GPU doit utiliser ces informations lorsqu’il effectue un mixage vidéo hardward.</span><span class="sxs-lookup"><span data-stu-id="79532-206">The GPU should use this information when it performs hardward video mixing.</span></span>

## <a name="related-topics"></a><span data-ttu-id="79532-207">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="79532-207">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="79532-208">Types de média vidéo</span><span class="sxs-lookup"><span data-stu-id="79532-208">Video Media Types</span></span>](video-media-types.md)
</dt> <dt>

[<span data-ttu-id="79532-209">Accélération vidéo DirectX 2,0</span><span class="sxs-lookup"><span data-stu-id="79532-209">DirectX Video Acceleration 2.0</span></span>](directx-video-acceleration-2-0.md)
</dt> </dl>

 

 
