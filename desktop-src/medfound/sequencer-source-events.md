---
description: Événements de source de Sequencer
ms.assetid: 28654bae-9ce2-467b-b769-63279d69b173
title: Événements de source de Sequencer
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fdf97cc5ff25c8a5fc40fa4990bf38c652f94e63
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106534396"
---
# <a name="sequencer-source-events"></a><span data-ttu-id="9dc35-103">Événements de source de Sequencer</span><span class="sxs-lookup"><span data-stu-id="9dc35-103">Sequencer Source Events</span></span>

<span data-ttu-id="9dc35-104">Lorsque la [source de Sequencer](sequencer-source.md) joue une séquence de fichiers, la session multimédia envoie généralement tous les événements qui sont envoyés pendant la lecture normale et qui sont répertoriés dans [événements de session multimédia](media-session-events.md).</span><span class="sxs-lookup"><span data-stu-id="9dc35-104">When the [Sequencer Source](sequencer-source.md) plays a sequence of files, the Media Session generally sends all of the same events that are sent during normal playback, and which are listed in [Media Session Events](media-session-events.md).</span></span> <span data-ttu-id="9dc35-105">L’application obtient ces événements à l’aide de l’interface [**IMFMediaEventGenerator**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator) de la session de média.</span><span class="sxs-lookup"><span data-stu-id="9dc35-105">The application gets these events using the Media Session's [**IMFMediaEventGenerator**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator) interface.</span></span>

<span data-ttu-id="9dc35-106">En outre, certains événements sont spécifiques aux segments de sélection.</span><span class="sxs-lookup"><span data-stu-id="9dc35-106">In addition, there are some events which are specific to playlist segments.</span></span>



| <span data-ttu-id="9dc35-107">Événement</span><span class="sxs-lookup"><span data-stu-id="9dc35-107">Event</span></span>                                                                                                   | <span data-ttu-id="9dc35-108">Description</span><span class="sxs-lookup"><span data-stu-id="9dc35-108">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="9dc35-109">MENewPresentation</span><span class="sxs-lookup"><span data-stu-id="9dc35-109">MENewPresentation</span></span>](menewpresentation.md)                                                              | <span data-ttu-id="9dc35-110">Signale à l’application qu’elle doit Prérouler la topologie suivante.</span><span class="sxs-lookup"><span data-stu-id="9dc35-110">Signals the application to preroll the next topology.</span></span><br/> <span data-ttu-id="9dc35-111">Pour fournir une transition transparente entre deux présentations consécutives, la source Sequencer charge la topologie suivante à l’avance.</span><span class="sxs-lookup"><span data-stu-id="9dc35-111">To provide a seamless transition between two consecutive presentations, the sequencer source loads the next topology in advance.</span></span> <span data-ttu-id="9dc35-112">Alors que la topologie Active est toujours en cours d’exécution, la source Sequencer envoie cet événement pour la topologie suivante, à condition qu’une topologie suivante soit disponible dans la source.</span><span class="sxs-lookup"><span data-stu-id="9dc35-112">While the active topology is still playing, the sequencer source sends this event for the next topology, as long as there is a subsequent topology available in the source.</span></span><br/> <span data-ttu-id="9dc35-113">Ces données d’événement pour cet événement sont le descripteur de présentation de la topologie suivante.</span><span class="sxs-lookup"><span data-stu-id="9dc35-113">This event data for this event is the presentation descriptor for the next topology.</span></span> <span data-ttu-id="9dc35-114">L’application est chargée de définir la topologie correspondante sur la session multimédia, comme décrit dans [utilisation de la source de Sequencer](using-the-sequencer-source.md).</span><span class="sxs-lookup"><span data-stu-id="9dc35-114">The application is responsible for setting the corresponding topology on the Media Session, as described in [Using the Sequencer Source](using-the-sequencer-source.md).</span></span><br/> |
| [<span data-ttu-id="9dc35-115">MEEndOfPresentationSegment</span><span class="sxs-lookup"><span data-stu-id="9dc35-115">MEEndOfPresentationSegment</span></span>](meendofpresentationsegment.md)                                            | <span data-ttu-id="9dc35-116">La source de Sequencer déclenche cet événement lorsque la session multimédia est terminée en lisant le segment actuel, si ce segment est suivi d’un autre segment.</span><span class="sxs-lookup"><span data-stu-id="9dc35-116">The sequencer source raises this event when the Media Session has completed playing the current segment, if that segment is followed by another segment.</span></span> <span data-ttu-id="9dc35-117">(Si le segment actuel est le dernier, la source Sequencer déclenche l’événement [MEEndOfPresentation](meendofpresentation.md) à la place.)</span><span class="sxs-lookup"><span data-stu-id="9dc35-117">(If the current segment is the last one, the sequencer source raises the [MEEndOfPresentation](meendofpresentation.md) event instead.)</span></span><br/> <span data-ttu-id="9dc35-118">La session multimédia transmet cet événement à l’application.</span><span class="sxs-lookup"><span data-stu-id="9dc35-118">The Media Session forwards this event to the application.</span></span> <span data-ttu-id="9dc35-119">En règle générale, l’application reçoit [MEEndOfPresentationSegment](meendofpresentationsegment.md) une fois que la session multimédia a démarré le traitement du segment suivant, mais alors que les récepteurs multimédia fournissent toujours les exemples pour le segment précédent.</span><span class="sxs-lookup"><span data-stu-id="9dc35-119">Typically, the application receives [MEEndOfPresentationSegment](meendofpresentationsegment.md) after the Media Session has started processing the next segment, but while the media sinks are still delivering the samples for the previous segment.</span></span><br/>                            |
| <span data-ttu-id="9dc35-120">[MESessionTopologyStatus](mesessiontopologystatus.md), avec état **MF \_ TOPOSTATUS \_ récepteur \_ commuté**.</span><span class="sxs-lookup"><span data-stu-id="9dc35-120">[MESessionTopologyStatus](mesessiontopologystatus.md), with status **MF\_TOPOSTATUS\_SINK\_SWITCHED**.</span></span> | <span data-ttu-id="9dc35-121">La session multimédia déclenche cet événement lorsqu’elle effectue une transition vers la topologie suivante dans la source de Sequencer et que les récepteurs de média ont terminé la création de la topologie précédente.</span><span class="sxs-lookup"><span data-stu-id="9dc35-121">The Media Session raises this event when it makes a transition to the next topology in the sequencer source and media sinks have completed playing the previous topology.</span></span> <span data-ttu-id="9dc35-122">Cet événement contient un pointeur vers la topologie suivante.</span><span class="sxs-lookup"><span data-stu-id="9dc35-122">This event contains a pointer to the next topology.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                      |



 

## <a name="example-1-playback-without-skipping"></a><span data-ttu-id="9dc35-123">Exemple 1 : lecture sans saut</span><span class="sxs-lookup"><span data-stu-id="9dc35-123">Example 1: Playback without Skipping</span></span>

<span data-ttu-id="9dc35-124">Lorsque la source de Sequencer est impliquée, le nombre d’événements que vous recevez de la session de média peut prêter à confusion, en particulier parce que les événements associés à un segment sont souvent entrelacés avec les événements du segment suivant.</span><span class="sxs-lookup"><span data-stu-id="9dc35-124">When the sequencer source is involved, the number of events that you get from the Media Session can be confusing, especially because events associated with one segment are often interleaved with events for the next segment.</span></span>

<span data-ttu-id="9dc35-125">Dans le premier exemple, l’application met en file d’attente trois segments, S1, S2 et S3.</span><span class="sxs-lookup"><span data-stu-id="9dc35-125">In the first example, the application queues three segments, S1, S2, and S3.</span></span> <span data-ttu-id="9dc35-126">Le troisième segment a le **\_ dernier indicateur SequencerTopologyFlags** , pour signaler qu’il s’agit du dernier segment de la séquence.</span><span class="sxs-lookup"><span data-stu-id="9dc35-126">The third segment has the **SequencerTopologyFlags\_Last** flag, to signal it is the last segment in the sequence.</span></span> <span data-ttu-id="9dc35-127">Le segment auquel chaque événement correspond est indiqué entre parenthèses.</span><span class="sxs-lookup"><span data-stu-id="9dc35-127">The segment to which each event corresponds is given in parentheses.</span></span> <span data-ttu-id="9dc35-128">Les appels [**SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) de l’application sont également répertoriés, afin de rendre l’ordre des opérations plus clair.</span><span class="sxs-lookup"><span data-stu-id="9dc35-128">The application's [**SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) calls are also listed, to make the order of operations clearer.</span></span>

-   <span data-ttu-id="9dc35-129">L’application appelle [**IMFMediaSession :: SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-129">Application calls [**IMFMediaSession::SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S1)</span></span>
-   <span data-ttu-id="9dc35-130">[MESessionTopologySet](mesessiontopologyset.md) (S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-130">[MESessionTopologySet](mesessiontopologyset.md) (S1)</span></span>
-   <span data-ttu-id="9dc35-131">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Ready** (S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-131">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_READY** (S1)</span></span>
-   <span data-ttu-id="9dc35-132">[MENewPresentation](menewpresentation.md) (préroll S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-132">[MENewPresentation](menewpresentation.md) (S2 preroll)</span></span>
-   <span data-ttu-id="9dc35-133">L’application appelle [**IMFMediaSession :: SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-133">Application calls [**IMFMediaSession::SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S2)</span></span>
-   <span data-ttu-id="9dc35-134">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Started \_ source** (Start of S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-134">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_STARTED\_SOURCE** (start of S1)</span></span>
-   <span data-ttu-id="9dc35-135">[MESessionTopologySet](mesessiontopologyset.md) (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-135">[MESessionTopologySet](mesessiontopologyset.md) (S2)</span></span>
-   <span data-ttu-id="9dc35-136">[MEEndOfPresentationSegment](meendofpresentationsegment.md) (fin de S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-136">[MEEndOfPresentationSegment](meendofpresentationsegment.md) (end of S1)</span></span>
-   <span data-ttu-id="9dc35-137">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ terminé** (S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-137">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_ENDED** (S1)</span></span>
-   <span data-ttu-id="9dc35-138">[MESessionTopologyStatus](mesessiontopologystatus.md): **\_ récepteur TOPOSTATUS \_ MF \_ commuté** (transition vers S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-138">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_SINK\_SWITCHED** (transition to S2)</span></span>
-   <span data-ttu-id="9dc35-139">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Ready** (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-139">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_READY** (S2)</span></span>
-   <span data-ttu-id="9dc35-140">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Started \_ source** (début de S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-140">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_STARTED\_SOURCE** (start of S2)</span></span>
-   <span data-ttu-id="9dc35-141">[MENewPresentation](menewpresentation.md) (préroll S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-141">[MENewPresentation](menewpresentation.md) (S3 preroll)</span></span>
-   <span data-ttu-id="9dc35-142">L’application appelle [**IMFMediaSession :: SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-142">Application calls [**IMFMediaSession::SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S2)</span></span>
-   <span data-ttu-id="9dc35-143">[MESessionTopologySet](mesessiontopologyset.md) (S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-143">[MESessionTopologySet](mesessiontopologyset.md) (S3)</span></span>
-   <span data-ttu-id="9dc35-144">[MEEndOfPresentationSegment](meendofpresentationsegment.md) (fin de S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-144">[MEEndOfPresentationSegment](meendofpresentationsegment.md) (end of S2)</span></span>
-   <span data-ttu-id="9dc35-145">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ terminé** (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-145">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_ENDED** (S2)</span></span>
-   <span data-ttu-id="9dc35-146">[MESessionTopologyStatus](mesessiontopologystatus.md): **\_ récepteur TOPOSTATUS \_ MF \_ commuté** (transition vers S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-146">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_SINK\_SWITCHED** (transition to S3)</span></span>
-   <span data-ttu-id="9dc35-147">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Ready** (S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-147">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_READY** (S3)</span></span>
-   <span data-ttu-id="9dc35-148">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Started \_ source** (début de S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-148">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_STARTED\_SOURCE** (start of S3)</span></span>
-   <span data-ttu-id="9dc35-149">[MEEndOfPresentation](meendofpresentation.md) (fin de S3 ; dernier segment)</span><span class="sxs-lookup"><span data-stu-id="9dc35-149">[MEEndOfPresentation](meendofpresentation.md) (end of S3; last segment)</span></span>
-   <span data-ttu-id="9dc35-150">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ terminé**</span><span class="sxs-lookup"><span data-stu-id="9dc35-150">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_ENDED**</span></span>
-   [<span data-ttu-id="9dc35-151">MESessionEnded</span><span class="sxs-lookup"><span data-stu-id="9dc35-151">MESessionEnded</span></span>](mesessionended.md)

<span data-ttu-id="9dc35-152">Cette liste n’inclut pas tous les événements que vous pouvez recevoir.</span><span class="sxs-lookup"><span data-stu-id="9dc35-152">This list does not include every event that you might receive.</span></span> <span data-ttu-id="9dc35-153">(Par exemple, il omet l’événement [MESessionCapabilitiesChanged](mesessioncapabilitieschanged.md) , qui est envoyé chaque fois que les fonctionnalités de session changent.</span><span class="sxs-lookup"><span data-stu-id="9dc35-153">(For example, it omits the [MESessionCapabilitiesChanged](mesessioncapabilitieschanged.md) event, which is sent whenever the session capabilities change.</span></span> <span data-ttu-id="9dc35-154">Une application reçoit généralement plusieurs événements MESessionCapabilitiesChanged dans une présentation.) Les événements répertoriés ici sont ceux qui indiquent la transition d’un segment à l’autre.</span><span class="sxs-lookup"><span data-stu-id="9dc35-154">An application typically receives multiple MESessionCapabilitiesChanged events throughout a presentation.) The events listed here are the ones that show the transition from one segment to the next.</span></span> <span data-ttu-id="9dc35-155">Les événements les plus importants sont [MENewPresentation](menewpresentation.md), qui indique à l’application de Prérouler la topologie suivante, et [MEEndOfPresentationSegment](meendofpresentationsegment.md), qui signale la fin d’un segment (à l’exception du dernier segment).</span><span class="sxs-lookup"><span data-stu-id="9dc35-155">The most important events are [MENewPresentation](menewpresentation.md), which signals the application to preroll the next topology, and [MEEndOfPresentationSegment](meendofpresentationsegment.md), which signals the end of a segment (except for the last segment).</span></span>

<span data-ttu-id="9dc35-156">Étant donné que les événements dans Media Foundation sont asynchrones et ne sont pas sérialisés avec les appels de méthode, l’ordre exact peut varier.</span><span class="sxs-lookup"><span data-stu-id="9dc35-156">Because events in Media Foundation are asynchronous, and are not serialized with method calls, the exact order could vary.</span></span> <span data-ttu-id="9dc35-157">Par exemple, vous pouvez recevoir **la \_ \_ \_ source lancée MF TOPOSTATUS** pour S1 avant que l’application n’appelle [**SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) pour S2.</span><span class="sxs-lookup"><span data-stu-id="9dc35-157">For example, you could receive **MF\_TOPOSTATUS\_STARTED\_SOURCE** for S1 before the application calls [**SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) for S2.</span></span>

<span data-ttu-id="9dc35-158">En outre, vous risquez de ne pas recevoir tous les événements répertoriés ici.</span><span class="sxs-lookup"><span data-stu-id="9dc35-158">Also, you might not get every event listed here.</span></span> <span data-ttu-id="9dc35-159">Les événements [MEEndOfPresentation](meendofpresentation.md) et [MESessionEnded](mesessionended.md) , par exemple, ne sont pas envoyés, sauf si le dernier segment a le **\_ dernier indicateur SequencerTopologyFlags** .</span><span class="sxs-lookup"><span data-stu-id="9dc35-159">The [MEEndOfPresentation](meendofpresentation.md) and [MESessionEnded](mesessionended.md) events, for example, are not sent unless the last segment has the **SequencerTopologyFlags\_Last** flag.</span></span>

<span data-ttu-id="9dc35-160">Enfin, cette liste n’indique pas le passage de l’heure.</span><span class="sxs-lookup"><span data-stu-id="9dc35-160">Finally, this list does not indicate the passage of time.</span></span> <span data-ttu-id="9dc35-161">L’heure du « début de S1 » à « fin de S1 » correspond à la durée totale de S1, qui peut être de quelques secondes ou plusieurs heures, en fonction de la source.</span><span class="sxs-lookup"><span data-stu-id="9dc35-161">The time from "start of S1" to "end of S1" is the entire duration of S1, which could be a few seconds or many hours, depending on the source.</span></span>

## <a name="example-2-playback-with-segment-skipping"></a><span data-ttu-id="9dc35-162">Exemple 2 : lecture avec saut de segment ignoré</span><span class="sxs-lookup"><span data-stu-id="9dc35-162">Example 2: Playback with Segment Skipping</span></span>

<span data-ttu-id="9dc35-163">Dans cet exemple, l’application met en file d’attente les mêmes segments, mais ignore le segment 3 pendant la diffusion du segment 1.</span><span class="sxs-lookup"><span data-stu-id="9dc35-163">In this example, the application queues the same segments, but skips to segment 3 while segment 1 is playing.</span></span> <span data-ttu-id="9dc35-164">Dans ce cas, les événements suivants sont envoyés :</span><span class="sxs-lookup"><span data-stu-id="9dc35-164">In this case, the following events are sent:</span></span>

-   <span data-ttu-id="9dc35-165">L’application appelle [**IMFMediaSession :: SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-165">Application calls [**IMFMediaSession::SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S1)</span></span>
-   <span data-ttu-id="9dc35-166">[MESessionTopologySet](mesessiontopologyset.md) (S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-166">[MESessionTopologySet](mesessiontopologyset.md) (S1)</span></span>
-   <span data-ttu-id="9dc35-167">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Ready** (S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-167">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_READY** (S1)</span></span>
-   <span data-ttu-id="9dc35-168">[MENewPresentation](menewpresentation.md) (préroll S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-168">[MENewPresentation](menewpresentation.md) (S2 preroll)</span></span>
-   <span data-ttu-id="9dc35-169">L’application appelle [**IMFMediaSession :: SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-169">Application calls [**IMFMediaSession::SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S2)</span></span>
-   <span data-ttu-id="9dc35-170">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Started \_ source** (Start of S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-170">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_STARTED\_SOURCE** (start of S1)</span></span>
-   <span data-ttu-id="9dc35-171">[MESessionTopologySet](mesessiontopologyset.md) (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-171">[MESessionTopologySet](mesessiontopologyset.md) (S2)</span></span>
-   <span data-ttu-id="9dc35-172">L’application appelle [**IMFMediaSession :: Start**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-start) (passez à S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-172">Application calls [**IMFMediaSession::Start**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-start) (skip to S3)</span></span>
-   <span data-ttu-id="9dc35-173">[MENewPresentation](menewpresentation.md) (préroll S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-173">[MENewPresentation](menewpresentation.md) (S3 preroll)</span></span>
-   <span data-ttu-id="9dc35-174">L’application appelle [**IMFMediaSession :: SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-174">Application calls [**IMFMediaSession::SetTopology**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-settopology) (S3)</span></span>
-   [<span data-ttu-id="9dc35-175">MESessionStarted</span><span class="sxs-lookup"><span data-stu-id="9dc35-175">MESessionStarted</span></span>](mesessionstarted.md)
-   <span data-ttu-id="9dc35-176">[MEEndOfPresentationSegment](meendofpresentationsegment.md) (S1 annulé)</span><span class="sxs-lookup"><span data-stu-id="9dc35-176">[MEEndOfPresentationSegment](meendofpresentationsegment.md) (S1 canceled)</span></span>
-   <span data-ttu-id="9dc35-177">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ terminé** (S1)</span><span class="sxs-lookup"><span data-stu-id="9dc35-177">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_ENDED** (S1)</span></span>
-   <span data-ttu-id="9dc35-178">[MESessionTopologySet](mesessiontopologyset.md) (S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-178">[MESessionTopologySet](mesessiontopologyset.md) (S3)</span></span>
-   <span data-ttu-id="9dc35-179">[MESessionTopologyStatus](mesessiontopologystatus.md): **\_ récepteur TOPOSTATUS \_ MF \_ commuté** (transition vers S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-179">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_SINK\_SWITCHED** (transition to S2)</span></span>
-   <span data-ttu-id="9dc35-180">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Ready** (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-180">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_READY** (S2)</span></span>
-   <span data-ttu-id="9dc35-181">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Started \_ source** (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-181">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_STARTED\_SOURCE** (S2)</span></span>
-   <span data-ttu-id="9dc35-182">[MEEndOfPresentationSegment](meendofpresentationsegment.md) (S2 annulé)</span><span class="sxs-lookup"><span data-stu-id="9dc35-182">[MEEndOfPresentationSegment](meendofpresentationsegment.md) (S2 canceled)</span></span>
-   <span data-ttu-id="9dc35-183">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ terminé** (S2)</span><span class="sxs-lookup"><span data-stu-id="9dc35-183">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_ENDED** (S2)</span></span>
-   <span data-ttu-id="9dc35-184">[MESessionTopologyStatus](mesessiontopologystatus.md): **\_ récepteur TOPOSTATUS \_ MF \_ commuté** (transition vers S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-184">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_SINK\_SWITCHED** (transition to S3)</span></span>
-   <span data-ttu-id="9dc35-185">[MESessionTopologyStatus](mesessiontopologystatus.md): **TOPOSTATUS \_ Ready** (S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-185">[MESessionTopologyStatus](mesessiontopologystatus.md): **TOPOSTATUS\_READY** (S3)</span></span>
-   <span data-ttu-id="9dc35-186">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF \_ TOPOSTATUS \_ Started \_ source** (S3)</span><span class="sxs-lookup"><span data-stu-id="9dc35-186">[MESessionTopologyStatus](mesessiontopologystatus.md): **MF\_TOPOSTATUS\_STARTED\_SOURCE** (S3)</span></span>

<span data-ttu-id="9dc35-187">Lorsque l’application appelle [**Start**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-start) pour passer au segment 3, la source Sequencer annule le segment 1, qui est toujours en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="9dc35-187">When the application calls [**Start**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasession-start) to skip to segment 3, the sequencer source cancels segment 1, which is still playing.</span></span> <span data-ttu-id="9dc35-188">L’événement [MEEndOfPresentationSegment](meendofpresentationsegment.md) pour ce segment contient l’attribut d’annulation de la topologie de la [**\_ \_ source d' \_ \_ événements MF**](mf-event-source-topology-canceled-attribute.md) , indiquant que le segment s’est terminé car il a été annulé.</span><span class="sxs-lookup"><span data-stu-id="9dc35-188">The [MEEndOfPresentationSegment](meendofpresentationsegment.md) event for this segment contains the [**MF\_EVENT\_SOURCE\_TOPOLOGY\_CANCELED**](mf-event-source-topology-canceled-attribute.md) attribute, indicating that the segment ended because it was canceled.</span></span> <span data-ttu-id="9dc35-189">Ensuite, étant donné que segment 2 est déjà préinstallé, ce segment est démarré, puis immédiatement annulé.</span><span class="sxs-lookup"><span data-stu-id="9dc35-189">Then, because segment 2 is already pre-rolled, that segment is started but then immediately canceled.</span></span> <span data-ttu-id="9dc35-190">L’événement MEEndOfPresentationSegment pour le segment 2 contient également l’attribut de topologie de la **\_ source d’événements MF \_ \_ \_ annulé** .</span><span class="sxs-lookup"><span data-stu-id="9dc35-190">The MEEndOfPresentationSegment event for segment 2 also contains the **MF\_EVENT\_SOURCE\_TOPOLOGY\_CANCELED** attribute.</span></span> <span data-ttu-id="9dc35-191">La session peut ensuite basculer vers segment 3 et la lire normalement.</span><span class="sxs-lookup"><span data-stu-id="9dc35-191">The session can then switch to segment 3 and play it normally.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9dc35-192">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="9dc35-192">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9dc35-193">À propos de la source de Sequencer</span><span class="sxs-lookup"><span data-stu-id="9dc35-193">About the Sequencer Source</span></span>](about-the-sequencer-source.md)
</dt> <dt>

[<span data-ttu-id="9dc35-194">Source de Sequencer</span><span class="sxs-lookup"><span data-stu-id="9dc35-194">Sequencer Source</span></span>](sequencer-source.md)
</dt> </dl>

 

 




