---
description: Méthodes d’encodage
ms.assetid: 17ab5ecc-0173-4c5c-9d65-40e506ab7e07
title: Méthodes d’encodage (Microsoft Media Foundation)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: e4366f11ea9d120d638c5600f84fc16f6c5320f8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106514557"
---
# <a name="encoding-methods-microsoft-media-foundation"></a><span data-ttu-id="8e009-103">Méthodes d’encodage (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="8e009-103">Encoding Methods (Microsoft Media Foundation)</span></span>

<span data-ttu-id="8e009-104">La plupart des codecs Windows Media Audio et vidéo prennent en charge plusieurs méthodes d’encodage.</span><span class="sxs-lookup"><span data-stu-id="8e009-104">Most of the Windows Media Audio and Video codecs support multiple encoding methods.</span></span> <span data-ttu-id="8e009-105">Savoir quand et comment utiliser chaque méthode peut vous aider à créer du contenu compressé de haute qualité.</span><span class="sxs-lookup"><span data-stu-id="8e009-105">Knowing how and when to use each method can help you create high-quality compressed content.</span></span>

<span data-ttu-id="8e009-106">Les méthodes d’encodage se concentrent sur la mémoire tampon utilisée par le décodeur pour gérer les données d’entrée compressées.</span><span class="sxs-lookup"><span data-stu-id="8e009-106">The encoding methods all focus on the buffer used by the decoder to manage compressed input data.</span></span> <span data-ttu-id="8e009-107">Cette mémoire tampon est définie par la vitesse de transmission du flux, en bits par seconde, et la fenêtre de mémoire tampon, en millisecondes.</span><span class="sxs-lookup"><span data-stu-id="8e009-107">This buffer is defined by the bit rate of the stream, in bits per second, and the buffer window, in milliseconds.</span></span> <span data-ttu-id="8e009-108">Lors de l’encodage, le codec respecte les contraintes de la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="8e009-108">When encoding, the codec abides by the restraints of the buffer.</span></span> <span data-ttu-id="8e009-109">Pour plus d’informations sur la mémoire tampon, consultez [le modèle de tampon de compartiment avec fuite](the-leaky-bucket-buffer-model.md).</span><span class="sxs-lookup"><span data-stu-id="8e009-109">For more information about the buffer, see [The Leaky Bucket Buffer Model](the-leaky-bucket-buffer-model.md).</span></span>

## <a name="constant-bit-rate-encoding"></a><span data-ttu-id="8e009-110">Encodage à vitesse binaire constante</span><span class="sxs-lookup"><span data-stu-id="8e009-110">Constant Bit Rate Encoding</span></span>

<span data-ttu-id="8e009-111">La vitesse de transmission de tout flux encodé par l’un des codecs Windows Media Audio et vidéo n’est pas constante.</span><span class="sxs-lookup"><span data-stu-id="8e009-111">The bit rate for any stream encoded by one of the Windows Media Audio and Video codecs is not constant.</span></span> <span data-ttu-id="8e009-112">L’encodage CBR (constant bit rate) est, par conséquent, un terme trompeur.</span><span class="sxs-lookup"><span data-stu-id="8e009-112">Constant bit rate (CBR) encoding is, therefore, a somewhat misleading term.</span></span> <span data-ttu-id="8e009-113">La fonctionnalité distinctive d’un flux encodé CBR est une petite fenêtre de mémoire tampon qui limite la variation de la taille des échantillons.</span><span class="sxs-lookup"><span data-stu-id="8e009-113">The distinguishing feature of a CBR-encoded stream is a small buffer window, which limits the variation of sample sizes.</span></span> <span data-ttu-id="8e009-114">L’encodage CBR est principalement utilisé pour le contenu diffusé en continu sur un réseau jusqu’à sa destination.</span><span class="sxs-lookup"><span data-stu-id="8e009-114">CBR encoding is used primarily for content that is streamed over a network to its destination.</span></span> <span data-ttu-id="8e009-115">Dans ce type de scénario, il est important de pouvoir s’appuyer sur une utilisation cohérente de la bande passante.</span><span class="sxs-lookup"><span data-stu-id="8e009-115">In such a scenario, it is important to be able to rely on consistent bandwidth usage.</span></span>

<span data-ttu-id="8e009-116">Du point de vue de la configuration, l’encodage CBR diffère des autres modes en ce sens qu’avant de commencer à encoder, vous définissez la vitesse de transmission moyenne du contenu de sortie et la fenêtre de mémoire tampon qui s’applique à cette vitesse de transmission.</span><span class="sxs-lookup"><span data-stu-id="8e009-116">From a configuration point of view, CBR encoding differs from the other modes in that before starting to encode, you set both the average bit rate of the output content, and the buffer window that applies to that bit rate.</span></span> <span data-ttu-id="8e009-117">Dans d’autres modes, une de ces valeurs, ou les deux, est inconnue lorsque vous configurez l’encodeur, et est calculée par le codec lors de son codage.</span><span class="sxs-lookup"><span data-stu-id="8e009-117">In other modes, one or both of those values is unknown when you configure the encoder, and is computed by the codec while it encodes.</span></span> <span data-ttu-id="8e009-118">CBR est le mode d’encodage standard utilisé par l’encodeur Windows Media DMOs.</span><span class="sxs-lookup"><span data-stu-id="8e009-118">CBR is the standard encoding mode used by the Windows Media Encoder DMOs.</span></span>

## <a name="two-pass-constant-bit-rate-encoding"></a><span data-ttu-id="8e009-119">Encodage à vitesse binaire constante Two-Pass</span><span class="sxs-lookup"><span data-stu-id="8e009-119">Two-Pass Constant Bit Rate Encoding</span></span>

<span data-ttu-id="8e009-120">Le CBR standard utilise une seule passe d’encodage.</span><span class="sxs-lookup"><span data-stu-id="8e009-120">Standard CBR uses only a single encoding pass.</span></span> <span data-ttu-id="8e009-121">Vous fournissez votre contenu comme des exemples d’entrée, et le codec compresse le contenu et retourne des exemples de sortie.</span><span class="sxs-lookup"><span data-stu-id="8e009-121">You provide your content as input samples, and the codec compresses the content and returns output samples.</span></span> <span data-ttu-id="8e009-122">Il est également possible de traiter deux fois les exemples d’entrée.</span><span class="sxs-lookup"><span data-stu-id="8e009-122">It is also possible to process input samples twice.</span></span> <span data-ttu-id="8e009-123">Lors du premier passage, le codec effectue des calculs pour optimiser l’encodage de votre contenu.</span><span class="sxs-lookup"><span data-stu-id="8e009-123">On the first pass, the codec performs calculations to optimize encoding for your content.</span></span> <span data-ttu-id="8e009-124">Lors de la deuxième passe, le codec utilise les données collectées lors de la première passe pour encoder le contenu.</span><span class="sxs-lookup"><span data-stu-id="8e009-124">On the second pass, the codec uses the data gathered during the first pass to encode the content.</span></span>

<span data-ttu-id="8e009-125">L’encodage CBR à deux passes présente de nombreux avantages.</span><span class="sxs-lookup"><span data-stu-id="8e009-125">Two-pass CBR encoding has many advantages.</span></span> <span data-ttu-id="8e009-126">Elle génère souvent des gains de qualité significatifs par rapport à l’encodage CBR standard sans modifier les exigences de mise en mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="8e009-126">It often yields significant quality gains over standard CBR encoding without changing any of the buffering requirements.</span></span> <span data-ttu-id="8e009-127">Ce mode d’encodage est donc idéal pour le contenu diffusé en continu sur un réseau.</span><span class="sxs-lookup"><span data-stu-id="8e009-127">This makes this encoding mode ideal for content that is streamed over a network.</span></span> <span data-ttu-id="8e009-128">La seule situation où le CBR à deux passes n’est pas faisable est lorsque vous encodez du contenu à partir d’une source active et que vous ne pouvez pas utiliser une deuxième passe.</span><span class="sxs-lookup"><span data-stu-id="8e009-128">The only situation where two-pass CBR is not feasible is when you encode content from a live source and cannot use a second pass.</span></span>

<span data-ttu-id="8e009-129">Le type de média de sortie d’un flux CBR à deux passes est identique à celui d’un flux CBR standard. vous pouvez toujours spécifier la vitesse de transmission et la fenêtre de mémoire tampon à utiliser.</span><span class="sxs-lookup"><span data-stu-id="8e009-129">The output media type of a two-pass CBR stream is identical to that of a standard CBR stream; you still specify the bit rate and buffer window to use.</span></span> <span data-ttu-id="8e009-130">Lors de la configuration de l’DMO, vous devez le configurer pour qu’il effectue deux passes.</span><span class="sxs-lookup"><span data-stu-id="8e009-130">When configuring the DMO, you must set it to perform two passes.</span></span> <span data-ttu-id="8e009-131">Et vous devez notifier la réinitialisation à DMO lorsque vous avez terminé d’envoyer des exemples pour la première passe.</span><span class="sxs-lookup"><span data-stu-id="8e009-131">And you must notify the DMO when you are finished sending samples for the first pass.</span></span>

## <a name="quality-based-variable-bit-rate-encoding"></a><span data-ttu-id="8e009-132">Encodage à vitesse de transmission variable Quality-Based</span><span class="sxs-lookup"><span data-stu-id="8e009-132">Quality-Based Variable Bit Rate Encoding</span></span>

<span data-ttu-id="8e009-133">Étant donné que l’encodage CBR ne maintient pas réellement une vitesse binaire constante, la distinction entre les deux et l’encodage à débit binaire variable (VBR) peut sembler un peu floue.</span><span class="sxs-lookup"><span data-stu-id="8e009-133">Because CBR encoding does not actually maintain a constant bit rate, the distinction between it and variable bit rate encoding (VBR) may seem a little hazy.</span></span> <span data-ttu-id="8e009-134">La principale différence entre CBR et VBR est la taille de la fenêtre de mémoire tampon utilisée.</span><span class="sxs-lookup"><span data-stu-id="8e009-134">The primary difference between CBR and VBR is the size of the buffer window used.</span></span> <span data-ttu-id="8e009-135">Les flux encodés VBR ont généralement des fenêtres de tampon volumineuses par rapport aux flux encodés CBR.</span><span class="sxs-lookup"><span data-stu-id="8e009-135">VBR-encoded streams usually have large buffer windows compared to CBR-encoded streams.</span></span> <span data-ttu-id="8e009-136">La fonction VBR basée sur la qualité n’est pas une exception, car vous ne définissez ni la vitesse de transmission ni la fenêtre de mémoire tampon pour celle-ci.</span><span class="sxs-lookup"><span data-stu-id="8e009-136">Quality-based VBR is no exception, in that you define neither bit rate nor buffer window for it.</span></span> <span data-ttu-id="8e009-137">Au lieu de cela, vous définissez une valeur de qualité.</span><span class="sxs-lookup"><span data-stu-id="8e009-137">Instead, you set a quality value.</span></span> <span data-ttu-id="8e009-138">Le codec tente ensuite de compresser les données afin que la qualité du média encodé soit cohérente tout au long de sa durée, indépendamment des exigences de mémoire tampon du flux résultant.</span><span class="sxs-lookup"><span data-stu-id="8e009-138">The codec then attempts to compress the data so that the quality of the encoded media is consistent throughout its duration, regardless of the buffer requirements of the resulting stream.</span></span>

<span data-ttu-id="8e009-139">La fonction VBR basée sur la qualité utilise une seule passe d’encodage et tend à créer des flux compressés volumineux.</span><span class="sxs-lookup"><span data-stu-id="8e009-139">Quality-based VBR uses a single encoding pass and tends to create large compressed streams.</span></span> <span data-ttu-id="8e009-140">Lorsque l’encodage est terminé, le codec définit les exigences de la mémoire tampon afin que le décodeur puisse décompresser les données.</span><span class="sxs-lookup"><span data-stu-id="8e009-140">When encoding is complete, the codec sets the buffer requirements so that the decoder can decompress the data.</span></span> <span data-ttu-id="8e009-141">Le flux VBR encodé n’est pas adapté à la diffusion en continu sur un réseau, de sorte que le VBR basé sur la qualité ne doit être utilisé que pour les scénarios de lecture locale (ou le téléchargement et la lecture).</span><span class="sxs-lookup"><span data-stu-id="8e009-141">The encoded VBR stream is not suitable for streaming over a network, so quality-based VBR should be used only for local playback scenarios (or download and play).</span></span>

## <a name="unconstrained-variable-bit-rate-encoding"></a><span data-ttu-id="8e009-142">Encodage de la vitesse de transmission variable sans contrainte</span><span class="sxs-lookup"><span data-stu-id="8e009-142">Unconstrained Variable Bit Rate Encoding</span></span>

<span data-ttu-id="8e009-143">Contrairement au VBR basé sur la qualité, le VBR sans contrainte n’encode pas à un niveau de qualité spécifique.</span><span class="sxs-lookup"><span data-stu-id="8e009-143">Unlike quality-based VBR, unconstrained VBR does not encode to a specific quality level.</span></span> <span data-ttu-id="8e009-144">Au lieu de cela, il encode le contenu avec la qualité la plus élevée possible tout en conservant une vitesse de transmission spécifiée.</span><span class="sxs-lookup"><span data-stu-id="8e009-144">Instead, it encodes the content to the highest possible quality while maintaining a specified bit rate.</span></span> <span data-ttu-id="8e009-145">Le VBR sans contrainte utilise deux passes d’encodage et est semblable au CBR à deux passes, à ceci près que vous ne spécifiez pas de paramètre de fenêtre de mémoire tampon pour le flux.</span><span class="sxs-lookup"><span data-stu-id="8e009-145">Unconstrained VBR uses two encoding passes and is similar to two-pass CBR, except that you do not specify a buffer window setting for the stream.</span></span> <span data-ttu-id="8e009-146">Cela signifie qu’il n’existe aucune limite à la taille des échantillons individuels dans le flux, tant que la vitesse de transmission moyenne est inférieure ou égale à la valeur que vous avez définie.</span><span class="sxs-lookup"><span data-stu-id="8e009-146">This means that there is no limit to the size of individual samples in the stream, as long as the average bit rate is less than or equal to the value you set.</span></span>

<span data-ttu-id="8e009-147">Le VBR sans contrainte est un peu utilisé, car il y a peu de scénarios de lecture qui ont des exigences en ce qui concerne les exigences de la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="8e009-147">Unconstrained VBR is of limited use, because there are few playback scenarios that have requirements in keeping with its buffer requirements.</span></span> <span data-ttu-id="8e009-148">Le codec peut définir la fenêtre de mémoire tampon sur la valeur requise après l’encodage, ce qui vous permet de contrôler la taille de la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="8e009-148">The codec can set the buffer window to whatever value is required after encoding, giving you no control over the buffer size.</span></span> <span data-ttu-id="8e009-149">Dans la plupart des cas, si vous ne vous inquiétez pas de la taille de la mémoire tampon ou de la cohérence de l’utilisation de la bande passante, vous devez utiliser le VBR basé sur la qualité.</span><span class="sxs-lookup"><span data-stu-id="8e009-149">In most cases, if you are not concerned about the size of the buffer or the consistency of bandwidth usage, you should use quality-based VBR.</span></span>

## <a name="peak-constrained-variable-bit-rate-encoding"></a><span data-ttu-id="8e009-150">Encodage à vitesse de transmission variable Peak-Constrained</span><span class="sxs-lookup"><span data-stu-id="8e009-150">Peak-Constrained Variable Bit Rate Encoding</span></span>

<span data-ttu-id="8e009-151">Le mode d’encodage final est le VBR avec une limite de pointe.</span><span class="sxs-lookup"><span data-stu-id="8e009-151">The final encoding mode is peak-constrained VBR.</span></span> <span data-ttu-id="8e009-152">À l’instar du VBR sans contrainte, ce mode utilise deux passes d’encodage et des encodages à une vitesse de transmission spécifiée.</span><span class="sxs-lookup"><span data-stu-id="8e009-152">Like unconstrained VBR, this mode uses two encoding passes and encodes to a specified bit rate.</span></span> <span data-ttu-id="8e009-153">Toutefois, avec le VBR maximal restreint, vous configurez également la valeur de pic de l’encodage.</span><span class="sxs-lookup"><span data-stu-id="8e009-153">However, with peak constrained VBR you also configure the peak value for the encoding.</span></span> <span data-ttu-id="8e009-154">Les valeurs de pic sont similaires aux valeurs de configuration de mémoire tampon normales : il y a une vitesse de pic et une fenêtre de mémoire tampon de pointe.</span><span class="sxs-lookup"><span data-stu-id="8e009-154">Peak values are similar to normal buffer configuration values: there is a peak bit rate and a peak buffer window.</span></span> <span data-ttu-id="8e009-155">Le fichier est encodé pour se conformer à une mémoire tampon décrite par les valeurs de pic, avec la condition que la vitesse de transmission moyenne globale du flux soit égale ou inférieure à la valeur de vitesse de transmission moyenne que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="8e009-155">The file is encoded to conform to a buffer described by the peak values, with the condition that the overall average bit rate of the stream be equal to or less than the average bit rate value you specify.</span></span>

<span data-ttu-id="8e009-156">Le VBR restreint peut être difficile à conceptualiser.</span><span class="sxs-lookup"><span data-stu-id="8e009-156">Constrained VBR can be difficult to conceptualize.</span></span> <span data-ttu-id="8e009-157">Voici le moyen le plus simple de considérer le modèle de mise en mémoire tampon utilisé.</span><span class="sxs-lookup"><span data-stu-id="8e009-157">Here is the easiest way to think of the buffering model used.</span></span> <span data-ttu-id="8e009-158">Supposons que le flux est un flux CBR avec la vitesse de pic et la fenêtre de mémoire tampon de pointe utilisées pour définir la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="8e009-158">Suppose the stream is a CBR stream with the peak bit rate and peak buffer window used to define the buffer.</span></span> <span data-ttu-id="8e009-159">En règle générale, le taux binaire de pointe est assez élevé.</span><span class="sxs-lookup"><span data-stu-id="8e009-159">Typically, the peak bit rate is quite high.</span></span> <span data-ttu-id="8e009-160">L’encodeur garantit que la valeur de la vitesse de transmission moyenne attendue que vous indiquez est conservée pendant la durée du flux.</span><span class="sxs-lookup"><span data-stu-id="8e009-160">The encoder ensures that the expected average bit rate value you indicate is maintained over the duration of the stream.</span></span> <span data-ttu-id="8e009-161">À un point particulier du flux, la vitesse de transmission moyenne est garantie pour être supérieure à la taille totale du flux en bits divisée par la durée du flux, en secondes.</span><span class="sxs-lookup"><span data-stu-id="8e009-161">At any particular point in the stream, the average bit rate is guaranteed to be greater than the total stream size in bits divided by the stream duration in seconds).</span></span>

<span data-ttu-id="8e009-162">Prenons l’exemple suivant : vous configurez un flux avec une vitesse de transmission moyenne de 16 000 bits par seconde, un taux de bits de pic de 48 000 bits par seconde et une fenêtre de mémoire tampon de pointe de 3 000 (3 secondes).</span><span class="sxs-lookup"><span data-stu-id="8e009-162">Consider the following example: You configure a stream with an average bit rate of 16,000 bits per second, a peak bit rate of 48,000 bits per second, and a peak buffer window of 3,000 (3 seconds).</span></span> <span data-ttu-id="8e009-163">La taille de la mémoire tampon utilisée pour le flux est de 144 000 bits (48 000 bits par seconde x 3 secondes), comme déterminé par les valeurs de pic.</span><span class="sxs-lookup"><span data-stu-id="8e009-163">The size of the buffer used for the stream is 144,000 bits (48,000 bits per second x 3 seconds) as determined by the peak values.</span></span> <span data-ttu-id="8e009-164">L’encodeur compresse les données pour se conformer à cette mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="8e009-164">The encoder compresses the data to conform to that buffer.</span></span> <span data-ttu-id="8e009-165">En outre, la vitesse de transmission moyenne du flux doit être inférieure ou égale à 16 000.</span><span class="sxs-lookup"><span data-stu-id="8e009-165">Additionally, the average bit rate of the stream must be 16,000 or less.</span></span> <span data-ttu-id="8e009-166">Si l’encodeur doit faire des exemples très volumineux pour gérer un segment de contenu complexe, il peut tirer parti de la taille de la mémoire tampon volumineuse.</span><span class="sxs-lookup"><span data-stu-id="8e009-166">If the encoder needs to make some very large samples to handle a complex segment of content, it can take advantage of the large buffer size.</span></span> <span data-ttu-id="8e009-167">Toutefois, d’autres parties du flux doivent être encodées à une vitesse de transmission inférieure pour ramener la moyenne au niveau spécifié.</span><span class="sxs-lookup"><span data-stu-id="8e009-167">But other parts of the stream must be encoded at a lower bit rate to bring the average down to the specified level.</span></span>

<span data-ttu-id="8e009-168">L’encodage VBR maximal limité est utile pour les périphériques de lecture avec une capacité de mémoire tampon finie et certaines contraintes de débit de données.</span><span class="sxs-lookup"><span data-stu-id="8e009-168">Peak-constrained VBR encoding is useful for playback devices with a finite buffer capacity and some data rate constraints.</span></span> <span data-ttu-id="8e009-169">L’encodage utilisé pour les DVD en est un exemple courant.</span><span class="sxs-lookup"><span data-stu-id="8e009-169">A common example of this is the encoding used for DVDs.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8e009-170">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="8e009-170">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8e009-171">Utilisation de l’encodage VBR</span><span class="sxs-lookup"><span data-stu-id="8e009-171">Using VBR Encoding</span></span>](usingvbrencoding.md)
</dt> <dt>

[<span data-ttu-id="8e009-172">Codecs Windows Media</span><span class="sxs-lookup"><span data-stu-id="8e009-172">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 



