---
description: Chaque fichier ASF contient un ou plusieurs flux. L’objet profil ASF représente une collection de flux ASF. Pour l’encodage ASF, vous devez créer et configurer les flux que vous souhaitez Encoder.
ms.assetid: cc89e8bc-58ff-48e2-9668-0dcd6cfd25e1
title: Création et configuration de flux ASF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d8eabce588022dd66947f34e4dcd9db61f26448b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106513165"
---
# <a name="creating-and-configuring-asf-streams"></a><span data-ttu-id="8058b-105">Création et configuration de flux ASF</span><span class="sxs-lookup"><span data-stu-id="8058b-105">Creating and Configuring ASF Streams</span></span>

<span data-ttu-id="8058b-106">Chaque fichier ASF contient un ou plusieurs flux.</span><span class="sxs-lookup"><span data-stu-id="8058b-106">Each ASF file contains one or more streams.</span></span> <span data-ttu-id="8058b-107">L’objet [Profil ASF](asf-profile.md) représente une collection de flux ASF.</span><span class="sxs-lookup"><span data-stu-id="8058b-107">The [ASF Profile](asf-profile.md) object represents a collection of ASF streams.</span></span> <span data-ttu-id="8058b-108">Pour l’encodage ASF, vous devez créer et configurer les flux que vous souhaitez Encoder.</span><span class="sxs-lookup"><span data-stu-id="8058b-108">For ASF encoding, you must create and configure the streams that you want to encode.</span></span>

<span data-ttu-id="8058b-109">Une application peut effectuer les tâches suivantes avec l’objet profil ASF :</span><span class="sxs-lookup"><span data-stu-id="8058b-109">An application can perform the following tasks with the ASF profile object:</span></span>

-   <span data-ttu-id="8058b-110">Ajoutez ou supprimez un flux.</span><span class="sxs-lookup"><span data-stu-id="8058b-110">Add or remove a stream.</span></span>
-   <span data-ttu-id="8058b-111">Obtenir les paramètres de configuration d’un flux.</span><span class="sxs-lookup"><span data-stu-id="8058b-111">Obtain a stream's configuration settings.</span></span>
-   <span data-ttu-id="8058b-112">Configurez les extensions de charge utile.</span><span class="sxs-lookup"><span data-stu-id="8058b-112">Configure payload extensions.</span></span>
-   <span data-ttu-id="8058b-113">Ajoutez, supprimez ou modifiez un objet d’exclusion mutuelle ASF.</span><span class="sxs-lookup"><span data-stu-id="8058b-113">Add, remove, or modify an ASF mutual exclusion object.</span></span>

<span data-ttu-id="8058b-114">Cette rubrique contient les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="8058b-114">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="8058b-115">Création d’un nouveau flux</span><span class="sxs-lookup"><span data-stu-id="8058b-115">Creating a New Stream</span></span>](#creating-a-new-stream)
-   [<span data-ttu-id="8058b-116">Affectation de numéros de flux</span><span class="sxs-lookup"><span data-stu-id="8058b-116">Assigning Stream Numbers</span></span>](#assigning-stream-numbers)
-   [<span data-ttu-id="8058b-117">Définition des valeurs des compartiments fuites</span><span class="sxs-lookup"><span data-stu-id="8058b-117">Setting Leaky Bucket Values</span></span>](#setting-leaky-bucket-values)
-   [<span data-ttu-id="8058b-118">Extensions de charge utile</span><span class="sxs-lookup"><span data-stu-id="8058b-118">Payload Extensions</span></span>](#payload-extensions)
-   [<span data-ttu-id="8058b-119">Ajout d’un flux au profil</span><span class="sxs-lookup"><span data-stu-id="8058b-119">Adding a Stream to the Profile</span></span>](#adding-a-stream-to-the-profile)
-   [<span data-ttu-id="8058b-120">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="8058b-120">Related topics</span></span>](#related-topics)

## <a name="creating-a-new-stream"></a><span data-ttu-id="8058b-121">Création d’un nouveau flux</span><span class="sxs-lookup"><span data-stu-id="8058b-121">Creating a New Stream</span></span>

<span data-ttu-id="8058b-122">Un objet de profil ASF doit contenir des paramètres de configuration pour au moins un flux ASF.</span><span class="sxs-lookup"><span data-stu-id="8058b-122">An ASF profile object must contain configuration settings for at least one ASF stream.</span></span> <span data-ttu-id="8058b-123">Chaque flux est représenté par un objet de *configuration de flux* qui expose l’interface [**IMFASFStreamConfig**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) .</span><span class="sxs-lookup"><span data-stu-id="8058b-123">Each stream is represented by a *stream configuration* object, which exposes the [**IMFASFStreamConfig**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) interface.</span></span> <span data-ttu-id="8058b-124">Les informations de l’objet de configuration de flux correspondent à l’objet de propriétés de flux et aux objets de propriétés de flux étendus dans l’en-tête de fichier ASF.</span><span class="sxs-lookup"><span data-stu-id="8058b-124">The information in the stream configuration object corresponds to the Stream Properties Object and the Extended Stream Properties Objects in the ASF file header.</span></span> <span data-ttu-id="8058b-125">(Voir [structure de fichiers ASF](asf-file-structure.md).)</span><span class="sxs-lookup"><span data-stu-id="8058b-125">(See [ASF File Structure](asf-file-structure.md).)</span></span>

<span data-ttu-id="8058b-126">Pour ajouter un flux à un profil ASF, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="8058b-126">To add a stream to an ASF profile, perform the following steps:</span></span>

1.  <span data-ttu-id="8058b-127">Créez un objet de configuration de flux de flux vide.</span><span class="sxs-lookup"><span data-stu-id="8058b-127">Create an empty stream stream configuration object.</span></span>
2.  <span data-ttu-id="8058b-128">Configurez le flux en fonction des exigences de l’application.</span><span class="sxs-lookup"><span data-stu-id="8058b-128">Configure the stream according to the application's requirements.</span></span>
3.  <span data-ttu-id="8058b-129">Ajoutez le flux au profil.</span><span class="sxs-lookup"><span data-stu-id="8058b-129">Add the stream to the profile.</span></span>

<span data-ttu-id="8058b-130">Pour créer un flux pour le profil, appelez [**IMFASFProfile :: CreateStream,**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createstream) pour créer un objet de configuration de flux vide et recevoir le pointeur dans le paramètre *ppIStream* .</span><span class="sxs-lookup"><span data-stu-id="8058b-130">To create a stream for the profile, call [**IMFASFProfile::CreateStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createstream) to create an empty stream configuration object and receive the pointer in the *ppIStream* parameter.</span></span> <span data-ttu-id="8058b-131">**CreateStream,** doit connaître le type du flux à créer.</span><span class="sxs-lookup"><span data-stu-id="8058b-131">**CreateStream** needs to know the type of the stream to create.</span></span> <span data-ttu-id="8058b-132">Les types de flux les plus courants utilisés dans les fichiers ASF sont des flux audio et vidéo.</span><span class="sxs-lookup"><span data-stu-id="8058b-132">The most common types of streams used in ASF files are audio and video streams.</span></span> <span data-ttu-id="8058b-133">Dans Media Foundation, les types de flux sont dénotés par l’objet de type de média qui expose l’interface [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) .</span><span class="sxs-lookup"><span data-stu-id="8058b-133">In Media Foundation, the stream types are denoted by the media type object that exposes the [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) interface.</span></span> <span data-ttu-id="8058b-134">Le type principal du type de média définit la catégorie du flux multimédia numérique, tel que audio ou vidéo.</span><span class="sxs-lookup"><span data-stu-id="8058b-134">The major type of the media type defines the category of the digital media stream, such as audio or video.</span></span> <span data-ttu-id="8058b-135">Le sous-type définit le format du type principal.</span><span class="sxs-lookup"><span data-stu-id="8058b-135">The subtype defines the format of the major type.</span></span> <span data-ttu-id="8058b-136">Le type de média initial défini par **CreateStream,** peut être modifié à l’aide de l’objet de configuration de vapeur.</span><span class="sxs-lookup"><span data-stu-id="8058b-136">The initial media type set by **CreateStream** can be changed by using the steam configuration object.</span></span> <span data-ttu-id="8058b-137">Pour récupérer le type de média pour le flux, appelez [**IMFASFStreamConfig :: GetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getmediatype) ou pour récupérer l’appel de type principal [**IMFASFStreamConfig :: GetStreamType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamtype).</span><span class="sxs-lookup"><span data-stu-id="8058b-137">To retrieve the media type for the stream, call [**IMFASFStreamConfig::GetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getmediatype) or to retrieve the major type call [**IMFASFStreamConfig::GetStreamType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamtype).</span></span> <span data-ttu-id="8058b-138">Le type de média initial d’un flux peut être remplacé par un nouveau type de média configuré en appelant [**IMFASFStreamConfig :: SetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setmediatype).</span><span class="sxs-lookup"><span data-stu-id="8058b-138">The initial media type for a stream can be replaced with a new configured media type by calling [**IMFASFStreamConfig::SetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setmediatype).</span></span>

<span data-ttu-id="8058b-139">Si une application crée un profil à partir d’un descripteur de présentation valide en appelant [**MFCreateASFProfileFromPresentationDescriptor**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfprofilefrompresentationdescriptor).</span><span class="sxs-lookup"><span data-stu-id="8058b-139">If an application creates a profile from a valid presentation descriptor by calling [**MFCreateASFProfileFromPresentationDescriptor**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfprofilefrompresentationdescriptor).</span></span> <span data-ttu-id="8058b-140">La fonction définit automatiquement les objets de configuration de flux pour chacun des flux et les définit sur le profil.</span><span class="sxs-lookup"><span data-stu-id="8058b-140">The function automatically sets the stream configuration objects for each of the streams and sets them on the profile.</span></span> <span data-ttu-id="8058b-141">Les types de médias de diffusion en continu sont définis en fonction des descripteurs de flux associés au descripteur de présentation.</span><span class="sxs-lookup"><span data-stu-id="8058b-141">The stream media types are set based on the stream descriptors associated with the presentation descriptor.</span></span>

## <a name="assigning-stream-numbers"></a><span data-ttu-id="8058b-142">Affectation de numéros de flux</span><span class="sxs-lookup"><span data-stu-id="8058b-142">Assigning Stream Numbers</span></span>

<span data-ttu-id="8058b-143">Un numéro de flux doit être assigné aux flux de tous les types.</span><span class="sxs-lookup"><span data-stu-id="8058b-143">Streams of all types must be assigned a stream number.</span></span> <span data-ttu-id="8058b-144">Les numéros de flux n’ont pas besoin d’être séquentiels, mais doivent être dans la plage comprise entre 1 et 127.</span><span class="sxs-lookup"><span data-stu-id="8058b-144">Stream numbers need not be sequential but must be in the range from 1 to 127.</span></span> <span data-ttu-id="8058b-145">Pour assigner des numéros de flux, appelez [**IMFASFStreamConfig :: SetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setstreamnumber).</span><span class="sxs-lookup"><span data-stu-id="8058b-145">To assign stream numbers, call [**IMFASFStreamConfig::SetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setstreamnumber).</span></span> <span data-ttu-id="8058b-146">Pour récupérer le numéro de flux, appelez [**IMFASFStreamConfig :: GetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamnumber).</span><span class="sxs-lookup"><span data-stu-id="8058b-146">To get the stream number call, [**IMFASFStreamConfig::GetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamnumber).</span></span>

> [!Note]  
> <span data-ttu-id="8058b-147">Un numéro de flux est différent d’un index de flux, que vous utilisez pour obtenir des flux dans un profil à l’aide de [**IMFASFProfile :: GetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstream).</span><span class="sxs-lookup"><span data-stu-id="8058b-147">A stream number is different from a stream index, which you use when getting streams in a profile by using [**IMFASFProfile::GetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstream).</span></span> <span data-ttu-id="8058b-148">L’index de flux est un nombre affecté au flux par l’objet de profil.</span><span class="sxs-lookup"><span data-stu-id="8058b-148">The stream index is a number assigned to the stream by the profile object.</span></span> <span data-ttu-id="8058b-149">Les index de flux sont compris entre 0 et un de moins que le nombre de flux récupérés par [**IMFASFProfile :: GetStreamCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreamcount).</span><span class="sxs-lookup"><span data-stu-id="8058b-149">Stream indexes range between 0 and one less than the number of streams retrieved by [**IMFASFProfile::GetStreamCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreamcount).</span></span> <span data-ttu-id="8058b-150">Vous pouvez également obtenir un flux à partir du profil par numéro de flux en appelant [**IMFASFProfile :: GetStreamByNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreambynumber).</span><span class="sxs-lookup"><span data-stu-id="8058b-150">You can also get a stream from the profile by stream number by calling [**IMFASFProfile::GetStreamByNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreambynumber).</span></span>

 

## <a name="setting-leaky-bucket-values"></a><span data-ttu-id="8058b-151">Définition des valeurs des compartiments fuites</span><span class="sxs-lookup"><span data-stu-id="8058b-151">Setting Leaky Bucket Values</span></span>

<span data-ttu-id="8058b-152">Chaque objet de configuration de flux qui représente un flux doit avoir des paramètres de compartiment fuite associés, une vitesse de transmission et des valeurs de fenêtre de mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="8058b-152">Each stream configuration object that represents a stream must have associated leaky bucket parameters, bit rate and buffer window values.</span></span>

<span data-ttu-id="8058b-153">Ces valeurs sont disponibles pour l’application par le biais de l’attribut [**\_ ASFSTREAMCONFIG \_ LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) et de l’attribut [**MF \_ ASFSTREAMCONFIG \_ LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) .</span><span class="sxs-lookup"><span data-stu-id="8058b-153">These values are available to the application through the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) attribute and the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) attribute.</span></span> <span data-ttu-id="8058b-154">Pour l’encodage de fichier, les valeurs réelles dépendent du type d’encodage et sont choisies par l’encodeur.</span><span class="sxs-lookup"><span data-stu-id="8058b-154">For file encoding, the actual values depend on the type of encoding and are decided by the encoder.</span></span> <span data-ttu-id="8058b-155">Si vous disposez déjà d’un encodeur configuré et que le type de sortie est défini sur l’encodeur, l’application doit interroger l’encodeur pour les paramètres de compartiment avec fuite et définir les valeurs de ces attributs.</span><span class="sxs-lookup"><span data-stu-id="8058b-155">If you already have a configured encoder and the output type is set on the encoder, the application must query the encoder for the leaky bucket parameters and set the values in these attributes.</span></span>

<span data-ttu-id="8058b-156">Si vous utilisez les composants de la couche de pipeline et que vous configurez les flux pour le récepteur de média ASF, vous n’avez probablement pas d’encodeur configuré.</span><span class="sxs-lookup"><span data-stu-id="8058b-156">If you are using the pipeline layer components and configuring the streams for the ASF media sink, most likely, you do not have a configured encoder.</span></span> <span data-ttu-id="8058b-157">Dans ce cas, vous devez interroger les négociations de types postérieurs au support de l’encodeur et définir la valeur mise à jour dans la propriété [**\_ LEAKYBUCKET MFPKEY ASFSTREAMSINK \_ corrigée \_**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) de la Banque de propriétés du récepteur de média ASF.</span><span class="sxs-lookup"><span data-stu-id="8058b-157">In this case, you must query the encoder post-media type negotiations and set the updated value in the [**MFPKEY\_ASFSTREAMSINK\_CORRECTED\_LEAKYBUCKET**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) property of the ASF media sink's property store.</span></span> <span data-ttu-id="8058b-158">Le magasin de propriétés d’encodage est récupéré via le de l’objet ContentInfo associé au profil.</span><span class="sxs-lookup"><span data-stu-id="8058b-158">The encoding property store is retrieved through the of the ContentInfo object associated with the profile.</span></span> <span data-ttu-id="8058b-159">Les valeurs mises à jour sont répercutées automatiquement dans les valeurs d’attribut de compartiment avec fuites du flux.</span><span class="sxs-lookup"><span data-stu-id="8058b-159">The updated values are reflected in the stream's leaky bucket attribute values automatically.</span></span> <span data-ttu-id="8058b-160">Pour obtenir des informations générales sur les compartiments de fuites et sur l’obtention de la valeur de compartiment perdue à partir de l’encodeur, consultez le [modèle de tampon de compartiment avec fuite](the-leaky-bucket-buffer-model.md).</span><span class="sxs-lookup"><span data-stu-id="8058b-160">For general information about leaky buckets and how to get the leaky bucket value from the encoder, see the [The Leaky Bucket Buffer Model](the-leaky-bucket-buffer-model.md).</span></span>

## <a name="payload-extensions"></a><span data-ttu-id="8058b-161">Extensions de charge utile</span><span class="sxs-lookup"><span data-stu-id="8058b-161">Payload Extensions</span></span>

<span data-ttu-id="8058b-162">Les données multimédias pour les flux sont ajoutées à l’objet de données ASF en tant qu' [exemples de supports](media-samples.md) par le [multiplexeur ASF](asf-multiplexer.md).</span><span class="sxs-lookup"><span data-stu-id="8058b-162">Media data for the streams are added to the ASF Data Object as [Media Samples](media-samples.md) by the [ASF Multiplexer](asf-multiplexer.md).</span></span> <span data-ttu-id="8058b-163">Ces exemples de supports peuvent contenir des données d’extension de charge utile : les données de code temporel SMPTE, les proportions de pixels non carrés, la durée de l’échantillon et, si l’exemple le contient, une image clé vidéo.</span><span class="sxs-lookup"><span data-stu-id="8058b-163">These media samples can contain payload extension data: SMPTE time code data, non-square pixel aspect ratio, sample duration, and if the sample contains it, a video key frame.</span></span> <span data-ttu-id="8058b-164">Pour obtenir la liste des types d’extension de charge utile pris en charge, consultez [GUID d’extension de charge utile ASF](asf-payload-extension-guids.md).</span><span class="sxs-lookup"><span data-stu-id="8058b-164">For a list of the supported payload extension types, see [ASF Payload Extension GUIDs](asf-payload-extension-guids.md).</span></span>

<span data-ttu-id="8058b-165">Un flux doit être configuré pour accepter l’extension de charge utile. ainsi, pendant la génération de l’échantillon, le multiplexeur peut ajouter les données supplémentaires à chaque échantillon pour ce flux.</span><span class="sxs-lookup"><span data-stu-id="8058b-165">A stream must be configured to accept payload extension so that during sample generation the multiplexer can add the supplementary data to each sample for that stream.</span></span>

<span data-ttu-id="8058b-166">Pour récupérer le nombre total d’extensions de charge utile définies sur le flux, appelez [**IMFASFStreamConfig :: GetPayloadExtensionCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextensioncount) , puis Énumérez la liste en appelant [**IMFASFStreamConfig :: GetPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextension).</span><span class="sxs-lookup"><span data-stu-id="8058b-166">To get the total number of payload extensions set on the stream, call [**IMFASFStreamConfig::GetPayloadExtensionCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextensioncount) and then enumerate the list by calling [**IMFASFStreamConfig::GetPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextension).</span></span> <span data-ttu-id="8058b-167">Pour ajouter l’extension de charge utile pour le flux, appelez [**IMFASFStreamConfig :: AddPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-addpayloadextension).</span><span class="sxs-lookup"><span data-stu-id="8058b-167">To add payload extension for the stream, call [**IMFASFStreamConfig::AddPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-addpayloadextension).</span></span> <span data-ttu-id="8058b-168">Cela permet d’ajouter des données supplémentaires aux échantillons de supports individuels générés pour le flux.</span><span class="sxs-lookup"><span data-stu-id="8058b-168">This will add supplementary data to individual media samples generated for the stream.</span></span>

<span data-ttu-id="8058b-169">Pour supprimer les extensions de charge utile existantes associées au flux, appelez [**IMFASFStreamConfig :: RemoveAllPayloadExtensions**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-removeallpayloadextensions).</span><span class="sxs-lookup"><span data-stu-id="8058b-169">To remove existing payload extensions associated with the stream, call [**IMFASFStreamConfig::RemoveAllPayloadExtensions**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-removeallpayloadextensions).</span></span>

## <a name="adding-a-stream-to-the-profile"></a><span data-ttu-id="8058b-170">Ajout d’un flux au profil</span><span class="sxs-lookup"><span data-stu-id="8058b-170">Adding a Stream to the Profile</span></span>

<span data-ttu-id="8058b-171">Après la configuration d’un flux, appelez [**IMFASFProfile :: SetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-setstream) pour ajouter le flux au profil.</span><span class="sxs-lookup"><span data-stu-id="8058b-171">After a stream is configured, call [**IMFASFProfile::SetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-setstream) to add the stream to the profile.</span></span>

<span data-ttu-id="8058b-172">Pour supprimer un flux existant dans le profil, appelez [**IMFASFProfile :: RemoveStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removestream).</span><span class="sxs-lookup"><span data-stu-id="8058b-172">To remove an existing stream in the profile, call [**IMFASFProfile::RemoveStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removestream).</span></span>

<span data-ttu-id="8058b-173">Le profil configuré doit être défini sur l’objet ContentInfo en appelant [**IMFASFContentInfo :: SetProfile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile).</span><span class="sxs-lookup"><span data-stu-id="8058b-173">The configured profile must be set on the ContentInfo object by calling [**IMFASFContentInfo::SetProfile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile).</span></span> <span data-ttu-id="8058b-174">Si vous apportez des modifications à un flux existant, vous devez l’ajouter à nouveau au profil et définir le profil sur l’objet ContentInfo.</span><span class="sxs-lookup"><span data-stu-id="8058b-174">If make changes to an existing stream, you must add it again to the profile and set the profile on the ContentInfo object.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8058b-175">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="8058b-175">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8058b-176">Profil ASF</span><span class="sxs-lookup"><span data-stu-id="8058b-176">ASF Profile</span></span>](asf-profile.md)
</dt> <dt>

[<span data-ttu-id="8058b-177">Prise en charge ASF dans Media Foundation</span><span class="sxs-lookup"><span data-stu-id="8058b-177">ASF Support in Media Foundation</span></span>](asf-support-in-media-foundation.md)
</dt> <dt>

[<span data-ttu-id="8058b-178">Composants WMContainer ASF</span><span class="sxs-lookup"><span data-stu-id="8058b-178">WMContainer ASF Components</span></span>](wmcontainer-asf-components.md)
</dt> </dl>

 

 



