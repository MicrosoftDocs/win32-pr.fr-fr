---
description: Propriétés d’encodage
ms.assetid: 6845c3fb-38a8-4b0d-aea2-e10f7e518653
title: Propriétés d’encodage
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 093b72dc37501ca88882c6e3b530cda0eed1baa2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104111839"
---
# <a name="encoding-properties"></a><span data-ttu-id="9525e-103">Propriétés d’encodage</span><span class="sxs-lookup"><span data-stu-id="9525e-103">Encoding Properties</span></span>

<span data-ttu-id="9525e-104">Les encodeurs Windows Media Audio et Windows Media Video prennent en charge un large éventail de modes d’encodage.</span><span class="sxs-lookup"><span data-stu-id="9525e-104">The Windows Media Audio and Windows Media Video encoders support a variety of encoding modes.</span></span> <span data-ttu-id="9525e-105">Ces modes sont généralement configurés en définissant des propriétés sur l’encodeur [Media Foundation transformer](media-foundation-transforms.md) (MFT).</span><span class="sxs-lookup"><span data-stu-id="9525e-105">These modes are generally configured by setting properties on the encoder [Media Foundation transform](media-foundation-transforms.md) (MFT).</span></span> <span data-ttu-id="9525e-106">Pour effectuer un encodage de fichier, qu’il s’agisse d’utiliser des composants de niveau WMContainer ou de créer une topologie partielle, vous devez configurer l’encodeur de manière appropriée en définissant des propriétés en fonction du mode d’encodage et du type de média du flux.</span><span class="sxs-lookup"><span data-stu-id="9525e-106">To perform file encoding, whether using WMContainer-level components or by building a partial topology, you must configure the encoder appropriately by setting properties depending on the mode of encoding and the media type of the stream.</span></span> <span data-ttu-id="9525e-107">Le même ensemble de propriétés doit être défini à la fois sur l’encodeur et sur l’objet (récepteur de fichiers ASF ou multiplexeur ASF) que vous utilisez pour écrire le fichier ASF.</span><span class="sxs-lookup"><span data-stu-id="9525e-107">The same set of properties must be set both on the encoder and the object (ASF file sink or ASF multiplexer) you are using to write the ASF file.</span></span>

<span data-ttu-id="9525e-108">Les propriétés de l’encodeur sont définies dans wmcodecdsp. h.</span><span class="sxs-lookup"><span data-stu-id="9525e-108">The encoder properties are defined in wmcodecdsp.h.</span></span> <span data-ttu-id="9525e-109">Les propriétés spécifiques utilisées pour configurer l’encodeur sont définies à l’aide des méthodes de l’interface [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) .</span><span class="sxs-lookup"><span data-stu-id="9525e-109">The specific properties that are used to configure the encoder are set by using the methods of the [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) interface.</span></span>

-   [<span data-ttu-id="9525e-110">Propriétés du flux audio</span><span class="sxs-lookup"><span data-stu-id="9525e-110">Audio Stream Properties</span></span>](#audio-stream-properties)
-   [<span data-ttu-id="9525e-111">Propriétés du flux vidéo</span><span class="sxs-lookup"><span data-stu-id="9525e-111">Video Stream Properties</span></span>](#video-stream-properties)
-   [<span data-ttu-id="9525e-112">Configuration de la Banque de propriétés de l’encodeur</span><span class="sxs-lookup"><span data-stu-id="9525e-112">Configuring the Encoder's Property Store</span></span>](#configuring-the-encoders-property-store)

### <a name="audio-stream-properties"></a><span data-ttu-id="9525e-113">Propriétés du flux audio</span><span class="sxs-lookup"><span data-stu-id="9525e-113">Audio Stream Properties</span></span>

<span data-ttu-id="9525e-114">Le tableau suivant présente les configurations d’encodeur pour un flux audio.</span><span class="sxs-lookup"><span data-stu-id="9525e-114">The following table shows the encoder configurations for an audio stream.</span></span>



| <span data-ttu-id="9525e-115">Type d’encodage</span><span class="sxs-lookup"><span data-stu-id="9525e-115">Encoding type</span></span>                                                                                        | <span data-ttu-id="9525e-116">Nom de la propriété-valeur</span><span class="sxs-lookup"><span data-stu-id="9525e-116">Property name - Value</span></span>                                                                                                                                                                               |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="9525e-117">Encodage à vitesse binaire constante</span><span class="sxs-lookup"><span data-stu-id="9525e-117">Constant Bit Rate Encoding</span></span>](constant-bit-rate-encoding.md)                                         | <span data-ttu-id="9525e-118">MFPKEY \_ VBRENABLED- **false** (facultatif) par défaut, MFPKEY \_ VBRENABLED est défini sur **false**.</span><span class="sxs-lookup"><span data-stu-id="9525e-118">MFPKEY\_VBRENABLED - **FALSE** (Optional)By default, MFPKEY\_VBRENABLED is set to **FALSE**.</span></span><br/>                                                                                             |
| [<span data-ttu-id="9525e-119">Encodage de la vitesse de transmission variable basée sur la qualité</span><span class="sxs-lookup"><span data-stu-id="9525e-119">Quality-Based Variable Bit Rate Encoding</span></span>](quality-based-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="9525e-120">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="9525e-120">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="9525e-121">MFPKEY \_ PASSESUSED-1 (facultatif)</span><span class="sxs-lookup"><span data-stu-id="9525e-121">MFPKEY\_PASSESUSED - 1 (Optional)</span></span><br/> <span data-ttu-id="9525e-122">Par défaut, MFPKEY \_ PASSESUSED a la valeur 1.</span><span class="sxs-lookup"><span data-stu-id="9525e-122">By default, MFPKEY\_PASSESUSED is set to 1.</span></span><br/> <span data-ttu-id="9525e-123">MFPKEY \_ souhaité \_ VBRQUALITY-de 0 à 100</span><span class="sxs-lookup"><span data-stu-id="9525e-123">MFPKEY\_DESIRED\_VBRQUALITY - From 0 to 100</span></span><br/> |
| [<span data-ttu-id="9525e-124">Encodage de la vitesse de transmission variable sans contrainte</span><span class="sxs-lookup"><span data-stu-id="9525e-124">Unconstrained Variable Bit Rate Encoding</span></span>](unconstrained-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="9525e-125">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="9525e-125">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="9525e-126">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="9525e-126">MFPKEY\_PASSESUSED - 2</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="9525e-127">Chiffrement à vitesse de transmission variable à forte limite</span><span class="sxs-lookup"><span data-stu-id="9525e-127">Peak-Constrained Variable Bit Rate Encoding</span></span>](peak-constrained-variable-bit-rate--vbr--encoding.md) | <span data-ttu-id="9525e-128">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="9525e-128">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="9525e-129">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="9525e-129">MFPKEY\_PASSESUSED - 2</span></span><br/> <span data-ttu-id="9525e-130">MFPKEY \_ Rmax-vitesse de transmission maximale</span><span class="sxs-lookup"><span data-stu-id="9525e-130">MFPKEY\_RMAX - Maximum bit rate</span></span><br/> <span data-ttu-id="9525e-131">MFPKEY \_ BMAX-fenêtre de mémoire tampon maximale</span><span class="sxs-lookup"><span data-stu-id="9525e-131">MFPKEY\_BMAX - Maximum buffer window</span></span><br/>                               |



 

### <a name="video-stream-properties"></a><span data-ttu-id="9525e-132">Propriétés du flux vidéo</span><span class="sxs-lookup"><span data-stu-id="9525e-132">Video Stream Properties</span></span>

<span data-ttu-id="9525e-133">Le tableau suivant présente les configurations d’encodeur pour un flux vidéo.</span><span class="sxs-lookup"><span data-stu-id="9525e-133">The following table shows the encoder configurations for a video stream.</span></span>



| <span data-ttu-id="9525e-134">Type d’encodage</span><span class="sxs-lookup"><span data-stu-id="9525e-134">Encoding type</span></span>                                                                                        | <span data-ttu-id="9525e-135">Nom de la propriété</span><span class="sxs-lookup"><span data-stu-id="9525e-135">Property name</span></span>                                                                                                                                                                                       |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="9525e-136">Encodage à vitesse binaire constante</span><span class="sxs-lookup"><span data-stu-id="9525e-136">Constant Bit Rate Encoding</span></span>](constant-bit-rate-encoding.md)                                         | <span data-ttu-id="9525e-137">MFPKEY \_ VBRENABLED- **false** (facultatif)</span><span class="sxs-lookup"><span data-stu-id="9525e-137">MFPKEY\_VBRENABLED - **FALSE** (Optional)</span></span><br/> <span data-ttu-id="9525e-138">Par défaut, MFPKEY \_ VBRENABLED est défini sur **false**.</span><span class="sxs-lookup"><span data-stu-id="9525e-138">By default, MFPKEY\_VBRENABLED is set to **FALSE**.</span></span><br/> <span data-ttu-id="9525e-139">MFPKEY \_ VIDEOWINDOW-fenêtre de mémoire tampon</span><span class="sxs-lookup"><span data-stu-id="9525e-139">MFPKEY\_VIDEOWINDOW - Buffer window</span></span><br/>                                  |
| [<span data-ttu-id="9525e-140">Encodage de la vitesse de transmission variable basée sur la qualité</span><span class="sxs-lookup"><span data-stu-id="9525e-140">Quality-Based Variable Bit Rate Encoding</span></span>](quality-based-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="9525e-141">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="9525e-141">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="9525e-142">MFPKEY \_ PASSESUSED-1 (facultatif)</span><span class="sxs-lookup"><span data-stu-id="9525e-142">MFPKEY\_PASSESUSED - 1 (Optional)</span></span><br/> <span data-ttu-id="9525e-143">Par défaut, MFPKEY \_ PASSESUSED a la valeur 1.</span><span class="sxs-lookup"><span data-stu-id="9525e-143">By default, MFPKEY\_PASSESUSED is set to 1.</span></span><br/> <span data-ttu-id="9525e-144">MFPKEY \_ souhaité \_ VBRQUALITY-de 0 à 100</span><span class="sxs-lookup"><span data-stu-id="9525e-144">MFPKEY\_DESIRED\_VBRQUALITY - From 0 to 100</span></span><br/> |
| [<span data-ttu-id="9525e-145">Encodage de la vitesse de transmission variable sans contrainte</span><span class="sxs-lookup"><span data-stu-id="9525e-145">Unconstrained Variable Bit Rate Encoding</span></span>](unconstrained-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="9525e-146">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="9525e-146">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="9525e-147">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="9525e-147">MFPKEY\_PASSESUSED - 2</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="9525e-148">Chiffrement à vitesse de transmission variable à forte limite</span><span class="sxs-lookup"><span data-stu-id="9525e-148">Peak-Constrained Variable Bit Rate Encoding</span></span>](peak-constrained-variable-bit-rate--vbr--encoding.md) | <span data-ttu-id="9525e-149">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="9525e-149">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="9525e-150">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="9525e-150">MFPKEY\_PASSESUSED - 2</span></span><br/> <span data-ttu-id="9525e-151">MFPKEY \_ Rmax-vitesse de transmission maximale</span><span class="sxs-lookup"><span data-stu-id="9525e-151">MFPKEY\_RMAX - Maximum bit rate</span></span><br/> <span data-ttu-id="9525e-152">MFPKEY \_ BMAX-fenêtre de mémoire tampon maximale</span><span class="sxs-lookup"><span data-stu-id="9525e-152">MFPKEY\_BMAX - Maximum buffer window</span></span><br/>                               |



 

### <a name="configuring-the-encoders-property-store"></a><span data-ttu-id="9525e-153">Configuration de la Banque de propriétés de l’encodeur</span><span class="sxs-lookup"><span data-stu-id="9525e-153">Configuring the Encoder's Property Store</span></span>

<span data-ttu-id="9525e-154">Vous devez configurer un encodeur en spécifiant le type d’encodage et les différents paramètres spécifiques au flux avant la session d’encodage.</span><span class="sxs-lookup"><span data-stu-id="9525e-154">You must configure an encoder by specifying the type of encoding and the various stream-specific settings before the encoding session.</span></span> <span data-ttu-id="9525e-155">Vous devez également définir les propriétés de l’encodeur dans la Banque de propriétés d’un [objet ASF ContentInfo](asf-contentinfo-object.md) qui représente l’objet d’en-tête ASF du fichier de sortie.</span><span class="sxs-lookup"><span data-stu-id="9525e-155">You must also set the encoder properties in the property store of an [ASF ContentInfo Object](asf-contentinfo-object.md) that represents the ASF Header Object of the output file.</span></span>

<span data-ttu-id="9525e-156">Si vous utilisez une table MFT d’encodeur :</span><span class="sxs-lookup"><span data-stu-id="9525e-156">If you are using an encoder MFT:</span></span>

1.  <span data-ttu-id="9525e-157">Obtenir une référence à l’interface [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) de la MFT de l’encodeur, comme décrit dans utilisation de l' [interface IMFTransform d’un encodeur](using-an-encoder-s-imftransform--interface.md).</span><span class="sxs-lookup"><span data-stu-id="9525e-157">Get a reference to the encoder MFT's [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) interface as described in [Using an Encoder's IMFTransform Interface](using-an-encoder-s-imftransform--interface.md).</span></span>
2.  <span data-ttu-id="9525e-158">Interrogation de la MFT d’encodeur pour l’interface **IPropertyStore** .</span><span class="sxs-lookup"><span data-stu-id="9525e-158">Querying the encoder MFT for the **IPropertyStore** interface.</span></span>
3.  <span data-ttu-id="9525e-159">Définition des propriétés requises en appelant **IPropertyStore :: SetValue**.</span><span class="sxs-lookup"><span data-stu-id="9525e-159">Setting the required properties by calling **IPropertyStore::SetValue**.</span></span>

<span data-ttu-id="9525e-160">Si vous utilisez les objets d’activation d’encodeur intégrés et que vous avez déjà créé un récepteur de fichiers ASF configuré, vous pouvez passer la Banque de propriétés du récepteur de média ASF à [**MFCreateWMAEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmaencoderactivate) ou [**MFCreateWMVEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmvencoderactivate).</span><span class="sxs-lookup"><span data-stu-id="9525e-160">If you are using the built-in encoder activation objects and have already created an configured the ASF file sink, you can pass the ASF media sink's property store to [**MFCreateWMAEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmaencoderactivate) or [**MFCreateWMVEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmvencoderactivate).</span></span> <span data-ttu-id="9525e-161">L’encodeur est configuré automatiquement en fonction des paramètres spécifiés par l’application.</span><span class="sxs-lookup"><span data-stu-id="9525e-161">The encoder is configured automatically based on the settings specified by the application.</span></span> <span data-ttu-id="9525e-162">Pour plus d’informations, consultez la procédure décrite dans [utilisation des objets d’activation d’un encodeur](using-an-encoder-s-activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="9525e-162">For more information, see the procedure described in [Using an Encoder's Activation Objects](using-an-encoder-s-activation-objects.md).</span></span>

<span data-ttu-id="9525e-163">Pour plus d’informations sur la création d’objets Media Foundation à l’aide d’objets d’activation, consultez [objets d’activation](activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="9525e-163">For more information about creating Media Foundation objects by using activation objects, see [Activation Objects](activation-objects.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="9525e-164">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="9525e-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9525e-165">Instanciation d’une table MFT d’encodeur</span><span class="sxs-lookup"><span data-stu-id="9525e-165">Instantiating an Encoder MFT</span></span>](instantiating-the-encoder-mft.md)
</dt> <dt>

[<span data-ttu-id="9525e-166">Encodeurs Windows Media</span><span class="sxs-lookup"><span data-stu-id="9525e-166">Windows Media Encoders</span></span>](windows-media-encoders.md)
</dt> </dl>

 

 
