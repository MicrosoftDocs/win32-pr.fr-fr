---
description: La qualité de service indique les performances et l’efficacité énergétique d’un thread, ce qui peut influencer la planification des threads et la gestion de l’alimentation du processeur.
title: Qualité de service
ms.topic: article
ms.date: 07/09/2021
ms.openlocfilehash: c506e810bafad41e9a5f14112c1398b0d6fb3ffc
ms.sourcegitcommit: 2805e19a2738a408d3c5ab69a8d84ec92ca25e36
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/14/2021
ms.locfileid: "113989790"
---
# <a name="quality-of-service"></a><span data-ttu-id="9cf2e-103">Qualité de service</span><span class="sxs-lookup"><span data-stu-id="9cf2e-103">Quality of Service</span></span>

<span data-ttu-id="9cf2e-104">La qualité de service (QoS) associée à un thread est utilisée pour indiquer les performances souhaitées et l’efficacité énergétique.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-104">The Quality of Service (QoS) associated with a thread is used to indicate the desired performance and power efficiency.</span></span> <span data-ttu-id="9cf2e-105">Chaque thread est affecté à un niveau de qualité de service (QoS).</span><span class="sxs-lookup"><span data-stu-id="9cf2e-105">Each thread is assigned to a QoS level.</span></span> <span data-ttu-id="9cf2e-106">Alors que la priorité de planification reste la mesure principale par laquelle le système détermine le thread à planifier ensuite, la qualité de service peut influencer la sélection de base et la gestion de l’alimentation du processeur.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-106">While scheduling priority remains the main metric by which the system determines which thread to schedule next, QoS can influence core selection and processor power management.</span></span> <span data-ttu-id="9cf2e-107">Sur les plateformes avec des processeurs hétérogènes, la qualité de service d’un thread peut limiter la planification à un sous-ensemble de processeurs ou indiquer une préférence pour une classe particulière de processeur.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-107">On platforms with heterogeneous processors, the QoS of a thread may restrict scheduling to a subset of processors, or indicate a preference for a particular class of processor.</span></span>

<span data-ttu-id="9cf2e-108">Les développeurs utilisent peut-être déjà d’autres installations pour contrôler le moment de leur exécution, par exemple lorsque l’utilisateur n’est pas présent, uniquement en secteur ou en charge, ou en fonction du niveau de la batterie.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-108">Developers may already be employing other facilities to control when to execute, such as when the user is not present, only on AC/charging, or depending on the battery level.</span></span> <span data-ttu-id="9cf2e-109">La qualité de service (QoS) fournit une fonctionnalité permettant d’influencer l’exécution.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-109">QoS provides a facility to influence how to execute.</span></span> <span data-ttu-id="9cf2e-110">Cette fonctionnalité peut aider à améliorer l’efficacité du processeur et donc à accroître la durée de vie de la batterie.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-110">This facility can help to improve CPU efficiency and thus extend battery life.</span></span> <span data-ttu-id="9cf2e-111">En outre, ce processus peut aider à réduire la consommation d’énergie de l’UC tout en fonctionnant sur une alimentation secteur pour réduire la sortie thermique, ce qui peut entraîner un bruit de ventilateur élevé ou même une limitation thermique.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-111">In addition, this process can assist in reducing CPU power consumption while operating on AC power to reduce thermal output which can lead to high fan noise, or even thermal throttling.</span></span>

## <a name="quality-of-service-levels"></a><span data-ttu-id="9cf2e-112">Qualité des niveaux de service</span><span class="sxs-lookup"><span data-stu-id="9cf2e-112">Quality of Service levels</span></span>

<span data-ttu-id="9cf2e-113">Le système gère plusieurs niveaux de QoS, chacun avec des performances différenciées et une efficacité énergétique.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-113">The system maintains multiple QoS levels, each with differentiated performance and power efficiency.</span></span> <span data-ttu-id="9cf2e-114">Windows fournit des paramètres par défaut standard pour la planification et la gestion de l’alimentation du processeur pour chaque niveau de QoS.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-114">Windows provides standard default settings for scheduling and processor power management for each QoS level.</span></span> <span data-ttu-id="9cf2e-115">le réglage précis de chaque niveau de qualité de service pour la gestion de l’alimentation du processeur et la planification hétérogène peut être modifié par le biais de l’approvisionnement Windows.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-115">The precise tuning of each QoS level for processor power management and heterogeneous scheduling can be modified through Windows Provisioning.</span></span> <span data-ttu-id="9cf2e-116">Pour plus d’informations sur l’optimisation et l’approvisionnement des performances, consultez Options de gestion de l' [alimentation du processeur](/windows-hardware/customize/power-settings/configure-processor-power-management-options).</span><span class="sxs-lookup"><span data-stu-id="9cf2e-116">For more information on performance tuning and provisioning, see [Processor power management options](/windows-hardware/customize/power-settings/configure-processor-power-management-options).</span></span>

| <span data-ttu-id="9cf2e-117">Niveau de QoS</span><span class="sxs-lookup"><span data-stu-id="9cf2e-117">QoS level</span></span> | <span data-ttu-id="9cf2e-118">Description</span><span class="sxs-lookup"><span data-stu-id="9cf2e-118">Description</span></span>|<span data-ttu-id="9cf2e-119">Performances et puissance</span><span class="sxs-lookup"><span data-stu-id="9cf2e-119">Performance and power</span></span> | <span data-ttu-id="9cf2e-120">Libérer</span><span class="sxs-lookup"><span data-stu-id="9cf2e-120">Release</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9cf2e-121">Élevé</span><span class="sxs-lookup"><span data-stu-id="9cf2e-121">High</span></span> | <span data-ttu-id="9cf2e-122">Applications avec fenêtre qui sont au premier plan et activées, ou audibles</span><span class="sxs-lookup"><span data-stu-id="9cf2e-122">Windowed applications that are in the foreground and in focus, or audible</span></span> | <span data-ttu-id="9cf2e-123">Haute performance standard</span><span class="sxs-lookup"><span data-stu-id="9cf2e-123">Standard high performance</span></span> |<span data-ttu-id="9cf2e-124">1709</span><span class="sxs-lookup"><span data-stu-id="9cf2e-124">1709</span></span> |
| <span data-ttu-id="9cf2e-125">Moyenne</span><span class="sxs-lookup"><span data-stu-id="9cf2e-125">Medium</span></span> | <span data-ttu-id="9cf2e-126">Applications à fenêtres qui peuvent être visibles par l’utilisateur final, mais qui ne sont pas activées</span><span class="sxs-lookup"><span data-stu-id="9cf2e-126">Windowed applications that may be visible to the end user but are not in focus</span></span> | <span data-ttu-id="9cf2e-127">Varie selon la plateforme, entre haut et bas</span><span class="sxs-lookup"><span data-stu-id="9cf2e-127">Varies by platform, between High and Low</span></span> | <span data-ttu-id="9cf2e-128">1709</span><span class="sxs-lookup"><span data-stu-id="9cf2e-128">1709</span></span> |
| <span data-ttu-id="9cf2e-129">Faible</span><span class="sxs-lookup"><span data-stu-id="9cf2e-129">Low</span></span> | <span data-ttu-id="9cf2e-130">Applications à fenêtres qui ne sont pas visibles ou audibles à l’utilisateur final</span><span class="sxs-lookup"><span data-stu-id="9cf2e-130">Windowed applications that are not visible or audible to the end user</span></span> | <span data-ttu-id="9cf2e-131">Sur batterie, sélectionne la fréquence et les planifications d’UC les plus efficaces pour les cœurs efficaces.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-131">On battery, selects most efficient CPU frequency and schedules to efficient cores</span></span> | <span data-ttu-id="9cf2e-132">1709</span><span class="sxs-lookup"><span data-stu-id="9cf2e-132">1709</span></span> |
| <span data-ttu-id="9cf2e-133">Écologique</span><span class="sxs-lookup"><span data-stu-id="9cf2e-133">Eco</span></span> | <span data-ttu-id="9cf2e-134">Applications qui balisent explicitement des processus avec [SetProcessInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) ou des threads avec [SetThreadInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation)</span><span class="sxs-lookup"><span data-stu-id="9cf2e-134">Applications which explicitly tag processes with [SetProcessInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) or threads with [SetThreadInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation)</span></span> | <span data-ttu-id="9cf2e-135">Sélectionne toujours la fréquence et les planifications d’UC les plus efficaces pour les cœurs efficaces</span><span class="sxs-lookup"><span data-stu-id="9cf2e-135">Always selects most efficient CPU frequency and schedules to efficient cores</span></span> | <span data-ttu-id="9cf2e-136">Windows 11</span><span class="sxs-lookup"><span data-stu-id="9cf2e-136">Windows 11</span></span> |
| <span data-ttu-id="9cf2e-137">Média</span><span class="sxs-lookup"><span data-stu-id="9cf2e-137">Media</span></span> | <span data-ttu-id="9cf2e-138">Threads explicitement balisés par le [service Planificateur de classes multimédias](/windows/desktop/procthread/multimedia-class-scheduler-service) pour indiquer la mise en mémoire tampon des lots multimédias</span><span class="sxs-lookup"><span data-stu-id="9cf2e-138">Threads explicitly tagged by the [Multimedia Class Scheduler Service](/windows/desktop/procthread/multimedia-class-scheduler-service) to denote multimedia batch buffering</span></span> | <span data-ttu-id="9cf2e-139">Fréquence UC réduite pour un traitement par lots efficace</span><span class="sxs-lookup"><span data-stu-id="9cf2e-139">CPU frequency reduced for efficient batch processing</span></span> | <span data-ttu-id="9cf2e-140">2004</span><span class="sxs-lookup"><span data-stu-id="9cf2e-140">2004</span></span> |
| <span data-ttu-id="9cf2e-141">Échéance</span><span class="sxs-lookup"><span data-stu-id="9cf2e-141">Deadline</span></span> | <span data-ttu-id="9cf2e-142">Threads balisés explicitement par le [service Planificateur de classes multimédias](/windows/desktop/procthread/multimedia-class-scheduler-service) pour indiquer que les threads audio requièrent des performances pour respecter les échéances</span><span class="sxs-lookup"><span data-stu-id="9cf2e-142">Threads explicitly tagged by [Multimedia Class Scheduler Service](/windows/desktop/procthread/multimedia-class-scheduler-service) to denote that audio threads require performance to meet deadlines</span></span> | <span data-ttu-id="9cf2e-143">Hautes performances pour respecter les délais de support</span><span class="sxs-lookup"><span data-stu-id="9cf2e-143">High performance to meet media deadlines</span></span> | <span data-ttu-id="9cf2e-144">2004</span><span class="sxs-lookup"><span data-stu-id="9cf2e-144">2004</span></span> |

## <a name="quality-of-service-classification"></a><span data-ttu-id="9cf2e-145">Classification de la qualité de service</span><span class="sxs-lookup"><span data-stu-id="9cf2e-145">Quality of Service classification</span></span>

<span data-ttu-id="9cf2e-146">Le tableau suivant indique les classifications de qualité de service prises en charge.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-146">The following table shows the supported QoS classifications.</span></span>

| <span data-ttu-id="9cf2e-147">Source</span><span class="sxs-lookup"><span data-stu-id="9cf2e-147">Source</span></span> | <span data-ttu-id="9cf2e-148">Description</span><span class="sxs-lookup"><span data-stu-id="9cf2e-148">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9cf2e-149">Fondation multimédia</span><span class="sxs-lookup"><span data-stu-id="9cf2e-149">Multimedia Foundation</span></span> | <span data-ttu-id="9cf2e-150">Le [service Planificateur de classes multimédias](/windows/desktop/procthread/multimedia-class-scheduler-service) hiérarchise les ressources du processeur pour les scénarios multimédias.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-150">The [Multimedia Class Scheduler Service](/windows/desktop/procthread/multimedia-class-scheduler-service) prioritizes CPU resources for multimedia scenarios.</span></span> <span data-ttu-id="9cf2e-151">Le service marque les threads spécifiques responsables du traitement multimédia à l’aide des niveaux de QoS Media et échéance pour fournir une efficacité énergétique tout en respectant les délais de performance.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-151">The service tags specific threads responsible for multimedia processing using the Media and Deadline QoS levels to provide power efficiency while meeting performance deadlines.</span></span>  |
| <span data-ttu-id="9cf2e-152">API</span><span class="sxs-lookup"><span data-stu-id="9cf2e-152">API</span></span> | <span data-ttu-id="9cf2e-153">[SetProcessInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) permet aux développeurs de baliser explicitement un processus en tant que HighQoS ou EcoQoS en basculant la `PROCESS_POWER_THROTTLING_EXECUTION_SPEED` fonctionnalité dans **ProcessPowerThrottling**.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-153">[SetProcessInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) lets developers explicitly tag a process as HighQoS or EcoQoS by toggling the `PROCESS_POWER_THROTTLING_EXECUTION_SPEED` feature in **ProcessPowerThrottling**.</span></span></br><span data-ttu-id="9cf2e-154">[SetThreadInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) permet aux développeurs de baliser explicitement un thread en tant que HighQoS ou EcoQoS en basculant la `THREAD_POWER_THROTTLING_EXECUTION_SPEED` fonctionnalité dans **ThreadPowerThrottling** .</span><span class="sxs-lookup"><span data-stu-id="9cf2e-154">[SetThreadInformation](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-setprocessinformation) lets developers explicitly tag a thread as HighQoS or EcoQoS by toggling the `THREAD_POWER_THROTTLING_EXECUTION_SPEED` feature in **ThreadPowerThrottling** .</span></span>  |
| <span data-ttu-id="9cf2e-155">Seraient</span><span class="sxs-lookup"><span data-stu-id="9cf2e-155">Audible</span></span> | <span data-ttu-id="9cf2e-156">Les processus qui sont déterminés à la lecture de l’audio sont HighQoS.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-156">Processes which are determined to be playing audio are HighQoS.</span></span> |
| <span data-ttu-id="9cf2e-157">Visible</span><span class="sxs-lookup"><span data-stu-id="9cf2e-157">Visible</span></span> | <span data-ttu-id="9cf2e-158">Les processus qui possèdent directement une fenêtre (ou qui sont des descendants de processus possédant des fenêtres) se voient attribuer un niveau de qualité de service en fonction de leur visibilité et de leur état de Focus :</span><span class="sxs-lookup"><span data-stu-id="9cf2e-158">Processes which directly own a window (or are descendants of window owning processes) are assigned a QoS level according to their visibility and focus state:</span></span></br></br><table><tr><th><span data-ttu-id="9cf2e-159">État de la fenêtre</span><span class="sxs-lookup"><span data-stu-id="9cf2e-159">Window State</span></span></th><th><span data-ttu-id="9cf2e-160">Qualité de service</span><span class="sxs-lookup"><span data-stu-id="9cf2e-160">Quality of Service</span></span></th></tr><tr><td><span data-ttu-id="9cf2e-161">Dans le focus</span><span class="sxs-lookup"><span data-stu-id="9cf2e-161">In Focus</span></span></td><td><span data-ttu-id="9cf2e-162">Élevé</span><span class="sxs-lookup"><span data-stu-id="9cf2e-162">High</span></span></td></tr><tr><td><span data-ttu-id="9cf2e-163">Visible</span><span class="sxs-lookup"><span data-stu-id="9cf2e-163">Visible</span></span></td><td><span data-ttu-id="9cf2e-164">Moyenne</span><span class="sxs-lookup"><span data-stu-id="9cf2e-164">Medium</span></span></td></tr><tr><td><span data-ttu-id="9cf2e-165">Réduit ou entièrement bloqués</span><span class="sxs-lookup"><span data-stu-id="9cf2e-165">Minimized, or Fully Occluded</span></span></td><td><span data-ttu-id="9cf2e-166">Faible</span><span class="sxs-lookup"><span data-stu-id="9cf2e-166">Low</span></span></td></tr></table> |
| <span data-ttu-id="9cf2e-167">Heuristique</span><span class="sxs-lookup"><span data-stu-id="9cf2e-167">Heuristic</span></span> | <span data-ttu-id="9cf2e-168">Les threads qui ne sont pas classés par les sources ci-dessus reçoivent automatiquement un niveau de QoS par le système.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-168">Threads which are not classified by the above sources are automatically assigned a QoS level by the system.</span></span> <span data-ttu-id="9cf2e-169">Ces heuristiques incluent (mais ne sont pas limitées à) la priorité des threads, où les threads qui s’exécutent avec une priorité de thread réduite peuvent impliquer un niveau de QoS inférieur.</span><span class="sxs-lookup"><span data-stu-id="9cf2e-169">These heuristics include (but are not limited to) thread priority, where threads running with reduced thread priority can imply a lower QoS level.</span></span> |
