---
description: Lorsqu’un nouveau thread est créé par la fonction CreateThread ou CreateRemoteThread, un descripteur du thread est retourné.
ms.assetid: ff91fe27-9773-4185-bc1e-57e897be3821
title: Handles et identificateurs de thread
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 501d449bdb34d158ad14e52409967d4ef17f62f3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103865054"
---
# <a name="thread-handles-and-identifiers"></a><span data-ttu-id="fbc0a-103">Handles et identificateurs de thread</span><span class="sxs-lookup"><span data-stu-id="fbc0a-103">Thread Handles and Identifiers</span></span>

<span data-ttu-id="fbc0a-104">Lorsqu’un nouveau thread est créé par la fonction [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) ou [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) , un descripteur du thread est retourné.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-104">When a new thread is created by the [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) or [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) function, a handle to the thread is returned.</span></span> <span data-ttu-id="fbc0a-105">Par défaut, ce handle dispose de droits d’accès complets et, sous réserve de la vérification de l’accès à la sécurité, peut être utilisé dans toutes les fonctions qui acceptent un handle de thread.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-105">By default, this handle has full access rights, and—subject to security access checking—can be used in any of the functions that accept a thread handle.</span></span> <span data-ttu-id="fbc0a-106">Ce handle peut être hérité par les processus enfants, en fonction de l’indicateur d’héritage spécifié lors de sa création.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-106">This handle can be inherited by child processes, depending on the inheritance flag specified when it is created.</span></span> <span data-ttu-id="fbc0a-107">Le descripteur peut être dupliqué par [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle), ce qui vous permet de créer un handle de thread avec un sous-ensemble des droits d’accès.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-107">The handle can be duplicated by [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle), which enables you to create a thread handle with a subset of the access rights.</span></span> <span data-ttu-id="fbc0a-108">Le handle est valide jusqu’à la fermeture, même après l’arrêt du thread qu’il représente.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-108">The handle is valid until closed, even after the thread it represents has been terminated.</span></span>

<span data-ttu-id="fbc0a-109">Les fonctions [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) et [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) retournent également un identificateur qui identifie de façon unique le thread dans l’ensemble du système.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-109">The [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) and [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) functions also return an identifier that uniquely identifies the thread throughout the system.</span></span> <span data-ttu-id="fbc0a-110">Un thread peut utiliser la fonction [**GetCurrentThreadID**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthreadid) pour obtenir son propre identificateur de thread.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-110">A thread can use the [**GetCurrentThreadId**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthreadid) function to get its own thread identifier.</span></span> <span data-ttu-id="fbc0a-111">Les identificateurs sont valides à partir du moment où le thread est créé jusqu’à l’arrêt du thread.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-111">The identifiers are valid from the time the thread is created until the thread has been terminated.</span></span> <span data-ttu-id="fbc0a-112">Notez qu’aucun identificateur de thread ne sera jamais égal à 0.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-112">Note that no thread identifier will ever be 0.</span></span>

<span data-ttu-id="fbc0a-113">Si vous avez un identificateur de thread, vous pouvez obtenir le handle de thread en appelant la fonction [**OpenThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthread) .</span><span class="sxs-lookup"><span data-stu-id="fbc0a-113">If you have a thread identifier, you can get the thread handle by calling the [**OpenThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthread) function.</span></span> <span data-ttu-id="fbc0a-114">**OpenThread** vous permet de spécifier les droits d’accès du handle et s’il peut être hérité.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-114">**OpenThread** enables you to specify the handle's access rights and whether it can be inherited.</span></span>

<span data-ttu-id="fbc0a-115">Un thread peut utiliser la fonction [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) pour récupérer un *Pseudo-handle* vers son propre objet thread.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-115">A thread can use the [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) function to retrieve a *pseudo handle* to its own thread object.</span></span> <span data-ttu-id="fbc0a-116">Ce pseudo-handle est valide uniquement pour le processus appelant ; elle ne peut pas être héritée ou dupliquée pour être utilisée par d’autres processus.</span><span class="sxs-lookup"><span data-stu-id="fbc0a-116">This pseudo handle is valid only for the calling process; it cannot be inherited or duplicated for use by other processes.</span></span> <span data-ttu-id="fbc0a-117">Pour obtenir le handle réel du thread, étant donné un pseudo handle, utilisez la fonction [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) .</span><span class="sxs-lookup"><span data-stu-id="fbc0a-117">To get the real handle to the thread, given a pseudo handle, use the [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) function.</span></span>

<span data-ttu-id="fbc0a-118">Pour énumérer les threads d’un processus, utilisez les fonctions [**Thread32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32first) et [**Thread32Next**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32next) .</span><span class="sxs-lookup"><span data-stu-id="fbc0a-118">To enumerate the threads of a process, use the [**Thread32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32first) and [**Thread32Next**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32next) functions.</span></span>

 

 
