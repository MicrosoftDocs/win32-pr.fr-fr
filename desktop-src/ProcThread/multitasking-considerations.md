---
description: L’indication recommandée consiste à utiliser le moins de threads possible, ce qui réduit l’utilisation des ressources système.
ms.assetid: ed9bd3cf-b10c-49f9-bf62-7332517350b7
title: Considérations relatives au multitâche
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6ec64bf1b7d59a42a1aec3511a72328f18bfaa88
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104115554"
---
# <a name="multitasking-considerations"></a><span data-ttu-id="0a2e7-103">Considérations relatives au multitâche</span><span class="sxs-lookup"><span data-stu-id="0a2e7-103">Multitasking Considerations</span></span>

<span data-ttu-id="0a2e7-104">L’indication recommandée consiste à utiliser le moins de threads possible, ce qui réduit l’utilisation des ressources système.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-104">The recommended guideline is to use as few threads as possible, thereby minimizing the use of system resources.</span></span> <span data-ttu-id="0a2e7-105">Les performances en sont alors améliorées.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-105">This improves performance.</span></span> <span data-ttu-id="0a2e7-106">Le multitâche a des besoins en ressources et des conflits potentiels à prendre en compte lors de la conception de votre application.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-106">Multitasking has resource requirements and potential conflicts to be considered when designing your application.</span></span> <span data-ttu-id="0a2e7-107">Voici les exigences en matière de ressources :</span><span class="sxs-lookup"><span data-stu-id="0a2e7-107">The resource requirements are as follows:</span></span>

-   <span data-ttu-id="0a2e7-108">Le système consomme de la mémoire pour les informations de contexte requises par les processus et les threads.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-108">The system consumes memory for the context information required by both processes and threads.</span></span> <span data-ttu-id="0a2e7-109">Par conséquent, le nombre de processus et de threads pouvant être créés est limité par la mémoire disponible.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-109">Therefore, the number of processes and threads that can be created is limited by available memory.</span></span>
-   <span data-ttu-id="0a2e7-110">Le fait de suivre un grand nombre de threads consomme un temps processeur non négligeable.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-110">Keeping track of a large number of threads consumes significant processor time.</span></span> <span data-ttu-id="0a2e7-111">Si le nombre de threads est trop élevé, la plupart d’entre eux ne seront pas en mesure d’effectuer une progression significative.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-111">If there are too many threads, most of them will not be able to make significant progress.</span></span> <span data-ttu-id="0a2e7-112">Si la majorité des threads en cours se trouvent dans un même processus, les threads des autres processus sont planifiés à une fréquence moindre.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-112">If most of the current threads are in one process, threads in other processes are scheduled less frequently.</span></span>

<span data-ttu-id="0a2e7-113">L’accès partagé aux ressources risque de créer des conflits.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-113">Providing shared access to resources can create conflicts.</span></span> <span data-ttu-id="0a2e7-114">Pour les éviter, vous devez synchroniser l’accès aux ressources partagées.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-114">To avoid them, you must synchronize access to shared resources.</span></span> <span data-ttu-id="0a2e7-115">Cela est vrai pour les ressources système (telles que les ports de communication), les ressources partagées par plusieurs processus (comme les descripteurs de fichiers) ou les ressources d’un processus unique (telles que les variables globales) accessibles par plusieurs threads.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-115">This is true for system resources (such as communications ports), resources shared by multiple processes (such as file handles), or the resources of a single process (such as global variables) accessed by multiple threads.</span></span> <span data-ttu-id="0a2e7-116">L’échec de la synchronisation de l’accès (dans le même processus ou dans des processus différents) peut entraîner des problèmes tels que les blocages et les conditions de concurrence.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-116">Failure to synchronize access properly (in the same or in different processes) can lead to problems such as deadlock and race conditions.</span></span> <span data-ttu-id="0a2e7-117">Objets et fonctions de synchronisation que vous pouvez utiliser pour coordonner le partage des ressources entre plusieurs threads.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-117">The synchronization objects and functions you can use to coordinate resource sharing among multiple threads.</span></span> <span data-ttu-id="0a2e7-118">Pour plus d’informations sur la synchronisation, consultez [synchronisation de plusieurs threads](synchronizing-execution-of-multiple-threads.md).</span><span class="sxs-lookup"><span data-stu-id="0a2e7-118">For more information about synchronization, see [Synchronizing Execution of Multiple Threads](synchronizing-execution-of-multiple-threads.md).</span></span> <span data-ttu-id="0a2e7-119">La réduction du nombre de threads rend plus facile et plus efficace la synchronisation des ressources.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-119">Reducing the number of threads makes it easier and more effective to synchronize resources.</span></span>

<span data-ttu-id="0a2e7-120">Le serveur de pipeline est une bonne conception pour une application multithread.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-120">A good design for a multithreaded application is the pipeline server.</span></span> <span data-ttu-id="0a2e7-121">Dans cette conception, vous créez un thread par processeur et les files d’attente de build des requêtes pour lesquelles l’application gère les informations de contexte.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-121">In this design, you create one thread per processor and build queues of requests for which the application maintains the context information.</span></span> <span data-ttu-id="0a2e7-122">Un thread traiterait toutes les demandes dans une file d’attente avant le traitement des demandes dans la file d’attente suivante.</span><span class="sxs-lookup"><span data-stu-id="0a2e7-122">A thread would process all requests in a queue before processing requests in the next queue.</span></span>

 

 



