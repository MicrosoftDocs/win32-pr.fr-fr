---
description: Le modèle de sécurité Microsoft Windows vous permet de contrôler l’accès aux objets de processus. Pour plus d’informations sur la sécurité, consultez Access-Control modèle.
ms.assetid: 508a17c4-88cd-431a-a102-00180a7f7ab5
title: Sécurité des processus et droits d’accès
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 93a5fb29599c5a769b9a7b63d653d24ec543e408
ms.sourcegitcommit: b01ad017c152c6756f3638623fe335877644d414
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/06/2021
ms.locfileid: "111549971"
---
# <a name="process-security-and-access-rights"></a>Sécurité des processus et droits d’accès

Le modèle de sécurité Microsoft Windows vous permet de contrôler l’accès aux objets de processus. Pour plus d’informations sur la sécurité, consultez [modèle de contrôle d’accès](../secauthz/access-control-model.md).

Lorsqu’un utilisateur se connecte, le système collecte un jeu de données qui identifie de façon unique l’utilisateur pendant le processus d’authentification et le stocke dans un [jeton d’accès](../secauthz/access-tokens.md). Ce jeton d’accès décrit le contexte de sécurité de tous les processus associés à l’utilisateur. Le contexte de sécurité d’un processus correspond à l’ensemble des informations d’identification fournies au processus ou au compte d’utilisateur qui a créé le processus.

Vous pouvez utiliser un jeton pour spécifier le contexte de sécurité actuel d’un processus à l’aide de la fonction [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) . Vous pouvez spécifier un [descripteur de sécurité](../secauthz/security-descriptors.md) pour un processus lorsque vous appelez la fonction [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)ou [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) . Si vous spécifiez **null**, le processus obtient un descripteur de sécurité par défaut. Les listes de contrôle d’accès dans le descripteur de sécurité par défaut d’un processus proviennent du jeton principal ou d’emprunt d’identité du créateur.

Pour récupérer le descripteur de sécurité d’un processus, appelez la fonction [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) . Pour modifier le descripteur de sécurité d’un processus, appelez la fonction [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .

Les droits d’accès valides pour les objets de processus incluent les droits d' [accès standard](../secauthz/standard-access-rights.md) et certains droits d’accès spécifiques au processus. Le tableau suivant répertorie les droits d’accès standard utilisés par tous les objets.

| Value                           | Signification                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Supprimer** (0x00010000L)        | Requis pour supprimer l’objet.                                                                                                                                                                                                                                                           |
| **Lecture \_ CONTRÔLE** (0x00020000L) | Requis pour lire les informations dans le descripteur de sécurité de l’objet, à l’exclusion des informations contenues dans la liste SACL. Pour lire ou écrire dans la liste SACL, vous devez demander le droit d’accès à la **\_ \_ sécurité du système Access** . Pour plus d’informations, consultez [droit d’accès SACL](../secauthz/sacl-access-right.md). |
| **Synchroniser** (0x00100000L)   | Droit d'utiliser l'objet pour la synchronisation. Cela permet à un thread d’attendre jusqu’à ce que l’objet soit dans l’état signalé.                                                                                                                                                                |
| **Écriture \_ DAC** (0x00040000L)    | Requis pour modifier la liste DACL dans le descripteur de sécurité de l’objet.                                                                                                                                                                                                                   |
| **Écriture \_ PROPRIÉTAIRE** (0x00080000L)  | Requis pour modifier le propriétaire dans le descripteur de sécurité de l’objet.                                                                                                                                                                                                                  |



 

Le tableau suivant répertorie les droits d’accès spécifiques au processus.



| Value                                             | Signification                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **TRAITER \_ tout \_ l’accès**                          | Tous les droits d’accès possibles pour un objet processus. **Windows Server 2003 et Windows XP :** La taille de l’indicateur **traiter \_ tout l' \_ accès** a augmenté sur Windows Server 2008 et Windows Vista. Si une application compilée pour Windows Server 2008 et Windows Vista est exécutée sur Windows Server 2003 ou Windows XP, l’indicateur **traiter \_ tout l' \_ accès** est trop grand et la fonction qui spécifie cet indicateur échoue avec l' **erreur \_ accès \_ refusé**. Pour éviter ce problème, spécifiez l’ensemble minimal de droits d’accès requis pour l’opération. Si vous devez utiliser l' **\_ \_ accès traiter tout** , définissez \_ Win32 \_ winnt sur le système d’exploitation minimal ciblé par votre application (par exemple, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ). Pour plus d’informations, consultez [utilisation des en-têtes Windows](../winprog/using-the-windows-headers.md). <br/> |
| **Processus \_ CRÉER un \_ processus** (0x0080)             | Requis pour créer un processus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Processus \_ CRÉER un \_ thread** (0x0002)              | Requis pour créer un thread.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Processus \_ \_Handle DUP** (0x0040)                 | Requis pour dupliquer un handle à l’aide de [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Processus \_ \_Informations sur la requête** (0x0400)          | Requis pour récupérer certaines informations sur un processus, telles que son jeton, son code de sortie et sa classe de priorité (consultez [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Processus \_ \_Informations limitées \_ sur les requêtes** (0x1000) | Requis pour récupérer certaines informations sur un processus (consultez [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)). Un handle qui a le droit d’accès aux **\_ \_ informations de requête de processus** reçoit automatiquement les **\_ \_ \_ informations limitées** à la requête de processus.**Windows Server 2003 et Windows XP :** ce droit d’accès n’est pas pris en charge.<br/>                                                                                                                                                                                                                                                                                                                         |
| **Processus \_ DÉFINIR des \_ informations** (0x0200)            | Requis pour définir certaines informations sur un processus, telles que sa classe de priorité (voir [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Processus \_ DÉFINIR le \_ quota** (0x0100)                  | Requis pour définir des limites de mémoire à l’aide de [**SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Processus \_ SUSPENDRE la \_ reprise** (0x0800)             | Requis pour suspendre ou reprendre un processus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Processus \_ TERMINATE** (0x0001)                   | Requis pour mettre fin à un processus à l’aide de [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Processus \_ \_Opération de machine virtuelle** (0x0008)               | Requis pour effectuer une opération sur l’espace d’adressage d’un processus (consultez [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) et [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Processus \_ \_Lecture de machine virtuelle** (0x0010)                    | Requis pour lire la mémoire dans un processus à l’aide de [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Processus \_ \_Écriture de machine virtuelle** (0x0020)                   | Requis pour écrire dans la mémoire d’un processus à l’aide de [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Synchroniser** (0x00100000L)                     | Requis pour attendre que le processus se termine à l’aide des [fonctions Wait](../sync/wait-functions.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

Pour ouvrir un handle vers un autre processus et obtenir des droits d’accès complets, vous devez activer le privilège **SeDebugPrivilege** . Pour plus d’informations, consultez [modification des privilèges dans un jeton](../secbp/changing-privileges-in-a-token.md).

Le handle retourné par la fonction [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) a **\_ tout \_** accès à l’objet de processus. Quand vous appelez la fonction [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) , le système vérifie les [droits d’accès](../secauthz/access-rights-and-access-masks.md) demandés par rapport à la liste DACL dans le descripteur de sécurité du processus. Lorsque vous appelez la fonction [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) , le système retourne un pseudohandle avec l’accès maximal que la liste DACL autorise à l’appelant.

Vous pouvez demander le droit accès à la **\_ \_ sécurité du système d’accès** à un objet processus si vous souhaitez lire ou écrire la liste SACL de l’objet. Pour plus d’informations, consultez [listes de contrôle d’accès (ACL)](../secauthz/access-control-lists.md) et [droit d’accès SACL](../secauthz/sacl-access-right.md).

> [!WARNING]
> Un processus qui dispose de certains des droits d’accès indiqués ici peut les utiliser pour obtenir d’autres droits d’accès. Par exemple, si le processus a a un handle pour traiter B avec l’accès au **processus \_ DUP \_** , il peut dupliquer le pseudo-handle du processus b. Cela crée un handle qui a un accès maximal au processus B. Pour plus d’informations sur les Pseudo-Handles, consultez [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).

 

## <a name="protected-processes"></a>Processus protégés

Windows Vista introduit des *processus protégés* pour améliorer la prise en charge des Rights Management numériques. Le système restreint l’accès aux processus protégés et aux threads de processus protégés.

Les droits d’accès standard suivants ne sont pas autorisés d’un processus à un processus protégé :

- **DELETE**  
- **LIRE \_ le contrôle**  
- **ÉCRITURE \_ DAC**  
- **propriétaire en écriture \_**  

Les droits d’accès spécifiques suivants ne sont pas autorisés d’un processus à un processus protégé :

- **TRAITER \_ tout \_ l’accès**  
- **processus de création de processus \_ \_**  
- **PROCESSUS de \_ création de \_ thread**  
- **TRAITER \_ le \_ handle DUP**  
- **TRAITER \_ les \_ informations de requête**  
- **\_informations sur le jeu de processus \_**  
- **QUOTA de l’ensemble de processus \_ \_**  
- **TRAITER l' \_ opération de machine virtuelle \_**  
- **TRAITER la lecture de la \_ machine virtuelle \_**  
- **TRAITER l’écriture de la \_ machine virtuelle \_**  

Le droit d' **\_ \_ \_ informations limitées au processus de requête** a été introduit pour fournir l’accès à un sous-ensemble des informations disponibles par le biais des **\_ \_ informations de requête de processus**.
