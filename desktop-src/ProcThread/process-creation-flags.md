---
Description: Les indicateurs de création de processus suivants sont utilisés par les fonctions CreateProcess, CreateProcessAsUser, CreateProcessWithLogonW et CreateProcessWithTokenW. Ils peuvent être spécifiés dans n’importe quelle combinaison, sauf indication contraire.
ms.assetid: fd3384ad-8635-4ea1-9054-0572ef86b86d
title: Indicateurs de création de processus (WinBase. h)
ms.topic: reference
ms.custom: snippet-project
ms.date: 07/27/2020
ms.openlocfilehash: 560a6c5ca54a5767c0fb0c9b4b8659d608f46766
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/22/2021
ms.locfileid: "106545354"
---
# <a name="process-creation-flags"></a>Indicateurs de création de processus

Les indicateurs de création de processus suivants sont utilisés par les fonctions [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw)et [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) . Ils peuvent être spécifiés dans n’importe quelle combinaison, sauf indication contraire.

## <a name="example"></a>Exemple

```c
     BOOL creationResult;
    
    creationResult = CreateProcess(
        NULL,                   // No module name (use command line)
        cmdLine,                // Command line
        NULL,                   // Process handle not inheritable
        NULL,                   // Thread handle not inheritable
        FALSE,                  // Set handle inheritance to FALSE
        NORMAL_PRIORITY_CLASS | CREATE_NEW_CONSOLE | CREATE_NEW_PROCESS_GROUP, // creation flags
        NULL,                   // Use parent's environment block
        NULL,                   // Use parent's starting directory 
        &startupInfo,           // Pointer to STARTUPINFO structure
        &processInformation);   // Pointer to PROCESS_INFORMATION structure

```

Exemple tiré d' [exemples classiques Windows](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/ManagementInfrastructure/cpp/Process/Provider/WindowsProcess.c) sur GitHub.


## <a name="flags"></a>Indicateurs

| Constante/valeur                                                                                                                                                                                                                                                                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="CREATE_BREAKAWAY_FROM_JOB"></span><span id="create_breakaway_from_job"></span><dl> <dt>**Créer \_ DISSOCIation \_ d’un \_ travail**</dt> <dt>0x01000000</dt> </dl>                       | Les processus enfants d’un processus associé à un travail ne sont pas associés à ce travail. <br/> Si le processus appelant n’est pas associé à un travail, cette constante n’a aucun effet. Si le processus appelant est associé à un travail, le travail doit définir la limite de **\_ \_ \_ dissociation \_ de limite d’objets de tâche** .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_DEFAULT_ERROR_MODE"></span><span id="create_default_error_mode"></span><dl> <dt>**Créer \_ \_ \_ Mode d’erreur par défaut**</dt> <dt>0x04000000</dt> </dl>                       | Le nouveau processus n’hérite pas du mode d’erreur du processus appelant. Au lieu de cela, le nouveau processus obtient le mode d’erreur par défaut. <br/> Cette fonctionnalité est particulièrement utile pour les applications Shell multithread qui s’exécutent avec des erreurs matérielles désactivées.<br/> Le comportement par défaut est que le nouveau processus hérite du mode d’erreur de l’appelant. La définition de cet indicateur modifie ce comportement par défaut.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="CREATE_NEW_CONSOLE"></span><span id="create_new_console"></span><dl> <dt>**Créer \_ NOUVELLE \_ console**</dt> <dt>0x00000010</dt> </dl>                                             | Le nouveau processus a une nouvelle console, au lieu d’hériter de la console de son parent (valeur par défaut). Pour plus d’informations, consultez [création d’une console](/windows/console/creation-of-a-console). <br/> Cet indicateur ne peut pas être utilisé avec un **\_ processus détaché**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="CREATE_NEW_PROCESS_GROUP"></span><span id="create_new_process_group"></span><dl> <dt>**Créer \_ Nouveau \_ \_ groupe de processus**</dt> <dt>0x00000200</dt> </dl>                          | Le nouveau processus est le processus racine d’un nouveau groupe de processus. Le groupe de processus comprend tous les processus qui sont des descendants de ce processus racine. L’identificateur de processus du nouveau groupe de processus est identique à l’identificateur de processus, qui est retourné dans le paramètre *lpProcessInformation* . Les groupes de processus sont utilisés par la fonction [**GenerateConsoleCtrlEvent**](/windows/console/generateconsolectrlevent) pour permettre l’envoi d’un signal CTRL + ATTN à un groupe de processus de console.<br/> Si cet indicateur est spécifié, les signaux CTRL + C sont désactivés pour tous les processus au sein du nouveau groupe de processus.<br/> Cet indicateur est ignoré s’il est spécifié avec **Create \_ New \_ console**.<br/>                                                                                                                                                                                                                                                                         |
| <span id="CREATE_NO_WINDOW"></span><span id="create_no_window"></span><dl> <dt>**Créer \_ AUCUNE \_ fenêtre**</dt> <dt>0x08000000</dt> </dl>                                                   | Le processus est une application console en cours d’exécution sans fenêtre de console. Par conséquent, le handle de la console de l’application n’est pas défini.<br/> Cet indicateur est ignoré si l’application n’est pas une application console ou si elle est utilisée avec l’option **créer une \_ nouvelle \_ console** ou **détacher le \_ processus**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="CREATE_PROTECTED_PROCESS"></span><span id="create_protected_process"></span><dl> <dt>**Créer \_ 0x00040000 du \_ processus protégé**</dt> <dt></dt> </dl>                           | Le processus doit être exécuté en tant que processus protégé. Le système restreint l’accès aux processus protégés et aux threads de processus protégés. Pour plus d’informations sur la façon dont les processus peuvent interagir avec les processus protégés, consultez [sécurité des processus et droits d’accès](process-security-and-access-rights.md).<br/> Pour activer un processus protégé, le binaire doit avoir une signature spéciale. Cette signature est fournie par Microsoft, mais pas actuellement disponible pour les fichiers binaires non Microsoft. Il existe actuellement quatre processus protégés : Media Foundation, le moteur audio, le rapport d’erreurs Windows et le système. Les composants qui chargent ces fichiers binaires doivent également être signés. Les entreprises multimédias peuvent tirer parti des deux premiers processus protégés. Pour plus d’informations, consultez [vue d’ensemble du chemin d’accès au média protégé](../medfound/protected-media-path.md).<br/> **Windows Server 2003 et Windows XP :** Cette valeur n’est pas prise en charge.<br/> |
| <span id="CREATE_PRESERVE_CODE_AUTHZ_LEVEL"></span><span id="create_preserve_code_authz_level"></span><dl> <dt>**Créer \_ PRÉSERVER \_ le \_ \_ niveau**</dt> d’autorisation de code <dt>0x02000000</dt> </dl> | Permet à l’appelant d’exécuter un processus enfant qui ignore les restrictions de processus qui seraient normalement appliquées automatiquement au processus.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="CREATE_SECURE_PROCESS"></span><span id="create_secure_process"></span><dl> <dt>**Créer \_ 0x00400000 de \_ processus sécurisé**</dt> <dt></dt> </dl>                                    | Cet indicateur permet de lancer des processus sécurisés qui s’exécutent dans l’environnement de sécurité Virtualization-Based.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_SEPARATE_WOW_VDM"></span><span id="create_separate_wow_vdm"></span><dl> <dt>**Créer \_ SÉPARER les 0x00000800 \_ \_ VDM WOW**</dt> <dt></dt> </dl>                             | Cet indicateur n’est valide que lors du démarrage d’une application Windows 16 bits. Si cette valeur est définie, le nouveau processus s’exécute sur une machine virtuelle DOS privée (VDM). Par défaut, toutes les applications Windows 16 bits s’exécutent en tant que threads dans un VDM partagé unique. L’avantage de s’exécuter séparément est qu’un incident ne met fin qu’à un seul VDM ; tous les autres programmes en cours d’exécution dans des VDM distincts continuent de fonctionner normalement. En outre, les applications Windows 16 bits exécutées dans des VDM distincts ont des files d’attente d’entrée distinctes. Cela signifie que si une application cesse de répondre momentanément, les applications dans des VDM distincts continuent de recevoir l’entrée. L’inconvénient de l’exécution séparée est qu’il faut beaucoup plus de mémoire pour le faire. Utilisez cet indicateur uniquement si l’utilisateur demande que les applications 16 bits s’exécutent dans leur propre VDM.<br/>                                                                                                                 |
| <span id="CREATE_SHARED_WOW_VDM"></span><span id="create_shared_wow_vdm"></span><dl> <dt>**Créer \_ 0x00001000 \_ \_ VDM Shared wow**</dt> <dt></dt> </dl>                                   | L’indicateur n’est valide que lors du démarrage d’une application Windows 16 bits. Si le commutateur DefaultSeparateVDM dans la section Windows de WIN.INI a la **valeur true**, cet indicateur remplace le commutateur. Le nouveau processus est exécuté dans la machine DOS virtuelle partagée.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="CREATE_SUSPENDED"></span><span id="create_suspended"></span><dl> <dt>**Créer \_ SUSPENDU**</dt> <dt>0x00000004</dt> </dl>                                                    | Le thread principal du nouveau processus est créé dans un état suspendu et ne s’exécute pas tant que la fonction [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) n’est pas appelée.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="CREATE_UNICODE_ENVIRONMENT"></span><span id="create_unicode_environment"></span><dl> <dt>**Créer \_ \_**</dt> <dt>0x00000400</dt> de l’environnement Unicode </dl>                     | Si cet indicateur est défini, le bloc d’environnement pointé par *lpEnvironment* utilise des caractères Unicode. Dans le cas contraire, le bloc environnement utilise des caractères ANSI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="DEBUG_ONLY_THIS_PROCESS"></span><span id="debug_only_this_process"></span><dl> <dt>**Débogage \_ UNIQUEMENT \_ ce \_ processus**</dt> <dt>0x00000002</dt> </dl>                             | Le thread appelant démarre et débogue le nouveau processus. Il peut recevoir tous les événements de débogage associés à l’aide de la fonction [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="DEBUG_PROCESS"></span><span id="debug_process"></span><dl> <dt>**Débogage \_ PROCESSUS**</dt> <dt>0x00000001</dt> </dl>                                                             | Le thread appelant démarre et débogue le nouveau processus et tous les processus enfants créés par le nouveau processus. Il peut recevoir tous les événements de débogage associés à l’aide de la fonction [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) . <br/> Un processus qui utilise **le \_ processus de débogage** devient la racine d’une chaîne de débogage. Cela se poursuit jusqu’à ce qu’un autre processus de la chaîne soit créé avec le **\_ processus de débogage**.<br/> Si cet indicateur est combiné avec le **débogage \_ uniquement \_ ce \_ processus**, l’appelant ne débogue que le nouveau processus, pas les processus enfants.<br/>                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="DETACHED_PROCESS"></span><span id="detached_process"></span><dl> <dt>**Détaché \_ TRAITER**</dt> <dt>0x00000008</dt> </dl>                                                    | Pour les processus de console, le nouveau processus n’hérite pas de la console de son parent (valeur par défaut). Le nouveau processus peut appeler la fonction [**AllocConsole**](/windows/console/allocconsole) à un moment ultérieur pour créer une console. Pour plus d’informations, consultez [création d’une console](/windows/console/creation-of-a-console). <br/> Cette valeur ne peut pas être utilisée avec **Create \_ New \_ console**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="EXTENDED_STARTUPINFO_PRESENT"></span><span id="extended_startupinfo_present"></span><dl> <dt>**Étendu \_ STARTUPINFO \_ présent**</dt> <dt>0x00080000</dt> </dl>               | Le processus est créé avec des informations de démarrage étendues. le paramètre *lpStartupInfo* spécifie une structure [**STARTUPINFOEX**](/windows/desktop/api/WinBase/ns-winbase-startupinfoexa) .<br/> **Windows Server 2003 et Windows XP :** Cette valeur n’est pas prise en charge.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="INHERIT_PARENT_AFFINITY"></span><span id="inherit_parent_affinity"></span><dl> <dt>**Hériter \_ \_Affinité parent**</dt> <dt>0x00010000</dt> </dl>                              | Le processus hérite de l’affinité de son parent. Si le processus parent possède des threads dans plusieurs [groupes de processeurs](processor-groups.md), le nouveau processus hérite de l’affinité relative au groupe d’un groupe arbitraire utilisé par le parent.<br/> **Windows server 2008, Windows Vista, Windows server 2003 et Windows XP :** Cette valeur n’est pas prise en charge.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



## <a name="remarks"></a>Notes

Sur Windows 32 bits, les applications 16 bits sont simulées par ntvdm.exe, et ne sont pas exécutées en tant que processus individuels. Par conséquent, les indicateurs de création de processus s’appliquent à *ntvdm.exe*. Étant donné que ntvdm.exe persiste après l’exécution de la première application 16 bits, lorsque vous lancez une autre application 16 bits, les nouveaux indicateurs de création ne sont pas appliqués, à l’exception de la création d’une **\_ nouvelle \_ console** et de la création d’un **\_ \_ \_ VDM WOW distinct** qui crée une ntvdm.exe.

## <a name="requirements"></a>Configuration requise



| Condition requise | Valeur |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| Client minimal pris en charge<br/> | Applications de \[ Bureau Windows XP uniquement\]<br/>                                                              |
| Serveur minimal pris en charge<br/> | Applications de bureau Windows Server 2003 \[ uniquement\]<br/>                                                     |
| En-tête<br/>                   | <dl> <dt>WinBase. h (inclure Windows. h)</dt> </dl> |



 

 
