---
title: Annotation de la carte des valeurs
description: Annotation de la carte des valeurs
ms.assetid: f7c9304a-0eed-4a73-ab06-56723f3cfa5d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8d21b04374344475689989c2570af6975dc97c13
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104552144"
---
# <a name="value-map-annotation"></a><span data-ttu-id="47a4c-103">Annotation de la carte des valeurs</span><span class="sxs-lookup"><span data-stu-id="47a4c-103">Value Map Annotation</span></span>

<span data-ttu-id="47a4c-104">Avec l’annotation de mappage de valeur, vous pouvez utiliser une chaîne de mappage pour indiquer la façon dont l’index d’image d’un élément d’un affichage de liste ou d’une arborescence correspond à son rôle ou état.</span><span class="sxs-lookup"><span data-stu-id="47a4c-104">With value map annotation, you can use a mapping string to indicate how the image index of an item in a list view or tree view corresponds to its role or state.</span></span> <span data-ttu-id="47a4c-105">Par exemple, une chaîne de mappage peut indiquer que l’index d’images d’un affichage de liste est mappé à un rôle de case à cocher, tandis que l’index d’image 1 est mappé à un rôle de case d’option.</span><span class="sxs-lookup"><span data-stu-id="47a4c-105">For example, a mapping string may indicate that a list view's image index 0 maps to a role of check box, while image index 1 maps to a role of radio button.</span></span>

<span data-ttu-id="47a4c-106">Vous pouvez également utiliser l’annotation de mappage de valeur pour spécifier des chaînes qui mappent aux valeurs numériques sur un curseur.</span><span class="sxs-lookup"><span data-stu-id="47a4c-106">You can also use value map annotation to specify strings that map to the numeric values on a slider.</span></span>

## <a name="when-to-use-this-technique"></a><span data-ttu-id="47a4c-107">Quand utiliser cette technique</span><span class="sxs-lookup"><span data-stu-id="47a4c-107">When to Use This Technique</span></span>

<span data-ttu-id="47a4c-108">Envisagez d’utiliser l’annotation de mappage de valeur dans les cas suivants.</span><span class="sxs-lookup"><span data-stu-id="47a4c-108">Consider using Value Map Annotation in the following situations.</span></span>

-   <span data-ttu-id="47a4c-109">Lorsqu’une vue de liste ou une arborescence owner-drawn incorpore l’utilisation d’images, et que vous souhaitez fournir une description accessible personnalisée (propriété [**Description**](description-property.md) ) en fonction de cette image.</span><span class="sxs-lookup"><span data-stu-id="47a4c-109">When an owner-drawn list view or tree view incorporates the use of images, and you want to provide a custom accessible description ([**Description**](description-property.md) property) based on that image.</span></span> <span data-ttu-id="47a4c-110">L'illustration suivante montre un exemple.</span><span class="sxs-lookup"><span data-stu-id="47a4c-110">The following illustration shows an example.</span></span>

    ![illustration du menu Démarrer, où les icônes fournissent des indications visuelles sur le contenu](images/iconlist.gif)

-   <span data-ttu-id="47a4c-112">Lorsqu’un contrôle d’affichage de liste ou d’arborescence owner-drawn incorpore l’utilisation d’images pour que les éléments d’arborescence ou de liste agissent comme des contrôles simples, généralement des cases à cocher ou des cases d’option, et que vous souhaitez mapper l’image à un rôle.</span><span class="sxs-lookup"><span data-stu-id="47a4c-112">When an owner-drawn list view or tree view control incorporates the use of images to make the tree or list items act like simple controls, typically checkboxes or radio buttons, and you want to map the image to a role.</span></span> <span data-ttu-id="47a4c-113">La capture d’écran suivante montre un exemple.</span><span class="sxs-lookup"><span data-stu-id="47a4c-113">The following screen shot shows an example.</span></span>

    ![capture d’écran des options d’Internet Explorer pour définir la valeur des cases à cocher et des cases d’option](images/customlist.gif)

-   <span data-ttu-id="47a4c-115">Lorsqu’un curseur est utilisé pour sélectionner une valeur qui peut être décrite comme autre chose qu’un simple entier, comme dans la capture d’écran suivante, où le paramètre de résolution d’écran est décrit par une chaîne.</span><span class="sxs-lookup"><span data-stu-id="47a4c-115">When a slider is used to select a value that can be described as something other than a simple integer, as in the following screen shot, where the screen resolution setting is described by a string.</span></span>

    ![capture d’écran d’un curseur utilisé pour définir la résolution de l’écran](images/slider.gif)

<span data-ttu-id="47a4c-117">Avec l’annotation de mappage de valeur, une chaîne de mappage indique comment l’index d’image de la liste ou de l’arborescence correspond à son rôle ou état.</span><span class="sxs-lookup"><span data-stu-id="47a4c-117">With value map annotation, a mapping string indicates how the list's or tree's image index corresponds to its role or state.</span></span> <span data-ttu-id="47a4c-118">Ou, il peut indiquer comment la valeur numérique d’un curseur correspond à une chaîne.</span><span class="sxs-lookup"><span data-stu-id="47a4c-118">Or, it can indicate how a slider's numeric value corresponds to a string.</span></span> <span data-ttu-id="47a4c-119">Par exemple, une chaîne de mappage peut indiquer que l’index d’image d’une vue Liste 0 correspond à un rôle de case à cocher et que l’index d’image 1 est mappé à un rôle de case d’option.</span><span class="sxs-lookup"><span data-stu-id="47a4c-119">For example, a mapping string may indicate that a list view's image index 0 maps to a role of check box and image index 1 maps to a role of radio button.</span></span> <span data-ttu-id="47a4c-120">Utilisez [**IAccPropServices :: SetHwndPropStr ()**](/windows/desktop/api/Oleacc/nf-oleacc-iaccpropservices-sethwndpropstr) pour attacher la chaîne de mappage au contrôle.</span><span class="sxs-lookup"><span data-stu-id="47a4c-120">Use [**IAccPropServices::SetHwndPropStr()**](/windows/desktop/api/Oleacc/nf-oleacc-iaccpropservices-sethwndpropstr) to attach the mapping string to the control.</span></span>

<span data-ttu-id="47a4c-121">Étant donné que les connaissances spécifiques aux contrôles sont requises pour prendre en charge le mappage de valeur, il existe un nombre limité de contrôles et de propriétés qui prennent en charge l’annotation de correspondance de valeur, y compris les mappages de valeur de curseur, les vues de liste et les arborescences.</span><span class="sxs-lookup"><span data-stu-id="47a4c-121">Because control-specific knowledge is required to support value mapping, there are a limited number of controls and properties that support value map annotation, including slider value maps, list views, and tree views.</span></span>

## <a name="slider-value-map"></a><span data-ttu-id="47a4c-122">Mappage des valeurs du curseur</span><span class="sxs-lookup"><span data-stu-id="47a4c-122">Slider Value Map</span></span>

<span data-ttu-id="47a4c-123">**Propid \_ Le compte \_ VALUEMAP VALUEMAP** contient une correspondance entre les positions de curseur internes et les chaînes explicites.</span><span class="sxs-lookup"><span data-stu-id="47a4c-123">**PROPID\_ACC\_VALUEMAP** contains a mapping from internal slider positions to human-readable strings.</span></span> <span data-ttu-id="47a4c-124">Cette propriété est prise en charge par le proxy Oleacc.dll Slider.</span><span class="sxs-lookup"><span data-stu-id="47a4c-124">This property is supported by the Oleacc.dll slider proxy.</span></span> <span data-ttu-id="47a4c-125">Si la valeur de curseur actuelle est trouvée dans le mappage des valeurs, la chaîne correspondante sera exposée en tant que valeur au lieu de la chaîne de pourcentage par défaut (par exemple, « 50 »).</span><span class="sxs-lookup"><span data-stu-id="47a4c-125">If the current slider value is found in the value map, the corresponding string will be exposed as the value instead of the default percentage string (for example, "50").</span></span>

## <a name="list-view-and-tree-view"></a><span data-ttu-id="47a4c-126">Mode liste et arborescence</span><span class="sxs-lookup"><span data-stu-id="47a4c-126">List View and Tree View</span></span>

<span data-ttu-id="47a4c-127">**Propid \_ ACC \_ ROLEMAP**, **propid \_ ACC \_ STATEMAP** et **propid \_ ACC \_ DESCRIPTONMAP** fournissent des mappages des index d’images d’État aux valeurs de rôle et d’État.</span><span class="sxs-lookup"><span data-stu-id="47a4c-127">**PROPID\_ACC\_ROLEMAP**, **PROPID\_ACC\_STATEMAP**, and **PROPID\_ACC\_DESCRIPTONMAP** provide mappings from state image indexes to role and state values.</span></span> <span data-ttu-id="47a4c-128">Ces mappages permettent aux index d’images d’être mappés aux rôles appropriés (généralement, les contrôleurs de contrôle de système de [**rôle \_ \_**](object-roles.md) ou les [**CHECKBUTTON de \_ système \_ de rôle**](object-roles.md)) et les bits d’État supplémentaires (en général, le [**système d’État est \_ \_ activé**](object-state-constants.md)).</span><span class="sxs-lookup"><span data-stu-id="47a4c-128">These maps allow those image indexes to be mapped to appropriate roles (usually [**ROLE\_SYSTEM\_RADIOBUTTON**](object-roles.md) or [**ROLE\_SYSTEM\_CHECKBUTTON**](object-roles.md)) and additional state bits (usually [**STATE\_SYSTEM\_CHECKED**](object-state-constants.md)).</span></span>

<span data-ttu-id="47a4c-129">Pour plus d’informations sur les annotations de mappage des valeurs, consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="47a4c-129">For more information about value map annotation, see the following topics:</span></span>

-   [<span data-ttu-id="47a4c-130">Utilisation de l’annotation de mappage de valeur</span><span class="sxs-lookup"><span data-stu-id="47a4c-130">Using Value Map Annotation</span></span>](using-value-map-annotation.md)
-   [<span data-ttu-id="47a4c-131">Exemple d’annotation Map value</span><span class="sxs-lookup"><span data-stu-id="47a4c-131">Value Map Annotation Sample</span></span>](value-map-annotation-sample.md)

## <a name="annotation-map-format"></a><span data-ttu-id="47a4c-132">Format de la carte des annotations</span><span class="sxs-lookup"><span data-stu-id="47a4c-132">Annotation Map Format</span></span>

<span data-ttu-id="47a4c-133">Le tableau suivant décrit les champs inclus dans une carte d’annotation.</span><span class="sxs-lookup"><span data-stu-id="47a4c-133">The following table describes the fields that are included in an annotation map.</span></span>



| <span data-ttu-id="47a4c-134">Champ</span><span class="sxs-lookup"><span data-stu-id="47a4c-134">Field</span></span>               | <span data-ttu-id="47a4c-135">Description</span><span class="sxs-lookup"><span data-stu-id="47a4c-135">Description</span></span>                                                                                                                                                                                                                                                                   |
|---------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="47a4c-136">Un</span><span class="sxs-lookup"><span data-stu-id="47a4c-136">'A'</span></span>                 | <span data-ttu-id="47a4c-137">Indique qu’un schéma de codage particulier est utilisé.</span><span class="sxs-lookup"><span data-stu-id="47a4c-137">Indicates that a particular coding scheme is used.</span></span> <span data-ttu-id="47a4c-138">Des préfixes supplémentaires peuvent être pris en charge pour les futurs schémas d’encodage.</span><span class="sxs-lookup"><span data-stu-id="47a4c-138">Additional prefixes may be supported for future encoding schemes.</span></span>                                                                                                                                                          |
| <span data-ttu-id="47a4c-139">Caractère délimiteur</span><span class="sxs-lookup"><span data-stu-id="47a4c-139">Delimiter character</span></span> | <span data-ttu-id="47a4c-140">Généralement un signe deux-points ( :) est utilisé, mais il peut s’agir d’un autre caractère, à l’exception de **null** ou d’un espace vide.</span><span class="sxs-lookup"><span data-stu-id="47a4c-140">Usually a colon (:) is used, but can be another character except for **NULL** or an empty space.</span></span> <span data-ttu-id="47a4c-141">Étant donné que ce caractère sera utilisé comme délimiteur pour les champs restants, il ne peut pas être utilisé dans le cadre d’une valeur de la carte.</span><span class="sxs-lookup"><span data-stu-id="47a4c-141">Because this character will be used as a delimiter for the remaining fields, it may not be used as part of a value in the map.</span></span>                                               |
| <span data-ttu-id="47a4c-142">0, 1 ou 2</span><span class="sxs-lookup"><span data-stu-id="47a4c-142">0, 1, or 2</span></span>          | <span data-ttu-id="47a4c-143">Valeur qui indique quelle clé est utilisée.</span><span class="sxs-lookup"><span data-stu-id="47a4c-143">A value that indicates which key is being used.</span></span> <span data-ttu-id="47a4c-144">Pour le rôle d’arborescence et d’affichage de liste et les mappages d’État, cette clé peut avoir la valeur 0 (index d’images), 1 (index d’images d’État) ou 2 (index d’images de superposition).</span><span class="sxs-lookup"><span data-stu-id="47a4c-144">For Tree View and List View role and state maps, this key can be 0 (image index), 1 (state image index), or 2 (overlay image index).</span></span> <span data-ttu-id="47a4c-145">Pour les curseurs et autres contrôles qui n’offrent pas de choix de clés, cette valeur doit être 0.</span><span class="sxs-lookup"><span data-stu-id="47a4c-145">For sliders and other controls that do not offer a choice of keys, this value must be 0.</span></span> |
| <span data-ttu-id="47a4c-146">Caractère délimiteur</span><span class="sxs-lookup"><span data-stu-id="47a4c-146">Delimiter character</span></span> | <span data-ttu-id="47a4c-147">:</span><span class="sxs-lookup"><span data-stu-id="47a4c-147">:</span></span>                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="47a4c-148">Paires clé-valeur</span><span class="sxs-lookup"><span data-stu-id="47a4c-148">Key value pairs</span></span>     | <span data-ttu-id="47a4c-149">Chaque paire se compose d’une chaîne de clé et d’un caractère délimiteur.</span><span class="sxs-lookup"><span data-stu-id="47a4c-149">Each pair consists of a key string and a delimiter character.</span></span> <span data-ttu-id="47a4c-150">La chaîne de clé est un nombre et peut être au format décimal ou hexadécimal (avec un préfixe « 0x » de début).</span><span class="sxs-lookup"><span data-stu-id="47a4c-150">The key string is a number and may be in decimal or hexadecimal (with a leading "0x" prefix) format.</span></span>                                                                                                            |
| <span data-ttu-id="47a4c-151">Chaîne de valeur</span><span class="sxs-lookup"><span data-stu-id="47a4c-151">Value string</span></span>        | <span data-ttu-id="47a4c-152">Pour les mappages de valeurs, il s’agit d’une chaîne.</span><span class="sxs-lookup"><span data-stu-id="47a4c-152">For value maps, this is a string.</span></span> <span data-ttu-id="47a4c-153">Pour les mappages de rôles et d’États, il s’agit d’un nombre (décimal ou hexadécimal).</span><span class="sxs-lookup"><span data-stu-id="47a4c-153">For role and state maps, this is a number (decimal or hexadecimal).</span></span>                                                                                                                                                                         |
| <span data-ttu-id="47a4c-154">Caractère délimiteur</span><span class="sxs-lookup"><span data-stu-id="47a4c-154">Delimiter character</span></span> | <span data-ttu-id="47a4c-155">:</span><span class="sxs-lookup"><span data-stu-id="47a4c-155">:</span></span>                                                                                                                                                                                                                                                                             |



 

<span data-ttu-id="47a4c-156">Par exemple, une carte peut se présenter comme suit :</span><span class="sxs-lookup"><span data-stu-id="47a4c-156">For example, a map may look like the following:</span></span>


```C++
A:0:0:Cold:1:Warm:3:Hot:
```



<span data-ttu-id="47a4c-157">Lorsque cette carte de valeur est appliquée à un contrôle Slider, la valeur « chaude » est exposée lorsque le curseur se trouve à la position 1.</span><span class="sxs-lookup"><span data-stu-id="47a4c-157">When this value map is applied to a slider control, a value of "Warm" will be exposed when the slider is at position 1.</span></span> <span data-ttu-id="47a4c-158">Étant donné que la valeur 2 n’est pas incluse dans cet exemple, la valeur par défaut de cette position sera exposée.</span><span class="sxs-lookup"><span data-stu-id="47a4c-158">Because value 2 is not included in this example, the default value for that position will be exposed.</span></span> <span data-ttu-id="47a4c-159">Pour un curseur, la valeur par défaut est une valeur en pourcentage, telle que 33.</span><span class="sxs-lookup"><span data-stu-id="47a4c-159">For a slider, the default would be a percentage value, such as 33.</span></span>

 

 




