---
title: TextEdit (modèle de contrôle)
description: Présente des recommandations et des conventions pour l’implémentation de ITextEditProvider, y compris des informations sur les propriétés et les méthodes.
ms.assetid: AA9E04AC-1AC0-6434-ADEF-9FF82ADA7CD9
keywords:
- UI Automation, implémenter le modèle de contrôle TextEdit
- UI Automation, modèle de contrôle TextEdit
- modèles de contrôle, TextEdit
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bdf8512db4f676a263bf46bdbdfea7b6b7eaba11
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104316349"
---
# <a name="textedit-control-pattern"></a><span data-ttu-id="2a9fa-106">TextEdit (modèle de contrôle)</span><span class="sxs-lookup"><span data-stu-id="2a9fa-106">TextEdit Control Pattern</span></span>

<span data-ttu-id="2a9fa-107">Présente des recommandations et des conventions pour l’implémentation de [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider), y compris des informations sur les propriétés et les méthodes.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-107">Introduces guidelines and conventions for implementing [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider), including information about properties and methods.</span></span> <span data-ttu-id="2a9fa-108">Le modèle de contrôle **TextEdit** est utilisé pour l’accès par programme à un contrôle qui modifie le texte, par exemple un contrôle qui effectue une correction automatique ou active la composition d’entrée.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-108">The **TextEdit** control pattern is used for programmatic access to a control that modifies text, for example a control that performs auto-correction or enables input composition.</span></span>

> [!Note]  
> <span data-ttu-id="2a9fa-109">Les notes d’implémentation de cette rubrique font référence aux API qui proviennent de Text Services Framework (TSF).</span><span class="sxs-lookup"><span data-stu-id="2a9fa-109">Implementation notes in this topic refer to APIs that come from Text Services Framework (TSF).</span></span> <span data-ttu-id="2a9fa-110">Pour plus d’informations sur TSF et la référence d’API, consultez [Text Services Framework](/windows/desktop/TSF/text-services-framework).</span><span class="sxs-lookup"><span data-stu-id="2a9fa-110">For more info about TSF and the API reference, see [Text Services Framework](/windows/desktop/TSF/text-services-framework).</span></span>

 

## <a name="required-members-for-itexteditprovider"></a><span data-ttu-id="2a9fa-111">Membres requis pour **ITextEditProvider**</span><span class="sxs-lookup"><span data-stu-id="2a9fa-111">Required Members for **ITextEditProvider**</span></span>

<span data-ttu-id="2a9fa-112">Ces propriétés et méthodes sont requises pour implémenter l’interface [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider) .</span><span class="sxs-lookup"><span data-stu-id="2a9fa-112">These properties and methods are required for implementing the [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider) interface.</span></span>



| <span data-ttu-id="2a9fa-113">Membres nécessaires</span><span class="sxs-lookup"><span data-stu-id="2a9fa-113">Required members</span></span>                                                              | <span data-ttu-id="2a9fa-114">Type de membre</span><span class="sxs-lookup"><span data-stu-id="2a9fa-114">Member type</span></span> | <span data-ttu-id="2a9fa-115">Notes</span><span class="sxs-lookup"><span data-stu-id="2a9fa-115">Notes</span></span>                                                                                                                                                                                                                                                                                   |
|-------------------------------------------------------------------------------|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="2a9fa-116">**GetActiveComposition**</span><span class="sxs-lookup"><span data-stu-id="2a9fa-116">**GetActiveComposition**</span></span>](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getactivecomposition) | <span data-ttu-id="2a9fa-117">Méthode</span><span class="sxs-lookup"><span data-stu-id="2a9fa-117">Method</span></span>      | <span data-ttu-id="2a9fa-118">Retourne la plage de la conversion actuelle (None s’il n’y a pas de conversion).</span><span class="sxs-lookup"><span data-stu-id="2a9fa-118">Returns the range of the current conversion (none if there is no conversion).</span></span> <span data-ttu-id="2a9fa-119">Retourne la composition active (dans TSF, il s’agit de la plage marquée par la **\_ \_ composition GUID prop**).</span><span class="sxs-lookup"><span data-stu-id="2a9fa-119">Return the active composition (in TSF, this is the range marked by **GUID\_PROP\_COMPOSING**).</span></span> <span data-ttu-id="2a9fa-120">Par exemple, dans l’éditeur de méthode d’entrée (IME) japonais de Microsoft, il s’agit du texte entièrement souligné.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-120">For example with the Microsoft Japanese Input Method Editor (IME), this would be the full underlined text.</span></span> |
| [<span data-ttu-id="2a9fa-121">**GetConversionTarget**</span><span class="sxs-lookup"><span data-stu-id="2a9fa-121">**GetConversionTarget**</span></span>](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getconversiontarget)   | <span data-ttu-id="2a9fa-122">Méthode</span><span class="sxs-lookup"><span data-stu-id="2a9fa-122">Method</span></span>      | <span data-ttu-id="2a9fa-123">Retourne la plage cible de conversion actuelle (None si aucune conversion).</span><span class="sxs-lookup"><span data-stu-id="2a9fa-123">Returns the current conversion target range (none if no conversion).</span></span> <span data-ttu-id="2a9fa-124">Dans TSF, il s’agit de la plage de caractères marqués **tf \_ attr \_ target \_ NOTCONVERTED** ou **tf \_ attr \_ target \_ converti** à partir de la structure **\_ DISPLAYATTRIBUTE TF** .</span><span class="sxs-lookup"><span data-stu-id="2a9fa-124">In TSF, this is the range of characters marked as **TF\_ATTR\_TARGET\_NOTCONVERTED** or **TF\_ATTR\_TARGET\_CONVERTED** from the **TF\_DISPLAYATTRIBUTE** structure.</span></span>                                               |



 

<span data-ttu-id="2a9fa-125">Les événements **TextEditTextChanged** et **ConversionTargetChanged** doivent être déclenchés par les éléments Microsoft UI Automation qui prennent en charge le modèle **TextEdit** .</span><span class="sxs-lookup"><span data-stu-id="2a9fa-125">The **TextEditTextChanged** and **ConversionTargetChanged** events are required to be raised by Microsoft UI Automation elements supporting the **TextEdit** pattern.</span></span>

### <a name="textedittextchanged"></a><span data-ttu-id="2a9fa-126">**TextEditTextChanged**</span><span class="sxs-lookup"><span data-stu-id="2a9fa-126">**TextEditTextChanged**</span></span>

-   <span data-ttu-id="2a9fa-127">Utilisez la fonction [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) pour déclencher l’événement **TextEditTextChanged** .</span><span class="sxs-lookup"><span data-stu-id="2a9fa-127">Use the [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) function to raise the **TextEditTextChanged** event.</span></span>
-   <span data-ttu-id="2a9fa-128">Le tableau suivant répertorie les cas où vous devez déclencher l’événement et les paramètres [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) à utiliser.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-128">The following table lists the cases when you should raise the event and the [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) parameters to use.</span></span>



| <span data-ttu-id="2a9fa-129">TextEditChangeType</span><span class="sxs-lookup"><span data-stu-id="2a9fa-129">TextEditChangeType</span></span>                                            | <span data-ttu-id="2a9fa-130">Charge utile d'un événement</span><span class="sxs-lookup"><span data-stu-id="2a9fa-130">Event Payload</span></span>                                | <span data-ttu-id="2a9fa-131">Notes</span><span class="sxs-lookup"><span data-stu-id="2a9fa-131">Notes</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------------------------------------------|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="2a9fa-132">**Correction automatique**</span><span class="sxs-lookup"><span data-stu-id="2a9fa-132">**AutoCorrect**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | <span data-ttu-id="2a9fa-133">Nouvelle chaîne corrigée</span><span class="sxs-lookup"><span data-stu-id="2a9fa-133">New corrected string</span></span>                         | <span data-ttu-id="2a9fa-134">Déclenché lorsqu’une correction automatique est effectuée par le contrôle.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-134">Raised when an auto-correction is made by the control.</span></span> <span data-ttu-id="2a9fa-135">Ou chaque fois qu’un remplacement est effectué via TSF et que la plage a une valeur **GUID \_ prop \_ TKB \_ alternatives** de **TKB \_ alternatives la \_ Correction automatique est \_ appliquée**.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-135">Or whenever a replacement is made through TSF and the range has a **GUID\_PROP\_TKB\_ALTERNATES** value of **TKB\_ALTERNATES\_AUTOCORRECTION\_APPLIED**.</span></span><br/>                                                                                                                                                                   |
| [<span data-ttu-id="2a9fa-136">**Composition**</span><span class="sxs-lookup"><span data-stu-id="2a9fa-136">**Composition**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | <span data-ttu-id="2a9fa-137">Chaîne mise à jour</span><span class="sxs-lookup"><span data-stu-id="2a9fa-137">The updated string</span></span>                           | <span data-ttu-id="2a9fa-138">La charge utile ne doit inclure que les caractères qui ont changé (n’envoyez pas la totalité de la chaîne de composition).</span><span class="sxs-lookup"><span data-stu-id="2a9fa-138">The payload must only include the characters that changed (do not send the entire composition string).</span></span> <span data-ttu-id="2a9fa-139">Déclenché chaque fois qu’un remplacement de composition est effectué.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-139">Raised whenever a composition replacement is made.</span></span> <span data-ttu-id="2a9fa-140">Dans TSF, le remplacement d’une composition est défini comme un remplacement dont l’indicateur de **\_ \_ composition GUID prop** est défini.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-140">In TSF, a composition replacement is defined as a replacement that has the **GUID\_PROP\_COMPOSING** flag set.</span></span> <span data-ttu-id="2a9fa-141">Les contrôles d’édition qui implémentent TSF peuvent surveiller ces modifications via la notification **OnEndEdit** .</span><span class="sxs-lookup"><span data-stu-id="2a9fa-141">Edit controls implementing TSF can monitor for these changes via the **OnEndEdit** notification.</span></span><br/>         |
| [<span data-ttu-id="2a9fa-142">**CompositionFinalized**</span><span class="sxs-lookup"><span data-stu-id="2a9fa-142">**CompositionFinalized**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype) | <span data-ttu-id="2a9fa-143">La chaîne de composition finalisée (voir les remarques)</span><span class="sxs-lookup"><span data-stu-id="2a9fa-143">The finalized composition string (see Notes)</span></span> | <span data-ttu-id="2a9fa-144">Dans TSF, la chaîne de conversion en cours de finalisation est définie par la suppression de l’indicateur de **\_ \_ composition GUID prop** dans une composition.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-144">In TSF, the conversion string being finalized is defined by the **GUID\_PROP\_COMPOSING** flag being removed from a composition.</span></span> <span data-ttu-id="2a9fa-145">Les contrôles d’édition qui implémentent TSF doivent déterminer la chaîne finalisée de **EndComposition** et déclencher l’événement lorsque **OnEndEdit** est appelé.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-145">Edit controls implementing TSF should determine the finalized string from **EndComposition** and raise the event when **OnEndEdit** is called.</span></span><br/> <span data-ttu-id="2a9fa-146">La chaîne de composition finalisée peut être vide si la composition a été annulée ou supprimée.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-146">The finalized composition string may be empty if composition was cancelled or deleted.</span></span><br/> |



 

### <a name="conversiontargetchanged"></a><span data-ttu-id="2a9fa-147">**ConversionTargetChanged**</span><span class="sxs-lookup"><span data-stu-id="2a9fa-147">**ConversionTargetChanged**</span></span>

-   <span data-ttu-id="2a9fa-148">**ConversionTargetChanged** se produit lorsque la cible de conversion passe d’une cible à une autre.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-148">**ConversionTargetChanged** occurs when conversion target changes from one target to another.</span></span>
-   <span data-ttu-id="2a9fa-149">Utilisez la fonction [**UiaRaiseAutomationEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraiseautomationevent) pour déclencher l’événement **ConversionTargetChanged** (passez l’identificateur d’événement [**UIA \_ TextEdit \_ ConversionTargetChangedEventId**](https://www.bing.com/search?q=**UIA\_TextEdit\_ConversionTargetChangedEventId**) ).</span><span class="sxs-lookup"><span data-stu-id="2a9fa-149">Use the [**UiaRaiseAutomationEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraiseautomationevent) function to raise the **ConversionTargetChanged** event (pass the [**UIA\_TextEdit\_ConversionTargetChangedEventId**](https://www.bing.com/search?q=**UIA\_TextEdit\_ConversionTargetChangedEventId**) event identifier).</span></span>
-   <span data-ttu-id="2a9fa-150">**ConversionTargetChanged** ne doit pas être déclenché lorsque le contenu de la cible change.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-150">**ConversionTargetChanged** should not be raised when the content of the target changes.</span></span> <span data-ttu-id="2a9fa-151">Si la modification cible se produit de façon simultanée avec une modification de la composition, l’événement de modification cible doit être déclenché une fois que tous les événements de composition ont déjà été déclenchés.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-151">If the target change occurs simultaneous with a composition change, the target change event must be raised after any composition events have already been raised.</span></span>
-   <span data-ttu-id="2a9fa-152">Dans TSF, la cible de conversion est définie par la valeur **tf \_ attr \_ target \_ convertie** définie à partir de la structure **\_ DISPLAYATTRIBUTE TF** .</span><span class="sxs-lookup"><span data-stu-id="2a9fa-152">In TSF, the conversion target is defined by the value **TF\_ATTR\_TARGET\_CONVERTED** being set from the **TF\_DISPLAYATTRIBUTE** structure.</span></span> <span data-ttu-id="2a9fa-153">Les modifications peuvent être surveillées à l’aide de **OnEndEdit**.</span><span class="sxs-lookup"><span data-stu-id="2a9fa-153">Changes can be monitored using **OnEndEdit**.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2a9fa-154">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="2a9fa-154">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="2a9fa-155">**Méthodologique**</span><span class="sxs-lookup"><span data-stu-id="2a9fa-155">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="2a9fa-156">Types de contrôle et leurs modèles de contrôle pris en charge</span><span class="sxs-lookup"><span data-stu-id="2a9fa-156">Control Types and Their Supported Control Patterns</span></span>](uiauto-controlpatternmapping.md)
</dt> <dt>

[<span data-ttu-id="2a9fa-157">Vue d'ensemble des modèles de contrôle UI Automation</span><span class="sxs-lookup"><span data-stu-id="2a9fa-157">UI Automation Control Patterns Overview</span></span>](uiauto-controlpatternsoverview.md)
</dt> <dt>

[<span data-ttu-id="2a9fa-158">Vue d’ensemble de l’arborescence UI Automation</span><span class="sxs-lookup"><span data-stu-id="2a9fa-158">UI Automation Tree Overview</span></span>](uiauto-treeoverview.md)
</dt> </dl>

 

