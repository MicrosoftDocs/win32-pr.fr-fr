---
title: Présentation de WinEvents
description: Les applications serveur et le système d’exploitation utilisent WinEvents pour notifier les clients lorsqu’une modification se produit dans le système ou dans l’interface utilisateur.
ms.assetid: 43723706-a173-4ddc-b135-824a7a8e8b40
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97864f2b1464718680d781ad843345f1e46fce13
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "106511448"
---
# <a name="what-are-winevents"></a><span data-ttu-id="4913b-103">Qu’est-ce que WinEvents ?</span><span class="sxs-lookup"><span data-stu-id="4913b-103">What Are WinEvents?</span></span>

<span data-ttu-id="4913b-104">Les applications serveur et le système d’exploitation utilisent WinEvents pour notifier les clients lorsqu’une modification se produit dans le système ou dans l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4913b-104">Server applications and the operating system use WinEvents to notify clients when a change occurs in the system or in the user interface.</span></span>

<span data-ttu-id="4913b-105">La prise en charge de WinEvent est une fonctionnalité du système d’exploitation Windows qui fournit les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="4913b-105">WinEvent support is a feature of the Windows operating system that provides:</span></span>

-   <span data-ttu-id="4913b-106">Méthode simple permettant aux clients de s’inscrire pour recevoir des notifications d’événements.</span><span class="sxs-lookup"><span data-stu-id="4913b-106">A simple way for clients to register for event notifications.</span></span>
-   <span data-ttu-id="4913b-107">Mécanisme permettant d’injecter du code client dans des serveurs.</span><span class="sxs-lookup"><span data-stu-id="4913b-107">A mechanism for injecting client code into servers.</span></span>
-   <span data-ttu-id="4913b-108">Routage des événements des serveurs vers les clients intéressés.</span><span class="sxs-lookup"><span data-stu-id="4913b-108">Routing of events from servers to interested clients.</span></span>
-   <span data-ttu-id="4913b-109">Génération automatique d’événements pour la plupart des contrôles basés sur **HWND**.</span><span class="sxs-lookup"><span data-stu-id="4913b-109">Automatic event generation for most **HWND**-based controls.</span></span>

<span data-ttu-id="4913b-110">La génération d’événements pour les contrôles basés sur **HWND** est particulièrement importante pour les développeurs de serveurs.</span><span class="sxs-lookup"><span data-stu-id="4913b-110">Event generation for **HWND**-based controls is especially important for server developers.</span></span> <span data-ttu-id="4913b-111">Le runtime Microsoft Active Accessibility fournit des proxies [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) pour tous les éléments d’interface utilisateur standard.</span><span class="sxs-lookup"><span data-stu-id="4913b-111">The Microsoft Active Accessibility run-time provides [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) proxies for all standard UI elements.</span></span> <span data-ttu-id="4913b-112">De même, le système génère automatiquement le WinEvents approprié à chaque fois qu’il crée, détruit, déplace, redimensionne ou effectue toute autre action sur un contrôle basé sur **HWND**.</span><span class="sxs-lookup"><span data-stu-id="4913b-112">Similarly, the system automatically generates the appropriate WinEvents whenever it creates, destroys, moves, resizes, or performs any other action on an **HWND**-based control.</span></span>

<span data-ttu-id="4913b-113">Certains WinEvents, y compris les événements **HWND** généraux, sont automatiquement pris en charge par le système.</span><span class="sxs-lookup"><span data-stu-id="4913b-113">Some WinEvents, including general **HWND** events, are automatically supported by the system.</span></span> <span data-ttu-id="4913b-114">Les autres types de WinEvents, tels que les changements d’État ou les événements de sélection spécifiques à un contrôle particulier, sont pris en charge par les serveurs Microsoft Active Accessibility.</span><span class="sxs-lookup"><span data-stu-id="4913b-114">Other types of WinEvents, such as state changes or selection events specific to a particular control, are supported by Microsoft Active Accessibility servers.</span></span>

<span data-ttu-id="4913b-115">Lorsqu’un événement qui affecte l’interface utilisateur se produit, les serveurs peuvent diffuser une notification d’événements à tous les clients intéressés en appelant la fonction [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) .</span><span class="sxs-lookup"><span data-stu-id="4913b-115">When an event occurs that affects the UI, servers can broadcast an event notification to all interested clients by calling the [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) function.</span></span> <span data-ttu-id="4913b-116">L’appel de fonction comprend des informations qui identifient le type d’événement qui s’est produit et l’élément d’interface utilisateur auquel s’applique l’événement.</span><span class="sxs-lookup"><span data-stu-id="4913b-116">The function call includes information that identifies the type of event that occurred, and the UI element to which the event applies.</span></span> <span data-ttu-id="4913b-117">Les clients peuvent utiliser ces informations pour récupérer un objet [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) pour l’élément d’interface utilisateur et collecter plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="4913b-117">Clients can use this information to retrieve an [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) object for the UI element and collect more information.</span></span>

<span data-ttu-id="4913b-118">Par exemple, pour informer les clients que le nom d’un contrôle a été modifié, un serveur appelle [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) et passe l' [**objet d’événement \_ \_ NameChange,**](event-constants.md) dans le paramètre d’événement.</span><span class="sxs-lookup"><span data-stu-id="4913b-118">For example, to notify clients that a control's name has changed, a server calls [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) and passes [**EVENT\_OBJECT\_NAMECHANGE**](event-constants.md) in the event parameter.</span></span> <span data-ttu-id="4913b-119">Le système répond en déterminant quels clients sont inscrits pour recevoir cet événement particulier et appelle leur fonction de rappel inscrite.</span><span class="sxs-lookup"><span data-stu-id="4913b-119">The system responds by determining which clients have registered to receive that particular event and calls their registered callback function.</span></span> <span data-ttu-id="4913b-120">Si aucun client n’est inscrit pour l’événement, l’appel du serveur à **NotifyWinEvent** est comparable à une opération « aucune opération » et l’impact sur les performances est négligeable.</span><span class="sxs-lookup"><span data-stu-id="4913b-120">If no clients have registered for the event, the server's call to **NotifyWinEvent** is comparable to a "no operation" and the performance impact is negligible.</span></span>

<span data-ttu-id="4913b-121">Les serveurs appellent [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) pour annoncer l’événement au système une fois que l’événement s’est produit.</span><span class="sxs-lookup"><span data-stu-id="4913b-121">Servers call [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) to announce the event to the system after the event has occurred.</span></span> <span data-ttu-id="4913b-122">Ils ne doivent jamais notifier le système d’un événement avant que l’événement se produise.</span><span class="sxs-lookup"><span data-stu-id="4913b-122">They must never notify the system of an event before the event occurs.</span></span>

<span data-ttu-id="4913b-123">Pour être informé des événements, les clients inscrivent des fonctions de raccordement de rappel à l’aide de [**SetWinEventHook**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook).</span><span class="sxs-lookup"><span data-stu-id="4913b-123">To be notified of events, clients register callback hook functions by using [**SetWinEventHook**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook).</span></span> <span data-ttu-id="4913b-124">Les clients définissent une seule fonction de raccordement pour tous les événements possibles ou plusieurs fonctions de raccordement pour des plages discrètes d’événements.</span><span class="sxs-lookup"><span data-stu-id="4913b-124">Clients set a single hook function for all possible events or multiple hook functions for discrete ranges of events.</span></span> <span data-ttu-id="4913b-125">Pour plus d’informations, consultez [inscription d’une fonction de raccordement](registering-a-hook-function.md).</span><span class="sxs-lookup"><span data-stu-id="4913b-125">For more information, see [Registering a Hook Function](registering-a-hook-function.md).</span></span>

<span data-ttu-id="4913b-126">Lorsque Microsoft Active Accessibility est averti d’un événement, il appelle toutes les fonctions de raccordement qui ont été inscrites pour cet événement, en transmettant les paramètres à partir de [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent).</span><span class="sxs-lookup"><span data-stu-id="4913b-126">When Microsoft Active Accessibility is notified of an event, it calls any hook functions that were registered for that event, passing along the parameters from [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent).</span></span>

 

 




