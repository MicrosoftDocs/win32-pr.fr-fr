---
title: Utilisateurs et connexions réseau
description: BITS transfère les fichiers uniquement lorsque le propriétaire du travail est connecté et qu’une connexion réseau est établie.
ms.assetid: b31fc04f-8fa8-407f-9380-ca6b09589c46
keywords:
- BITS des connexions réseau
- transférer les BITS de tâche, propriété
- transférer les BITS de tâche, propriété, compte d’utilisateur
ms.topic: article
ms.date: 10/04/2018
ms.openlocfilehash: 7f841e3bf92004b62f3bbb576f71a45ac6b4a6bc
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104102237"
---
# <a name="users-and-network-connections"></a><span data-ttu-id="30fac-106">Utilisateurs et connexions réseau</span><span class="sxs-lookup"><span data-stu-id="30fac-106">Users and Network Connections</span></span>

<span data-ttu-id="30fac-107">BITS transfère les fichiers uniquement lorsque le propriétaire du travail est connecté et qu’une connexion réseau est établie.</span><span class="sxs-lookup"><span data-stu-id="30fac-107">BITS transfers files only when the job owner is logged on and a network connection is established.</span></span> <span data-ttu-id="30fac-108">BITS traite la tâche de transfert à l’aide du contexte de sécurité du propriétaire du travail.</span><span class="sxs-lookup"><span data-stu-id="30fac-108">BITS processes the transfer job using the security context of the job owner.</span></span> <span data-ttu-id="30fac-109">L’utilisateur qui a créé le travail est considéré comme le propriétaire du travail.</span><span class="sxs-lookup"><span data-stu-id="30fac-109">The user who created the job is considered the owner of the job.</span></span> <span data-ttu-id="30fac-110">Toutefois, un utilisateur disposant de privilèges d’administrateur peut [**prendre possession**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-takeownership) du travail d’un autre utilisateur.</span><span class="sxs-lookup"><span data-stu-id="30fac-110">However, a user with administrator privileges can [**take ownership**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-takeownership) of another user's job.</span></span>

<span data-ttu-id="30fac-111">Le service BITS interrompt un travail lorsque le propriétaire se déconnecte ou que la connexion réseau est perdue (BITS ne force pas de connexion réseau).</span><span class="sxs-lookup"><span data-stu-id="30fac-111">BITS suspends a job when the owner logs off or if the network connection is lost (BITS will not force a network connection).</span></span> <span data-ttu-id="30fac-112">Le service BITS reprend le travail lorsque le propriétaire ouvre à nouveau une session et qu’une connexion réseau est établie.</span><span class="sxs-lookup"><span data-stu-id="30fac-112">BITS resumes the job when the owner logs back on and a network connection is established.</span></span> <span data-ttu-id="30fac-113">Une fois la connexion réseau établie, un bref délai peut s’écouler avant que le service BITS ne commence à transférer des données.</span><span class="sxs-lookup"><span data-stu-id="30fac-113">After the network connection is established, a short delay may occur before BITS begins transferring data.</span></span>

<span data-ttu-id="30fac-114">En cas de perte de la connexion réseau, toutes les tâches dont l’État est mise en [**\_ \_ \_ file d’attente**](/windows/desktop/api/Bits/ne-bits-bg_job_state) ou état du travail BG transféré sont déplacées vers l’état d' **\_ \_ \_ \_ erreur temporaire** de l’état de la tâche BG avec un code d’erreur [BG \_ E \_ réseau \_ déconnecté](bits-return-values.md) . **\_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="30fac-114">If the network connection is lost, all jobs whose state is [**BG\_JOB\_STATE\_QUEUED**](/windows/desktop/api/Bits/ne-bits-bg_job_state) or **BG\_JOB\_STATE\_TRANSFERRING** are moved to the **BG\_JOB\_STATE\_TRANSIENT\_ERROR** state with a [BG\_E\_NETWORK\_DISCONNECTED](bits-return-values.md) error code.</span></span> <span data-ttu-id="30fac-115">Lorsqu’une connexion réseau est établie, tous les travaux dans un état d' **\_ \_ \_ \_ erreur temporaire d’état de travail BG** , qui peut inclure un code d’erreur, sont déplacés vers l’État en **\_ \_ \_ file d’attente d’état de la tâche BG** .</span><span class="sxs-lookup"><span data-stu-id="30fac-115">When a network connection is established, all jobs in a **BG\_JOB\_STATE\_TRANSIENT\_ERROR** state, which may include any error code, are moved to the **BG\_JOB\_STATE\_QUEUED** state.</span></span>

<span data-ttu-id="30fac-116">Pour que le service BITS détecte qu’un utilisateur a ouvert une session, l’utilisateur doit utiliser l’une des options de connexion interactives suivantes :</span><span class="sxs-lookup"><span data-stu-id="30fac-116">For BITS to detect that a user is logged on, the user must use one of the following interactive logon options:</span></span>

-   <span data-ttu-id="30fac-117">Connectez-vous via l’écran d’accueil.</span><span class="sxs-lookup"><span data-stu-id="30fac-117">Log on through the Welcome screen.</span></span>
-   <span data-ttu-id="30fac-118">Connectez-vous à un client de [service Terminal Server](../termserv/terminal-services-portal.md) .</span><span class="sxs-lookup"><span data-stu-id="30fac-118">Log on to a [terminal service](../termserv/terminal-services-portal.md) client.</span></span>
-   <span data-ttu-id="30fac-119">Utilisez le [changement rapide d’utilisateur](../shell/fast-user-switching.md).</span><span class="sxs-lookup"><span data-stu-id="30fac-119">Use [fast user switching](../shell/fast-user-switching.md).</span></span>
-   <span data-ttu-id="30fac-120">À compter de Windows 10, version 1607, connectez-vous à partir d’un autre appareil à l’aide de PowerShell à distance.</span><span class="sxs-lookup"><span data-stu-id="30fac-120">Starting with Windows 10, version 1607, log on from another device using Remote Powershell.</span></span> <span data-ttu-id="30fac-121">Pour plus d’informations, consultez [pour gérer les sessions à distance PowerShell](using-windows-powershell-to-create-bits-transfer-jobs.md) .</span><span class="sxs-lookup"><span data-stu-id="30fac-121">See [To manage PowerShell Remote sessions](using-windows-powershell-to-create-bits-transfer-jobs.md) for details.</span></span>

<span data-ttu-id="30fac-122">L’exécution d’une application en tant qu’autre utilisateur (à l’aide de la commande **runas** ) n’est pas une ouverture de session interactive. Le service BITS n’exécutera pas les travaux associés à l’utilisateur spécifié.</span><span class="sxs-lookup"><span data-stu-id="30fac-122">Running an application as another user (by using the **RunAs** command) is not an interactive logon; BITS will not run jobs associated with the specified user.</span></span>

<span data-ttu-id="30fac-123">Les comptes système LocalSystem, LocalService et NetworkService sont toujours connectés ; par conséquent, les travaux soumis par un service à l’aide de ces comptes s’exécutent toujours.</span><span class="sxs-lookup"><span data-stu-id="30fac-123">The LocalSystem, LocalService, and NetworkService system accounts are always logged on; therefore, jobs submitted by a service using these accounts always run.</span></span> <span data-ttu-id="30fac-124">Pour plus d’informations et pour connaître les limitations relatives à l’utilisation des comptes de service, consultez [comptes de service et bits](service-accounts-and-bits.md).</span><span class="sxs-lookup"><span data-stu-id="30fac-124">For information and limitations on using service accounts, see [Service Accounts and BITS](service-accounts-and-bits.md).</span></span>

<span data-ttu-id="30fac-125">Les propriétaires de travaux peuvent fournir un jeton d’assistance à utiliser dans les situations où plusieurs jetons sont nécessaires pour effectuer un transfert, par exemple pour l’authentification avec un hôte distant.</span><span class="sxs-lookup"><span data-stu-id="30fac-125">Job owners can provide a helper token to be used in situations where multiple tokens are needed to complete a transfer, such as for authentication with a remote host.</span></span> <span data-ttu-id="30fac-126">Pour plus d’informations, consultez [jetons d’assistance pour les tâches de transfert bits](helper-tokens-for-bits-transfer-jobs.md) .</span><span class="sxs-lookup"><span data-stu-id="30fac-126">See [Helper Tokens for BITS Transfer Jobs](helper-tokens-for-bits-transfer-jobs.md) for details.</span></span> <span data-ttu-id="30fac-127">Dans les versions antérieures de Windows, le propriétaire du travail devait effectivement avoir des privilèges d’administrateur pour démarrer un travail qui utilisait un jeton d’assistance.</span><span class="sxs-lookup"><span data-stu-id="30fac-127">In earlier versions of Windows, the job owner effectively had to have administrator privileges to start a job that used a helper token.</span></span> <span data-ttu-id="30fac-128">Dans Windows 10, la version 1607, il est désormais possible pour un propriétaire de tâche BITS de définir des jetons d’assistance sans être administrateur, tant que le jeton d’assistance ne dispose pas de fonctionnalités d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="30fac-128">In Windows 10, version 1607, it is now possible for a BITS job owner to set helper tokens without being an administrator, as long as the helper token does not have administrator capabilities.</span></span> <span data-ttu-id="30fac-129">Cela réduit l’espace de vulnérabilité des outils de mise à jour ou de téléchargement en arrière-plan en leur permettant de s’exécuter sur le compte NetworkService avec le moins de privilèges plutôt que sur un compte doté de privilèges administrateur.</span><span class="sxs-lookup"><span data-stu-id="30fac-129">This reduces the vulnerability footprint of background download or update tools by enabling them to run under the lower-privileged NetworkService account rather than under an account with administrative privileges.</span></span>

<span data-ttu-id="30fac-130">Les utilisateurs disposant d’un [jeton restreint](../secauthz/restricted-tokens.md) (un jeton qui contient des SID de restriction) ne peuvent pas créer ou modifier des travaux.</span><span class="sxs-lookup"><span data-stu-id="30fac-130">Users with a [restricted token](../secauthz/restricted-tokens.md) (a token that contains restricting SIDs) cannot create or modify jobs.</span></span>
 

 