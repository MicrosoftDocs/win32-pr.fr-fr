---
description: La page suivante fournit un plan de base des principales différences entre Direct3D 9 et Direct3D 10. Le plan ci-dessous fournit des informations pour aider les développeurs avec l’expérience Direct3D 9 à explorer et à associer Direct3D 10.
ms.assetid: 283b54e0-94cb-47a8-8cfc-5798e0538b9f
title: Considérations relatives à Direct3D 9 vers Direct3D 10 (Direct3D 10)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 467ceefe7784a9b408bb36c8bed13217cb6de7c4
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103748021"
---
# <a name="direct3d-9-to-direct3d-10-considerations-direct3d-10"></a><span data-ttu-id="e4429-104">Considérations relatives à Direct3D 9 vers Direct3D 10 (Direct3D 10)</span><span class="sxs-lookup"><span data-stu-id="e4429-104">Direct3D 9 to Direct3D 10 Considerations (Direct3D 10)</span></span>

<span data-ttu-id="e4429-105">La page suivante fournit un plan de base des principales différences entre Direct3D 9 et Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-105">The following page provides a basic outline of key differences between Direct3D 9 and Direct3D 10.</span></span> <span data-ttu-id="e4429-106">Le plan ci-dessous fournit des informations pour aider les développeurs avec l’expérience Direct3D 9 à explorer et à associer Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-106">The outline below provides some insight to assist developers with Direct3D 9 experience to explore and relate to Direct3D 10.</span></span>

<span data-ttu-id="e4429-107">Bien que les informations de cette rubrique comparent Direct3D 9 avec Direct3D 10, puisque Direct3D 11 s’appuie sur les améliorations apportées à Direct3D 10 et 10,1, vous avez également besoin de ces informations pour effectuer la migration de Direct3D 9 vers Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="e4429-107">Although the info in this topic compares Direct3D 9 with Direct3D 10, because Direct3D 11 builds on the improvements made in Direct3D 10 and 10.1, you also need this info to migrate from Direct3D 9 to Direct3D 11.</span></span> <span data-ttu-id="e4429-108">Pour plus d’informations sur le passage au-delà de Direct3D 10 vers Direct3D 11, consultez [migration vers Direct3D 11](../direct3d11/d3d11-programming-guide-migrating.md).</span><span class="sxs-lookup"><span data-stu-id="e4429-108">For info about moving beyond Direct3D 10 to Direct3D 11, see [Migrating to Direct3D 11](../direct3d11/d3d11-programming-guide-migrating.md).</span></span>

-   [<span data-ttu-id="e4429-109">Vue d’ensemble des principales modifications structurelles dans Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-109">Overview of the Major Structural Changes in Direct3D 10</span></span>](#overview-of-the-major-structural-changes-in-direct3d-10)
    -   [<span data-ttu-id="e4429-110">Suppression de la fonction Fixed</span><span class="sxs-lookup"><span data-stu-id="e4429-110">Removal of Fixed Function</span></span>](#removal-of-fixed-function)
    -   [<span data-ttu-id="e4429-111">Validation de l’heure de création de l’objet périphérique</span><span class="sxs-lookup"><span data-stu-id="e4429-111">Device Object Creation Time Validation</span></span>](#device-object-creation-time-validation)
-   [<span data-ttu-id="e4429-112">Abstractions/séparation du moteur</span><span class="sxs-lookup"><span data-stu-id="e4429-112">Engine Abstractions / Separation</span></span>](/windows)
    -   [<span data-ttu-id="e4429-113">Suppression directe des dépendances Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="e4429-113">Direct Removal of Direct3D 9 Dependencies</span></span>](#direct-removal-of-direct3d-9-dependencies)
-   [<span data-ttu-id="e4429-114">Astuces pour résoudre rapidement les problèmes de génération d’applications</span><span class="sxs-lookup"><span data-stu-id="e4429-114">Tricks for Quickly Resolving Application Build Issues</span></span>](#tricks-for-quickly-resolving-application-build-issues)
    -   [<span data-ttu-id="e4429-115">Substitution de types Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="e4429-115">Overriding Direct3D 9 Types</span></span>](#overriding-direct3d-9-types)
    -   [<span data-ttu-id="e4429-116">Résolution des problèmes liés aux liens</span><span class="sxs-lookup"><span data-stu-id="e4429-116">Resolving Link Issues</span></span>](#resolving-link-issues)
    -   [<span data-ttu-id="e4429-117">Simulation des Cap des appareils</span><span class="sxs-lookup"><span data-stu-id="e4429-117">Simulating Device CAPs</span></span>](#simulating-device-caps)
-   [<span data-ttu-id="e4429-118">Conduite de l’API Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-118">Driving the Direct3D 10 API</span></span>](#driving-the-direct3d-10-api)
    -   [<span data-ttu-id="e4429-119">Création de ressources</span><span class="sxs-lookup"><span data-stu-id="e4429-119">Resource Creation</span></span>](#resource-creation)
    -   [<span data-ttu-id="e4429-120">Views</span><span class="sxs-lookup"><span data-stu-id="e4429-120">Views</span></span>](#views)
    -   [<span data-ttu-id="e4429-121">Accès aux ressources statiques et dynamiques</span><span class="sxs-lookup"><span data-stu-id="e4429-121">Static versus Dynamic Resource Access</span></span>](#static-versus-dynamic-resource-access)
    -   [<span data-ttu-id="e4429-122">Effets Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-122">Direct3D 10 Effects</span></span>](#direct3d-10-effects)
    -   [<span data-ttu-id="e4429-123">HLSL sans effets</span><span class="sxs-lookup"><span data-stu-id="e4429-123">HLSL without Effects</span></span>](#hlsl-without-effects)
    -   [<span data-ttu-id="e4429-124">Compilation du nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-124">Shader Compilation</span></span>](#shader-compilation)
    -   [<span data-ttu-id="e4429-125">Création de ressources de nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-125">Creation of Shader Resources</span></span>](#creation-of-shader-resources)
    -   [<span data-ttu-id="e4429-126">Interface de couche de réflexion du nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-126">Shader Reflection Layer Interface</span></span>](#shader-reflection-layer-interface)
    -   [<span data-ttu-id="e4429-127">Dispositions de l’assembleur d’entrée-liaison de nuanceur de sommets/flux d’entrée</span><span class="sxs-lookup"><span data-stu-id="e4429-127">Input Assembler Layouts - Vertex Shader / Input Stream Linkage</span></span>](/windows)
    -   [<span data-ttu-id="e4429-128">Impact de la suppression du code mort du nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-128">Impact of Shader Dead Code Removal</span></span>](#impact-of-shader-dead-code-removal)
    -   [<span data-ttu-id="e4429-129">Exemple de structure d’entrée de nuanceur de sommets</span><span class="sxs-lookup"><span data-stu-id="e4429-129">Vertex Shader Input Structure Example</span></span>](#vertex-shader-input-structure-example)
    -   [<span data-ttu-id="e4429-130">Création d’un objet d’État</span><span class="sxs-lookup"><span data-stu-id="e4429-130">State Object Creation</span></span>](#state-object-creation)
-   [<span data-ttu-id="e4429-131">Portage des textures</span><span class="sxs-lookup"><span data-stu-id="e4429-131">Porting Textures</span></span>](#porting-textures)
    -   [<span data-ttu-id="e4429-132">Formats de fichier pris en charge</span><span class="sxs-lookup"><span data-stu-id="e4429-132">File Formats Supported</span></span>](#file-formats-supported)
    -   [<span data-ttu-id="e4429-133">Mappage des formats de texture</span><span class="sxs-lookup"><span data-stu-id="e4429-133">Mapping Texture Formats</span></span>](#mapping-texture-formats)
-   [<span data-ttu-id="e4429-134">Portage des nuanceurs</span><span class="sxs-lookup"><span data-stu-id="e4429-134">Porting Shaders</span></span>](#porting-shaders)
    -   [<span data-ttu-id="e4429-135">Les nuanceurs Direct3D 10 sont créés en HLSL</span><span class="sxs-lookup"><span data-stu-id="e4429-135">Direct3D 10 Shaders are Authored in HLSL</span></span>](#direct3d-10-shaders-are-authored-in-hlsl)
    -   [<span data-ttu-id="e4429-136">Signatures et liaison de nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-136">Shader Signatures and Linkage</span></span>](#shader-signatures-and-linkage)
    -   [<span data-ttu-id="e4429-137">Liaisons d’étape de nuanceur HLSL</span><span class="sxs-lookup"><span data-stu-id="e4429-137">HLSL Shader Stage linkages</span></span>](#hlsl-shader-stage-linkages)
    -   [<span data-ttu-id="e4429-138">Mémoires tampons constantes</span><span class="sxs-lookup"><span data-stu-id="e4429-138">Constant Buffers</span></span>](#constant-buffers)
    -   [<span data-ttu-id="e4429-139">Plans d’utilisateur en HLSL sur le niveau de fonctionnalité 9 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="e4429-139">User clip planes in HLSL on feature level 9 and higher</span></span>](#user-clip-planes-in-hlsl-on-feature-level-9-and-higher)
-   [<span data-ttu-id="e4429-140">Autres différences Direct3D 10 à surveiller</span><span class="sxs-lookup"><span data-stu-id="e4429-140">Additional Direct3D 10 Differences to Watch For</span></span>](#additional-direct3d-10-differences-to-watch-for)
    -   [<span data-ttu-id="e4429-141">Entiers comme entrée</span><span class="sxs-lookup"><span data-stu-id="e4429-141">Integers as Input</span></span>](#integers-as-input)
    -   [<span data-ttu-id="e4429-142">Curseurs de la souris</span><span class="sxs-lookup"><span data-stu-id="e4429-142">Mouse Cursors</span></span>](#mouse-cursors)
    -   [<span data-ttu-id="e4429-143">Mappage de texels à des pixels dans Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-143">Mapping Texels to Pixels in Direct3D 10</span></span>](#mapping-texels-to-pixels-in-direct3d-10)
    -   [<span data-ttu-id="e4429-144">Modifications du comportement du décompte de références</span><span class="sxs-lookup"><span data-stu-id="e4429-144">Reference Counting Behavior Changes</span></span>](#reference-counting-behavior-changes)
    -   [<span data-ttu-id="e4429-145">Niveau de coopératif de test</span><span class="sxs-lookup"><span data-stu-id="e4429-145">Test Cooperative Level</span></span>](#test-cooperative-level)
    -   [<span data-ttu-id="e4429-146">StretchRect</span><span class="sxs-lookup"><span data-stu-id="e4429-146">StretchRect</span></span>](#stretchrect)
-   [<span data-ttu-id="e4429-147">Différences Direct3D 10,1 supplémentaires</span><span class="sxs-lookup"><span data-stu-id="e4429-147">Additional Direct3D 10.1 Differences</span></span>](#additional-direct3d-101-differences)
-   [<span data-ttu-id="e4429-148">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="e4429-148">Related topics</span></span>](#related-topics)

## <a name="overview-of-the-major-structural-changes-in-direct3d-10"></a><span data-ttu-id="e4429-149">Vue d’ensemble des principales modifications structurelles dans Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-149">Overview of the Major Structural Changes in Direct3D 10</span></span>

-   [<span data-ttu-id="e4429-150">Suppression de la fonction Fixed</span><span class="sxs-lookup"><span data-stu-id="e4429-150">Removal of Fixed Function</span></span>](#removal-of-fixed-function)
-   [<span data-ttu-id="e4429-151">Validation de l’heure de création de l’objet périphérique</span><span class="sxs-lookup"><span data-stu-id="e4429-151">Device Object Creation Time Validation</span></span>](#device-object-creation-time-validation)

<span data-ttu-id="e4429-152">Le processus de rendu à l’aide de l’appareil Direct3D 10 est structurellement similaire à Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="e4429-152">The process of rendering using the Direct3D 10 device is structurally similar to Direct3D 9.</span></span>

-   <span data-ttu-id="e4429-153">Définir une source de flux de vertex</span><span class="sxs-lookup"><span data-stu-id="e4429-153">Set a vertex stream source</span></span>
-   <span data-ttu-id="e4429-154">Définir la disposition d’entrée dans Direct3D 10 (définir la déclaration de flux de vertex dans Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="e4429-154">Set input layout in Direct3D 10 (set vertex stream declaration in Direct3D 9)</span></span>
-   <span data-ttu-id="e4429-155">Déclarer la topologie primitive</span><span class="sxs-lookup"><span data-stu-id="e4429-155">Declare primitive topology</span></span>
-   <span data-ttu-id="e4429-156">Définir des textures</span><span class="sxs-lookup"><span data-stu-id="e4429-156">Set textures</span></span>
-   <span data-ttu-id="e4429-157">Définir les objets d’État</span><span class="sxs-lookup"><span data-stu-id="e4429-157">Set state objects</span></span>
-   <span data-ttu-id="e4429-158">Définir des nuanceurs</span><span class="sxs-lookup"><span data-stu-id="e4429-158">Set shaders</span></span>
-   <span data-ttu-id="e4429-159">Dessin</span><span class="sxs-lookup"><span data-stu-id="e4429-159">Draw</span></span>

<span data-ttu-id="e4429-160">L’appel de [**dessin**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-draw) lie les opérations ensemble ; l’ordre des appels avant l’appel de dessin est arbitraire.</span><span class="sxs-lookup"><span data-stu-id="e4429-160">The [**Draw**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-draw) call ties the operations together; the ordering of calls prior to the Draw call is arbitrary.</span></span> <span data-ttu-id="e4429-161">Les principales différences dans la conception de l’API Direct3D 10 sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="e4429-161">The major differences in the Direct3D 10 API design are as follows:</span></span>

-   <span data-ttu-id="e4429-162">Suppression de la fonction Fixed</span><span class="sxs-lookup"><span data-stu-id="e4429-162">Removal of Fixed Function</span></span>
-   <span data-ttu-id="e4429-163">Suppression des bits en MAJUSCULEs-l’ensemble des fonctionnalités de base de Direct3D 10 est garanti</span><span class="sxs-lookup"><span data-stu-id="e4429-163">Removal of CAPS bits - Direct3D 10's base feature set is guaranteed</span></span>
-   <span data-ttu-id="e4429-164">Gestion plus stricte : accès aux ressources, état de l’appareil, constantes de nuanceur, liaison de nuanceur (entrées et sorties aux nuanceurs) entre les phases</span><span class="sxs-lookup"><span data-stu-id="e4429-164">Stricter management of: resource access, device state, shader constants, shader linkage (inputs and outputs to shaders) between stages</span></span>
-   <span data-ttu-id="e4429-165">Les modifications du nom du point d’entrée de l’API reflètent l’utilisation de la mémoire du GPU virtuel (Map () au lieu de lock ()).</span><span class="sxs-lookup"><span data-stu-id="e4429-165">API entry point name changes reflect the use of virtual GPU memory (Map() instead of Lock()).</span></span>
-   <span data-ttu-id="e4429-166">Une couche de débogage peut être ajoutée à l’appareil au moment de la création</span><span class="sxs-lookup"><span data-stu-id="e4429-166">A debug layer can be added to the device at creation time</span></span>
-   <span data-ttu-id="e4429-167">La topologie primitive est désormais un État explicite (séparé de l’appel de [**dessin**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-draw) )</span><span class="sxs-lookup"><span data-stu-id="e4429-167">The primitive topology is now an explicit state (separated from the [**Draw**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-draw) call)</span></span>
-   <span data-ttu-id="e4429-168">Les constantes de nuanceur explicites sont maintenant stockées dans des mémoires tampons constantes</span><span class="sxs-lookup"><span data-stu-id="e4429-168">Explicit shader constants are now stored in constant buffers</span></span>
-   <span data-ttu-id="e4429-169">La création de nuanceur est entièrement effectuée en HLSL.</span><span class="sxs-lookup"><span data-stu-id="e4429-169">Shader authoring is done entirely in HLSL.</span></span> <span data-ttu-id="e4429-170">Le compilateur HLSL se trouve désormais dans la DLL principale de Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-170">The HLSL compiler now resides in the primary Direct3D 10 DLL.</span></span>
-   <span data-ttu-id="e4429-171">Nouvelle étape programmable-nuanceur de géométrie</span><span class="sxs-lookup"><span data-stu-id="e4429-171">New programmable stage - the geometry shader</span></span>
-   <span data-ttu-id="e4429-172">Suppression de BeginScene ()/EndScene ()</span><span class="sxs-lookup"><span data-stu-id="e4429-172">Removal of BeginScene()/EndScene()</span></span>
-   <span data-ttu-id="e4429-173">Fonctionnalités courantes de gestion des adaptateurs, de focus et de mise en œuvre dans un nouveau composant : DXGI</span><span class="sxs-lookup"><span data-stu-id="e4429-173">Common 2D, focus and adapter-management functionality implemented in a new component: DXGI</span></span>

### <a name="removal-of-fixed-function"></a><span data-ttu-id="e4429-174">Suppression de la fonction Fixed</span><span class="sxs-lookup"><span data-stu-id="e4429-174">Removal of Fixed Function</span></span>

<span data-ttu-id="e4429-175">Il est parfois surprenant que même dans un moteur Direct3D 9 qui exploite pleinement le pipeline programmable, il reste un certain nombre de zones qui dépendent du pipeline de fonction fixe (FF).</span><span class="sxs-lookup"><span data-stu-id="e4429-175">It is sometimes surprising that even in a Direct3D 9 engine that fully exploits the programmable pipeline, there remains a number of areas that depend on the fixed-function (FF) pipeline.</span></span> <span data-ttu-id="e4429-176">Les zones les plus courantes sont généralement liées au rendu aligné sur l’espace de l’écran pour l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e4429-176">The most common areas are usually related to screen-space aligned rendering for UI.</span></span> <span data-ttu-id="e4429-177">C’est pour cette raison que vous devrez probablement créer un nuanceur d’émulation FF ou un ensemble de nuanceurs qui fournissent les comportements de remplacement nécessaires.</span><span class="sxs-lookup"><span data-stu-id="e4429-177">It is for this reason that you are likely to need to build a FF emulation shader or set of shaders which provide the necessary replacement behaviors.</span></span>

<span data-ttu-id="e4429-178">Cette documentation contient un livre blanc contenant des sources de nuanceur de remplacement pour les comportements FF les plus courants (Voir l' [exemple Fixed Function UME](https://msdn.microsoft.com/library/Ee416406(v=VS.85).aspx)).</span><span class="sxs-lookup"><span data-stu-id="e4429-178">This documentation contains a white paper containing replacement shader sources for the most common FF behaviors (see [Fixed Function EMU Sample](https://msdn.microsoft.com/library/Ee416406(v=VS.85).aspx)).</span></span> <span data-ttu-id="e4429-179">Certains comportements de pixel de fonction fixe, y compris le test alpha, ont été déplacés dans les nuanceurs.</span><span class="sxs-lookup"><span data-stu-id="e4429-179">Some fixed-function pixel behavior including alpha test has been moved into shaders.</span></span>

### <a name="device-object-creation-time-validation"></a><span data-ttu-id="e4429-180">Validation de l’heure de création de l’objet périphérique</span><span class="sxs-lookup"><span data-stu-id="e4429-180">Device Object Creation Time Validation</span></span>

<span data-ttu-id="e4429-181">Le pipeline Direct3D 10 a été remanié du point de vue du matériel et des logiciels, avec un objectif principal de réduire la surcharge du processeur (au moment du tracé).</span><span class="sxs-lookup"><span data-stu-id="e4429-181">The Direct3D 10 pipeline has been redesigned from the ground up in hardware and software with a primary intention to reduce CPU overhead (at Draw time).</span></span> <span data-ttu-id="e4429-182">Pour réduire les coûts, tous les types de données de l’appareil ont été affectés à un objet avec des méthodes de création explicites fournies par l’appareil lui-même.</span><span class="sxs-lookup"><span data-stu-id="e4429-182">To reduce costs, all types of device data have been assigned an object with explicit creation methods provided by the device itself.</span></span> <span data-ttu-id="e4429-183">Cela permet une validation stricte des données au moment de la création de l’objet plutôt que pendant l’appel de dessin, comme c’est souvent le cas avec Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="e4429-183">This enables strict data validation at object creation time instead of during the Draw call as it often does with Direct3D 9.</span></span>

## <a name="engine-abstractions--separation"></a><span data-ttu-id="e4429-184">Abstractions/séparation du moteur</span><span class="sxs-lookup"><span data-stu-id="e4429-184">Engine Abstractions / Separation</span></span>

<span data-ttu-id="e4429-185">Les applications, y compris les jeux, qui souhaitent prendre en charge Direct3D 9 et Direct3D 10 doivent avoir les couches de rendu abstraites du reste de la base de code.</span><span class="sxs-lookup"><span data-stu-id="e4429-185">Applications, including Games, that wish to support both Direct3D 9 and Direct3D 10 need to have the rendering layers abstracted from the rest of the code base.</span></span> <span data-ttu-id="e4429-186">Il existe de nombreuses façons d’y parvenir, mais la clé de chacun d’entre eux est la conception de la couche d’abstraction pour le périphérique Direct3D de niveau inférieur.</span><span class="sxs-lookup"><span data-stu-id="e4429-186">There are many ways to achieve this but key to all of them is the design of the abstraction layer for the lower-level Direct3D device.</span></span> <span data-ttu-id="e4429-187">Tous les systèmes doivent communiquer avec le matériel via la couche commune, conçue pour fournir la ressource GPU et la gestion des types de bas niveau.</span><span class="sxs-lookup"><span data-stu-id="e4429-187">All systems should communicate to the hardware through the common layer which is designed to provide GPU resource and low-level type management.</span></span>

### <a name="direct-removal-of-direct3d-9-dependencies"></a><span data-ttu-id="e4429-188">Suppression directe des dépendances Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="e4429-188">Direct Removal of Direct3D 9 Dependencies</span></span>

<span data-ttu-id="e4429-189">Lors du Portage de bases de code volumineuses et précédemment testées, il est important de réduire la quantité de modifications de code à celles qui sont absolument nécessaires pour conserver les comportements testés précédemment dans le code.</span><span class="sxs-lookup"><span data-stu-id="e4429-189">When porting large, previously tested code bases, it is important to minimize the amount of code changes to those which are absolutely necessary to preserve previously tested behaviors in the code.</span></span> <span data-ttu-id="e4429-190">Les meilleures pratiques incluent clairement la façon dont les éléments sont modifiés à l’aide de commentaires.</span><span class="sxs-lookup"><span data-stu-id="e4429-190">Best practices include clearly documenting where items change using comments.</span></span> <span data-ttu-id="e4429-191">Il est souvent utile d’avoir une norme de commentaires pour ce travail, ce qui permet une navigation rapide dans la base de code.</span><span class="sxs-lookup"><span data-stu-id="e4429-191">It's often useful to have a commenting standard for this work which enables quick navigation through the code base.</span></span>

<span data-ttu-id="e4429-192">Vous trouverez ci-dessous un exemple de liste de commentaires de bloc de début/ligne standard qui pourraient être utilisés pour ce travail.</span><span class="sxs-lookup"><span data-stu-id="e4429-192">The following is an example list of standard single line / start block comments which could be used for this work.</span></span>



| <span data-ttu-id="e4429-193">Élément</span><span class="sxs-lookup"><span data-stu-id="e4429-193">Item</span></span>                                                                                                                                                                             | <span data-ttu-id="e4429-194">Description</span><span class="sxs-lookup"><span data-stu-id="e4429-194">Description</span></span>                                                                                                                                                                                                                                                                                                                    |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e4429-195"><span id="___Direct3D_10_REMOVED"></span><span id="___direct3d_10_removed"></span><span id="___DIRECT3D_10_REMOVED"></span>Direct3D 10 supprimé</span><span class="sxs-lookup"><span data-stu-id="e4429-195"><span id="___Direct3D_10_REMOVED"></span><span id="___direct3d_10_removed"></span><span id="___DIRECT3D_10_REMOVED"></span>// Direct3D 10 REMOVED</span></span><br/>                     | <span data-ttu-id="e4429-196">Utilisez cette ligne où les lignes/blocs de code sont supprimés</span><span class="sxs-lookup"><span data-stu-id="e4429-196">Use this where lines / blocks of code are removed</span></span><br/>                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="e4429-197"><span id="___Direct3D_10_NEEDS_UPDATE"></span><span id="___direct3d_10_needs_update"></span><span id="___DIRECT3D_10_NEEDS_UPDATE"></span>MISE à jour des besoins Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-197"><span id="___Direct3D_10_NEEDS_UPDATE"></span><span id="___direct3d_10_needs_update"></span><span id="___DIRECT3D_10_NEEDS_UPDATE"></span>// Direct3D 10 NEEDS UPDATE</span></span><br/> | <span data-ttu-id="e4429-198">Elle permet d’ajouter des remarques supplémentaires au commentaire de mise à jour nécessaire, qui suggère l’utilisation de l’API travail/nouvelle pour les visites ultérieures au code pour la conversion de comportement.</span><span class="sxs-lookup"><span data-stu-id="e4429-198">It helps to added additional notes to the NEED UPDATE comment that suggests what work / new API should be used for later visits to the code for behavior conversion.</span></span> <span data-ttu-id="e4429-199">Une utilisation intensive de la méthode Assert (**false**) doit également être utilisée lorsque \\ \\ Direct3D 10 a besoin d’une mise à jour pour s’assurer que vous n’exécutez pas de code errant sans le savoir.</span><span class="sxs-lookup"><span data-stu-id="e4429-199">Heavy use of assert(**false**) should also be used where \\\\ Direct3D 10 NEEDS UPDATE occurs to ensure you do not unknowingly run errant code</span></span><br/> |
| <span data-ttu-id="e4429-200"><span id="___Direct3D_10_CHANGED"></span><span id="___direct3d_10_changed"></span><span id="___DIRECT3D_10_CHANGED"></span>Direct3D 10 modifié</span><span class="sxs-lookup"><span data-stu-id="e4429-200"><span id="___Direct3D_10_CHANGED"></span><span id="___direct3d_10_changed"></span><span id="___DIRECT3D_10_CHANGED"></span>// Direct3D 10 CHANGED</span></span><br/>                     | <span data-ttu-id="e4429-201">Les zones où des modifications majeures ont été apportées doivent être conservées pour référence ultérieure, mais commentées</span><span class="sxs-lookup"><span data-stu-id="e4429-201">Areas where major changes have occurred should be kept for future reference but commented out</span></span><br/>                                                                                                                                                                                                                       |
| <span data-ttu-id="e4429-202"><span id="___Direct3D_10_END"></span><span id="___direct3d_10_end"></span><span id="___DIRECT3D_10_END"></span>FIN de Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-202"><span id="___Direct3D_10_END"></span><span id="___direct3d_10_end"></span><span id="___DIRECT3D_10_END"></span>// Direct3D 10 END</span></span><br/>                                     | <span data-ttu-id="e4429-203">Qualificateur de bloc de code de fin</span><span class="sxs-lookup"><span data-stu-id="e4429-203">End code block qualifier</span></span><br/>                                                                                                                                                                                                                                                                                            |



 

<span data-ttu-id="e4429-204">Pour plusieurs lignes de source, vous devez également utiliser les commentaires//de style C \* \* , mais ajouter les commentaires de début/fin appropriés autour de ces zones.</span><span class="sxs-lookup"><span data-stu-id="e4429-204">For multiple lines of source you should use the C style /\* \*/ comments too but add the relevant start / end comments around these areas.</span></span>

## <a name="tricks-for-quickly-resolving-application-build-issues"></a><span data-ttu-id="e4429-205">Astuces pour résoudre rapidement les problèmes de génération d’applications</span><span class="sxs-lookup"><span data-stu-id="e4429-205">Tricks for Quickly Resolving Application Build Issues</span></span>

-   [<span data-ttu-id="e4429-206">Substitution de types Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="e4429-206">Overriding Direct3D 9 Types</span></span>](#overriding-direct3d-9-types)
-   [<span data-ttu-id="e4429-207">Résolution des problèmes liés aux liens</span><span class="sxs-lookup"><span data-stu-id="e4429-207">Resolving Link Issues</span></span>](#resolving-link-issues)
-   [<span data-ttu-id="e4429-208">Simulation des Cap des appareils</span><span class="sxs-lookup"><span data-stu-id="e4429-208">Simulating Device CAPs</span></span>](#simulating-device-caps)

### <a name="overriding-direct3d-9-types"></a><span data-ttu-id="e4429-209">Substitution de types Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="e4429-209">Overriding Direct3D 9 Types</span></span>

<span data-ttu-id="e4429-210">Il peut être utile d’insérer un fichier d’en-tête de haut niveau contenant des définitions/remplacements de type pour les types de base Direct3D 9 qui ne sont plus pris en charge par les en-têtes Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-210">It may be useful to insert a high level header file containing type definitions / overrides for Direct3D 9 base types which are no longer supported by the Direct3D 10 headers.</span></span> <span data-ttu-id="e4429-211">Cela vous permet de réduire le nombre de modifications dans le code et les interfaces où il existe un mappage direct d’un type Direct3D 9 vers le type Direct3D 10 nouvellement défini.</span><span class="sxs-lookup"><span data-stu-id="e4429-211">This will help you minimize the amount of changes in the code and interfaces where there is a direct mapping from a Direct3D 9 type to the newly defined Direct3D 10 type.</span></span> <span data-ttu-id="e4429-212">Cette approche est également utile pour conserver les comportements de code dans un fichier source.</span><span class="sxs-lookup"><span data-stu-id="e4429-212">This approach is also useful for keeping code behaviors together in one source file.</span></span> <span data-ttu-id="e4429-213">Dans ce cas, il est judicieux de définir des types de noms neutres/généralement nommés qui décrivent les constructions courantes utilisées pour le rendu, mais qui s’étendent encore sur les API Direct3D 9 et Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-213">In this case, it is a good idea to define version neutral / generally named types which describe common constructs used for rendering yet span both Direct3D 9 and Direct3D 10 APIs.</span></span> <span data-ttu-id="e4429-214">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="e4429-214">For example:</span></span>


```
#if defined(D3D9)
typedef IDirect3DIndexBuffer9   IDirect3DIndexBuffer;
typedef IDirect3DVertexBuffer9  IDirect3DVertexBuffer;
#else //D3D10
typedef ID3D10Buffer            IDirect3DIndexBuffer;
typedef ID3D10Buffer            IDirect3DVertexBuffer
#endif
```



<span data-ttu-id="e4429-215">Voici d’autres exemples spécifiques à Direct3D 10 :</span><span class="sxs-lookup"><span data-stu-id="e4429-215">Other Direct3D 10 specific examples of this include:</span></span>


```
typedef ID3D10TextureCube   IDirect3DCubeTexture;
typedef ID3D10Texture3D     IDirect3DVolumeTexture;
typedef D3D10_VIEWPORT      D3DVIEWPORT;
typedef ID3D10VertexShader  IDirect3DVertexShader;
typedef ID3D10PixelShader   IDirect3DPixelShader;
```



### <a name="resolving-link-issues"></a><span data-ttu-id="e4429-216">Résolution des problèmes liés aux liens</span><span class="sxs-lookup"><span data-stu-id="e4429-216">Resolving Link Issues</span></span>

<span data-ttu-id="e4429-217">Il est recommandé de développer des applications Direct3D 10 et Windows Vista à l’aide de la dernière version de Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e4429-217">It is advisable to develop Direct3D 10 and Windows Vista applications using the latest version of Microsoft Visual Studio.</span></span> <span data-ttu-id="e4429-218">Toutefois, il est possible de créer une application Windows Vista qui dépend de Direct3D 10 à l’aide de la version 2003 antérieure de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e4429-218">However, it is possible to build a Windows Vista application which depends on Direct3D 10 using the earlier 2003 version of Visual Studio.</span></span> <span data-ttu-id="e4429-219">Direct3D 10 est un composant de plateforme Windows Vista qui a des dépendances (comme le kit de développement logiciel (SDK) de plate-forme serveur 2003 SP1) sur la bibliothèque suivante : BufferOverflowU. lib est nécessaire pour résoudre les problèmes de l’éditeur de liens de vérification de sécurité de mémoire tampon \_ .</span><span class="sxs-lookup"><span data-stu-id="e4429-219">Direct3D 10 is a Windows Vista platform component which has dependencies (as with the Server 2003 SP1 platform SDK) on the following lib: BufferOverflowU.lib is needed to solve any buffer\_security check linker issues.</span></span>

### <a name="simulating-device-caps"></a><span data-ttu-id="e4429-220">Simulation des Cap des appareils</span><span class="sxs-lookup"><span data-stu-id="e4429-220">Simulating Device CAPs</span></span>

<span data-ttu-id="e4429-221">De nombreuses applications contiennent des zones de code qui dépendent des données de la capitalisation des appareils disponibles.</span><span class="sxs-lookup"><span data-stu-id="e4429-221">Many applications contain areas of code which depend on device CAPS data being available.</span></span> <span data-ttu-id="e4429-222">Contourner cela en remplaçant l’énumération des appareils et en forçant les limites des appareils à des valeurs sensibles.</span><span class="sxs-lookup"><span data-stu-id="e4429-222">Work around this by overriding device enumeration and forcing device CAPS to sensible values.</span></span> <span data-ttu-id="e4429-223">Envisagez de revisiter les zones où il y a des dépendances sur les Cap ultérieurement pour la suppression complète des Cap dans la mesure du possible.</span><span class="sxs-lookup"><span data-stu-id="e4429-223">Plan to re-visit areas where there are dependencies on CAPS later for full removal of CAPS where possible.</span></span>

## <a name="driving-the-direct3d-10-api"></a><span data-ttu-id="e4429-224">Conduite de l’API Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-224">Driving the Direct3D 10 API</span></span>

<span data-ttu-id="e4429-225">Cette section se concentre sur les modifications de comportement provoquées par l’API Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-225">This section focuses on the behavior changes caused by the Direct3D 10 API.</span></span>

-   [<span data-ttu-id="e4429-226">Création de ressources</span><span class="sxs-lookup"><span data-stu-id="e4429-226">Resource Creation</span></span>](#resource-creation)
-   [<span data-ttu-id="e4429-227">Views</span><span class="sxs-lookup"><span data-stu-id="e4429-227">Views</span></span>](#views)
-   [<span data-ttu-id="e4429-228">Accès aux ressources statiques et dynamiques</span><span class="sxs-lookup"><span data-stu-id="e4429-228">Static versus Dynamic Resource Access</span></span>](#static-versus-dynamic-resource-access)
-   [<span data-ttu-id="e4429-229">Effets Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-229">Direct3D 10 Effects</span></span>](#direct3d-10-effects)
-   [<span data-ttu-id="e4429-230">HLSL sans effets</span><span class="sxs-lookup"><span data-stu-id="e4429-230">HLSL without Effects</span></span>](#hlsl-without-effects)
-   [<span data-ttu-id="e4429-231">Compilation du nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-231">Shader Compilation</span></span>](#shader-compilation)
-   [<span data-ttu-id="e4429-232">Création de ressources de nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-232">Creation of Shader Resources</span></span>](#creation-of-shader-resources)
-   [<span data-ttu-id="e4429-233">Interface de couche de réflexion du nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-233">Shader Reflection Layer Interface</span></span>](#shader-reflection-layer-interface)
-   [<span data-ttu-id="e4429-234">Dispositions de l’assembleur d’entrée-liaison de nuanceur de sommets/flux d’entrée</span><span class="sxs-lookup"><span data-stu-id="e4429-234">Input Assembler Layouts - Vertex Shader / Input Stream Linkage</span></span>](/windows)
-   [<span data-ttu-id="e4429-235">Impact de la suppression du code mort du nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-235">Impact of Shader Dead Code Removal</span></span>](#impact-of-shader-dead-code-removal)
-   [<span data-ttu-id="e4429-236">Exemple de structure d’entrée de nuanceur de sommets</span><span class="sxs-lookup"><span data-stu-id="e4429-236">Vertex Shader Input Structure Example</span></span>](#vertex-shader-input-structure-example)
-   [<span data-ttu-id="e4429-237">Création d’un objet d’État</span><span class="sxs-lookup"><span data-stu-id="e4429-237">State Object Creation</span></span>](#state-object-creation)

### <a name="resource-creation"></a><span data-ttu-id="e4429-238">Création de ressources</span><span class="sxs-lookup"><span data-stu-id="e4429-238">Resource Creation</span></span>

<span data-ttu-id="e4429-239">L’API Direct3D 10 a conçu des ressources en tant que types de tampons génériques qui ont des indicateurs de liaison spécifiques en fonction de l’utilisation planifiée.</span><span class="sxs-lookup"><span data-stu-id="e4429-239">The Direct3D 10 API has designed resources as generic buffer types which have specific bind flags according to the planned usage.</span></span> <span data-ttu-id="e4429-240">Ce point de conception a été choisi pour faciliter l’accès presque omniprésent des ressources dans le pipeline pour des scénarios tels que le rendu dans une mémoire tampon de vertex, puis le dessin instantané des résultats sans interrompre l’UC.</span><span class="sxs-lookup"><span data-stu-id="e4429-240">This design point was chosen to facilitate near ubiquitous access of resources in the Pipeline for scenarios such as rendering to a vertex buffer then instantly drawing the results without interrupting the CPU.</span></span> <span data-ttu-id="e4429-241">L’exemple suivant illustre l’allocation de mémoires tampons de vertex et de tampon d’index, où vous pouvez voir que la description de la ressource diffère uniquement par les indicateurs de liaison de la ressource GPU.</span><span class="sxs-lookup"><span data-stu-id="e4429-241">The following example demonstrates allocation of vertex buffers and index buffer where you can see that the resource description only differs by the GPU resource bind flags.</span></span>

<span data-ttu-id="e4429-242">L’API Direct3D 10 a fourni des méthodes d’assistance de texture pour créer explicitement des ressources de type texture, mais comme vous pouvez l’imaginer, il s’agit d’une fonction d’assistance.</span><span class="sxs-lookup"><span data-stu-id="e4429-242">The Direct3D 10 API has provided texture helper methods for explicitly creating texture type resources but as you can imagine, these are really helper functions.</span></span>

-   <span data-ttu-id="e4429-243">CreateTexture2D()</span><span class="sxs-lookup"><span data-stu-id="e4429-243">CreateTexture2D()</span></span>
-   <span data-ttu-id="e4429-244">CreateTextureCube()</span><span class="sxs-lookup"><span data-stu-id="e4429-244">CreateTextureCube()</span></span>
-   <span data-ttu-id="e4429-245">CreateTexture3D()</span><span class="sxs-lookup"><span data-stu-id="e4429-245">CreateTexture3D()</span></span>

<span data-ttu-id="e4429-246">Quand vous ciblez Direct3D 10, vous souhaiterez probablement allouer plus d’éléments pendant la durée de création des ressources que vous ne l’utilisez avec Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="e4429-246">When targeting Direct3D 10, you are likely to want to allocate more items during resource creation time than you are used to with Direct3D 9.</span></span> <span data-ttu-id="e4429-247">Cela deviendra le plus évident avec la création de mémoires tampons cibles de rendu et de textures où vous devez également créer une vue pour accéder à la mémoire tampon et définir la ressource sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="e4429-247">This will become most apparent with the creation of Render Target buffers and Textures where you need to also create a view for accessing the buffer and setting the resource on the device.</span></span>

<span data-ttu-id="e4429-248">[Didacticiel 1 : principes de base de Direct3D 10](https://msdn.microsoft.com/library/Ee416436(v=VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="e4429-248">[Tutorial 1: Direct3D 10 Basics](https://msdn.microsoft.com/library/Ee416436(v=VS.85).aspx)</span></span>

> [!Note]  
> <span data-ttu-id="e4429-249">Direct3D 10 et les versions ultérieures de Direct3D étendent le format de fichier DDS pour prendre en charge de nouveaux formats DXGI, des tableaux de texture et des tableaux de mappage de cube.</span><span class="sxs-lookup"><span data-stu-id="e4429-249">Direct3D 10 and later versions of Direct3D extend the DDS file format to support new DXGI formats, texture arrays, and cube-map arrays.</span></span> <span data-ttu-id="e4429-250">Pour plus d’informations sur l’extension de format de fichier DDS, consultez le [Guide de programmation pour DDS](../direct3ddds/dx-graphics-dds-pguide.md).</span><span class="sxs-lookup"><span data-stu-id="e4429-250">For more information about the DDS file format extension, see the [Programming Guide for DDS](../direct3ddds/dx-graphics-dds-pguide.md).</span></span>

 

### <a name="views"></a><span data-ttu-id="e4429-251">Les vues</span><span class="sxs-lookup"><span data-stu-id="e4429-251">Views</span></span>

<span data-ttu-id="e4429-252">Une vue est une interface spécifiquement typée aux données stockées dans une mémoire tampon de pixels.</span><span class="sxs-lookup"><span data-stu-id="e4429-252">A view is a specifically typed, interface to data stored in a pixel buffer.</span></span> <span data-ttu-id="e4429-253">Plusieurs vues peuvent être allouées à une ressource à la fois et cette fonctionnalité est mise en surbrillance dans l’exemple de carte cubique de passe unique contenu dans ce kit de développement logiciel (SDK).</span><span class="sxs-lookup"><span data-stu-id="e4429-253">A resource can have several views allocated on it at once and this feature is highlighted in the Single Pass Render to Cubemap sample contained in this SDK.</span></span>

[<span data-ttu-id="e4429-254">Page Guide des programmeurs sur l’accès aux ressources</span><span class="sxs-lookup"><span data-stu-id="e4429-254">Programmers Guide page on Resource Access</span></span>](d3d10-graphics-programming-guide-resources-access-views.md)

<span data-ttu-id="e4429-255">[Exemple carte cubique](https://msdn.microsoft.com/library/Ee416398(v=VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="e4429-255">[CubeMap Sample](https://msdn.microsoft.com/library/Ee416398(v=VS.85).aspx)</span></span>

### <a name="static-versus-dynamic-resource-access"></a><span data-ttu-id="e4429-256">Accès aux ressources statiques et dynamiques</span><span class="sxs-lookup"><span data-stu-id="e4429-256">Static versus Dynamic Resource Access</span></span>

<span data-ttu-id="e4429-257">Pour des performances optimales, les applications doivent partitionner l’utilisation des données en fonction de la nature statique et dynamique des données.</span><span class="sxs-lookup"><span data-stu-id="e4429-257">For best performance, applications should partition their data use in terms of the static vs dynamic nature of the data.</span></span> <span data-ttu-id="e4429-258">Direct3D 10 a été conçu pour tirer parti de cette approche et, par conséquent, les règles d’accès aux ressources ont été considérablement renforcées par Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="e4429-258">Direct3D 10 has been designed to take advantage of this approach and as such, the access rules for resources have been significantly tightened up over Direct3D 9.</span></span> <span data-ttu-id="e4429-259">Pour les ressources statiques, vous devez idéalement remplir la ressource avec ses données au moment de la création.</span><span class="sxs-lookup"><span data-stu-id="e4429-259">For static resources you should ideally populate the resource with its data during creation time.</span></span> <span data-ttu-id="e4429-260">Si votre moteur a été conçu autour du point de conception créer, verrouiller, remplir et déverrouiller de Direct3D 9, vous pouvez différer le remplissage de l’heure de création à l’aide d’une ressource de mise en lots et de la méthode UpdateSubResource sur l’interface de ressource.</span><span class="sxs-lookup"><span data-stu-id="e4429-260">If your engine has been designed around the Create, Lock, Fill, Unlock design point of Direct3D 9, you may defer population from Create time by using a staging resource and the UpdateSubResource method on the resource interface.</span></span>

### <a name="direct3d-10-effects"></a><span data-ttu-id="e4429-261">Effets Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-261">Direct3D 10 Effects</span></span>

<span data-ttu-id="e4429-262">L’utilisation du système d’effets Direct3D 10 sort du cadre de cet article.</span><span class="sxs-lookup"><span data-stu-id="e4429-262">Use of the Direct3D 10 Effects system is outside the scope of this article.</span></span> <span data-ttu-id="e4429-263">Le système a été écrit pour tirer pleinement parti des avantages architecturaux fournis par Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-263">The system has been written to take full advantage of the architectural benefits that Direct3D 10 provides.</span></span> <span data-ttu-id="e4429-264">Pour plus d’informations sur son utilisation, consultez la section [effets (Direct3D 10)](d3d10-graphics-programming-guide-effects.md) .</span><span class="sxs-lookup"><span data-stu-id="e4429-264">See the [Effects (Direct3D 10)](d3d10-graphics-programming-guide-effects.md) section for more detail on its use.</span></span>

### <a name="hlsl-without-effects"></a><span data-ttu-id="e4429-265">HLSL sans effets</span><span class="sxs-lookup"><span data-stu-id="e4429-265">HLSL without Effects</span></span>

<span data-ttu-id="e4429-266">Le pipeline de nuanceur Direct3D 10 peut être piloté sans l’utilisation du système d’effets Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-266">The Direct3D 10 Shader pipeline may be driven without the use of the Direct3D 10 Effects system.</span></span> <span data-ttu-id="e4429-267">Notez que dans ce cas, toutes les liaisons de tampon, de nuanceur, d’échantillonneur et de texture de constante doivent être gérées par l’application elle-même.</span><span class="sxs-lookup"><span data-stu-id="e4429-267">Note that in this instance, all constant buffer, shader, sampler and texture binding must be managed by the application itself.</span></span> <span data-ttu-id="e4429-268">Pour plus d’informations, consultez l’exemple de lien et les sections suivantes de ce document :</span><span class="sxs-lookup"><span data-stu-id="e4429-268">See the sample link and following sections of this document for more detail:</span></span>

<span data-ttu-id="e4429-269">[Exemple HLSL sans effets](https://msdn.microsoft.com/library/Ee416414(v=VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="e4429-269">[HLSL without Effects sample](https://msdn.microsoft.com/library/Ee416414(v=VS.85).aspx)</span></span>

### <a name="shader-compilation"></a><span data-ttu-id="e4429-270">Compilation du nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-270">Shader Compilation</span></span>

<span data-ttu-id="e4429-271">Le compilateur HLSL Direct3D 10 apporte des améliorations à la définition du langage HLSL et peut donc fonctionner en 2 modes.</span><span class="sxs-lookup"><span data-stu-id="e4429-271">The Direct3D 10 HLSL compiler brings enhancements to the HLSL language definition and therefore has the ability to operate in 2 modes.</span></span> <span data-ttu-id="e4429-272">Pour une prise en charge complète de la sémantique et des fonctions intrinsèques de style Direct3D 9, la compilation doit être appelée à l’aide de l’indicateur de MODE de compatibilité qui peut être spécifié pour chaque compilation.</span><span class="sxs-lookup"><span data-stu-id="e4429-272">For complete support of Direct3D 9 style intrinsic functions and semantics, compilation should be invoked using the COMPATIBILITY MODE flag which can be specified on a per compile basis.</span></span>

<span data-ttu-id="e4429-273">Le modèle de nuanceur 4,0 une sémantique spécifique du langage HLSL et des fonctions intrinsèques pour Direct3D 10 est disponible en [HLSL](../direct3dhlsl/dx-graphics-hlsl.md).</span><span class="sxs-lookup"><span data-stu-id="e4429-273">The shader model 4.0 specific HLSL language semantics and intrinsic functions for Direct3D 10 can be found at [HLSL](../direct3dhlsl/dx-graphics-hlsl.md).</span></span> <span data-ttu-id="e4429-274">Les modifications majeures apportées à la syntaxe de Direct3D 9 HLSL pour prendre le plus de note de se trouvent dans le domaine de l’accès aux textures.</span><span class="sxs-lookup"><span data-stu-id="e4429-274">Major changes in syntax from Direct3D 9 HLSL to take the most notice of are in the area of texture access.</span></span> <span data-ttu-id="e4429-275">La nouvelle syntaxe est la seule forme prise en charge par le compilateur en dehors du mode de compatibilité.</span><span class="sxs-lookup"><span data-stu-id="e4429-275">The new syntax is the only form supported by the compiler outside of compatibility mode.</span></span>

> [!Note]  
> <span data-ttu-id="e4429-276">Les API de type compilateur Direct3D 10 ([**D3D10CompileShader**](/windows/desktop/api/D3D10Shader/nf-d3d10shader-d3d10compileshader) et [**D3D10CompileEffectFromMemory**](/windows/desktop/api/D3D10Effect/nf-d3d10effect-d3d10compileeffectfrommemory)) sont fournies par les runtimes Direct3D 10, 10,1 et 11 qui s’exécutent dans Windows Vista et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="e4429-276">The Direct3D 10 compiler-type APIs ([**D3D10CompileShader**](/windows/desktop/api/D3D10Shader/nf-d3d10shader-d3d10compileshader) and [**D3D10CompileEffectFromMemory**](/windows/desktop/api/D3D10Effect/nf-d3d10effect-d3d10compileeffectfrommemory)) are supplied by the Direct3D 10, 10.1, and 11 runtimes that run in Windows Vista and later.</span></span> <span data-ttu-id="e4429-277">Les API de type compilateur Direct3D 10 ont les mêmes fonctionnalités que le compilateur HLSL fourni dans le kit de développement logiciel (SDK) DirectX (décembre 2006).</span><span class="sxs-lookup"><span data-stu-id="e4429-277">The Direct3D 10 compiler-type APIs have the same functionality as the HLSL compiler that is shipped in the DirectX SDK (December 2006).</span></span> <span data-ttu-id="e4429-278">Ce compilateur HLSL ne prend pas en charge les profils Direct3D 10,1 (vs \_ 4 \_ 1, PS \_ 4 \_ 1, GS \_ 4 \_ 1, FX \_ 4 \_ 1) et il manque un certain nombre d’optimisations et d’améliorations.</span><span class="sxs-lookup"><span data-stu-id="e4429-278">This HLSL compiler does not support the Direct3D 10.1 profiles (vs\_4\_1, ps\_4\_1, gs\_4\_1, fx\_4\_1), and is missing a number of optimizations and improvements.</span></span> <span data-ttu-id="e4429-279">Vous pouvez vous procurer un compilateur HLSL qui prend en charge les profils Direct3D 10,1 de la dernière version héritée de [DirectX SDK](/previous-versions/windows/apps/hh452744(v=win.10)).</span><span class="sxs-lookup"><span data-stu-id="e4429-279">You can get an HLSL compiler that supports the Direct3D 10.1 profiles from the latest legacy [DirectX SDK release](/previous-versions/windows/apps/hh452744(v=win.10)).</span></span> <span data-ttu-id="e4429-280">Pour plus d’informations sur le SDK DirectX hérité, consultez [où est le kit de développement logiciel (SDK) DirectX ?](../directx-sdk--august-2009-.md).</span><span class="sxs-lookup"><span data-stu-id="e4429-280">For info about the legacy DirectX SDK, see [Where is the DirectX SDK?](../directx-sdk--august-2009-.md).</span></span> <span data-ttu-id="e4429-281">Vous pouvez vous procurer la dernière version du compilateur de ligne de commande Fxc.exe HLSL et des API [D3DCompiler](../direct3dhlsl/dx-graphics-d3dcompiler-reference.md) à partir du SDK Windows.</span><span class="sxs-lookup"><span data-stu-id="e4429-281">You can get the latest HLSL Fxc.exe command-line compiler and [D3DCompiler](../direct3dhlsl/dx-graphics-d3dcompiler-reference.md) APIs from the Windows SDK.</span></span>

 

### <a name="creation-of-shader-resources"></a><span data-ttu-id="e4429-282">Création de ressources de nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-282">Creation of Shader Resources</span></span>

<span data-ttu-id="e4429-283">La création d’instances de nuanceur compilées en dehors du système d’effets Direct3D 10 s’effectue de façon très similaire à Direct3D 9. Toutefois, dans Direct3D 10, il est important de conserver la signature d’entrée du nuanceur pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="e4429-283">The creation of compiled shader instances outside of the Direct3D 10 Effects system is done in a very similar manner to Direct3D 9 however, in Direct3D 10, it is important to keep the Shader Input signature around for later use.</span></span> <span data-ttu-id="e4429-284">La signature est retournée par défaut dans le cadre de l’objet blob de nuanceur, mais peut être extraite pour réduire les besoins en mémoire si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="e4429-284">The signature is returned by default as part of the shader blob but may be extracted to reduce the memory requirements if needed.</span></span> <span data-ttu-id="e4429-285">Pour plus d’informations, consultez [utilisation de nuanceurs dans Direct3D 10](../direct3dhlsl/dx-graphics-hlsl-using-shaders-10.md).</span><span class="sxs-lookup"><span data-stu-id="e4429-285">For more details, see [Using Shaders in Direct3D 10](../direct3dhlsl/dx-graphics-hlsl-using-shaders-10.md).</span></span>

### <a name="shader-reflection-layer-interface"></a><span data-ttu-id="e4429-286">Interface de couche de réflexion du nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-286">Shader Reflection Layer Interface</span></span>

<span data-ttu-id="e4429-287">La couche de réflexion du nuanceur est l’interface par laquelle les informations sur les spécifications du nuanceur peuvent être obtenues.</span><span class="sxs-lookup"><span data-stu-id="e4429-287">The shader reflection layer is the interface by which information about the shader requirements may be obtained.</span></span> <span data-ttu-id="e4429-288">Cela s’avère particulièrement utile lors de la création de liens d’assembly d’entrée (voir ci-dessous) où vous devrez peut-être traverser les spécifications d’entrée du nuanceur pour vous assurer que vous fournissez la structure d’entrée correcte au nuanceur.</span><span class="sxs-lookup"><span data-stu-id="e4429-288">This is particularly useful when creating Input Assembly linkages (see below) where you may need to traverse the shader input requirements to ensure you are supplying the correct input structure to the shader.</span></span> <span data-ttu-id="e4429-289">Vous pouvez créer une instance de l’interface de la couche réflexion en même temps que la création d’une instance d’un nuanceur compilé.</span><span class="sxs-lookup"><span data-stu-id="e4429-289">You can create an instance of the reflection layer interface at the same time as creating an instance of a compiled shader.</span></span>

<span data-ttu-id="e4429-290">La couche de réflexion du nuanceur remplace les méthodes D3DX9 qui offrent des fonctionnalités similaires.</span><span class="sxs-lookup"><span data-stu-id="e4429-290">The shader reflection layer replaces D3DX9 methods that provide similar functionality.</span></span> <span data-ttu-id="e4429-291">Par exemple, [**IsParameterUsed**](../direct3d9/id3dxeffect--isparameterused.md) est remplacé par la méthode [**GetDesc**](/windows/desktop/api/D3D10Shader/nf-d3d10shader-id3d10shaderreflectionvariable-getdesc) .</span><span class="sxs-lookup"><span data-stu-id="e4429-291">For example [**IsParameterUsed**](../direct3d9/id3dxeffect--isparameterused.md) is replaced by the [**GetDesc**](/windows/desktop/api/D3D10Shader/nf-d3d10shader-id3d10shaderreflectionvariable-getdesc) method.</span></span>

### <a name="input-assembler-layouts---vertex-shader--input-stream-linkage"></a><span data-ttu-id="e4429-292">Dispositions de l’assembleur d’entrée-liaison de nuanceur de sommets/flux d’entrée</span><span class="sxs-lookup"><span data-stu-id="e4429-292">Input Assembler Layouts - Vertex Shader / Input Stream Linkage</span></span>

<span data-ttu-id="e4429-293">L’assembleur d’entrée (IA) remplace la déclaration de flux de vertex de style Direct3D 9 et sa structure de description est très similaire dans la forme.</span><span class="sxs-lookup"><span data-stu-id="e4429-293">The Input Assembler (IA) replaces the Direct3D 9 style Vertex Stream Declaration and it's description structure is very similar in form.</span></span> <span data-ttu-id="e4429-294">La principale différence réside dans le fait que l’objet de disposition IA créé doit être directement mappé à un format spécifique de signature d’entrée de nuanceur.</span><span class="sxs-lookup"><span data-stu-id="e4429-294">The main difference that the IA brings is that the IA layout object created must directly map to a specific format of shader input signature.</span></span> <span data-ttu-id="e4429-295">L’objet de mappage créé pour lier le flux d’entrée au nuanceur peut être utilisé sur un nombre quelconque de nuanceurs où la signature d’entrée du nuanceur correspond à celle du nuanceur utilisé pour créer la disposition d’entrée.</span><span class="sxs-lookup"><span data-stu-id="e4429-295">The mapping object created to link the input stream to shader may be used across any number of shaders where the shader input signature matches that of the shader used to create the Input Layout.</span></span>

<span data-ttu-id="e4429-296">Pour optimiser le pipeline avec des données statiques, vous devez considérer les permutations du format de flux d’entrée par rapport aux signatures d’entrée de nuanceur possibles et créer les instances d’objet de disposition IA aussi tôt que possible et les réutiliser dans la mesure du possible.</span><span class="sxs-lookup"><span data-stu-id="e4429-296">To best drive the pipeline with static data, you should consider the permutations of input stream format to possible shader input signatures and create the IA layout object instances as early as is possible and reuse them where possible.</span></span>

### <a name="impact-of-shader-dead-code-removal"></a><span data-ttu-id="e4429-297">Impact de la suppression du code mort du nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-297">Impact of Shader Dead Code Removal</span></span>

<span data-ttu-id="e4429-298">La section suivante décrit en détail une différence significative entre Direct3D 9 et Direct3D 10, qui est susceptible de nécessiter une gestion soigneuse dans le code de votre moteur.</span><span class="sxs-lookup"><span data-stu-id="e4429-298">The following section details a significant difference between Direct3D 9 and Direct3D 10 that is likely to require careful handling in your engine code.</span></span> <span data-ttu-id="e4429-299">Les nuanceurs qui contiennent des expressions conditionnelles ont souvent certains chemins de code supprimés dans le cadre du processus de compilation.</span><span class="sxs-lookup"><span data-stu-id="e4429-299">Shaders which contain conditional expressions often have certain code paths removed as part of the compilation process.</span></span> <span data-ttu-id="e4429-300">Dans Direct3D 9, deux types d’entrées peuvent être supprimés (marquées pour suppression) en cas d’inutilisation : entrées de signature (comme l’exemple ci-dessous) et entrées constantes.</span><span class="sxs-lookup"><span data-stu-id="e4429-300">In Direct3D 9, two kinds of inputs may be removed (marked for removal) when unused: signature inputs (like the example below) and constant inputs.</span></span> <span data-ttu-id="e4429-301">Si la fin de la mémoire tampon constante contient des entrées inutilisées, la déclaration de taille dans le nuanceur reflète la taille de la mémoire tampon constante sans les entrées inutilisées à la fin.</span><span class="sxs-lookup"><span data-stu-id="e4429-301">If the end of the constant buffer contains unused entries, the size declaration in the shader will reflect the size of the constant buffer without the unused entries at the end.</span></span> <span data-ttu-id="e4429-302">Ces deux types d’entrées restent dans les signatures ou les mémoires tampons constantes Direct3D 10 avec une exception spéciale dans le cas d’entrées constantes inutilisées à la fin d’une mémoire tampon constante.</span><span class="sxs-lookup"><span data-stu-id="e4429-302">Both of these kinds of inputs remain in signatures or constant buffers Direct3D 10 with a special exception in the case of unused constant inputs at the end of a constant buffer.</span></span> <span data-ttu-id="e4429-303">Cela peut avoir un impact sur le moteur lors de la gestion de grands nuanceurs et de la création de dispositions d’entrée.</span><span class="sxs-lookup"><span data-stu-id="e4429-303">This may have an impact on the engine when handling large shaders and creating input layouts.</span></span> <span data-ttu-id="e4429-304">Les éléments supprimés par les optimisations du code mort dans le compilateur doivent toujours être déclarés dans la structure d’entrée.</span><span class="sxs-lookup"><span data-stu-id="e4429-304">Elements which are removed by dead code optimizations in the compiler must still be declared in the input structure.</span></span> <span data-ttu-id="e4429-305">Cela est illustré par l'exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="e4429-305">The following example demonstrates this:</span></span>

### <a name="vertex-shader-input-structure-example"></a><span data-ttu-id="e4429-306">Exemple de structure d’entrée de nuanceur de sommets</span><span class="sxs-lookup"><span data-stu-id="e4429-306">Vertex Shader Input Structure Example</span></span>


```
struct VS_INPUT
{
float4 pos: SV_Position;
float2 uv1 : Texcoord1;
float2 uv2 : Texcoord2; *
};
```



<span data-ttu-id="e4429-307">\* La suppression du code mort de Direct3D 9 supprime la déclaration dans le nuanceur en raison de la suppression du code mort conditionnel</span><span class="sxs-lookup"><span data-stu-id="e4429-307">\* Direct3D 9 dead code removal would remove the declaration in the shader due to conditional dead code removal</span></span>


```
float4x4  g_WorldViewProjMtx;
static const bool g_bLightMapped = false; // define a compile time constant

VS_INPUT main(VS_INPUT i) 
{
    VS_INPUT o;
    o.pos = mul( i.pos, g_WorldViewProjMtx);
    o.uv1 = i.uv1;
    if ( g_bLightMapped )
    {
        o.uv2 = i.uv2;
    }
    return o;
}
```



<span data-ttu-id="e4429-308">Ou bien, il peut être plus évident que la constante est une constante au moment de la compilation avec la déclaration suivante :</span><span class="sxs-lookup"><span data-stu-id="e4429-308">Or, you could make it even more obvious that the constant is a compile time constant with the following declaration:</span></span>


```
#define LIGHT_MAPPED false
```



<span data-ttu-id="e4429-309">Dans l’exemple ci-dessus, sous Direct3D 9, l’élément UV2 serait supprimé en raison des optimisations du code mort dans le compilateur.</span><span class="sxs-lookup"><span data-stu-id="e4429-309">In the above example, under Direct3D 9, the uv2 element would be removed due to dead code optimizations in the compiler.</span></span> <span data-ttu-id="e4429-310">Sous Direct3D 10, le code mort sera toujours supprimé, mais la disposition de l’assembleur d’entrée du nuanceur requiert la définition des données d’entrée.</span><span class="sxs-lookup"><span data-stu-id="e4429-310">Under Direct3D 10, the dead code will still be removed but the shader input assembler layout requires the definition of the input data to exist.</span></span> <span data-ttu-id="e4429-311">La couche de réflexion du nuanceur fournit les moyens de gérer cette situation de façon générique, ce qui vous permet de traverser les spécifications d’entrée du nuanceur et de vous assurer que vous fournissez une description complète du flux d’entrée au mappage de signature du nuanceur.</span><span class="sxs-lookup"><span data-stu-id="e4429-311">The shader reflection layer provides the means to handle this situation in a generic manner whereby you can traverse the shader input requirements and ensure that you provide a full description of the Input Stream to shader signature mapping.</span></span>

<span data-ttu-id="e4429-312">Voici un exemple de fonction pour détecter l’existence d’un nom ou d’un index sémantique dans une signature de fonction :</span><span class="sxs-lookup"><span data-stu-id="e4429-312">Here's an example function to detect the existence of a semantic name/index in a function signature:</span></span>


```
// Returns true if the SemanticName / SemanticIndex is used in the input signature.
// pReflector is a previously acquired shader reflection interface.
bool IsSignatureElementExpected(ID3D10ShaderReflection *pReflector, const LPCSTR SemanticName, UINT SemanticIndex)
{
    D3D10_SHADER_DESC               shaderDesc;
    D3D10_SIGNATURE_PARAMETER_DESC  paramDesc;

    Assert(pReflector);
    Assert(SemanticName);

    pReflector->GetDesc(&shaderDesc);

    for (UINT k=0; k<shaderDesc.InputParameters; k++)
    {
        pReflector->GetInputParameterDesc( k, &paramDesc);
        if (wcscmp( SemanticName, paramDesc.SemanticName)==0 && paramDesc.SemanticIndex == SemanticIndex) 
            return true;
    }

    return false;
}
```



### <a name="state-object-creation"></a><span data-ttu-id="e4429-313">Création d’un objet d’État</span><span class="sxs-lookup"><span data-stu-id="e4429-313">State Object Creation</span></span>

<span data-ttu-id="e4429-314">Lors du Portage du code du moteur, il peut être utile d’utiliser initialement un ensemble d’objets d’État par défaut et de désactiver tous les paramètres d’état de texture/état de rendu de l’appareil Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="e4429-314">When porting engine code, it may help to initially use a default set of state objects and disable all Direct3D 9 device render state / texture state setting.</span></span> <span data-ttu-id="e4429-315">Cela entraînera des artefacts de rendu, mais est le moyen le plus rapide d’exécuter et d’exécuter des tâches.</span><span class="sxs-lookup"><span data-stu-id="e4429-315">This will cause rendering artifacts but is the quickest way to get things up and running.</span></span> <span data-ttu-id="e4429-316">Vous pouvez par la suite construire un système de gestion d’objets d’État qui peut utiliser une clé composée pour permettre la réutilisation maximale du nombre d’objets d’état utilisés.</span><span class="sxs-lookup"><span data-stu-id="e4429-316">You can later construct a state object management system which can use a compound key to enable maximum reuse of the number of state objects being used.</span></span>

## <a name="porting-textures"></a><span data-ttu-id="e4429-317">Portage des textures</span><span class="sxs-lookup"><span data-stu-id="e4429-317">Porting Textures</span></span>

### <a name="file-formats-supported"></a><span data-ttu-id="e4429-318">Formats de fichier pris en charge</span><span class="sxs-lookup"><span data-stu-id="e4429-318">File Formats Supported</span></span>

<span data-ttu-id="e4429-319">Les fonctions **D3DXxxCreateXXX** et **D3DXxxSaveXXX** qui créent ou enregistrent une texture depuis ou vers un fichier graphique (par exemple, [**D3DX10CreateTextureFromFile**](d3dx10createtexturefromfile.md)) prennent en charge un autre ensemble de formats de fichier dans Direct3D 10 que dans Direct3D 9 :</span><span class="sxs-lookup"><span data-stu-id="e4429-319">The **D3DXxxCreateXXX** and **D3DXxxSaveXXX** functions that create or save a texture from or to a graphics file (for example, [**D3DX10CreateTextureFromFile**](d3dx10createtexturefromfile.md)) support a different set of file formats in Direct3D 10 than they did in Direct3D 9:</span></span>



| <span data-ttu-id="e4429-320">Format de fichier</span><span class="sxs-lookup"><span data-stu-id="e4429-320">File Format</span></span> | <span data-ttu-id="e4429-321">Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="e4429-321">Direct3D 9</span></span> | <span data-ttu-id="e4429-322">Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-322">Direct3D 10</span></span> |
|-------------|------------|-------------|
| <span data-ttu-id="e4429-323">.bmp</span><span class="sxs-lookup"><span data-stu-id="e4429-323">.bmp</span></span>        | <span data-ttu-id="e4429-324">x</span><span class="sxs-lookup"><span data-stu-id="e4429-324">x</span></span>          | <span data-ttu-id="e4429-325">x</span><span class="sxs-lookup"><span data-stu-id="e4429-325">x</span></span>           |
| <span data-ttu-id="e4429-326">.jpg</span><span class="sxs-lookup"><span data-stu-id="e4429-326">.jpg</span></span>        | <span data-ttu-id="e4429-327">x</span><span class="sxs-lookup"><span data-stu-id="e4429-327">x</span></span>          | <span data-ttu-id="e4429-328">x</span><span class="sxs-lookup"><span data-stu-id="e4429-328">x</span></span>           |
| <span data-ttu-id="e4429-329">.tga</span><span class="sxs-lookup"><span data-stu-id="e4429-329">.tga</span></span>        | <span data-ttu-id="e4429-330">x</span><span class="sxs-lookup"><span data-stu-id="e4429-330">x</span></span>          |             |
| <span data-ttu-id="e4429-331">.png</span><span class="sxs-lookup"><span data-stu-id="e4429-331">.png</span></span>        | <span data-ttu-id="e4429-332">x</span><span class="sxs-lookup"><span data-stu-id="e4429-332">x</span></span>          | <span data-ttu-id="e4429-333">x</span><span class="sxs-lookup"><span data-stu-id="e4429-333">x</span></span>           |
| <span data-ttu-id="e4429-334">.dds</span><span class="sxs-lookup"><span data-stu-id="e4429-334">.dds</span></span>        | <span data-ttu-id="e4429-335">x</span><span class="sxs-lookup"><span data-stu-id="e4429-335">x</span></span>          | <span data-ttu-id="e4429-336">x</span><span class="sxs-lookup"><span data-stu-id="e4429-336">x</span></span>           |
| <span data-ttu-id="e4429-337">. ppm</span><span class="sxs-lookup"><span data-stu-id="e4429-337">.ppm</span></span>        | <span data-ttu-id="e4429-338">x</span><span class="sxs-lookup"><span data-stu-id="e4429-338">x</span></span>          |             |
| <span data-ttu-id="e4429-339">.dib</span><span class="sxs-lookup"><span data-stu-id="e4429-339">.dib</span></span>        | <span data-ttu-id="e4429-340">x</span><span class="sxs-lookup"><span data-stu-id="e4429-340">x</span></span>          |             |
| <span data-ttu-id="e4429-341">. HDR</span><span class="sxs-lookup"><span data-stu-id="e4429-341">.hdr</span></span>        | <span data-ttu-id="e4429-342">x</span><span class="sxs-lookup"><span data-stu-id="e4429-342">x</span></span>          |             |
| <span data-ttu-id="e4429-343">. PFM</span><span class="sxs-lookup"><span data-stu-id="e4429-343">.pfm</span></span>        | <span data-ttu-id="e4429-344">x</span><span class="sxs-lookup"><span data-stu-id="e4429-344">x</span></span>          |             |
| <span data-ttu-id="e4429-345">.tiff</span><span class="sxs-lookup"><span data-stu-id="e4429-345">.tiff</span></span>       |            | <span data-ttu-id="e4429-346">x</span><span class="sxs-lookup"><span data-stu-id="e4429-346">x</span></span>           |
| <span data-ttu-id="e4429-347">.gif</span><span class="sxs-lookup"><span data-stu-id="e4429-347">.gif</span></span>        |            | <span data-ttu-id="e4429-348">x</span><span class="sxs-lookup"><span data-stu-id="e4429-348">x</span></span>           |
| <span data-ttu-id="e4429-349">.tif</span><span class="sxs-lookup"><span data-stu-id="e4429-349">.tif</span></span>        |            | <span data-ttu-id="e4429-350">x</span><span class="sxs-lookup"><span data-stu-id="e4429-350">x</span></span>           |



 

<span data-ttu-id="e4429-351">Pour plus d’informations, comparez les énumérations de [**D3DXIMAGE \_ FILEFORMAT**](../direct3d9/d3dximage-fileformat.md) de Direct3D 9 avec les énumérations de [**\_ \_ \_ format de fichier image d3dx10**](d3dx10-image-file-format.md) pour Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-351">For details, compare the Direct3D 9 [**D3DXIMAGE\_FILEFORMAT**](../direct3d9/d3dximage-fileformat.md) enumerations with the [**D3DX10\_IMAGE\_FILE\_FORMAT**](d3dx10-image-file-format.md) enumerations for Direct3D 10.</span></span>

> [!Note]  
> <span data-ttu-id="e4429-352">La bibliothèque d’utilitaires D3DX (D3DX 9, D3DX 10 et D3DX 11) est déconseillée pour Windows 8.</span><span class="sxs-lookup"><span data-stu-id="e4429-352">The D3DX (D3DX 9, D3DX 10, and D3DX 11) utility library is deprecated for Windows 8.</span></span> <span data-ttu-id="e4429-353">Pour le traitement des fichiers de texture, nous vous recommandons d’utiliser [DirectXTex](https://github.com/Microsoft/DirectXTex).</span><span class="sxs-lookup"><span data-stu-id="e4429-353">For texture file processing, we recommend that you use [DirectXTex](https://github.com/Microsoft/DirectXTex).</span></span>

 

### <a name="mapping-texture-formats"></a><span data-ttu-id="e4429-354">Mappage des formats de texture</span><span class="sxs-lookup"><span data-stu-id="e4429-354">Mapping Texture Formats</span></span>

<span data-ttu-id="e4429-355">Le tableau suivant montre le mappage des formats de texture de Direct3D 9 vers Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-355">The following table shows the mapping of texture formats from Direct3D 9 to Direct3D 10.</span></span> <span data-ttu-id="e4429-356">Tout contenu dans les formats non disponibles dans DXGI doit être converti par les routines de l’utilitaire.</span><span class="sxs-lookup"><span data-stu-id="e4429-356">Any content in formats not available in DXGI will need to be converted by utility routines.</span></span>



| <span data-ttu-id="e4429-357">Format Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="e4429-357">Direct3D 9 Format</span></span>                   | <span data-ttu-id="e4429-358">Format Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-358">Direct3D 10 Format</span></span>                                                                                                                                                                                                                                   |
|-------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e4429-359">D3DFMT \_ inconnu</span><span class="sxs-lookup"><span data-stu-id="e4429-359">D3DFMT\_UNKNOWN</span></span>                     | <span data-ttu-id="e4429-360">\_format dxgi \_ inconnu</span><span class="sxs-lookup"><span data-stu-id="e4429-360">DXGI\_FORMAT\_UNKNOWN</span></span>                                                                                                                                                                                                                                |
| <span data-ttu-id="e4429-361">D3DFMT \_ R8G8B8</span><span class="sxs-lookup"><span data-stu-id="e4429-361">D3DFMT\_R8G8B8</span></span>                      | <span data-ttu-id="e4429-362">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-362">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-363">D3DFMT \_ A8R8G8B8</span><span class="sxs-lookup"><span data-stu-id="e4429-363">D3DFMT\_A8R8G8B8</span></span>                    | <span data-ttu-id="e4429-364">DXGI \_ format \_ B8G8R8A8 \_ UNORM & dxgi \_ format \_ B8G8R8A8 \_ UNORM \_ sRGB ¹</span><span class="sxs-lookup"><span data-stu-id="e4429-364">DXGI\_FORMAT\_B8G8R8A8\_UNORM & DXGI\_FORMAT\_B8G8R8A8\_UNORM\_SRGB¹</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="e4429-365">D3DFMT \_ X8R8G8B8</span><span class="sxs-lookup"><span data-stu-id="e4429-365">D3DFMT\_X8R8G8B8</span></span>                    | <span data-ttu-id="e4429-366">DXGI \_ format \_ B8G8R8X8 \_ UNORM & dxgi \_ format \_ B8G8R8X8 \_ UNORM \_ sRGB ¹</span><span class="sxs-lookup"><span data-stu-id="e4429-366">DXGI\_FORMAT\_B8G8R8X8\_UNORM & DXGI\_FORMAT\_B8G8R8X8\_UNORM\_SRGB¹</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="e4429-367">D3DFMT \_ R5G6B5</span><span class="sxs-lookup"><span data-stu-id="e4429-367">D3DFMT\_R5G6B5</span></span>                      | <span data-ttu-id="e4429-368">\_Format dxgi \_ B5G6R5 \_ UNORM ²</span><span class="sxs-lookup"><span data-stu-id="e4429-368">DXGI\_FORMAT\_B5G6R5\_UNORM²</span></span>                                                                                                                                                                                                                         |
| <span data-ttu-id="e4429-369">D3DFMT \_ X1R5G5B5</span><span class="sxs-lookup"><span data-stu-id="e4429-369">D3DFMT\_X1R5G5B5</span></span>                    | <span data-ttu-id="e4429-370">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-370">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-371">D3DFMT \_ A1R5G5B5</span><span class="sxs-lookup"><span data-stu-id="e4429-371">D3DFMT\_A1R5G5B5</span></span>                    | <span data-ttu-id="e4429-372">\_Format dxgi \_ B5G5R5A1 \_ UNORM ²</span><span class="sxs-lookup"><span data-stu-id="e4429-372">DXGI\_FORMAT\_B5G5R5A1\_UNORM²</span></span>                                                                                                                                                                                                                       |
| <span data-ttu-id="e4429-373">D3DFMT \_ A4R4G4B4</span><span class="sxs-lookup"><span data-stu-id="e4429-373">D3DFMT\_A4R4G4B4</span></span>                    | <span data-ttu-id="e4429-374">DXGI \_ format \_ B4G4R4A4 \_ UNORM ³</span><span class="sxs-lookup"><span data-stu-id="e4429-374">DXGI\_FORMAT\_B4G4R4A4\_UNORM³</span></span>                                                                                                                                                                                                                       |
| <span data-ttu-id="e4429-375">D3DFMT \_ R3G3B2</span><span class="sxs-lookup"><span data-stu-id="e4429-375">D3DFMT\_R3G3B2</span></span>                      | <span data-ttu-id="e4429-376">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-376">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-377">D3DFMT \_ a8</span><span class="sxs-lookup"><span data-stu-id="e4429-377">D3DFMT\_A8</span></span>                          | <span data-ttu-id="e4429-378">\_Format dxgi \_ a8 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-378">DXGI\_FORMAT\_A8\_UNORM</span></span>                                                                                                                                                                                                                              |
| <span data-ttu-id="e4429-379">D3DFMT \_ A8R3G3B2</span><span class="sxs-lookup"><span data-stu-id="e4429-379">D3DFMT\_A8R3G3B2</span></span>                    | <span data-ttu-id="e4429-380">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-380">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-381">D3DFMT \_ X4R4G4B4</span><span class="sxs-lookup"><span data-stu-id="e4429-381">D3DFMT\_X4R4G4B4</span></span>                    | <span data-ttu-id="e4429-382">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-382">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-383">D3DFMT \_ A2B10G10R10</span><span class="sxs-lookup"><span data-stu-id="e4429-383">D3DFMT\_A2B10G10R10</span></span>                 | <span data-ttu-id="e4429-384">DXGI \_ format \_ R10G10B10A2</span><span class="sxs-lookup"><span data-stu-id="e4429-384">DXGI\_FORMAT\_R10G10B10A2</span></span>                                                                                                                                                                                                                            |
| <span data-ttu-id="e4429-385">D3DFMT \_ A8B8G8R8</span><span class="sxs-lookup"><span data-stu-id="e4429-385">D3DFMT\_A8B8G8R8</span></span>                    | <span data-ttu-id="e4429-386">DXGI \_ format \_ R8G8B8A8 \_ UNORM & dxgi \_ R8G8B8A8 \_ \_ UNORM \_ sRGB</span><span class="sxs-lookup"><span data-stu-id="e4429-386">DXGI\_FORMAT\_R8G8B8A8\_UNORM & DXGI\_FORMAT\_R8G8B8A8\_UNORM\_SRGB</span></span>                                                                                                                                                                                  |
| <span data-ttu-id="e4429-387">D3DFMT \_ X8B8G8R8</span><span class="sxs-lookup"><span data-stu-id="e4429-387">D3DFMT\_X8B8G8R8</span></span>                    | <span data-ttu-id="e4429-388">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-388">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-389">D3DFMT \_ G16R16</span><span class="sxs-lookup"><span data-stu-id="e4429-389">D3DFMT\_G16R16</span></span>                      | <span data-ttu-id="e4429-390">DXGI \_ format \_ R16G16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-390">DXGI\_FORMAT\_R16G16\_UNORM</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="e4429-391">D3DFMT \_ A2R10G10B10</span><span class="sxs-lookup"><span data-stu-id="e4429-391">D3DFMT\_A2R10G10B10</span></span>                 | <span data-ttu-id="e4429-392">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-392">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-393">D3DFMT \_ A16B16G16R16</span><span class="sxs-lookup"><span data-stu-id="e4429-393">D3DFMT\_A16B16G16R16</span></span>                | <span data-ttu-id="e4429-394">DXGI \_ format \_ R16G16B16A16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-394">DXGI\_FORMAT\_R16G16B16A16\_UNORM</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="e4429-395">D3DFMT \_ A8P8</span><span class="sxs-lookup"><span data-stu-id="e4429-395">D3DFMT\_A8P8</span></span>                        | <span data-ttu-id="e4429-396">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-396">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-397">D3DFMT \_ P8</span><span class="sxs-lookup"><span data-stu-id="e4429-397">D3DFMT\_P8</span></span>                          | <span data-ttu-id="e4429-398">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-398">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-399">D3DFMT \_ N8</span><span class="sxs-lookup"><span data-stu-id="e4429-399">D3DFMT\_L8</span></span>                          | <span data-ttu-id="e4429-400">\_Format dxgi \_ R8 \_ UNORM Remarque : utilisez. r Swizzle dans le nuanceur pour dupliquer le rouge sur d’autres composants afin d’atteindre le comportement de d3d9.</span><span class="sxs-lookup"><span data-stu-id="e4429-400">DXGI\_FORMAT\_R8\_UNORM Note: Use .r swizzle in shader to duplicate red to other components to get D3D9 behavior.</span></span>                                                                                                                                    |
| <span data-ttu-id="e4429-401">D3DFMT \_ A8L8</span><span class="sxs-lookup"><span data-stu-id="e4429-401">D3DFMT\_A8L8</span></span>                        | <span data-ttu-id="e4429-402">DXGI \_ format \_ R8G8 \_ UNORM Remarque : utilisez Swizzle. rrrg dans le nuanceur pour dupliquer la couleur rouge et déplacer le vert vers les composants alpha pour atteindre le comportement d3d9.</span><span class="sxs-lookup"><span data-stu-id="e4429-402">DXGI\_FORMAT\_R8G8\_UNORM Note: Use swizzle .rrrg in shader to duplicate red and move green to the alpha components to get D3D9 behavior.</span></span>                                                                                                            |
| <span data-ttu-id="e4429-403">D3DFMT \_ A4L4</span><span class="sxs-lookup"><span data-stu-id="e4429-403">D3DFMT\_A4L4</span></span>                        | <span data-ttu-id="e4429-404">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-404">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-405">D3DFMT \_ V8U8</span><span class="sxs-lookup"><span data-stu-id="e4429-405">D3DFMT\_V8U8</span></span>                        | <span data-ttu-id="e4429-406">\_Format dxgi \_ R8G8 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="e4429-406">DXGI\_FORMAT\_R8G8\_SNORM</span></span>                                                                                                                                                                                                                            |
| <span data-ttu-id="e4429-407">D3DFMT \_ L6V5U5</span><span class="sxs-lookup"><span data-stu-id="e4429-407">D3DFMT\_L6V5U5</span></span>                      | <span data-ttu-id="e4429-408">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-408">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-409">D3DFMT \_ X8L8V8U8</span><span class="sxs-lookup"><span data-stu-id="e4429-409">D3DFMT\_X8L8V8U8</span></span>                    | <span data-ttu-id="e4429-410">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-410">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-411">D3DFMT \_ Q8W8V8U8</span><span class="sxs-lookup"><span data-stu-id="e4429-411">D3DFMT\_Q8W8V8U8</span></span>                    | <span data-ttu-id="e4429-412">\_Format dxgi \_ R8G8B8A8 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="e4429-412">DXGI\_FORMAT\_R8G8B8A8\_SNORM</span></span>                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-413">D3DFMT \_ V16U16</span><span class="sxs-lookup"><span data-stu-id="e4429-413">D3DFMT\_V16U16</span></span>                      | <span data-ttu-id="e4429-414">\_Format dxgi \_ R16G16 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="e4429-414">DXGI\_FORMAT\_R16G16\_SNORM</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="e4429-415">D3DFMT \_ W11V11U10</span><span class="sxs-lookup"><span data-stu-id="e4429-415">D3DFMT\_W11V11U10</span></span>                   | <span data-ttu-id="e4429-416">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-416">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-417">D3DFMT \_ A2W10V10U10</span><span class="sxs-lookup"><span data-stu-id="e4429-417">D3DFMT\_A2W10V10U10</span></span>                 | <span data-ttu-id="e4429-418">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-418">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-419">D3DFMT \_ UYVY</span><span class="sxs-lookup"><span data-stu-id="e4429-419">D3DFMT\_UYVY</span></span>                        | <span data-ttu-id="e4429-420">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-420">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-421">D3DFMT \_ R8G8 \_ B8G8</span><span class="sxs-lookup"><span data-stu-id="e4429-421">D3DFMT\_R8G8\_B8G8</span></span>                  | <span data-ttu-id="e4429-422">DXGI \_ format \_ G8R8 \_ G8B8 \_ UNORM (dans virtuel DX9, les données ont été mises à l’échelle par 255.0 f, mais cela peut être géré dans le code du nuanceur).</span><span class="sxs-lookup"><span data-stu-id="e4429-422">DXGI\_FORMAT\_G8R8\_G8B8\_UNORM (in DX9 the data was scaled up by 255.0f, but this can be handled in shader code).</span></span>                                                                                                                                   |
| <span data-ttu-id="e4429-423">D3DFMT \_ YUY2</span><span class="sxs-lookup"><span data-stu-id="e4429-423">D3DFMT\_YUY2</span></span>                        | <span data-ttu-id="e4429-424">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-424">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-425">D3DFMT \_ G8R8 \_ G8B8</span><span class="sxs-lookup"><span data-stu-id="e4429-425">D3DFMT\_G8R8\_G8B8</span></span>                  | <span data-ttu-id="e4429-426">DXGI \_ format \_ R8G8 \_ B8G8 \_ UNORM (dans virtuel DX9, les données ont été mises à l’échelle par 255.0 f, mais cela peut être géré dans le code du nuanceur).</span><span class="sxs-lookup"><span data-stu-id="e4429-426">DXGI\_FORMAT\_R8G8\_B8G8\_UNORM (in DX9 the data was scaled up by 255.0f, but this can be handled in shader code).</span></span>                                                                                                                                   |
| <span data-ttu-id="e4429-427">D3DFMT \_ DXT1</span><span class="sxs-lookup"><span data-stu-id="e4429-427">D3DFMT\_DXT1</span></span>                        | <span data-ttu-id="e4429-428">DXGI \_ format \_ BC1 \_ UNORM & dxgi \_ BC1 \_ \_ UNORM \_ sRGB</span><span class="sxs-lookup"><span data-stu-id="e4429-428">DXGI\_FORMAT\_BC1\_UNORM & DXGI\_FORMAT\_BC1\_UNORM\_SRGB</span></span>                                                                                                                                                                                            |
| <span data-ttu-id="e4429-429">D3DFMT \_ DXT2</span><span class="sxs-lookup"><span data-stu-id="e4429-429">D3DFMT\_DXT2</span></span>                        | <span data-ttu-id="e4429-430">DXGI \_ format \_ BC1 \_ UNORM & dxgi \_ format \_ BC1 \_ UNORM \_ sRVB Remarque : DXT1 et DXT2 sont les mêmes d’une perspective API/matérielle... seule la différence était « prémultipliée alpha », qui peut être suivie par une application et n’a pas besoin d’un format distinct.</span><span class="sxs-lookup"><span data-stu-id="e4429-430">DXGI\_FORMAT\_BC1\_UNORM & DXGI\_FORMAT\_BC1\_UNORM\_SRGB Note: DXT1 and DXT2 are the same from an API/hardware perspective... only difference was 'premultiplied alpha', which can be tracked by an application and doesn't need a separate format.</span></span> |
| <span data-ttu-id="e4429-431">D3DFMT \_ DXT3</span><span class="sxs-lookup"><span data-stu-id="e4429-431">D3DFMT\_DXT3</span></span>                        | <span data-ttu-id="e4429-432">DXGI \_ format \_ BC2 \_ UNORM & dxgi \_ BC2 \_ \_ UNORM \_ sRGB</span><span class="sxs-lookup"><span data-stu-id="e4429-432">DXGI\_FORMAT\_BC2\_UNORM & DXGI\_FORMAT\_BC2\_UNORM\_SRGB</span></span>                                                                                                                                                                                            |
| <span data-ttu-id="e4429-433">D3DFMT \_ DXT4</span><span class="sxs-lookup"><span data-stu-id="e4429-433">D3DFMT\_DXT4</span></span>                        | <span data-ttu-id="e4429-434">DXGI \_ format \_ BC2 \_ UNORM & dxgi \_ format \_ BC2 \_ UNORM \_ sRVB Remarque : DXT3 et DXT4 sont les mêmes d’une perspective API/matérielle... seule la différence était « prémultipliée alpha », qui peut être suivie par une application et n’a pas besoin d’un format distinct.</span><span class="sxs-lookup"><span data-stu-id="e4429-434">DXGI\_FORMAT\_BC2\_UNORM & DXGI\_FORMAT\_BC2\_UNORM\_SRGB Note: DXT3 and DXT4 are the same from an API/hardware perspective... only difference was 'premultiplied alpha', which can be tracked by an application and doesn't need a separate format.</span></span> |
| <span data-ttu-id="e4429-435">D3DFMT \_ DXT5</span><span class="sxs-lookup"><span data-stu-id="e4429-435">D3DFMT\_DXT5</span></span>                        | <span data-ttu-id="e4429-436">DXGI \_ format \_ BC3 \_ UNORM & dxgi \_ BC3 \_ \_ UNORM \_ sRGB</span><span class="sxs-lookup"><span data-stu-id="e4429-436">DXGI\_FORMAT\_BC3\_UNORM & DXGI\_FORMAT\_BC3\_UNORM\_SRGB</span></span>                                                                                                                                                                                            |
| <span data-ttu-id="e4429-437">D3DFMT \_ D16 & D3DFMT \_ D16 \_ verrouillable</span><span class="sxs-lookup"><span data-stu-id="e4429-437">D3DFMT\_D16 & D3DFMT\_D16\_LOCKABLE</span></span> | <span data-ttu-id="e4429-438">DXGI \_ format \_ D16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-438">DXGI\_FORMAT\_D16\_UNORM</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="e4429-439">D3DFMT \_ d32</span><span class="sxs-lookup"><span data-stu-id="e4429-439">D3DFMT\_D32</span></span>                         | <span data-ttu-id="e4429-440">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-440">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-441">D3DFMT \_ D15S1</span><span class="sxs-lookup"><span data-stu-id="e4429-441">D3DFMT\_D15S1</span></span>                       | <span data-ttu-id="e4429-442">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-442">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-443">D3DFMT \_ D24S8</span><span class="sxs-lookup"><span data-stu-id="e4429-443">D3DFMT\_D24S8</span></span>                       | <span data-ttu-id="e4429-444">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-444">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-445">D3DFMT \_ D24X8</span><span class="sxs-lookup"><span data-stu-id="e4429-445">D3DFMT\_D24X8</span></span>                       | <span data-ttu-id="e4429-446">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-446">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-447">D3DFMT \_ D24X4S4</span><span class="sxs-lookup"><span data-stu-id="e4429-447">D3DFMT\_D24X4S4</span></span>                     | <span data-ttu-id="e4429-448">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-448">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-449">D3DFMT \_ D16</span><span class="sxs-lookup"><span data-stu-id="e4429-449">D3DFMT\_D16</span></span>                         | <span data-ttu-id="e4429-450">DXGI \_ format \_ D16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-450">DXGI\_FORMAT\_D16\_UNORM</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="e4429-451">D3DFMT \_ D32F \_ verrouillable</span><span class="sxs-lookup"><span data-stu-id="e4429-451">D3DFMT\_D32F\_LOCKABLE</span></span>              | <span data-ttu-id="e4429-452">DXGI \_ format \_ d32 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-452">DXGI\_FORMAT\_D32\_FLOAT</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="e4429-453">D3DFMT \_ D24FS8</span><span class="sxs-lookup"><span data-stu-id="e4429-453">D3DFMT\_D24FS8</span></span>                      | <span data-ttu-id="e4429-454">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-454">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-455">D3DFMT \_ S1D15</span><span class="sxs-lookup"><span data-stu-id="e4429-455">D3DFMT\_S1D15</span></span>                       | <span data-ttu-id="e4429-456">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-456">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-457">D3DFMT \_ S8D24</span><span class="sxs-lookup"><span data-stu-id="e4429-457">D3DFMT\_S8D24</span></span>                       | <span data-ttu-id="e4429-458">DXGI \_ format \_ D24 \_ UNORM \_ S8 \_ uint</span><span class="sxs-lookup"><span data-stu-id="e4429-458">DXGI\_FORMAT\_D24\_UNORM\_S8\_UINT</span></span>                                                                                                                                                                                                                   |
| <span data-ttu-id="e4429-459">D3DFMT \_ X8D24</span><span class="sxs-lookup"><span data-stu-id="e4429-459">D3DFMT\_X8D24</span></span>                       | <span data-ttu-id="e4429-460">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-460">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-461">D3DFMT \_ X4S4D24</span><span class="sxs-lookup"><span data-stu-id="e4429-461">D3DFMT\_X4S4D24</span></span>                     | <span data-ttu-id="e4429-462">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-462">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-463">D3DFMT \_ L16</span><span class="sxs-lookup"><span data-stu-id="e4429-463">D3DFMT\_L16</span></span>                         | <span data-ttu-id="e4429-464">DXGI \_ format \_ R16 \_ UNORM Remarque : utilisez le Swizzle. r dans le nuanceur pour dupliquer le rouge sur d’autres composants afin d’atteindre le comportement d3d9.</span><span class="sxs-lookup"><span data-stu-id="e4429-464">DXGI\_FORMAT\_R16\_UNORM Note: Use .r swizzle in shader to duplicate red to other components to get D3D9 behavior.</span></span>                                                                                                                                   |
| <span data-ttu-id="e4429-465">D3DFMT \_ INDEX16</span><span class="sxs-lookup"><span data-stu-id="e4429-465">D3DFMT\_INDEX16</span></span>                     | <span data-ttu-id="e4429-466">DXGI \_ format \_ R16 \_ uint</span><span class="sxs-lookup"><span data-stu-id="e4429-466">DXGI\_FORMAT\_R16\_UINT</span></span>                                                                                                                                                                                                                              |
| <span data-ttu-id="e4429-467">D3DFMT \_ INDEX32</span><span class="sxs-lookup"><span data-stu-id="e4429-467">D3DFMT\_INDEX32</span></span>                     | <span data-ttu-id="e4429-468">DXGI \_ format \_ R32 \_ uint</span><span class="sxs-lookup"><span data-stu-id="e4429-468">DXGI\_FORMAT\_R32\_UINT</span></span>                                                                                                                                                                                                                              |
| <span data-ttu-id="e4429-469">D3DFMT \_ Q16W16V16U16</span><span class="sxs-lookup"><span data-stu-id="e4429-469">D3DFMT\_Q16W16V16U16</span></span>                | <span data-ttu-id="e4429-470">\_Format dxgi \_ R16G16B16A16 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="e4429-470">DXGI\_FORMAT\_R16G16B16A16\_SNORM</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="e4429-471">D3DFMT \_ MULTI2 \_ ARGB8</span><span class="sxs-lookup"><span data-stu-id="e4429-471">D3DFMT\_MULTI2\_ARGB8</span></span>               | <span data-ttu-id="e4429-472">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-472">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-473">D3DFMT \_ R16F</span><span class="sxs-lookup"><span data-stu-id="e4429-473">D3DFMT\_R16F</span></span>                        | <span data-ttu-id="e4429-474">DXGI \_ format \_ R16 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-474">DXGI\_FORMAT\_R16\_FLOAT</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="e4429-475">D3DFMT \_ G16R16F</span><span class="sxs-lookup"><span data-stu-id="e4429-475">D3DFMT\_G16R16F</span></span>                     | <span data-ttu-id="e4429-476">DXGI \_ format \_ R16G16 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-476">DXGI\_FORMAT\_R16G16\_FLOAT</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="e4429-477">D3DFMT \_ A16B16G16R16F</span><span class="sxs-lookup"><span data-stu-id="e4429-477">D3DFMT\_A16B16G16R16F</span></span>               | <span data-ttu-id="e4429-478">DXGI \_ format \_ R16G16B16A16 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-478">DXGI\_FORMAT\_R16G16B16A16\_FLOAT</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="e4429-479">D3DFMT \_ R32F</span><span class="sxs-lookup"><span data-stu-id="e4429-479">D3DFMT\_R32F</span></span>                        | <span data-ttu-id="e4429-480">DXGI \_ format \_ R32 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-480">DXGI\_FORMAT\_R32\_FLOAT</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="e4429-481">D3DFMT \_ G32R32F</span><span class="sxs-lookup"><span data-stu-id="e4429-481">D3DFMT\_G32R32F</span></span>                     | <span data-ttu-id="e4429-482">DXGI \_ format \_ R32G32 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-482">DXGI\_FORMAT\_R32G32\_FLOAT</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="e4429-483">D3DFMT \_ A32B32G32R32F</span><span class="sxs-lookup"><span data-stu-id="e4429-483">D3DFMT\_A32B32G32R32F</span></span>               | <span data-ttu-id="e4429-484">DXGI \_ format \_ R32G32B32A32 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-484">DXGI\_FORMAT\_R32G32B32A32\_FLOAT</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="e4429-485">D3DFMT \_ CxV8U8</span><span class="sxs-lookup"><span data-stu-id="e4429-485">D3DFMT\_CxV8U8</span></span>                      | <span data-ttu-id="e4429-486">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-486">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-487">D3DDECLTYPE \_ FLOAT1</span><span class="sxs-lookup"><span data-stu-id="e4429-487">D3DDECLTYPE\_FLOAT1</span></span>                 | <span data-ttu-id="e4429-488">DXGI \_ format \_ R32 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-488">DXGI\_FORMAT\_R32\_FLOAT</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="e4429-489">D3DDECLTYPE \_ FLOAT2</span><span class="sxs-lookup"><span data-stu-id="e4429-489">D3DDECLTYPE\_FLOAT2</span></span>                 | <span data-ttu-id="e4429-490">DXGI \_ format \_ R32G32 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-490">DXGI\_FORMAT\_R32G32\_FLOAT</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="e4429-491">D3DDECLTYPE \_ FLOAT3</span><span class="sxs-lookup"><span data-stu-id="e4429-491">D3DDECLTYPE\_FLOAT3</span></span>                 | <span data-ttu-id="e4429-492">DXGI \_ format \_ R32G32B32 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-492">DXGI\_FORMAT\_R32G32B32\_FLOAT</span></span>                                                                                                                                                                                                                       |
| <span data-ttu-id="e4429-493">D3DDECLTYPE \_ float4</span><span class="sxs-lookup"><span data-stu-id="e4429-493">D3DDECLTYPE\_FLOAT4</span></span>                 | <span data-ttu-id="e4429-494">DXGI \_ format \_ R32G32B32A32 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-494">DXGI\_FORMAT\_R32G32B32A32\_FLOAT</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="e4429-495">D3DDECLTYPED3DCOLOR</span><span class="sxs-lookup"><span data-stu-id="e4429-495">D3DDECLTYPED3DCOLOR</span></span>                 | <span data-ttu-id="e4429-496">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-496">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-497">D3DDECLTYPE \_ UBYTE4</span><span class="sxs-lookup"><span data-stu-id="e4429-497">D3DDECLTYPE\_UBYTE4</span></span>                 | <span data-ttu-id="e4429-498">DXGI \_ format \_ R8G8B8A8 \_ uint Remarque : Shader obtient des valeurs uint, mais si les valeurs float intégral de style Direct3D 9 sont nécessaires (0.0 f, 1.0 f... 255. f), UINT peut simplement être converti en float32 dans le nuanceur.</span><span class="sxs-lookup"><span data-stu-id="e4429-498">DXGI\_FORMAT\_R8G8B8A8\_UINT Note: Shader gets UINT values, but if Direct3D 9 style integral floats are needed (0.0f, 1.0f... 255.f), UINT can just be converted to float32 in shader.</span></span>                                                               |
| <span data-ttu-id="e4429-499">D3DDECLTYPE \_ SHORT2</span><span class="sxs-lookup"><span data-stu-id="e4429-499">D3DDECLTYPE\_SHORT2</span></span>                 | <span data-ttu-id="e4429-500">\_Format dxgi \_ R16G16 \_ Saint Note : le nuanceur obtient des valeurs de Saint-est, mais si les valeurs float de style intégral Direct3D 9 sont nécessaires, Saint-est tout simplement converti en float32 dans le nuanceur.</span><span class="sxs-lookup"><span data-stu-id="e4429-500">DXGI\_FORMAT\_R16G16\_SINT Note: Shader gets SINT values, but if Direct3D 9 style integral floats are needed, SINT can just be converted to float32 in shader.</span></span>                                                                                       |
| <span data-ttu-id="e4429-501">D3DDECLTYPE \_ SHORT4</span><span class="sxs-lookup"><span data-stu-id="e4429-501">D3DDECLTYPE\_SHORT4</span></span>                 | <span data-ttu-id="e4429-502">\_Format dxgi \_ R16G16B16A16 \_ Saint Note : le nuanceur obtient des valeurs de Saint-est, mais si les valeurs float de style intégral Direct3D 9 sont nécessaires, Saint-est tout simplement converti en float32 dans le nuanceur.</span><span class="sxs-lookup"><span data-stu-id="e4429-502">DXGI\_FORMAT\_R16G16B16A16\_SINT Note: Shader gets SINT values, but if Direct3D 9 style integral floats are needed, SINT can just be converted to float32 in shader.</span></span>                                                                                 |
| <span data-ttu-id="e4429-503">D3DDECLTYPE \_ UBYTE4N</span><span class="sxs-lookup"><span data-stu-id="e4429-503">D3DDECLTYPE\_UBYTE4N</span></span>                | <span data-ttu-id="e4429-504">DXGI \_ format \_ R8G8B8A8 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-504">DXGI\_FORMAT\_R8G8B8A8\_UNORM</span></span>                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-505">D3DDECLTYPE \_ SHORT2N</span><span class="sxs-lookup"><span data-stu-id="e4429-505">D3DDECLTYPE\_SHORT2N</span></span>                | <span data-ttu-id="e4429-506">\_Format dxgi \_ R16G16 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="e4429-506">DXGI\_FORMAT\_R16G16\_SNORM</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="e4429-507">D3DDECLTYPE \_ SHORT4N</span><span class="sxs-lookup"><span data-stu-id="e4429-507">D3DDECLTYPE\_SHORT4N</span></span>                | <span data-ttu-id="e4429-508">\_Format dxgi \_ R16G16B16A16 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="e4429-508">DXGI\_FORMAT\_R16G16B16A16\_SNORM</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="e4429-509">D3DDECLTYPE \_ USHORT2N</span><span class="sxs-lookup"><span data-stu-id="e4429-509">D3DDECLTYPE\_USHORT2N</span></span>               | <span data-ttu-id="e4429-510">DXGI \_ format \_ R16G16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-510">DXGI\_FORMAT\_R16G16\_UNORM</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="e4429-511">D3DDECLTYPE \_ USHORT4N</span><span class="sxs-lookup"><span data-stu-id="e4429-511">D3DDECLTYPE\_USHORT4N</span></span>               | <span data-ttu-id="e4429-512">DXGI \_ format \_ R16G16B16A16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-512">DXGI\_FORMAT\_R16G16B16A16\_UNORM</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="e4429-513">D3DDECLTYPE \_ UDEC3</span><span class="sxs-lookup"><span data-stu-id="e4429-513">D3DDECLTYPE\_UDEC3</span></span>                  | <span data-ttu-id="e4429-514">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-514">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-515">D3DDECLTYPE \_ DEC3N</span><span class="sxs-lookup"><span data-stu-id="e4429-515">D3DDECLTYPE\_DEC3N</span></span>                  | <span data-ttu-id="e4429-516">Non disponible</span><span class="sxs-lookup"><span data-stu-id="e4429-516">Not available</span></span>                                                                                                                                                                                                                                        |
| <span data-ttu-id="e4429-517">D3DDECLTYPE \_ FLOAT16 \_ 2</span><span class="sxs-lookup"><span data-stu-id="e4429-517">D3DDECLTYPE\_FLOAT16\_2</span></span>             | <span data-ttu-id="e4429-518">DXGI \_ format \_ R16G16 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-518">DXGI\_FORMAT\_R16G16\_FLOAT</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="e4429-519">D3DDECLTYPE \_ FLOAT16 \_ 4</span><span class="sxs-lookup"><span data-stu-id="e4429-519">D3DDECLTYPE\_FLOAT16\_4</span></span>             | <span data-ttu-id="e4429-520">DXGI \_ format \_ R16G16B16A16 \_ float</span><span class="sxs-lookup"><span data-stu-id="e4429-520">DXGI\_FORMAT\_R16G16B16A16\_FLOAT</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="e4429-521">FourCC 'ATI1'</span><span class="sxs-lookup"><span data-stu-id="e4429-521">FourCC 'ATI1'</span></span>                       | <span data-ttu-id="e4429-522">DXGI \_ format \_ textures BC4 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-522">DXGI\_FORMAT\_BC4\_UNORM</span></span>                                                                                                                                                                                                                             |
| <span data-ttu-id="e4429-523">FourCC 'ATI2'</span><span class="sxs-lookup"><span data-stu-id="e4429-523">FourCC 'ATI2'</span></span>                       | <span data-ttu-id="e4429-524">DXGI \_ format \_ BC5 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="e4429-524">DXGI\_FORMAT\_BC5\_UNORM</span></span>                                                                                                                                                                                                                             |



 

<span data-ttu-id="e4429-525">¹ DXGI 1,1, inclus dans le runtime Direct3D 11, inclut les formats BGRA.</span><span class="sxs-lookup"><span data-stu-id="e4429-525">¹DXGI 1.1, which is included in the Direct3D 11 runtime, includes BGRA formats.</span></span> <span data-ttu-id="e4429-526">Toutefois, la prise en charge de ces formats est facultative pour les appareils Direct3D 10 et 10,1 avec des pilotes qui sont implémentés sur le modèle WDDM (Windows Display Driver Model) pour Windows Vista (WDDM 1,0).</span><span class="sxs-lookup"><span data-stu-id="e4429-526">However, support for these formats is optional for Direct3D 10 and 10.1 devices with drivers that are implemented to the Windows Display Driver Model (WDDM) for Windows Vista (WDDM 1.0).</span></span> <span data-ttu-id="e4429-527">Envisagez d’utiliser DXGI au \_ format \_ R8G8B8A8 UNORM à la \_ place.</span><span class="sxs-lookup"><span data-stu-id="e4429-527">Consider using DXGI\_FORMAT\_R8G8B8A8\_UNORM instead.</span></span> <span data-ttu-id="e4429-528">Vous pouvez également créer votre appareil avec la [**\_ \_ \_ \_ prise en charge D3D10 créer un appareil BGRA**](/windows/desktop/api/D3D10/ne-d3d10-d3d10_create_device_flag) pour vous assurer que vous ne prenez en charge que les ordinateurs avec le runtime Direct3D 11,0 et un pilote WDDM 1,1 ou une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="e4429-528">Alternatively, you can create your device with [**D3D10\_CREATE\_DEVICE\_BGRA\_SUPPORT**](/windows/desktop/api/D3D10/ne-d3d10-d3d10_create_device_flag) to ensure that you only support computers with the Direct3D 11.0 runtime and a WDDM 1.1 driver or higher installed.</span></span>

<span data-ttu-id="e4429-529">² DXGI 1,0 définis 5:6:5 et 5:5:5:1 formats, mais ils n’étaient pas pris en charge par le runtime Direct3D 10. x ou Direct3D 11,0.</span><span class="sxs-lookup"><span data-stu-id="e4429-529">²DXGI 1.0 defined 5:6:5 and 5:5:5:1 formats, but they were not supported by the Direct3D 10.x or Direct3D 11.0 runtime.</span></span> <span data-ttu-id="e4429-530">Ces formats sont éventuellement pris en charge avec DXGI 1,2 dans le runtime DirectX 11,1, qui est requis pour les cartes vidéo de niveau de fonctionnalité 11,1 et le WDDM 1,2 (afficher le modèle de pilote à partir de Windows 8) et déjà pris en charge sur les niveaux de fonctionnalité 10level9.</span><span class="sxs-lookup"><span data-stu-id="e4429-530">These formats are optionally supported with DXGI 1.2 in the DirectX 11.1 runtime, which is required for feature level 11.1 video adapters and WDDM 1.2 (display driver model starting with Windows 8) drivers and already supported on 10level9 feature levels.</span></span>

<span data-ttu-id="e4429-531">³ DXGI 1,2 a introduit le format 4:4:4:4.</span><span class="sxs-lookup"><span data-stu-id="e4429-531">³DXGI 1.2 introduced the 4:4:4:4 format.</span></span> <span data-ttu-id="e4429-532">Ce format est éventuellement pris en charge dans le runtime DirectX 11,1, qui est requis pour les cartes vidéo de niveau de fonctionnalité 11,1 et les pilotes WDDM 1,2, et déjà pris en charge sur les niveaux de fonctionnalité 10level9.</span><span class="sxs-lookup"><span data-stu-id="e4429-532">This format is optionally supported in the DirectX 11.1 runtime, which is required for feature level 11.1 video adapters and WDDM 1.2 drivers and already supported on 10level9 feature levels.</span></span>

<span data-ttu-id="e4429-533">Pour les formats non compressés, DXGI a limité la prise en charge des modèles de format de pixel arbitraires. tous les formats non compressés doivent être de type RVBA.</span><span class="sxs-lookup"><span data-stu-id="e4429-533">For uncompressed formats, DXGI has limited the support for arbitrary pixel format patterns; all uncompressed formats must be of type RGBA.</span></span> <span data-ttu-id="e4429-534">Cela peut nécessiter la swizzling des formats de pixel actifs existants, que nous vous recommandons de calculer comme un test de prétraitement hors connexion lorsque cela est possible.</span><span class="sxs-lookup"><span data-stu-id="e4429-534">This might require swizzling of existing assets pixel formats, which we recommend that you compute as an offline pre-process pass where possible.</span></span>

## <a name="porting-shaders"></a><span data-ttu-id="e4429-535">Portage des nuanceurs</span><span class="sxs-lookup"><span data-stu-id="e4429-535">Porting Shaders</span></span>

### <a name="direct3d-10-shaders-are-authored-in-hlsl"></a><span data-ttu-id="e4429-536">Les nuanceurs Direct3D 10 sont créés en HLSL</span><span class="sxs-lookup"><span data-stu-id="e4429-536">Direct3D 10 Shaders are Authored in HLSL</span></span>

<span data-ttu-id="e4429-537">Direct3D 10 limite l’utilisation du langage assembleur uniquement à des fins de débogage. par conséquent, tous les nuanceurs d’assembly écrits à la main utilisés dans Direct3D 9 devront être convertis en langage HLSL.</span><span class="sxs-lookup"><span data-stu-id="e4429-537">Direct3D 10 limits the use of assembly language to that of debugging purposes only, therefore any hand written assembly shaders used in Direct3D 9 will need to be converted to HLSL.</span></span>

### <a name="shader-signatures-and-linkage"></a><span data-ttu-id="e4429-538">Signatures et liaison de nuanceur</span><span class="sxs-lookup"><span data-stu-id="e4429-538">Shader Signatures and Linkage</span></span>

<span data-ttu-id="e4429-539">Nous avons abordé les conditions requises pour la liaison d’assembly d’entrée aux signatures d’entrée de nuanceur vertex plus haut dans ce document (voir ci-dessus).</span><span class="sxs-lookup"><span data-stu-id="e4429-539">We discussed the requirements for Input Assembly linkage to Vertex shader input signatures earlier in this document (see above).</span></span> <span data-ttu-id="e4429-540">Notez que le runtime Direct3D 10 a également renforcé la configuration requise pour la liaison intermédiaire entre les nuanceurs.</span><span class="sxs-lookup"><span data-stu-id="e4429-540">Note that the Direct3D 10 runtime has also tightened the requirements for stage to stage linkage between shaders.</span></span> <span data-ttu-id="e4429-541">Cette modification affecte les sources de nuanceur dans lesquelles la liaison entre les étapes peut ne pas avoir été entièrement décrite sous Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="e4429-541">This change will affect shader sources where the binding between stages may not have been fully described under Direct3D 9.</span></span> <span data-ttu-id="e4429-542">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="e4429-542">For example:</span></span>


```
VS_OUTPUT                       PS_INPUT
float4   pos : SV_POSITION;     float4 pos : SV_POSITION;
float4   uv1 : TEXCOORD1;       float4 uv1 : TEXCOORD1;
float4x3 tangentSp : TEXCOORD2; float4 tangent : TEXCOORD2; *
float4   Color : TEXCOORD6;     float4 color : TEXCOORD6;
```



<span data-ttu-id="e4429-543">\* Liaison VS-PS rompue-même si le nuanceur de pixels peut ne pas être intéressé par la matrice complète, la liaison doit spécifier la float4x3 complète.</span><span class="sxs-lookup"><span data-stu-id="e4429-543">\* Broken VS - PS Linkage - even though the pixel shader may not be interested in the full matrix, the linkage must specify the full float4x3.</span></span>

<span data-ttu-id="e4429-544">Notez que la sémantique de liaison entre les étapes doit correspondre exactement, mais les entrées de étapes cibles peuvent être un préfixe des valeurs en cours de sortie.</span><span class="sxs-lookup"><span data-stu-id="e4429-544">Note, the linkage semantics between stages must match exactly however, the target stages inputs may be a prefix of the values being output.</span></span> <span data-ttu-id="e4429-545">Dans l’exemple ci-dessus, le nuanceur de pixels peut avoir la position et texcoord1 comme les seules entrées, mais il n’a pas pu avoir la position et texcoord2 comme seules entrées en raison des contraintes de classement.</span><span class="sxs-lookup"><span data-stu-id="e4429-545">In the example above, the pixel shader could have position and texcoord1 as the only inputs, but it could not have the position and texcoord2 as the only inputs due to the ordering constraints.</span></span>

### <a name="hlsl-shader-stage-linkages"></a><span data-ttu-id="e4429-546">Liaisons d’étape de nuanceur HLSL</span><span class="sxs-lookup"><span data-stu-id="e4429-546">HLSL Shader Stage linkages</span></span>

<span data-ttu-id="e4429-547">La liaison entre les nuanceurs peut se produire à n’importe quel point suivant dans le pipeline :</span><span class="sxs-lookup"><span data-stu-id="e4429-547">Linkage between shaders may occur at any of the following points in the pipeline:</span></span>

-   <span data-ttu-id="e4429-548">Assembleur d’entrée au nuanceur de sommets</span><span class="sxs-lookup"><span data-stu-id="e4429-548">Input Assembler to Vertex Shader</span></span>
-   <span data-ttu-id="e4429-549">Nuanceur de sommets vers nuanceur de pixels</span><span class="sxs-lookup"><span data-stu-id="e4429-549">Vertex Shader to Pixel Shader</span></span>
-   <span data-ttu-id="e4429-550">Nuanceur de sommets au nuanceur Geometry</span><span class="sxs-lookup"><span data-stu-id="e4429-550">Vertex Shader to Geometry Shader</span></span>
-   <span data-ttu-id="e4429-551">Nuanceur vertex pour la sortie de flux</span><span class="sxs-lookup"><span data-stu-id="e4429-551">Vertex Shader to Stream Output</span></span>
-   <span data-ttu-id="e4429-552">Nuanceur de géométrie à nuanceur de pixels</span><span class="sxs-lookup"><span data-stu-id="e4429-552">Geometry Shader to Pixel Shader</span></span>
-   <span data-ttu-id="e4429-553">Nuanceur Geometry à diffuser en continu</span><span class="sxs-lookup"><span data-stu-id="e4429-553">Geometry Shader to Stream Out</span></span>

### <a name="constant-buffers"></a><span data-ttu-id="e4429-554">Mémoires tampons constantes</span><span class="sxs-lookup"><span data-stu-id="e4429-554">Constant Buffers</span></span>

<span data-ttu-id="e4429-555">Pour faciliter le portage de contenu à partir de Direct3D 9, une approche initiale de la gestion constante en dehors du système d’effets peut impliquer la création d’une seule mémoire tampon constante contenant toutes les constantes requises.</span><span class="sxs-lookup"><span data-stu-id="e4429-555">For ease of porting content from Direct3D 9 an initial approach to constant management outside of the Effects system might involve the creation of a single constant buffer containing all the required constants.</span></span> <span data-ttu-id="e4429-556">Il est important pour les performances de classer les constantes dans les tampons selon la fréquence attendue de la mise à jour.</span><span class="sxs-lookup"><span data-stu-id="e4429-556">It is important for performance to order constants into buffers by the expected frequency of update.</span></span> <span data-ttu-id="e4429-557">Cette organisation réduira la quantité de jeux de constantes redondants au minimum.</span><span class="sxs-lookup"><span data-stu-id="e4429-557">This organization will reduce the amount of redundant constant sets to a minimum.</span></span>

### <a name="user-clip-planes-in-hlsl-on-feature-level-9-and-higher"></a><span data-ttu-id="e4429-558">Plans d’utilisateur en HLSL sur le niveau de fonctionnalité 9 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="e4429-558">User clip planes in HLSL on feature level 9 and higher</span></span>

<span data-ttu-id="e4429-559">À compter de Windows 8, vous pouvez utiliser l’attribut de fonction **clipplanes** dans une [déclaration de fonction](../direct3dhlsl/dx-graphics-hlsl-function-syntax.md) HLSL plutôt que [SV \_ ClipDistance](../direct3dhlsl/dx-graphics-hlsl-semantics.md) pour que votre nuanceur fonctionne sur le [niveau de fonctionnalité](../direct3d11/overviews-direct3d-11-devices-downlevel-intro.md) 9 x, ainsi que sur le niveau de \_ fonctionnalité 10 et ultérieur.</span><span class="sxs-lookup"><span data-stu-id="e4429-559">Starting with Windows 8, you can use the **clipplanes** function attribute in an HLSL [function declaration](../direct3dhlsl/dx-graphics-hlsl-function-syntax.md) rather than [SV\_ClipDistance](../direct3dhlsl/dx-graphics-hlsl-semantics.md) to make your shader work on [feature level](../direct3d11/overviews-direct3d-11-devices-downlevel-intro.md) 9\_x as well as feature level 10 and higher.</span></span> <span data-ttu-id="e4429-560">Pour plus d’informations, consultez l' [image des plans d’utilisateur sur le matériel de niveau de fonctionnalité 9](../direct3dhlsl/user-clip-planes-on-10level9.md).</span><span class="sxs-lookup"><span data-stu-id="e4429-560">For more info, see [User clip planes on feature level 9 hardware](../direct3dhlsl/user-clip-planes-on-10level9.md).</span></span>

## <a name="additional-direct3d-10-differences-to-watch-for"></a><span data-ttu-id="e4429-561">Autres différences Direct3D 10 à surveiller</span><span class="sxs-lookup"><span data-stu-id="e4429-561">Additional Direct3D 10 Differences to Watch For</span></span>

### <a name="integers-as-input"></a><span data-ttu-id="e4429-562">Entiers comme entrée</span><span class="sxs-lookup"><span data-stu-id="e4429-562">Integers as Input</span></span>

<span data-ttu-id="e4429-563">Dans Direct3D 9, il n’existait pas de prise en charge matérielle réelle pour les types de données Integer, mais le matériel Direct3D 10 prend en charge les types d’entiers explicites.</span><span class="sxs-lookup"><span data-stu-id="e4429-563">In Direct3D 9, there was no real hardware support for integer data types, however Direct3D 10 hardware supports explicit integer types.</span></span> <span data-ttu-id="e4429-564">Si vous avez des données à virgule flottante dans votre mémoire tampon de vertex, vous devez avoir une entrée float.</span><span class="sxs-lookup"><span data-stu-id="e4429-564">If you have floating-point data in your vertex buffer, then you must have a float input.</span></span> <span data-ttu-id="e4429-565">Dans le cas contraire, un type entier sera la représentation du modèle de bits de la valeur à virgule flottante.</span><span class="sxs-lookup"><span data-stu-id="e4429-565">Otherwise an integer type will be the bit pattern representation of the floating-point value.</span></span> <span data-ttu-id="e4429-566">Un type entier n’est pas autorisé pour une entrée de nuanceur de pixels, sauf si la valeur est marquée pour aucune interpolation (consultez [modificateurs d’interpolation](../direct3dhlsl/dx-graphics-hlsl-struct.md)).</span><span class="sxs-lookup"><span data-stu-id="e4429-566">An integer type is not allowed for a pixel shader input unless the value is marked for no interpolation (see [Interpolation Modifiers](../direct3dhlsl/dx-graphics-hlsl-struct.md)).</span></span>

### <a name="mouse-cursors"></a><span data-ttu-id="e4429-567">Curseurs de la souris</span><span class="sxs-lookup"><span data-stu-id="e4429-567">Mouse Cursors</span></span>

<span data-ttu-id="e4429-568">Dans les versions précédentes de Windows, les routines de curseur de souris GDI standard ne fonctionnaient pas correctement sur tous les périphériques exclusifs en plein écran.</span><span class="sxs-lookup"><span data-stu-id="e4429-568">On previous versions of Windows, the standard GDI mouse cursor routines did not operate correctly on all full-screen exclusive devices.</span></span> <span data-ttu-id="e4429-569">Les API [**SetCursorProperties**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setcursorproperties), [**ShowCursor**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-showcursor)et [**SetCursorPosition**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setcursorposition) ont été ajoutées pour gérer ces cas.</span><span class="sxs-lookup"><span data-stu-id="e4429-569">The [**SetCursorProperties**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setcursorproperties), [**ShowCursor**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-showcursor), and [**SetCursorPosition**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setcursorposition) APIs were added to handle these cases.</span></span> <span data-ttu-id="e4429-570">Étant donné que la version de GDI de Windows Vista comprend entièrement les surfaces [dxgi](../direct3ddxgi/d3d10-graphics-programming-guide-dxgi.md) , il n’est pas nécessaire d’utiliser cette API de curseur de souris spécialisée pour qu’il n’y ait pas d’équivalent Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-570">Since Windows Vista's version of GDI fully understands [DXGI](../direct3ddxgi/d3d10-graphics-programming-guide-dxgi.md) surfaces, there is no need for this specialized mouse cursor API so there is no Direct3D 10 equivalent.</span></span> <span data-ttu-id="e4429-571">Les applications Direct3D 10 doivent à la place utiliser les [routines de curseur de souris GDI](../menurc/cursors.md) standard pour les curseurs de souris.</span><span class="sxs-lookup"><span data-stu-id="e4429-571">Direct3D 10 applications should instead use the standard [GDI mouse cursor routines](../menurc/cursors.md) for mouse cursors.</span></span>

### <a name="mapping-texels-to-pixels-in-direct3d-10"></a><span data-ttu-id="e4429-572">Mappage de texels à des pixels dans Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-572">Mapping Texels to Pixels in Direct3D 10</span></span>

<span data-ttu-id="e4429-573">Dans Direct3D 9, les centres de texture et les centres de pixels étaient séparés par une demi-unité (consultez [mappage direct des texels à des pixels (Direct3D 9)](../direct3d9/directly-mapping-texels-to-pixels.md)).</span><span class="sxs-lookup"><span data-stu-id="e4429-573">In Direct3D 9, texel centers and pixel centers were a half unit apart (see [Directly Mapping Texels to Pixels (Direct3D 9)](../direct3d9/directly-mapping-texels-to-pixels.md)).</span></span> <span data-ttu-id="e4429-574">Dans Direct3D 10, les centres de texels sont déjà aux demi-unités, donc il n’est pas nécessaire de déplacer du tout des coordonnées de vertex.</span><span class="sxs-lookup"><span data-stu-id="e4429-574">In Direct3D 10, texel centers are already at half-units, so there is no need to shift vertex coordinates at all.</span></span>

<span data-ttu-id="e4429-575">Le rendu des quatre cœurs en plein écran est plus simple avec Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="e4429-575">Rendering full-screen quads is more straight-forward with Direct3D 10.</span></span> <span data-ttu-id="e4429-576">Les Quad-plein écran doivent être définis dans clipspace (-1, 1) et simplement transmis au nuanceur de sommets sans aucune modification.</span><span class="sxs-lookup"><span data-stu-id="e4429-576">Full-screen quads should be defined in clipspace (-1,1) and simply passed through the vertex shader with no changes.</span></span> <span data-ttu-id="e4429-577">De cette façon, il n’est pas nécessaire de recharger votre mémoire tampon de vertex chaque fois que la résolution de l’écran change, et il n’y a pas de travail supplémentaire dans le nuanceur de pixels pour manipuler les coordonnées de la texture.</span><span class="sxs-lookup"><span data-stu-id="e4429-577">This way, there is no need to reload your vertex buffer every time the screen resolution changes, and there's no extra work in the pixel shader to manipulate the texture coordinates.</span></span>

### <a name="reference-counting-behavior-changes"></a><span data-ttu-id="e4429-578">Modifications du comportement du décompte de références</span><span class="sxs-lookup"><span data-stu-id="e4429-578">Reference Counting Behavior Changes</span></span>

<span data-ttu-id="e4429-579">Contrairement aux versions Direct3D précédentes, les différentes fonctions set ne contiendront pas de référence aux objets périphériques.</span><span class="sxs-lookup"><span data-stu-id="e4429-579">Unlike previous Direct3D versions, the various Set functions will not hold a reference to the devices objects.</span></span> <span data-ttu-id="e4429-580">Cela signifie que l’application doit s’assurer qu’elle contient une référence sur l’objet aussi longtemps qu’il veut que cet objet soit lié au pipeline.</span><span class="sxs-lookup"><span data-stu-id="e4429-580">This means that the application must ensure that it holds a reference on the object for as long as it would like that object to be bound to the pipeline.</span></span> <span data-ttu-id="e4429-581">Lorsque le nombre de références de l’objet est inférieur à zéro, l’objet est indépendant du pipeline lors de sa destruction.</span><span class="sxs-lookup"><span data-stu-id="e4429-581">When the ref count of the object drops to zero, then the object will be unbound from the pipeline as it is destroyed.</span></span> <span data-ttu-id="e4429-582">Ce style d’exploitation de référence est également connu sous le nom de maintien de référence faible. par conséquent, chaque emplacement de liaison sur l’objet appareil contient une référence faible à l’interface/l’objet.</span><span class="sxs-lookup"><span data-stu-id="e4429-582">This style of reference holding is also known as weak-reference holding, so therefore each bind location on the Device object holds a weak-reference to the interface/ object.</span></span> <span data-ttu-id="e4429-583">À moins d’être explicitement mentionné dans le cas contraire, ce comportement doit être utilisé pour toutes les méthodes Set.</span><span class="sxs-lookup"><span data-stu-id="e4429-583">Unless explicitly mentioned otherwise, this behavior should be assumed for all Set methods.</span></span> <span data-ttu-id="e4429-584">Chaque fois que la destruction d’un objet entraîne la définition d’un point de liaison sur la **valeur null** , la couche de débogage émet un avertissement.</span><span class="sxs-lookup"><span data-stu-id="e4429-584">Whenever destruction of an object causes a bind point to be set to **NULL** out, the Debug Layer will issue a warning.</span></span> <span data-ttu-id="e4429-585">Notez que les appels aux méthodes d’extraction de périphérique, telles que [**OMGetRenderTargets**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-omgetrendertargets) , augmentent le nombre de références des objets retournés.</span><span class="sxs-lookup"><span data-stu-id="e4429-585">Note, calls to device Get methods such as [**OMGetRenderTargets**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-omgetrendertargets) will increase the reference count of objects being returned.</span></span>

### <a name="test-cooperative-level"></a><span data-ttu-id="e4429-586">Niveau de coopératif de test</span><span class="sxs-lookup"><span data-stu-id="e4429-586">Test Cooperative Level</span></span>

<span data-ttu-id="e4429-587">La fonctionnalité de l’API Direct3D 9 [**TestCooperativeLevel**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-testcooperativelevel) est analogue à la définition [du \_ \_ test de présentation dxgi](../direct3ddxgi/dxgi-present.md) lors de l’appel de [**présent**](/windows/win32/api/dxgi/nf-dxgi-idxgiswapchain-present).</span><span class="sxs-lookup"><span data-stu-id="e4429-587">The functionality of the Direct3D 9 API [**TestCooperativeLevel**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-testcooperativelevel) is analogous to setting the [DXGI\_PRESENT\_TEST](../direct3ddxgi/dxgi-present.md) when calling [**Present**](/windows/win32/api/dxgi/nf-dxgi-idxgiswapchain-present).</span></span>

### <a name="stretchrect"></a><span data-ttu-id="e4429-588">StretchRect</span><span class="sxs-lookup"><span data-stu-id="e4429-588">StretchRect</span></span>

<span data-ttu-id="e4429-589">Une fonction semblable à la méthode Direct3D 9 [**IDirect3DDevice9 :: StretchRect**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-stretchrect) n’est pas disponible dans Direct3D 10 et 10,1.</span><span class="sxs-lookup"><span data-stu-id="e4429-589">A function similar to the Direct3D 9 [**IDirect3DDevice9::StretchRect**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-stretchrect) method is not available in Direct3D 10 and 10.1.</span></span> <span data-ttu-id="e4429-590">Pour copier des surfaces de ressource, utilisez [**ID3D10Device :: CopySubresourceRegion**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-copysubresourceregion).</span><span class="sxs-lookup"><span data-stu-id="e4429-590">To copy resource surfaces, use [**ID3D10Device::CopySubresourceRegion**](/windows/desktop/api/D3D10/nf-d3d10-id3d10device-copysubresourceregion).</span></span> <span data-ttu-id="e4429-591">Pour les opérations de redimensionnement, restituez sur une texture à l’aide du filtrage de texture.</span><span class="sxs-lookup"><span data-stu-id="e4429-591">For resizing operations, render to a texture by using texture filtering.</span></span> <span data-ttu-id="e4429-592">Pour convertir des surfaces MSAA en surfaces non MSAA, utilisez [**ID3D10Device :: ResolveSubresource**](/windows/desktop/api/d3d10/nf-d3d10-id3d10device-resolvesubresource).</span><span class="sxs-lookup"><span data-stu-id="e4429-592">For converting MSAA surfaces to non-MSAA surfaces, use [**ID3D10Device::ResolveSubresource**](/windows/desktop/api/d3d10/nf-d3d10-id3d10device-resolvesubresource).</span></span>

## <a name="additional-direct3d-101-differences"></a><span data-ttu-id="e4429-593">Différences Direct3D 10,1 supplémentaires</span><span class="sxs-lookup"><span data-stu-id="e4429-593">Additional Direct3D 10.1 Differences</span></span>

<span data-ttu-id="e4429-594">Windows Vista avec Service Pack 1 (SP1) comprenait une mise à jour mineure de Direct3D 10 et Direct3D 10,1, qui exposait les fonctionnalités matérielles supplémentaires suivantes :</span><span class="sxs-lookup"><span data-stu-id="e4429-594">Windows Vista with Service Pack 1 (SP1) included a minor update to Direct3D 10 and Direct3D 10.1, which exposed the following additional hardware features:</span></span>

-   <span data-ttu-id="e4429-595">Nuanceurs par exemple MSAA</span><span class="sxs-lookup"><span data-stu-id="e4429-595">MSAA per-sample shaders</span></span>
-   <span data-ttu-id="e4429-596">Lecture de profondeur MSAA</span><span class="sxs-lookup"><span data-stu-id="e4429-596">MSAA depth read-back</span></span>
-   <span data-ttu-id="e4429-597">Modes de fusion indépendants par cible de rendu</span><span class="sxs-lookup"><span data-stu-id="e4429-597">Independent blend modes per render target</span></span>
-   <span data-ttu-id="e4429-598">Tableaux de mappage de cube</span><span class="sxs-lookup"><span data-stu-id="e4429-598">Cube map arrays</span></span>
-   <span data-ttu-id="e4429-599">Rendu aux formats compressés par bloc (BC)</span><span class="sxs-lookup"><span data-stu-id="e4429-599">Render to block-compressed (BC) formats</span></span>

<span data-ttu-id="e4429-600">La mise à jour Direct3D 10,1 a ajouté la prise en charge des nouvelles interfaces suivantes, qui sont dérivées des interfaces existantes :</span><span class="sxs-lookup"><span data-stu-id="e4429-600">The Direct3D 10.1 update added support for the following new interfaces, which are derived from existing interfaces:</span></span>

-   [<span data-ttu-id="e4429-601">**ID3D10Device1**</span><span class="sxs-lookup"><span data-stu-id="e4429-601">**ID3D10Device1**</span></span>](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10device1)
-   [<span data-ttu-id="e4429-602">**ID3D10BlendState1**</span><span class="sxs-lookup"><span data-stu-id="e4429-602">**ID3D10BlendState1**</span></span>](/windows/desktop/api/D3D10_1/nn-d3d10_1-id3d10blendstate1)
-   [<span data-ttu-id="e4429-603">**ID3D10ShaderResourceView1**</span><span class="sxs-lookup"><span data-stu-id="e4429-603">**ID3D10ShaderResourceView1**</span></span>](/windows/desktop/api/d3d10_1/nn-d3d10_1-id3d10shaderresourceview1)

<span data-ttu-id="e4429-604">La mise à jour de Direct3D 10,1 incluait également les structures supplémentaires suivantes :</span><span class="sxs-lookup"><span data-stu-id="e4429-604">The Direct3D 10.1 update also included the following additional structures:</span></span>

-   [<span data-ttu-id="e4429-605">**D3D10 \_ Render \_ cible \_ Blend \_ DESC1**</span><span class="sxs-lookup"><span data-stu-id="e4429-605">**D3D10\_RENDER\_TARGET\_BLEND\_DESC1**</span></span>](/windows/desktop/api/d3d10_1/ns-d3d10_1-d3d10_render_target_blend_desc1)
-   [<span data-ttu-id="e4429-606">**D3D10 \_ Blend \_ DESC1**</span><span class="sxs-lookup"><span data-stu-id="e4429-606">**D3D10\_BLEND\_DESC1**</span></span>](/windows/desktop/api/D3D10_1/ns-d3d10_1-d3d10_blend_desc1)
-   [<span data-ttu-id="e4429-607">**\_Affichage des ressources du nuanceur D3D10 \_ \_ \_ DESC1**</span><span class="sxs-lookup"><span data-stu-id="e4429-607">**D3D10\_SHADER\_RESOURCE\_VIEW\_DESC1**</span></span>](/windows/desktop/api/d3d10_1/ns-d3d10_1-d3d10_shader_resource_view_desc1)

<span data-ttu-id="e4429-608">L’API Direct3D 10,1 comprend un nouveau concept nommé niveau de fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="e4429-608">The Direct3D 10.1 API includes a new concept named feature level.</span></span> <span data-ttu-id="e4429-609">Ce concept signifie que vous pouvez utiliser l’API Direct3D 10,1 pour piloter le matériel Direct3D 10,0 ([**D3D10 \_ Feature \_ Level \_ 10 \_ 0**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)) ou Direct3D 10,1 ([**D3D10 \_ Feature \_ Level \_ 10 \_ 1**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)).</span><span class="sxs-lookup"><span data-stu-id="e4429-609">This concept means that you can use the Direct3D 10.1 API to drive Direct3D 10.0 ([**D3D10\_FEATURE\_LEVEL\_10\_0**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)) or Direct3D 10.1 ([**D3D10\_FEATURE\_LEVEL\_10\_1**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)) hardware.</span></span> <span data-ttu-id="e4429-610">Étant donné que l’API Direct3D 10,1 est dérivée des interfaces Direct3D 10, les applications peuvent créer un appareil Direct3D 10,1, puis l’utiliser en tant qu’appareil Direct3D 10,0, sauf si de nouvelles fonctionnalités spécifiques à 10,1 sont nécessaires (à condition que le niveau de fonctionnalité **D3D10 de \_ \_ niveau \_ 10 \_ 1** soit présent et prenne en charge ces fonctionnalités).</span><span class="sxs-lookup"><span data-stu-id="e4429-610">Because the Direct3D 10.1 API is derived from the Direct3D 10 interfaces, applications can create a Direct3D 10.1 device, then use it as a Direct3D 10.0 device except where new 10.1-specific features are needed (provided that the **D3D10\_FEATURE\_LEVEL\_10\_1** feature-level is present and supports these features).</span></span>

> [!Note]  
> <span data-ttu-id="e4429-611">Les périphériques Direct3D 10,1 peuvent utiliser les profils de nuanceur HLSL 10,0 existants (vs 4 \_ \_ 0, PS \_ 4 \_ 0, GS \_ 4 \_ 0) et les nouveaux profils 10,1 (vs 4 \_ \_ 1, PS \_ 4 \_ 1, GS \_ 4 \_ 1) avec des instructions et des fonctionnalités HLSL supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="e4429-611">Direct3D 10.1 devices can use the existing 10.0 HLSL shader profiles (vs\_4\_0, ps\_4\_0, gs\_4\_0) and the new 10.1 profiles (vs\_4\_1, ps\_4\_1, gs\_4\_1) with additional HLSL instructions and capabilities.</span></span>

 

<span data-ttu-id="e4429-612">Windows 7 contenait une mise à jour mineure de l’API Direct3D 10,1 qui est incluse dans le runtime Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="e4429-612">Windows 7 contained a minor update to the Direct3D 10.1 API that is included in the Direct3D 11 runtime.</span></span> <span data-ttu-id="e4429-613">Cette mise à jour ajoute la prise en charge des niveaux de fonctionnalités suivants :</span><span class="sxs-lookup"><span data-stu-id="e4429-613">This update adds support for the following feature levels:</span></span>

-   [<span data-ttu-id="e4429-614">**\_Niveau de fonctionnalité D3D10 \_ \_ 9 \_ 1**</span><span class="sxs-lookup"><span data-stu-id="e4429-614">**D3D10\_FEATURE\_LEVEL\_9\_1**</span></span>](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)
-   [<span data-ttu-id="e4429-615">**\_Niveau de fonctionnalité D3D10 \_ \_ 9 \_ 2**</span><span class="sxs-lookup"><span data-stu-id="e4429-615">**D3D10\_FEATURE\_LEVEL\_9\_2**</span></span>](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)
-   [<span data-ttu-id="e4429-616">**\_Niveau de fonctionnalité D3D10 \_ \_ 9 \_ 3**</span><span class="sxs-lookup"><span data-stu-id="e4429-616">**D3D10\_FEATURE\_LEVEL\_9\_3**</span></span>](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1)

<span data-ttu-id="e4429-617">Windows 7 a également ajouté la prise en charge de Direct3D 10,1 pour la [plateforme de rastérisation avancée Windows (Warp)](../direct3darticles/directx-warp.md).</span><span class="sxs-lookup"><span data-stu-id="e4429-617">Windows 7 also added support to Direct3D 10.1 for [Windows Advanced Rasterization Platform (WARP)](../direct3darticles/directx-warp.md).</span></span> <span data-ttu-id="e4429-618">Vous pouvez spécifier un pilote WARP à l’aide de la distorsion du [**\_ type de pilote \_ \_ D3D10**](/windows/desktop/api/D3D10misc/ne-d3d10misc-d3d10_driver_type).</span><span class="sxs-lookup"><span data-stu-id="e4429-618">You can specify a WARP driver by using [**D3D10\_DRIVER\_TYPE\_WARP**](/windows/desktop/api/D3D10misc/ne-d3d10misc-d3d10_driver_type).</span></span>

<span data-ttu-id="e4429-619">Pour plus d’informations sur Direct3D 10,1, consultez [fonctionnalités direct3d 10,1](d3d10-graphics-programming-guide-10-1.md) et l’énumération [**D3D10 \_ Feature \_ niveau1**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1) .</span><span class="sxs-lookup"><span data-stu-id="e4429-619">For more information about Direct3D 10.1, see [Direct3D 10.1 Features](d3d10-graphics-programming-guide-10-1.md) and the [**D3D10\_FEATURE\_LEVEL1**](/windows/desktop/api/D3D10_1/ne-d3d10_1-d3d10_feature_level1) enumeration.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e4429-620">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="e4429-620">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e4429-621">Guide de programmation pour Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="e4429-621">Programming Guide for Direct3D 10</span></span>](d3d10-graphics-programming-guide.md)
</dt> </dl>

 

 
