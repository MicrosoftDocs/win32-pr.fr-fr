---
title: Listes de tas et parcours du tas
description: Un instantané qui inclut la liste des tas pour un processus spécifié contient des informations d’identification pour chaque segment de mémoire associé au processus spécifié et des informations détaillées sur chaque segment.
ms.assetid: 631096fd-cb2c-4b19-aa71-d47060e2715c
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b5a9b8d30e2de1bf5ab37de03fdcb3fde663417
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103727972"
---
# <a name="heap-lists-and-heap-walking"></a><span data-ttu-id="5ab99-103">Listes de tas et parcours du tas</span><span class="sxs-lookup"><span data-stu-id="5ab99-103">Heap Lists and Heap Walking</span></span>

<span data-ttu-id="5ab99-104">Un instantané qui inclut la liste des tas pour un processus spécifié contient des informations d’identification pour chaque segment de mémoire associé au processus spécifié et des informations détaillées sur chaque segment.</span><span class="sxs-lookup"><span data-stu-id="5ab99-104">A snapshot that includes the heap list for a specified process contains identification information for each heap associated with the specified process and detailed information about each heap.</span></span> <span data-ttu-id="5ab99-105">Vous pouvez récupérer un identificateur pour le premier tas de la liste de tas à l’aide de la fonction [**Heap32ListFirst**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32listfirst) .</span><span class="sxs-lookup"><span data-stu-id="5ab99-105">You can retrieve an identifier for the first heap of the heap list by using the [**Heap32ListFirst**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32listfirst) function.</span></span> <span data-ttu-id="5ab99-106">Après avoir récupéré le premier segment de mémoire de la liste, vous pouvez parcourir la liste des tas pour les tas suivants associés au processus à l’aide de la fonction [**Heap32ListNext**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32listnext) .</span><span class="sxs-lookup"><span data-stu-id="5ab99-106">After retrieving the first heap in the list, you can traverse the heap list for subsequent heaps associated with the process by using the [**Heap32ListNext**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32listnext) function.</span></span> <span data-ttu-id="5ab99-107">**Heap32ListFirst** et **Heap32ListNext** remplissent une structure [**HEAPLIST32**](/windows/win32/api/tlhelp32/ns-tlhelp32-heaplist32) avec l’identificateur de processus, l’identificateur de tas et les indicateurs décrivant le tas.</span><span class="sxs-lookup"><span data-stu-id="5ab99-107">**Heap32ListFirst** and **Heap32ListNext** fill a [**HEAPLIST32**](/windows/win32/api/tlhelp32/ns-tlhelp32-heaplist32) structure with the process identifier, the heap identifier, and flags describing the heap.</span></span>

<span data-ttu-id="5ab99-108">Vous pouvez récupérer des informations sur le premier bloc d’un segment de mémoire à l’aide de la fonction [**Heap32First**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32first) .</span><span class="sxs-lookup"><span data-stu-id="5ab99-108">You can retrieve information about the first block of a heap by using the [**Heap32First**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32first) function.</span></span> <span data-ttu-id="5ab99-109">Après avoir récupéré le premier bloc d’un segment de mémoire, vous pouvez récupérer des informations sur les blocs suivants du même tas à l’aide de la fonction [**Heap32Next**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32next) .</span><span class="sxs-lookup"><span data-stu-id="5ab99-109">After retrieving the first block of a heap, you can retrieve information about subsequent blocks of the same heap by using the [**Heap32Next**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32next) function.</span></span> <span data-ttu-id="5ab99-110">**Heap32First** et **Heap32Next** remplissent une structure [**HEAPENTRY32**](/windows/win32/api/tlhelp32/ns-tlhelp32-heapentry32) avec des informations pour le bloc approprié d’un segment de mémoire.</span><span class="sxs-lookup"><span data-stu-id="5ab99-110">**Heap32First** and **Heap32Next** fill a [**HEAPENTRY32**](/windows/win32/api/tlhelp32/ns-tlhelp32-heapentry32) structure with information for the appropriate block of a heap.</span></span>

<span data-ttu-id="5ab99-111">Vous pouvez récupérer un code d’état d’erreur étendu pour [**Heap32ListFirst**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32listfirst), [**Heap32ListNext**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32listnext), [**Heap32First**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32first)et [**Heap32Next**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32next) à l’aide de la fonction [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) .</span><span class="sxs-lookup"><span data-stu-id="5ab99-111">You can retrieve an extended error status code for [**Heap32ListFirst**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32listfirst), [**Heap32ListNext**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32listnext), [**Heap32First**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32first), and [**Heap32Next**](/windows/desktop/api/TlHelp32/nf-tlhelp32-heap32next) by using the [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) function.</span></span>

> [!Note]  
> <span data-ttu-id="5ab99-112">L’identificateur de segment de mémoire, qui est spécifié dans le membre **th32HeapID** de la structure [**HEAPENTRY32**](/windows/win32/api/tlhelp32/ns-tlhelp32-heapentry32) , a une signification uniquement pour les fonctions d’aide de l’outil.</span><span class="sxs-lookup"><span data-stu-id="5ab99-112">The heap identifier, which is specified in the **th32HeapID** member of the [**HEAPENTRY32**](/windows/win32/api/tlhelp32/ns-tlhelp32-heapentry32) structure, has meaning only to the tool help functions.</span></span> <span data-ttu-id="5ab99-113">Ce n’est pas un descripteur et n’est pas utilisable par d’autres fonctions.</span><span class="sxs-lookup"><span data-stu-id="5ab99-113">It is not a handle, nor is it usable by other functions.</span></span>

 

 

 