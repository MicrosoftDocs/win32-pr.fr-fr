---
title: Entrée de la souris (entrée clavier et souris)
description: Cette section décrit comment le système fournit une entrée de souris à votre application et comment l’application reçoit et traite cette entrée.
ms.assetid: vs|winui|~\winui\windowsuserinterface\userinput\mouseinput.htm
keywords:
- entrée utilisateur, entrée de la souris
- capture de l’entrée utilisateur, entrée de la souris
- entrées de la souris
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f7cc21c9c02a91330483c7b65f7be076bb82e171
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/13/2021
ms.locfileid: "127012405"
---
# <a name="mouse-input-keyboard-and-mouse-input"></a>Entrée de la souris (entrée clavier et souris)

Cette section décrit comment le système fournit une entrée de souris à votre application et comment l’application reçoit et traite cette entrée.

## <a name="in-this-section"></a>Contenu de cette section



| Rubrique                                                         | Description                                                       |
|---------------------------------------------------------------|-------------------------------------------------------------------|
| [À propos de l’entrée de souris](about-mouse-input.md)<br/>         | Cette rubrique décrit l’entrée de la souris.<br/>                      |
| [Utilisation de l’entrée de souris](using-mouse-input.md)<br/>         | Cette section traite des tâches associées à l’entrée de souris.<br/> |
| [Référence d’entrée de la souris](mouse-input-reference.md)<br/> |                                                                   |



 

### <a name="functions"></a>Fonctions



| Nom                                                      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_TrackMouseEvent**](/windows/win32/api/commctrl/nf-commctrl-_trackmouseevent)             | Publie des messages lorsque le pointeur de la souris quitte une fenêtre ou pointe sur une fenêtre pendant un laps de temps spécifié. Cette fonction appelle [**TrackMouseEvent**](/windows/win32/api/winuser/nf-winuser-trackmouseevent) si elle existe, sinon elle l’émule.<br/>                                                                                                                                                                                                                                                                                                              |
| [**DragDetect**](/windows/win32/api/winuser/nf-winuser-dragdetect)                          | Capture la souris et suit ses déplacements jusqu'à ce que l'utilisateur relâche le bouton gauche, appuie sur la touche Échap ou déplace la souris en dehors du rectangle de glissement entourant le point spécifié. La largeur et la hauteur du rectangle de glissement sont spécifiées par les valeurs **SM \_ CXDRAG** et **SM \_ CYDRAG** retournées par la fonction [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) .<br/>                                                                                                                                                               |
| [**EnableMouseInPointer**](/windows/desktop/api/winuser/nf-winuser-enablemouseinpointer) | Permet à la souris d’agir comme un dispositif de pointage. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**GetCapture**](/windows/win32/api/winuser/nf-winuser-getcapture)                          | Récupère un handle vers la fenêtre (le cas échéant) qui a capturé la souris. Une seule fenêtre à la fois peut capturer la souris ; Cette fenêtre reçoit l’entrée de la souris, que le curseur figure ou non dans ses limites. <br/>                                                                                                                                                                                                                                                                                                                        |
| [**GetDoubleClickTime**](/windows/win32/api/winuser/nf-winuser-getdoubleclicktime)          | Récupère le temps de double-clic actuel pour la souris. Un double-clic est une série de deux clics du bouton de la souris, le second se produisant dans un délai spécifié après le premier. L’heure du double-clic correspond au nombre maximal de millisecondes qui peuvent se produire entre le premier et le deuxième clic d’un double-clic. <br/>                                                                                                                                                                                                              |
| [**GetMouseMovePointsEx**](/windows/win32/api/winuser/nf-winuser-getmousemovepointsex)      | Récupère un historique allant jusqu’à 64 coordonnées précédentes de la souris ou du stylet.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**ReleaseCapture**](/windows/win32/api/winuser/nf-winuser-releasecapture)                  | Libère la capture de la souris d’une fenêtre dans le thread actuel et restaure le traitement d’entrée de souris normal. Une fenêtre qui a capturé la souris reçoit toutes les entrées de la souris, quelle que soit la position du curseur, sauf si l’utilisateur clique sur un bouton de la souris alors que la zone réactive du curseur se trouve dans la fenêtre d’un autre thread. <br/>                                                                                                                                                                                                          |
| [**SetCapture**](/windows/win32/api/winuser/nf-winuser-setcapture)                          | Définit la capture de la souris sur la fenêtre spécifiée qui appartient au thread actuel. [**SetCapture**](/windows/win32/api/winuser/nf-winuser-setcapture) capture l’entrée de la souris lorsque la souris se trouve au-dessus de la fenêtre de capture ou lorsque le bouton de la souris a été enfoncé alors que la souris se trouvait au-dessus de la fenêtre de capture et que le bouton est toujours enfoncé. Une seule fenêtre à la fois peut capturer la souris.<br/> Si le curseur de la souris se trouve sur une fenêtre créée par un autre thread, le système dirige l’entrée de la souris vers la fenêtre spécifiée uniquement si le bouton de la souris est enfoncé.<br/> |
| [**SetDoubleClickTime**](/windows/win32/api/winuser/nf-winuser-setdoubleclicktime)          | Définit l’heure du double-clic de la souris. Un double-clic est une série de deux clics du bouton de la souris, le second se produisant dans un délai spécifié après le premier. L’heure du double-clic correspond au nombre maximal de millisecondes qui peuvent se produire entre le premier et le deuxième clic d’un double-clic. <br/>                                                                                                                                                                                                                            |
| [**SwapMouseButton**](/windows/win32/api/winuser/nf-winuser-swapmousebutton)                | Inverse ou restaure la signification des boutons gauche et droit de la souris. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**TrackMouseEvent**](/windows/win32/api/winuser/nf-winuser-trackmouseevent)                | Publie des messages lorsque le pointeur de la souris quitte une fenêtre ou pointe sur une fenêtre pendant un laps de temps spécifié.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                     |



 

La fonction suivante est obsolète.



| Fonction                            | Description                                            |
|-------------------------------------|--------------------------------------------------------|
| [**événement de souris \_**](/windows/win32/api/winuser/nf-winuser-mouse_event) | Synthétise le mouvement de la souris et les clics de bouton.<br/> |



 

### <a name="notifications"></a>Notifications



| Nom                                              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|---------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_CAPTURECHANGED WM**](wm-capturechanged.md)   | Envoyé à la fenêtre qui perd la capture de la souris.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [**\_LBUTTONDBLCLK WM**](wm-lbuttondblclk.md)     | Publié lorsque l’utilisateur double-clique sur le bouton gauche de la souris alors que le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                             |
| [**\_LBUTTONDOWN WM**](wm-lbuttondown.md)         | Publié lorsque l’utilisateur appuie sur le bouton gauche de la souris lorsque le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                                   |
| [**\_LBUTTONUP WM**](wm-lbuttonup.md)             | Publié lorsque l’utilisateur relâche le bouton gauche de la souris alors que le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                                  |
| [**\_MBUTTONDBLCLK WM**](wm-mbuttondblclk.md)     | Publié lorsque l’utilisateur double-clique sur le bouton central de la souris lorsque le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                           |
| [**\_MBUTTONDOWN WM**](wm-mbuttondown.md)         | Publié lorsque l’utilisateur appuie sur le bouton central de la souris lorsque le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                                 |
| [**\_MBUTTONUP WM**](wm-mbuttonup.md)             | Publié lorsque l’utilisateur relâche le bouton central de la souris alors que le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                                |
| [**\_MOUSEACTIVATE WM**](wm-mouseactivate.md)     | Envoyé lorsque le curseur se trouve dans une fenêtre inactive et que l’utilisateur appuie sur un bouton de la souris. La fenêtre parente reçoit ce message uniquement si la fenêtre enfant la passe à la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .<br/>                                                                                                                                                                                                                                                   |
| [**\_MOUSEHOVER WM**](wm-mousehover.md)           | Publié dans une fenêtre lorsque le curseur pointe sur la zone cliente de la fenêtre pendant la période spécifiée dans un appel antérieur à [**TrackMouseEvent**](/windows/win32/api/winuser/nf-winuser-trackmouseevent).<br/>                                                                                                                                                                                                                                                                                               |
| [**\_MOUSEHWHEEL WM**](wm-mousehwheel.md)         | Envoyé à la fenêtre Focus lorsque la roulette de défilement horizontale de la souris est inclinée ou pivotée. La fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca)propage le message au parent de la fenêtre. Il ne doit y avoir aucun transfert interne du message, car **DefWindowProc** le propage vers le haut de la chaîne parente jusqu’à ce qu’il trouve une fenêtre qui le traite.<br/>                                                                                                                  |
| [**WM \_ MOUSELEAVE**](wm-mouseleave.md)           | Publié dans une fenêtre lorsque le curseur quitte la zone cliente de la fenêtre spécifiée dans un appel antérieur à [**TrackMouseEvent**](/windows/win32/api/winuser/nf-winuser-trackmouseevent).<br/>                                                                                                                                                                                                                                                                                                                           |
| [**WM \_ MOUSEMOVE**](wm-mousemove.md)             | Publié dans une fenêtre lorsque le curseur se déplace. Si la souris n’est pas capturée, le message est publié dans la fenêtre qui contient le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                                                                                          |
| [**\_MOUSEWHEEL MOUSEWHEEL**](wm-mousewheel.md)           | Envoyé à la fenêtre de focus lorsque la roulette de la souris est pivotée. La fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) propage le message au parent de la fenêtre. Il ne doit y avoir aucun transfert interne du message, car **DefWindowProc** le propage vers le haut de la chaîne parente jusqu’à ce qu’il trouve une fenêtre qui le traite.<br/>                                                                                                                                              |
| [**\_NCHITTEST WM**](wm-nchittest.md)             | Envoyé à une fenêtre afin de déterminer quelle partie de la fenêtre correspond à une coordonnée d’écran particulière. Cela peut se produire, par exemple, lorsque le curseur se déplace, lorsqu’un bouton de la souris est enfoncé ou relâché, ou en réponse à un appel à une fonction telle que [**WindowFromPoint**](/windows/desktop/api/winuser/nf-winuser-windowfrompoint). Si la souris n’est pas capturée, le message est envoyé à la fenêtre située sous le curseur. Dans le cas contraire, le message est envoyé à la fenêtre qui a capturé la souris.<br/> |
| [**\_NCLBUTTONDBLCLK WM**](wm-nclbuttondblclk.md) | Publié lorsque l’utilisateur double-clique sur le bouton gauche de la souris alors que le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                         |
| [**\_NCLBUTTONDOWN WM**](wm-nclbuttondown.md)     | Publié lorsque l’utilisateur appuie sur le bouton gauche de la souris lorsque le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                               |
| [**\_NCLBUTTONUP WM**](wm-nclbuttonup.md)         | Publié lorsque l’utilisateur relâche le bouton gauche de la souris alors que le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                              |
| [**\_NCMBUTTONDBLCLK WM**](wm-ncmbuttondblclk.md) | Publié lorsque l’utilisateur double-clique sur le bouton central de la souris lorsque le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                       |
| [**\_NCMBUTTONDOWN WM**](wm-ncmbuttondown.md)     | Publié lorsque l’utilisateur appuie sur le bouton central de la souris lorsque le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                             |
| [**\_NCMBUTTONUP WM**](wm-ncmbuttonup.md)         | Publié lorsque l’utilisateur relâche le bouton central de la souris alors que le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                            |
| [**\_NCMOUSEHOVER WM**](wm-ncmousehover.md)       | Publié dans une fenêtre lorsque le curseur pointe sur la zone non cliente de la fenêtre pendant la période spécifiée dans un appel antérieur à [**TrackMouseEvent**](/windows/win32/api/winuser/nf-winuser-trackmouseevent).<br/>                                                                                                                                                                                                                                                                                             |
| [**\_NCMOUSELEAVE WM**](wm-ncmouseleave.md)       | Publié dans une fenêtre lorsque le curseur quitte la zone non cliente de la fenêtre spécifiée dans un appel antérieur à [**TrackMouseEvent**](/windows/win32/api/winuser/nf-winuser-trackmouseevent).<br/>                                                                                                                                                                                                                                                                                                                         |
| [**\_NCMOUSEMOVE WM**](wm-ncmousemove.md)         | Publié dans une fenêtre lorsque le curseur est déplacé dans la zone non cliente de la fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                                                        |
| [**\_NCRBUTTONDBLCLK WM**](wm-ncrbuttondblclk.md) | Publié lorsque l’utilisateur double-clique avec le bouton droit de la souris alors que le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                        |
| [**\_NCRBUTTONDOWN WM**](wm-ncrbuttondown.md)     | Publié lorsque l’utilisateur appuie sur le bouton droit de la souris alors que le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                              |
| [**\_NCRBUTTONUP WM**](wm-ncrbuttonup.md)         | Publié lorsque l’utilisateur relâche le bouton droit de la souris alors que le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                             |
| [**\_NCXBUTTONDBLCLK WM**](wm-ncxbuttondblclk.md) | Publié lorsque l’utilisateur double-clique sur le premier ou le second bouton X lorsque le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                      |
| [**\_NCXBUTTONDOWN WM**](wm-ncxbuttondown.md)     | Publié lorsque l’utilisateur appuie sur le premier ou le second bouton X lorsque le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                            |
| [**\_NCXBUTTONUP WM**](wm-ncxbuttonup.md)         | Publié lorsque l’utilisateur relâche le premier ou le second bouton X lorsque le curseur se trouve dans la zone non cliente d’une fenêtre. Ce message est publié dans la fenêtre qui contient le curseur. Si une fenêtre a capturé la souris, ce message n’est pas publié.<br/>                                                                                                                                                                                                                           |
| [**\_RBUTTONDBLCLK WM**](wm-rbuttondblclk.md)     | Publié lorsque l’utilisateur double-clique avec le bouton droit de la souris alors que le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                            |
| [**\_RBUTTONDOWN WM**](wm-rbuttondown.md)         | Publié lorsque l’utilisateur appuie sur le bouton droit de la souris alors que le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                                  |
| [**\_RBUTTONUP WM**](wm-rbuttonup.md)             | Publié lorsque l’utilisateur relâche le bouton droit de la souris alors que le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                                 |
| [**\_XBUTTONDBLCLK WM**](wm-xbuttondblclk.md)     | Publié lorsque l’utilisateur double-clique sur le premier ou le second bouton X lorsque le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                      |
| [**\_XBUTTONDOWN WM**](wm-xbuttondown.md)         | Publié lorsque l’utilisateur appuie sur le premier ou le second bouton X lorsque le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris. <br/>                                                                                                                                                                                           |
| [**\_XBUTTONUP WM**](wm-xbuttonup.md)             | Publié lorsque l’utilisateur relâche le premier ou le second bouton X lorsque le curseur se trouve dans la zone cliente d’une fenêtre. Si la souris n’est pas capturée, le message est publié dans la fenêtre sous le curseur. Dans le cas contraire, le message est publié dans la fenêtre qui a capturé la souris.<br/>                                                                                                                                                                                           |



 

### <a name="structures"></a>Structures



| Nom                                           | Description                                                                                                                                                                        |
|------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**MOUSEMOVEPOINT**](/windows/win32/api/winuser/ns-winuser-mousemovepoint)       | Contient des informations sur l’emplacement de la souris en coordonnées d’écran.<br/>                                                                                                  |
| [**TRACKMOUSEEVENT**](/windows/win32/api/winuser/ns-winuser-trackmouseevent) | Utilisé par la fonction [**TrackMouseEvent**](/windows/win32/api/winuser/nf-winuser-trackmouseevent) pour effectuer le suivi lorsque le pointeur de la souris quitte une fenêtre ou se positionne sur une fenêtre pendant un laps de temps spécifié.<br/> |



 

 

