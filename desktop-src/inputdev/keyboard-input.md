---
title: Entrée au clavier (entrée clavier et souris)
description: Cette section explique comment le système génère une entrée au clavier et comment une application reçoit et traite cette entrée.
ms.assetid: vs|winui|~\winui\windowsuserinterface\userinput\keyboardinput.htm
keywords:
- entrée d’utilisateur, entrée au clavier
- capture de l’entrée utilisateur, entrée au clavier
- entrée au clavier
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 249e42a97c0848a9935fe700a0408989cbab90abc53c9ac2da6c7ef56fbc31da
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/11/2021
ms.locfileid: "118757588"
---
# <a name="keyboard-input-keyboard-and-mouse-input"></a>Entrée au clavier (entrée clavier et souris)

Cette section décrit comment le système génère une entrée au clavier et comment une application reçoit et traite cette entrée.

### <a name="in-this-section"></a>Dans cette section



| Nom                                                     | Description                                                       |
|----------------------------------------------------------|-------------------------------------------------------------------|
| [À propos de l’entrée au clavier](about-keyboard-input.md)         | Discute de l’entrée au clavier.<br/>                              |
| [Utilisation de l’entrée au clavier](using-keyboard-input.md)         | Couvre les tâches associées à l’entrée au clavier. <br/> |
| [Référence d’entrée du clavier](keyboard-input-reference.md) | Contient la référence de l’API.<br/>                            |



 

### <a name="functions"></a>Fonctions



| Nom                                                     | Description                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) | Définit l’identificateur de paramètres régionaux d’entrée (anciennement appelé handle de disposition de clavier) pour le thread appelant ou le processus actuel. L’identificateur de paramètres régionaux d’entrée spécifie des paramètres régionaux, ainsi que la disposition physique du clavier.<br/>                                                                                                                                                                |
| [**BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput)                         | Empêche les événements d’entrée de clavier et de souris d’atteindre les applications. <br/>                                                                                                                                                                                                                                                                                                                        |
| [**EnableWindow**](/windows/win32/api/winuser/nf-winuser-enablewindow)                     | Active ou désactive l’entrée de la souris et du clavier dans la fenêtre ou le contrôle spécifié. Quand l’entrée est désactivée, la fenêtre ne reçoit pas d’entrée telles que des clics de souris et des frappes de touches. Quand l’entrée est activée, la fenêtre reçoit toutes les entrées.<br/>                                                                                                                                                     |
| [**GetActiveWindow**](/windows/win32/api/winuser/nf-winuser-getactivewindow)               | Récupère le handle de fenêtre de la fenêtre active jointe à la file d’attente de messages du thread appelant. <br/>                                                                                                                                                                                                                                                                                          |
| [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate)             | Détermine si une touche est vers le haut ou vers le haut au moment où la fonction est appelée, et si la touche a été enfoncée après un appel précédent à [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate). <br/>                                                                                                                                                                                                         |
| [**Focus**](/windows/win32/api/winuser/nf-winuser-getfocus)                             | Récupère le handle de la fenêtre qui a le focus clavier, si la fenêtre est attachée à la file d’attente de messages du thread appelant. <br/>                                                                                                                                                                                                                                                          |
| [**GetKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout)           | Récupère l’identificateur de paramètres régionaux d’entrée actif (anciennement appelé disposition de clavier) pour le thread spécifié. Si le paramètre *idThread* est égal à zéro, l’identificateur de paramètres régionaux d’entrée pour le thread actif est retourné.<br/>                                                                                                                                                                           |
| [**GetKeyboardLayoutList**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist)   | Récupère les identificateurs de paramètres régionaux d’entrée (autrefois appelés handles de disposition de clavier) correspondant à l’ensemble actuel de paramètres régionaux d’entrée dans le système. La fonction copie les identificateurs dans la mémoire tampon spécifiée.<br/>                                                                                                                                                                             |
| [**GetKeyboardLayoutName**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea)   | Récupère le nom de l’identificateur de paramètres régionaux d’entrée actif (anciennement appelé disposition de clavier). <br/>                                                                                                                                                                                                                                                                                           |
| [**GetKeyboardState**](/windows/win32/api/winuser/nf-winuser-getkeyboardstate)             | Copie l’état des clés virtuelles 256 dans la mémoire tampon spécifiée. <br/>                                                                                                                                                                                                                                                                                                                        |
| [**GetKeyNameText**](/windows/win32/api/winuser/nf-winuser-getkeynametexta)                 | Récupère une chaîne qui représente le nom d’une clé. <br/>                                                                                                                                                                                                                                                                                                                                     |
| [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate)                       | Récupère l’état de la clé virtuelle spécifiée. L’État spécifie si la touche est en haut, en-dessous ou bascule (activé, désactivé chaque fois que la touche est enfoncée). <br/>                                                                                                                                                                                                                       |
| [**GetLastInputInfo**](/windows/win32/api/winuser/nf-winuser-getlastinputinfo)             | Récupère l’heure du dernier événement d’entrée.<br/>                                                                                                                                                                                                                                                                                                                                                |
| [**IsWindowEnabled**](/windows/win32/api/winuser/nf-winuser-iswindowenabled)               | Détermine si la fenêtre spécifiée est activée pour l’entrée de la souris et du clavier. <br/>                                                                                                                                                                                                                                                                                                          |
| [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta)         | Charge un nouvel identificateur de paramètres régionaux d’entrée (anciennement appelé disposition de clavier) dans le système. Plusieurs identificateurs de paramètres régionaux d’entrée peuvent être chargés à la fois, mais un seul par processus est actif à la fois. Le chargement de plusieurs identificateurs de paramètres régionaux d’entrée permet de passer rapidement de l’un à l’autre.<br/>                                                                                             |
| [**MapVirtualKey**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya)                   | Convertit (mappe) un code de clé virtuelle en code d’analyse ou valeur de caractère, ou convertit un code d’analyse en un code de clé virtuelle. <br/> Pour spécifier un handle vers la disposition de clavier à utiliser pour la traduction du code spécifié, utilisez la fonction [**MapVirtualKeyEx**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeyexa) .<br/>                                                                                                |
| [**MapVirtualKeyEx**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeyexa)               | Cartes un code de clé virtuelle dans un code d’analyse ou une valeur de caractère, ou convertit un code d’analyse en un code de clé virtuelle. La fonction traduit les codes à l’aide de la langue d’entrée et d’un identificateur de paramètres régionaux d’entrée.<br/>                                                                                                                                                                                 |
| [**OemKeyScan**](/windows/win32/api/winuser/nf-winuser-oemkeyscan)                         | Cartes OEMASCII code 0 à 0x0FF dans les codes d’analyse OEM et les États de décalage. La fonction fournit des informations qui permettent à un programme d’envoyer du texte OEM à un autre programme en simulant l’entrée au clavier. <br/>                                                                                                                                                                                   |
| [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey)                 | Définit une touche d’accès rapide à l’ensemble du système.<br/>                                                                                                                                                                                                                                                                                                                                                             |
| [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput)                           | Synthétise les séquences de touches, les mouvements de souris et les clics de bouton.<br/>                                                                                                                                                                                                                                                                                                                                  |
| [**SetActiveWindow**](/windows/win32/api/winuser/nf-winuser-setactivewindow)               | Active une fenêtre. La fenêtre doit être attachée à la file d’attente de messages du thread appelant. <br/>                                                                                                                                                                                                                                                                                                    |
| [**SetFocus**](/windows/win32/api/winuser/nf-winuser-setfocus)                             | Définit le focus clavier sur la fenêtre spécifiée. La fenêtre doit être attachée à la file d’attente de messages du thread appelant. <br/>                                                                                                                                                                                                                                                                       |
| [**SetKeyboardState**](/windows/win32/api/winuser/nf-winuser-setkeyboardstate)             | Copie un tableau de 256 octets d’États de clé clavier dans la table d’état d’entrée du clavier du thread appelant. Il s’agit de la même table accessible par les fonctions [**GetKeyboardState**](/windows/win32/api/winuser/nf-winuser-getkeyboardstate) et [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate) . Les modifications apportées à cette table n’affectent pas l’entrée au clavier pour un autre thread. <br/>                                                                   |
| [**ToAscii**](/windows/win32/api/winuser/nf-winuser-toascii)                               | Convertit le code de touche virtuelle et l’état du clavier spécifiés en caractères correspondants. La fonction convertit le code à l’aide de la langue d’entrée et de la disposition du clavier physique identifiée par la poignée de disposition du clavier.<br/> Pour spécifier un handle vers la disposition de clavier à utiliser pour traduire le code spécifié, utilisez la fonction [**ToAsciiEx**](/windows/win32/api/winuser/nf-winuser-toasciiex) .<br/> |
| [**ToAsciiEx**](/windows/win32/api/winuser/nf-winuser-toasciiex)                           | Convertit le code de touche virtuelle et l’état du clavier spécifiés en caractères correspondants. La fonction convertit le code à l’aide de la langue d’entrée et de la disposition du clavier physique identifiée par l’identificateur de paramètres régionaux d’entrée.<br/>                                                                                                                                               |
| [**ToUnicode**](/windows/win32/api/winuser/nf-winuser-tounicode)                           | Convertit le code de touche virtuelle et l’état du clavier spécifiés en caractères Unicode correspondants. <br/> Pour spécifier un handle vers la disposition de clavier à utiliser pour traduire le code spécifié, utilisez la fonction [**ToUnicodeEx**](/windows/win32/api/winuser/nf-winuser-tounicodeex) .<br/>                                                                                                                     |
| [**ToUnicodeEx**](/windows/win32/api/winuser/nf-winuser-tounicodeex)                       | Convertit le code de touche virtuelle et l’état du clavier spécifiés en caractères Unicode correspondants.<br/>                                                                                                                                                                                                                                                                         |
| [**UnloadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout)     | Décharge un identificateur de paramètres régionaux d’entrée (anciennement appelé disposition de clavier). <br/>                                                                                                                                                                                                                                                                                                                   |
| [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey)             | Libère une touche d’accès rapide précédemment inscrite par le thread appelant. <br/>                                                                                                                                                                                                                                                                                                                              |
| [**VkKeyScanEx**](/windows/win32/api/winuser/nf-winuser-vkkeyscanexa)                       | Convertit un caractère en code de touche virtuelle et état de décalage correspondants. La fonction convertit le caractère à l’aide de la langue d’entrée et de la disposition de clavier physique identifiée par l’identificateur de paramètres régionaux d’entrée. <br/>                                                                                                                                                                      |



 

Les fonctions suivantes sont obsolètes.



| Fonction                               | Description                                                                                                                                                                                                                                                                   |
|----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**GetKBCodePage**](/windows/win32/api/winuser/nf-winuser-getkbcodepage) | Récupère la page de codes actuelle.<br/>                                                                                                                                                                                                                                   |
| [**\_événement keybd**](/windows/win32/api/winuser/nf-winuser-keybd_event)    | Synthétise une séquence de touches. Le système peut utiliser une telle séquence de touches synthétisées pour générer un message [**WM \_ KEYUP**](wm-keyup.md) ou [**WM \_**](wm-keydown.md) KeyOut. Le gestionnaire d’interruption du pilote de clavier appelle la fonction d' [**\_ événement keybd**](/windows/win32/api/winuser/nf-winuser-keybd_event) .<br/> |
| [**VkKeyScan**](/windows/win32/api/winuser/nf-winuser-vkkeyscana)         | Convertit un caractère en code de touche virtuelle et état de décalage correspondants pour le clavier actuel.<br/>                                                                                                                                                             |



 

### <a name="messages"></a>Messages



| Nom                                  | Description                                                                                                           |
|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| [**\_GETHOTKEY WM**](wm-gethotkey.md) | Détermine la touche d’accès rapide associée à une fenêtre. <br/>                                                          |
| [**\_SETHOTKEY WM**](wm-sethotkey.md) | Associe une touche d’accès rapide à la fenêtre. Quand l’utilisateur appuie sur la touche d’accès rapide, le système active la fenêtre. <br/> |



 

### <a name="notifications"></a>Notifications



| Nom                                      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**activation de WM \_**](wm-activate.md)       | Envoyé à la fenêtre en cours d’activation et à la fenêtre désactivée. Si les fenêtres utilisent la même file d’attente d’entrée, le message est envoyé de manière synchrone, d’abord à la procédure de fenêtre de la fenêtre de niveau supérieur désactivée, puis à la procédure de fenêtre de la fenêtre de niveau supérieur en cours d’activation. Si les fenêtres utilisent des files d’attente d’entrée différentes, le message est envoyé de manière asynchrone, de sorte que la fenêtre est activée immédiatement. <br/>                                                                                                                               |
| [**\_APPCOMMAND WM**](wm-appcommand.md)   | Avertit une fenêtre que l’utilisateur a généré un événement de commande d’application, par exemple, en cliquant sur un bouton de commande d’application à l’aide de la souris ou en tapant une touche de commande d’application sur le clavier.<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**\_caractère WM**](wm-char.md)               | Publié dans la fenêtre qui a le focus clavier lorsqu’un message de [**\_ keyversion WM**](wm-keydown.md) est traduit par la fonction [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) . Le message [**WM \_ char**](wm-char.md) contient le code de caractère de la touche qui a été enfoncée. <br/>                                                                                                                                                                                                                                                                             |
| [**\_DEADCHAR WM**](wm-deadchar.md)       | Publié dans la fenêtre qui a le focus clavier lorsqu’un message [**WM \_ KEYUP**](wm-keyup.md) est traduit par la fonction [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) . [**WM \_ DEADCHAR**](wm-deadchar.md) spécifie un code de caractère généré par une clé morte. Une clé morte est une clé qui génère un caractère, tel que le tréma (double point), qui est combiné avec un autre caractère pour former un caractère composite. Par exemple, le caractère Umlaut-O () est généré en tapant la touche morte pour le caractère tréma, puis en tapant la touche O. <br/> |
| [**\_touche de raccourci WM**](wm-hotkey.md)           | Publié lorsque l’utilisateur appuie sur une touche d’accès rapide enregistrée par la fonction [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) . Le message est placé en haut de la file d’attente de messages associée au thread qui a enregistré la touche d’accès rapide. <br/>                                                                                                                                                                                                                                                                                                                                 |
| [**WM- \_ touche**](wm-keydown.md)         | Publié dans la fenêtre qui a le focus clavier lorsqu’une touche non-système est enfoncée. Une touche non-système est une touche qui est enfoncée lorsque la touche ALT n’est pas enfoncée. <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**WM \_ KEYUP**](wm-keyup.md)             | Publié dans la fenêtre qui a le focus clavier lorsqu’une touche non-système est relâchée. Une touche non-système est une touche qui est enfoncée lorsque la touche ALT n’est pas enfoncée ou une touche du clavier qui est enfoncée lorsqu’une fenêtre a le focus clavier. <br/>                                                                                                                                                                                                                                                                                                                          |
| [**\_KILLFOCUS WM**](wm-killfocus.md)     | Envoyé à une fenêtre juste avant de perdre le focus clavier. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**WM \_ SetFocus**](wm-setfocus.md)       | Envoyé à une fenêtre après qu’il a obtenu le focus clavier. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [**\_SYSDEADCHAR WM**](wm-sysdeadchar.md) | Envoyé à la fenêtre avec le focus clavier lorsqu’un message [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) est traduit par la fonction [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) . [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md) spécifie le code de caractère d’une clé morte du système, c’est-à-dire une touche morte enfoncée tout en maintenant la touche Alt enfoncée. <br/>                                                                                                                                                                                                        |
| [**\_SYSKEYDOWN WM**](wm-syskeydown.md)   | Publié dans la fenêtre qui a le focus clavier lorsque l’utilisateur appuie sur la touche F10 (qui active la barre de menus) ou maintient la touche ALT enfoncée, puis appuie sur une autre touche. Elle se produit également lorsqu’aucune fenêtre n’a actuellement le focus clavier. dans ce cas, le message [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) est envoyé à la fenêtre active. La fenêtre qui reçoit le message peut faire la distinction entre ces deux contextes en vérifiant le code de contexte dans le paramètre *lParam* . <br/>                                                                             |
| [**\_SYSKEYUP WM**](wm-syskeyup.md)       | Publié dans la fenêtre qui a le focus clavier lorsque l’utilisateur relâche une touche qui a été enfoncée alors que la touche ALT était maintenue enfoncée. Elle se produit également lorsqu’aucune fenêtre n’a actuellement le focus clavier. dans ce cas, le message [**WM \_ SYSKEYUP**](wm-syskeyup.md) est envoyé à la fenêtre active. La fenêtre qui reçoit le message peut faire la distinction entre ces deux contextes en vérifiant le code de contexte dans le paramètre *lParam* . <br/>                                                                                                                           |
| [**\_UNICHAR WM**](wm-unichar.md)         | Publié dans la fenêtre qui a le focus clavier lorsqu’un message de [**\_ keyversion WM**](wm-keydown.md) est traduit par la fonction [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) . Le message [**WM \_ UNICHAR**](wm-unichar.md) contient le code de caractère de la touche qui a été enfoncée.<br/>                                                                                                                                                                                                                                                                        |



 

### <a name="structures"></a>Structures



| Nom                                   | Description                                                                                                              |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| [**HARDWAREINPUT**](/windows/win32/api/winuser/ns-winuser-hardwareinput) | Contient des informations sur un message simulé généré par un périphérique d’entrée autre qu’un clavier ou une souris. <br/>  |
| [**ENTRÉE**](/windows/win32/api/winuser/ns-winuser-input)                 | Contient des informations utilisées pour la synthèse des événements d’entrée tels que les séquences de touches, le déplacement de la souris et les clics de souris.<br/> |
| [**KEYBDINPUT**](/windows/win32/api/winuser/ns-winuser-keybdinput)       | Contient des informations sur un événement de clavier simulé. <br/>                                                       |
| [**LASTINPUTINFO**](/windows/win32/api/winuser/ns-winuser-lastinputinfo) | Contient l’heure de la dernière entrée.<br/>                                                                          |
| [**MOUSEINPUT**](/windows/win32/api/winuser/ns-winuser-mouseinput)       | Contient des informations sur un événement de souris simulé.<br/>                                                           |



 

### <a name="constants"></a>Constantes



| Nom                                           | Description                                                                                                                                                                         |
|------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Codes de clé virtuelle**](virtual-key-codes.md) | Les noms de constantes symboliques, les valeurs hexadécimales et les équivalents de souris ou de clavier pour les codes de touche virtuelle utilisés par le système. Les codes sont répertoriés dans l’ordre numérique. <br/> |



 

 

