---
title: À propos de l’entrée de souris
description: Cette rubrique décrit l’entrée de la souris.
ms.assetid: 1f945a31-76d5-4e23-a55a-769ca114dbe9
keywords:
- entrée utilisateur, entrée de la souris
- capture de l’entrée utilisateur, entrée de la souris
- entrées de la souris
- curseur de la souris
- curseurs, entrée de la souris
- capture de la souris
- souris et verrouillage
- XBUTTONs
- configuration de la souris
- messages de la souris
- Message WM_NCHITTEST
- Fonctionnalité d’accessibilité de la souris
- Fonctionnalité d’accessibilité de la souris sonar
- roulette de la souris
- Message WM_MOUSEWHEEL
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f2294027cb4ca2c97371a7a06c90a7e46188e3b7
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/19/2020
ms.locfileid: "103726981"
---
# <a name="about-mouse-input"></a><span data-ttu-id="87a27-118">À propos de l’entrée de souris</span><span class="sxs-lookup"><span data-stu-id="87a27-118">About Mouse Input</span></span>

<span data-ttu-id="87a27-119">La souris est un appareil d’entrée utilisateur important, mais facultatif pour les applications.</span><span class="sxs-lookup"><span data-stu-id="87a27-119">The mouse is an important, but optional, user-input device for applications.</span></span> <span data-ttu-id="87a27-120">Une application bien écrite doit inclure une interface de souris, mais elle ne doit pas dépendre uniquement de la souris pour acquérir une entrée d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="87a27-120">A well-written application should include a mouse interface, but it should not depend solely on the mouse for acquiring user input.</span></span> <span data-ttu-id="87a27-121">L’application doit également fournir une prise en charge complète du clavier.</span><span class="sxs-lookup"><span data-stu-id="87a27-121">The application should provide full keyboard support as well.</span></span>

<span data-ttu-id="87a27-122">Une application reçoit l’entrée de la souris sous la forme de messages envoyés ou publiés dans son Windows.</span><span class="sxs-lookup"><span data-stu-id="87a27-122">An application receives mouse input in the form of messages that are sent or posted to its windows.</span></span>

<span data-ttu-id="87a27-123">Cette section couvre les sujets suivants :</span><span class="sxs-lookup"><span data-stu-id="87a27-123">This section covers the following topics:</span></span>

-   [<span data-ttu-id="87a27-124">Curseur de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-124">Mouse Cursor</span></span>](#mouse-cursor)
-   [<span data-ttu-id="87a27-125">Capture de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-125">Mouse Capture</span></span>](#mouse-capture)
-   [<span data-ttu-id="87a27-126">Souris et verrouillage</span><span class="sxs-lookup"><span data-stu-id="87a27-126">Mouse ClickLock</span></span>](#mouse-clicklock)
-   [<span data-ttu-id="87a27-127">Configuration de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-127">Mouse Configuration</span></span>](#mouse-configuration)
-   [<span data-ttu-id="87a27-128">XBUTTONs</span><span class="sxs-lookup"><span data-stu-id="87a27-128">XBUTTONs</span></span>](#xbuttons)
-   [<span data-ttu-id="87a27-129">Messages de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-129">Mouse Messages</span></span>](#mouse-messages)
    -   [<span data-ttu-id="87a27-130">Messages de la souris de la zone cliente</span><span class="sxs-lookup"><span data-stu-id="87a27-130">Client Area Mouse Messages</span></span>](#client-area-mouse-messages)
    -   [<span data-ttu-id="87a27-131">Messages de souris de la zone non cliente</span><span class="sxs-lookup"><span data-stu-id="87a27-131">Nonclient Area Mouse Messages</span></span>](#nonclient-area-mouse-messages)
    -   [<span data-ttu-id="87a27-132">Message WM \_ NCHITTEST</span><span class="sxs-lookup"><span data-stu-id="87a27-132">The WM\_NCHITTEST Message</span></span>](/windows)
-   [<span data-ttu-id="87a27-133">Sonar de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-133">Mouse Sonar</span></span>](#mouse-sonar)
-   [<span data-ttu-id="87a27-134">Disparition de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-134">Mouse Vanish</span></span>](#mouse-vanish)
-   [<span data-ttu-id="87a27-135">Roulette de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-135">The Mouse Wheel</span></span>](#the-mouse-wheel)
-   [<span data-ttu-id="87a27-136">Activation de la fenêtre</span><span class="sxs-lookup"><span data-stu-id="87a27-136">Window Activation</span></span>](#window-activation)

## <a name="mouse-cursor"></a><span data-ttu-id="87a27-137">Curseur de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-137">Mouse Cursor</span></span>

<span data-ttu-id="87a27-138">Lorsque l’utilisateur déplace la souris, le système déplace un bitmap sur l’écran appelé le *curseur* de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-138">When the user moves the mouse, the system moves a bitmap on the screen called the *mouse cursor*.</span></span> <span data-ttu-id="87a27-139">Le curseur de la souris contient un point d’une seule pixel appelée zone *réactive*, un point que le système suit et reconnaît comme position du curseur.</span><span class="sxs-lookup"><span data-stu-id="87a27-139">The mouse cursor contains a single-pixel point called the *hot spot*, a point that the system tracks and recognizes as the position of the cursor.</span></span> <span data-ttu-id="87a27-140">Lorsqu’un événement de souris se produit, la fenêtre qui contient la zone réactive reçoit généralement le message de souris résultant de l’événement.</span><span class="sxs-lookup"><span data-stu-id="87a27-140">When a mouse event occurs, the window that contains the hot spot typically receives the mouse message resulting from the event.</span></span> <span data-ttu-id="87a27-141">La fenêtre n’a pas besoin d’être active ou a le focus clavier pour recevoir un message de souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-141">The window need not be active or have the keyboard focus to receive a mouse message.</span></span>

<span data-ttu-id="87a27-142">Le système gère une variable qui contrôle la vitesse de la souris, c’est-à-dire la distance de déplacement du curseur lorsque l’utilisateur déplace la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-142">The system maintains a variable that controls mouse speed—that is, the distance the cursor moves when the user moves the mouse.</span></span> <span data-ttu-id="87a27-143">Vous pouvez utiliser la fonction [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) avec l’indicateur **SPI \_ GETMOUSE** ou **SPI \_ SETMOUSE** pour récupérer ou définir la vitesse de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-143">You can use the [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) function with the **SPI\_GETMOUSE** or **SPI\_SETMOUSE** flag to retrieve or set mouse speed.</span></span> <span data-ttu-id="87a27-144">Pour plus d’informations sur les curseurs de la souris, consultez [curseurs](/windows/desktop/menurc/cursors).</span><span class="sxs-lookup"><span data-stu-id="87a27-144">For more information about mouse cursors, see [Cursors](/windows/desktop/menurc/cursors).</span></span>

## <a name="mouse-capture"></a><span data-ttu-id="87a27-145">Capture de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-145">Mouse Capture</span></span>

<span data-ttu-id="87a27-146">Le système publie généralement un message de souris dans la fenêtre qui contient la zone réactive du curseur lorsqu’un événement de souris se produit.</span><span class="sxs-lookup"><span data-stu-id="87a27-146">The system typically posts a mouse message to the window that contains the cursor hot spot when a mouse event occurs.</span></span> <span data-ttu-id="87a27-147">Une application peut modifier ce comportement à l’aide de la fonction [**SetCapture**](/windows/win32/api/winuser/nf-winuser-setcapture) pour acheminer les messages de la souris vers une fenêtre spécifique.</span><span class="sxs-lookup"><span data-stu-id="87a27-147">An application can change this behavior by using the [**SetCapture**](/windows/win32/api/winuser/nf-winuser-setcapture) function to route mouse messages to a specific window.</span></span> <span data-ttu-id="87a27-148">La fenêtre reçoit tous les messages de la souris jusqu’à ce que l’application appelle la fonction [**ReleaseCapture**](/windows/win32/api/winuser/nf-winuser-releasecapture) ou spécifie une autre fenêtre de capture, ou jusqu’à ce que l’utilisateur clique sur une fenêtre créée par un autre thread.</span><span class="sxs-lookup"><span data-stu-id="87a27-148">The window receives all mouse messages until the application calls the [**ReleaseCapture**](/windows/win32/api/winuser/nf-winuser-releasecapture) function or specifies another capture window, or until the user clicks a window created by another thread.</span></span>

<span data-ttu-id="87a27-149">Lorsque la capture de la souris change, le système envoie un message [**WM \_ CAPTURECHANGED**](wm-capturechanged.md) à la fenêtre qui perd la capture de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-149">When the mouse capture changes, the system sends a [**WM\_CAPTURECHANGED**](wm-capturechanged.md) message to the window that is losing the mouse capture.</span></span> <span data-ttu-id="87a27-150">Le paramètre *lParam* du message spécifie un handle vers la fenêtre qui obtient la capture de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-150">The *lParam* parameter of the message specifies a handle to the window that is gaining the mouse capture.</span></span>

<span data-ttu-id="87a27-151">Seule la fenêtre de premier plan peut capturer l’entrée de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-151">Only the foreground window can capture mouse input.</span></span> <span data-ttu-id="87a27-152">Quand une fenêtre d’arrière-plan tente de capturer l’entrée de la souris, elle reçoit des messages uniquement pour les événements de souris qui se produisent lorsque la zone réactive du curseur se trouve dans la partie visible de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-152">When a background window attempts to capture mouse input, it receives messages only for mouse events that occur when the cursor hot spot is within the visible portion of the window.</span></span>

<span data-ttu-id="87a27-153">La capture de l’entrée de la souris est utile si une fenêtre doit recevoir toutes les entrées de la souris, même lorsque le curseur se déplace à l’extérieur de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-153">Capturing mouse input is useful if a window must receive all mouse input, even when the cursor moves outside the window.</span></span> <span data-ttu-id="87a27-154">Par exemple, une application suit généralement la position du curseur après un événement de pointage de la souris, à la suite du curseur, jusqu’à ce qu’un événement de souris vers le haut se produise.</span><span class="sxs-lookup"><span data-stu-id="87a27-154">For example, an application typically tracks the cursor position after a mouse button down event, following the cursor until a mouse button up event occurs.</span></span> <span data-ttu-id="87a27-155">Si une application n’a pas capturé d’entrée de souris et que l’utilisateur relâche le bouton de la souris en dehors de la fenêtre, la fenêtre ne reçoit pas le message de bouton.</span><span class="sxs-lookup"><span data-stu-id="87a27-155">If an application has not captured mouse input and the user releases the mouse button outside the window, the window does not receive the button-up message.</span></span>

<span data-ttu-id="87a27-156">Un thread peut utiliser la fonction [**GetCapture**](/windows/win32/api/winuser/nf-winuser-getcapture) pour déterminer si l’une de ses fenêtres a capturé la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-156">A thread can use the [**GetCapture**](/windows/win32/api/winuser/nf-winuser-getcapture) function to determine whether one of its windows has captured the mouse.</span></span> <span data-ttu-id="87a27-157">Si l’une des fenêtres du thread a capturé la souris, **GetCapture** récupère un handle vers la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-157">If one of the thread's windows has captured the mouse, **GetCapture** retrieves a handle to the window.</span></span>

## <a name="mouse-clicklock"></a><span data-ttu-id="87a27-158">Souris et verrouillage</span><span class="sxs-lookup"><span data-stu-id="87a27-158">Mouse ClickLock</span></span>

<span data-ttu-id="87a27-159">La fonctionnalité d’accessibilité du verrouillage de la souris permet à un utilisateur de verrouiller le bouton principal de la souris après un seul clic.</span><span class="sxs-lookup"><span data-stu-id="87a27-159">The Mouse ClickLock accessibility feature enables a user lock down the primary mouse button after a single click.</span></span> <span data-ttu-id="87a27-160">Pour une application, le bouton semble toujours enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-160">To an application, the button still appears to be pressed down.</span></span> <span data-ttu-id="87a27-161">Pour déverrouiller le bouton, une application peut envoyer n’importe quel message de souris ou l’utilisateur peut cliquer sur n’importe quel bouton de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-161">To unlock the button, an application can send any mouse message or the user can click any mouse button.</span></span> <span data-ttu-id="87a27-162">Cette fonctionnalité permet à un utilisateur d’effectuer des combinaisons de souris complexes plus simplement.</span><span class="sxs-lookup"><span data-stu-id="87a27-162">This feature lets a user do complex mouse combinations more simply.</span></span> <span data-ttu-id="87a27-163">Par exemple, les utilisateurs ayant certaines limitations physiques peuvent mettre en surbrillance du texte, faire glisser des objets ou ouvrir des menus plus facilement.</span><span class="sxs-lookup"><span data-stu-id="87a27-163">For example, those with certain physical limitations can highlight text, drag objects, or open menus more easily.</span></span> <span data-ttu-id="87a27-164">Pour plus d’informations, consultez les indicateurs et les notes suivants dans [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa):</span><span class="sxs-lookup"><span data-stu-id="87a27-164">For more information, see the following flags and the Remarks in [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa):</span></span>

-   <span data-ttu-id="87a27-165">**SPI \_ GETMOUSECLICKLOCK**</span><span class="sxs-lookup"><span data-stu-id="87a27-165">**SPI\_GETMOUSECLICKLOCK**</span></span>
-   <span data-ttu-id="87a27-166">**SPI \_ SETMOUSECLICKLOCK**</span><span class="sxs-lookup"><span data-stu-id="87a27-166">**SPI\_SETMOUSECLICKLOCK**</span></span>
-   <span data-ttu-id="87a27-167">**SPI \_ GETMOUSECLICKLOCKTIME**</span><span class="sxs-lookup"><span data-stu-id="87a27-167">**SPI\_GETMOUSECLICKLOCKTIME**</span></span>
-   <span data-ttu-id="87a27-168">**SPI \_ SETMOUSECLICKLOCKTIME**</span><span class="sxs-lookup"><span data-stu-id="87a27-168">**SPI\_SETMOUSECLICKLOCKTIME**</span></span>

## <a name="mouse-configuration"></a><span data-ttu-id="87a27-169">Configuration de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-169">Mouse Configuration</span></span>

<span data-ttu-id="87a27-170">Bien que la souris soit un appareil d’entrée important pour les applications, tous les utilisateurs n’ont pas nécessairement une souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-170">Although the mouse is an important input device for applications, not every user necessarily has a mouse.</span></span> <span data-ttu-id="87a27-171">Une application peut déterminer si le système comprend une souris en passant la valeur de **\_ MOUSEPRESENT SM** à la fonction [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) .</span><span class="sxs-lookup"><span data-stu-id="87a27-171">An application can determine whether the system includes a mouse by passing the **SM\_MOUSEPRESENT** value to the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function.</span></span>

<span data-ttu-id="87a27-172">Windows prend en charge une souris comportant jusqu’à trois boutons.</span><span class="sxs-lookup"><span data-stu-id="87a27-172">Windows supports a mouse having up to three buttons.</span></span> <span data-ttu-id="87a27-173">Sur une souris à trois boutons, les boutons sont désignés comme des boutons gauche, central et droit.</span><span class="sxs-lookup"><span data-stu-id="87a27-173">On a three-button mouse, the buttons are designated as the left, middle, and right buttons.</span></span> <span data-ttu-id="87a27-174">Les messages et les constantes nommées associées aux boutons de la souris utilisent les lettres L, M et R pour identifier les boutons.</span><span class="sxs-lookup"><span data-stu-id="87a27-174">Messages and named constants related to the mouse buttons use the letters L, M, and R to identify the buttons.</span></span> <span data-ttu-id="87a27-175">Le bouton d’une souris à bouton unique est considéré comme le bouton gauche.</span><span class="sxs-lookup"><span data-stu-id="87a27-175">The button on a single-button mouse is considered to be the left button.</span></span> <span data-ttu-id="87a27-176">Bien que Windows prenne en charge une souris avec plusieurs boutons, la plupart des applications utilisent le bouton gauche principalement et les autres au minimum, si ce n’est du tout.</span><span class="sxs-lookup"><span data-stu-id="87a27-176">Although Windows supports a mouse with multiple buttons, most applications use the left button primarily and the others minimally, if at all.</span></span>

<span data-ttu-id="87a27-177">Les applications peuvent également prendre en charge une roulette de souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-177">Applications can also support a mouse wheel.</span></span> <span data-ttu-id="87a27-178">La roulette de la souris peut être appuyée ou pivotée.</span><span class="sxs-lookup"><span data-stu-id="87a27-178">The mouse wheel can be pressed or rotated.</span></span> <span data-ttu-id="87a27-179">Lorsque la roulette de la souris est enfoncée, elle agit en tant que bouton central (troisième) et envoie les messages normaux du bouton central à votre application.</span><span class="sxs-lookup"><span data-stu-id="87a27-179">When the mouse wheel is pressed, it acts as the middle (third) button, sending normal middle button messages to your application.</span></span> <span data-ttu-id="87a27-180">Lorsqu’il est pivoté, un message de roulette est envoyé à votre application.</span><span class="sxs-lookup"><span data-stu-id="87a27-180">When it is rotated, a wheel message is sent to your application.</span></span> <span data-ttu-id="87a27-181">Pour plus d’informations, consultez [la section roulette de la souris](#the-mouse-wheel) .</span><span class="sxs-lookup"><span data-stu-id="87a27-181">For more information, see [The Mouse Wheel](#the-mouse-wheel) section.</span></span>

<span data-ttu-id="87a27-182">Les applications peuvent prendre en charge les boutons de commande d’application.</span><span class="sxs-lookup"><span data-stu-id="87a27-182">Applications can support application-command buttons.</span></span> <span data-ttu-id="87a27-183">Ces boutons, appelés boutons X, sont conçus pour permettre un accès plus facile à un navigateur Internet, à la messagerie électronique et aux services de média.</span><span class="sxs-lookup"><span data-stu-id="87a27-183">These buttons, called X buttons, are designed to allow easier access to an Internet browser, electronic mail, and media services.</span></span> <span data-ttu-id="87a27-184">Quand vous appuyez sur un bouton X, un message [**WM \_ APPCOMMAND**](wm-appcommand.md) est envoyé à votre application.</span><span class="sxs-lookup"><span data-stu-id="87a27-184">When an X button is pressed, a [**WM\_APPCOMMAND**](wm-appcommand.md) message is sent to your application.</span></span> <span data-ttu-id="87a27-185">Pour plus d’informations, consultez la description dans le message **WM \_ APPCOMMAND** .</span><span class="sxs-lookup"><span data-stu-id="87a27-185">For more information, see the description in the **WM\_APPCOMMAND** message.</span></span>

<span data-ttu-id="87a27-186">Une application peut déterminer le nombre de boutons sur la souris en passant la valeur de **\_ CMOUSEBUTTONS SM** à la fonction [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) .</span><span class="sxs-lookup"><span data-stu-id="87a27-186">An application can determine the number of buttons on the mouse by passing the **SM\_CMOUSEBUTTONS** value to the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function.</span></span> <span data-ttu-id="87a27-187">Pour configurer la souris pour un utilisateur gauche, l’application peut utiliser la fonction [**SwapMouseButton**](/windows/win32/api/winuser/nf-winuser-swapmousebutton) pour inverser la signification des boutons gauche et droit de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-187">To configure the mouse for a left-handed user, the application can use the [**SwapMouseButton**](/windows/win32/api/winuser/nf-winuser-swapmousebutton) function to reverse the meaning of the left and right mouse buttons.</span></span> <span data-ttu-id="87a27-188">Le passage de la valeur **SPI \_ SETMOUSEBUTTONSWAP** à la fonction [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) est une autre façon d’inverser la signification des boutons.</span><span class="sxs-lookup"><span data-stu-id="87a27-188">Passing the **SPI\_SETMOUSEBUTTONSWAP** value to the [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) function is another way to reverse the meaning of the buttons.</span></span> <span data-ttu-id="87a27-189">Notez, cependant, que la souris est une ressource partagée, si bien que l’inversion de la signification des boutons affecte toutes les applications.</span><span class="sxs-lookup"><span data-stu-id="87a27-189">Note, however, that the mouse is a shared resource, so reversing the meaning of the buttons affects all applications.</span></span>

## <a name="xbuttons"></a><span data-ttu-id="87a27-190">XBUTTONs</span><span class="sxs-lookup"><span data-stu-id="87a27-190">XBUTTONs</span></span>

<span data-ttu-id="87a27-191">Windows prend en charge une souris avec cinq boutons.</span><span class="sxs-lookup"><span data-stu-id="87a27-191">Windows supports a mouse with five buttons.</span></span> <span data-ttu-id="87a27-192">Outre les boutons gauche, central et droit, il y a le bouton XButton1 et XBUTTON2, qui fournissent une navigation vers l’avant et vers l’arrière lors de l’utilisation de votre navigateur.</span><span class="sxs-lookup"><span data-stu-id="87a27-192">In addition to the left, middle, and right buttons there are XBUTTON1 and XBUTTON2, which provide backward and forward navigation when using your browser.</span></span>

<span data-ttu-id="87a27-193">Le gestionnaire de fenêtres prend en charge le bouton XButton1 et XBUTTON2 par le biais des messages **WM \_ XBUTTON \*** et **WM \_ NCXBUTTON \*** .</span><span class="sxs-lookup"><span data-stu-id="87a27-193">The window manager supports XBUTTON1 and XBUTTON2 through the **WM\_XBUTTON\*** and **WM\_NCXBUTTON\*** messages.</span></span> <span data-ttu-id="87a27-194">Le HIWORD du **wParam** dans ces messages contient un indicateur qui spécifie le bouton X sur lequel l’utilisateur a cliqué.</span><span class="sxs-lookup"><span data-stu-id="87a27-194">The HIWORD of the **WPARAM** in these messages contains a flag indicating which X button was pressed.</span></span> <span data-ttu-id="87a27-195">Étant donné que ces messages de souris tiennent également entre les constantes **WM \_ MOUSEFIRST** et **WM \_ MOUSELAST**, une application peut filtrer tous les messages de souris avec [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/desktop/api/winuser/nf-winuser-peekmessagea).</span><span class="sxs-lookup"><span data-stu-id="87a27-195">Because these mouse messages also fit between the constants **WM\_MOUSEFIRST** and **WM\_MOUSELAST**, an application can filter all mouse messages with [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/desktop/api/winuser/nf-winuser-peekmessagea).</span></span>

<span data-ttu-id="87a27-196">La prise en charge suivante le bouton XButton1 et XBUTTON2 :</span><span class="sxs-lookup"><span data-stu-id="87a27-196">The following support XBUTTON1 and XBUTTON2:</span></span>

-   [<span data-ttu-id="87a27-197">**\_APPCOMMAND WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-197">**WM\_APPCOMMAND**</span></span>](wm-appcommand.md)
-   [<span data-ttu-id="87a27-198">**\_NCXBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-198">**WM\_NCXBUTTONDBLCLK**</span></span>](wm-ncxbuttondblclk.md)
-   [<span data-ttu-id="87a27-199">**\_NCXBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-199">**WM\_NCXBUTTONDOWN**</span></span>](wm-ncxbuttondown.md)
-   [<span data-ttu-id="87a27-200">**\_NCXBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-200">**WM\_NCXBUTTONUP**</span></span>](wm-ncxbuttonup.md)
-   [<span data-ttu-id="87a27-201">**\_XBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-201">**WM\_XBUTTONDBLCLK**</span></span>](wm-xbuttondblclk.md)
-   [<span data-ttu-id="87a27-202">**\_XBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-202">**WM\_XBUTTONDOWN**</span></span>](wm-xbuttondown.md)
-   [<span data-ttu-id="87a27-203">**\_XBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-203">**WM\_XBUTTONUP**</span></span>](wm-xbuttonup.md)
-   [<span data-ttu-id="87a27-204">**MOUSEHOOKSTRUCTEX**</span><span class="sxs-lookup"><span data-stu-id="87a27-204">**MOUSEHOOKSTRUCTEX**</span></span>](/windows/win32/api/winuser/ns-winuser-mousehookstructex)

<span data-ttu-id="87a27-205">Les API suivantes ont été modifiées pour prendre en charge les boutons suivants :</span><span class="sxs-lookup"><span data-stu-id="87a27-205">The following APIs were modified to support these buttons:</span></span>

-   [<span data-ttu-id="87a27-206">**événement de souris \_**</span><span class="sxs-lookup"><span data-stu-id="87a27-206">**mouse\_event**</span></span>](/windows/win32/api/winuser/nf-winuser-mouse_event)
-   <span data-ttu-id="87a27-207">[**ShellProc**](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="87a27-207">[**ShellProc**](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))</span></span>
-   [<span data-ttu-id="87a27-208">**MSLLHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="87a27-208">**MSLLHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-msllhookstruct)
-   [<span data-ttu-id="87a27-209">**MOUSEINPUT**</span><span class="sxs-lookup"><span data-stu-id="87a27-209">**MOUSEINPUT**</span></span>](/windows/win32/api/winuser/ns-winuser-mouseinput)
-   [<span data-ttu-id="87a27-210">**\_PARENTNOTIFY WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-210">**WM\_PARENTNOTIFY**</span></span>](/previous-versions/windows/desktop/inputmsg/wm-parentnotify)

<span data-ttu-id="87a27-211">Il est peu probable qu’une fenêtre enfant dans une application de composant puisse implémenter directement des commandes pour le bouton XButton1 et XBUTTON2.</span><span class="sxs-lookup"><span data-stu-id="87a27-211">It is unlikely that a child window in a component application will be able to directly implement commands for the XBUTTON1 and XBUTTON2.</span></span> <span data-ttu-id="87a27-212">[**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) envoie donc un message [**WM \_ APPCOMMAND**](wm-appcommand.md) à une fenêtre quand l’utilisateur clique sur un bouton X.</span><span class="sxs-lookup"><span data-stu-id="87a27-212">So [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) sends a [**WM\_APPCOMMAND**](wm-appcommand.md) message to a window when an X button is clicked.</span></span> <span data-ttu-id="87a27-213">**DefWindowProc** envoie également le message **WM \_ APPCOMMAND** à sa fenêtre parente.</span><span class="sxs-lookup"><span data-stu-id="87a27-213">**DefWindowProc** also sends the **WM\_APPCOMMAND** message to its parent window.</span></span> <span data-ttu-id="87a27-214">Cela est similaire à la façon dont les menus contextuels sont appelés par un clic droit :**DefWindowProc** envoie un message [**WM \_ CONTEXTMENU**](/windows/desktop/menurc/wm-contextmenu) au menu et l’envoie également à son parent.</span><span class="sxs-lookup"><span data-stu-id="87a27-214">This is similar to the way context menus are invoked with a right click—**DefWindowProc** sends a [**WM\_CONTEXTMENU**](/windows/desktop/menurc/wm-contextmenu) message to the menu and also sends it to its parent.</span></span> <span data-ttu-id="87a27-215">En outre, si **DefWindowProc** reçoit un message **WM \_ APPCOMMAND** pour une fenêtre de niveau supérieur, il appelle un hook de Shell avec le code HSHELL \_ APPCOMMAND.</span><span class="sxs-lookup"><span data-stu-id="87a27-215">Additionally, if **DefWindowProc** receives a **WM\_APPCOMMAND** message for a top-level window, it calls a shell hook with code HSHELL\_APPCOMMAND.</span></span>

<span data-ttu-id="87a27-216">Des claviers supplémentaires sont pris en charge pour les fonctions de navigateur, les fonctions multimédias, le lancement d’applications et la gestion de l’alimentation.</span><span class="sxs-lookup"><span data-stu-id="87a27-216">There is support for the keyboards that have extra keys for browser functions, media functions, application launching, and power management.</span></span> <span data-ttu-id="87a27-217">Pour plus d’informations, consultez [touches du clavier pour la navigation et d’autres fonctions](about-keyboard-input.md).</span><span class="sxs-lookup"><span data-stu-id="87a27-217">For more information, see [Keyboard Keys for Browsing and Other Functions](about-keyboard-input.md).</span></span>

## <a name="mouse-messages"></a><span data-ttu-id="87a27-218">Messages de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-218">Mouse Messages</span></span>

<span data-ttu-id="87a27-219">La souris génère un événement d’entrée lorsque l’utilisateur déplace la souris, ou appuie ou relâche un bouton de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-219">The mouse generates an input event when the user moves the mouse, or presses or releases a mouse button.</span></span> <span data-ttu-id="87a27-220">Le système convertit les événements d’entrée de souris en messages et les publie dans la file d’attente de messages du thread approprié.</span><span class="sxs-lookup"><span data-stu-id="87a27-220">The system converts mouse input events into messages and posts them to the appropriate thread's message queue.</span></span> <span data-ttu-id="87a27-221">Lorsque les messages de la souris sont publiés plus rapidement qu’un thread ne peut les traiter, le système ignore tous les messages de souris sauf le plus récent.</span><span class="sxs-lookup"><span data-stu-id="87a27-221">When mouse messages are posted faster than a thread can process them, the system discards all but the most recent mouse message.</span></span>

<span data-ttu-id="87a27-222">Une fenêtre reçoit un message de souris lorsqu’un événement de souris se produit alors que le curseur se trouve dans les bordures de la fenêtre ou lorsque la fenêtre a capturé la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-222">A window receives a mouse message when a mouse event occurs while the cursor is within the borders of the window, or when the window has captured the mouse.</span></span> <span data-ttu-id="87a27-223">Les messages de la souris sont divisés en deux groupes : les messages de zone client et les messages de zone non cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-223">Mouse messages are divided into two groups: client area messages and nonclient area messages.</span></span> <span data-ttu-id="87a27-224">En règle générale, une application traite les messages de la zone cliente et ignore les messages de la zone non cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-224">Typically, an application processes client area messages and ignores nonclient area messages.</span></span>

<span data-ttu-id="87a27-225">Cette section couvre les sujets suivants :</span><span class="sxs-lookup"><span data-stu-id="87a27-225">This section covers the following topics:</span></span>

-   [<span data-ttu-id="87a27-226">Messages de la souris de la zone cliente</span><span class="sxs-lookup"><span data-stu-id="87a27-226">Client Area Mouse Messages</span></span>](#client-area-mouse-messages)
-   [<span data-ttu-id="87a27-227">Messages de souris de la zone non cliente</span><span class="sxs-lookup"><span data-stu-id="87a27-227">Nonclient Area Mouse Messages</span></span>](#nonclient-area-mouse-messages)
-   [<span data-ttu-id="87a27-228">Message WM \_ NCHITTEST</span><span class="sxs-lookup"><span data-stu-id="87a27-228">The WM\_NCHITTEST Message</span></span>](/windows)

### <a name="client-area-mouse-messages"></a><span data-ttu-id="87a27-229">Messages de la souris de la zone cliente</span><span class="sxs-lookup"><span data-stu-id="87a27-229">Client Area Mouse Messages</span></span>

<span data-ttu-id="87a27-230">Une fenêtre reçoit un message de la souris de la zone cliente lorsqu’un événement de souris se produit dans la zone cliente de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-230">A window receives a client area mouse message when a mouse event occurs within the window's client area.</span></span> <span data-ttu-id="87a27-231">Le système publie le message [**WM \_ MOUSEMOVE**](wm-mousemove.md) dans la fenêtre lorsque l’utilisateur déplace le curseur dans la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-231">The system posts the [**WM\_MOUSEMOVE**](wm-mousemove.md) message to the window when the user moves the cursor within the client area.</span></span> <span data-ttu-id="87a27-232">Il publie l’un des messages suivants lorsque l’utilisateur appuie ou relâche un bouton de la souris alors que le curseur se trouve dans la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-232">It posts one of the following messages when the user presses or releases a mouse button while the cursor is within the client area.</span></span>



| <span data-ttu-id="87a27-233">Message</span><span class="sxs-lookup"><span data-stu-id="87a27-233">Message</span></span>                                       | <span data-ttu-id="87a27-234">Signification</span><span class="sxs-lookup"><span data-stu-id="87a27-234">Meaning</span></span>                                     |
|-----------------------------------------------|---------------------------------------------|
| [<span data-ttu-id="87a27-235">**\_LBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-235">**WM\_LBUTTONDBLCLK**</span></span>](wm-lbuttondblclk.md) | <span data-ttu-id="87a27-236">Double-clic sur le bouton gauche de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-236">The left mouse button was double-clicked.</span></span>   |
| [<span data-ttu-id="87a27-237">**\_LBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-237">**WM\_LBUTTONDOWN**</span></span>](wm-lbuttondown.md)     | <span data-ttu-id="87a27-238">Le bouton gauche de la souris a été enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-238">The left mouse button was pressed.</span></span>          |
| [<span data-ttu-id="87a27-239">**\_LBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-239">**WM\_LBUTTONUP**</span></span>](wm-lbuttonup.md)         | <span data-ttu-id="87a27-240">Le bouton gauche de la souris a été relâché.</span><span class="sxs-lookup"><span data-stu-id="87a27-240">The left mouse button was released.</span></span>         |
| [<span data-ttu-id="87a27-241">**\_MBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-241">**WM\_MBUTTONDBLCLK**</span></span>](wm-mbuttondblclk.md) | <span data-ttu-id="87a27-242">L’utilisateur a double-cliqué sur le bouton central de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-242">The middle mouse button was double-clicked.</span></span> |
| [<span data-ttu-id="87a27-243">**\_MBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-243">**WM\_MBUTTONDOWN**</span></span>](wm-mbuttondown.md)     | <span data-ttu-id="87a27-244">Le bouton central de la souris a été enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-244">The middle mouse button was pressed.</span></span>        |
| [<span data-ttu-id="87a27-245">**\_MBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-245">**WM\_MBUTTONUP**</span></span>](wm-mbuttonup.md)         | <span data-ttu-id="87a27-246">Le bouton central de la souris a été relâché.</span><span class="sxs-lookup"><span data-stu-id="87a27-246">The middle mouse button was released.</span></span>       |
| [<span data-ttu-id="87a27-247">**\_RBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-247">**WM\_RBUTTONDBLCLK**</span></span>](wm-rbuttondblclk.md) | <span data-ttu-id="87a27-248">Double-clic sur le bouton droit de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-248">The right mouse button was double-clicked.</span></span>  |
| [<span data-ttu-id="87a27-249">**\_RBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-249">**WM\_RBUTTONDOWN**</span></span>](wm-rbuttondown.md)     | <span data-ttu-id="87a27-250">Le bouton droit de la souris a été enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-250">The right mouse button was pressed.</span></span>         |
| [<span data-ttu-id="87a27-251">**\_RBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-251">**WM\_RBUTTONUP**</span></span>](wm-rbuttonup.md)         | <span data-ttu-id="87a27-252">Le bouton droit de la souris a été relâché.</span><span class="sxs-lookup"><span data-stu-id="87a27-252">The right mouse button was released.</span></span>        |
| [<span data-ttu-id="87a27-253">**\_XBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-253">**WM\_XBUTTONDBLCLK**</span></span>](wm-xbuttondblclk.md) | <span data-ttu-id="87a27-254">L’utilisateur a double-cliqué sur un bouton de la souris X.</span><span class="sxs-lookup"><span data-stu-id="87a27-254">An X mouse button was double-clicked.</span></span>       |
| [<span data-ttu-id="87a27-255">**\_XBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-255">**WM\_XBUTTONDOWN**</span></span>](wm-xbuttondown.md)     | <span data-ttu-id="87a27-256">Un bouton X de la souris a été enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-256">An X mouse button was pressed.</span></span>              |
| [<span data-ttu-id="87a27-257">**\_XBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-257">**WM\_XBUTTONUP**</span></span>](wm-xbuttonup.md)         | <span data-ttu-id="87a27-258">Un bouton X de la souris a été relâché.</span><span class="sxs-lookup"><span data-stu-id="87a27-258">An X mouse button was released.</span></span>             |



 

<span data-ttu-id="87a27-259">En outre, une application peut appeler la fonction [**TrackMouseEvent**](/windows/win32/api/winuser/nf-winuser-trackmouseevent) pour que le système envoie deux autres messages.</span><span class="sxs-lookup"><span data-stu-id="87a27-259">In addition, an application can call the [**TrackMouseEvent**](/windows/win32/api/winuser/nf-winuser-trackmouseevent) function to have the system send two other messages.</span></span> <span data-ttu-id="87a27-260">Il publie le message [**WM \_ MOUSEHOVER**](wm-mousehover.md) quand le curseur pointe sur la zone cliente pendant une certaine période.</span><span class="sxs-lookup"><span data-stu-id="87a27-260">It posts the [**WM\_MOUSEHOVER**](wm-mousehover.md) message when the cursor hovers over the client area for a certain time period.</span></span> <span data-ttu-id="87a27-261">Il publie le message [**WM \_ MOUSELEAVE**](wm-mouseleave.md) lorsque le curseur quitte la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-261">It posts the [**WM\_MOUSELEAVE**](wm-mouseleave.md) message when the cursor leaves the client area.</span></span>

### <a name="message-parameters"></a><span data-ttu-id="87a27-262">Paramètres du message</span><span class="sxs-lookup"><span data-stu-id="87a27-262">Message Parameters</span></span>

<span data-ttu-id="87a27-263">Le paramètre *lParam* d’un message de souris de la zone cliente indique la position de la zone réactive du curseur.</span><span class="sxs-lookup"><span data-stu-id="87a27-263">The *lParam* parameter of a client area mouse message indicates the position of the cursor hot spot.</span></span> <span data-ttu-id="87a27-264">Le mot de poids faible indique la coordonnée x de la zone réactive, et le mot de poids fort indique la coordonnée y.</span><span class="sxs-lookup"><span data-stu-id="87a27-264">The low-order word indicates the x-coordinate of the hot spot, and the high-order word indicates the y-coordinate.</span></span> <span data-ttu-id="87a27-265">Les coordonnées sont spécifiées dans les coordonnées clientes.</span><span class="sxs-lookup"><span data-stu-id="87a27-265">The coordinates are specified in client coordinates.</span></span> <span data-ttu-id="87a27-266">Dans le système de coordonnées client, tous les points de l’écran sont spécifiés par rapport aux coordonnées (0,0) de l’angle supérieur gauche de la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-266">In the client coordinate system, all points on the screen are specified relative to the coordinates (0,0) of the upper-left corner of the client area.</span></span>

<span data-ttu-id="87a27-267">Le paramètre *wParam* contient des indicateurs qui indiquent l’état des autres boutons de la souris et les touches Ctrl et Maj au moment de l’événement de souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-267">The *wParam* parameter contains flags that indicate the status of the other mouse buttons and the CTRL and SHIFT keys at the time of the mouse event.</span></span> <span data-ttu-id="87a27-268">Vous pouvez vérifier ces indicateurs lorsque le traitement des messages de la souris dépend de l’état d’un autre bouton de la souris ou de la touche CTRL ou Maj.</span><span class="sxs-lookup"><span data-stu-id="87a27-268">You can check for these flags when mouse-message processing depends on the state of another mouse button or of the CTRL or SHIFT key.</span></span> <span data-ttu-id="87a27-269">Le paramètre *wParam* peut être une combinaison des valeurs suivantes.</span><span class="sxs-lookup"><span data-stu-id="87a27-269">The *wParam* parameter can be a combination of the following values.</span></span>



| <span data-ttu-id="87a27-270">Valeur</span><span class="sxs-lookup"><span data-stu-id="87a27-270">Value</span></span>            | <span data-ttu-id="87a27-271">Description</span><span class="sxs-lookup"><span data-stu-id="87a27-271">Description</span></span>                      |
|------------------|----------------------------------|
| <span data-ttu-id="87a27-272">**\_contrôle MK**</span><span class="sxs-lookup"><span data-stu-id="87a27-272">**MK\_CONTROL**</span></span>  | <span data-ttu-id="87a27-273">La touche CTRL est enfoncée.</span><span class="sxs-lookup"><span data-stu-id="87a27-273">The CTRL key is down.</span></span>            |
| <span data-ttu-id="87a27-274">**\_LBUTTON MK**</span><span class="sxs-lookup"><span data-stu-id="87a27-274">**MK\_LBUTTON**</span></span>  | <span data-ttu-id="87a27-275">Le bouton gauche de la souris est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-275">The left mouse button is down.</span></span>   |
| <span data-ttu-id="87a27-276">**\_MBUTTON MK**</span><span class="sxs-lookup"><span data-stu-id="87a27-276">**MK\_MBUTTON**</span></span>  | <span data-ttu-id="87a27-277">Le bouton central de la souris est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-277">The middle mouse button is down.</span></span> |
| <span data-ttu-id="87a27-278">**\_RBUTTON MK**</span><span class="sxs-lookup"><span data-stu-id="87a27-278">**MK\_RBUTTON**</span></span>  | <span data-ttu-id="87a27-279">Le bouton droit de la souris est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-279">The right mouse button is down.</span></span>  |
| <span data-ttu-id="87a27-280">**\_MAJ MK**</span><span class="sxs-lookup"><span data-stu-id="87a27-280">**MK\_SHIFT**</span></span>    | <span data-ttu-id="87a27-281">La touche Maj est enfoncée.</span><span class="sxs-lookup"><span data-stu-id="87a27-281">The SHIFT key is down.</span></span>           |
| <span data-ttu-id="87a27-282">**\_Le bouton XButton1 MK**</span><span class="sxs-lookup"><span data-stu-id="87a27-282">**MK\_XBUTTON1**</span></span> | <span data-ttu-id="87a27-283">Le premier bouton X est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-283">The first X button is down.</span></span>      |
| <span data-ttu-id="87a27-284">**\_XButton2 MK**</span><span class="sxs-lookup"><span data-stu-id="87a27-284">**MK\_XBUTTON2**</span></span> | <span data-ttu-id="87a27-285">Le deuxième bouton X est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="87a27-285">The second X button is down.</span></span>     |



 

### <a name="double-click-messages"></a><span data-ttu-id="87a27-286">Messages Double-Click</span><span class="sxs-lookup"><span data-stu-id="87a27-286">Double-Click Messages</span></span>

<span data-ttu-id="87a27-287">Le système génère un message de double-clic lorsque l’utilisateur clique deux fois de suite sur un bouton de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-287">The system generates a double-click message when the user clicks a mouse button twice in quick succession.</span></span> <span data-ttu-id="87a27-288">Quand l’utilisateur clique sur un bouton, le système établit un rectangle centré autour de la zone réactive du curseur.</span><span class="sxs-lookup"><span data-stu-id="87a27-288">When the user clicks a button, the system establishes a rectangle centered around the cursor hot spot.</span></span> <span data-ttu-id="87a27-289">Il marque également l’heure à laquelle le clic s’est produit.</span><span class="sxs-lookup"><span data-stu-id="87a27-289">It also marks the time at which the click occurred.</span></span> <span data-ttu-id="87a27-290">Quand l’utilisateur clique une deuxième fois sur le même bouton, le système détermine si la zone réactive est toujours dans le rectangle et calcule le temps écoulé depuis le premier clic.</span><span class="sxs-lookup"><span data-stu-id="87a27-290">When the user clicks the same button a second time, the system determines whether the hot spot is still within the rectangle and calculates the time elapsed since the first click.</span></span> <span data-ttu-id="87a27-291">Si la zone réactive est toujours dans le rectangle et que le temps écoulé ne dépasse pas la valeur du délai d’attente du double-clic, le système génère un message de double-clic.</span><span class="sxs-lookup"><span data-stu-id="87a27-291">If the hot spot is still within the rectangle and the elapsed time does not exceed the double-click time-out value, the system generates a double-click message.</span></span>

<span data-ttu-id="87a27-292">Une application peut récupérer et définir des valeurs de délai d’attente de double-clic à l’aide des fonctions [**GetDoubleClickTime**](/windows/win32/api/winuser/nf-winuser-getdoubleclicktime) et [**SetDoubleClickTime**](/windows/win32/api/winuser/nf-winuser-setdoubleclicktime) , respectivement.</span><span class="sxs-lookup"><span data-stu-id="87a27-292">An application can get and set double-click time-out values by using the [**GetDoubleClickTime**](/windows/win32/api/winuser/nf-winuser-getdoubleclicktime) and [**SetDoubleClickTime**](/windows/win32/api/winuser/nf-winuser-setdoubleclicktime) functions, respectively.</span></span> <span data-ttu-id="87a27-293">L’application peut également définir la valeur du délai d’attente du double-clic à l’aide de l’indicateur **SPI \_ SETDOUBLECLICKTIME** avec la fonction [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) .</span><span class="sxs-lookup"><span data-stu-id="87a27-293">Alternatively, the application can set the double-click–time-out value by using the **SPI\_SETDOUBLECLICKTIME** flag with the [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) function.</span></span> <span data-ttu-id="87a27-294">Il peut également définir la taille du rectangle utilisé par le système pour détecter les double-clics en passant les indicateurs **SPI \_ SETDOUBLECLKWIDTH** et **SPI \_ SETDOUBLECLKHEIGHT** à **SystemParametersInfo**.</span><span class="sxs-lookup"><span data-stu-id="87a27-294">It can also set the size of the rectangle that the system uses to detect double-clicks by passing the **SPI\_SETDOUBLECLKWIDTH** and **SPI\_SETDOUBLECLKHEIGHT** flags to **SystemParametersInfo**.</span></span> <span data-ttu-id="87a27-295">Notez, toutefois, que la définition de la valeur et du rectangle du délai d’attente du double-clic affecte toutes les applications.</span><span class="sxs-lookup"><span data-stu-id="87a27-295">Note, however, that setting the double-click–time-out value and rectangle affects all applications.</span></span>

<span data-ttu-id="87a27-296">Par défaut, une fenêtre définie par l’application ne reçoit pas de messages de double-clic.</span><span class="sxs-lookup"><span data-stu-id="87a27-296">An application-defined window does not, by default, receive double-click messages.</span></span> <span data-ttu-id="87a27-297">En raison de la surcharge système impliquée dans la génération de messages de double-clic, ces messages sont générés uniquement pour les fenêtres appartenant à des classes qui ont le style de classe **cs \_ DBLCLKS** .</span><span class="sxs-lookup"><span data-stu-id="87a27-297">Because of the system overhead involved in generating double-click messages, these messages are generated only for windows belonging to classes that have the **CS\_DBLCLKS** class style.</span></span> <span data-ttu-id="87a27-298">Votre application doit définir ce style lors de l’inscription de la classe de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-298">Your application must set this style when registering the window class.</span></span> <span data-ttu-id="87a27-299">Pour plus d’informations, consultez [classes de fenêtre](/windows/desktop/winmsg/window-classes).</span><span class="sxs-lookup"><span data-stu-id="87a27-299">For more information, see [Window Classes](/windows/desktop/winmsg/window-classes).</span></span>

<span data-ttu-id="87a27-300">Un message de double-clic est toujours le troisième message dans une série de quatre messages.</span><span class="sxs-lookup"><span data-stu-id="87a27-300">A double-click message is always the third message in a four-message series.</span></span> <span data-ttu-id="87a27-301">Les deux premiers messages sont les messages Button-Up et Button-Up générés par le premier clic.</span><span class="sxs-lookup"><span data-stu-id="87a27-301">The first two messages are the button-down and button-up messages generated by the first click.</span></span> <span data-ttu-id="87a27-302">Le deuxième clic génère le message de double-clic suivi d’un autre message de bouton.</span><span class="sxs-lookup"><span data-stu-id="87a27-302">The second click generates the double-click message followed by another button-up message.</span></span> <span data-ttu-id="87a27-303">Par exemple, double-cliquez sur le bouton gauche de la souris pour générer la séquence de message suivante :</span><span class="sxs-lookup"><span data-stu-id="87a27-303">For example, double-clicking the left mouse button generates the following message sequence:</span></span>

1.  [<span data-ttu-id="87a27-304">**\_LBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-304">**WM\_LBUTTONDOWN**</span></span>](wm-lbuttondown.md)
2.  [<span data-ttu-id="87a27-305">**\_LBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-305">**WM\_LBUTTONUP**</span></span>](wm-lbuttonup.md)
3.  [<span data-ttu-id="87a27-306">**\_LBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-306">**WM\_LBUTTONDBLCLK**</span></span>](wm-lbuttondblclk.md)
4.  [<span data-ttu-id="87a27-307">**\_LBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="87a27-307">**WM\_LBUTTONUP**</span></span>](wm-lbuttonup.md)

<span data-ttu-id="87a27-308">Étant donné qu’une fenêtre reçoit toujours un message de bouton avant de recevoir un message de double-clic, une application utilise généralement un message de double-clic pour étendre une tâche qu’elle a commencée lors d’un message de bouton.</span><span class="sxs-lookup"><span data-stu-id="87a27-308">Because a window always receives a button-down message before receiving a double-click message, an application typically uses a double-click message to extend a task it began during a button-down message.</span></span> <span data-ttu-id="87a27-309">Par exemple, quand l’utilisateur clique sur une couleur dans la palette de couleurs de Microsoft Paint, Paint affiche la couleur sélectionnée en regard de la palette.</span><span class="sxs-lookup"><span data-stu-id="87a27-309">For example, when the user clicks a color in the color palette of Microsoft Paint, Paint displays the selected color next to the palette.</span></span> <span data-ttu-id="87a27-310">Lorsque l’utilisateur double-clique sur une couleur, Paint affiche la couleur et ouvre la boîte de dialogue **modifier les couleurs** .</span><span class="sxs-lookup"><span data-stu-id="87a27-310">When the user double-clicks a color, Paint displays the color and opens the **Edit Colors** dialog box.</span></span>

### <a name="nonclient-area-mouse-messages"></a><span data-ttu-id="87a27-311">Messages de souris de la zone non cliente</span><span class="sxs-lookup"><span data-stu-id="87a27-311">Nonclient Area Mouse Messages</span></span>

<span data-ttu-id="87a27-312">Une fenêtre reçoit un message de la souris de la zone non cliente lorsqu’un événement de souris se produit dans n’importe quelle partie d’une fenêtre, à l’exception de la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-312">A window receives a nonclient area mouse message when a mouse event occurs in any part of a window except the client area.</span></span> <span data-ttu-id="87a27-313">La zone non cliente d’une fenêtre se compose de la bordure, de la barre de menus, de la barre de titre, de la barre de défilement, du menu fenêtre, du bouton réduire et du bouton Agrandir.</span><span class="sxs-lookup"><span data-stu-id="87a27-313">A window's nonclient area consists of its border, menu bar, title bar, scroll bar, window menu, minimize button, and maximize button.</span></span>

<span data-ttu-id="87a27-314">Le système génère des messages de zone non cliente principalement pour sa propre utilisation.</span><span class="sxs-lookup"><span data-stu-id="87a27-314">The system generates nonclient area messages primarily for its own use.</span></span> <span data-ttu-id="87a27-315">Par exemple, le système utilise des messages de zone non cliente pour remplacer le curseur par une flèche à deux pointes lorsque la zone réactive du curseur se déplace dans la bordure d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-315">For example, the system uses nonclient area messages to change the cursor to a two-headed arrow when the cursor hot spot moves into a window's border.</span></span> <span data-ttu-id="87a27-316">Une fenêtre doit passer des messages de souris de la zone non cliente à la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) pour tirer parti de l’interface de souris intégrée.</span><span class="sxs-lookup"><span data-stu-id="87a27-316">A window must pass nonclient area mouse messages to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function to take advantage of the built-in mouse interface.</span></span>

<span data-ttu-id="87a27-317">Il y a un message de souris non client correspondant pour chaque message de la souris de la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-317">There is a corresponding nonclient area mouse message for each client area mouse message.</span></span> <span data-ttu-id="87a27-318">Les noms de ces messages sont similaires, à ceci près que les constantes nommées pour les messages de zone non cliente incluent les lettres NC.</span><span class="sxs-lookup"><span data-stu-id="87a27-318">The names of these messages are similar except that the named constants for the nonclient area messages include the letters NC.</span></span> <span data-ttu-id="87a27-319">Par exemple, le déplacement du curseur dans la zone non cliente génère un message [**WM \_ NCMOUSEMOVE**](wm-ncmousemove.md) . Si vous appuyez sur le bouton gauche de la souris alors que le curseur se trouve dans la zone non cliente, un message [**WM \_ NCLBUTTONDOWN**](wm-nclbuttondown.md) est généré.</span><span class="sxs-lookup"><span data-stu-id="87a27-319">For example, moving the cursor in the nonclient area generates a [**WM\_NCMOUSEMOVE**](wm-ncmousemove.md) message, and pressing the left mouse button while the cursor is in the nonclient area generates a [**WM\_NCLBUTTONDOWN**](wm-nclbuttondown.md) message.</span></span>

<span data-ttu-id="87a27-320">Le paramètre *lParam* d’un message de souris non client est une structure qui contient les coordonnées x et y de la zone réactive du curseur.</span><span class="sxs-lookup"><span data-stu-id="87a27-320">The *lParam* parameter of a nonclient area mouse message is a structure that contains the x- and y-coordinates of the cursor hot spot.</span></span> <span data-ttu-id="87a27-321">Contrairement aux coordonnées des messages de la souris de la zone cliente, les coordonnées sont spécifiées en coordonnées d’écran plutôt qu’en coordonnées clientes.</span><span class="sxs-lookup"><span data-stu-id="87a27-321">Unlike coordinates of client area mouse messages, the coordinates are specified in screen coordinates rather than client coordinates.</span></span> <span data-ttu-id="87a27-322">Dans le système de coordonnées de l’écran, tous les points de l’écran sont relatifs aux coordonnées (0,0) de l’angle supérieur gauche de l’écran.</span><span class="sxs-lookup"><span data-stu-id="87a27-322">In the screen coordinate system, all points on the screen are relative to the coordinates (0,0) of the upper-left corner of the screen.</span></span>

<span data-ttu-id="87a27-323">Le paramètre *wParam* contient une valeur de test de positionnement, valeur qui indique où se trouve l’événement de souris dans la zone non cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-323">The *wParam* parameter contains a hit-test value, a value that indicates where in the nonclient area the mouse event occurred.</span></span> <span data-ttu-id="87a27-324">La section suivante explique l’objectif des valeurs de test de positionnement.</span><span class="sxs-lookup"><span data-stu-id="87a27-324">The following section explains the purpose of hit-test values.</span></span>

### <a name="the-wm_nchittest-message"></a><span data-ttu-id="87a27-325">Message WM \_ NCHITTEST</span><span class="sxs-lookup"><span data-stu-id="87a27-325">The WM\_NCHITTEST Message</span></span>

<span data-ttu-id="87a27-326">Chaque fois qu’un événement de souris se produit, le système envoie un message [**WM \_ NCHITTEST**](wm-nchittest.md) à la fenêtre qui contient la zone réactive du curseur ou à la fenêtre qui a capturé la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-326">Whenever a mouse event occurs, the system sends a [**WM\_NCHITTEST**](wm-nchittest.md) message to either the window that contains the cursor hot spot or the window that has captured the mouse.</span></span> <span data-ttu-id="87a27-327">Le système utilise ce message pour déterminer s’il faut envoyer une zone cliente ou un message de la souris de la zone non cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-327">The system uses this message to determine whether to send a client area or nonclient area mouse message.</span></span> <span data-ttu-id="87a27-328">Une application qui doit recevoir les messages de déplacement de la souris et de bouton de la souris doit transmettre le message **WM \_ NCHITTEST** à la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .</span><span class="sxs-lookup"><span data-stu-id="87a27-328">An application that must receive mouse movement and mouse button messages must pass the **WM\_NCHITTEST** message to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span>

<span data-ttu-id="87a27-329">Le paramètre *lParam* du message [**WM \_ NCHITTEST**](wm-nchittest.md) contient les coordonnées d’écran de la zone réactive du curseur.</span><span class="sxs-lookup"><span data-stu-id="87a27-329">The *lParam* parameter of the [**WM\_NCHITTEST**](wm-nchittest.md) message contains the screen coordinates of the cursor hot spot.</span></span> <span data-ttu-id="87a27-330">La fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) examine les coordonnées et retourne une valeur de test d’atteinte qui indique l’emplacement de la zone réactive.</span><span class="sxs-lookup"><span data-stu-id="87a27-330">The [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function examines the coordinates and returns a hit-test value that indicates the location of the hot spot.</span></span> <span data-ttu-id="87a27-331">La valeur du test de positionnement peut être l’une des valeurs suivantes.</span><span class="sxs-lookup"><span data-stu-id="87a27-331">The hit-test value can be one of the following values.</span></span>



| <span data-ttu-id="87a27-332">Valeur</span><span class="sxs-lookup"><span data-stu-id="87a27-332">Value</span></span>             | <span data-ttu-id="87a27-333">Emplacement de la zone réactive</span><span class="sxs-lookup"><span data-stu-id="87a27-333">Location of hot spot</span></span>                                                                                                                                                                                |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="87a27-334">**HTBORDER**</span><span class="sxs-lookup"><span data-stu-id="87a27-334">**HTBORDER**</span></span>      | <span data-ttu-id="87a27-335">Dans la bordure d’une fenêtre qui n’a pas de bordure de redimensionnement.</span><span class="sxs-lookup"><span data-stu-id="87a27-335">In the border of a window that does not have a sizing border.</span></span>                                                                                                                                       |
| <span data-ttu-id="87a27-336">**HTBOTTOM**</span><span class="sxs-lookup"><span data-stu-id="87a27-336">**HTBOTTOM**</span></span>      | <span data-ttu-id="87a27-337">Dans la bordure inférieure horizontale d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-337">In the lower-horizontal border of a window.</span></span>                                                                                                                                                         |
| <span data-ttu-id="87a27-338">**HTBOTTOMLEFT**</span><span class="sxs-lookup"><span data-stu-id="87a27-338">**HTBOTTOMLEFT**</span></span>  | <span data-ttu-id="87a27-339">Dans l’angle inférieur gauche d’une bordure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-339">In the lower-left corner of a window border.</span></span>                                                                                                                                                        |
| <span data-ttu-id="87a27-340">**HTBOTTOMRIGHT**</span><span class="sxs-lookup"><span data-stu-id="87a27-340">**HTBOTTOMRIGHT**</span></span> | <span data-ttu-id="87a27-341">Dans l’angle inférieur droit d’une bordure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-341">In the lower-right corner of a window border.</span></span>                                                                                                                                                       |
| <span data-ttu-id="87a27-342">**HTCAPTION**</span><span class="sxs-lookup"><span data-stu-id="87a27-342">**HTCAPTION**</span></span>     | <span data-ttu-id="87a27-343">Dans une barre de titre.</span><span class="sxs-lookup"><span data-stu-id="87a27-343">In a title bar.</span></span>                                                                                                                                                                                     |
| <span data-ttu-id="87a27-344">**HTCLIENT**</span><span class="sxs-lookup"><span data-stu-id="87a27-344">**HTCLIENT**</span></span>      | <span data-ttu-id="87a27-345">Dans une zone cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-345">In a client area.</span></span>                                                                                                                                                                                   |
| <span data-ttu-id="87a27-346">**HTCLOSE**</span><span class="sxs-lookup"><span data-stu-id="87a27-346">**HTCLOSE**</span></span>       | <span data-ttu-id="87a27-347">Dans un bouton **Fermer** .</span><span class="sxs-lookup"><span data-stu-id="87a27-347">In a **Close** button.</span></span>                                                                                                                                                                              |
| <span data-ttu-id="87a27-348">**HTERROR**</span><span class="sxs-lookup"><span data-stu-id="87a27-348">**HTERROR**</span></span>       | <span data-ttu-id="87a27-349">Sur l’arrière-plan de l’écran ou sur une ligne de séparation entre les fenêtres (identique à HTNOWHERE, sauf que la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) génère un bip système pour indiquer une erreur).</span><span class="sxs-lookup"><span data-stu-id="87a27-349">On the screen background or on a dividing line between windows (same as HTNOWHERE, except that the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function produces a system beep to indicate an error).</span></span> |
| <span data-ttu-id="87a27-350">**HTGROWBOX**</span><span class="sxs-lookup"><span data-stu-id="87a27-350">**HTGROWBOX**</span></span>     | <span data-ttu-id="87a27-351">Dans une zone de taille (identique à **HTSIZE**).</span><span class="sxs-lookup"><span data-stu-id="87a27-351">In a size box (same as **HTSIZE**).</span></span>                                                                                                                                                                 |
| <span data-ttu-id="87a27-352">**HTHELP**</span><span class="sxs-lookup"><span data-stu-id="87a27-352">**HTHELP**</span></span>        | <span data-ttu-id="87a27-353">Dans un bouton **d’aide** .</span><span class="sxs-lookup"><span data-stu-id="87a27-353">In a **Help** button.</span></span>                                                                                                                                                                               |
| <span data-ttu-id="87a27-354">**HTHSCROLL**</span><span class="sxs-lookup"><span data-stu-id="87a27-354">**HTHSCROLL**</span></span>     | <span data-ttu-id="87a27-355">Dans une barre de défilement horizontale.</span><span class="sxs-lookup"><span data-stu-id="87a27-355">In a horizontal scroll bar.</span></span>                                                                                                                                                                         |
| <span data-ttu-id="87a27-356">**HTLEFT**</span><span class="sxs-lookup"><span data-stu-id="87a27-356">**HTLEFT**</span></span>        | <span data-ttu-id="87a27-357">Dans la bordure gauche d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-357">In the left border of a window.</span></span>                                                                                                                                                                     |
| <span data-ttu-id="87a27-358">**HTMENU**</span><span class="sxs-lookup"><span data-stu-id="87a27-358">**HTMENU**</span></span>        | <span data-ttu-id="87a27-359">Dans un menu.</span><span class="sxs-lookup"><span data-stu-id="87a27-359">In a menu.</span></span>                                                                                                                                                                                          |
| <span data-ttu-id="87a27-360">**HTMAXBUTTON**</span><span class="sxs-lookup"><span data-stu-id="87a27-360">**HTMAXBUTTON**</span></span>   | <span data-ttu-id="87a27-361">Dans un bouton **agrandir** .</span><span class="sxs-lookup"><span data-stu-id="87a27-361">In a **Maximize** button.</span></span>                                                                                                                                                                           |
| <span data-ttu-id="87a27-362">**HTMINBUTTON**</span><span class="sxs-lookup"><span data-stu-id="87a27-362">**HTMINBUTTON**</span></span>   | <span data-ttu-id="87a27-363">Dans un bouton **réduire** .</span><span class="sxs-lookup"><span data-stu-id="87a27-363">In a **Minimize** button.</span></span>                                                                                                                                                                           |
| <span data-ttu-id="87a27-364">**HTNOWHERE**</span><span class="sxs-lookup"><span data-stu-id="87a27-364">**HTNOWHERE**</span></span>     | <span data-ttu-id="87a27-365">Sur l’arrière-plan de l’écran ou sur une ligne de séparation entre les fenêtres.</span><span class="sxs-lookup"><span data-stu-id="87a27-365">On the screen background or on a dividing line between windows.</span></span>                                                                                                                                     |
| <span data-ttu-id="87a27-366">**HTREDUCE**</span><span class="sxs-lookup"><span data-stu-id="87a27-366">**HTREDUCE**</span></span>      | <span data-ttu-id="87a27-367">Dans un bouton **réduire** .</span><span class="sxs-lookup"><span data-stu-id="87a27-367">In a **Minimize** button.</span></span>                                                                                                                                                                           |
| <span data-ttu-id="87a27-368">**HTRIGHT**</span><span class="sxs-lookup"><span data-stu-id="87a27-368">**HTRIGHT**</span></span>       | <span data-ttu-id="87a27-369">Dans la bordure droite d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-369">In the right border of a window.</span></span>                                                                                                                                                                    |
| <span data-ttu-id="87a27-370">**HTSIZE**</span><span class="sxs-lookup"><span data-stu-id="87a27-370">**HTSIZE**</span></span>        | <span data-ttu-id="87a27-371">Dans une zone de taille (identique à **HTGROWBOX**).</span><span class="sxs-lookup"><span data-stu-id="87a27-371">In a size box (same as **HTGROWBOX**).</span></span>                                                                                                                                                              |
| <span data-ttu-id="87a27-372">**HTSYSMENU**</span><span class="sxs-lookup"><span data-stu-id="87a27-372">**HTSYSMENU**</span></span>     | <span data-ttu-id="87a27-373">Dans un menu **système** ou dans un bouton **Fermer** dans une fenêtre enfant.</span><span class="sxs-lookup"><span data-stu-id="87a27-373">In a **System** menu or in a **Close** button in a child window.</span></span>                                                                                                                                    |
| <span data-ttu-id="87a27-374">**HTTOP**</span><span class="sxs-lookup"><span data-stu-id="87a27-374">**HTTOP**</span></span>         | <span data-ttu-id="87a27-375">Dans la bordure supérieure horizontale d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-375">In the upper-horizontal border of a window.</span></span>                                                                                                                                                         |
| <span data-ttu-id="87a27-376">**HTTOPLEFT**</span><span class="sxs-lookup"><span data-stu-id="87a27-376">**HTTOPLEFT**</span></span>     | <span data-ttu-id="87a27-377">Dans l’angle supérieur gauche d’une bordure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-377">In the upper-left corner of a window border.</span></span>                                                                                                                                                        |
| <span data-ttu-id="87a27-378">**HTTOPRIGHT**</span><span class="sxs-lookup"><span data-stu-id="87a27-378">**HTTOPRIGHT**</span></span>    | <span data-ttu-id="87a27-379">Dans l’angle supérieur droit d’une bordure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-379">In the upper-right corner of a window border.</span></span>                                                                                                                                                       |
| <span data-ttu-id="87a27-380">**HTTRANSPARENT**</span><span class="sxs-lookup"><span data-stu-id="87a27-380">**HTTRANSPARENT**</span></span> | <span data-ttu-id="87a27-381">Dans une fenêtre actuellement couverte par une autre fenêtre dans le même thread.</span><span class="sxs-lookup"><span data-stu-id="87a27-381">In a window currently covered by another window in the same thread.</span></span>                                                                                                                                 |
| <span data-ttu-id="87a27-382">**HTVSCROLL**</span><span class="sxs-lookup"><span data-stu-id="87a27-382">**HTVSCROLL**</span></span>     | <span data-ttu-id="87a27-383">Dans la barre de défilement verticale.</span><span class="sxs-lookup"><span data-stu-id="87a27-383">In the vertical scroll bar.</span></span>                                                                                                                                                                         |
| <span data-ttu-id="87a27-384">**HTZOOM**</span><span class="sxs-lookup"><span data-stu-id="87a27-384">**HTZOOM**</span></span>        | <span data-ttu-id="87a27-385">Dans un bouton **agrandir** .</span><span class="sxs-lookup"><span data-stu-id="87a27-385">In a **Maximize** button.</span></span>                                                                                                                                                                           |



 

<span data-ttu-id="87a27-386">Si le curseur se trouve dans la zone cliente d’une fenêtre, [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) retourne la valeur du test de positionnement **HTCLIENT** à la procédure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-386">If the cursor is in the client area of a window, [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) returns the **HTCLIENT** hit-test value to the window procedure.</span></span> <span data-ttu-id="87a27-387">Lorsque la procédure de fenêtre retourne ce code au système, le système convertit les coordonnées d’écran de la zone réactive du curseur en coordonnées clientes, puis publie le message approprié de la souris de la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="87a27-387">When the window procedure returns this code to the system, the system converts the screen coordinates of the cursor hot spot to client coordinates, and then posts the appropriate client area mouse message.</span></span>

<span data-ttu-id="87a27-388">La fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) retourne l’une des autres valeurs de test de positionnement lorsque la zone réactive du curseur se trouve dans la zone non cliente d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-388">The [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function returns one of the other hit-test values when the cursor hot spot is in a window's nonclient area.</span></span> <span data-ttu-id="87a27-389">Lorsque la procédure de fenêtre retourne l’une de ces valeurs de test de positionnement, le système publie un message de souris de la zone non cliente, en plaçant la valeur de test de positionnement dans le paramètre *wParam* du message et les coordonnées du curseur dans le paramètre *lParam* .</span><span class="sxs-lookup"><span data-stu-id="87a27-389">When the window procedure returns one of these hit-test values, the system posts a nonclient area mouse message, placing the hit-test value in the message's *wParam* parameter and the cursor coordinates in the *lParam* parameter.</span></span>

## <a name="mouse-sonar"></a><span data-ttu-id="87a27-390">Sonar de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-390">Mouse Sonar</span></span>

<span data-ttu-id="87a27-391">La fonctionnalité d’accessibilité de la souris sonar présente brièvement plusieurs cercles concentriques autour du pointeur lorsque l’utilisateur appuie sur la touche CTRL et la relâche.</span><span class="sxs-lookup"><span data-stu-id="87a27-391">The Mouse Sonar accessibility feature briefly shows several concentric circles around the pointer when the user presses and releases the CTRL key.</span></span> <span data-ttu-id="87a27-392">Cette fonctionnalité permet à un utilisateur de localiser le pointeur de la souris sur un écran encombré ou dont la résolution est élevée, sur un moniteur de qualité médiocre ou pour les utilisateurs ayant une vision altérée.</span><span class="sxs-lookup"><span data-stu-id="87a27-392">This feature helps a user locate the mouse pointer on a screen that is cluttered or with resolution set to high, on a poor quality monitor, or for users with impaired vision.</span></span> <span data-ttu-id="87a27-393">Pour plus d’informations, consultez les indicateurs suivants dans [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa):</span><span class="sxs-lookup"><span data-stu-id="87a27-393">For more information, see the following flags in [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa):</span></span>

<span data-ttu-id="87a27-394">**SPI \_ GETMOUSESONAR**</span><span class="sxs-lookup"><span data-stu-id="87a27-394">**SPI\_GETMOUSESONAR**</span></span>

<span data-ttu-id="87a27-395">**SPI \_ SETMOUSESONAR**</span><span class="sxs-lookup"><span data-stu-id="87a27-395">**SPI\_SETMOUSESONAR**</span></span>

## <a name="mouse-vanish"></a><span data-ttu-id="87a27-396">Disparition de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-396">Mouse Vanish</span></span>

<span data-ttu-id="87a27-397">La fonctionnalité d’accessibilité de la souris masque le pointeur lorsque l’utilisateur tape.</span><span class="sxs-lookup"><span data-stu-id="87a27-397">The Mouse Vanish accessibility feature hides the pointer when the user is typing.</span></span> <span data-ttu-id="87a27-398">Le pointeur de la souris réapparaît lorsque l’utilisateur déplace la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-398">The mouse pointer reappears when the user moves the mouse.</span></span> <span data-ttu-id="87a27-399">Cette fonctionnalité empêche le pointeur de masquer le texte tapé, par exemple dans un message électronique ou un autre document.</span><span class="sxs-lookup"><span data-stu-id="87a27-399">This feature keeps the pointer from obscuring the text being typed, for example, in an e-mail or other document.</span></span> <span data-ttu-id="87a27-400">Pour plus d’informations, consultez les indicateurs suivants dans [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa):</span><span class="sxs-lookup"><span data-stu-id="87a27-400">For more information, see the following flags in [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa):</span></span>

<span data-ttu-id="87a27-401">**SPI \_ GETMOUSEVANISH**</span><span class="sxs-lookup"><span data-stu-id="87a27-401">**SPI\_GETMOUSEVANISH**</span></span>

<span data-ttu-id="87a27-402">**SPI \_ SETMOUSEVANISH**</span><span class="sxs-lookup"><span data-stu-id="87a27-402">**SPI\_SETMOUSEVANISH**</span></span>

## <a name="the-mouse-wheel"></a><span data-ttu-id="87a27-403">Roulette de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-403">The Mouse Wheel</span></span>

<span data-ttu-id="87a27-404">La roulette de la souris combine les fonctionnalités d’une roue et le bouton de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-404">The mouse wheel combines the features of a wheel and a mouse button.</span></span> <span data-ttu-id="87a27-405">La roulette a des crans discrets, uniformément espacés.</span><span class="sxs-lookup"><span data-stu-id="87a27-405">The wheel has discrete, evenly-spaced notches.</span></span> <span data-ttu-id="87a27-406">Lorsque vous faites pivoter la roue, un message de roue est envoyé à votre application à mesure que chaque grugeage est rencontré.</span><span class="sxs-lookup"><span data-stu-id="87a27-406">When you rotate the wheel, a wheel message is sent to your application as each notch is encountered.</span></span> <span data-ttu-id="87a27-407">Le bouton roulette peut également fonctionner comme un bouton central Windows (troisième) normal.</span><span class="sxs-lookup"><span data-stu-id="87a27-407">The wheel button can also operate as a normal Windows middle (third) button.</span></span> <span data-ttu-id="87a27-408">Le fait d’appuyer sur la roulette de la souris pour envoyer des messages [**WM \_ MBUTTONUP**](wm-mbuttonup.md) et [**WM \_ MBUTTONDOWN**](wm-mbuttondown.md) standard.</span><span class="sxs-lookup"><span data-stu-id="87a27-408">Pressing and releasing the mouse wheel sends standard [**WM\_MBUTTONUP**](wm-mbuttonup.md) and [**WM\_MBUTTONDOWN**](wm-mbuttondown.md) messages.</span></span> <span data-ttu-id="87a27-409">Le fait de double-cliquer sur le troisième bouton envoie le message [**\_ MBUTTONDBLCLK WM**](wm-mbuttondblclk.md) standard.</span><span class="sxs-lookup"><span data-stu-id="87a27-409">Double clicking the third button sends the standard [**WM\_MBUTTONDBLCLK**](wm-mbuttondblclk.md) message.</span></span>

<span data-ttu-id="87a27-410">La roulette de la souris est prise en charge via le message [**WM \_ MOUSEWHEEL**](wm-mousewheel.md) .</span><span class="sxs-lookup"><span data-stu-id="87a27-410">The mouse wheel is supported through the [**WM\_MOUSEWHEEL**](wm-mousewheel.md) message.</span></span>

<span data-ttu-id="87a27-411">La rotation de la souris envoie le message [**WM \_ MOUSEWHEEL**](wm-mousewheel.md) à la fenêtre Focus.</span><span class="sxs-lookup"><span data-stu-id="87a27-411">Rotating the mouse sends the [**WM\_MOUSEWHEEL**](wm-mousewheel.md) message to the focus window.</span></span> <span data-ttu-id="87a27-412">La fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) propage le message au parent de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="87a27-412">The [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function propagates the message to the window's parent.</span></span> <span data-ttu-id="87a27-413">Il ne doit y avoir aucun transfert interne du message, car **DefWindowProc** le propage vers le haut de la chaîne parente jusqu’à ce qu’une fenêtre qui le traite soit trouvée.</span><span class="sxs-lookup"><span data-stu-id="87a27-413">There should be no internal forwarding of the message, since **DefWindowProc** propagates it up the parent chain until a window that processes it is found.</span></span>

### <a name="determining-the-number-of-scroll-lines"></a><span data-ttu-id="87a27-414">Détermination du nombre de lignes de défilement</span><span class="sxs-lookup"><span data-stu-id="87a27-414">Determining the Number of Scroll Lines</span></span>

<span data-ttu-id="87a27-415">Les applications doivent utiliser la fonction [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) pour récupérer le nombre de lignes qu’un document défile pour chaque opération de défilement (grugeage de roulette).</span><span class="sxs-lookup"><span data-stu-id="87a27-415">Applications should use the [**SystemParametersInfo**](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) function to retrieve the number of lines a document scrolls for each scroll operation (wheel notch).</span></span> <span data-ttu-id="87a27-416">Pour récupérer le nombre de lignes, une application effectue l’appel suivant :</span><span class="sxs-lookup"><span data-stu-id="87a27-416">To retrieve the number of lines, an application makes the following call:</span></span>


```
SystemParametersInfo(SPI_GETWHEELSCROLLLINES, 0, pulScrollLines, 0)
```



<span data-ttu-id="87a27-417">La variable « pulScrollLines » pointe vers une valeur entière non signée qui reçoit le nombre suggéré de lignes à faire défiler lorsque la roulette de la souris pivote sans touches de modification :</span><span class="sxs-lookup"><span data-stu-id="87a27-417">The variable "pulScrollLines" points to an unsigned integer value that receives the suggested number of lines to scroll when the mouse wheel is rotated without modifier keys:</span></span>

-   <span data-ttu-id="87a27-418">Si ce nombre est 0, aucun défilement ne doit se produire.</span><span class="sxs-lookup"><span data-stu-id="87a27-418">If this number is 0, no scrolling should occur.</span></span>
-   <span data-ttu-id="87a27-419">Si ce nombre est **\_ PAGESCROLL de roue**, un rouleau de roulette doit être interprété comme un clic unique dans les zones de page suivante ou de page précédente de la barre de défilement.</span><span class="sxs-lookup"><span data-stu-id="87a27-419">If this number is **WHEEL\_PAGESCROLL**, a wheel roll should be interpreted as clicking once in the page down or page up regions of the scroll bar.</span></span>
-   <span data-ttu-id="87a27-420">Si le nombre de lignes à faire défiler est supérieur au nombre de lignes affichables, l’opération de défilement doit également être interprétée comme une opération page suivante ou page précédente.</span><span class="sxs-lookup"><span data-stu-id="87a27-420">If the number of lines to scroll is greater than the number of lines viewable, the scroll operation should also be interpreted as a page down or page up operation.</span></span>

<span data-ttu-id="87a27-421">La valeur par défaut du nombre de lignes de défilement est 3.</span><span class="sxs-lookup"><span data-stu-id="87a27-421">The default value for the number of scroll lines will be 3.</span></span> <span data-ttu-id="87a27-422">Si un utilisateur modifie le nombre de lignes de défilement, à l’aide de la feuille de propriétés de la souris dans le panneau de configuration, le système d’exploitation diffuse un message [**WM \_ SETTINGCHANGE**](../winmsg/wm-settingchange.md) à toutes les fenêtres de niveau supérieur pour lesquelles **SPI \_ SETWHEELSCROLLLINES** est spécifié.</span><span class="sxs-lookup"><span data-stu-id="87a27-422">If a user changes the number of scroll lines, by using the Mouse Properties sheet in Control Panel, the operating system broadcasts a [**WM\_SETTINGCHANGE**](../winmsg/wm-settingchange.md) message to all top-level windows with **SPI\_SETWHEELSCROLLLINES** specified.</span></span> <span data-ttu-id="87a27-423">Quand une application reçoit le **message \_ SETTINGCHANGE WM** , elle peut alors récupérer le nouveau nombre de lignes de défilement en appelant :</span><span class="sxs-lookup"><span data-stu-id="87a27-423">When an application receives the **WM\_SETTINGCHANGE** message, it can then get the new number of scroll lines by calling:</span></span>


```
SystemParametersInfo(SPI_GETWHEELSCROLLLINES, 0, pulScrollLines, 0)
```



### <a name="controls-that-scroll"></a><span data-ttu-id="87a27-424">Contrôles qui défilent</span><span class="sxs-lookup"><span data-stu-id="87a27-424">Controls that Scroll</span></span>

<span data-ttu-id="87a27-425">Le tableau ci-dessous répertorie les contrôles avec des fonctionnalités de défilement (y compris les lignes de défilement définies par l’utilisateur).</span><span class="sxs-lookup"><span data-stu-id="87a27-425">The table below lists the controls with scrolling functionality (including scroll lines set by the user).</span></span> 

| <span data-ttu-id="87a27-426">Contrôler</span><span class="sxs-lookup"><span data-stu-id="87a27-426">Control</span></span>                 | <span data-ttu-id="87a27-427">Défilement</span><span class="sxs-lookup"><span data-stu-id="87a27-427">Scrolling</span></span>                                                                                                                                                               |
|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="87a27-428">Modifier le contrôle</span><span class="sxs-lookup"><span data-stu-id="87a27-428">Edit Control</span></span>            | <span data-ttu-id="87a27-429">Vertical et horizontal.</span><span class="sxs-lookup"><span data-stu-id="87a27-429">Vertical and horizontal.</span></span>                                                                                                                                                |
| <span data-ttu-id="87a27-430">Contrôle zone de liste</span><span class="sxs-lookup"><span data-stu-id="87a27-430">List box Control</span></span>        | <span data-ttu-id="87a27-431">Vertical et horizontal.</span><span class="sxs-lookup"><span data-stu-id="87a27-431">Vertical and horizontal.</span></span>                                                                                                                                                |
| <span data-ttu-id="87a27-432">Combo box</span><span class="sxs-lookup"><span data-stu-id="87a27-432">Combo box</span></span>               | <span data-ttu-id="87a27-433">Lorsqu’ils ne sont pas déplacés, chaque défilement récupère l’élément suivant ou précédent.</span><span class="sxs-lookup"><span data-stu-id="87a27-433">When not dropped down, each scroll retrieves the next or previous item.</span></span> <span data-ttu-id="87a27-434">Lorsqu’elle est déroulée, chaque défilement transmet le message à la zone de liste, qui fait défiler en conséquence.</span><span class="sxs-lookup"><span data-stu-id="87a27-434">When dropped down, each scroll forwards the message to the list box, which scrolls accordingly.</span></span> |
| <span data-ttu-id="87a27-435">CMD (ligne de commande)</span><span class="sxs-lookup"><span data-stu-id="87a27-435">CMD (Command line)</span></span>      | <span data-ttu-id="87a27-436">Vertical.</span><span class="sxs-lookup"><span data-stu-id="87a27-436">Vertical.</span></span>                                                                                                                                                               |
| <span data-ttu-id="87a27-437">Arborescence</span><span class="sxs-lookup"><span data-stu-id="87a27-437">Tree View</span></span>               | <span data-ttu-id="87a27-438">Vertical et horizontal.</span><span class="sxs-lookup"><span data-stu-id="87a27-438">Vertical and horizontal.</span></span>                                                                                                                                                |
| <span data-ttu-id="87a27-439">Mode Liste</span><span class="sxs-lookup"><span data-stu-id="87a27-439">List View</span></span>               | <span data-ttu-id="87a27-440">Vertical et horizontal.</span><span class="sxs-lookup"><span data-stu-id="87a27-440">Vertical and horizontal.</span></span>                                                                                                                                                |
| <span data-ttu-id="87a27-441">Défilement vers le haut/vers le haut</span><span class="sxs-lookup"><span data-stu-id="87a27-441">Up/down Scrolls</span></span>         | <span data-ttu-id="87a27-442">Un élément à la fois.</span><span class="sxs-lookup"><span data-stu-id="87a27-442">One item at a time.</span></span>                                                                                                                                                     |
| <span data-ttu-id="87a27-443">Défilements TrackBar</span><span class="sxs-lookup"><span data-stu-id="87a27-443">Trackbar Scrolls</span></span>        | <span data-ttu-id="87a27-444">Un élément à la fois.</span><span class="sxs-lookup"><span data-stu-id="87a27-444">One item at a time.</span></span>                                                                                                                                                     |
| <span data-ttu-id="87a27-445">Édition enrichie de Microsoft 1,0</span><span class="sxs-lookup"><span data-stu-id="87a27-445">Microsoft Rich Edit 1.0</span></span> | <span data-ttu-id="87a27-446">Vertical.</span><span class="sxs-lookup"><span data-stu-id="87a27-446">Vertical.</span></span> <span data-ttu-id="87a27-447">Notez que le client Exchange possède ses propres versions des contrôles d’affichage de liste et d’arborescence qui n’offrent pas de prise en charge de roulette.</span><span class="sxs-lookup"><span data-stu-id="87a27-447">Note, the Exchange client has its own versions of the list view and tree view controls that do not have wheel support.</span></span>                                        |
| <span data-ttu-id="87a27-448">Édition enrichie de Microsoft 2,0</span><span class="sxs-lookup"><span data-stu-id="87a27-448">Microsoft Rich Edit 2.0</span></span> | <span data-ttu-id="87a27-449">Vertical.</span><span class="sxs-lookup"><span data-stu-id="87a27-449">Vertical.</span></span>                                                                                                                                                               |



 

### <a name="detecting-a-mouse-with-a-wheel"></a><span data-ttu-id="87a27-450">Détection d’une souris avec une roue</span><span class="sxs-lookup"><span data-stu-id="87a27-450">Detecting a Mouse with a Wheel</span></span>

<span data-ttu-id="87a27-451">Pour déterminer si une souris avec roulette est connectée, appelez [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) avec le **SM \_ MOUSEWHEELPRESENT**.</span><span class="sxs-lookup"><span data-stu-id="87a27-451">To determine if a mouse with a wheel is connected, call [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) with **SM\_MOUSEWHEELPRESENT**.</span></span> <span data-ttu-id="87a27-452">Une valeur de retour **true** indique que la souris est connectée.</span><span class="sxs-lookup"><span data-stu-id="87a27-452">A return value of **TRUE** indicates that the mouse is connected.</span></span>

<span data-ttu-id="87a27-453">L’exemple suivant est issu de la procédure de fenêtre pour un contrôle d’édition multiligne :</span><span class="sxs-lookup"><span data-stu-id="87a27-453">The following example is from the window procedure for a multiline edit control:</span></span>


```
BOOL ScrollLines(
     PWNDDATA pwndData,   //scrolls the window indicated
     int cLinesToScroll); //number of times

short gcWheelDelta; //wheel delta from roll
PWNDDATA pWndData; //pointer to structure containing info about the window
UINT gucWheelScrollLines=0;//number of lines to scroll on a wheel rotation

gucWheelScrollLines = SystemParametersInfo(SPI_GETWHEELSCROLLLINES, 
                             0, 
                             pulScrollLines, 
                             0);

case WM_MOUSEWHEEL:
    /*
     * Do not handle zoom and datazoom.
     */
    if (wParam & (MK_SHIFT | MK_CONTROL)) {
        goto PassToDefaultWindowProc;
    }

    gcWheelDelta -= (short) HIWORD(wParam);
    if (abs(gcWheelDelta) >= WHEEL_DELTA && gucWheelScrollLines > 0) 
    {
        int cLineScroll;

        /*
         * Limit a roll of one (1) WHEEL_DELTA to
         * scroll one (1) page.
         */
        cLineScroll = (int) min(
                (UINT) pWndData->ichLinesOnScreen - 1,
                gucWheelScrollLines);

        if (cLineScroll == 0) {
            cLineScroll++;
        }

        cLineScroll *= (gcWheelDelta / WHEEL_DELTA);
        assert(cLineScroll != 0);

        gcWheelDelta = gcWheelDelta % WHEEL_DELTA;
        return ScrollLines(pWndData, cLineScroll);
    }

    break;
```



## <a name="window-activation"></a><span data-ttu-id="87a27-454">Activation de la fenêtre</span><span class="sxs-lookup"><span data-stu-id="87a27-454">Window Activation</span></span>

<span data-ttu-id="87a27-455">Quand l’utilisateur clique sur une fenêtre de niveau supérieur inactive ou sur la fenêtre enfant d’une fenêtre de niveau supérieur inactive, le système envoie le message [**WM \_ MOUSEACTIVATE**](wm-mouseactivate.md) (entre autres) à la fenêtre de niveau supérieur ou enfant.</span><span class="sxs-lookup"><span data-stu-id="87a27-455">When the user clicks an inactive top-level window or the child window of an inactive top-level window, the system sends the [**WM\_MOUSEACTIVATE**](wm-mouseactivate.md) message (among others) to the top-level or child window.</span></span> <span data-ttu-id="87a27-456">Le système envoie ce message après avoir publié le message [**WM \_ NCHITTEST**](wm-nchittest.md) dans la fenêtre, mais avant de publier le message de bouton.</span><span class="sxs-lookup"><span data-stu-id="87a27-456">The system sends this message after posting the [**WM\_NCHITTEST**](wm-nchittest.md) message to the window, but before posting the button-down message.</span></span> <span data-ttu-id="87a27-457">Lorsque **WM \_ MOUSEACTIVATE** est passé à la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) , le système active la fenêtre de niveau supérieur, puis publie le message de bouton vers le haut dans la fenêtre de niveau supérieur ou enfant.</span><span class="sxs-lookup"><span data-stu-id="87a27-457">When **WM\_MOUSEACTIVATE** is passed to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function, the system activates the top-level window and then posts the button-down message to the top-level or child window.</span></span>

<span data-ttu-id="87a27-458">En traitant [**WM \_ MOUSEACTIVATE**](wm-mouseactivate.md), une fenêtre peut contrôler si la fenêtre de niveau supérieur devient la fenêtre active à la suite d’un clic de souris et si la fenêtre sur laquelle l’utilisateur a cliqué reçoit le message de bouton suivant.</span><span class="sxs-lookup"><span data-stu-id="87a27-458">By processing [**WM\_MOUSEACTIVATE**](wm-mouseactivate.md), a window can control whether the top-level window becomes the active window as a result of a mouse click, and whether the window that was clicked receives the subsequent button-down message.</span></span> <span data-ttu-id="87a27-459">Pour ce faire, il renvoie l’une des valeurs suivantes après le traitement de **WM \_ MOUSEACTIVATE**.</span><span class="sxs-lookup"><span data-stu-id="87a27-459">It does so by returning one of the following values after processing **WM\_MOUSEACTIVATE**.</span></span>



| <span data-ttu-id="87a27-460">Valeur</span><span class="sxs-lookup"><span data-stu-id="87a27-460">Value</span></span>                    | <span data-ttu-id="87a27-461">Signification</span><span class="sxs-lookup"><span data-stu-id="87a27-461">Meaning</span></span>                                                              |
|--------------------------|----------------------------------------------------------------------|
| <span data-ttu-id="87a27-462">**\_activation ma**</span><span class="sxs-lookup"><span data-stu-id="87a27-462">**MA\_ACTIVATE**</span></span>         | <span data-ttu-id="87a27-463">Active la fenêtre et n’ignore pas le message de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-463">Activates the window and does not discard the mouse message.</span></span>         |
| <span data-ttu-id="87a27-464">**MA \_ NOactivate**</span><span class="sxs-lookup"><span data-stu-id="87a27-464">**MA\_NOACTIVATE**</span></span>       | <span data-ttu-id="87a27-465">N’active pas la fenêtre et n’ignore pas le message de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-465">Does not activate the window and does not discard the mouse message.</span></span> |
| <span data-ttu-id="87a27-466">**MA \_ ACTIVATEANDEAT**</span><span class="sxs-lookup"><span data-stu-id="87a27-466">**MA\_ACTIVATEANDEAT**</span></span>   | <span data-ttu-id="87a27-467">Active la fenêtre et ignore le message de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-467">Activates the window and discards the mouse message.</span></span>                 |
| <span data-ttu-id="87a27-468">**MA \_ NOACTIVATEANDEAT**</span><span class="sxs-lookup"><span data-stu-id="87a27-468">**MA\_NOACTIVATEANDEAT**</span></span> | <span data-ttu-id="87a27-469">N’active pas la fenêtre mais ignore le message de la souris.</span><span class="sxs-lookup"><span data-stu-id="87a27-469">Does not activate the window but discards the mouse message.</span></span>         |

## <a name="see-also"></a><span data-ttu-id="87a27-470">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="87a27-470">See also</span></span>

[<span data-ttu-id="87a27-471">Tirer parti du High-Definition mouvement de la souris</span><span class="sxs-lookup"><span data-stu-id="87a27-471">Taking Advantage of High-Definition Mouse Movement</span></span>](../dxtecharts/taking-advantage-of-high-dpi-mouse-movement.md)