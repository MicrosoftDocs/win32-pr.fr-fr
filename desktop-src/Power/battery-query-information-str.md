---
description: Contient des informations sur la requête de la batterie.
ms.assetid: ef5466fe-7de8-48cd-ad48-5774d7a4bb46
title: Structure BATTERY_QUERY_INFORMATION (Poclass. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- BATTERY_QUERY_INFORMATION
api_type:
- HeaderDef
api_location:
- Poclass.h
- Batclass.h
ms.openlocfilehash: 511980dd4307077b8b160550c661a15a5714b96f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103865085"
---
# <a name="battery_query_information-structure"></a><span data-ttu-id="6c904-103">\_Structure des \_ informations sur les requêtes de batterie</span><span class="sxs-lookup"><span data-stu-id="6c904-103">BATTERY\_QUERY\_INFORMATION structure</span></span>

<span data-ttu-id="6c904-104">Contient des informations sur la requête de la batterie.</span><span class="sxs-lookup"><span data-stu-id="6c904-104">Contains battery query information.</span></span> <span data-ttu-id="6c904-105">Cette structure est utilisée avec le code de contrôle des informations de requête de la [**\_ batterie \_ \_ IOCTL**](ioctl-battery-query-information.md) pour spécifier le type d’informations à retourner.</span><span class="sxs-lookup"><span data-stu-id="6c904-105">This structure is used with the [**IOCTL\_BATTERY\_QUERY\_INFORMATION**](ioctl-battery-query-information.md) control code to specify the type of information to return.</span></span>

## <a name="syntax"></a><span data-ttu-id="6c904-106">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="6c904-106">Syntax</span></span>


```C++
typedef struct _BATTERY_QUERY_INFORMATION {
  ULONG                           BatteryTag;
  BATTERY_QUERY_INFORMATION_LEVEL InformationLevel;
  LONG                            AtRate;
} BATTERY_QUERY_INFORMATION, *PBATTERY_QUERY_INFORMATION;
```



## <a name="members"></a><span data-ttu-id="6c904-107">Membres</span><span class="sxs-lookup"><span data-stu-id="6c904-107">Members</span></span>

<dl> <dt>

<span data-ttu-id="6c904-108">**BatteryTag**</span><span class="sxs-lookup"><span data-stu-id="6c904-108">**BatteryTag**</span></span>
</dt> <dd>

<span data-ttu-id="6c904-109">La balise de batterie actuelle pour la batterie.</span><span class="sxs-lookup"><span data-stu-id="6c904-109">The current battery tag for the battery.</span></span> <span data-ttu-id="6c904-110">Seules les informations relatives à une batterie correspondant à la balise peuvent être retournées.</span><span class="sxs-lookup"><span data-stu-id="6c904-110">Only information for a battery matching the tag can be returned.</span></span> <span data-ttu-id="6c904-111">Chaque fois que cette valeur ne correspond pas à la balise active de la batterie, la demande IOCTL est effectuée avec le fichier d’erreur \_ \_ \_ introuvable.</span><span class="sxs-lookup"><span data-stu-id="6c904-111">Whenever this value does not match the battery's current tag, the IOCTL request will be completed with ERROR\_FILE\_NOT\_FOUND.</span></span> <span data-ttu-id="6c904-112">Cela indique à l’appelant que la batterie associée à la balise existe plus longtemps.</span><span class="sxs-lookup"><span data-stu-id="6c904-112">This indicates to the caller that the battery associated with the tag longer exists.</span></span> <span data-ttu-id="6c904-113">L’appelant peut choisir d’utiliser l’opération de [**\_ \_ \_ balises de requête de batterie IOCTL**](ioctl-battery-query-tag.md) pour déterminer la balise de la batterie nouvellement installée, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="6c904-113">The caller may opt to use the [**IOCTL\_BATTERY\_QUERY\_TAG**](ioctl-battery-query-tag.md) operation to determine the tag of the newly installed battery, if one exists.</span></span> <span data-ttu-id="6c904-114">(Pour plus d’informations, consultez [balises de batterie](battery-information.md) .)</span><span class="sxs-lookup"><span data-stu-id="6c904-114">(See [Battery Tags](battery-information.md) for more information.)</span></span>

<span data-ttu-id="6c904-115">Quand une demande d’informations sur une requête est effectuée, cette valeur est vérifiée.</span><span class="sxs-lookup"><span data-stu-id="6c904-115">When a query information request is made, this value is verified.</span></span> <span data-ttu-id="6c904-116">En outre, si la demande est en cours alors que cette valeur change, la demande est abandonnée avec l’état \_ fichier d' \_ erreur \_ introuvable.</span><span class="sxs-lookup"><span data-stu-id="6c904-116">In addition, if the request is in progress while this value changes, the request is aborted with the status of ERROR\_FILE\_NOT\_FOUND.</span></span>

</dd> <dt>

<span data-ttu-id="6c904-117">**InformationLevel**</span><span class="sxs-lookup"><span data-stu-id="6c904-117">**InformationLevel**</span></span>
</dt> <dd>

<span data-ttu-id="6c904-118">Niveau des informations de batterie interrogées.</span><span class="sxs-lookup"><span data-stu-id="6c904-118">The level of the battery information being queried.</span></span> <span data-ttu-id="6c904-119">Les données retournées par l’IOCTL dépendent de cette valeur.</span><span class="sxs-lookup"><span data-stu-id="6c904-119">The data returned by the IOCTL depends on this value.</span></span> <span data-ttu-id="6c904-120">Ce membre peut être l’une des valeurs suivantes.</span><span class="sxs-lookup"><span data-stu-id="6c904-120">This member can be one of the following values.</span></span>



| <span data-ttu-id="6c904-121">Valeur</span><span class="sxs-lookup"><span data-stu-id="6c904-121">Value</span></span>                                                                                                                                                                                                                                                                                                               | <span data-ttu-id="6c904-122">Signification</span><span class="sxs-lookup"><span data-stu-id="6c904-122">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="BatteryDeviceName"></span><span id="batterydevicename"></span><span id="BATTERYDEVICENAME"></span><dl> <span data-ttu-id="6c904-123"><dt>**BatteryDeviceName**</dt> <dt>4</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-123"><dt>**BatteryDeviceName**</dt> <dt>4</dt></span></span> </dl>                                                 | <span data-ttu-id="6c904-124">Chaîne Unicode terminée par le caractère null qui contient le nom de la batterie.</span><span class="sxs-lookup"><span data-stu-id="6c904-124">Null-terminated Unicode string that contains the battery's name.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="BatteryEstimatedTime"></span><span id="batteryestimatedtime"></span><span id="BATTERYESTIMATEDTIME"></span><dl> <span data-ttu-id="6c904-125"><dt>**BatteryEstimatedTime**</dt> <dt>3</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-125"><dt>**BatteryEstimatedTime**</dt> <dt>3</dt></span></span> </dl>                                     | <span data-ttu-id="6c904-126">**ULong** qui spécifie la durée d’exécution estimée de la batterie, en secondes.</span><span class="sxs-lookup"><span data-stu-id="6c904-126">A **ULONG** that specifies the estimated battery run time, in seconds.</span></span> <span data-ttu-id="6c904-127">Si le taux de drainage fourni dans le membre **AtRate** de la structure d' **\_ \_ informations sur les requêtes** de la batterie est égal à zéro, ce calcul est basé sur le taux de drainage actuel.</span><span class="sxs-lookup"><span data-stu-id="6c904-127">If the rate of drain provided in the **AtRate** member of the **BATTERY\_QUERY\_INFORMATION** structure is zero, this calculation is based on the present rate of drain.</span></span> <span data-ttu-id="6c904-128">Si **AtRate** est différent de zéro, l’heure retournée correspond à la durée d’exécution attendue pour le taux donné.</span><span class="sxs-lookup"><span data-stu-id="6c904-128">If **AtRate** is nonzero, the time returned is the expected run time for the given rate.</span></span> <span data-ttu-id="6c904-129">Si la durée estimée est inconnue (par exemple, si la batterie n’est pas déchargée et que le **AtRate** spécifié est égal à zéro), la valeur de retour est \_ durée d’indisponibilité de la batterie \_ .</span><span class="sxs-lookup"><span data-stu-id="6c904-129">If the estimated time is unknown (for example, the battery is not discharging and the **AtRate** specified was zero), the return value is BATTERY\_UNKNOWN\_TIME.</span></span> <span data-ttu-id="6c904-130">Notez que cette valeur n’est pas très précise sur certains systèmes de batterie et peut varier considérablement en fonction de l’utilisation actuelle de l’alimentation, ce qui peut être affecté par l’activité du disque et d’autres facteurs.</span><span class="sxs-lookup"><span data-stu-id="6c904-130">Note that this value is not very accurate on some battery systems, and may vary widely depending on present power usage, which could be affected by disk activity and other factors.</span></span> <span data-ttu-id="6c904-131">Il n’existe aucun mécanisme de notification pour les modifications de cette valeur.</span><span class="sxs-lookup"><span data-stu-id="6c904-131">There is no notification mechanism for changes in this value.</span></span><br/> |
| <span id="BatteryGranularityInformation"></span><span id="batterygranularityinformation"></span><span id="BATTERYGRANULARITYINFORMATION"></span><dl> <span data-ttu-id="6c904-132"><dt>**BatteryGranularityInformation**</dt> <dt>1</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-132"><dt>**BatteryGranularityInformation**</dt> <dt>1</dt></span></span> </dl> | <span data-ttu-id="6c904-133">Tableau de [**batteries qui \_ signalent \_**](/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale) des structures d’échelle, jamais plus de quatre entrées.</span><span class="sxs-lookup"><span data-stu-id="6c904-133">An array of [**BATTERY\_REPORTING\_SCALE**](/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale) structures, never more than four entries.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="BatteryInformation"></span><span id="batteryinformation"></span><span id="BATTERYINFORMATION"></span><dl> <span data-ttu-id="6c904-134"><dt>**BatteryInformation**</dt> <dt>0</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-134"><dt>**BatteryInformation**</dt> <dt>0</dt></span></span> </dl>                                             | <span data-ttu-id="6c904-135">Structure [**d' \_ informations sur la batterie**](battery-information-str.md) .</span><span class="sxs-lookup"><span data-stu-id="6c904-135">A [**BATTERY\_INFORMATION**](battery-information-str.md) structure.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="BatteryManufactureDate"></span><span id="batterymanufacturedate"></span><span id="BATTERYMANUFACTUREDATE"></span><dl> <span data-ttu-id="6c904-136"><dt>**BatteryManufactureDate**</dt> <dt>5</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-136"><dt>**BatteryManufactureDate**</dt> <dt>5</dt></span></span> </dl>                             | <span data-ttu-id="6c904-137">Structure [**de \_ \_ Date**](battery-manufacture-date-str.md) de la fabrication d’une batterie.</span><span class="sxs-lookup"><span data-stu-id="6c904-137">A [**BATTERY\_MANUFACTURE\_DATE**](battery-manufacture-date-str.md) structure.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="BatteryManufactureName"></span><span id="batterymanufacturename"></span><span id="BATTERYMANUFACTURENAME"></span><dl> <span data-ttu-id="6c904-138"><dt>**BatteryManufactureName**</dt> <dt>6</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-138"><dt>**BatteryManufactureName**</dt> <dt>6</dt></span></span> </dl>                             | <span data-ttu-id="6c904-139">Chaîne Unicode terminée par le caractère null qui spécifie le nom du fabricant de la batterie.</span><span class="sxs-lookup"><span data-stu-id="6c904-139">Null-terminated Unicode string that specifies the name of the manufacturer of the battery.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="BatterySerialNumber"></span><span id="batteryserialnumber"></span><span id="BATTERYSERIALNUMBER"></span><dl> <span data-ttu-id="6c904-140"><dt>**BatterySerialNumber**</dt> <dt>8</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-140"><dt>**BatterySerialNumber**</dt> <dt>8</dt></span></span> </dl>                                         | <span data-ttu-id="6c904-141">Chaîne Unicode terminée par le caractère null qui spécifie le numéro de série de la batterie.</span><span class="sxs-lookup"><span data-stu-id="6c904-141">Null-terminated Unicode string that specifies the battery's serial number.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="BatteryTemperature"></span><span id="batterytemperature"></span><span id="BATTERYTEMPERATURE"></span><dl> <span data-ttu-id="6c904-142"><dt>**BatteryTemperature**</dt> <dt>2</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-142"><dt>**BatteryTemperature**</dt> <dt>2</dt></span></span> </dl>                                             | <span data-ttu-id="6c904-143">**ULong** qui spécifie la température actuelle de la batterie, en dixièmes de degré Kelvin.</span><span class="sxs-lookup"><span data-stu-id="6c904-143">A **ULONG** that specifies the battery's current temperature, in 10ths of a degree Kelvin.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="BatteryUniqueID"></span><span id="batteryuniqueid"></span><span id="BATTERYUNIQUEID"></span><dl> <span data-ttu-id="6c904-144"><dt>**BatteryUniqueID**</dt> <dt>7</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-144"><dt>**BatteryUniqueID**</dt> <dt>7</dt></span></span> </dl>                                                         | <span data-ttu-id="6c904-145">Chaîne Unicode terminée par le caractère null qui identifie de façon unique la batterie.</span><span class="sxs-lookup"><span data-stu-id="6c904-145">Null-terminated Unicode string that uniquely identifies the battery.</span></span> <span data-ttu-id="6c904-146">Cette valeur peut être utilisée pour effectuer le suivi d’une batterie spécifique.</span><span class="sxs-lookup"><span data-stu-id="6c904-146">This value can be used to track a specific battery.</span></span> <span data-ttu-id="6c904-147">Dans le cas de batteries intelligentes, cet ID correspond à la concaténation du nom du fabricant, du nom de l’appareil, de la date de fabrication et d’une représentation imprimable du numéro de série.</span><span class="sxs-lookup"><span data-stu-id="6c904-147">In the case of smart batteries, this ID would be the concatenation of the manufacturer's name, device name, date of manufacture, and a printable representation of the serial number.</span></span> <br/> <span data-ttu-id="6c904-148">Cette valeur n’est pas destinée à être affichée à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6c904-148">This value is not intended to be displayed to the user.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                            |



 

</dd> <dt>

<span data-ttu-id="6c904-149">**AtRate**</span><span class="sxs-lookup"><span data-stu-id="6c904-149">**AtRate**</span></span>
</dt> <dd>

<span data-ttu-id="6c904-150">Ce membre est utilisé uniquement si **InformationLevel** est BatteryEstimatedTime.</span><span class="sxs-lookup"><span data-stu-id="6c904-150">This member is used only if **InformationLevel** is BatteryEstimatedTime.</span></span>

<span data-ttu-id="6c904-151">Si ce membre est différent de zéro, il s’agit d’un taux de drainage qui sera utilisé pour calculer le temps jusqu’à la déchargement de la batterie pour l’BatteryEstimatedTime d’une batterie individuelle.</span><span class="sxs-lookup"><span data-stu-id="6c904-151">If this member is nonzero, it is a rate of drain that will be used to calculate the time until the battery is discharged for the BatteryEstimatedTime of an individual battery.</span></span> <span data-ttu-id="6c904-152">Elle doit être spécifiée dans mW et doit être une valeur négative pour représenter un taux de décharge de batterie.</span><span class="sxs-lookup"><span data-stu-id="6c904-152">It must be specified in mW, and must be a negative value to represent a battery discharge rate.</span></span>

</dd> </dl>

## <a name="remarks"></a><span data-ttu-id="6c904-153">Notes</span><span class="sxs-lookup"><span data-stu-id="6c904-153">Remarks</span></span>

<span data-ttu-id="6c904-154">Certaines informations sur les batteries sont facultatives ou n’ont pas de sens pour certaines batteries.</span><span class="sxs-lookup"><span data-stu-id="6c904-154">Some information about batteries is optional or may be meaningless for some batteries.</span></span> <span data-ttu-id="6c904-155">Si le type de données particulier demandé n’est pas disponible pour la batterie actuelle, la \_ fonction d’erreur non valide \_ est retournée.</span><span class="sxs-lookup"><span data-stu-id="6c904-155">If the particular type of data requested is not available for the current battery, then ERROR\_INVALID\_FUNCTION is returned.</span></span>

## <a name="requirements"></a><span data-ttu-id="6c904-156">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="6c904-156">Requirements</span></span>



| <span data-ttu-id="6c904-157">Condition requise</span><span class="sxs-lookup"><span data-stu-id="6c904-157">Requirement</span></span> | <span data-ttu-id="6c904-158">Valeur</span><span class="sxs-lookup"><span data-stu-id="6c904-158">Value</span></span> |
|-------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6c904-159">Client minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="6c904-159">Minimum supported client</span></span><br/> | <span data-ttu-id="6c904-160">Applications de \[ Bureau Windows XP uniquement\]</span><span class="sxs-lookup"><span data-stu-id="6c904-160">Windows XP \[desktop apps only\]</span></span><br/>                                                                                                                                                                                                                         |
| <span data-ttu-id="6c904-161">Serveur minimal pris en charge</span><span class="sxs-lookup"><span data-stu-id="6c904-161">Minimum supported server</span></span><br/> | <span data-ttu-id="6c904-162">Applications de bureau Windows Server 2003 \[ uniquement\]</span><span class="sxs-lookup"><span data-stu-id="6c904-162">Windows Server 2003 \[desktop apps only\]</span></span><br/>                                                                                                                                                                                                                |
| <span data-ttu-id="6c904-163">En-tête</span><span class="sxs-lookup"><span data-stu-id="6c904-163">Header</span></span><br/>                   | <dl> <span data-ttu-id="6c904-164"><dt>Poclass. h ; </dt> <dt>Batclass. h sur Windows server 2008 R2, Windows 7, Windows server 2008, Windows Vista, Windows Server 2003 et Windows XP</dt></span><span class="sxs-lookup"><span data-stu-id="6c904-164"><dt>Poclass.h; </dt> <dt>Batclass.h on Windows Server 2008 R2, Windows 7, Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="6c904-165">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6c904-165">See also</span></span>

<dl> <dt>

[<span data-ttu-id="6c904-166">**\_informations sur la batterie**</span><span class="sxs-lookup"><span data-stu-id="6c904-166">**BATTERY\_INFORMATION**</span></span>](battery-information-str.md)
</dt> <dt>

[<span data-ttu-id="6c904-167">**\_Date de fabrication de la batterie \_**</span><span class="sxs-lookup"><span data-stu-id="6c904-167">**BATTERY\_MANUFACTURE\_DATE**</span></span>](battery-manufacture-date-str.md)
</dt> <dt>

[<span data-ttu-id="6c904-168">**mise à l’échelle de la batterie \_ \_**</span><span class="sxs-lookup"><span data-stu-id="6c904-168">**BATTERY\_REPORTING\_SCALE**</span></span>](/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale)
</dt> <dt>

[<span data-ttu-id="6c904-169">**\_ \_ informations sur les requêtes de batterie IOCTL \_**</span><span class="sxs-lookup"><span data-stu-id="6c904-169">**IOCTL\_BATTERY\_QUERY\_INFORMATION**</span></span>](ioctl-battery-query-information.md)
</dt> <dt>

[<span data-ttu-id="6c904-170">**\_ \_ balise de requête de batterie IOCTL \_**</span><span class="sxs-lookup"><span data-stu-id="6c904-170">**IOCTL\_BATTERY\_QUERY\_TAG**</span></span>](ioctl-battery-query-tag.md)
</dt> </dl>

 

 




