---
description: Un événement de gestion de l’alimentation du système est une modification de l’état de l’alimentation du système, du mode de fonctionnement d’un appareil ou du système, ou de la valeur d’un paramètre d’alimentation.
ms.assetid: f73b072a-1f69-4e26-9712-dab428edca18
title: Événements de gestion de l’alimentation du système
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7ab18fad9116cfff9e1cd35703e32a49e3b12c8b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106519110"
---
# <a name="system-power-management-events"></a><span data-ttu-id="f868b-103">Événements de gestion de l’alimentation du système</span><span class="sxs-lookup"><span data-stu-id="f868b-103">System Power Management Events</span></span>

<span data-ttu-id="f868b-104">Un événement de gestion de l’alimentation du système est une modification de l’état de l’alimentation du système, du mode de fonctionnement d’un appareil ou du système, ou de la valeur d’un paramètre d’alimentation.</span><span class="sxs-lookup"><span data-stu-id="f868b-104">A system power management event is a change in the system power status, the operational mode of a device or the system, or the value of a power setting.</span></span> <span data-ttu-id="f868b-105">Étant donné que ces événements peuvent affecter le fonctionnement des applications et des pilotes installables, le système avertit toutes les applications et tous les pilotes installables en diffusant une notification pour chaque événement.</span><span class="sxs-lookup"><span data-stu-id="f868b-105">Because these events can affect the operation of applications and installable drivers, the system notifies all applications and installable drivers by broadcasting a notification for each event.</span></span> <span data-ttu-id="f868b-106">Les applications et les services s’inscrivent pour les notifications à l’aide de la fonction [**RegisterPowerSettingNotification**](/windows/desktop/api/WinUser/nf-winuser-registerpowersettingnotification) .</span><span class="sxs-lookup"><span data-stu-id="f868b-106">Applications and services register for notifications by using the [**RegisterPowerSettingNotification**](/windows/desktop/api/WinUser/nf-winuser-registerpowersettingnotification) function.</span></span> <span data-ttu-id="f868b-107">Les notifications sont reçues via le message [**WM \_ POWERBROADCAST**](wm-powerbroadcast.md) , qui contient l’événement de gestion de l’alimentation et toutes les données associées spécifiques à l’événement.</span><span class="sxs-lookup"><span data-stu-id="f868b-107">Notifications are received via the [**WM\_POWERBROADCAST**](wm-powerbroadcast.md) message, which contains the power management event and any associated event-specific data.</span></span>

## <a name="system-power-status-events"></a><span data-ttu-id="f868b-108">Événements d’état de l’alimentation du système</span><span class="sxs-lookup"><span data-stu-id="f868b-108">System Power Status Events</span></span>

<span data-ttu-id="f868b-109">Un *événement d’État* de l’alimentation du système se produit en cas de modification de l’alimentation ou de l’état de la batterie du système.</span><span class="sxs-lookup"><span data-stu-id="f868b-109">A *system power status event* occurs when there is a change in the power supply or in the system battery status.</span></span> <span data-ttu-id="f868b-110">Par exemple, le système diffuse un événement [PBT \_ APMPOWERSTATUSCHANGE](pbt-apmpowerstatuschange.md) chaque fois que l’utilisateur passe d’une batterie à une alimentation secteur, ou vice versa.</span><span class="sxs-lookup"><span data-stu-id="f868b-110">For example, the system broadcasts a [PBT\_APMPOWERSTATUSCHANGE](pbt-apmpowerstatuschange.md) event whenever the user switches from battery to AC power or vice versa.</span></span> <span data-ttu-id="f868b-111">Le système diffuse également cet événement lorsque la puissance de la batterie devient inférieure au seuil spécifié par l'utilisateur ou change selon un pourcentage spécifié.</span><span class="sxs-lookup"><span data-stu-id="f868b-111">The system also broadcasts this event when remaining battery power slips below the threshold specified by the user or if the battery power changes by a specified percentage.</span></span>

## <a name="operational-mode-events"></a><span data-ttu-id="f868b-112">Événements de mode opérationnel</span><span class="sxs-lookup"><span data-stu-id="f868b-112">Operational Mode Events</span></span>

<span data-ttu-id="f868b-113">Un *événement de mode opérationnel* se produit en cas de modification de la consommation d’énergie, comme le passage du système à un état de veille en raison d’une inactivité ou lorsque l’utilisateur met le système en veille manuellement.</span><span class="sxs-lookup"><span data-stu-id="f868b-113">An *operational mode event* occurs when there is a change in power consumption, such as the system switching to a sleep state due to inactivity or the user manually putting the system to sleep.</span></span> <span data-ttu-id="f868b-114">Le système diffuse des événements sur ces modifications avant la modification de la consommation d’énergie.</span><span class="sxs-lookup"><span data-stu-id="f868b-114">The system broadcasts events about these changes before the change in power consumption is made.</span></span> <span data-ttu-id="f868b-115">Par exemple, si le système détermine qu’il est inactif, il diffuse un événement [PBT \_ APMSUSPEND](pbt-apmsuspend.md) qui notifie les applications et les pilotes qu’il est sur le paragraphe d’interrompre l’opération et de se mettre en veille pour économiser de l’énergie.</span><span class="sxs-lookup"><span data-stu-id="f868b-115">For example, if the system determines that it is idle, it broadcasts a [PBT\_APMSUSPEND](pbt-apmsuspend.md) event that notifies applications and drivers that it is about to suspend operation and sleep to conserve power.</span></span> <span data-ttu-id="f868b-116">Les applications et les pilotes peuvent se préparer à la mise en veille en fermant les fichiers et en enregistrant les données pour éviter toute perte de données potentielle.</span><span class="sxs-lookup"><span data-stu-id="f868b-116">Applications and drivers can prepare for sleep by closing files and saving data to avoid potential data loss.</span></span>

<span data-ttu-id="f868b-117">Lorsque le système effectue une *suspension critique*, le système est immédiatement mis en veille en raison d’une condition critique, telle qu’une alerte de batterie critique.</span><span class="sxs-lookup"><span data-stu-id="f868b-117">When the system carries out a *critical suspension*, the system is immediately put to sleep due to a critical condition such as a critical battery alarm.</span></span> <span data-ttu-id="f868b-118">Contrairement à une transition de mise en veille normale, le système ne notifie pas les applications et les pilotes avant d’effectuer une suspension critique.</span><span class="sxs-lookup"><span data-stu-id="f868b-118">In contrast to a normal sleep transition, the system does not notify applications and drivers before carrying out a critical suspension.</span></span> <span data-ttu-id="f868b-119">Par conséquent, les applications doivent être prêtes à gérer les suspensions critiques.</span><span class="sxs-lookup"><span data-stu-id="f868b-119">Therefore, applications must be prepared to handle critical suspensions.</span></span>

<span data-ttu-id="f868b-120">Lorsque l’opération système est restaurée après avoir été suspendue, le système avertit toutes les applications et tous les pilotes.</span><span class="sxs-lookup"><span data-stu-id="f868b-120">When system operation is restored after having been suspended, the system notifies all applications and drivers.</span></span> <span data-ttu-id="f868b-121">Il indique également si le système reprend à partir d’une suspension critique, de sorte que l’application ou le pilote peut prendre les mesures appropriées pour restaurer ses données et poursuivre l’opération.</span><span class="sxs-lookup"><span data-stu-id="f868b-121">It also indicates whether the system is resuming from a critical suspension so the application or driver can take appropriate steps to restore its data and continue operation.</span></span>

<span data-ttu-id="f868b-122">Les applications doivent faire chaque tentative pour gérer la transition vers l’état de veille sans intervention de l’utilisateur, car il est possible que l’utilisateur ne puisse pas répondre.</span><span class="sxs-lookup"><span data-stu-id="f868b-122">Applications should make every attempt to handle the transition to the sleep state without any user intervention because it may not be possible for the user to respond.</span></span> <span data-ttu-id="f868b-123">Par exemple, le couvercle sur l’ordinateur Notebook peut être fermé.</span><span class="sxs-lookup"><span data-stu-id="f868b-123">For example, the lid on the notebook computer may be closed.</span></span> <span data-ttu-id="f868b-124">Lorsqu’une application reçoit une notification indiquant que le système est sur le la même de passer en mode veille, elle doit effectuer les opérations nécessaires rapidement et retourner la boucle de message.</span><span class="sxs-lookup"><span data-stu-id="f868b-124">When an application receives notification that the system is about to enter sleep, it should perform any necessary operations quickly and return out of the message loop.</span></span> <span data-ttu-id="f868b-125">Le système autorise un maximum de deux secondes par application lors du traitement de ce message avant expiration du délai d’attente.</span><span class="sxs-lookup"><span data-stu-id="f868b-125">The system allows for a maximum of two seconds per application when handling this message before timing out.</span></span>

## <a name="power-setting-change-events"></a><span data-ttu-id="f868b-126">Événements de modification du paramètre d’alimentation</span><span class="sxs-lookup"><span data-stu-id="f868b-126">Power Setting Change Events</span></span>

<span data-ttu-id="f868b-127">Un événement de modification du paramètre d’alimentation se produit lorsqu’une modification est apportée à la valeur d’un paramètre d’alimentation.</span><span class="sxs-lookup"><span data-stu-id="f868b-127">A power setting change event occurs when there is a change in the value of a power setting.</span></span> <span data-ttu-id="f868b-128">Par exemple, l’utilisateur modifie le mode de gestion de l’alimentation de haute performance à équilibrer dans l’application options d’alimentation du panneau de configuration.</span><span class="sxs-lookup"><span data-stu-id="f868b-128">For example, the user changes the power plan from High Performance to Balanced in the Power Options application in Control Panel.</span></span> <span data-ttu-id="f868b-129">Dans ce cas, le système diffuse un événement qui indique que le mode de gestion de l’alimentation a changé.</span><span class="sxs-lookup"><span data-stu-id="f868b-129">In this case, the system would broadcast an event that indicates that the power plan has changed.</span></span> <span data-ttu-id="f868b-130">Cet événement comprend la nouvelle valeur du paramètre d’alimentation.</span><span class="sxs-lookup"><span data-stu-id="f868b-130">This event includes the new value for the power setting.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f868b-131">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="f868b-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f868b-132">À propos de la gestion de l’alimentation</span><span class="sxs-lookup"><span data-stu-id="f868b-132">About Power Management</span></span>](about-power-management.md)
</dt> </dl>

 

 



