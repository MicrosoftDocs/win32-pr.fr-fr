---
description: Cette section décrit les nouvelles fonctionnalités qui ont été ajoutées à Suivi d’v nements pour Windows dans chaque version.
ms.assetid: 5d94a6d2-2280-4a97-aa5a-c9ca2c016c84
title: Nouveautés du suivi d’événements
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 613433834e5a11f2886b6ee314fdb60114f66976
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103753029"
---
# <a name="whats-new-in-event-tracing"></a><span data-ttu-id="aef62-103">Nouveautés du suivi d’événements</span><span class="sxs-lookup"><span data-stu-id="aef62-103">What's New in Event Tracing</span></span>

<span data-ttu-id="aef62-104">Cette section décrit les nouvelles fonctionnalités qui ont été ajoutées à Suivi d’v nements pour Windows dans chaque version.</span><span class="sxs-lookup"><span data-stu-id="aef62-104">This section describes the new features that were added to Event Tracing for Windows in each release.</span></span>

## <a name="windows-10-version-1709"></a><span data-ttu-id="aef62-105">Windows 10, version 1709</span><span class="sxs-lookup"><span data-stu-id="aef62-105">Windows 10, version 1709</span></span>

<span data-ttu-id="aef62-106">ETW peut désormais éventuellement suivre des binaires pour tous les fournisseurs qui sont activés pour la session.</span><span class="sxs-lookup"><span data-stu-id="aef62-106">ETW can now optionally track binaries for all providers that are enabled to the session.</span></span> <span data-ttu-id="aef62-107">Le suivi s’applique rétroactivement aux fournisseurs qui ont été activés pour la session avant l’appel, ainsi qu’à tous les futurs fournisseurs activés pour la session.</span><span class="sxs-lookup"><span data-stu-id="aef62-107">The tracking applies retroactively for providers that were enabled to the session prior to the call, as well as for all future providers that are enabled to the session.</span></span> <span data-ttu-id="aef62-108">Vous pouvez également interroger le nombre maximal actuellement configuré d’enregistreurs système autorisés par le système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="aef62-108">You can also now query for the currently-configured maximum number of system loggers allowed by the operating system.</span></span> <span data-ttu-id="aef62-109">Pour plus d’informations, consultez les valeurs **TraceProviderBinaryTracking** et **TraceMaxLoggersQuery** de l’énumération des [**classes d' \_ informations \_ de trace**](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class) , ainsi que la récupération de [données de suivi d’événements supplémentaires](retrieving-additional-event-tracing-data.md).</span><span class="sxs-lookup"><span data-stu-id="aef62-109">For more information, see the **TraceProviderBinaryTracking** and **TraceMaxLoggersQuery** values of the [**TRACE\_INFO\_CLASS**](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class) enumeration, as well as [Retrieving Additional Event Tracing Data](retrieving-additional-event-tracing-data.md).</span></span>

<span data-ttu-id="aef62-110">ETW peut désormais filtrer les événements en fonction du nom de l’événement.</span><span class="sxs-lookup"><span data-stu-id="aef62-110">ETW can now filter events based on event name.</span></span> <span data-ttu-id="aef62-111">Vous pouvez également déterminer quels événements obtiennent leurs piles.</span><span class="sxs-lookup"><span data-stu-id="aef62-111">You can also determine which events get their stacks captured.</span></span> <span data-ttu-id="aef62-112">Pour plus d’informations, consultez les valeurs de type de filtre d’événement **\_ \_ \_ \_ nom d’événement**, type de filtre d' **événement \_ \_ \_ STACKWALK \_ nom** et **type de filtre d’événement STACKWALK valeurs de \_ \_ \_ \_ niveau \_ kW** de la structure de [**\_ \_ descripteur de filtre d’événement**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) , ainsi que le [**\_ \_ \_ nom d’événement de filtre**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_event_name) d’événement associé et les structures [**\_ \_ \_ kW de niveau de filtre d’événement**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_level_kw) .</span><span class="sxs-lookup"><span data-stu-id="aef62-112">For more information, see the **EVENT\_FILTER\_TYPE\_EVENT\_NAME**, **EVENT\_FILTER\_TYPE\_STACKWALK\_NAME** , and **EVENT\_FILTER\_TYPE\_STACKWALK\_LEVEL\_KW** values of the [**EVENT\_FILTER\_DESCRIPTOR**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) structure, as well as the associated [**EVENT\_FILTER\_EVENT\_NAME**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_event_name) and [**EVENT\_FILTER\_LEVEL\_KW**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_level_kw) structures.</span></span>

## <a name="windows-10"></a><span data-ttu-id="aef62-113">Windows 10</span><span class="sxs-lookup"><span data-stu-id="aef62-113">Windows 10</span></span>

<span data-ttu-id="aef62-114">[TraceLogging](../tracelogging/trace-logging-portal.md) s’appuie sur ETW et fournit un moyen simplifié d’instrumenter le code pour les développeurs natifs, .net et WinRT.</span><span class="sxs-lookup"><span data-stu-id="aef62-114">[TraceLogging](../tracelogging/trace-logging-portal.md) builds on ETW and provides a simplified way to instrument code for native, .NET and WinRT developers.</span></span> <span data-ttu-id="aef62-115">TraceLogging vous permet d’inclure des données structurées avec des événements, de mettre en corrélation des événements et ne requiert pas de fichier XML de manifeste d’instrumentation distinct.</span><span class="sxs-lookup"><span data-stu-id="aef62-115">TraceLogging allows you to include structured data with events, correlate events, and does not require a separate instrumentation manifest XML file.</span></span>

<span data-ttu-id="aef62-116">Les [caractéristiques du fournisseur](provider-traits.md) ont été ajoutées en tant que méthode d’attachement d’un plus grand nombre de données à l’inscription d’un fournisseur individuel.</span><span class="sxs-lookup"><span data-stu-id="aef62-116">[Provider Traits](provider-traits.md) were added as a method of attaching more data to an individual provider registration.</span></span> <span data-ttu-id="aef62-117">Elles peuvent être utilisées pour les fournisseurs TraceLogging ou basés sur un manifeste.</span><span class="sxs-lookup"><span data-stu-id="aef62-117">They can be used for manifest-based or TraceLogging providers.</span></span> <span data-ttu-id="aef62-118">Cela comprend actuellement la prise en charge de l’ajout d’un nom de fournisseur et/ou d’un groupe de fournisseurs à l’inscription d’un fournisseur individuel.</span><span class="sxs-lookup"><span data-stu-id="aef62-118">This currently includes support for adding a Provider Name and/or a Provider Group to an individual provider registration.</span></span> <span data-ttu-id="aef62-119">Les groupes de fournisseurs sont une nouvelle fonctionnalité qui permet de contrôler plusieurs fournisseurs ETW dans l’agrégat par le groupe auquel ils appartiennent.</span><span class="sxs-lookup"><span data-stu-id="aef62-119">Provider Groups are a new feature to allow multiple ETW providers to be controlled in aggregate by the group they belong to.</span></span>

<span data-ttu-id="aef62-120">L’état de capture périodique est un moyen d’autoriser régulièrement l’envoi des notifications d’état de capture aux fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="aef62-120">Periodic capture state is a way to allow capture state notifications to be routinely sent to providers.</span></span> <span data-ttu-id="aef62-121">Quand cette option est activée, les notifications sont envoyées uniquement aux inscriptions du fournisseur qui ont été activées précédemment pour la session active.</span><span class="sxs-lookup"><span data-stu-id="aef62-121">When this is enabled, notifications will only be sent to provider registrations that have been previously enabled to the current session.</span></span> <span data-ttu-id="aef62-122">Chaque fournisseur peut définir sa propre réponse (le cas échéant) à une notification.</span><span class="sxs-lookup"><span data-stu-id="aef62-122">Each provider can define its own response (if any) to a notification.</span></span> <span data-ttu-id="aef62-123">Pour plus d’informations sur l’implémentation, consultez [**trace \_ periodly \_ capture \_ State \_ info**](/windows/win32/api/evntrace/ns-evntrace-trace_periodic_capture_state_info).</span><span class="sxs-lookup"><span data-stu-id="aef62-123">For implementation details, see [**TRACE\_PERIODIC\_CAPTURE\_STATE\_INFO**](/windows/win32/api/evntrace/ns-evntrace-trace_periodic_capture_state_info).</span></span>

## <a name="windows-81-and-windows-server-2012-r2"></a><span data-ttu-id="aef62-124">Windows 8.1 et Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="aef62-124">Windows 8.1 and Windows Server 2012 R2</span></span>

<span data-ttu-id="aef62-125">Les fonctionnalités suivantes ont été ajoutées au suivi d’événements sur Windows 8.1 et Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="aef62-125">The following features have been added to Event Tracing on Windows 8.1 and Windows Server 2012 R2.</span></span>

<span data-ttu-id="aef62-126">Les fonctions qui prennent en charge l’utilisation de la charge utile d’événement, la portée et les filtres de parcours de pile utilisés par la fonction [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) et les structures [**activer les \_ \_ paramètres de trace**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) et [**\_ \_ descripteurs de filtre d’événement**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) pour filtrer sur des conditions spécifiques dans une session de journalisation.</span><span class="sxs-lookup"><span data-stu-id="aef62-126">Functions that support using event payload, scope, and stack walk filters used by the [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) function and the [**ENABLE\_TRACE\_PARAMETERS**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) and [**EVENT\_FILTER\_DESCRIPTOR**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) structures to filter on specific conditions in a logger session.</span></span> <span data-ttu-id="aef62-127">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="aef62-127">For more information, see:</span></span>

-   [<span data-ttu-id="aef62-128">**TdhAggregatePayloadFilters**</span><span class="sxs-lookup"><span data-stu-id="aef62-128">**TdhAggregatePayloadFilters**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhaggregatepayloadfilters)
-   [<span data-ttu-id="aef62-129">**TdhCleanupPayloadEventFilterDescriptor**</span><span class="sxs-lookup"><span data-stu-id="aef62-129">**TdhCleanupPayloadEventFilterDescriptor**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhcleanuppayloadeventfilterdescriptor)
-   [<span data-ttu-id="aef62-130">**TdhCreatePayloadFilter**</span><span class="sxs-lookup"><span data-stu-id="aef62-130">**TdhCreatePayloadFilter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhcreatepayloadfilter)
-   [<span data-ttu-id="aef62-131">**TdhDeletePayloadFilter**</span><span class="sxs-lookup"><span data-stu-id="aef62-131">**TdhDeletePayloadFilter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhdeletepayloadfilter)

<span data-ttu-id="aef62-132">En outre, consultez la documentation largement révisée pour la fonction [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) et les structures [**activer les \_ \_ paramètres de trace**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) et le [**\_ \_ descripteur de filtre d’événement**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) utilisées par ces fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="aef62-132">In addition, see the extensively revised documentation for the [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) function and the [**ENABLE\_TRACE\_PARAMETERS**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) and [**EVENT\_FILTER\_DESCRIPTOR**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) structures that are used by these features.</span></span>

<span data-ttu-id="aef62-133">Structure qui définit un prédicat de filtre de charge utile d’événement qui décrit comment filtrer sur un champ unique dans une session de trace utilisée par la nouvelle fonction [**TdhCreatePayloadFilter**](/windows/desktop/api/Tdh/nf-tdh-tdhcreatepayloadfilter) et une nouvelle structure utilisée par l’ID d’événement et les filtres de parcours de pile.</span><span class="sxs-lookup"><span data-stu-id="aef62-133">A structure that defines an event payload filter predicate that describes how to filter on a single field in a trace session used by the new [**TdhCreatePayloadFilter**](/windows/desktop/api/Tdh/nf-tdh-tdhcreatepayloadfilter) function and a new structure used by event ID and stack walk filters.</span></span> <span data-ttu-id="aef62-134">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="aef62-134">For more information, see:</span></span>

-   [<span data-ttu-id="aef62-135">**\_ID d' \_ événement de filtre d’événements \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-135">**EVENT\_FILTER\_EVENT\_ID**</span></span>](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_event_id)
-   [<span data-ttu-id="aef62-136">**\_prédicat de filtre de charge utile \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-136">**PAYLOAD\_FILTER\_PREDICATE**</span></span>](/windows/desktop/api/Tdh/ns-tdh-payload_filter_predicate)

<span data-ttu-id="aef62-137">Fonctions qui récupèrent des informations sur les événements présents dans le manifeste du fournisseur.</span><span class="sxs-lookup"><span data-stu-id="aef62-137">Functions that retrieve information on events present in the provider manifest.</span></span> <span data-ttu-id="aef62-138">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="aef62-138">For more information, see:</span></span>

-   [<span data-ttu-id="aef62-139">**TdhEnumerateManifestProviderEvents**</span><span class="sxs-lookup"><span data-stu-id="aef62-139">**TdhEnumerateManifestProviderEvents**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhenumeratemanifestproviderevents)
-   [<span data-ttu-id="aef62-140">**TdhGetManifestEventInformation**</span><span class="sxs-lookup"><span data-stu-id="aef62-140">**TdhGetManifestEventInformation**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetmanifesteventinformation)

<span data-ttu-id="aef62-141">Structure qui définit un tableau d’événements dans un manifeste de fournisseur utilisé par la nouvelle fonction [**TdhEnumerateManifestProviderEvents**](/windows/desktop/api/Tdh/nf-tdh-tdhenumeratemanifestproviderevents) .</span><span class="sxs-lookup"><span data-stu-id="aef62-141">A structure that defines an array of events in a provider manifest used by the new [**TdhEnumerateManifestProviderEvents**](/windows/desktop/api/Tdh/nf-tdh-tdhenumeratemanifestproviderevents) function.</span></span> <span data-ttu-id="aef62-142">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="aef62-142">For more information, see:</span></span>

-   [<span data-ttu-id="aef62-143">**\_informations sur l’événement du fournisseur \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-143">**PROVIDER\_EVENT\_INFO**</span></span>](/windows/desktop/api/Tdh/ns-tdh-provider_event_info)

## <a name="windows-8-and-windows-server-2012"></a><span data-ttu-id="aef62-144">Windows 8 et Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="aef62-144">Windows 8 and Windows Server 2012</span></span>

<span data-ttu-id="aef62-145">Les fonctionnalités suivantes ont été ajoutées au suivi d’événements sur Windows 8 et Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="aef62-145">The following features have been added to the Event Tracing on Windows 8 and Windows Server 2012.</span></span>

<span data-ttu-id="aef62-146">Les fonctions qui effectuent des opérations sur un objet d’inscription, fournissent l’analyse de la charge utile d’événement, fournissent l’exploration des fournisseurs de suivi, interrogent les paramètres de session de suivi d’événements et traitent un fichier de trace reconnecté.</span><span class="sxs-lookup"><span data-stu-id="aef62-146">Functions that performs operations on a registration object, provide event payload parsing, provide trace provider browsing, query event tracing session settings, and process a relogged trace file.</span></span> <span data-ttu-id="aef62-147">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="aef62-147">For more information, see:</span></span>

-   [<span data-ttu-id="aef62-148">**EventSetInformation**</span><span class="sxs-lookup"><span data-stu-id="aef62-148">**EventSetInformation**</span></span>](/windows/desktop/api/Evntprov/nf-evntprov-eventsetinformation)
-   [<span data-ttu-id="aef62-149">**TdhCloseDecodingHandle**</span><span class="sxs-lookup"><span data-stu-id="aef62-149">**TdhCloseDecodingHandle**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhclosedecodinghandle)
-   [<span data-ttu-id="aef62-150">**TdhGetDecodingParameter**</span><span class="sxs-lookup"><span data-stu-id="aef62-150">**TdhGetDecodingParameter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetdecodingparameter)
-   [<span data-ttu-id="aef62-151">**TdhGetWppProperty**</span><span class="sxs-lookup"><span data-stu-id="aef62-151">**TdhGetWppProperty**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetwppproperty)
-   [<span data-ttu-id="aef62-152">**TdhGetWppMessage**</span><span class="sxs-lookup"><span data-stu-id="aef62-152">**TdhGetWppMessage**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetwppmessage)
-   [<span data-ttu-id="aef62-153">**TdhLoadManifestFromBinary**</span><span class="sxs-lookup"><span data-stu-id="aef62-153">**TdhLoadManifestFromBinary**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifestfrombinary)
-   [<span data-ttu-id="aef62-154">**TdhOpenDecodingHandle**</span><span class="sxs-lookup"><span data-stu-id="aef62-154">**TdhOpenDecodingHandle**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhopendecodinghandle)
-   [<span data-ttu-id="aef62-155">**TdhSetDecodingParameter**</span><span class="sxs-lookup"><span data-stu-id="aef62-155">**TdhSetDecodingParameter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhsetdecodingparameter)
-   [<span data-ttu-id="aef62-156">**TraceQueryInformation**</span><span class="sxs-lookup"><span data-stu-id="aef62-156">**TraceQueryInformation**</span></span>](/windows/win32/api/evntrace/nf-evntrace-tracequeryinformation)

<span data-ttu-id="aef62-157">Les interfaces qui fournissent des informations au journal sur le processus de suivi et le moment où les événements sont enregistrés, l’accès aux données pour un événement spécifique et l’accès aux fonctionnalités de rejournalisation qui autorisent la manipulation de fichiers de journal de suivi d’événements (ETL).</span><span class="sxs-lookup"><span data-stu-id="aef62-157">Interfaces that provide information to the relogger on the tracing process and when events are logged, access to data for a specific event, and access to relogger features that allow the manipulation of Event Trace Log (ETL) files.</span></span> <span data-ttu-id="aef62-158">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="aef62-158">For more information, see:</span></span>

-   [<span data-ttu-id="aef62-159">**ITraceEvent**</span><span class="sxs-lookup"><span data-stu-id="aef62-159">**ITraceEvent**</span></span>](/windows/desktop/api/Relogger/nn-relogger-itraceevent)
-   [<span data-ttu-id="aef62-160">**ITraceEventCallback**</span><span class="sxs-lookup"><span data-stu-id="aef62-160">**ITraceEventCallback**</span></span>](/windows/desktop/api/Relogger/nn-relogger-itraceeventcallback)
-   [<span data-ttu-id="aef62-161">**ITraceRelogger**</span><span class="sxs-lookup"><span data-stu-id="aef62-161">**ITraceRelogger**</span></span>](/windows/desktop/api/Relogger/nn-relogger-itracerelogger)

<span data-ttu-id="aef62-162">Énumérations supplémentaires utilisées par les nouvelles fonctions et interfaces.</span><span class="sxs-lookup"><span data-stu-id="aef62-162">Additional enumerations used by the new functions and interfaces.</span></span> <span data-ttu-id="aef62-163">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="aef62-163">For more information, see:</span></span>

-   [<span data-ttu-id="aef62-164">**\_classe d’informations d’événement \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-164">**EVENT\_INFO\_CLASS**</span></span>](/windows/desktop/api/Evntprov/ne-evntprov-event_info_class)
-   [<span data-ttu-id="aef62-165">**\_classe d' \_ informations de requête de trace \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-165">**TRACE\_QUERY\_INFO\_CLASS**</span></span>](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class)

## <a name="windows-7-and-windows-server-2008-r2"></a><span data-ttu-id="aef62-166">Windows 7 et Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="aef62-166">Windows 7 and Windows Server 2008 R2</span></span>

<span data-ttu-id="aef62-167">Les fonctionnalités suivantes ont été ajoutées dans cette version :</span><span class="sxs-lookup"><span data-stu-id="aef62-167">The following features were added in this release:</span></span>

-   <span data-ttu-id="aef62-168">La possibilité pour les fournisseurs de définir des filtres dans le manifeste.</span><span class="sxs-lookup"><span data-stu-id="aef62-168">The ability for providers to define filters in the manifest.</span></span> <span data-ttu-id="aef62-169">Dans Windows Vista, les contrôleurs pouvaient transmettre des données de filtre au fournisseur.</span><span class="sxs-lookup"><span data-stu-id="aef62-169">In Windows Vista, controllers could pass filter data to the provider.</span></span> <span data-ttu-id="aef62-170">Toutefois, la mise en page des données de filtre n’a pas été définie dans le manifeste, de sorte que le fournisseur doit utiliser d’autres moyens pour fournir la définition de filtre aux contrôleurs.</span><span class="sxs-lookup"><span data-stu-id="aef62-170">However, the layout of the filter data was not defined in the manifest, so the provider would have to use other means to provide the filter definition to controllers.</span></span> <span data-ttu-id="aef62-171">Avec cette version, les fournisseurs peuvent définir la définition de filtre dans le manifeste (consultez l’attribut **Filters** du type complexe [**ProviderType**](../wes/eventmanifestschema-providertype-complextype.md) ).</span><span class="sxs-lookup"><span data-stu-id="aef62-171">With this release, providers can define the filter definition in the manifest (see the **filters** attribute of the [**ProviderType**](../wes/eventmanifestschema-providertype-complextype.md) complex type).</span></span> <span data-ttu-id="aef62-172">Les contrôleurs peuvent ensuite utiliser la fonction [**TdhEnumerateProviderFilters**](/windows/desktop/api/Tdh/nf-tdh-tdhenumerateproviderfilters) pour déterminer la définition de filtre.</span><span class="sxs-lookup"><span data-stu-id="aef62-172">Controllers can then use the [**TdhEnumerateProviderFilters**](/windows/desktop/api/Tdh/nf-tdh-tdhenumerateproviderfilters) function to determine the filter definition.</span></span> <span data-ttu-id="aef62-173">Les fournisseurs qui utilisent des filtres doivent utiliser la fonction [**EventWriteEx**](/windows/desktop/api/Evntprov/nf-evntprov-eventwriteex) pour écrire l’événement.</span><span class="sxs-lookup"><span data-stu-id="aef62-173">Providers that use filters should use the [**EventWriteEx**](/windows/desktop/api/Evntprov/nf-evntprov-eventwriteex) function to write the event.</span></span>
-   <span data-ttu-id="aef62-174">La possibilité d’utiliser une seule mémoire tampon pour collecter des événements générés sur plusieurs processeurs.</span><span class="sxs-lookup"><span data-stu-id="aef62-174">The ability to use a single buffer to gather events generated on multiple processors.</span></span> <span data-ttu-id="aef62-175">L’utilisation d’une seule mémoire tampon élimine les événements qui apparaissent dans le désordre sur les ordinateurs multiprocesseurs.</span><span class="sxs-lookup"><span data-stu-id="aef62-175">Using a single buffer eliminates events from appearing out of order on multi-processors computers.</span></span> <span data-ttu-id="aef62-176">Pour plus d’informations, consultez le mode de journalisation de la [**\_ mise en \_ \_ \_ \_ mémoire tampon non par processeur**](logging-mode-constants.md) .</span><span class="sxs-lookup"><span data-stu-id="aef62-176">For details, see the [**EVENT\_TRACE\_NO\_PER\_PROCESSOR\_BUFFERING**](logging-mode-constants.md) logging mode.</span></span> <span data-ttu-id="aef62-177">Par défaut, ETW utilise des mémoires tampons par processeur.</span><span class="sxs-lookup"><span data-stu-id="aef62-177">By default, ETW uses per-processor buffers.</span></span>
-   <span data-ttu-id="aef62-178">Possibilité de capturer une trace de la pile pour les événements.</span><span class="sxs-lookup"><span data-stu-id="aef62-178">The ability to capture a stack trace for events.</span></span> <span data-ttu-id="aef62-179">Pour activer le suivi de pile pour les événements de noyau, consultez la fonction [**TraceSetInformation**](/windows/win32/api/evntrace/nf-evntrace-tracesetinformation) .</span><span class="sxs-lookup"><span data-stu-id="aef62-179">To enable stack tracing for kernel events, see the [**TraceSetInformation**](/windows/win32/api/evntrace/nf-evntrace-tracesetinformation) function.</span></span> <span data-ttu-id="aef62-180">Pour activer le suivi de pile pour les événements utilisateur, consultez l’indicateur de trace de la pile des propriétés d’activation d’événement pour le membre **EnableProperty** de l’option [**activer les \_ \_ paramètres de trace**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters). **\_ \_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-180">To enable stack tracing for user events, see the **EVENT\_ENABLE\_PROPERTY\_STACK\_TRACE** flag for the **EnableProperty** member of [**ENABLE\_TRACE\_PARAMETERS**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters).</span></span>
-   <span data-ttu-id="aef62-181">La possibilité de spécifier le **\_ mode de \_ mise \_ en mémoire tampon de trace** d’événements ou le mode de **\_ fichier de trace d' \_ \_ \_ événements** mode de journalisation avec le mode de journalisation **privé du \_ \_ \_ journal \_** des événements de suivi d’événements (voir [constantes de mode de journalisation](logging-mode-constants.md)).</span><span class="sxs-lookup"><span data-stu-id="aef62-181">The ability to specify the **EVENT\_TRACE\_BUFFERING\_MODE** or **EVENT\_TRACE\_FILE\_MODE\_NEWFILE** logging mode with the **EVENT\_TRACE\_PRIVATE\_LOGGER\_MODE** logging mode (see [Logging Mode Constants](logging-mode-constants.md)).</span></span>
-   <span data-ttu-id="aef62-182">La possibilité d’activer un fournisseur de façon synchrone.</span><span class="sxs-lookup"><span data-stu-id="aef62-182">The ability to enable a provider synchronously.</span></span> <span data-ttu-id="aef62-183">Par défaut, les fournisseurs sont activés de manière asynchrone.</span><span class="sxs-lookup"><span data-stu-id="aef62-183">By default, providers are enabled asynchronously.</span></span> <span data-ttu-id="aef62-184">Pour activer un fournisseur de façon synchrone, définissez le paramètre *timeout* de [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span><span class="sxs-lookup"><span data-stu-id="aef62-184">To enable a provider synchronously, set the *Timeout* parameter of [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span></span>
-   <span data-ttu-id="aef62-185">Capacité du contrôleur à demander que le fournisseur enregistre son état.</span><span class="sxs-lookup"><span data-stu-id="aef62-185">The ability for the controller to request that the provider log its state.</span></span> <span data-ttu-id="aef62-186">Pour plus d’informations, consultez l’indicateur d’état de capture du  code de contrôle d' **événement \_ \_ \_ \_** pour le paramètre ControlCode de [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span><span class="sxs-lookup"><span data-stu-id="aef62-186">For details, see the **EVENT\_CONTROL\_CODE\_CAPTURE\_STATE** flag for the *ControlCode* parameter of [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span></span>
-   <span data-ttu-id="aef62-187">La possibilité pour les consommateurs de mettre en forme les données d’événement à l’aide de la fonction [**TdhFormatProperty**](/windows/desktop/api/Tdh/nf-tdh-tdhformatproperty) .</span><span class="sxs-lookup"><span data-stu-id="aef62-187">The ability for consumers to format event data using the [**TdhFormatProperty**](/windows/desktop/api/Tdh/nf-tdh-tdhformatproperty) function.</span></span>
-   <span data-ttu-id="aef62-188">Possibilité de décoder des événements manifestes sur des ordinateurs qui ne contiennent pas le fournisseur.</span><span class="sxs-lookup"><span data-stu-id="aef62-188">The ability to decode manifested events on computers that do not contain the provider.</span></span> <span data-ttu-id="aef62-189">Pour plus d’informations, consultez la fonction [**TdhLoadManifest**](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifest) .</span><span class="sxs-lookup"><span data-stu-id="aef62-189">For details, see the [**TdhLoadManifest**](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifest) function.</span></span>

<span data-ttu-id="aef62-190">Les fonctions suivantes ont été ajoutées dans cette version :</span><span class="sxs-lookup"><span data-stu-id="aef62-190">The following functions were added in this release:</span></span>

-   [<span data-ttu-id="aef62-191">**EnableTraceEx2**</span><span class="sxs-lookup"><span data-stu-id="aef62-191">**EnableTraceEx2**</span></span>](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2)
-   [<span data-ttu-id="aef62-192">**EventWriteEx**</span><span class="sxs-lookup"><span data-stu-id="aef62-192">**EventWriteEx**</span></span>](/windows/desktop/api/Evntprov/nf-evntprov-eventwriteex)
-   [<span data-ttu-id="aef62-193">**TdhEnumerateProviderFilters**</span><span class="sxs-lookup"><span data-stu-id="aef62-193">**TdhEnumerateProviderFilters**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhenumerateproviderfilters)
-   [<span data-ttu-id="aef62-194">**TdhFormatProperty**</span><span class="sxs-lookup"><span data-stu-id="aef62-194">**TdhFormatProperty**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhformatproperty)
-   [<span data-ttu-id="aef62-195">**TdhLoadManifest**</span><span class="sxs-lookup"><span data-stu-id="aef62-195">**TdhLoadManifest**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifest)
-   [<span data-ttu-id="aef62-196">**TdhUnloadManifest**</span><span class="sxs-lookup"><span data-stu-id="aef62-196">**TdhUnloadManifest**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhunloadmanifest)
-   [<span data-ttu-id="aef62-197">**TraceSetInformation**</span><span class="sxs-lookup"><span data-stu-id="aef62-197">**TraceSetInformation**</span></span>](/windows/win32/api/evntrace/nf-evntrace-tracesetinformation)

<span data-ttu-id="aef62-198">Les structures suivantes ont été ajoutées dans cette version :</span><span class="sxs-lookup"><span data-stu-id="aef62-198">The following structures were added in this release:</span></span>

-   [<span data-ttu-id="aef62-199">**\_ID d’événement classique \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-199">**CLASSIC\_EVENT\_ID**</span></span>](/windows/win32/api/evntrace/ns-evntrace-classic_event_id)
-   [<span data-ttu-id="aef62-200">**ACTIVER \_ les \_ paramètres de trace**</span><span class="sxs-lookup"><span data-stu-id="aef62-200">**ENABLE\_TRACE\_PARAMETERS**</span></span>](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters)
-   [<span data-ttu-id="aef62-201">**TRACE32 de pile des éléments d’événements \_ étendus \_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-201">**EVENT\_EXTENDED\_ITEM\_STACK\_TRACE32**</span></span>](/windows/desktop/api/Evntcons/ns-evntcons-event_extended_item_stack_trace32)
-   [<span data-ttu-id="aef62-202">**TRACE64 de pile des éléments d’événements \_ étendus \_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-202">**EVENT\_EXTENDED\_ITEM\_STACK\_TRACE64**</span></span>](/windows/desktop/api/Evntcons/ns-evntcons-event_extended_item_stack_trace64)
-   [<span data-ttu-id="aef62-203">**\_ \_ en-tête de filtre d’événement**</span><span class="sxs-lookup"><span data-stu-id="aef62-203">**EVENT\_FILTER\_HEADER**</span></span>](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_header)
-   [<span data-ttu-id="aef62-204">**\_informations de filtre du fournisseur \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-204">**PROVIDER\_FILTER\_INFO**</span></span>](/windows/desktop/api/Tdh/ns-tdh-provider_filter_info)

<span data-ttu-id="aef62-205">Les énumérations suivantes ont été ajoutées dans cette version :</span><span class="sxs-lookup"><span data-stu-id="aef62-205">The following enumerations were added in this release:</span></span>

-   [<span data-ttu-id="aef62-206">**\_classe d’informations de trace \_**</span><span class="sxs-lookup"><span data-stu-id="aef62-206">**TRACE\_INFO\_CLASS**</span></span>](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class)

<span data-ttu-id="aef62-207">Les classes MOF suivantes ont été ajoutées dans cette version :</span><span class="sxs-lookup"><span data-stu-id="aef62-207">The following MOF classes were added in this release:</span></span>

-   [<span data-ttu-id="aef62-208">**StackWalk**</span><span class="sxs-lookup"><span data-stu-id="aef62-208">**StackWalk**</span></span>](stackwalk.md)
-   [<span data-ttu-id="aef62-209">**\_Événement StackWalk**</span><span class="sxs-lookup"><span data-stu-id="aef62-209">**StackWalk\_Event**</span></span>](stackwalk-event.md)

 

 
