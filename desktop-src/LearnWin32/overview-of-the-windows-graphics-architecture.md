---
title: Vue d’ensemble de l’architecture graphique Windows
description: Décrit les API graphiques C++/COM dans Windows.
ms.assetid: 9654b18b-d615-455d-a92a-6fc2ccda469e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4f45ba44f54b947d923b888d51080ff0335119a1
ms.sourcegitcommit: 35bb565804eaeed7ac5503595753f59d120076dd
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/09/2021
ms.locfileid: "104116014"
---
# <a name="overview-of-the-windows-graphics-architecture"></a><span data-ttu-id="dd5d6-103">Vue d’ensemble de l’architecture graphique Windows</span><span class="sxs-lookup"><span data-stu-id="dd5d6-103">Overview of the Windows Graphics Architecture</span></span>

<span data-ttu-id="dd5d6-104">Windows fournit plusieurs API C++/COM pour les graphiques.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-104">Windows provides several C++/COM APIs for graphics.</span></span> <span data-ttu-id="dd5d6-105">Ces API sont présentées dans le diagramme suivant.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-105">These APIs are shown in the following diagram.</span></span>

![diagramme qui montre les API graphiques Windows.](images/graphics01.png)

-   <span data-ttu-id="dd5d6-107">Graphics Device Interface (GDI) est l’interface graphique d’origine pour Windows.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-107">Graphics Device Interface (GDI) is the original graphics interface for Windows.</span></span> <span data-ttu-id="dd5d6-108">GDI a été écrit pour la première fois pour Windows 16 bits, puis mis à jour pour Windows 32 bits et 64 bits.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-108">GDI was first written for 16-bit Windows and then updated for 32-bit and 64-bit Windows.</span></span>
-   <span data-ttu-id="dd5d6-109">GDI+ a été introduit dans Windows XP en tant que successeur de GDI.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-109">GDI+ was introduced in Windows XP as a successor to GDI.</span></span> <span data-ttu-id="dd5d6-110">La bibliothèque GDI+ est accessible via un ensemble de classes C++ qui encapsulent des fonctions C plates.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-110">The GDI+ library is accessed through a set of C++ classes that wrap flat C functions.</span></span> <span data-ttu-id="dd5d6-111">Le .NET Framework fournit également une version managée de GDI+ dans l’espace de noms **System. Drawing** .</span><span class="sxs-lookup"><span data-stu-id="dd5d6-111">The .NET Framework also provides a managed version of GDI+ in the **System.Drawing** namespace.</span></span>
-   <span data-ttu-id="dd5d6-112">Direct3D prend en charge les graphiques 3D.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-112">Direct3D supports 3-D graphics.</span></span>
-   <span data-ttu-id="dd5d6-113">Direct2D est une API moderne pour les graphiques 2D, le successeur de GDI et GDI+.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-113">Direct2D is a modern API for 2-D graphics, the successor to both GDI and GDI+.</span></span>
-   <span data-ttu-id="dd5d6-114">DirectWrite est un moteur de rastérisation et de mise en page de texte.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-114">DirectWrite is a text layout and rasterization engine.</span></span> <span data-ttu-id="dd5d6-115">Vous pouvez utiliser GDI ou Direct2D pour dessiner le texte pixellisé.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-115">You can use either GDI or Direct2D to draw the rasterized text.</span></span>
-   <span data-ttu-id="dd5d6-116">L’infrastructure DXGI (DirectX Graphics) effectue des tâches de bas niveau, telles que la présentation des frames pour la sortie.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-116">DirectX Graphics Infrastructure (DXGI) performs low-level tasks, such as presenting frames for output.</span></span> <span data-ttu-id="dd5d6-117">La plupart des applications n’utilisent pas directement DXGI.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-117">Most applications do not use DXGI directly.</span></span> <span data-ttu-id="dd5d6-118">Au lieu de cela, elle sert de couche intermédiaire entre le pilote Graphics et Direct3D.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-118">Rather, it serves as an intermediate layer between the graphics driver and Direct3D.</span></span>

<span data-ttu-id="dd5d6-119">Direct2D et DirectWrite ont été introduits dans Windows 7.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-119">Direct2D and DirectWrite were introduced in Windows 7.</span></span> <span data-ttu-id="dd5d6-120">Ils sont également disponibles pour Windows Vista et Windows Server 2008 via une mise à jour de plateforme.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-120">They are also available for Windows Vista and Windows Server 2008 through a Platform Update.</span></span> <span data-ttu-id="dd5d6-121">Pour plus d’informations, consultez [mise à jour de la plateforme pour Windows Vista](../win7ip/platform-update-for-windows-vista-portal.md).</span><span class="sxs-lookup"><span data-stu-id="dd5d6-121">For more information, see [Platform Update for Windows Vista](../win7ip/platform-update-for-windows-vista-portal.md).</span></span>

<span data-ttu-id="dd5d6-122">Direct2D est le sujet de ce module.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-122">Direct2D is the focus of this module.</span></span> <span data-ttu-id="dd5d6-123">Bien que GDI et GDI+ continuent à être pris en charge dans Windows, Direct2D et DirectWrite sont recommandés pour les nouveaux programmes.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-123">While both GDI and GDI+ continue to be supported in Windows, Direct2D and DirectWrite are recommended for new programs.</span></span> <span data-ttu-id="dd5d6-124">Dans certains cas, une combinaison de technologies peut être plus pratique.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-124">In some cases, a mix of technologies might be more practical.</span></span> <span data-ttu-id="dd5d6-125">Dans ce cas, Direct2D et DirectWrite sont conçus pour interagir avec GDI.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-125">For these situations, Direct2D and DirectWrite are designed to interoperate with GDI.</span></span>

<span data-ttu-id="dd5d6-126">Les sections suivantes décrivent certains des avantages de Direct2D.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-126">The next sections describe some of the benefits of Direct2D.</span></span>

### <a name="hardware-acceleration"></a><span data-ttu-id="dd5d6-127">Accélération matérielle</span><span class="sxs-lookup"><span data-stu-id="dd5d6-127">Hardware Acceleration</span></span>

<span data-ttu-id="dd5d6-128">Le terme « *accélération matérielle* » fait référence aux calculs graphiques effectués par l’unité de traitement graphique (GPU), plutôt que par le processeur.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-128">The term *hardware acceleration* refers to graphics computations performed by the graphics processing unit (GPU), rather than the CPU.</span></span> <span data-ttu-id="dd5d6-129">Les GPU modernes sont hautement optimisés pour les types de calcul utilisés dans le rendu des graphiques.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-129">Modern GPUs are highly optimized for the types of computation used in rendering graphics.</span></span> <span data-ttu-id="dd5d6-130">En général, plus ce travail est déplacé du processeur vers le GPU, mieux c’est.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-130">Generally, the more of this work that is moved from the CPU to the GPU, the better.</span></span>

<span data-ttu-id="dd5d6-131">Bien que GDI prenne en charge l’accélération matérielle pour certaines opérations, de nombreuses opérations GDI sont liées à l’UC.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-131">While GDI supports hardware acceleration for certain operations, many GDI operations are bound to the CPU.</span></span> <span data-ttu-id="dd5d6-132">Direct2D est superposé à Direct3D et tire pleinement parti de l’accélération matérielle fournie par le GPU.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-132">Direct2D is layered on top of Direct3D, and takes full advantage of hardware acceleration provided by the GPU.</span></span> <span data-ttu-id="dd5d6-133">Si le GPU ne prend pas en charge les fonctionnalités requises pour Direct2D, Direct2D revient au rendu logiciel.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-133">If the GPU does not support the features needed for Direct2D, then Direct2D falls back to software rendering.</span></span> <span data-ttu-id="dd5d6-134">En général, Direct2D exécute GDI et GDI+ dans la plupart des cas.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-134">Overall, Direct2D outperforms GDI and GDI+ in most situations.</span></span>

### <a name="transparency-and-anti-aliasing"></a><span data-ttu-id="dd5d6-135">Transparence et anticrénelage</span><span class="sxs-lookup"><span data-stu-id="dd5d6-135">Transparency and Anti-aliasing</span></span>

<span data-ttu-id="dd5d6-136">Direct2D prend en charge la transparence alpha à accélération matérielle totale (transparence).</span><span class="sxs-lookup"><span data-stu-id="dd5d6-136">Direct2D supports fully hardware-accelerated alpha-blending (transparency).</span></span>

<span data-ttu-id="dd5d6-137">GDI offre une prise en charge limitée pour la fusion alpha.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-137">GDI has limited support for alpha-blending.</span></span> <span data-ttu-id="dd5d6-138">La plupart des fonctions GDI ne prennent pas en charge la fusion alpha, bien que GDI prenne en charge la fusion alpha pendant une opération BitBlt.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-138">Most GDI functions do not support alpha blending, although GDI does support alpha blending during a bitblt operation.</span></span> <span data-ttu-id="dd5d6-139">GDI+ prend en charge la transparence, mais la fusion alpha est effectuée par le processeur, de sorte qu’il ne tire pas parti de l’accélération matérielle.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-139">GDI+ supports transparency, but the alpha blending is performed by the CPU, so it does not benefit from hardware acceleration.</span></span>

<span data-ttu-id="dd5d6-140">La fusion alpha avec accélération matérielle permet également l’anticrénelage.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-140">Hardware-accelerated alpha-blending also enables anti-aliasing.</span></span> <span data-ttu-id="dd5d6-141">L' *alias* est un artefact provoqué par l’échantillonnage d’une fonction continue.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-141">*Aliasing* is an artifact caused by sampling a continuous function.</span></span> <span data-ttu-id="dd5d6-142">Par exemple, lorsqu’une ligne incurvée est convertie en pixels, l’alias peut entraîner une apparence irrégulière. \[ 3 \] toute technique qui réduit les artefacts provoqués par les alias est considérée comme une forme d’anticrénelage.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-142">For example, when a curved line is converted to pixels, aliasing can cause a jagged appearance.\[3\] Any technique that reduces the artifacts caused by aliasing is considered a form of anti-aliasing.</span></span> <span data-ttu-id="dd5d6-143">Dans les graphiques, l’anticrénelage s’effectue en fusionnant les bords avec l’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-143">In graphics, anti-aliasing is done by blending edges with the background.</span></span> <span data-ttu-id="dd5d6-144">Par exemple, voici un cercle dessiné par GDI et le même cercle dessiné par Direct2D.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-144">For example, here is a circle drawn by GDI and the same circle drawn by Direct2D.</span></span>

![illustration des techniques d’anticrénelage dans Direct2D.](images/graphics02.png)

<span data-ttu-id="dd5d6-146">L’image suivante montre un détail de chaque cercle.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-146">The next image shows a detail of each circle.</span></span>

![détail de l’image précédente.](images/graphics03.png)

<span data-ttu-id="dd5d6-148">Le cercle dessiné par GDI (à gauche) est constitué de pixels noirs qui se rapprochent d’une courbe.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-148">The circle drawn by GDI (left) consists of black pixels that approximate a curve.</span></span> <span data-ttu-id="dd5d6-149">Le cercle dessiné par Direct2D (Right) utilise la fusion pour créer une courbe plus lisse.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-149">The circle drawn by Direct2D (right) uses blending to create a smoother curve.</span></span>

<span data-ttu-id="dd5d6-150">GDI ne prend pas en charge l’anticrénelage lorsqu’il dessine une géométrie (lignes et courbes).</span><span class="sxs-lookup"><span data-stu-id="dd5d6-150">GDI does not support anti-aliasing when it draws geometry (lines and curves).</span></span> <span data-ttu-id="dd5d6-151">GDI peut dessiner du texte avec anticrénelage à l’aide de ClearType. dans le cas contraire, le texte GDI est également associé à un alias.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-151">GDI can draw anti-aliased text using ClearType; but otherwise, GDI text is aliased as well.</span></span> <span data-ttu-id="dd5d6-152">L’alias est particulièrement visible pour le texte, car les lignes en escalier perturbent la conception des polices, ce qui rend le texte moins lisible.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-152">Aliasing is particularly noticeable for text, because the jagged lines disrupt the font design, making the text less readable.</span></span> <span data-ttu-id="dd5d6-153">Bien que GDI+ prenne en charge l’anticrénelage, il est appliqué par le processeur, de sorte que les performances ne sont pas aussi efficaces que Direct2D.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-153">Although GDI+ supports anti-aliasing, it is applied by the CPU, so the performance is not as good as Direct2D.</span></span>

### <a name="vector-graphics"></a><span data-ttu-id="dd5d6-154">Graphismes vectoriels</span><span class="sxs-lookup"><span data-stu-id="dd5d6-154">Vector Graphics</span></span>

<span data-ttu-id="dd5d6-155">Direct2D prend en charge les *graphiques vectoriels*.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-155">Direct2D supports *vector graphics*.</span></span> <span data-ttu-id="dd5d6-156">Dans les graphiques vectoriels, les formules mathématiques sont utilisées pour représenter des lignes et des courbes.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-156">In vector graphics, mathematical formulas are used to represent lines and curves.</span></span> <span data-ttu-id="dd5d6-157">Ces formules ne sont pas dépendantes de la résolution d’écran et peuvent donc être mises à l’échelle en dimensions arbitraires.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-157">These formulas are not dependent on screen resolution, so they can be scaled to arbitrary dimensions.</span></span> <span data-ttu-id="dd5d6-158">Les graphiques vectoriels sont particulièrement utiles quand une image doit être mise à l’échelle pour prendre en charge différentes tailles d’analyse ou résolutions d’écran.</span><span class="sxs-lookup"><span data-stu-id="dd5d6-158">Vector graphics are particularly useful when an image must be scaled to support different monitor sizes or screen resolutions.</span></span>

## <a name="next"></a><span data-ttu-id="dd5d6-159">Suivant</span><span class="sxs-lookup"><span data-stu-id="dd5d6-159">Next</span></span>

[<span data-ttu-id="dd5d6-160">Gestionnaire de fenêtrage</span><span class="sxs-lookup"><span data-stu-id="dd5d6-160">The Desktop Window Manager</span></span>](the-desktop-window-manager.md)

 

 
