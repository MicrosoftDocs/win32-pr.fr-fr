---
description: Un client XAudio2 dispose d’un contrôle total sur le mappage entre les canaux d’une voix et les canaux de chacune de ses voix de destination.
ms.assetid: 219d5b70-3f07-f973-f9ec-1cb3cf0be37e
title: Mappage de canal par défaut XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 06d77371223ccef02d6f0831a7aea182326f8477
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104485857"
---
# <a name="xaudio2-default-channel-mapping"></a><span data-ttu-id="657cf-103">Mappage de canal par défaut XAudio2</span><span class="sxs-lookup"><span data-stu-id="657cf-103">XAudio2 Default Channel Mapping</span></span>

<span data-ttu-id="657cf-104">Un client XAudio2 dispose d’un contrôle total sur le mappage entre les canaux d’une voix et les canaux de chacun de ses voicesIt de destination contrôle le mappage via l’utilisation de la méthode [**IXAudio2Voice :: SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) .</span><span class="sxs-lookup"><span data-stu-id="657cf-104">An XAudio2 client has full control of the mapping from the channels of a voice to the channels of each of its destination voicesIt controls the mapping through the use of the [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) method.</span></span> <span data-ttu-id="657cf-105">Dans certains cas, toutefois, XAudio2 simplifie cette tâche en configurant automatiquement une matrice d’envoi par défaut.</span><span class="sxs-lookup"><span data-stu-id="657cf-105">In some circumstances, however, XAudio2 simplifies this task by setting up a default send matrix automatically.</span></span> <span data-ttu-id="657cf-106">Pour ce faire, il utilise le masque de canal, le cas échéant, associé aux canaux audio d’une voix.</span><span class="sxs-lookup"><span data-stu-id="657cf-106">It does this by using the channel mask, if any, associated with a voice's audio channels.</span></span> <span data-ttu-id="657cf-107">Un masque de canal est une combinaison de \_ masques de bits d’orateur xxx comme défini dans X3DAudio. h et ailleurs.</span><span class="sxs-lookup"><span data-stu-id="657cf-107">A channel mask is a combination of SPEAKER\_xxx bit masks as defined in X3DAudio.h and elsewhere.</span></span> <span data-ttu-id="657cf-108">XAudio2 exige que les masques de canal aient la valeur 0 ou qu’ils aient le même nombre de bits que le nombre de canaux.</span><span class="sxs-lookup"><span data-stu-id="657cf-108">XAudio2 requires channel masks to be 0 or have the same number of bits set as the number of channels.</span></span>

<span data-ttu-id="657cf-109">Le tableau suivant présente les exigences et les valeurs par défaut du masque de canal pour les formats pris en charge par XAudio2.</span><span class="sxs-lookup"><span data-stu-id="657cf-109">The following table shows the channel mask requirements and defaults for the formats supported by XAudio2.</span></span> 

| <span data-ttu-id="657cf-110">Format</span><span class="sxs-lookup"><span data-stu-id="657cf-110">Format</span></span> | <span data-ttu-id="657cf-111">Exigence de masque de canal</span><span class="sxs-lookup"><span data-stu-id="657cf-111">Channel Mask Requirement</span></span>             | <span data-ttu-id="657cf-112">Masque par défaut</span><span class="sxs-lookup"><span data-stu-id="657cf-112">Default Mask</span></span>                        | <span data-ttu-id="657cf-113">Membre de structure correspondant</span><span class="sxs-lookup"><span data-stu-id="657cf-113">Corresponding Structure Member</span></span>                            |
|--------|--------------------------------------|-------------------------------------|-----------------------------------------------------------|
| <span data-ttu-id="657cf-114">PCM</span><span class="sxs-lookup"><span data-stu-id="657cf-114">PCM</span></span>    | <span data-ttu-id="657cf-115">Le fichier peut contenir un masque de canal</span><span class="sxs-lookup"><span data-stu-id="657cf-115">File might contain a channel mask</span></span>    | <span data-ttu-id="657cf-116">Le masque de canal est 0 ou absent</span><span class="sxs-lookup"><span data-stu-id="657cf-116">Channel mask is 0, or absent</span></span>        | <span data-ttu-id="657cf-117">WAVEFORMATEXTENSIBLE. dwChannelMask ou None (WAVEFORMATEX)</span><span class="sxs-lookup"><span data-stu-id="657cf-117">WAVEFORMATEXTENSIBLE.dwChannelMask or none (WAVEFORMATEX)</span></span> |
| <span data-ttu-id="657cf-118">ADPCM</span><span class="sxs-lookup"><span data-stu-id="657cf-118">ADPCM</span></span>  | <span data-ttu-id="657cf-119">Le fichier ne contient pas de masque de canal</span><span class="sxs-lookup"><span data-stu-id="657cf-119">File does not contain a channel mask</span></span> | <span data-ttu-id="657cf-120">Le masque de canal par défaut est toujours utilisé</span><span class="sxs-lookup"><span data-stu-id="657cf-120">Default Channel Mask is always used</span></span> | <span data-ttu-id="657cf-121">Aucun (ADPCMWAVEFORMAT)</span><span class="sxs-lookup"><span data-stu-id="657cf-121">None (ADPCMWAVEFORMAT)</span></span>                                    |



 

<span data-ttu-id="657cf-122">Pour les voix de mixage secondaire et de mastérisation, et pour les voix source sans masque de canal ou un masque de canal de 0, XAudio2 utilise les positions de haut-parleur par défaut en fonction du tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="657cf-122">For submix and mastering voices, and for source voices without a channel mask or a channel mask of 0, XAudio2 assumes default speaker positions according to the following table.</span></span> 

| <span data-ttu-id="657cf-123">Canaux</span><span class="sxs-lookup"><span data-stu-id="657cf-123">Channels</span></span>  | <span data-ttu-id="657cf-124">Positions des canaux implicites</span><span class="sxs-lookup"><span data-stu-id="657cf-124">Implicit Channel Positions</span></span>                                                                                            |
|-----------|-----------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="657cf-125">1</span><span class="sxs-lookup"><span data-stu-id="657cf-125">1</span></span>         | <span data-ttu-id="657cf-126">Mappe toujours à FrontLeft et FrontRight à pleine échelle dans les deux enceintes (cas particuliers pour les sons mono)</span><span class="sxs-lookup"><span data-stu-id="657cf-126">Always maps to FrontLeft and FrontRight at full scale in both speakers (special case for mono sounds)</span></span>                 |
| <span data-ttu-id="657cf-127">2</span><span class="sxs-lookup"><span data-stu-id="657cf-127">2</span></span>         | <span data-ttu-id="657cf-128">FrontLeft, FrontRight (configuration stéréo de base)</span><span class="sxs-lookup"><span data-stu-id="657cf-128">FrontLeft, FrontRight (basic stereo configuration)</span></span>                                                                    |
| <span data-ttu-id="657cf-129">3</span><span class="sxs-lookup"><span data-stu-id="657cf-129">3</span></span>         | <span data-ttu-id="657cf-130">FrontLeft, FrontRight, LowFrequency (configuration 2,1)</span><span class="sxs-lookup"><span data-stu-id="657cf-130">FrontLeft, FrontRight, LowFrequency (2.1 configuration)</span></span>                                                               |
| <span data-ttu-id="657cf-131">4</span><span class="sxs-lookup"><span data-stu-id="657cf-131">4</span></span>         | <span data-ttu-id="657cf-132">FrontLeft, FrontRight, Left, Right (Quadraphonic)</span><span class="sxs-lookup"><span data-stu-id="657cf-132">FrontLeft, FrontRight, BackLeft, BackRight (quadraphonic)</span></span>                                                             |
| <span data-ttu-id="657cf-133">5</span><span class="sxs-lookup"><span data-stu-id="657cf-133">5</span></span>         | <span data-ttu-id="657cf-134">FrontLeft, FrontRight, FrontCenter, SideLeft, SideRight (configuration 5,0)</span><span class="sxs-lookup"><span data-stu-id="657cf-134">FrontLeft, FrontRight, FrontCenter, SideLeft, SideRight (5.0 configuration)</span></span>                                           |
| <span data-ttu-id="657cf-135">6</span><span class="sxs-lookup"><span data-stu-id="657cf-135">6</span></span>         | <span data-ttu-id="657cf-136">FrontLeft, FrontRight, FrontCenter, LowFrequency, SideLeft, SideRight (configuration 5,1) (voir les remarques suivantes)</span><span class="sxs-lookup"><span data-stu-id="657cf-136">FrontLeft, FrontRight, FrontCenter, LowFrequency, SideLeft, SideRight (5.1 configuration) (see the following remarks)</span></span> |
| <span data-ttu-id="657cf-137">7</span><span class="sxs-lookup"><span data-stu-id="657cf-137">7</span></span>         | <span data-ttu-id="657cf-138">FrontLeft, FrontRight, FrontCenter, LowFrequency, SideLeft, SideRight, recentrer (configuration 6,1)</span><span class="sxs-lookup"><span data-stu-id="657cf-138">FrontLeft, FrontRight, FrontCenter, LowFrequency, SideLeft, SideRight, BackCenter (6.1 configuration)</span></span>                 |
| <span data-ttu-id="657cf-139">8</span><span class="sxs-lookup"><span data-stu-id="657cf-139">8</span></span>         | <span data-ttu-id="657cf-140">FrontLeft, FrontRight, FrontCenter, LowFrequency, Left, Right, SideLeft, SideRight (Configuration 7,1)</span><span class="sxs-lookup"><span data-stu-id="657cf-140">FrontLeft, FrontRight, FrontCenter, LowFrequency, BackLeft, BackRight, SideLeft, SideRight (7.1 configuration)</span></span>        |
| <span data-ttu-id="657cf-141">9 ou plus</span><span class="sxs-lookup"><span data-stu-id="657cf-141">9 or more</span></span> | <span data-ttu-id="657cf-142">Aucune position implicite (mappage un-à-un)</span><span class="sxs-lookup"><span data-stu-id="657cf-142">No implicit positions (one-to-one mapping)</span></span>                                                                            |



 

<span data-ttu-id="657cf-143">Si une paire de voix donnée dans le graphique audio n’a pas de position de haut-parleur pour la voix source ou cible (une voix a plus de huit canaux), aucune voix n’est lisible tant que la voix source n’a pas d’ensemble de matrice d’envoi explicitement à l’aide de la méthode [**IXAudio2Voice :: SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) .</span><span class="sxs-lookup"><span data-stu-id="657cf-143">If a given voice pair in the audio graph has no speaker positions associated with either its source or target voice (one voice has more than eight channels), neither voice is playable until the source voice has a send matrix set explicitly using the [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) method.</span></span> <span data-ttu-id="657cf-144">L’appel de la méthode [**IXAudio2SourceVoice :: Start**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start) pour une voix échoue jusqu’à ce que vous procédiez à cette opération.</span><span class="sxs-lookup"><span data-stu-id="657cf-144">Calling the [**IXAudio2SourceVoice::Start**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start) method for either voice will fail until you do this.</span></span>

<span data-ttu-id="657cf-145">Si la voix source et la voix cible ont un nombre différent de positions de haut-parleur et que [**IXAudio2Voice :: SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) n’a pas été appelé sur la voix source, XAudio2 envoie chaque canal source vers le haut-parleur (ou les haut-parleurs) cible le plus proche, de manière proportionnelle à la proximité du haut-parleur prévu.</span><span class="sxs-lookup"><span data-stu-id="657cf-145">If the source voice and target voice have different numbers of speaker positions and [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) has not been called on the source voice, XAudio2 sends each source channel to the nearest target speaker (or speakers) available, proportionally to how close they are to the intended speaker.</span></span> <span data-ttu-id="657cf-146">Il existe deux cas spéciaux où le comportement par défaut est différent.</span><span class="sxs-lookup"><span data-stu-id="657cf-146">There are two special cases where the default behavior is different.</span></span>

1.  <span data-ttu-id="657cf-147">Si le son source est mono et est positionné au centre de l’orateur \_ \_ ou n’a pas de position définie, il est toujours envoyé à \_ l’avant-plan \_ gauche et au premier orateur, \_ \_ s’ils existent dans le son de sortie.</span><span class="sxs-lookup"><span data-stu-id="657cf-147">If the source audio is mono and is positioned at SPEAKER\_FRONT\_CENTER or has no defined position, it is always sent to SPEAKER\_FRONT\_LEFT and SPEAKER\_FRONT\_RIGHT if they exist in the output audio.</span></span> <span data-ttu-id="657cf-148">S’ils n’existent pas, il revient au cas normal.</span><span class="sxs-lookup"><span data-stu-id="657cf-148">If they do not exist, it falls back to the normal case.</span></span>
2.  <span data-ttu-id="657cf-149">Si la source et la destination sont toutes deux de type 6 canaux et sont positionnées sur l’une des configurations de l’orateur 5,1 standard (gauche + droite + centre + Sub + backt + Backeur ou Left + Right + Center + Sub + Side + lateral), les canaux sont mappés via un à un.</span><span class="sxs-lookup"><span data-stu-id="657cf-149">If the source and destination are both 6-channel and are positioned at either of the standard 5.1 speaker setups (Left+Right+Center+Sub+BackL+BackR or Left+Right+Center+Sub+SideL+SideR), channels are mapped through one to one.</span></span> <span data-ttu-id="657cf-150">En d’autres termes, SideLeft/Right et Left/Right sont traités de façon équivalente.</span><span class="sxs-lookup"><span data-stu-id="657cf-150">In other words, SideLeft/Right and BackLeft/Right are treated equivalently.</span></span> <span data-ttu-id="657cf-151">Cela est dû au fait qu’il y a eu une confusion historique autour de ces configurations.</span><span class="sxs-lookup"><span data-stu-id="657cf-151">This is because there has been historical confusion around these setups.</span></span> <span data-ttu-id="657cf-152">Par conséquent, l’intention supposée est toujours de mapper un à un.</span><span class="sxs-lookup"><span data-stu-id="657cf-152">Therefore, the assumed intent is always to map one to one.</span></span>

## <a name="related-topics"></a><span data-ttu-id="657cf-153">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="657cf-153">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="657cf-154">Voix</span><span class="sxs-lookup"><span data-stu-id="657cf-154">Voices</span></span>](voices.md)
</dt> <dt>

[<span data-ttu-id="657cf-155">Guide de programmation XAudio2</span><span class="sxs-lookup"><span data-stu-id="657cf-155">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> <dt>

[<span data-ttu-id="657cf-156">**GetChannelMask**</span><span class="sxs-lookup"><span data-stu-id="657cf-156">**GetChannelMask**</span></span>](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2masteringvoice-getchannelmask)
</dt> </dl>

 

 
