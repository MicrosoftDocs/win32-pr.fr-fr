---
description: Un effet audio est un objet qui utilise des données audio entrantes et effectue une opération sur les données avant de les transmettre. Vous pouvez utiliser un effet pour effectuer diverses tâches, notamment ajouter un verbe à un flux audio et surveiller les niveaux de volume des pics.
ms.assetid: 8c3fa4ca-dcff-bd23-7220-7d0aeb6c6068
title: Effets audio XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f8de87a65ea4321b5e8d73a837f79a3e56e8e3a0
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106544698"
---
# <a name="xaudio2-audio-effects"></a><span data-ttu-id="f28fa-104">Effets audio XAudio2</span><span class="sxs-lookup"><span data-stu-id="f28fa-104">XAudio2 Audio Effects</span></span>

<span data-ttu-id="f28fa-105">Un effet audio est un objet qui utilise des données audio entrantes et effectue une opération sur les données avant de les transmettre.</span><span class="sxs-lookup"><span data-stu-id="f28fa-105">An audio effect is an object that takes incoming audio data, and performs some operation on the data before passing it on.</span></span> <span data-ttu-id="f28fa-106">Vous pouvez utiliser un effet pour effectuer diverses tâches, notamment ajouter un verbe à un flux audio et surveiller les niveaux de volume des pics.</span><span class="sxs-lookup"><span data-stu-id="f28fa-106">You can use an effect to perform a variety of tasks, including adding reverb to an audio stream and monitoring peak volume levels.</span></span>

## <a name="effect-chains"></a><span data-ttu-id="f28fa-107">Chaînes d’effet</span><span class="sxs-lookup"><span data-stu-id="f28fa-107">Effect Chains</span></span>

<span data-ttu-id="f28fa-108">Toute voix XAudio2 peut héberger une chaîne d’effets audio.</span><span class="sxs-lookup"><span data-stu-id="f28fa-108">Any XAudio2 voice can host a chain of audio effects.</span></span> <span data-ttu-id="f28fa-109">Vous pouvez utiliser un tableau de structures de [**\_ \_ descripteur d’effet XAUDIO2**](/windows/desktop/api/xaudio2/ns-xaudio2-xaudio2_effect_descriptor) pour spécifier des chaînes d’effet.</span><span class="sxs-lookup"><span data-stu-id="f28fa-109">You can use an array of [**XAUDIO2\_EFFECT\_DESCRIPTOR**](/windows/desktop/api/xaudio2/ns-xaudio2-xaudio2_effect_descriptor) structures to specify effect chains.</span></span> <span data-ttu-id="f28fa-110">Chaque descripteur contient un pointeur vers un objet Effect fourni par le client.</span><span class="sxs-lookup"><span data-stu-id="f28fa-110">Each descriptor contains a pointer to an effect object provided by the client.</span></span> <span data-ttu-id="f28fa-111">Ces objets doivent implémenter les interfaces d’objet de traitement audio (APO).</span><span class="sxs-lookup"><span data-stu-id="f28fa-111">These objects must implement the Audio Processing Object (APO) interfaces.</span></span> <span data-ttu-id="f28fa-112">Pour plus d’informations sur le modèle APO, consultez la [vue d’ensemble de XAPO](xapo-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="f28fa-112">See the [XAPO Overview](xapo-overview.md) for more information about the APO model.</span></span>

<span data-ttu-id="f28fa-113">Les chaînes d’effet peuvent être modifiées de façon dynamique par le client (pendant que le moteur XAudio2 est en cours d’exécution), les effets peuvent être activés ou désactivés individuellement, et les paramètres d’effet peuvent être modifiés, le tout sans aucune interruption de l’audio.</span><span class="sxs-lookup"><span data-stu-id="f28fa-113">Effect chains can be modified by the client dynamically (while the XAudio2 engine is running), effects can be enabled or disabled individually, and effect parameters can be changed—all without any interruption of the audio.</span></span> <span data-ttu-id="f28fa-114">Chaque fois qu’un aspect du graphique d’effet change, XAudio2 optimise le graphique pour éviter tout traitement inutile.</span><span class="sxs-lookup"><span data-stu-id="f28fa-114">Whenever any aspect of the effect graph changes, XAudio2 optimizes the graph again to avoid unnecessary processing.</span></span> <span data-ttu-id="f28fa-115">Consultez [**IXAudio2Voice :: SetEffectChain**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectchain), [**IXAudio2Voice :: EnableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-enableeffect)et [**IXAudio2Voice :: SetEffectParameters**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectparameters).</span><span class="sxs-lookup"><span data-stu-id="f28fa-115">See [**IXAudio2Voice::SetEffectChain**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectchain), [**IXAudio2Voice::EnableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-enableeffect), and [**IXAudio2Voice::SetEffectParameters**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectparameters).</span></span>

<span data-ttu-id="f28fa-116">Une fois qu’un effet est attaché à une voix XAudio2, XAudio2 prend le contrôle de l’effet et le client ne doit pas effectuer d’autres appels à celui-ci.</span><span class="sxs-lookup"><span data-stu-id="f28fa-116">After an effect is attached to an XAudio2 voice, XAudio2 takes control of the effect, and the client should not make any further calls to it.</span></span> <span data-ttu-id="f28fa-117">Le moyen le plus simple de s’en assurer consiste à libérer tous les pointeurs vers l’effet.</span><span class="sxs-lookup"><span data-stu-id="f28fa-117">The simplest way to ensure this is to release all pointers to the effect.</span></span>

<span data-ttu-id="f28fa-118">Les effets de la chaîne d’effet d’une voix XAudio2 donnée doivent consommer et produire un audio à virgule flottante au taux d’échantillonnage de traitement de cette voix.</span><span class="sxs-lookup"><span data-stu-id="f28fa-118">The effects in a given XAudio2 voice's effect chain must consume and produce floating-point audio at that voice's processing sample rate.</span></span> <span data-ttu-id="f28fa-119">Le seul aspect du format audio qu’il peut modifier est le nombre de canaux (par exemple, un effet de réverbération peut convertir les données mono vers 5,1).</span><span class="sxs-lookup"><span data-stu-id="f28fa-119">The only aspect of the audio format they can change is the channel count (for example, a reverb effect can convert mono data to 5.1).</span></span> <span data-ttu-id="f28fa-120">Le client peut utiliser le [**\_ \_ descripteur d’effet XAUDIO2**](/windows/desktop/api/xaudio2/ns-xaudio2-xaudio2_effect_descriptor).**Champ OutputChannels** pour spécifier le nombre de canaux que chaque effet doit produire.</span><span class="sxs-lookup"><span data-stu-id="f28fa-120">The client can use the [**XAUDIO2\_EFFECT\_DESCRIPTOR**](/windows/desktop/api/xaudio2/ns-xaudio2-xaudio2_effect_descriptor).**OutputChannels** field to specify the number of channels that each effect should produce.</span></span> <span data-ttu-id="f28fa-121">La chaîne d’effet échoue si l’un des effets ne peut pas répondre à ces exigences, ou si un effet produit un nombre de canaux que l’effet suivant ne peut pas gérer.</span><span class="sxs-lookup"><span data-stu-id="f28fa-121">The effect chain fails if any of the effects cannot fulfill these requirements, or if an effect produces a number of channels that the next effect cannot handle.</span></span> <span data-ttu-id="f28fa-122">Tous les appels [**IXAudio2Voice :: EnableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-enableeffect) ou [**IXAudio2Voice ::D isableeffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-disableeffect) qui empêchent la chaîne d’effet d’arrêter de répondre à ces exigences échoueront.</span><span class="sxs-lookup"><span data-stu-id="f28fa-122">Any [**IXAudio2Voice::EnableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-enableeffect) or [**IXAudio2Voice::DisableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-disableeffect) calls that cause the effect chain to stop fulfilling these requirements will fail.</span></span>

<span data-ttu-id="f28fa-123">Les interfaces APO utilisées dans XAudio2 doivent être *destructrices*.</span><span class="sxs-lookup"><span data-stu-id="f28fa-123">APO interfaces used in XAudio2 must be *destructive*.</span></span> <span data-ttu-id="f28fa-124">Cela signifie qu’ils remplacent toujours toutes les données qu’ils trouvent dans leurs mémoires tampons de sortie.</span><span class="sxs-lookup"><span data-stu-id="f28fa-124">This means they always overwrite any data they find in their output buffers.</span></span> <span data-ttu-id="f28fa-125">Dans le cas contraire, l’audio résultant peut être incorrect, car XAudio2 ne garantit pas que ces mémoires tampons ont été précédemment initialisées avec le silence.</span><span class="sxs-lookup"><span data-stu-id="f28fa-125">Otherwise, the resulting audio might be incorrect because XAudio2 makes no guarantee that these buffers have been initialized previously with silence.</span></span>

## <a name="xaudio2-built-in-effects"></a><span data-ttu-id="f28fa-126">Effets intégrés XAudio2</span><span class="sxs-lookup"><span data-stu-id="f28fa-126">XAudio2 Built-in Effects</span></span>

<span data-ttu-id="f28fa-127">Le tableau suivant répertorie l’ensemble des effets audio intégrés fournis par XAudio2 et leurs méthodes de création.</span><span class="sxs-lookup"><span data-stu-id="f28fa-127">The following table lists the set of built-in audio effects provided by XAudio2 and their creation methods.</span></span> 

| <span data-ttu-id="f28fa-128">Résultat</span><span class="sxs-lookup"><span data-stu-id="f28fa-128">Effect</span></span>       | <span data-ttu-id="f28fa-129">Méthode de création</span><span class="sxs-lookup"><span data-stu-id="f28fa-129">Creation Method</span></span>                                              |
|--------------|--------------------------------------------------------------|
| <span data-ttu-id="f28fa-130">Réverbération</span><span class="sxs-lookup"><span data-stu-id="f28fa-130">Reverb</span></span>       | [<span data-ttu-id="f28fa-131">**XAudio2CreateReverb**</span><span class="sxs-lookup"><span data-stu-id="f28fa-131">**XAudio2CreateReverb**</span></span>](/windows/desktop/api/xaudio2fx/nf-xaudio2fx-xaudio2createreverb)           |
| <span data-ttu-id="f28fa-132">Compteur de volume</span><span class="sxs-lookup"><span data-stu-id="f28fa-132">Volume Meter</span></span> | [<span data-ttu-id="f28fa-133">**XAudio2CreateVolumeMeter**</span><span class="sxs-lookup"><span data-stu-id="f28fa-133">**XAudio2CreateVolumeMeter**</span></span>](/windows/desktop/api/xaudio2fx/nf-xaudio2fx-xaudio2createvolumemeter) |



 

<span data-ttu-id="f28fa-134">Pour obtenir un exemple de création et d’utilisation d’une instance d’un effet audio, consultez [How to : Create a Effect Chain](how-to--create-an-effect-chain.md).</span><span class="sxs-lookup"><span data-stu-id="f28fa-134">For an example of creating and using an instance of an audio effect, see [How to: Create an Effect Chain](how-to--create-an-effect-chain.md).</span></span>

## <a name="custom-effects-in-xaudio2"></a><span data-ttu-id="f28fa-135">Effets personnalisés dans XAudio2</span><span class="sxs-lookup"><span data-stu-id="f28fa-135">Custom Effects in XAudio2</span></span>

<span data-ttu-id="f28fa-136">L’API [XAPO](xapo-overview.md) fournit une infrastructure pour créer des effets audio personnalisés que vous pouvez utiliser dans XAudio2.</span><span class="sxs-lookup"><span data-stu-id="f28fa-136">The [XAPO](xapo-overview.md) API provides a framework for creating custom audio effects that you can use in XAudio2.</span></span> <span data-ttu-id="f28fa-137">Pour obtenir un exemple de création d’un effet personnalisé avec XAPO, consultez [Comment : créer un XAPO](how-to--create-an-xapo.md).</span><span class="sxs-lookup"><span data-stu-id="f28fa-137">For an example of creating a custom effect with XAPO, see [How to: Create an XAPO](how-to--create-an-xapo.md).</span></span>

## <a name="xapo-effect-library-xapofx"></a><span data-ttu-id="f28fa-138">Bibliothèque d’effets XAPO (XAPOFX)</span><span class="sxs-lookup"><span data-stu-id="f28fa-138">XAPO Effect Library (XAPOFX)</span></span>

<span data-ttu-id="f28fa-139">[XAPOFX](xapofx-overview.md) fournit une bibliothèque supplémentaire de XAPOs et d’un mécanisme commun pour les créer.</span><span class="sxs-lookup"><span data-stu-id="f28fa-139">[XAPOFX](xapofx-overview.md) provides an additional library of XAPOs and common mechanism for creating them.</span></span> <span data-ttu-id="f28fa-140">Pour obtenir un exemple d’utilisation de XAPOFX avec XAudio2, consultez [Comment : utiliser XAPOFX dans XAudio2](how-to--use-xapofx-in-xaudio2.md).</span><span class="sxs-lookup"><span data-stu-id="f28fa-140">For an example of using XAPOFX with XAudio2, see [How to: Use XAPOFX in XAudio2](how-to--use-xapofx-in-xaudio2.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="f28fa-141">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="f28fa-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f28fa-142">Effets audio</span><span class="sxs-lookup"><span data-stu-id="f28fa-142">Audio Effects</span></span>](audio-effects.md)
</dt> <dt>

[<span data-ttu-id="f28fa-143">Guide de programmation XAudio2</span><span class="sxs-lookup"><span data-stu-id="f28fa-143">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> </dl>

 

 
