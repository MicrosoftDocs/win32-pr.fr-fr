---
description: Cette rubrique décrit le contrôle du volume et du tangage XAudio2.
ms.assetid: dedc2d01-af83-d7d2-5b64-743dcebc83f7
title: Contrôle du volume et du tangage XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2526cfa50c0260e90e1aae9e2bce21d507dc2e06
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104203787"
---
# <a name="xaudio2-volume-and-pitch-control"></a><span data-ttu-id="73bd8-103">Contrôle du volume et du tangage XAudio2</span><span class="sxs-lookup"><span data-stu-id="73bd8-103">XAudio2 Volume and Pitch Control</span></span>

<span data-ttu-id="73bd8-104">Cette rubrique décrit le contrôle du volume et du tangage XAudio2.</span><span class="sxs-lookup"><span data-stu-id="73bd8-104">This topic describes XAudio2 volume and pitch control.</span></span>

## <a name="volume-control"></a><span data-ttu-id="73bd8-105">Contrôle du volume</span><span class="sxs-lookup"><span data-stu-id="73bd8-105">Volume Control</span></span>

<span data-ttu-id="73bd8-106">Les niveaux de volume sont exprimés sous la forme de multiplicateurs d’amplitude à virgule flottante entre-XAUDIO2 \_ Max \_ volume \_ Level et XAUDIO2 \_ Max \_ volume \_ Level (-224 à 224), avec un gain maximal de 144,5 dB.</span><span class="sxs-lookup"><span data-stu-id="73bd8-106">Volume levels are expressed as floating-point amplitude multipliers between -XAUDIO2\_MAX\_VOLUME\_LEVEL and XAUDIO2\_MAX\_VOLUME\_LEVEL (-224 to 224), with a maximum gain of 144.5 dB.</span></span> <span data-ttu-id="73bd8-107">Un volume de 1,0 signifie qu’il n’y a pas d’atténuation ou de gain ; 0 signifie un silence ; les niveaux négatifs peuvent être utilisés pour inverser la phase du son.</span><span class="sxs-lookup"><span data-stu-id="73bd8-107">A volume of 1.0 means there is no attenuation or gain; 0 means silence; and negative levels can be used to invert the audio's phase.</span></span> <span data-ttu-id="73bd8-108">Deux fonctions inline sont fournies dans XAudio2. h pour effectuer une conversion entre les unités de volume : [**XAudio2DecibelsToAmplitudeRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2decibelstoamplituderatio) et [**XAudio2AmplitudeRatioToDecibels**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2amplituderatiotodecibels).</span><span class="sxs-lookup"><span data-stu-id="73bd8-108">Two inline functions are provided in XAudio2.h to convert between volume units: [**XAudio2DecibelsToAmplitudeRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2decibelstoamplituderatio) and [**XAudio2AmplitudeRatioToDecibels**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2amplituderatiotodecibels).</span></span>

<span data-ttu-id="73bd8-109">Vous pouvez appliquer un niveau de volume à l’audio à plusieurs points au fur et à mesure qu’il traverse le graphique XAudio2 :</span><span class="sxs-lookup"><span data-stu-id="73bd8-109">You can apply a volume level to the audio at several points as it flows through the XAudio2 graph:</span></span>

-   <span data-ttu-id="73bd8-110">Tous les types de voix appliquent un niveau de volume global à leur entrée, qu’ils contrôlent à l’aide de la méthode [**IXAudio2Voice :: setVolume**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setvolume) .</span><span class="sxs-lookup"><span data-stu-id="73bd8-110">All voice types apply an overall volume level to their input, which they control using the [**IXAudio2Voice::SetVolume**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setvolume) method.</span></span> <span data-ttu-id="73bd8-111">Dans les voix de mixage secondaire et de mastérisation, le niveau de volume global est appliqué juste avant le filtre intégré et la chaîne d’effet de la voix.</span><span class="sxs-lookup"><span data-stu-id="73bd8-111">In submix and mastering voices, the overall volume level is applied just before the voice's built-in filter and effect chain.</span></span> <span data-ttu-id="73bd8-112">Dans les voix source, le niveau de volume global est appliqué après le filtre intégré et la chaîne d’effet de la voix.</span><span class="sxs-lookup"><span data-stu-id="73bd8-112">In source voices, the overall volume level is applied after the voice's built-in filter and effect chain.</span></span>
-   <span data-ttu-id="73bd8-113">Les voix appliquent un niveau de volume par canal à leur sortie, qu’ils contrôlent à l’aide de la méthode [**IXAudio2Voice :: SetChannelVolumes**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setchannelvolumes) .</span><span class="sxs-lookup"><span data-stu-id="73bd8-113">Voices apply a per-channel volume level to their output, which they control using the [**IXAudio2Voice::SetChannelVolumes**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setchannelvolumes) method.</span></span> <span data-ttu-id="73bd8-114">Le niveau de volume par canal est appliqué juste après la conversion du taux d’échantillonnage final de la voix et avant d’être envoyé à d’autres voix.</span><span class="sxs-lookup"><span data-stu-id="73bd8-114">The per-channel volume level is applied just after the voice's final sample rate conversion, and before it is sent to other voices.</span></span>
-   <span data-ttu-id="73bd8-115">Chaque connexion entre une voix et une autre a une table de niveaux utilisée pour envoyer l’audio de chaque canal source à chaque canal cible, qui est contrôlée à l’aide de la méthode [**IXAudio2Voice :: SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) .</span><span class="sxs-lookup"><span data-stu-id="73bd8-115">Every connection between one voice and another has a table of levels used to send audio from each source channel to each target channel, which is controlled using the [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) method.</span></span>

<span data-ttu-id="73bd8-116">Tous les volumes globaux et les volumes de canaux sont par défaut de 1,0.</span><span class="sxs-lookup"><span data-stu-id="73bd8-116">All overall volumes and channel volumes default to 1.0 initially.</span></span> <span data-ttu-id="73bd8-117">Toutes les matrices au niveau de l’envoi ont par défaut des valeurs appropriées qui préservent le positionnement de la puissance et du canal des signaux aussi précisément que possible.</span><span class="sxs-lookup"><span data-stu-id="73bd8-117">All send-level matrices default to appropriate values that preserve signal power and channel positioning as accurately as possible.</span></span> <span data-ttu-id="73bd8-118">Pour plus d’informations, consultez la vue d’ensemble du [mappage de canal par défaut XAudio2](xaudio2-default-channel-mapping.md) .</span><span class="sxs-lookup"><span data-stu-id="73bd8-118">See the [XAudio2 Default Channel Mapping](xaudio2-default-channel-mapping.md) overview for details.</span></span>

> [!Note]  
> <span data-ttu-id="73bd8-119">XAudio2 ajuste automatiquement les niveaux de volume en fonction des paramètres de haut-parleur de l’utilisateur pour conserver un niveau de volume cohérent entre les configurations.</span><span class="sxs-lookup"><span data-stu-id="73bd8-119">XAudio2 automatically adjusts volume levels based on the user's speaker settings to maintain a consistent volume level across configurations.</span></span> <span data-ttu-id="73bd8-120">Si les paramètres de l’utilisateur ne correspondent pas à leur configuration physique, le volume est trop fort ou trop faible comparé à un système avec des paramètres précis.</span><span class="sxs-lookup"><span data-stu-id="73bd8-120">If the user's settings don't match their physical configuration the volume will either be too loud or too soft compared to a system with accurate settings.</span></span> <span data-ttu-id="73bd8-121">Par exemple, un système configuré pour des enceintes de son surround 5,1 qui n’a que deux haut-parleurs connectés est trop léger.</span><span class="sxs-lookup"><span data-stu-id="73bd8-121">For example, a system configured for 5.1 surround sound speakers that only has two speakers connected will sound too soft.</span></span> <span data-ttu-id="73bd8-122">XAudio2 ne peut pas détecter si les paramètres de haut-parleur de l’utilisateur correspondent correctement à leur configuration physique.</span><span class="sxs-lookup"><span data-stu-id="73bd8-122">XAudio2 is unable to detect whether the user speaker settings correctly match their physical setup.</span></span>

 

## <a name="pitch-control"></a><span data-ttu-id="73bd8-123">Contrôle de la hauteur</span><span class="sxs-lookup"><span data-stu-id="73bd8-123">Pitch Control</span></span>

<span data-ttu-id="73bd8-124">Les tonalités sont exprimées en tant que taux d’entrée/taux de débit de sortie compris entre 1/1024 et 1024/1, inclus.</span><span class="sxs-lookup"><span data-stu-id="73bd8-124">Pitches are expressed as input rate/output rate ratios between 1/1,024 and 1,024/1, inclusive.</span></span> <span data-ttu-id="73bd8-125">Un ratio de 1/1024 réduit le pas de 10 octaves, tandis qu’un ratio de 1 024/1 l’élève de 10 octaves.</span><span class="sxs-lookup"><span data-stu-id="73bd8-125">A ratio of 1/1,024 lowers pitch by 10 octaves, while a ratio of 1,024/1 raises it by 10 octaves.</span></span> <span data-ttu-id="73bd8-126">Vous pouvez uniquement utiliser la méthode [**IXAudio2SourceVoice :: SetFrequencyRatio**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-setfrequencyratio) pour appliquer des ajustements de pas aux voix source, et uniquement si elles n’ont pas été créées avec l’indicateur de \_ vocal XAUDIO2 \_ .</span><span class="sxs-lookup"><span data-stu-id="73bd8-126">You can only use the [**IXAudio2SourceVoice::SetFrequencyRatio**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-setfrequencyratio) method to apply pitch adjustments to source voices, and only if they were not created with the XAUDIO2\_VOICE\_NOPITCH flag.</span></span> <span data-ttu-id="73bd8-127">Le rapport de fréquence par défaut est 1/1 : autrement dit, aucune modification de la tonalité.</span><span class="sxs-lookup"><span data-stu-id="73bd8-127">The default frequency ratio is 1/1: that is, no pitch change.</span></span> <span data-ttu-id="73bd8-128">Deux fonctions inline sont fournies dans XAudio2. h pour effectuer une conversion entre les coefficients de fréquence et les demi-tons : [**XAudio2FrequencyRatioToSemitones**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2frequencyratiotosemitones) et [**XAudio2SemitonesToFrequencyRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2semitonestofrequencyratio).</span><span class="sxs-lookup"><span data-stu-id="73bd8-128">Two inline functions are provided in XAudio2.h to convert between frequency ratios and semitones: [**XAudio2FrequencyRatioToSemitones**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2frequencyratiotosemitones) and [**XAudio2SemitonesToFrequencyRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2semitonestofrequencyratio).</span></span>

## <a name="related-topics"></a><span data-ttu-id="73bd8-129">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="73bd8-129">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="73bd8-130">Contrôle du volume et de la hauteur</span><span class="sxs-lookup"><span data-stu-id="73bd8-130">Volume and Pitch Control</span></span>](volume-and-pitch-control.md)
</dt> <dt>

[<span data-ttu-id="73bd8-131">Guide de programmation XAudio2</span><span class="sxs-lookup"><span data-stu-id="73bd8-131">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> <dt>

[<span data-ttu-id="73bd8-132">Comment : modifier la tonalité des voix</span><span class="sxs-lookup"><span data-stu-id="73bd8-132">How to: Change Voice Pitch</span></span>](how-to--change-voice-pitch.md)
</dt> <dt>

[<span data-ttu-id="73bd8-133">Comment : modifier le volume vocal</span><span class="sxs-lookup"><span data-stu-id="73bd8-133">How to: Change Voice Volume</span></span>](how-to--change-voice-volume.md)
</dt> </dl>

 

 
