---
description: Bien que les termes largeur et hauteur soient souvent utilisés de manière informelle, ils ont des significations très importantes et distinctement différentes. Par conséquent, vous devez comprendre les significations de chaque, et savoir comment interpréter les valeurs que Direct3D utilise pour les décrire.
ms.assetid: 2f99881b-f95d-470f-b14d-8300ad930e2a
title: Largeur et inclinaison (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 50d0c8fc49b3bce984e56f7b1a727ed40fee67b2
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104561592"
---
# <a name="width-vs-pitch-direct3d-9"></a><span data-ttu-id="415e4-104">Largeur et inclinaison (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="415e4-104">Width vs. Pitch (Direct3D 9)</span></span>

<span data-ttu-id="415e4-105">Bien que les termes largeur et hauteur soient souvent utilisés de manière informelle, ils ont des significations très importantes et distinctement différentes.</span><span class="sxs-lookup"><span data-stu-id="415e4-105">Although the terms width and pitch are often used informally, they have very important, and distinctly different, meanings.</span></span> <span data-ttu-id="415e4-106">Par conséquent, vous devez comprendre les significations de chaque, et savoir comment interpréter les valeurs que Direct3D utilise pour les décrire.</span><span class="sxs-lookup"><span data-stu-id="415e4-106">As a result, you should understand the meanings for each, and how to interpret the values that Direct3D uses to describe them.</span></span>

<span data-ttu-id="415e4-107">Direct3D utilise la structure [**D3DSURFACE \_ desc**](d3dsurface-desc.md) pour transporter des informations décrivant une surface.</span><span class="sxs-lookup"><span data-stu-id="415e4-107">Direct3D uses the [**D3DSURFACE\_DESC**](d3dsurface-desc.md) structure to carry information describing a surface.</span></span> <span data-ttu-id="415e4-108">Entre autres choses, cette structure est définie pour contenir des informations sur les dimensions d’une surface, ainsi que la façon dont ces dimensions sont représentées en mémoire.</span><span class="sxs-lookup"><span data-stu-id="415e4-108">Among other things, this structure is defined to contain information about a surface's dimensions, as well as how those dimensions are represented in memory.</span></span> <span data-ttu-id="415e4-109">La structure utilise les membres de hauteur et de largeur pour décrire les dimensions logiques de l’aire.</span><span class="sxs-lookup"><span data-stu-id="415e4-109">The structure uses the Height and Width members to describe the logical dimensions of the surface.</span></span> <span data-ttu-id="415e4-110">Les deux membres sont mesurés en pixels.</span><span class="sxs-lookup"><span data-stu-id="415e4-110">Both members are measured in pixels.</span></span> <span data-ttu-id="415e4-111">Par conséquent, les valeurs de hauteur et de largeur pour une surface 640 x 480 sont les mêmes, qu’il s’agisse d’une surface de 8 bits ou d’une surface RGB de 24 bits.</span><span class="sxs-lookup"><span data-stu-id="415e4-111">Therefore, the Height and Width values for a 640 x 480 surface are the same whether it is an 8-bit surface or a 24-bit RGB surface.</span></span>

<span data-ttu-id="415e4-112">Lorsque vous verrouillez une surface à l’aide de la méthode [**IDirect3DSurface9 :: LockRect**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-lockrect) , la méthode remplit une structure [**\_ Rect D3DLOCKED**](d3dlocked-rect.md) qui contient le pas de la surface et un pointeur vers les bits verrouillés.</span><span class="sxs-lookup"><span data-stu-id="415e4-112">When you lock a surface using the [**IDirect3DSurface9::LockRect**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-lockrect) method, the method fills in a [**D3DLOCKED\_RECT**](d3dlocked-rect.md) structure that contains the pitch of the surface and a pointer to the locked bits.</span></span> <span data-ttu-id="415e4-113">La valeur du membre de pas décrit le pas à pas de la mémoire de la surface, également appelée Stride.</span><span class="sxs-lookup"><span data-stu-id="415e4-113">The value in the Pitch member describes the surface's memory pitch, also called stride.</span></span> <span data-ttu-id="415e4-114">Le pas est la distance, en octets, entre deux adresses mémoire qui représentent le début d’une ligne bitmap et le début de la ligne bitmap suivante.</span><span class="sxs-lookup"><span data-stu-id="415e4-114">Pitch is the distance, in bytes, between two memory addresses that represent the beginning of one bitmap line and the beginning of the next bitmap line.</span></span> <span data-ttu-id="415e4-115">Étant donné que le pas est mesuré en octets plutôt qu’en pixels, une surface 640x480x8 a une valeur de pas très différente de celle d’une surface avec les mêmes dimensions mais un format de pixel différent.</span><span class="sxs-lookup"><span data-stu-id="415e4-115">Because pitch is measured in bytes rather than pixels, a 640x480x8 surface has a very different pitch value than a surface with the same dimensions but a different pixel format.</span></span> <span data-ttu-id="415e4-116">En outre, la valeur de tangage reflète parfois les octets réservés par Direct3D en tant que cache. il n’est donc pas possible de supposer que le pas de pas est juste la largeur multipliée par le nombre d’octets par pixel.</span><span class="sxs-lookup"><span data-stu-id="415e4-116">Additionally, the pitch value sometimes reflects bytes that Direct3D has reserved as a cache, so it is not safe to assume that pitch is just the width multiplied by the number of bytes per pixel.</span></span> <span data-ttu-id="415e4-117">Au lieu de cela, Visualisez la différence entre la largeur et le pas, comme indiqué dans le diagramme suivant.</span><span class="sxs-lookup"><span data-stu-id="415e4-117">Rather, visualize the difference between width and pitch as shown in the following diagram.</span></span>

![diagramme du pas et de la largeur du même tampon d’avant, de la mémoire tampon d’arrière-plan et du cache](images/pitch.png)

<span data-ttu-id="415e4-119">Dans ce diagramme, la mémoire tampon d’arrière-plan et la mémoire tampon d’arrière-plan sont toutes les deux 640x480x8 et le cache est 384x480x8.</span><span class="sxs-lookup"><span data-stu-id="415e4-119">In this diagram, the front buffer and back buffer are both 640x480x8, and the cache is 384x480x8.</span></span>

<span data-ttu-id="415e4-120">Lorsque vous accédez directement à des surfaces, veillez à rester dans la mémoire allouée pour les dimensions de la surface et à conserver la mémoire réservée pour le cache.</span><span class="sxs-lookup"><span data-stu-id="415e4-120">When accessing surfaces directly, take care to stay within the memory allocated for the dimensions of the surface and stay out of any memory reserved for cache.</span></span> <span data-ttu-id="415e4-121">En outre, lorsque vous verrouillez uniquement une partie d’une surface, vous devez rester dans le rectangle que vous spécifiez lors du verrouillage de l’aire.</span><span class="sxs-lookup"><span data-stu-id="415e4-121">Additionally, when you lock only a portion of a surface, you must stay within the rectangle you specify when locking the surface.</span></span> <span data-ttu-id="415e4-122">L’échec de ces instructions aura des résultats imprévisibles.</span><span class="sxs-lookup"><span data-stu-id="415e4-122">Failing to follow these guidelines will have unpredictable results.</span></span> <span data-ttu-id="415e4-123">Lors du rendu direct dans la mémoire de surface, utilisez toujours le pas retourné par la méthode [**IDirect3DSurface9 :: LockRect**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-lockrect) .</span><span class="sxs-lookup"><span data-stu-id="415e4-123">When rendering directly into surface memory, always use the pitch returned by the [**IDirect3DSurface9::LockRect**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-lockrect) method.</span></span> <span data-ttu-id="415e4-124">Ne supposez pas un pas basé uniquement sur le mode d’affichage.</span><span class="sxs-lookup"><span data-stu-id="415e4-124">Do not assume a pitch based solely on the display mode.</span></span> <span data-ttu-id="415e4-125">Si votre application fonctionne sur certains adaptateurs d’affichage, mais semble déformée sur d’autres, cela peut être la cause du problème.</span><span class="sxs-lookup"><span data-stu-id="415e4-125">If your application works on some display adapters but looks garbled on others, this may be the cause of the problem.</span></span>

<span data-ttu-id="415e4-126">Pour plus d’informations, consultez [accès direct à la mémoire de surface (Direct3D 9)](accessing-surface-memory-directly.md).</span><span class="sxs-lookup"><span data-stu-id="415e4-126">For more information, see [Accessing Surface Memory Directly (Direct3D 9)](accessing-surface-memory-directly.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="415e4-127">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="415e4-127">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="415e4-128">Surfaces Direct3D</span><span class="sxs-lookup"><span data-stu-id="415e4-128">Direct3D Surfaces</span></span>](direct3d-surfaces.md)
</dt> </dl>

 

 
