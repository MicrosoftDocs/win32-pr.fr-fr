---
description: Utilisez la procédure suivante dans les applications héritées pour enregistrer les modèles de fichier. x et les données dans un fichier. x.
ms.assetid: 5401b381-3599-465a-b41b-e63b7372fc0e
title: Enregistrement dans un fichier X (hérité) (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 467f824c8e3ab9cd360a93d3f69fd1a2352548ae
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104317654"
---
# <a name="saving-to-an-x-file-legacy-direct3d-9"></a><span data-ttu-id="615fa-103">Enregistrement dans un fichier X (hérité) (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="615fa-103">Saving to an X File (Legacy) (Direct3D 9)</span></span>

<span data-ttu-id="615fa-104">Utilisez la procédure suivante dans les applications héritées pour enregistrer les modèles de fichier. x et les données dans un fichier. x.</span><span class="sxs-lookup"><span data-stu-id="615fa-104">Use the following procedure in legacy applications to save .x file templates and data to a .x file.</span></span>

1.  <span data-ttu-id="615fa-105">Utilisez la fonction [**DirectXFileCreate**](directxfilecreate.md) pour créer un objet [**IDirectXFile**](idirectxfile.md) .</span><span class="sxs-lookup"><span data-stu-id="615fa-105">Use the [**DirectXFileCreate**](directxfilecreate.md) function to create an [**IDirectXFile**](idirectxfile.md) object.</span></span>
2.  <span data-ttu-id="615fa-106">Utilisez la méthode [**IDirectXFile :: RegisterTemplates**](idirectxfile--registertemplates.md) pour informer le système de fichiers DirectX des modèles que vous allez utiliser.</span><span class="sxs-lookup"><span data-stu-id="615fa-106">Use the [**IDirectXFile::RegisterTemplates**](idirectxfile--registertemplates.md) method to inform the DirectX file system about any templates that you will use.</span></span>
3.  <span data-ttu-id="615fa-107">Utilisez la méthode [**IDirectXFile :: CreateSaveObject**](idirectxfile--createsaveobject.md) pour créer un objet [**IDirectXFileSaveObject**](idirectxfilesaveobject.md) .</span><span class="sxs-lookup"><span data-stu-id="615fa-107">Use the [**IDirectXFile::CreateSaveObject**](idirectxfile--createsaveobject.md) method to create an [**IDirectXFileSaveObject**](idirectxfilesaveobject.md) object.</span></span>
4.  <span data-ttu-id="615fa-108">Utilisez la méthode [**IDirectXFileSaveObject :: SaveTemplates**](idirectxfilesaveobject--savetemplates.md) pour enregistrer les modèles, si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="615fa-108">Use the [**IDirectXFileSaveObject::SaveTemplates**](idirectxfilesaveobject--savetemplates.md) method to save templates, if desired.</span></span>
5.  <span data-ttu-id="615fa-109">Parcourez les objets à enregistrer.</span><span class="sxs-lookup"><span data-stu-id="615fa-109">Loop through the objects to save.</span></span> <span data-ttu-id="615fa-110">Pour chaque objet de niveau supérieur, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="615fa-110">For each top-level object, perform the following steps.</span></span>
    -   <span data-ttu-id="615fa-111">Utilisez la méthode [**IDirectXFileSaveObject :: CreateDataObject**](idirectxfilesaveobject--createdataobject.md) pour créer un objet [**IDirectXFileData**](idirectxfiledata.md) en tant qu’objet de niveau supérieur dans le fichier.</span><span class="sxs-lookup"><span data-stu-id="615fa-111">Use the [**IDirectXFileSaveObject::CreateDataObject**](idirectxfilesaveobject--createdataobject.md) method to create an [**IDirectXFileData**](idirectxfiledata.md) object as a top-level object in the file.</span></span> <span data-ttu-id="615fa-112">Si l’objet de données de niveau supérieur a des objets enfants facultatifs, ajoutez-les à l’objet à l’aide de la méthode appropriée de l’étape suivante.</span><span class="sxs-lookup"><span data-stu-id="615fa-112">If the top-level data object has optional child objects, add them to the object by using the appropriate method from the next step.</span></span>
    -   <span data-ttu-id="615fa-113">Chaque objet [**IDirectXFileData**](idirectxfiledata.md) peut avoir des objets enfants facultatifs si son modèle l’autorise.</span><span class="sxs-lookup"><span data-stu-id="615fa-113">Each [**IDirectXFileData**](idirectxfiledata.md) object can have optional child objects if its template allows it.</span></span> <span data-ttu-id="615fa-114">Les objets enfants peuvent être l’un des trois types d’objets suivants : **IDirectXFileData**, [**IDirectXFileDataReference**](idirectxfiledatareference.md)ou [**IDirectXFileBinary**](idirectxfilebinary.md).</span><span class="sxs-lookup"><span data-stu-id="615fa-114">The child objects can be any of the three types of objects: **IDirectXFileData**, [**IDirectXFileDataReference**](idirectxfiledatareference.md), or [**IDirectXFileBinary**](idirectxfilebinary.md).</span></span> <span data-ttu-id="615fa-115">Parcourez les objets que vous devez enregistrer, en ajoutant chaque membre enfant facultatif à la liste d’objets de la manière appropriée à son type, comme illustré dans les étapes suivantes.</span><span class="sxs-lookup"><span data-stu-id="615fa-115">Loop through the objects you need to save, adding each optional child member to the object list in the manner appropriate to its type, as illustrated in the following steps.</span></span> <span data-ttu-id="615fa-116">Ensuite, si le type d’objet est données, appelez la méthode [**IDirectXFileSaveObject :: CreateDataObject**](idirectxfilesaveobject--createdataobject.md) pour créer un objet **IDirectXFileData** , puis appelez la méthode [**IDirectXFileData :: AddDataObject**](idirectxfiledata--adddataobject.md) pour l’ajouter en tant qu’enfant de l’objet.</span><span class="sxs-lookup"><span data-stu-id="615fa-116">Then, if the object type is Data, call the [**IDirectXFileSaveObject::CreateDataObject**](idirectxfilesaveobject--createdataobject.md) method to create an **IDirectXFileData** object, and then call the [**IDirectXFileData::AddDataObject**](idirectxfiledata--adddataobject.md) method to add it as a child of the object.</span></span> <span data-ttu-id="615fa-117">Si le type d’objet est une référence de données, appelez la méthode [**IDirectXFileData :: AddDataReference**](idirectxfiledata--adddatareference.md) pour créer et ajouter l’objet de référence de données en tant qu’enfant de l’objet.</span><span class="sxs-lookup"><span data-stu-id="615fa-117">If the object type is Data Reference, call the [**IDirectXFileData::AddDataReference**](idirectxfiledata--adddatareference.md) method to create and add the data reference object as a child of the object.</span></span> <span data-ttu-id="615fa-118">Ou, si le type d’objet est binaire, appelez la méthode [**IDirectXFileData :: AddBinaryObject**](idirectxfiledata--addbinaryobject.md) pour créer et ajouter l’objet binaire en tant qu’enfant de l’objet.</span><span class="sxs-lookup"><span data-stu-id="615fa-118">Or, if the object type is Binary, call the [**IDirectXFileData::AddBinaryObject**](idirectxfiledata--addbinaryobject.md) method to create and add the binary object as a child of the object.</span></span>
    -   <span data-ttu-id="615fa-119">Appelez la méthode [**IDirectXFileSaveObject :: SaveData**](idirectxfilesaveobject--savedata.md) pour enregistrer l’objet de données et ses enfants.</span><span class="sxs-lookup"><span data-stu-id="615fa-119">Call the [**IDirectXFileSaveObject::SaveData**](idirectxfilesaveobject--savedata.md) method to save the data object and its children.</span></span>
    -   <span data-ttu-id="615fa-120">Libérer l’objet [**IDirectXFileData**](idirectxfiledata.md) .</span><span class="sxs-lookup"><span data-stu-id="615fa-120">Release the [**IDirectXFileData**](idirectxfiledata.md) object.</span></span>
6.  <span data-ttu-id="615fa-121">Libérer l’objet [**IDirectXFileSaveObject**](idirectxfilesaveobject.md) .</span><span class="sxs-lookup"><span data-stu-id="615fa-121">Release the [**IDirectXFileSaveObject**](idirectxfilesaveobject.md) object.</span></span>
7.  <span data-ttu-id="615fa-122">Libérer l’objet [**IDirectXFile**](idirectxfile.md) .</span><span class="sxs-lookup"><span data-stu-id="615fa-122">Release the [**IDirectXFile**](idirectxfile.md) object.</span></span>

## <a name="related-topics"></a><span data-ttu-id="615fa-123">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="615fa-123">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="615fa-124">X fichiers (hérités)</span><span class="sxs-lookup"><span data-stu-id="615fa-124">X Files (Legacy)</span></span>](x-files--legacy-.md)
</dt> </dl>

 

 



