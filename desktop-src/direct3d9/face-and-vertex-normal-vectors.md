---
description: Chaque face d’une maille possède un vecteur normal d’unité perpendiculaire, comme indiqué dans l’illustration suivante.
ms.assetid: 86e2a460-7b58-4612-8f72-5a4e864ceb58
title: Vecteurs normaux de face et de vertex (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6e0ef6fd8eba85b770cbfe71477655ddbafd8ee7
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104564704"
---
# <a name="face-and-vertex-normal-vectors-direct3d-9"></a><span data-ttu-id="de14d-103">Vecteurs normaux de face et de vertex (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="de14d-103">Face and Vertex Normal Vectors (Direct3D 9)</span></span>

<span data-ttu-id="de14d-104">Chaque face d’une maille possède un vecteur normal d’unité perpendiculaire, comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="de14d-104">Each face in a mesh has a perpendicular unit normal vector, as shown in the following illustration.</span></span> <span data-ttu-id="de14d-105">La direction du vecteur est déterminée par l’ordre dans lequel les vertex sont définis et selon que le système de coordonnées est droitier ou gauche.</span><span class="sxs-lookup"><span data-stu-id="de14d-105">The vector's direction is determined by the order in which the vertices are defined and by whether the coordinate system is right- or left-handed.</span></span> <span data-ttu-id="de14d-106">La face normale pointe à l’extérieur du visage.</span><span class="sxs-lookup"><span data-stu-id="de14d-106">The face normal points away from the front side of the face.</span></span> <span data-ttu-id="de14d-107">Dans Direct3D, seul le recto d’une face est visible.</span><span class="sxs-lookup"><span data-stu-id="de14d-107">In Direct3D, only the front of a face is visible.</span></span> <span data-ttu-id="de14d-108">Une face avant est une face dans laquelle les sommets sont définis dans l’ordre des aiguilles d’une montre.</span><span class="sxs-lookup"><span data-stu-id="de14d-108">A front face is one in which vertices are defined in clockwise order.</span></span>

![illustration d’un vecteur normal pour une face avant](images/nrmlvect.png)

<span data-ttu-id="de14d-110">Tout visage qui n’est pas une face avant est une face arrière.</span><span class="sxs-lookup"><span data-stu-id="de14d-110">Any face that is not a front face is a back face.</span></span> <span data-ttu-id="de14d-111">Direct3D n’affiche pas toujours les faces arrière ; par conséquent, les faces arrière sont considérées comme étant en suspens.</span><span class="sxs-lookup"><span data-stu-id="de14d-111">Direct3D does not always render back faces; therefore, back faces are said to be culled.</span></span> <span data-ttu-id="de14d-112">Vous pouvez modifier le mode d’élimination pour restituer les faces arrière si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="de14d-112">You can change the culling mode to render back faces if you want.</span></span> <span data-ttu-id="de14d-113">Pour plus d’informations, consultez élimination de l' [État (Direct3D 9)](culling-state.md) .</span><span class="sxs-lookup"><span data-stu-id="de14d-113">See [Culling State (Direct3D 9)](culling-state.md) for more information.</span></span>

<span data-ttu-id="de14d-114">Direct3D utilise l’unité de vertex Normals pour les effets d’ombrage, d’éclairage et de texture Gouraud.</span><span class="sxs-lookup"><span data-stu-id="de14d-114">Direct3D uses the vertex unit normals for Gouraud shading, lighting, and texturing effects.</span></span> <span data-ttu-id="de14d-115">L’illustration suivante montre des exemples de normales.</span><span class="sxs-lookup"><span data-stu-id="de14d-115">The following illustration shows example normals.</span></span>

![illustration des normales des vertex](images/vertnrml.png)

<span data-ttu-id="de14d-117">Lors de l’application de l’ombrage Gouraud à un polygone, Direct3D utilise les normales des sommets pour calculer l’angle entre la source de lumière et l’aire.</span><span class="sxs-lookup"><span data-stu-id="de14d-117">When applying Gouraud shading to a polygon, Direct3D uses the vertex normals to calculate the angle between the light source and the surface.</span></span> <span data-ttu-id="de14d-118">Il calcule les valeurs de couleur et d’intensité pour les vertex et les interpole pour chaque point sur toutes les surfaces de la primitive.</span><span class="sxs-lookup"><span data-stu-id="de14d-118">It calculates the color and intensity values for the vertices and interpolates them for every point across all the primitive's surfaces.</span></span> <span data-ttu-id="de14d-119">Direct3D calcule la valeur d’intensité de la lumière en utilisant l’angle.</span><span class="sxs-lookup"><span data-stu-id="de14d-119">Direct3D calculates the light intensity value by using the angle.</span></span> <span data-ttu-id="de14d-120">Plus l’angle est grand, moins la lumière est éclairée sur l’aire.</span><span class="sxs-lookup"><span data-stu-id="de14d-120">The greater the angle, the less light is shining on the surface.</span></span>

<span data-ttu-id="de14d-121">Si vous créez un objet qui est plat, définissez les normales des sommets de manière à ce qu’elles pointent perpendiculairement à la surface, comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="de14d-121">If you are creating an object that is flat, set the vertex normals to point perpendicular to the surface, as shown in the following illustration.</span></span>

![illustration d’une surface plate composée de deux triangles avec des normales de vertex](images/flatvert.png)

<span data-ttu-id="de14d-123">Toutefois, il est plus probable que votre objet soit constitué de bandes triangulaires et que les triangles ne soient pas coplanés.</span><span class="sxs-lookup"><span data-stu-id="de14d-123">It is more likely, however, that your object is made up of triangle strips and the triangles are not coplanar.</span></span> <span data-ttu-id="de14d-124">Un moyen simple d’obtenir un ombrage lissé sur tous les triangles de la bande consiste à calculer d’abord le vecteur normal de surface pour chaque facette polygonale à laquelle le vertex est associé.</span><span class="sxs-lookup"><span data-stu-id="de14d-124">One simple way to achieve smooth shading across all the triangles in the strip is to first calculate the surface normal vector for each polygonal face with which the vertex is associated.</span></span> <span data-ttu-id="de14d-125">La normale du vertex peut être définie pour créer un angle égal avec chaque surface normale.</span><span class="sxs-lookup"><span data-stu-id="de14d-125">The vertex normal can be set to make an equal angle with each surface normal.</span></span> <span data-ttu-id="de14d-126">Toutefois, cette méthode peut ne pas être suffisamment efficace pour les primitives complexes.</span><span class="sxs-lookup"><span data-stu-id="de14d-126">However, this method might not be efficient enough for complex primitives.</span></span>

<span data-ttu-id="de14d-127">Cette méthode est illustrée par le diagramme suivant, qui illustre deux surfaces, S1 et S2 vu le bord ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="de14d-127">This method is illustrated by the following diagram, which shows two surfaces, S1 and S2 seen edge-on from above.</span></span> <span data-ttu-id="de14d-128">Les vecteurs normaux pour S1 et S2 sont affichés en bleu.</span><span class="sxs-lookup"><span data-stu-id="de14d-128">The normal vectors for S1 and S2 are shown in blue.</span></span> <span data-ttu-id="de14d-129">Le vecteur de la normale du vertex est affiché en rouge.</span><span class="sxs-lookup"><span data-stu-id="de14d-129">The vertex normal vector is shown in red.</span></span> <span data-ttu-id="de14d-130">L’angle que le vecteur de la normale du vertex effectue avec la normale de surface de S1 est le même que l’angle entre la normale du vertex et la surface normale de S2.</span><span class="sxs-lookup"><span data-stu-id="de14d-130">The angle that the vertex normal vector makes with the surface normal of S1 is the same as the angle between the vertex normal and the surface normal of S2.</span></span> <span data-ttu-id="de14d-131">Lorsque ces deux surfaces sont éclairées et grisées à l’aide de l’ombrage Gouraud, le résultat est un bord lisse et correctement arrondi entre eux.</span><span class="sxs-lookup"><span data-stu-id="de14d-131">When these two surfaces are lit and shaded with Gouraud shading, the result is a smoothly shaded, smoothly rounded edge between them.</span></span>

![diagramme de deux surfaces (S1 et S2) et leurs vecteurs normaux et vecteur normal de vertex](images/gvert.png)

<span data-ttu-id="de14d-133">Si la normale du vertex se rapproche de l’une des visages avec laquelle elle est associée, elle provoque l’augmentation ou la diminution de l’intensité de la lumière pour les points de cette surface, en fonction de l’angle qu’elle effectue avec la source de lumière.</span><span class="sxs-lookup"><span data-stu-id="de14d-133">If the vertex normal leans toward one of the faces with which it is associated, it causes the light intensity to increase or decrease for points on that surface, depending on the angle it makes with the light source.</span></span> <span data-ttu-id="de14d-134">Le diagramme suivant montre un exemple.</span><span class="sxs-lookup"><span data-stu-id="de14d-134">The following diagram shows an example.</span></span> <span data-ttu-id="de14d-135">Là encore, ces surfaces sont vues latéralement.</span><span class="sxs-lookup"><span data-stu-id="de14d-135">Again, these surfaces are seen edge-on.</span></span> <span data-ttu-id="de14d-136">La normale au vertex se rapproche de S1, provoquant ainsi un angle plus petit avec la source de lumière que si la normale du vertex avait des angles égaux avec les normales de surface.</span><span class="sxs-lookup"><span data-stu-id="de14d-136">The vertex normal leans toward S1, causing it to have a smaller angle with the light source than if the vertex normal had equal angles with the surface normals.</span></span>

![diagramme de deux surfaces (S1 et S2) avec un vecteur de la normale de vertex qui se rapproche d’une face](images/gvert2.png)

<span data-ttu-id="de14d-138">Vous pouvez utiliser l’ombrage Gouraud pour afficher des objets dans une scène 3D avec des bords tranchants.</span><span class="sxs-lookup"><span data-stu-id="de14d-138">You can use Gouraud shading to display some objects in a 3D scene with sharp edges.</span></span> <span data-ttu-id="de14d-139">Pour ce faire, dupliquez les vecteurs normaux des sommets à n’importe quelle intersection des visages où un bord aigu est requis, comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="de14d-139">To do so, duplicate the vertex normal vectors at any intersection of faces where a sharp edge is required, as shown in the following illustration.</span></span>

![illustration des vecteurs normaux de vertex dupliqués à des arêtes aiguës](images/shade1.png)

<span data-ttu-id="de14d-141">Si vous utilisez les méthodes DrawPrimitive pour restituer votre scène, définissez l’objet avec des bords nets comme une liste de triangles, plutôt qu’une bande triangulaire.</span><span class="sxs-lookup"><span data-stu-id="de14d-141">If you use the DrawPrimitive methods to render your scene, define the object with sharp edges as a triangle list, rather than a triangle strip.</span></span> <span data-ttu-id="de14d-142">Lorsque vous définissez un objet en tant que bande triangulaire, Direct3D le traite comme un seul Polygone composé de plusieurs visages triangulaires.</span><span class="sxs-lookup"><span data-stu-id="de14d-142">When you define an object as a triangle strip, Direct3D treats it as a single polygon composed of multiple triangular faces.</span></span> <span data-ttu-id="de14d-143">L’ombrage Gouraud est appliqué à la fois sur chaque face du polygone et entre les faces adjacentes.</span><span class="sxs-lookup"><span data-stu-id="de14d-143">Gouraud shading is applied both across each face of the polygon and between adjacent faces.</span></span> <span data-ttu-id="de14d-144">Le résultat est un objet qui est progressivement ombré d’un visage à l’autres.</span><span class="sxs-lookup"><span data-stu-id="de14d-144">The result is an object that is smoothly shaded from face to face.</span></span> <span data-ttu-id="de14d-145">Étant donné qu’une liste de triangles est un polygone composé d’une série de faces triangulaires disjointes, Direct3D applique l’ombrage Gouraud sur chaque face du polygone.</span><span class="sxs-lookup"><span data-stu-id="de14d-145">Because a triangle list is a polygon composed of a series of disjoint triangular faces, Direct3D applies Gouraud shading across each face of the polygon.</span></span> <span data-ttu-id="de14d-146">Toutefois, il n’est pas appliqué d’un visage à un visage.</span><span class="sxs-lookup"><span data-stu-id="de14d-146">However, it is not applied from face to face.</span></span> <span data-ttu-id="de14d-147">Si deux ou plusieurs triangles d’une liste triangulaire sont adjacents, ils semblent avoir un bord aigu entre eux.</span><span class="sxs-lookup"><span data-stu-id="de14d-147">If two or more triangles of a triangle list are adjacent, they appear to have a sharp edge between them.</span></span>

<span data-ttu-id="de14d-148">Une autre solution consiste à passer à l’ombrage plat lors du rendu d’objets avec des bords nets.</span><span class="sxs-lookup"><span data-stu-id="de14d-148">Another alternative is to change to flat shading when rendering objects with sharp edges.</span></span> <span data-ttu-id="de14d-149">Il s’agit de la méthode la plus efficace, mais cela peut entraîner la non-affichage des objets de la scène comme les objets qui sont grisés à l’Gouraud.</span><span class="sxs-lookup"><span data-stu-id="de14d-149">This is computationally the most efficient method, but it may result in objects in the scene that are not rendered as realistically as the objects that are Gouraud-shaded.</span></span>

## <a name="related-topics"></a><span data-ttu-id="de14d-150">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="de14d-150">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="de14d-151">Systèmes de coordonnées et géométrie</span><span class="sxs-lookup"><span data-stu-id="de14d-151">Coordinate Systems and Geometry</span></span>](coordinate-systems-and-geometry.md)
</dt> </dl>

 

 



