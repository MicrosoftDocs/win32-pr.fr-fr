---
description: La propriété type de lumière définit le type de source de lumière que vous utilisez.
ms.assetid: 7718383a-6e49-4ad2-acc1-fc8fec0d4844
title: Types de lumière (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 39ae2c7fd5380b0f604181f36d784afe3f3fc3ff
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104033364"
---
# <a name="light-types-direct3d-9"></a><span data-ttu-id="05e37-103">Types de lumière (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="05e37-103">Light Types (Direct3D 9)</span></span>

<span data-ttu-id="05e37-104">La propriété type de lumière définit le type de source de lumière que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="05e37-104">The light type property defines which type of light source you're using.</span></span> <span data-ttu-id="05e37-105">Le type de lumière est défini à l’aide d’une valeur de l’énumération C++ [**D3DLIGHTTYPE**](./d3dlighttype.md) dans le membre de type de la structure [**D3DLIGHT9**](d3dlight9.md) de la lumière.</span><span class="sxs-lookup"><span data-stu-id="05e37-105">The light type is set by using a value from the [**D3DLIGHTTYPE**](./d3dlighttype.md) C++ enumeration in the Type member of the light's [**D3DLIGHT9**](d3dlight9.md) structure.</span></span> <span data-ttu-id="05e37-106">Il existe trois types d’éclairages dans les lumières de point Direct3D, les lumières et les lumières directionnelles.</span><span class="sxs-lookup"><span data-stu-id="05e37-106">There are three types of lights in Direct3D - point lights, spotlights, and directional lights.</span></span> <span data-ttu-id="05e37-107">Chaque type éclaire les objets dans une scène différemment, avec des niveaux de surcharge de calcul différents.</span><span class="sxs-lookup"><span data-stu-id="05e37-107">Each type illuminates objects in a scene differently, with varying levels of computational overhead.</span></span>

## <a name="point-light"></a><span data-ttu-id="05e37-108">Lumière du point</span><span class="sxs-lookup"><span data-stu-id="05e37-108">Point Light</span></span>

<span data-ttu-id="05e37-109">Les lumières de point ont une couleur et une position dans une scène, mais pas de sens unique.</span><span class="sxs-lookup"><span data-stu-id="05e37-109">Point lights have color and position within a scene, but no single direction.</span></span> <span data-ttu-id="05e37-110">Elles s’imbriquent uniformément dans toutes les directions, comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="05e37-110">They give off light equally in all directions, as shown in the following illustration.</span></span>

![illustration de la lumière du point](images/ptlight.png)

<span data-ttu-id="05e37-112">Une ampoule est un bon exemple de lumière de point.</span><span class="sxs-lookup"><span data-stu-id="05e37-112">A light bulb is a good example of a point light.</span></span> <span data-ttu-id="05e37-113">Les lumières de point sont affectées par l’atténuation et la plage, et illuminent une maille sur une base vertex-par-vertex.</span><span class="sxs-lookup"><span data-stu-id="05e37-113">Point lights are affected by attenuation and range, and illuminate a mesh on a vertex-by-vertex basis.</span></span> <span data-ttu-id="05e37-114">Pendant l’éclairage, Direct3D utilise la position de la lumière dans l’espace universel et les coordonnées du sommet qui sont allumées pour dériver un vecteur pour la direction de la lumière, et la distance que la lumière a parcourue.</span><span class="sxs-lookup"><span data-stu-id="05e37-114">During lighting, Direct3D uses the point light's position in world space and the coordinates of the vertex being lit to derive a vector for the direction of the light, and the distance that the light has traveled.</span></span> <span data-ttu-id="05e37-115">Les deux sont utilisés, avec la normale au vertex, pour calculer la contribution de la lumière à l’éclairage de l’aire.</span><span class="sxs-lookup"><span data-stu-id="05e37-115">Both are used, along with the vertex normal, to calculate the contribution of the light to the illumination of the surface.</span></span>

## <a name="directional-light"></a><span data-ttu-id="05e37-116">Clair directionnel</span><span class="sxs-lookup"><span data-stu-id="05e37-116">Directional Light</span></span>

<span data-ttu-id="05e37-117">Les lumières directionnelles ont uniquement des couleurs et des directions, et non des positions.</span><span class="sxs-lookup"><span data-stu-id="05e37-117">Directional lights have only color and direction, not position.</span></span> <span data-ttu-id="05e37-118">Ils émettent une lumière parallèle.</span><span class="sxs-lookup"><span data-stu-id="05e37-118">They emit parallel light.</span></span> <span data-ttu-id="05e37-119">Cela signifie que toute la lumière générée par les lumières directionnelles se déplace dans une scène dans la même direction.</span><span class="sxs-lookup"><span data-stu-id="05e37-119">This means that all light generated by directional lights travels through a scene in the same direction.</span></span> <span data-ttu-id="05e37-120">Imaginez une lumière directionnelle comme source de lumière à une distance proche de l’infini, telle que le soleil.</span><span class="sxs-lookup"><span data-stu-id="05e37-120">Imagine a directional light as a light source at near infinite distance, such as the sun.</span></span> <span data-ttu-id="05e37-121">Les lumières directionnelles ne sont pas affectées par l’atténuation ou la plage. par conséquent, la direction et la couleur que vous spécifiez sont les seuls facteurs pris en compte lorsque Direct3D calcule les couleurs des sommets.</span><span class="sxs-lookup"><span data-stu-id="05e37-121">Directional lights are not affected by attenuation or range, so the direction and color you specify are the only factors considered when Direct3D calculates vertex colors.</span></span> <span data-ttu-id="05e37-122">En raison du petit nombre de facteurs d’éclairage, il s’agit du moins de lumières gourmandes en calculs à utiliser.</span><span class="sxs-lookup"><span data-stu-id="05e37-122">Because of the small number of illumination factors, these are the least computationally intensive lights to use.</span></span>

## <a name="spotlight"></a><span data-ttu-id="05e37-123">Vedette</span><span class="sxs-lookup"><span data-stu-id="05e37-123">SpotLight</span></span>

<span data-ttu-id="05e37-124">Les spotlights ont une couleur, une position et une direction dans lesquelles ils émettent de la lumière.</span><span class="sxs-lookup"><span data-stu-id="05e37-124">Spotlights have color, position, and direction in which they emit light.</span></span> <span data-ttu-id="05e37-125">La lumière émise à partir d’une Spotlight est constituée d’un cône interne vif et d’un cône externe plus grand, avec l’intensité de la lumière qui diminue entre les deux, comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="05e37-125">Light emitted from a spotlight is made up of a bright inner cone and a larger outer cone, with the light intensity diminishing between the two, as shown in the following illustration.</span></span>

![illustration d’une lumière en vedette avec cône interne et cône externe](images/spotlt.png)

<span data-ttu-id="05e37-127">Les actualités sont affectées par l’atténuation, l’atténuation et la plage.</span><span class="sxs-lookup"><span data-stu-id="05e37-127">Spotlights are affected by falloff, attenuation, and range.</span></span> <span data-ttu-id="05e37-128">Ces facteurs, ainsi que la distance qui traverse chaque vertex, sont présents dans le calcul des effets d’éclairage pour les objets d’une scène.</span><span class="sxs-lookup"><span data-stu-id="05e37-128">These factors, as well as the distance light travels to each vertex, are figured in when computing lighting effects for objects in a scene.</span></span> <span data-ttu-id="05e37-129">Le calcul de ces effets pour chaque vertex rend les actualités plus gourmandes en termes de temps pour toutes les lumières dans Direct3D.</span><span class="sxs-lookup"><span data-stu-id="05e37-129">Computing these effects for each vertex makes spotlights the most computationally time-consuming of all lights in Direct3D.</span></span>

<span data-ttu-id="05e37-130">La structure C++ [**D3DLIGHT9**](d3dlight9.md) contient trois membres qui sont utilisés uniquement par les actualités.</span><span class="sxs-lookup"><span data-stu-id="05e37-130">The [**D3DLIGHT9**](d3dlight9.md) C++ structure contains three members that are used only by spotlights.</span></span> <span data-ttu-id="05e37-131">Ces membres (atténuation, thêta et Phi) contrôlent la taille ou la taille des cônes internes et externes d’un objet Spotlight, et la façon dont la lumière les réduit.</span><span class="sxs-lookup"><span data-stu-id="05e37-131">These members - Falloff, Theta, and Phi - control how large or small a spotlight object's inner and outer cones are, and how light decreases between them.</span></span>

<span data-ttu-id="05e37-132">La valeur thêta est l’angle Radian du cône interne de la lumière, et la valeur Phi est l’angle du cône externe de la lumière.</span><span class="sxs-lookup"><span data-stu-id="05e37-132">The Theta value is the radian angle of the spotlight's inner cone, and the Phi value is the angle for the outer cone of light.</span></span> <span data-ttu-id="05e37-133">La valeur de retrait contrôle la manière dont l’intensité lumineuse diminue entre le bord extérieur du cône interne et le bord intérieur du cône externe.</span><span class="sxs-lookup"><span data-stu-id="05e37-133">The Falloff value controls how light intensity decreases between the outer edge of the inner cone and the inner edge of the outer cone.</span></span> <span data-ttu-id="05e37-134">La plupart des applications définissent la valeur 1,0 pour créer une atténuation qui se produit uniformément entre les deux cônes, mais vous pouvez définir d’autres valeurs en fonction des besoins.</span><span class="sxs-lookup"><span data-stu-id="05e37-134">Most applications set Falloff to 1.0 to create falloff that occurs evenly between the two cones, but you can set other values as needed.</span></span>

<span data-ttu-id="05e37-135">L’illustration suivante montre la relation entre les valeurs de ces membres et la manière dont ils peuvent affecter les cônes internes et externes d’un projecteur de lumière.</span><span class="sxs-lookup"><span data-stu-id="05e37-135">The following illustration shows the relationship between the values for these members and how they can affect a spotlight's inner and outer cones of light.</span></span>

![illustration de la relation entre les valeurs Phi et thêta et les cônes Spotlight](images/spotlt2.png)

<span data-ttu-id="05e37-137">Les lumières émettent un cône de lumière qui comporte deux parties : un cône interne vif et un cône externe.</span><span class="sxs-lookup"><span data-stu-id="05e37-137">Spotlights emit a cone of light that has two parts: a bright inner cone and an outer cone.</span></span> <span data-ttu-id="05e37-138">La lumière est claire dans le cône interne et n’est pas présente en dehors du cône externe, avec une intensité lumineuse qui atténue entre les deux zones.</span><span class="sxs-lookup"><span data-stu-id="05e37-138">Light is brightest in the inner cone and isn't present outside the outer cone, with light intensity attenuating between the two areas.</span></span> <span data-ttu-id="05e37-139">Ce type d’atténuation est communément appelé atténuation.</span><span class="sxs-lookup"><span data-stu-id="05e37-139">This type of attenuation is commonly referred to as falloff.</span></span>

<span data-ttu-id="05e37-140">La quantité de lumière reçue par un vertex est basée sur l’emplacement du vertex dans les cônes internes ou externes.</span><span class="sxs-lookup"><span data-stu-id="05e37-140">The amount of light a vertex receives is based on the vertex's location in the inner or outer cones.</span></span> <span data-ttu-id="05e37-141">Direct3D calcule le produit scalaire du vecteur de direction du projecteur (L) et du vecteur de la lumière jusqu’au sommet (D).</span><span class="sxs-lookup"><span data-stu-id="05e37-141">Direct3D computes the dot product of the spotlight's direction vector (L) and the vector from the light to the vertex (D).</span></span> <span data-ttu-id="05e37-142">Cette valeur est égale au cosinus de l’angle entre les deux vecteurs et sert d’indicateur de la position du sommet qui peut être comparé aux angles coniques de la lumière pour déterminer où le vertex peut se trouver dans les cônes internes ou externes.</span><span class="sxs-lookup"><span data-stu-id="05e37-142">This value is equal to the cosine of the angle between the two vectors, and serves as an indicator of the vertex's position that can be compared to the light's cone angles to determine where the vertex might lie in the inner or outer cones.</span></span> <span data-ttu-id="05e37-143">L’illustration suivante fournit une représentation graphique de l’association entre ces deux vecteurs.</span><span class="sxs-lookup"><span data-stu-id="05e37-143">The following illustration provides a graphical representation of the association between these two vectors.</span></span>

![illustration du vecteur de direction Spotlight et du vecteur du sommet à la lumière](images/spotalg1.png)

<span data-ttu-id="05e37-145">Le système compare cette valeur au cosinus des angles de cône interne et externe de la lumière.</span><span class="sxs-lookup"><span data-stu-id="05e37-145">The system compares this value to the cosine of the spotlight's inner and outer cone angles.</span></span> <span data-ttu-id="05e37-146">Dans la structure [**D3DLIGHT9**](d3dlight9.md) de la lumière, les membres thêta et Phi représentent les angles de cônes totaux pour les cônes internes et externes.</span><span class="sxs-lookup"><span data-stu-id="05e37-146">In the light's [**D3DLIGHT9**](d3dlight9.md) structure, the Theta and Phi members represent the total cone angles for the inner and outer cones.</span></span> <span data-ttu-id="05e37-147">Étant donné que l’atténuation se produit lorsque le vertex devient plus éloigné du centre d’éclairage (plutôt qu’à travers l’angle de cône total), le runtime divise ces angles de cône en deux avant de calculer leurs cosinus.</span><span class="sxs-lookup"><span data-stu-id="05e37-147">Because the attenuation occurs as the vertex becomes more distant from the center of illumination (rather than across the total cone angle), the runtime divides these cone angles in half before calculating their cosines.</span></span>

<span data-ttu-id="05e37-148">Si le produit scalaire des vecteurs L et D est inférieur ou égal au cosinus de l’angle du cône externe, le sommet se situe au-delà du cône externe et ne reçoit pas de lumière.</span><span class="sxs-lookup"><span data-stu-id="05e37-148">If the dot product of vectors L and D is less than or equal to the cosine of the outer cone angle, the vertex lies beyond the outer cone and receives no light.</span></span> <span data-ttu-id="05e37-149">Si le produit scalaire de L et D est supérieur au cosinus de l’angle du cône interne, le vertex se trouve dans le cône interne et reçoit la quantité maximale de lumière, en prenant toujours en compte l’atténuation sur la distance.</span><span class="sxs-lookup"><span data-stu-id="05e37-149">If the dot product of L and D is greater than the cosine of the inner cone angle, then the vertex is within the inner cone and receives the maximum amount of light, still considering attenuation over distance.</span></span> <span data-ttu-id="05e37-150">Si le vertex est situé entre les deux régions, le retrait est calculé avec l’équation suivante.</span><span class="sxs-lookup"><span data-stu-id="05e37-150">If the vertex is somewhere between the two regions, then falloff is calculated with the following equation.</span></span>

![formule pour l’intensité de l’éclairage au sommet, après retrait](images/falloff.png)

<span data-ttu-id="05e37-152">Où :</span><span class="sxs-lookup"><span data-stu-id="05e37-152">Where:</span></span>

-   <span data-ttu-id="05e37-153">I <sub>f</sub> est une intensité légère après retrait</span><span class="sxs-lookup"><span data-stu-id="05e37-153">I <sub>f</sub> is light intensity after falloff</span></span>
-   <span data-ttu-id="05e37-154">Alpha est l’angle entre les vecteurs L et D</span><span class="sxs-lookup"><span data-stu-id="05e37-154">Alpha is the angle between vectors L and D</span></span>
-   <span data-ttu-id="05e37-155">Thêta est l’angle conique interne</span><span class="sxs-lookup"><span data-stu-id="05e37-155">Theta is the inner cone angle</span></span>
-   <span data-ttu-id="05e37-156">Phi est l’angle du cône externe</span><span class="sxs-lookup"><span data-stu-id="05e37-156">Phi is the outer cone angle</span></span>
-   <span data-ttu-id="05e37-157">p est le retrait</span><span class="sxs-lookup"><span data-stu-id="05e37-157">p is the falloff</span></span>

<span data-ttu-id="05e37-158">Cette formule génère une valeur comprise entre 0,0 et 1,0 qui met à l’échelle l’intensité de la lumière au niveau du vertex pour prendre en compte la dépassation.</span><span class="sxs-lookup"><span data-stu-id="05e37-158">This formula generates a value between 0.0 and 1.0 that scales the light's intensity at the vertex to account for falloff.</span></span> <span data-ttu-id="05e37-159">L’atténuation en tant que facteur de la distance du sommet par rapport à la lumière est également appliquée.</span><span class="sxs-lookup"><span data-stu-id="05e37-159">Attenuation as a factor of the vertex's distance from the light is also applied.</span></span> <span data-ttu-id="05e37-160">Le graphique suivant montre comment différentes valeurs de retrait peuvent affecter la courbe d’atténuation.</span><span class="sxs-lookup"><span data-stu-id="05e37-160">The following graph shows how different falloff values can affect the falloff curve.</span></span>

![graphique de l’intensité de la lumière et de la distance du vertex par rapport à la lumière](images/fallgraf.png)

<span data-ttu-id="05e37-162">L’effet de diverses valeurs d’atténuation sur l’éclairage réel est subtil, et une faible baisse des performances est provoquée par la mise en forme de la courbe décroissante avec des valeurs d’atténuation autres que 1,0.</span><span class="sxs-lookup"><span data-stu-id="05e37-162">The effect of various falloff values on the actual lighting is subtle, and a small performance penalty is incurred by shaping the falloff curve with falloff values other than 1.0.</span></span> <span data-ttu-id="05e37-163">Pour ces raisons, cette valeur est généralement définie sur 1,0.</span><span class="sxs-lookup"><span data-stu-id="05e37-163">For these reasons, this value is typically set to 1.0.</span></span>

## <a name="related-topics"></a><span data-ttu-id="05e37-164">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="05e37-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="05e37-165">Lumières et matériaux</span><span class="sxs-lookup"><span data-stu-id="05e37-165">Lights and Materials</span></span>](lights-and-materials.md)
</dt> </dl>

 

 
