---
description: Vous pouvez maintenant créer automatiquement un mipmap qui est une série de textures, chacune filtrée avec une résolution différente.
ms.assetid: ae5955f9-e52a-41d7-a199-800e37a3e936
title: Génération automatique de des mipmaps (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4fda5b765d42ffa10f8cc5998daa66ae36c2bc75
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106513148"
---
# <a name="automatic-generation-of-mipmaps-direct3d-9"></a><span data-ttu-id="df639-103">Génération automatique de des mipmaps (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="df639-103">Automatic Generation of Mipmaps (Direct3D 9)</span></span>

<span data-ttu-id="df639-104">Vous pouvez maintenant créer automatiquement un mipmap qui est une série de textures, chacune filtrée avec une résolution différente.</span><span class="sxs-lookup"><span data-stu-id="df639-104">You can now automatically create a mipmap which is a series of textures, each filtered to a different resolution.</span></span> <span data-ttu-id="df639-105">Les des mipmaps sont généralement utilisés pour fournir des niveaux de détail différents lors du rendu.</span><span class="sxs-lookup"><span data-stu-id="df639-105">Mipmaps are commonly used to provide different levels of detail when rendering.</span></span> <span data-ttu-id="df639-106">La génération automatique de des mipmaps au moment de la création de la texture tire parti du filtrage matériel, car le mipmap réside dans la mémoire vidéo.</span><span class="sxs-lookup"><span data-stu-id="df639-106">Automatically generating mipmaps at texture creation time takes advantage of hardware filtering because the mipmap resides in video memory.</span></span>

<span data-ttu-id="df639-107">Pour générer automatiquement un mipmap, définissez un nouveau D3DUSAGE d’utilisation [ \_ AUTOGENMIPMAP](d3dusage.md) avant d’appeler [**CreateTexture**](/windows/desktop/api).</span><span class="sxs-lookup"><span data-stu-id="df639-107">To generate a mipmap automatically, set a new usage [D3DUSAGE\_AUTOGENMIPMAP](d3dusage.md) before calling [**CreateTexture**](/windows/desktop/api).</span></span> <span data-ttu-id="df639-108">La génération de sous-niveau à partir de ce point sur est complètement transparente pour l’application.</span><span class="sxs-lookup"><span data-stu-id="df639-108">Sublevel generation from this point on is completely transparent to the application.</span></span> <span data-ttu-id="df639-109">Seul le niveau de texture supérieur est accessible à l’application ; les sous-niveaux de texture ne sont pas accessibles, car ils sont créés uniquement lorsque le pilote en a besoin.</span><span class="sxs-lookup"><span data-stu-id="df639-109">Only the top texture level is accessible to the application; the texture sublevels are not accessible since they will be created only when needed by the driver.</span></span> <span data-ttu-id="df639-110">Dans les cas où la génération de sous-niveaux peut prendre beaucoup de temps, utilisez [**GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) pour indiquer au pilote qu’il doit générer des sous-niveaux à un moment approprié pour l’application.</span><span class="sxs-lookup"><span data-stu-id="df639-110">In cases where sublevel generation may take a lot of time, use [**GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) to hint to the driver that it should generate sublevels at a time appropriate for the application.</span></span>

## <a name="mipmap-filtering"></a><span data-ttu-id="df639-111">Filtrage mipmap</span><span class="sxs-lookup"><span data-stu-id="df639-111">Mipmap Filtering</span></span>

<span data-ttu-id="df639-112">[**SetAutoGenFilterType**](/windows/desktop/api) contrôle la qualité du filtrage lors de la génération automatique.</span><span class="sxs-lookup"><span data-stu-id="df639-112">[**SetAutoGenFilterType**](/windows/desktop/api) controls the filtering quality during automatic generation.</span></span> <span data-ttu-id="df639-113">La modification du type de filtre met les sous-niveaux mipmap en valeur et provoque leur régénération.</span><span class="sxs-lookup"><span data-stu-id="df639-113">Changing the filter type dirties the mipmap sublevels and causes them to be regenerated.</span></span> <span data-ttu-id="df639-114">Utilisez [**GetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-getautogenfiltertype) pour récupérer le type de filtre actuel.</span><span class="sxs-lookup"><span data-stu-id="df639-114">Use [**GetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-getautogenfiltertype) to get the current filter type.</span></span> <span data-ttu-id="df639-115">Le type de filtre par défaut est D3DTEXF \_ Linear.</span><span class="sxs-lookup"><span data-stu-id="df639-115">The default filter type is D3DTEXF\_LINEAR.</span></span> <span data-ttu-id="df639-116">Si le pilote ne prend pas en charge un filtre linéaire, le type de filtre est défini sur D3DTEXF \_ point.</span><span class="sxs-lookup"><span data-stu-id="df639-116">If the driver doesn't support a linear filter, the filter type will be set to D3DTEXF\_POINT.</span></span>

<span data-ttu-id="df639-117">Ces méthodes n’ont aucun effet si la texture n’est pas créée avec [D3DUSAGE \_ AUTOGENMIPMAP](d3dusage.md) et qu’aucun échec n’est retourné.</span><span class="sxs-lookup"><span data-stu-id="df639-117">These methods have no effect if the texture is not created with [D3DUSAGE\_AUTOGENMIPMAP](d3dusage.md) And no failure is returned.</span></span> <span data-ttu-id="df639-118">Tous les types de filtre pris en charge par le pilote pour le filtrage de texture normal sont pris en charge pour la génération automatique, à l’exception de D3DTEXF \_ None.</span><span class="sxs-lookup"><span data-stu-id="df639-118">All filter types supported by the driver for regular texture filtering are supported for autogenerated except D3DTEXF\_NONE.</span></span> <span data-ttu-id="df639-119">Pour chaque type de ressource, les pilotes doivent prendre en charge tous les types de filtres signalés dans les limites de filtre texture, CubeTexture et volumetexture correspondantes.</span><span class="sxs-lookup"><span data-stu-id="df639-119">For each resource type, drivers should support all the filter types reported in the corresponding texture, CubeTexture, and volumetexture filter caps.</span></span>

<span data-ttu-id="df639-120">Pour vérifier les types de filtre pris en charge, consultez les limites prises en charge par les membres TextureFilterCaps et/ou CubeTextureFilterCaps de [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9).</span><span class="sxs-lookup"><span data-stu-id="df639-120">To check which filter types are supported, check to see which caps are supported by the TextureFilterCaps and/or CubeTextureFilterCaps members of [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9).</span></span>

## <a name="mipmap-support"></a><span data-ttu-id="df639-121">Prise en charge du mipmap</span><span class="sxs-lookup"><span data-stu-id="df639-121">Mipmap Support</span></span>

<span data-ttu-id="df639-122">[D3DUSAGE \_ AUTOGENMIPMAP](d3dusage.md) n’est qu’une indication, et la spécification de cette option lors de la création d’une texture ou lors de l’appel de [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) ne provoque pas d’erreur sur l’un des types d’interface de pilote de périphérique (DDI).</span><span class="sxs-lookup"><span data-stu-id="df639-122">[D3DUSAGE\_AUTOGENMIPMAP](d3dusage.md) is only a hint, and specifying this during texture creation or when calling [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) would not cause an error on any of the device driver interface (DDI) types.</span></span>

<span data-ttu-id="df639-123">L’appel de [**UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) est illégal lorsque la source est un mipmap généré automatiquement, mais que la destination n’est pas.</span><span class="sxs-lookup"><span data-stu-id="df639-123">Calling [**UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) is illegal when the source is an automatically generated mipmap, but the destination is not.</span></span> <span data-ttu-id="df639-124">La source peut être un mipmap non généré automatiquement et la destination peut être un mipmap généré automatiquement.</span><span class="sxs-lookup"><span data-stu-id="df639-124">The source can be a non-automatically generated mipmap and the destination can be an automatically generated mipmap.</span></span> <span data-ttu-id="df639-125">Dans ce cas, seul le niveau de correspondance le plus élevé est mis à jour.</span><span class="sxs-lookup"><span data-stu-id="df639-125">In this case, only the topmost matching level is updated.</span></span> <span data-ttu-id="df639-126">Tous les autres sous-niveaux source sont ignorés.</span><span class="sxs-lookup"><span data-stu-id="df639-126">All other source sublevels are ignored.</span></span> <span data-ttu-id="df639-127">De même, lorsque la source et la destination sont générées automatiquement, seul le niveau de correspondance le plus élevé est mis à jour.</span><span class="sxs-lookup"><span data-stu-id="df639-127">Similarly, when both the source and destination are automatically generated, only the topmost matching level is updated.</span></span> <span data-ttu-id="df639-128">Les sous-niveaux de la source sont ignorés et les sous-niveaux de destination sont régénérés.</span><span class="sxs-lookup"><span data-stu-id="df639-128">The sublevels from the source are ignored and the destination sublevels are regenerated.</span></span>

<span data-ttu-id="df639-129">Pour vérifier la prise en charge de la génération automatique de des mipmaps, vérifiez que [D3DCAPS2 \_ CANAUTOGENMIPMAP](d3dcaps2.md) est défini.</span><span class="sxs-lookup"><span data-stu-id="df639-129">To check for support for automatic generation of mipmaps, check to see that [D3DCAPS2\_CANAUTOGENMIPMAP](d3dcaps2.md) is set.</span></span> <span data-ttu-id="df639-130">Si c’est le cas, appelez [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) avec [D3DUSAGE \_ AUTOGENMIPMAP](d3dusage.md).</span><span class="sxs-lookup"><span data-stu-id="df639-130">If it is, call [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) with [D3DUSAGE\_AUTOGENMIPMAP](d3dusage.md).</span></span> <span data-ttu-id="df639-131">Si la valeur de retour est D3D \_ OK, il est garanti que les des mipmaps sont générés automatiquement.</span><span class="sxs-lookup"><span data-stu-id="df639-131">If the return value is D3D\_OK, the mipmaps are guaranteed to be autogenerated.</span></span> <span data-ttu-id="df639-132">Si la valeur de retour est D3DOK \_ NOAUTOGEN, cela signifie que l’appel de Create va échouer, mais qu’aucun des mipmaps n’est généré.</span><span class="sxs-lookup"><span data-stu-id="df639-132">If the return value is D3DOK\_NOAUTOGEN, this means that the create call will succeed, but there won't be any mipmaps generated.</span></span>

## <a name="related-topics"></a><span data-ttu-id="df639-133">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="df639-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="df639-134">Textures Direct3D</span><span class="sxs-lookup"><span data-stu-id="df639-134">Direct3D Textures</span></span>](direct3d-textures.md)
</dt> </dl>

 

 
