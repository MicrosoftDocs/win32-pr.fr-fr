---
description: Les périphériques Direct3D peuvent transformer les coordonnées de texture pour les vertex en appliquant une matrice 4x4.
ms.assetid: f36439de-e37a-457c-9485-a435847eb01e
title: Transformations de coordonnées de texture (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f45b8107f609348ae2367b1171ae7913797f4558
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104109146"
---
# <a name="texture-coordinate-transformations-direct3d-9"></a><span data-ttu-id="2060a-103">Transformations de coordonnées de texture (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="2060a-103">Texture Coordinate Transformations (Direct3D 9)</span></span>

<span data-ttu-id="2060a-104">Les périphériques Direct3D peuvent transformer les coordonnées de texture pour les vertex en appliquant une matrice 4x4.</span><span class="sxs-lookup"><span data-stu-id="2060a-104">Direct3D devices can transform the texture coordinates for vertices by applying a 4x4 matrix.</span></span> <span data-ttu-id="2060a-105">Le système applique les transformations aux coordonnées de texture de la même manière que la géométrie.</span><span class="sxs-lookup"><span data-stu-id="2060a-105">The system applies transformations to texture coordinates in the same manner as geometry.</span></span> <span data-ttu-id="2060a-106">Toutes les transformations (mise à l’échelle, rotation, translation, projection, cisaillement ou toute combinaison de ces opérations) peuvent être effectuées à l’aide d’une matrice 4x4.</span><span class="sxs-lookup"><span data-stu-id="2060a-106">Any transformation (scale, rotation, translation, projection, shear, or any combination of these) can be done with a 4x4 matrix.</span></span>

> [!Note]  
> <span data-ttu-id="2060a-107">Direct3D ne modifie pas les sommets transformés et allumés.</span><span class="sxs-lookup"><span data-stu-id="2060a-107">Direct3D does not modify transformed and lit vertices.</span></span> <span data-ttu-id="2060a-108">Par conséquent, une application utilisant des vertex transformés et allumés ne peut pas utiliser Direct3D pour transformer les coordonnées de texture des vertex.</span><span class="sxs-lookup"><span data-stu-id="2060a-108">As a result, an application using transformed and lit vertices cannot use Direct3D to transform the texture coordinates of the vertices.</span></span>

 

<span data-ttu-id="2060a-109">Les appareils qui prennent en charge les opérations de transformation et d’éclairage à accélération matérielle (T&L Device HAL) accélèrent également la transformation des coordonnées de texture.</span><span class="sxs-lookup"><span data-stu-id="2060a-109">Devices that support hardware-accelerated transformation and lighting operations (T&L HAL Device) also accelerate the transformation of texture coordinates.</span></span> <span data-ttu-id="2060a-110">Lorsque l’accélération matérielle des transformations n’est pas disponible, les optimisations spécifiques à la plateforme dans le pipeline de géométrie Direct3D s’appliquent aux transformations de coordonnées de texture.</span><span class="sxs-lookup"><span data-stu-id="2060a-110">When hardware acceleration of transformations isn't available, platform-specific optimizations in the Direct3D geometry pipeline apply to texture coordinate transformations.</span></span>

<span data-ttu-id="2060a-111">Les transformations de coordonnée de texture sont utiles pour produire des effets spéciaux tout en évitant la nécessité de modifier directement les coordonnées de texture de votre géométrie.</span><span class="sxs-lookup"><span data-stu-id="2060a-111">Texture coordinate transformations are useful for producing special effects while avoiding the need to directly modify the texture coordinates of your geometry.</span></span> <span data-ttu-id="2060a-112">Vous pouvez utiliser des matrices de translation ou de rotation simples pour animer des textures sur un objet, ou vous pouvez transformer des coordonnées de texture générées automatiquement par Direct3D pour simplifier et éventuellement accélérer les effets avancés tels que les textures projetées et le mappage de lumière dynamique.</span><span class="sxs-lookup"><span data-stu-id="2060a-112">You could use simple translation or rotation matrices to animate textures on an object, or you can transform texture coordinates that are automatically generated by Direct3D to simplify and perhaps accelerate advanced effects such as projected textures and dynamic light-mapping.</span></span> <span data-ttu-id="2060a-113">En outre, vous pouvez utiliser des transformations de coordonnée de texture pour réutiliser un ensemble unique de coordonnées de texture à plusieurs fins, dans plusieurs étapes de texture.</span><span class="sxs-lookup"><span data-stu-id="2060a-113">Additionally, you might use texture coordinate transforms to reuse a single set of texture coordinates for multiple purposes, in multiple texture stages.</span></span>

## <a name="setting-and-retrieving-texture-coordinate-transformations"></a><span data-ttu-id="2060a-114">Définition et récupération des transformations de coordonnées de texture</span><span class="sxs-lookup"><span data-stu-id="2060a-114">Setting and Retrieving Texture Coordinate Transformations</span></span>

<span data-ttu-id="2060a-115">Comme les matrices que votre application utilise pour la géométrie, vous définissez et récupérez les transformations de coordonnée de texture en appelant les méthodes [**IDirect3DDevice9 :: setTransform**](/windows/desktop/api) et [**IDirect3DDevice9 :: GetTransform**](/windows/desktop/api) .</span><span class="sxs-lookup"><span data-stu-id="2060a-115">Like the matrices that your application uses for geometry, you set and retrieve texture coordinate transformations by calling the [**IDirect3DDevice9::SetTransform**](/windows/desktop/api) and [**IDirect3DDevice9::GetTransform**](/windows/desktop/api) methods.</span></span> <span data-ttu-id="2060a-116">Ces méthodes acceptent les D3DTS \_ TEXTURE0 par le biais \_ des membres D3DTS TEXTURE7 du type énuméré [**D3DTRANSFORMSTATETYPE**](./d3dtransformstatetype.md) pour identifier les matrices de transformation pour les étapes de texture 0 à 7, respectivement.</span><span class="sxs-lookup"><span data-stu-id="2060a-116">These methods accept the D3DTS\_TEXTURE0 through D3DTS\_TEXTURE7 members of the [**D3DTRANSFORMSTATETYPE**](./d3dtransformstatetype.md) enumerated type to identify the transformation matrices for texture stages 0 through 7, respectively.</span></span>

<span data-ttu-id="2060a-117">Le code suivant définit une matrice à appliquer aux coordonnées de texture pour l’étape de texture 0.</span><span class="sxs-lookup"><span data-stu-id="2060a-117">The following code sets a matrix to apply to the texture coordinates for texture stage 0.</span></span>


```
// For this example, assume the d3dDevice variable contains a 
//   valid pointer to an IDirect3DDevice9 interface.

D3DMATRIX matTrans = D3DXMatrixIdentity( NULL );

// Set up the matrix for the desired transformation.
d3dDevice->SetTransform( D3DTS_TEXTURE0, &matTrans );
```



## <a name="enabling-texture-coordinate-transformations"></a><span data-ttu-id="2060a-118">Activation des transformations de coordonnée de texture</span><span class="sxs-lookup"><span data-stu-id="2060a-118">Enabling Texture Coordinate Transformations</span></span>

<span data-ttu-id="2060a-119">L' \_ État de l’étape de texture D3DTSS TEXTURETRANSFORMFLAGS contrôle l’application des transformations de coordonnées de texture.</span><span class="sxs-lookup"><span data-stu-id="2060a-119">The D3DTSS\_TEXTURETRANSFORMFLAGS texture stage state controls the application of texture coordinate transformations.</span></span> <span data-ttu-id="2060a-120">Les valeurs de cet état d’étape de texture sont définies par le type énuméré [**D3DTEXTURETRANSFORMFLAGS**](./d3dtexturetransformflags.md) .</span><span class="sxs-lookup"><span data-stu-id="2060a-120">Values for this texture stage state are defined by the [**D3DTEXTURETRANSFORMFLAGS**](./d3dtexturetransformflags.md) enumerated type.</span></span>

<span data-ttu-id="2060a-121">Les transformations de coordonnées de texture sont désactivées lorsque D3DTSS \_ TEXTURETRANSFORMFLAGS est défini sur D3DTTFF \_ Disable (valeur par défaut).</span><span class="sxs-lookup"><span data-stu-id="2060a-121">Texture coordinate transformations are disabled when D3DTSS\_TEXTURETRANSFORMFLAGS is set to D3DTTFF\_DISABLE (the default value).</span></span> <span data-ttu-id="2060a-122">En supposant que les transformations de coordonnées de texture ont été activées pour l’étape 0, le code suivant les désactive.</span><span class="sxs-lookup"><span data-stu-id="2060a-122">Assuming that texture coordinate transformations were enabled for stage 0, the following code disables them.</span></span>


```
// For this example, assume the d3dDevice variable contains a 
// valid pointer to an IDirect3DDevice9 interface.

d3dDevice->SetTextureStageState( 0, D3DTSS_TEXTURETRANSFORMFLAGS, 
                                 D3DTTFF_DISABLE );
```



<span data-ttu-id="2060a-123">Les autres valeurs définies dans [**D3DTEXTURETRANSFORMFLAGS**](./d3dtexturetransformflags.md) sont utilisées pour activer les transformations de coordonnée de texture et pour contrôler le nombre d’éléments de coordonnées de texture qui en résultent passés au rastériseur.</span><span class="sxs-lookup"><span data-stu-id="2060a-123">The other values defined in [**D3DTEXTURETRANSFORMFLAGS**](./d3dtexturetransformflags.md) are used to enable texture coordinate transformations, and to control how many resulting texture coordinate elements are passed to the rasterizer.</span></span> <span data-ttu-id="2060a-124">Par exemple, prenez le code suivant.</span><span class="sxs-lookup"><span data-stu-id="2060a-124">For example, take the following code.</span></span>


```
// For this example, assume the d3dDevice variable contains a 
//   valid pointer to an IDirect3DDevice9 interface.

d3dDevice->SetTextureStageState( 0, D3DTSS_TEXTURETRANSFORMFLAGS, 
                                 D3DTTFF_COUNT2 );
```



<span data-ttu-id="2060a-125">La \_ valeur COUNT2 D3DTTFF indique au système d’appliquer le jeu de matrices de transformation pour l’étape de texture 0, puis de passer les deux premiers éléments des coordonnées de texture modifiées au rastériseur.</span><span class="sxs-lookup"><span data-stu-id="2060a-125">The D3DTTFF\_COUNT2 value instructs the system to apply the transformation matrix set for texture stage 0, and then pass the first two elements of the modified texture coordinates to the rasterizer.</span></span>

<span data-ttu-id="2060a-126">L' \_ indicateur de transformation de texture projeté D3DTTFF indique les coordonnées d’une texture projetée.</span><span class="sxs-lookup"><span data-stu-id="2060a-126">The D3DTTFF\_PROJECTED texture transformation flag indicates coordinates for a projected texture.</span></span> <span data-ttu-id="2060a-127">Lorsque cet indicateur est spécifié, le rastériseur divise les éléments transmis par le dernier élément.</span><span class="sxs-lookup"><span data-stu-id="2060a-127">When this flag is specified, the rasterizer divides the elements passed-in by the last element.</span></span> <span data-ttu-id="2060a-128">Prenons le code suivant, par exemple.</span><span class="sxs-lookup"><span data-stu-id="2060a-128">Take the following code, for example.</span></span>


```
// For this example, assume the d3dDevice variable contains a 
//   valid pointer to an IDirect3DDevice9 interface.

d3dDevice->SetTextureStageState( 0, D3DTSS_TEXTURETRANSFORMFLAGS, 
                                 D3DTTFF_COUNT3 | D3DTTFF_PROJECTED );
```



<span data-ttu-id="2060a-129">Cet exemple indique au système de passer trois éléments de coordonnée de texture au rastériseur.</span><span class="sxs-lookup"><span data-stu-id="2060a-129">This example informs the system to pass three texture coordinate elements to the rasterizer.</span></span> <span data-ttu-id="2060a-130">Le rastériseur divise les deux premiers éléments par le troisième, en produisant les coordonnées de texture 2D nécessaires pour traiter la texture.</span><span class="sxs-lookup"><span data-stu-id="2060a-130">The rasterizer divides the first two elements by the third, producing the 2D texture coordinates needed to address the texture.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2060a-131">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="2060a-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2060a-132">Traitement des coordonnées de texture</span><span class="sxs-lookup"><span data-stu-id="2060a-132">Texture Coordinate Processing</span></span>](texture-coordinate-processing.md)
</dt> </dl>

 

 
