---
description: Un effet Microsoft DirectX permet d’intégrer des nuanceurs vertex et de pixels à l’état du pipeline pour afficher des objets. Les effets sont l’étape logique suivante dans la combinaison de nuanceurs pour produire des conditions de rendu uniques.
ms.assetid: vs|directx_sdk|~\effects.htm
title: Effets (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d48d2ff5548dff29ede4b360bd2c319f85fafa3e
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "106516155"
---
# <a name="effects-direct3d-9"></a><span data-ttu-id="f4f88-104">Effets (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="f4f88-104">Effects (Direct3D 9)</span></span>

<span data-ttu-id="f4f88-105">Un effet Microsoft DirectX permet d’intégrer des nuanceurs vertex et de pixels à l’état du pipeline pour afficher des objets.</span><span class="sxs-lookup"><span data-stu-id="f4f88-105">A Microsoft DirectX effect enables the integration of vertex and pixel shaders with pipeline state to render objects.</span></span> <span data-ttu-id="f4f88-106">Les effets sont l’étape logique suivante dans la combinaison de nuanceurs pour produire des conditions de rendu uniques.</span><span class="sxs-lookup"><span data-stu-id="f4f88-106">Effects are the next logical step in combining shaders to produce unique render conditions.</span></span>

<span data-ttu-id="f4f88-107">Les effets offrent également un moyen pratique d’écrire des nuanceurs pour différentes versions matérielles.</span><span class="sxs-lookup"><span data-stu-id="f4f88-107">Effects also provide a convenient way to write shaders for different hardware versions.</span></span> <span data-ttu-id="f4f88-108">Étant donné que différentes cartes vidéo prennent en charge des fonctionnalités différentes, une application peut écrire plusieurs techniques qui s’exécuteront sur divers appareils.</span><span class="sxs-lookup"><span data-stu-id="f4f88-108">Because different video cards support different functionalities, an application can write several techniques that will run on a variety of devices.</span></span> <span data-ttu-id="f4f88-109">De cette façon, si l’application s’exécute sur le matériel le plus récent et le plus grand, l’application peut exécuter la technique d’effet la plus sophistiquée.</span><span class="sxs-lookup"><span data-stu-id="f4f88-109">This way, if the application is running on the latest and greatest hardware, the application can run the most sophisticated effect technique.</span></span> <span data-ttu-id="f4f88-110">En revanche, les techniques d’effet moins complexes peuvent être automatiquement choisies pour s’exécuter sur du matériel moins onéreux ou moins performant.</span><span class="sxs-lookup"><span data-stu-id="f4f88-110">On the other hand, less sophisticated effect techniques can automatically be chosen to run on less-expensive or less-capable hardware.</span></span>

<span data-ttu-id="f4f88-111">Un effet peut remplacer le traitement du vertex et une partie du traitement des pixels effectué par le pipeline Graphics.</span><span class="sxs-lookup"><span data-stu-id="f4f88-111">An effect can replace the vertex processing and part of the pixel processing performed by the graphics pipeline.</span></span> <span data-ttu-id="f4f88-112">Un exemple d’effet qui utilise un nuanceur de sommets et un nuanceur de pixels se trouve dans l’exemple BasicHLSL.</span><span class="sxs-lookup"><span data-stu-id="f4f88-112">An example of an effect that uses a vertex shader and a pixel shader is in the BasicHLSL Sample.</span></span> <span data-ttu-id="f4f88-113">Vous pouvez obtenir cet exemple et en savoir plus à ce sujet à partir du kit de développement logiciel (SDK) DirectX.</span><span class="sxs-lookup"><span data-stu-id="f4f88-113">You can get this sample and learn about it from the DirectX SDK.</span></span> <span data-ttu-id="f4f88-114">Pour plus d’informations sur DirectX SDK, consultez [où se trouve le kit de développement logiciel (SDK) DirectX ?](../directx-sdk--august-2009-.md).</span><span class="sxs-lookup"><span data-stu-id="f4f88-114">For info about the DirectX SDK, see [Where is the DirectX SDK?](../directx-sdk--august-2009-.md).</span></span>

<span data-ttu-id="f4f88-115">Pour plus d’informations sur les effets, consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="f4f88-115">For more information about effects, see these topics:</span></span>

-   [<span data-ttu-id="f4f88-116">Écriture d’un effet</span><span class="sxs-lookup"><span data-stu-id="f4f88-116">Writing an Effect</span></span>](writing-an-effect.md)
-   [<span data-ttu-id="f4f88-117">Utilisation d’un effet</span><span class="sxs-lookup"><span data-stu-id="f4f88-117">Using an Effect</span></span>](using-an-effect.md)

## <a name="effects-and-the-3d-pipeline"></a><span data-ttu-id="f4f88-118">Effets et le pipeline 3D</span><span class="sxs-lookup"><span data-stu-id="f4f88-118">Effects and the 3D Pipeline</span></span>

<span data-ttu-id="f4f88-119">Le diagramme suivant illustre le pipeline.</span><span class="sxs-lookup"><span data-stu-id="f4f88-119">The following diagram shows the pipeline.</span></span>

![diagramme du pipeline 3D](images/effects-block-diagram.png)

<span data-ttu-id="f4f88-121">Le pipeline transforme les données d’entrée en pixels de sortie qui remplissent la mémoire tampon de trame.</span><span class="sxs-lookup"><span data-stu-id="f4f88-121">The pipeline transforms input data into output pixels that fill the frame buffer.</span></span> <span data-ttu-id="f4f88-122">Les données d’entrée proviennent d’objets composés de sommets dans l’espace d’objet, ou de surfaces d’ordre supérieur créées à partir des N-patchs, des carreaux de rectangles et des carreaux de triangle.</span><span class="sxs-lookup"><span data-stu-id="f4f88-122">The input data comes from objects that are made up of vertices in object space, or higher-order surfaces created from N-patches, rectangle patches, and triangle patches.</span></span> <span data-ttu-id="f4f88-123">Une fois que les données d’entrée ont été fractionnées, le pipeline effectue le traitement des vertex, le traitement de la primitive et le traitement des pixels avant de générer les couleurs finales des pixels.</span><span class="sxs-lookup"><span data-stu-id="f4f88-123">Once the input data has been tessellated, the pipeline performs vertex processing, primitive processing, and pixel processing before generating the final pixel colors.</span></span>

<span data-ttu-id="f4f88-124">Le traitement des vertex et des pixels peut être effectué par le pipeline de fonction fixe ou peut être implémenté avec des nuanceurs programmables.</span><span class="sxs-lookup"><span data-stu-id="f4f88-124">Vertex and pixel processing can be performed by the fixed function pipeline, or can be implemented with programmable shaders.</span></span> <span data-ttu-id="f4f88-125">Le pavage des données d’entrée, le traitement de la primitive et les sorties de données sont contrôlés par l’état du pipeline.</span><span class="sxs-lookup"><span data-stu-id="f4f88-125">The input data tessellation, primitive processing, and data outputs are controlled by pipeline state.</span></span> <span data-ttu-id="f4f88-126">Tout cela peut être intégré à un effet.</span><span class="sxs-lookup"><span data-stu-id="f4f88-126">All this can be integrated into an effect.</span></span> <span data-ttu-id="f4f88-127">Un effet définit l’État qui contrôle le mode de fonctionnement du pipeline.</span><span class="sxs-lookup"><span data-stu-id="f4f88-127">An effect sets the state that controls how the pipeline functions.</span></span> <span data-ttu-id="f4f88-128">Les effets gèrent les nuanceurs programmables ainsi que l’état de fonction fixe.</span><span class="sxs-lookup"><span data-stu-id="f4f88-128">Effects manage programmable shaders as well as fixed function state.</span></span>

<span data-ttu-id="f4f88-129">Les effets peuvent enregistrer et restaurer l’État, laissant l’appareil dans le même État qu’avant l’exécution de l’effet.</span><span class="sxs-lookup"><span data-stu-id="f4f88-129">Effects can save and restore state, leaving the device in the same state as before the effect was run.</span></span> <span data-ttu-id="f4f88-130">Les types d’État qu’un effet peut gérer sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="f4f88-130">The types of state that an effect can manage include:</span></span>

-   <span data-ttu-id="f4f88-131">État du nuanceur.</span><span class="sxs-lookup"><span data-stu-id="f4f88-131">Shader state.</span></span> <span data-ttu-id="f4f88-132">Cela comprend la création et la suppression des nuanceurs, la définition des constantes de nuanceur, la définition de l’état du nuanceur et le rendu avec des nuanceurs.</span><span class="sxs-lookup"><span data-stu-id="f4f88-132">This includes creating and deleting shaders, setting shader constants, setting shader state, and rendering with shaders.</span></span>
-   <span data-ttu-id="f4f88-133">État de la texture et de l’échantillonneur.</span><span class="sxs-lookup"><span data-stu-id="f4f88-133">Texture and sampler state.</span></span> <span data-ttu-id="f4f88-134">Cela comprend la spécification de fichiers de texture, l’initialisation des étapes de texture, la création d’objets d’échantillonnage et la définition de l’état de l’échantillonneur.</span><span class="sxs-lookup"><span data-stu-id="f4f88-134">This includes specifying texture files, initializing texture stages, creating sampler objects, and setting sampler state.</span></span>
-   <span data-ttu-id="f4f88-135">Autre État du pipeline.</span><span class="sxs-lookup"><span data-stu-id="f4f88-135">Other pipeline state.</span></span> <span data-ttu-id="f4f88-136">Cela comprend les États pour définir les transformations, l’éclairage, les matériaux et les options de rendu.</span><span class="sxs-lookup"><span data-stu-id="f4f88-136">This includes states for setting transformations, lighting, materials, and rendering options.</span></span> <span data-ttu-id="f4f88-137">Il peut s’agir de variables globales ou locales.</span><span class="sxs-lookup"><span data-stu-id="f4f88-137">These can be global or local variables.</span></span> <span data-ttu-id="f4f88-138">Les variables peuvent être définies par l’effet lui-même ou par l’application.</span><span class="sxs-lookup"><span data-stu-id="f4f88-138">The variables can be set by either the effect itself or by the application.</span></span>

<span data-ttu-id="f4f88-139">Les effets contiennent plusieurs options de rendu appelées techniques.</span><span class="sxs-lookup"><span data-stu-id="f4f88-139">Effects contain multiple rendering options called techniques.</span></span> <span data-ttu-id="f4f88-140">Chaque technique encapsule les variables globales, l’état du pipeline, l’état de la texture et de l’échantillonneur, ainsi que l’état du nuanceur.</span><span class="sxs-lookup"><span data-stu-id="f4f88-140">Each technique encapsulates global variables, pipeline state, texture and sampler state, and shader state.</span></span> <span data-ttu-id="f4f88-141">Un style unique est implémenté dans une passe de rendu.</span><span class="sxs-lookup"><span data-stu-id="f4f88-141">A single style is implemented in a rendering pass.</span></span> <span data-ttu-id="f4f88-142">Une ou plusieurs passes peuvent être encapsulées dans une technique.</span><span class="sxs-lookup"><span data-stu-id="f4f88-142">One or more passes can be encapsulated in a technique.</span></span> <span data-ttu-id="f4f88-143">Toutes les passes et toutes les techniques peuvent être validées pour voir si le code d’effet s’exécutera sur le périphérique matériel.</span><span class="sxs-lookup"><span data-stu-id="f4f88-143">All of the passes and techniques can be validated to see if the effect code will run on the hardware device.</span></span>

## <a name="effects-save-and-restore-state"></a><span data-ttu-id="f4f88-144">État de l’enregistrement et de la restauration des effets</span><span class="sxs-lookup"><span data-stu-id="f4f88-144">Effects Save and Restore State</span></span>

<span data-ttu-id="f4f88-145">État de la gestion des effets.</span><span class="sxs-lookup"><span data-stu-id="f4f88-145">Effects manage state.</span></span> <span data-ttu-id="f4f88-146">L’état du mot est largement utilisé ici, car il comprend tous les types d’informations dont le pipeline a besoin pour spécifier les conditions de rendu.</span><span class="sxs-lookup"><span data-stu-id="f4f88-146">The word state is used very broadly here as it includes all kinds of information that the pipeline needs to specify the render conditions.</span></span> <span data-ttu-id="f4f88-147">Cela comprend presque toutes les zones fonctionnelles du pipeline.</span><span class="sxs-lookup"><span data-stu-id="f4f88-147">This includes nearly all the functional areas of the pipeline.</span></span>

<span data-ttu-id="f4f88-148">Les options de rendu sont contrôlées par des techniques et des passes.</span><span class="sxs-lookup"><span data-stu-id="f4f88-148">Rendering options are controlled by techniques and passes.</span></span> <span data-ttu-id="f4f88-149">Une application restitue un effet en définissant une technique active et en affichant une ou plusieurs passes.</span><span class="sxs-lookup"><span data-stu-id="f4f88-149">An application renders an effect by setting one active technique, and rendering one or more passes.</span></span> <span data-ttu-id="f4f88-150">Tout rendu dans un effet est effectué dans une paire correspondante d’appels [**Begin**](id3dxeffect--begin.md) et [**end**](id3dxeffect--end.md) .</span><span class="sxs-lookup"><span data-stu-id="f4f88-150">All rendering in an effect is done within a matching pair of [**Begin**](id3dxeffect--begin.md) and [**End**](id3dxeffect--end.md) calls.</span></span> <span data-ttu-id="f4f88-151">Lorsque **Begin** est appelé, un stateblock est créé et l’état de l’appareil est enregistré (sauf indication contraire).</span><span class="sxs-lookup"><span data-stu-id="f4f88-151">When **Begin** is called, a stateblock is created and device state is saved (unless you specify otherwise).</span></span> <span data-ttu-id="f4f88-152">Une fois qu’une technique a rendu les passes que l’application spécifie de rendre, **end** est appelé pour mettre fin à la technique active.</span><span class="sxs-lookup"><span data-stu-id="f4f88-152">After a technique renders the passes that the application specifies to render, **End** is called to end the active technique.</span></span> <span data-ttu-id="f4f88-153">Le système d’effet répond en restaurant automatiquement l’état du pipeline qui a été capturé dans le bloc d’État (sauf si vous choisissez de désactiver cette fonctionnalité d’enregistrement et de restauration).</span><span class="sxs-lookup"><span data-stu-id="f4f88-153">The effect system responds by automatically restoring the pipeline state that was captured in the state block (unless you choose to disable this save and restore functionality).</span></span>

<span data-ttu-id="f4f88-154">Lors de la programmation de séquences de rendu à plusieurs étapes, chacune nécessitant sa propre configuration d’État, les effets peuvent réduire la maintenance requise pour le suivi des modifications d’État.</span><span class="sxs-lookup"><span data-stu-id="f4f88-154">When programming multiple-pass rendering sequences, each of which requires its own state setup, effects can reduce the housekeeping required for tracking state changes.</span></span> <span data-ttu-id="f4f88-155">Pour obtenir plus d’informations sur les États qui peuvent être enregistrés et restaurés par les effets, consultez [États d’effet (Direct3D 9)](effect-states.md).</span><span class="sxs-lookup"><span data-stu-id="f4f88-155">To see more information about the states that can be saved and restored by effects, see [Effect States (Direct3D 9)](effect-states.md).</span></span>

## <a name="effects-can-share-parameters"></a><span data-ttu-id="f4f88-156">Les effets peuvent partager des paramètres</span><span class="sxs-lookup"><span data-stu-id="f4f88-156">Effects Can Share Parameters</span></span>

<span data-ttu-id="f4f88-157">Les paramètres Effects sont toutes les variables non statiques déclarées dans un effet.</span><span class="sxs-lookup"><span data-stu-id="f4f88-157">Effect parameters are all the non-static variables declared in an effect.</span></span> <span data-ttu-id="f4f88-158">Cela peut inclure des variables globales et des annotations.</span><span class="sxs-lookup"><span data-stu-id="f4f88-158">This can include global variables and annotations.</span></span> <span data-ttu-id="f4f88-159">Les paramètres Effects peuvent être partagés entre différents effets en déclarant des paramètres avec le mot clé Shared, puis en créant l’effet avec un pool Effect.</span><span class="sxs-lookup"><span data-stu-id="f4f88-159">Effect parameters can be shared between different effects by declaring parameters with the shared keyword and then creating the effect with an effect pool.</span></span>

<span data-ttu-id="f4f88-160">Les effets clonés utilisent le même pool d’effets que l’effet à partir duquel ils sont clonés.</span><span class="sxs-lookup"><span data-stu-id="f4f88-160">Cloned effects use the same effect pool as the effect from which they are cloned.</span></span> <span data-ttu-id="f4f88-161">Le clonage d’un effet fait une copie exacte d’un effet, y compris les variables globales, les techniques, les passes et les annotations.</span><span class="sxs-lookup"><span data-stu-id="f4f88-161">Cloning an effect makes an exact copy of an effect, including global variables, techniques, passes, and annotations.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f4f88-162">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="f4f88-162">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f4f88-163">Guide de programmation pour Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="f4f88-163">Programming Guide for Direct3D 9</span></span>](dx9-graphics-programming-guide.md)
</dt> </dl>

 

 
