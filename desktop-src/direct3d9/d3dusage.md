---
description: Options d’utilisation qui identifient la façon dont les ressources doivent être utilisées.
ms.assetid: c8823c39-8f17-441c-a42b-de3d7ec02f75
title: D3DUSAGE (D3d9types. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- D3DUSAGE_AUTOGENMIPMAP
- D3DUSAGE_DEPTHSTENCIL
- D3DUSAGE_DMAP
- D3DUSAGE_DONOTCLIP
- D3DUSAGE_DYNAMIC
- D3DUSAGE_NONSECURE
- D3DUSAGE_NPATCHES
- D3DUSAGE_POINTS
- D3DUSAGE_RENDERTARGET
- D3DUSAGE_RTPATCHES
- D3DUSAGE_SOFTWAREPROCESSING
- D3DUSAGE_TEXTAPI
- D3DUSAGE_WRITEONLY
- D3DUSAGE_RESTRICTED_CONTENT
- D3DUSAGE_RESTRICT_SHARED_RESOURCE
- D3DUSAGE_RESTRICT_SHARED_RESOURCE_DRIVER
api_type:
- HeaderDef
api_location:
- d3d9types.h
ms.openlocfilehash: 6d028d4a84c796c35913ffefd431739e1659eca3
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/13/2021
ms.locfileid: "126998722"
---
# <a name="d3dusage"></a>D3DUSAGE

Options d’utilisation qui identifient la façon dont les ressources doivent être utilisées.

Le tableau suivant récapitule les options d’utilisation disponibles.



| Constante                                                                                                                                                                                                                                          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="D3DUSAGE_AUTOGENMIPMAP"></span><span id="d3dusage_autogenmipmap"></span><dl> <dt>**D3DUSAGE \_ AUTOGENMIPMAP**</dt> </dl>                                                          | La ressource génère automatiquement des mipmaps. Voir [génération automatique de des mipmaps (Direct3D 9)](automatic-generation-of-mipmaps.md). La génération automatique de des mipmaps n’est pas prise en charge pour les textures de volume et les surfaces/textures du stencil de profondeur. Cette utilisation n’est pas valide pour une ressource dans la mémoire système (**D3DPOOL \_ SYSTEMMEM**).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="D3DUSAGE_DEPTHSTENCIL"></span><span id="d3dusage_depthstencil"></span><dl> <dt>**D3DUSAGE \_ DEPTHSTENCIL**</dt> </dl>                                                             | La ressource sera une mémoire tampon de stencil de profondeur. **D3DUSAGE \_ DEPTHSTENCIL** peut uniquement être utilisé avec **D3DPOOL \_ par défaut**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="D3DUSAGE_DMAP"></span><span id="d3dusage_dmap"></span><dl> <dt>**D3DUSAGE \_ DMAP**</dt> </dl>                                                                                     | La ressource sera un mappage de déplacement.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="D3DUSAGE_DONOTCLIP"></span><span id="d3dusage_donotclip"></span><dl> <dt>**D3DUSAGE \_ DONOTCLIP**</dt> </dl>                                                                      | Défini pour indiquer que le contenu de la mémoire tampon de vertex ne nécessitera jamais de découpage. Lors du rendu avec des mémoires tampons pour lesquelles cet indicateur est défini, l’état de rendu du **\_ découpage D3DRS** doit avoir la valeur false.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="D3DUSAGE_DYNAMIC"></span><span id="d3dusage_dynamic"></span><dl> <dt>**D3DUSAGE \_ dynamique**</dt> </dl>                                                                            | Défini pour indiquer que la mémoire tampon de vertex requiert l’utilisation de la mémoire dynamique. Cela est utile pour les pilotes, car cela leur permet de décider où placer la mémoire tampon. En général, les mémoires tampons de vertex statiques sont placées dans la mémoire vidéo et les mémoires tampons de vertex dynamiques sont placées dans la mémoire AGP. Notez qu’il n’y a pas d’utilisation statique distincte. Si vous ne spécifiez pas **D3DUSAGE \_ dynamique**, la mémoire tampon de vertex est rendue statique. **D3DUSAGE \_ DYNAMIC** est strictement appliqué via les indicateurs de verrouillage **D3DLOCK \_ Discard** et **D3DLOCK \_ NOOVERWRITE** . Par conséquent, **D3DLOCK \_ Discard** et **D3DLOCK \_ NOOVERWRITE** sont valides uniquement sur les mémoires tampons de vertex créées avec **D3DUSAGE \_ Dynamic**. Il ne s’agit pas d’indicateurs valides sur les mémoires tampons de vertex statiques. Pour plus d’informations, consultez [gestion des ressources (Direct3D 9)](managing-resources.md). <br/> Pour plus d’informations sur l’utilisation de mémoires tampons de vertex dynamiques, consultez [optimisation des performances (Direct3D 9)](performance-optimizations.md).<br/> **D3DUSAGE \_** Les éléments **\_ managés** dynamiques et D3DPOOL sont incompatibles et ne doivent pas être utilisés ensemble. Consultez [**D3DPOOL**](./d3dpool.md).<br/> Les textures peuvent spécifier **D3DUSAGE \_ dynamique**. Toutefois, les textures managées ne peuvent pas utiliser **D3DUSAGE \_ Dynamic**. Pour plus d’informations sur les textures dynamiques, consultez [utilisation de textures dynamiques](performance-optimizations.md). <br/> |
| <span id="D3DUSAGE_NONSECURE"></span><span id="d3dusage_nonsecure"></span><dl> <dt>**D3DUSAGE \_ non sécurisé**</dt> </dl>                                                                      | Autoriser l’ouverture d’une surface partagée créée par une application sécurisée par une application non sécurisée ayant le descripteur partagé. <br/> **Différences entre Direct3D 9 et Direct3D 9Ex :** Cet indicateur est disponible uniquement dans Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="D3DUSAGE_NPATCHES"></span><span id="d3dusage_npatches"></span><dl> <dt>**D3DUSAGE \_ NPATCHES**</dt> </dl>                                                                         | Défini pour indiquer que la mémoire tampon de vertex doit être utilisée pour le dessin des N-patchs.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="D3DUSAGE_POINTS"></span><span id="d3dusage_points"></span><dl> <dt>**POINTS de D3DUSAGE \_**</dt> </dl>                                                                               | Défini pour indiquer que le sommet ou la mémoire tampon d’index sera utilisé pour les sprites de point de dessin. La mémoire tampon est chargée dans la mémoire système si le traitement du vertex logiciel est nécessaire pour émuler les sprites de point.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="D3DUSAGE_RENDERTARGET"></span><span id="d3dusage_rendertarget"></span><dl> <dt>**D3DUSAGE \_ RENDERTARGET**</dt> </dl>                                                             | La ressource sera une cible de rendu. **D3DUSAGE \_ RENDERTARGET** peut uniquement être utilisé avec **D3DPOOL \_ par défaut**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="D3DUSAGE_RTPATCHES"></span><span id="d3dusage_rtpatches"></span><dl> <dt>**D3DUSAGE \_ RTPATCHES**</dt> </dl>                                                                      | Défini pour indiquer que la mémoire tampon de vertex doit être utilisée pour le dessin des primitives d’ordre supérieur.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="D3DUSAGE_SOFTWAREPROCESSING"></span><span id="d3dusage_softwareprocessing"></span><dl> <dt>**D3DUSAGE \_ SOFTWAREPROCESSING**</dt> </dl>                                           | Si cet indicateur est utilisé, le traitement des vertex est effectué dans le logiciel. Si cet indicateur n’est pas utilisé, le traitement du vertex est effectué dans le matériel.<br/> L’indicateur **D3DUSAGE \_ SOFTWAREPROCESSING** peut être défini lorsque le traitement en mode mixte ou le traitement du vertex logiciel (**D3DCREATE \_ Mixed \_ VERTEXPROCESSING**  /  **D3DCREATE \_ Software \_ VERTEXPROCESSING**) est activé pour cet appareil. **D3DUSAGE \_ SOFTWAREPROCESSING** doit être défini pour les mémoires tampons à utiliser avec le traitement du vertex logiciel en mode mixte, mais il ne doit pas être défini pour obtenir les meilleures performances possibles lors de l’utilisation du traitement de l’index matériel en mode mixte (**D3DCREATE \_ Hardware \_ VERTEXPROCESSING**). Toutefois, la définition de **D3DUSAGE \_ SOFTWAREPROCESSING** est la seule option lorsqu’une seule mémoire tampon est utilisée avec le traitement du vertex matériel et logiciel. **D3DUSAGE \_ SOFTWAREPROCESSING** est autorisé pour les périphériques mixtes et logiciels.<br/> **D3DUSAGE \_ SOFTWAREPROCESSING** est utilisé avec [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) pour déterminer si un format de texture particulier peut être utilisé comme texture de vertex lors du traitement du vertex logiciel. Si c’est le cas, la texture doit être créée dans **D3DPOOL \_ Scratch**.<br/>                                                                                                                                                                 |
| <span id="D3DUSAGE_TEXTAPI"></span><span id="d3dusage_textapi"></span><dl> <dt>**D3DUSAGE \_ TEXTAPI**</dt> </dl>                                                                            | Cet indicateur d’utilisation doit être spécifié pour les mémoires tampons de vertex et les surfaces sources, utilisées dans les appels à [**ComposeRects**](/windows/desktop/api/d3d9/nf-d3d9-idirect3ddevice9ex-composerects). T extures créé avec cet indicateur d’utilisation ne peut pas être utilisé pour le filtrage de texture. Les mémoires tampons de vertex, créées avec cet indicateur d’utilisation, ne peuvent pas être utilisées comme sources de flux d’entrée. <br/> **Différences entre Direct3D 9 et Direct3D 9Ex :** Cet indicateur est disponible uniquement dans Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="D3DUSAGE_WRITEONLY"></span><span id="d3dusage_writeonly"></span><dl> <dt>**D3DUSAGE \_ WRITEONLY**</dt> </dl>                                                                      | Informe le système que l’application écrit uniquement dans la mémoire tampon de vertex. L’utilisation de cet indicateur permet au pilote de choisir le meilleur emplacement de mémoire pour des opérations d’écriture et un rendu efficaces. Les tentatives de lecture à partir d’une mémoire tampon de vertex créée avec cette fonctionnalité échouent. Les mémoires tampons créées avec **D3DPOOL \_ par défaut** qui ne spécifient pas **D3DUSAGE \_ WRITEONLY** peuvent entraîner une baisse importante des performances. **D3DUSAGE \_ WRITEONLY** affecte uniquement les performances des mémoires tampons **\_ par défaut D3DPOOL** .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="D3DUSAGE_RESTRICTED_CONTENT"></span><span id="d3dusage_restricted_content"></span><dl> <dt>**\_Contenu restreint \_ D3DUSAGE**</dt> </dl>                                          | La définition de cet indicateur indique que la ressource peut contenir du contenu protégé.<br/> **Différences entre Direct3D 9 et Direct3D 9Ex :** Cet indicateur est disponible uniquement dans Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="D3DUSAGE_RESTRICT_SHARED_RESOURCE"></span><span id="d3dusage_restrict_shared_resource"></span><dl> <dt>**D3DUSAGE \_ restreindre \_ la \_ ressource partagée**</dt> </dl>                       | La définition de cet indicateur indique que l’accès à la ressource partagée doit être restreint. <br/> **Différences entre Direct3D 9 et Direct3D 9Ex :** Cet indicateur est disponible uniquement dans Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="D3DUSAGE_RESTRICT_SHARED_RESOURCE_DRIVER"></span><span id="d3dusage_restrict_shared_resource_driver"></span><dl> <dt>**D3DUSAGE \_ restreindre \_ le \_ pilote de ressource partagée \_**</dt> </dl> | La définition de cet indicateur indique que le pilote doit restreindre l’accès à la ressource partagée. L’appelant doit créer un canal authentifié avec le pilote. Le pilote doit ensuite autoriser l’accès aux processus qui tentent d’ouvrir cette ressource partagée.<br/> **Différences entre Direct3D 9 et Direct3D 9Ex :** Cet indicateur est disponible uniquement dans Direct3D 9Ex.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



## <a name="remarks"></a>Notes

### <a name="usage-and-resource-combinations"></a>Combinaisons d’utilisation et de ressources

Les utilisations sont spécifiées lors de la création d’une ressource, ou spécifiées avec [**CheckDeviceType**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdevicetype) pour tester la capacité d’une ressource existante. Le tableau suivant identifie les utilisations qui peuvent être appliquées aux types de ressources.



| Usage                            | Création de la mémoire tampon de vertex | Création de la mémoire tampon d’index | Création de texture | Création de texture de cube | Création de texture de volume | Création de surface | Vérifier le format du périphérique |
|----------------------------------|----------------------|---------------------|----------------|---------------------|-----------------------|----------------|---------------------|
| **D3DUSAGE \_ AUTOGENMIPMAP**      |                      |                     | x              | x                   |                       |                | x                   |
| **D3DUSAGE \_ DEPTHSTENCIL**       |                      |                     | x              | x                   |                       | x              | x                   |
| **D3DUSAGE \_ DMAP**               |                      |                     | x              |                     |                       |                | x                   |
| **D3DUSAGE \_ DONOTCLIP**          | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ dynamique**            | x                    | x                   | x              | x                   | x                     |                | x                   |
| **D3DUSAGE \_ non sécurisé**          | x                    | x                   | x              | x                   | x                     | x              | x                   |
| **D3DUSAGE \_ NPATCHES**           | x                    | x                   |                |                     |                       |                |                     |
| **POINTS de D3DUSAGE \_**             | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ RTPATCHES**          | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ RENDERTARGET**       |                      |                     | x              | x                   |                       | x              | x                   |
| **D3DUSAGE \_ SOFTWAREPROCESSING** | x                    | x                   | x              | x                   | x                     |                | x                   |
| **D3DUSAGE \_ TEXTAPI**            | x                    |                     | x              |                     |                       |                |                     |
| **D3DUSAGE \_ WRITEONLY**          | x                    | x                   |                |                     |                       |                |                     |



 

Utilisez [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) pour vérifier la prise en charge matérielle de ces utilisations.

Chaque méthode de création de ressource est répertoriée ici.

-   [**CreateCubeTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createcubetexture)
-   [**CreateDepthStencilSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createdepthstencilsurface)
-   [**CreateIndexBuffer**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createindexbuffer)
-   [**CreateOffscreenPlainSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createoffscreenplainsurface)
-   [**CreateRenderTarget**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createrendertarget)
-   [**CreateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture)
-   [**CreateVertexBuffer**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer)
-   [**CreateVolumeTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvolumetexture)

Les fonctions de texturation [D3DXCreatexxx](dx9-graphics-reference-d3dx-functions-texture.md) utilisent également certaines de ces valeurs constantes pour la création de ressources.

Pour plus d’informations sur les types de pool et leurs restrictions avec certaines utilisations, consultez [**D3DPOOL**](./d3dpool.md).

## <a name="requirements"></a>Spécifications



| Condition requise | Valeur |
|-------------------|----------------------------------------------------------------------------------------|
| En-tête<br/> | <dl> <dt>D3d9types. h</dt> </dl> |



## <a name="see-also"></a>Voir aussi

<dl> <dt>

[Constantes Direct3D](dx9-graphics-reference-d3d-constants.md)
</dt> <dt>

[\_Requête D3DUSAGE](d3dusage-query.md)
</dt> <dt>

[**D3DDECLUSAGE**](./d3ddeclusage.md)
</dt> <dt>

[**D3DPOOL**](./d3dpool.md)
</dt> </dl>

 

 
