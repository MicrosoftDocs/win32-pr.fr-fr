---
description: Les mémoires tampons de vertex, représentées par l’interface IDirect3DVertexBuffer9, sont des mémoires tampons qui contiennent des données de vertex.
ms.assetid: vs|directx_sdk|~\vertex_buffers.htm
title: Mémoires tampons de vertex (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8e38feb34e7b9f637f383bf451bff812d9ee6fb1
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "103746109"
---
# <a name="vertex-buffers-direct3d-9"></a><span data-ttu-id="cdd6f-103">Mémoires tampons de vertex (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-103">Vertex Buffers (Direct3D 9)</span></span>

<span data-ttu-id="cdd6f-104">Les mémoires tampons de vertex, représentées par l’interface [**IDirect3DVertexBuffer9**](/windows/desktop/api) , sont des mémoires tampons qui contiennent des données de vertex.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-104">Vertex buffers, represented by the [**IDirect3DVertexBuffer9**](/windows/desktop/api) interface, are memory buffers that contain vertex data.</span></span> <span data-ttu-id="cdd6f-105">Les mémoires tampons de vertex peuvent contenir tout type de vertex transformé ou non transformé, éclairé ou non éclairé pouvant être rendu à l’aide des méthodes de rendu de l’interface [**IDirect3DDevice9**](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9) .</span><span class="sxs-lookup"><span data-stu-id="cdd6f-105">Vertex buffers can contain any vertex type - transformed or untransformed, lit or unlit - that can be rendered through the use of the rendering methods in the [**IDirect3DDevice9**](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9) interface.</span></span> <span data-ttu-id="cdd6f-106">Vous pouvez traiter les vertex dans une mémoire tampon de vertex pour effectuer des opérations telles que la transformation, l’éclairage ou la génération d’indicateurs de découpage.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-106">You can process the vertices in a vertex buffer to perform operations such as transformation, lighting, or generating clipping flags.</span></span> <span data-ttu-id="cdd6f-107">La transformation est toujours effectuée.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-107">Transformation is always performed.</span></span>

<span data-ttu-id="cdd6f-108">La flexibilité des mémoires tampons de vertex les rend idéales pour réutiliser la géométrie transformée.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-108">The flexibility of vertex buffers make them ideal staging points for reusing transformed geometry.</span></span> <span data-ttu-id="cdd6f-109">Vous pouvez créer une seule mémoire tampon de vertex, transformer, éclairer et découper les vertex dans celle-ci, et restituer le modèle dans la scène autant de fois que nécessaire sans le reconvertir, même avec des modifications d’état de rendu entrelacées.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-109">You could create a single vertex buffer, transform, light, and clip the vertices in it, and render the model in the scene as many times as needed without re-transforming it, even with interleaved render state changes.</span></span> <span data-ttu-id="cdd6f-110">Cela est utile lors du rendu des modèles qui utilisent plusieurs textures : la géométrie est transformée une seule fois, puis des parties de celle-ci peuvent être rendues si nécessaire, entrelacées avec les modifications de texture requises.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-110">This is useful when rendering models that use multiple textures: the geometry is transformed only once, and then portions of it can be rendered as needed, interleaved with the required texture changes.</span></span> <span data-ttu-id="cdd6f-111">Les modifications de l’état de rendu effectuées après le traitement des vertex prennent effet lors du prochain traitement des vertex.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-111">Render state changes made after vertices are processed take effect the next time the vertices are processed.</span></span>

-   [<span data-ttu-id="cdd6f-112">Description</span><span class="sxs-lookup"><span data-stu-id="cdd6f-112">Description</span></span>](#description)
-   [<span data-ttu-id="cdd6f-113">Pool de mémoire et utilisation</span><span class="sxs-lookup"><span data-stu-id="cdd6f-113">Memory Pool and Usage</span></span>](#memory-pool-and-usage)

## <a name="description"></a><span data-ttu-id="cdd6f-114">Description</span><span class="sxs-lookup"><span data-stu-id="cdd6f-114">Description</span></span>

<span data-ttu-id="cdd6f-115">Une mémoire tampon de vertex est décrite en termes de fonctionnalités : si elle peut exister uniquement dans la mémoire système, si elle est utilisée uniquement pour les opérations d’écriture, et le type et le nombre de vertex qu’elle peut contenir.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-115">A vertex buffer is described in terms of its capabilities: if it can exist only in system memory, if it is only used for write operations, and the type and number of vertices it can contain.</span></span> <span data-ttu-id="cdd6f-116">Toutes ces caractéristiques sont conservées dans une structure [**D3DVERTEXBUFFER \_ desc**](d3dvertexbuffer-desc.md) .</span><span class="sxs-lookup"><span data-stu-id="cdd6f-116">All these traits are held in a [**D3DVERTEXBUFFER\_DESC**](d3dvertexbuffer-desc.md) structure.</span></span>

<span data-ttu-id="cdd6f-117">Le membre de format est défini sur D3DFMT \_ VERTEXDATA pour indiquer qu’il s’agit d’une mémoire tampon de vertex.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-117">The Format member is set to D3DFMT\_VERTEXDATA to indicate that this is a vertex buffer.</span></span> <span data-ttu-id="cdd6f-118">Le type identifie le type de ressource de la mémoire tampon de vertex.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-118">The Type identifies the resource type of the vertex buffer.</span></span> <span data-ttu-id="cdd6f-119">Le membre de la structure d’utilisation contient des indicateurs de capacité généraux.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-119">The Usage structure member contains general capability flags.</span></span> <span data-ttu-id="cdd6f-120">L' \_ indicateur D3DUSAGE SOFTWAREPROCESSING indique que la mémoire tampon de vertex doit être utilisée avec le traitement du vertex logiciel.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-120">The D3DUSAGE\_SOFTWAREPROCESSING flag indicates that the vertex buffer is to be used with software vertex processing.</span></span> <span data-ttu-id="cdd6f-121">La présence de l' \_ indicateur WRITEONLY D3DUSAGE dans usage indique que la mémoire tampon de vertex est utilisée uniquement pour les opérations d’écriture.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-121">The presence of the D3DUSAGE\_WRITEONLY flag in Usage indicates that the vertex buffer memory is used only for write operations.</span></span> <span data-ttu-id="cdd6f-122">Cela libère le pilote pour placer les données de vertex dans le meilleur emplacement de mémoire pour permettre un traitement et un rendu rapides.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-122">This frees the driver to place the vertex data in the best memory location to enable fast processing and rendering.</span></span> <span data-ttu-id="cdd6f-123">Si l' \_ indicateur WRITEONLY D3DUSAGE n’est pas utilisé, le pilote est moins susceptible de placer les données dans un emplacement qui est inefficace pour les opérations de lecture.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-123">If the D3DUSAGE\_WRITEONLY flag is not used, the driver is less likely to put the data in a location that is inefficient for read operations.</span></span> <span data-ttu-id="cdd6f-124">Cela sacrifie la vitesse de traitement et de rendu.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-124">This sacrifices some processing and rendering speed.</span></span> <span data-ttu-id="cdd6f-125">Si cet indicateur n’est pas spécifié, il est supposé que les applications effectuent des opérations de lecture et d’écriture sur les données dans la mémoire tampon de vertex.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-125">If this flag is not specified, it is assumed that applications perform read and write operations on the data within the vertex buffer.</span></span>

<span data-ttu-id="cdd6f-126">Pool spécifie la classe de mémoire allouée pour la mémoire tampon de vertex.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-126">Pool specifies the memory class that is allocated for the vertex buffer.</span></span> <span data-ttu-id="cdd6f-127">L' \_ indicateur D3DPOOL SYSTEMMEM indique que le système a créé la mémoire tampon de vertex dans la mémoire système.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-127">The D3DPOOL\_SYSTEMMEM flag indicates that the system created the vertex buffer in system memory.</span></span>

<span data-ttu-id="cdd6f-128">Le membre de taille stocke la taille, en octets, des données de mémoire tampon de vertex.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-128">The Size member stores the size, in bytes, of the vertex buffer data.</span></span> <span data-ttu-id="cdd6f-129">Le membre de la Commission du prix final contient une combinaison de [D3DFVF](d3dfvf.md) qui identifient le type de vertex que contient la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-129">The FVF member contains a combination of [D3DFVF](d3dfvf.md) that identify the type of vertices that the buffer contains.</span></span>

## <a name="memory-pool-and-usage"></a><span data-ttu-id="cdd6f-130">Pool de mémoire et utilisation</span><span class="sxs-lookup"><span data-stu-id="cdd6f-130">Memory Pool and Usage</span></span>

<span data-ttu-id="cdd6f-131">Vous pouvez créer des mémoires tampons de vertex avec la méthode [**IDirect3DDevice9 :: CreateVertexBuffer**](/windows/desktop/api) , qui prend le pool (classe de mémoire) et les paramètres d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-131">You can create vertex buffers with the [**IDirect3DDevice9::CreateVertexBuffer**](/windows/desktop/api) method, which takes pool (memory class) and usage parameters.</span></span> <span data-ttu-id="cdd6f-132">**IDirect3DDevice9 :: CreateVertexBuffer** peut également être créé avec un code de Commission de la Commission spécifié pour une utilisation dans le traitement de vertex de fonction fixe, ou comme sortie de vertex de processus.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-132">**IDirect3DDevice9::CreateVertexBuffer** can also be created with a specified FVF code for use in fixed function vertex processing, or as the output of process vertices.</span></span> <span data-ttu-id="cdd6f-133">Pour plus d’informations, consultez la rubrique sur les [mémoires tampons de vertex (Direct3D 9)](fvf-vertex-buffers.md).</span><span class="sxs-lookup"><span data-stu-id="cdd6f-133">For details, see [FVF Vertex Buffers (Direct3D 9)](fvf-vertex-buffers.md).</span></span>

<span data-ttu-id="cdd6f-134">L' \_ indicateur D3DUSAGE SOFTWAREPROCESSING peut être défini lorsque le traitement en mode mixte ou le traitement du vertex logiciel (D3DCREATE \_ Mixed \_ VERTEXPROCESSING/D3DCREATE \_ Software \_ VERTEXPROCESSING) est activé pour cet appareil.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-134">The D3DUSAGE\_SOFTWAREPROCESSING flag can be set when mixed-mode or software vertex processing (D3DCREATE\_MIXED\_VERTEXPROCESSING / D3DCREATE\_SOFTWARE\_VERTEXPROCESSING) is enabled for that device.</span></span> <span data-ttu-id="cdd6f-135">D3DUSAGE \_ SOFTWAREPROCESSING doit être défini pour les mémoires tampons à utiliser avec le traitement du vertex logiciel en mode mixte, mais il ne doit pas être défini pour obtenir les meilleures performances possibles lors de l’utilisation du traitement des vertex matériels en mode mixte. ( D3DCREATE \_ matériel \_ VERTEXPROCESSING).</span><span class="sxs-lookup"><span data-stu-id="cdd6f-135">D3DUSAGE\_SOFTWAREPROCESSING must be set for buffers to be used with software vertex processing in mixed mode, but it should not be set for the best possible performance when using hardware vertex processing in mixed mode.(D3DCREATE\_HARDWARE\_VERTEXPROCESSING).</span></span> <span data-ttu-id="cdd6f-136">Toutefois, la définition de D3DUSAGE \_ SOFTWAREPROCESSING est la seule option lorsqu’une seule mémoire tampon doit être utilisée avec le traitement du vertex matériel et logiciel.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-136">However, setting D3DUSAGE\_SOFTWAREPROCESSING is the only option when a single buffer is to be used with both hardware and software vertex processing.</span></span> <span data-ttu-id="cdd6f-137">D3DUSAGE \_ SOFTWAREPROCESSING est autorisé pour les appareils mixtes et pour les périphériques logiciels.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-137">D3DUSAGE\_SOFTWAREPROCESSING is allowed for mixed as well as for software devices.</span></span>

<span data-ttu-id="cdd6f-138">Il est possible de forcer des tampons de vertex et d’index dans la mémoire système en spécifiant D3DPOOL \_ SYSTEMMEM, même lorsque le traitement du vertex est effectué dans le matériel.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-138">It is possible to force vertex and index buffers into system memory by specifying D3DPOOL\_SYSTEMMEM, even when the vertex processing is done in hardware.</span></span> <span data-ttu-id="cdd6f-139">Il s’agit d’un moyen d’éviter une trop grande quantité de mémoire verrouillée en mode page lorsqu’un pilote met ces mémoires tampon dans la mémoire AGP.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-139">This is a way to avoid overly large amounts of page-locked memory when a driver is putting these buffers into AGP memory.</span></span>

<span data-ttu-id="cdd6f-140">Cette section présente les concepts nécessaires pour comprendre et utiliser des mémoires tampons de vertex dans une application Direct3D.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-140">This section introduces the concepts necessary to understand and use vertex buffers in a Direct3D application.</span></span> <span data-ttu-id="cdd6f-141">Les informations sont réparties dans les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="cdd6f-141">Information is divided into the following sections.</span></span>

-   [<span data-ttu-id="cdd6f-142">Création d’une mémoire tampon de vertex (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-142">Creating a Vertex Buffer (Direct3D 9)</span></span>](creating-a-vertex-buffer.md)
-   [<span data-ttu-id="cdd6f-143">Accès au contenu d’une mémoire tampon de vertex (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-143">Accessing the Contents of a Vertex Buffer (Direct3D 9)</span></span>](accessing-the-contents-of-a-vertex-buffer.md)
-   [<span data-ttu-id="cdd6f-144">Rendu à partir d’une mémoire tampon de vertex (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-144">Rendering from a Vertex Buffer (Direct3D 9)</span></span>](rendering-from-a-vertex-buffer.md)
-   [<span data-ttu-id="cdd6f-145">Mémoires tampons de vertex du prix final (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-145">FVF Vertex Buffers (Direct3D 9)</span></span>](fvf-vertex-buffers.md)
-   [<span data-ttu-id="cdd6f-146">Résolution du traitement des vertex de fonction (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-146">Fixed Function Vertex Processing (Direct3D 9)</span></span>](fixed-function-vertex-processing.md)
-   [<span data-ttu-id="cdd6f-147">Traitement de vertex programmable (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-147">Programmable Vertex Processing (Direct3D 9)</span></span>](programmable-vertex-processing.md)
-   [<span data-ttu-id="cdd6f-148">Types d’appareils et exigences de traitement des vertex (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-148">Device Types and Vertex Processing Requirements (Direct3D 9)</span></span>](device-types-and-vertex-processing-requirements.md)

## <a name="related-topics"></a><span data-ttu-id="cdd6f-149">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="cdd6f-149">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cdd6f-150">Ressources Direct3D</span><span class="sxs-lookup"><span data-stu-id="cdd6f-150">Direct3D Resources</span></span>](direct3d-resources.md)
</dt> <dt>

[<span data-ttu-id="cdd6f-151">Rendu à partir de mémoires tampons de vertex et d’index (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-151">Rendering from Vertex and Index Buffers (Direct3D 9)</span></span>](rendering-from-vertex-and-index-buffers.md)
</dt> <dt>

[<span data-ttu-id="cdd6f-152">Mémoires tampons d’index (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="cdd6f-152">Index Buffers (Direct3D 9)</span></span>](index-buffers.md)
</dt> </dl>

 

 
