---
description: Types d’appareils (Direct3D 9)
ms.assetid: 860f3de2-beaf-4df1-82d0-a4b7508156c2
title: Types d’appareils (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c84efe80c022403c36e760860893f3619e1c9356
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104317626"
---
# <a name="device-types-direct3d-9"></a><span data-ttu-id="4eac4-103">Types d’appareils (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4eac4-103">Device Types (Direct3D 9)</span></span>

## <a name="hal-device"></a><span data-ttu-id="4eac4-104">Appareil HAL</span><span class="sxs-lookup"><span data-stu-id="4eac4-104">HAL Device</span></span>

<span data-ttu-id="4eac4-105">Le type d’appareil principal est le périphérique HAL, qui prend en charge la pixellisation accélérée sur le matériel et le traitement du vertex matériel et logiciel.</span><span class="sxs-lookup"><span data-stu-id="4eac4-105">The primary device type is the hal device, which supports hardware accelerated rasterization and both hardware and software vertex processing.</span></span> <span data-ttu-id="4eac4-106">Si l’ordinateur sur lequel votre application s’exécute est équipé d’un adaptateur d’affichage qui prend en charge Direct3D, votre application doit l’utiliser pour les opérations Direct3D.</span><span class="sxs-lookup"><span data-stu-id="4eac4-106">If the computer on which your application is running is equipped with a display adapter that supports Direct3D, your application should use it for Direct3D operations.</span></span> <span data-ttu-id="4eac4-107">Les périphériques Hal Direct3D implémentent tout ou partie des modules de transformation, d’éclairage et de pixellisation dans le matériel.</span><span class="sxs-lookup"><span data-stu-id="4eac4-107">Direct3D hal devices implement all or part of the transformation, lighting, and rasterizing modules in hardware.</span></span>

<span data-ttu-id="4eac4-108">Les applications n’accèdent pas directement aux cartes graphiques.</span><span class="sxs-lookup"><span data-stu-id="4eac4-108">Applications do not access graphics adapters directly.</span></span> <span data-ttu-id="4eac4-109">Ils appellent des fonctions et des méthodes Direct3D.</span><span class="sxs-lookup"><span data-stu-id="4eac4-109">They call Direct3D functions and methods.</span></span> <span data-ttu-id="4eac4-110">Direct3D accède au matériel via la couche HAL.</span><span class="sxs-lookup"><span data-stu-id="4eac4-110">Direct3D accesses the hardware through the hal.</span></span> <span data-ttu-id="4eac4-111">Si l’ordinateur sur lequel votre application est exécutée prend en charge la couche HAL, il obtiendra des performances optimales à l’aide d’un périphérique Hal.</span><span class="sxs-lookup"><span data-stu-id="4eac4-111">If the computer that your application is running on supports the hal, it will gain the best performance by using a hal device.</span></span>

<span data-ttu-id="4eac4-112">Pour créer un périphérique HAL, appelez [**CreateDevice**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-createdevice) en utilisant \_ la couche HAL D3DDEVTYPE comme type de périphérique.</span><span class="sxs-lookup"><span data-stu-id="4eac4-112">To create a hal device, call [**CreateDevice**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-createdevice) using D3DDEVTYPE\_HAL as the device type.</span></span>

## <a name="reference-device"></a><span data-ttu-id="4eac4-113">Appareil de référence</span><span class="sxs-lookup"><span data-stu-id="4eac4-113">Reference Device</span></span>

<span data-ttu-id="4eac4-114">Direct3D prend en charge un type d’appareil supplémentaire appelé appareil de référence ou rastériseur de référence.</span><span class="sxs-lookup"><span data-stu-id="4eac4-114">Direct3D supports an additional device type called a reference device or reference rasterizer.</span></span> <span data-ttu-id="4eac4-115">Contrairement à un périphérique logiciel, le rastériseur de référence prend en charge chaque fonctionnalité Direct3D.</span><span class="sxs-lookup"><span data-stu-id="4eac4-115">Unlike a software device, the reference rasterizer supports every Direct3D feature.</span></span> <span data-ttu-id="4eac4-116">Ce périphérique est destiné à être utilisé à des fins de débogage et n’est donc disponible que sur les ordinateurs sur lesquels le kit de développement logiciel (SDK) DirectX a été installé.</span><span class="sxs-lookup"><span data-stu-id="4eac4-116">This device is intended to be used for debugging purposes and is therefore only available on machines where the DirectX SDK has been installed.</span></span> <span data-ttu-id="4eac4-117">Étant donné que ces fonctionnalités sont implémentées pour des raisons de précision plutôt que de vitesse et sont implémentées dans les logiciels, les résultats ne sont pas très rapides.</span><span class="sxs-lookup"><span data-stu-id="4eac4-117">Because these features are implemented for accuracy rather than speed and are implemented in software, the results are not very fast.</span></span> <span data-ttu-id="4eac4-118">Le rastériseur de référence utilise des instructions d’UC spéciales à chaque fois que cela est possible, mais il n’est pas destiné aux applications de vente au détail.</span><span class="sxs-lookup"><span data-stu-id="4eac4-118">The reference rasterizer does make use of special CPU instructions whenever it can, but it is not intended for retail applications.</span></span> <span data-ttu-id="4eac4-119">Utilisez le rastériseur de référence uniquement à des fins de test de fonctionnalités ou de démonstration.</span><span class="sxs-lookup"><span data-stu-id="4eac4-119">Use the reference rasterizer only for feature testing or demonstration purposes.</span></span> <span data-ttu-id="4eac4-120">Pour créer un appareil de référence, appelez la méthode [**CreateDevice**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-createdevice) à l’aide \_ de D3DDEVTYPE REF comme type de périphérique.</span><span class="sxs-lookup"><span data-stu-id="4eac4-120">To create a reference device, call [**CreateDevice**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-createdevice) method using D3DDEVTYPE\_REF as the device type.</span></span>

## <a name="hal-vs-ref-devices"></a><span data-ttu-id="4eac4-121">Appareils HAL et périphériques REF</span><span class="sxs-lookup"><span data-stu-id="4eac4-121">HAL vs. REF Devices</span></span>

<span data-ttu-id="4eac4-122">Les périphériques HAL (Hardware Abstraction Layer) et les appareils REF (rastériseur de référence) sont les deux principaux types de périphériques Direct3D. la première est basée sur le support matériel et est très rapide, mais peut ne pas prendre en charge tout ; tandis que la seconde n’utilise aucune accélération matérielle, elle est très lente, mais est garantie de prendre en charge l’ensemble complet des fonctionnalités Direct3D, de la manière correcte.</span><span class="sxs-lookup"><span data-stu-id="4eac4-122">HAL (Hardware Abstraction Layer) devices and REF (REFerence rasterizer) devices are the two main types of Direct3D device; the first is based around the hardware support, and is very fast but might not support everything; while the second uses no hardware acceleration, so is very slow, but is guaranteed to support the entire set of Direct3D features, in the correct way.</span></span> <span data-ttu-id="4eac4-123">En général, vous n’avez jamais besoin d’utiliser des périphériques HAL, mais si vous utilisez une fonctionnalité avancée que votre carte graphique ne prend pas en charge, vous devrez peut-être revenir à REF.</span><span class="sxs-lookup"><span data-stu-id="4eac4-123">In general you'll only ever need to use HAL devices, but if you're using some advanced feature that your graphics card does not support then you might need to fall back to REF.</span></span>

<span data-ttu-id="4eac4-124">L’autre cas où vous voudrez peut-être utiliser REF est si le périphérique HAL produit des résultats inattendus. autrement dit, vous êtes sûr que votre code est correct, mais le résultat n’est pas ce que vous attendez.</span><span class="sxs-lookup"><span data-stu-id="4eac4-124">The other time you might want to use REF is if the HAL device is producing strange results - that is, you're sure your code is correct, but the result is not what you're expecting.</span></span> <span data-ttu-id="4eac4-125">Le comportement de l’appareil REF est garanti, donc vous pouvez tester votre application sur l’appareil de référence et voir si le comportement étrange se poursuit.</span><span class="sxs-lookup"><span data-stu-id="4eac4-125">The REF device is guaranteed to behave correctly, so you may wish to test your application on the REF device and see if the strange behavior continues.</span></span> <span data-ttu-id="4eac4-126">Si ce n’est pas le cas, cela signifie que (a) votre application suppose que la carte graphique prend en charge les éléments qu’elle n’a pas, ou (b) qu’il s’agit d’un bogue de pilote.</span><span class="sxs-lookup"><span data-stu-id="4eac4-126">If it doesn't, it means that either (a) your application is assuming that the graphics card supports something that it doesn't, or (b) it's a driver bug.</span></span> <span data-ttu-id="4eac4-127">S’il ne fonctionne toujours pas avec l’appareil de référence, il s’agit d’un bogue de l’application.</span><span class="sxs-lookup"><span data-stu-id="4eac4-127">If it still doesn't work with the REF device, then it's an application bug.</span></span>

## <a name="hardware-vs-software-vertex-processing"></a><span data-ttu-id="4eac4-128">Traitement du vertex matériel et logiciel</span><span class="sxs-lookup"><span data-stu-id="4eac4-128">Hardware vs. Software Vertex Processing</span></span>

<span data-ttu-id="4eac4-129">Le traitement du matériel et du vertex logiciel s’applique uniquement aux périphériques HAL.</span><span class="sxs-lookup"><span data-stu-id="4eac4-129">Hardware versus Software vertex processing only really applies to HAL devices.</span></span> <span data-ttu-id="4eac4-130">Lorsque vous poussez des vertex dans le pipeline, ceux-ci doivent être transformés (par les matrices universelles, de vue et de projection) et allumés (par D3D’s de lumière intégrée). cette étape de traitement est appelée T&L (pour la transformation & éclairage).</span><span class="sxs-lookup"><span data-stu-id="4eac4-130">When you push vertices through the pipeline, they need to be transformed (by the world, view, and projection matrices in turn) and lit (by D3D's built-in lights) - this processing stage is known as T&L (for Transformation & Lighting).</span></span> <span data-ttu-id="4eac4-131">Le traitement du vertex matériel signifie que cette opération est effectuée sur le matériel, si le matériel le prend en charge ; Ergo, le traitement du vertex logiciel est un logiciel.</span><span class="sxs-lookup"><span data-stu-id="4eac4-131">Hardware vertex processing means this is done in hardware, if the hardware supports it; ergo, Software vertex processing is done is software.</span></span> <span data-ttu-id="4eac4-132">La pratique générale consiste à essayer d’abord de créer un appareil matériel T&L et, si cette opération échoue, essayer de le mélanger et, si cela échoue, essayer le logiciel.</span><span class="sxs-lookup"><span data-stu-id="4eac4-132">The general practice is to try creating a Hardware T&L device first, and if that fails try Mixed, and if that fails try Software.</span></span> <span data-ttu-id="4eac4-133">(Si le logiciel échoue, abandonner et quitter avec une erreur).</span><span class="sxs-lookup"><span data-stu-id="4eac4-133">(If software fails, give up and exit with an error).</span></span>

## <a name="related-topics"></a><span data-ttu-id="4eac4-134">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="4eac4-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4eac4-135">Périphériques Direct3D</span><span class="sxs-lookup"><span data-stu-id="4eac4-135">Direct3D Devices</span></span>](direct3d-devices.md)
</dt> </dl>

 

 
