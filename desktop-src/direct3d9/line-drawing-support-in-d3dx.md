---
description: En savoir plus sur la prise en charge des dessins en ligne dans D3DX. D3DX est une bibliothèque d’utilitaire qui fournit des services d’assistance. Il s’agit d’une couche au-dessus du composant Direct3D.
ms.assetid: 34ad82f2-542c-4342-af02-a767d6d4c96c
title: Prise en charge des dessins en ligne dans D3DX (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c4cf15eae461d0dbe719e99cfac605a6c8b8d272
ms.sourcegitcommit: 5d4e99f4c8f42f5f543e52cb9beb9fb13ec56c5f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/19/2021
ms.locfileid: "112407532"
---
# <a name="line-drawing-support-in-d3dx-direct3d-9"></a><span data-ttu-id="c42b5-105">Prise en charge des dessins en ligne dans D3DX (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="c42b5-105">Line Drawing Support in D3DX (Direct3D 9)</span></span>

<span data-ttu-id="c42b5-106">D3DX est une bibliothèque d’utilitaire qui fournit des services d’assistance.</span><span class="sxs-lookup"><span data-stu-id="c42b5-106">D3DX is a utility library that provides helper services.</span></span> <span data-ttu-id="c42b5-107">Il s’agit d’une couche au-dessus du composant Direct3D.</span><span class="sxs-lookup"><span data-stu-id="c42b5-107">It is a layer above the Direct3D component.</span></span>

<span data-ttu-id="c42b5-108">D3DX prend en charge les lignes avec anticrénelage à l’étendue d’un pixel.</span><span class="sxs-lookup"><span data-stu-id="c42b5-108">D3DX supports single-pixel-wide antialiased lines.</span></span> <span data-ttu-id="c42b5-109">Les modèles de ligne ne sont plus pris en charge.</span><span class="sxs-lookup"><span data-stu-id="c42b5-109">Line patterns are no longer supported.</span></span>

<span data-ttu-id="c42b5-110">La bibliothèque de dessins en ligne émule les lignes à l’aide de triangles de texture et suppose ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="c42b5-110">The line drawing library emulates lines using texture triangles and assumes the following:</span></span>

-   <span data-ttu-id="c42b5-111">Le matériel est disponible via les interfaces Direct3D 9.</span><span class="sxs-lookup"><span data-stu-id="c42b5-111">Hardware is available through the Direct3D 9 interfaces.</span></span>
-   <span data-ttu-id="c42b5-112">Au moins une étape de texture est disponible.</span><span class="sxs-lookup"><span data-stu-id="c42b5-112">At least one texture stage is available.</span></span>
-   <span data-ttu-id="c42b5-113">les textures 64x64 sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="c42b5-113">64x64 textures are used.</span></span>
-   <span data-ttu-id="c42b5-114">Les modes suivants sont disponibles :</span><span class="sxs-lookup"><span data-stu-id="c42b5-114">The following modes are available:</span></span>
    -   <span data-ttu-id="c42b5-115">Filtrage bilinéaire</span><span class="sxs-lookup"><span data-stu-id="c42b5-115">Bilinear filtering</span></span>
    -   <span data-ttu-id="c42b5-116">Mode d’adresse de serrage</span><span class="sxs-lookup"><span data-stu-id="c42b5-116">Clamp address mode</span></span>
    -   <span data-ttu-id="c42b5-117">Mode d’adresse de retour à la ligne</span><span class="sxs-lookup"><span data-stu-id="c42b5-117">Wrap address mode</span></span>
    -   <span data-ttu-id="c42b5-118">Module alpha op modulation</span><span class="sxs-lookup"><span data-stu-id="c42b5-118">Alpha op modulate</span></span>
    -   <span data-ttu-id="c42b5-119">Fusion alpha (SRCBLEND = SRC \_ alpha, DESTBLEND = INV \_ src \_ alpha)</span><span class="sxs-lookup"><span data-stu-id="c42b5-119">Alpha blending (SRCBLEND = SRC\_ALPHA, DESTBLEND = INV\_SRC\_ALPHA)</span></span>
    -   <span data-ttu-id="c42b5-120">Test alpha si la fusion alpha n’est pas disponible ; résultat de qualité inférieure</span><span class="sxs-lookup"><span data-stu-id="c42b5-120">Alpha test if alpha blending is not available; lower quality result</span></span>

<span data-ttu-id="c42b5-121">Pour le rendu de ligne avec anticrénelage dans les cibles de rendu à échantillonnages, utilisez [**ID3DXLine**](id3dxline.md) qui génère des polygones texturés.</span><span class="sxs-lookup"><span data-stu-id="c42b5-121">For antialiased line rendering in multisample render targets, use [**ID3DXLine**](id3dxline.md) which generates textured polygons.</span></span> <span data-ttu-id="c42b5-122">Les valeurs de couverture des pixels, générées par la pixellisation de ligne avec anticrénelage, modulent la valeur alpha du pixel calculée par le nuanceur de pixels.</span><span class="sxs-lookup"><span data-stu-id="c42b5-122">The pixel coverage values, generated by antialiased line rasterization, modulate the pixel's alpha value computed by the pixel shader.</span></span> <span data-ttu-id="c42b5-123">Pour dessiner une ligne avec anticrénelage, une application doit activer la fusion alpha, puis elle doit définir l' \_ État de rendu D3DRS ANTIALIASEDLINEENABLE sur **true**.</span><span class="sxs-lookup"><span data-stu-id="c42b5-123">To draw an antialiased line, an application must enable alpha blending and then it must set the D3DRS\_ANTIALIASEDLINEENABLE render state to **TRUE**.</span></span>

## <a name="functionality-description"></a><span data-ttu-id="c42b5-124">Description de la fonctionnalité</span><span class="sxs-lookup"><span data-stu-id="c42b5-124">Functionality Description</span></span>

<span data-ttu-id="c42b5-125">La bibliothèque prend en charge le dessin des bandes de couleur avec les caractéristiques de ligne suivantes, chacune d’elles étant indépendante des autres :</span><span class="sxs-lookup"><span data-stu-id="c42b5-125">The library supports drawing colored line strips with the following line features, each of which is independent of any other:</span></span>

-   <span data-ttu-id="c42b5-126">Largeur de ligne</span><span class="sxs-lookup"><span data-stu-id="c42b5-126">Line width</span></span>
-   <span data-ttu-id="c42b5-127">Modèle de ligne avec répétition (le compteur de modèle de ligne réinitialise avec chaque [**ID3DXLine ::D RAW**](id3dxline--draw.md) ou [**ID3DXLine ::D rawtransform**](id3dxline--drawtransform.md) .</span><span class="sxs-lookup"><span data-stu-id="c42b5-127">Line pattern with repetition (the line pattern counter resets with each [**ID3DXLine::Draw**](id3dxline--draw.md) or [**ID3DXLine::DrawTransform**](id3dxline--drawtransform.md) call.</span></span> <span data-ttu-id="c42b5-128">Elle n’est pas réinitialisée avec chaque segment de la bande.</span><span class="sxs-lookup"><span data-stu-id="c42b5-128">It does not reset with each segment of the line strip.)</span></span>
-   <span data-ttu-id="c42b5-129">Anticrénelage</span><span class="sxs-lookup"><span data-stu-id="c42b5-129">Antialiasing</span></span>
-   <span data-ttu-id="c42b5-130">Lignes de style OpenGL</span><span class="sxs-lookup"><span data-stu-id="c42b5-130">OpenGL-style lines</span></span>

> [!Note]  
> <span data-ttu-id="c42b5-131">Aucune Mitre n’est prise en charge.</span><span class="sxs-lookup"><span data-stu-id="c42b5-131">No mitering is supported.</span></span>

 

<span data-ttu-id="c42b5-132">La bibliothèque utilise la prise en charge de dessin de ligne matérielle native (si disponible dans l’appareil) uniquement si :</span><span class="sxs-lookup"><span data-stu-id="c42b5-132">The library uses native hardware line drawing support (if available in the device) only if:</span></span>

-   <span data-ttu-id="c42b5-133">La largeur de ligne est 1.</span><span class="sxs-lookup"><span data-stu-id="c42b5-133">Line width is 1.</span></span>
-   <span data-ttu-id="c42b5-134">Aucun modèle de ligne n’est activé.</span><span class="sxs-lookup"><span data-stu-id="c42b5-134">No line pattern is enabled.</span></span>

<span data-ttu-id="c42b5-135">Les lignes avec anticrénelage à l’ensemble des pixels sont prises en charge par un matériel, de sorte que la bibliothèque utilise cette, si elle est disponible.</span><span class="sxs-lookup"><span data-stu-id="c42b5-135">Single-pixel-wide antialiased lines are supported by some hardware, so the library uses that, if available.</span></span> <span data-ttu-id="c42b5-136">Le membre LineCaps de la structure [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9) énumère les fonctionnalités matérielles pour les primitives de dessin de lignes.</span><span class="sxs-lookup"><span data-stu-id="c42b5-136">The LineCaps member of the [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9) structure enumerates hardware capabilities for line-drawing primitives.</span></span>

<span data-ttu-id="c42b5-137">Lorsque le dessin en ligne de logiciel est utilisé, chaque ligne est développée dans un rectangle et quatre sommets sont envoyés au pilote.</span><span class="sxs-lookup"><span data-stu-id="c42b5-137">When the software line drawing is used, each line is expanded into a rectangle and four vertices are sent down to the driver.</span></span>

<span data-ttu-id="c42b5-138">Chaque segment de ligne est dessiné à l’aide de deux triangles.</span><span class="sxs-lookup"><span data-stu-id="c42b5-138">Each line segment is drawn with two triangles.</span></span> <span data-ttu-id="c42b5-139">La largeur de la primitive est la largeur spécifiée plus 1,0, ce qui peut entraîner une ligne ou une colonne supplémentaire de pixels.</span><span class="sxs-lookup"><span data-stu-id="c42b5-139">The width of the primitive is the specified width plus 1.0, which may result in an extra row or column of pixels.</span></span> <span data-ttu-id="c42b5-140">À mesure que la ligne est plus grande, le dégradé d’antialias dans la texture devient plus grossiste et plus les texels entièrement opaques sont répliqués au milieu.</span><span class="sxs-lookup"><span data-stu-id="c42b5-140">As the line gets wider, the antialias gradient in the texture becomes more coarse, and more fully-opaque texels are replicated around the middle.</span></span> <span data-ttu-id="c42b5-141">Le dégradé est encodé dans l’axe v de la texture, et est généralement répliqué le long de la direction u.</span><span class="sxs-lookup"><span data-stu-id="c42b5-141">The gradient is encoded in the v-direction of the texture, and typically replicated along the u-direction.</span></span> <span data-ttu-id="c42b5-142">Le mode d’adressage de la texture pour v est clamp.</span><span class="sxs-lookup"><span data-stu-id="c42b5-142">The texture addressing mode for v is clamp.</span></span>

<span data-ttu-id="c42b5-143">Chaque segment de ligne de la liste peut être considéré comme une ligne distincte qui commence à partir du point de terminaison précédent.</span><span class="sxs-lookup"><span data-stu-id="c42b5-143">Each line segment in the list can be considered to be a separate line that happens to start from the previous end point.</span></span>

<span data-ttu-id="c42b5-144">La qualité de l’anticrénelage le long des bords parallèles à la longueur de la ligne d’origine souffre de l’épaisseur de la ligne.</span><span class="sxs-lookup"><span data-stu-id="c42b5-144">Antialiasing quality along the edges parallel to the length of the original line suffers as the line gets wider.</span></span> <span data-ttu-id="c42b5-145">Il est prévu que les largeurs de ligne supérieures à 32,0 commencent à présenter des artefacts le long de ces bords.</span><span class="sxs-lookup"><span data-stu-id="c42b5-145">It is expected that line widths greater than 32.0 will start to exhibit artifacts along these edges.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c42b5-146">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="c42b5-146">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c42b5-147">D3DX</span><span class="sxs-lookup"><span data-stu-id="c42b5-147">D3DX</span></span>](d3dx.md)
</dt> </dl>

 

 



