---
description: Une chaîne de permutation est une collection de mémoires tampons utilisées pour afficher des frames à l’utilisateur.
ms.assetid: aefc0680-cbe6-42eb-8c00-eaa343eee469
title: Qu’est-ce qu’une chaîne de permutation ? (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7c8fc1fd2d313c70a680d9b276a3aabedc6d8cff
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104200693"
---
# <a name="what-is-a-swap-chain-direct3d-9"></a><span data-ttu-id="c5c22-104">Qu’est-ce qu’une chaîne de permutation ?</span><span class="sxs-lookup"><span data-stu-id="c5c22-104">What Is a Swap Chain?</span></span> <span data-ttu-id="c5c22-105">(Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="c5c22-105">(Direct3D 9)</span></span>

<span data-ttu-id="c5c22-106">Une chaîne de permutation est une collection de mémoires tampons utilisées pour afficher des frames à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c5c22-106">A swap chain is a collection of buffers that are used for displaying frames to the user.</span></span> <span data-ttu-id="c5c22-107">Chaque fois qu’une application présente un nouveau Frame à afficher, la première mémoire tampon de la chaîne de permutation remplace la mémoire tampon affichée.</span><span class="sxs-lookup"><span data-stu-id="c5c22-107">Each time an application presents a new frame for display, the first buffer in the swap chain takes the place of the displayed buffer.</span></span> <span data-ttu-id="c5c22-108">Ce processus est appelé échange ou basculement.</span><span class="sxs-lookup"><span data-stu-id="c5c22-108">This process is called swapping or flipping.</span></span>

<span data-ttu-id="c5c22-109">Une carte graphique contient un pointeur vers une surface qui représente l’image affichée sur le moniteur, appelée une mémoire tampon d’avant.</span><span class="sxs-lookup"><span data-stu-id="c5c22-109">A graphics adapter holds a pointer to a surface that represents the image being displayed on the monitor, called a front buffer.</span></span> <span data-ttu-id="c5c22-110">À mesure que le moniteur est actualisé, la carte graphique envoie le contenu de la mémoire tampon d’entrée à l’analyse à afficher.</span><span class="sxs-lookup"><span data-stu-id="c5c22-110">As the monitor is refreshed, the graphics card sends the contents of the front buffer to the monitor to be displayed.</span></span> <span data-ttu-id="c5c22-111">Toutefois, cela provoque un problème lors du rendu de graphiques en temps réel.</span><span class="sxs-lookup"><span data-stu-id="c5c22-111">However, this leads to a problem when rendering real-time graphics.</span></span> <span data-ttu-id="c5c22-112">Le cœur du problème est que les taux d’actualisation du moniteur sont très lents par rapport au reste de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c5c22-112">The heart of the problem is that monitor refresh rates are very slow in comparison to the rest of the computer.</span></span> <span data-ttu-id="c5c22-113">La plage des taux d’actualisation courants est comprise entre 60 Hz (60 fois par seconde) et 100 Hz.</span><span class="sxs-lookup"><span data-stu-id="c5c22-113">Common refresh rates range from 60 Hz (60 times per second) to 100 Hz.</span></span> <span data-ttu-id="c5c22-114">Si votre application met à jour la mémoire tampon d’avant pendant que l’analyse se trouve au milieu d’une actualisation, l’image affichée sera coupée en moitié avec la moitié supérieure de l’affichage contenant l’ancienne image et la moitié inférieure contenant la nouvelle image.</span><span class="sxs-lookup"><span data-stu-id="c5c22-114">If your application is updating the front buffer while the monitor is in the middle of a refresh, the image that is displayed will be cut in half with the upper half of the display containing the old image and the lower half containing the new image.</span></span> <span data-ttu-id="c5c22-115">Ce problème est connu sous le terme de « destruction ».</span><span class="sxs-lookup"><span data-stu-id="c5c22-115">This problem is referred to as tearing.</span></span>

<span data-ttu-id="c5c22-116">Direct3D met en œuvre deux options pour éviter le déchirement :</span><span class="sxs-lookup"><span data-stu-id="c5c22-116">Direct3D implements two options to avoid tearing:</span></span>

-   <span data-ttu-id="c5c22-117">Option permettant d’autoriser uniquement les mises à jour du moniteur sur l’opération de retraçage vertical (ou de synchronisation verticale).</span><span class="sxs-lookup"><span data-stu-id="c5c22-117">An option to only allow updates of the monitor on the vertical retrace (or vertical sync) operation.</span></span> <span data-ttu-id="c5c22-118">En règle générale, une analyse actualise son image en déplaçant un pin clair horizontalement, zigzagging en haut à gauche de l’écran et en se terminant en bas à droite.</span><span class="sxs-lookup"><span data-stu-id="c5c22-118">A monitor typically refreshes its image by moving a light pin horizontally, zigzagging from the top left of the monitor and ending at the bottom right.</span></span> <span data-ttu-id="c5c22-119">Lorsque la broche légère atteint la partie inférieure, le moniteur réétalonne le code confidentiel clair en le replaçant en haut à gauche, afin que le processus puisse recommencer.</span><span class="sxs-lookup"><span data-stu-id="c5c22-119">When the light pin reaches the bottom, the monitor recalibrates the light pin by moving it back to the upper left so that the process can start again.</span></span> <span data-ttu-id="c5c22-120">Ce réétalonnage est appelé synchronisation verticale. Au cours d’une synchronisation verticale, le moniteur ne dessine rien. par conséquent, toute mise à jour de la mémoire tampon d’avant ne sera pas visible tant que le moniteur n’aura pas redessiné.</span><span class="sxs-lookup"><span data-stu-id="c5c22-120">This recalibration is called a vertical sync. During a vertical sync, the monitor is not drawing anything, so any update to the front buffer will not be seen until the monitor starts to draw again.</span></span> <span data-ttu-id="c5c22-121">La synchronisation verticale est relativement lente ; Toutefois, il n’est pas assez lent d’afficher une scène complexe pendant l’attente.</span><span class="sxs-lookup"><span data-stu-id="c5c22-121">The vertical sync is relatively slow; however, not slow enough to render a complex scene while waiting.</span></span> <span data-ttu-id="c5c22-122">Ce qui est nécessaire pour éviter le déchirement et être en mesure d’afficher des scènes complexes est un processus appelé mise en mémoire tampon d’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="c5c22-122">What is needed to avoid tearing and be able to render complex scenes is a process called back buffering.</span></span>
-   <span data-ttu-id="c5c22-123">Une option pour utiliser une technique appelée mise en mémoire tampon d’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="c5c22-123">An option to use a technique called back buffering.</span></span> <span data-ttu-id="c5c22-124">La mise en mémoire tampon d’arrière-plan est le processus qui consiste à dessiner une scène sur une surface hors écran, appelée mémoire tampon d’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="c5c22-124">Back buffering is the process of drawing a scene to an off-screen surface, called a back buffer.</span></span> <span data-ttu-id="c5c22-125">Notez que toute surface autre que la mémoire tampon d’avant est appelée une surface hors écran, car elle n’est jamais affichée directement par le moniteur.</span><span class="sxs-lookup"><span data-stu-id="c5c22-125">Note that any surface other than the front buffer is called an off-screen surface because it is never directly viewed by the monitor.</span></span> <span data-ttu-id="c5c22-126">En utilisant une mémoire tampon d’arrière-plan, une application a la liberté de restituer une scène chaque fois que le système est inactif (autrement dit, aucun message Windows n’est en attente) sans avoir à prendre en compte la fréquence d’actualisation du moniteur.</span><span class="sxs-lookup"><span data-stu-id="c5c22-126">By using a back buffer, an application has the freedom to render a scene whenever the system is idle (that is, no windows messages are waiting) without having to consider the monitor's refresh rate.</span></span> <span data-ttu-id="c5c22-127">La mise en mémoire tampon d’arrière-plan améliore la façon dont et quand déplacer la mémoire tampon d’arrière-plan vers la mémoire tampon d’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="c5c22-127">Back buffering brings in an additional complication of how and when to move the back buffer to the front buffer.</span></span>

<span data-ttu-id="c5c22-128">Le processus de déplacement de la mémoire tampon d’arrière-plan vers la mémoire tampon d’arrière-plan est appelé retournement de surface.</span><span class="sxs-lookup"><span data-stu-id="c5c22-128">The process of moving the back buffer to the front buffer is called surface flipping.</span></span> <span data-ttu-id="c5c22-129">Étant donné que la carte graphique utilise simplement un pointeur vers une surface pour représenter la mémoire tampon d’entrée, une simple modification de pointeur suffit pour définir la mémoire tampon d’arrière-plan sur la mémoire tampon d’entrée.</span><span class="sxs-lookup"><span data-stu-id="c5c22-129">Because the graphics card simply uses a pointer to a surface to represent the front buffer, a simple pointer change is all that is needed to set the back buffer to the front buffer.</span></span> <span data-ttu-id="c5c22-130">Quand une application demande à Direct3D de présenter la mémoire tampon d’arrière-plan au tampon d’avant, Direct3D « retourne » simplement les deux pointeurs de surface.</span><span class="sxs-lookup"><span data-stu-id="c5c22-130">When an application asks Direct3D to present the back buffer to the front buffer, Direct3D simply "flips" the two surface pointers.</span></span> <span data-ttu-id="c5c22-131">Le résultat est que la mémoire tampon d’arrière-plan est désormais la nouvelle mémoire tampon d’origine, et l’ancienne mémoire tampon d’arrière-plan est la nouvelle mémoire tampon d’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="c5c22-131">The result is that the back buffer is now the new front buffer, and the old front buffer is the new back buffer.</span></span> <span data-ttu-id="c5c22-132">Un retournement de surface est appelé chaque fois qu’une application demande au périphérique Direct3D de présenter la mémoire tampon d’arrière-plan ; Toutefois, Direct3D peut être configuré pour mettre les demandes en file d’attente jusqu’à ce qu’une synchronisation verticale se produise.</span><span class="sxs-lookup"><span data-stu-id="c5c22-132">A surface flip is invoked whenever an application asks the Direct3D device to present the back buffer; however, Direct3D can be set up to queue the requests until a vertical sync occurs.</span></span> <span data-ttu-id="c5c22-133">Cette option est appelée « intervalle de présentation de l’appareil Direct3D ».</span><span class="sxs-lookup"><span data-stu-id="c5c22-133">This option is referred to as the Direct3D device's presentation interval.</span></span> <span data-ttu-id="c5c22-134">Notez que les données de la nouvelle mémoire tampon d’arrière-plan peuvent ne pas être réutilisables, en fonction de la façon dont une application spécifie la manière dont Direct3D doit gérer le basculement de surface.</span><span class="sxs-lookup"><span data-stu-id="c5c22-134">Note that the data in the new back buffer may not be reusable, depending on how an application specifies how Direct3D should handle surface flipping.</span></span> <span data-ttu-id="c5c22-135">Le retournement de surface est essentiel dans les logiciels multimédia, d’animation et de jeu ; elle est équivalente à la façon dont vous pouvez effectuer une animation avec un bloc de papier.</span><span class="sxs-lookup"><span data-stu-id="c5c22-135">Surface flipping is key in multimedia, animation, and game software; it is equivalent to the way you can do animation with a pad of paper.</span></span> <span data-ttu-id="c5c22-136">Sur chaque page, l’artiste modifie légèrement les chiffres, de sorte que lorsque vous retournez rapidement entre les feuilles, le dessin apparaît animé.</span><span class="sxs-lookup"><span data-stu-id="c5c22-136">On each page, the artist changes the figures slightly, so that when you flip rapidly between sheets, the drawing appears animated.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c5c22-137">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="c5c22-137">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c5c22-138">Surfaces Direct3D</span><span class="sxs-lookup"><span data-stu-id="c5c22-138">Direct3D Surfaces</span></span>](direct3d-surfaces.md)
</dt> <dt>

[<span data-ttu-id="c5c22-139">Retournement des surfaces (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="c5c22-139">Flipping Surfaces (Direct3D 9)</span></span>](flipping-surfaces.md)
</dt> </dl>

 

 



