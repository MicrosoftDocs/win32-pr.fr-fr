---
title: Opération asynchrone
description: En mode asynchrone, une application peut exécuter n’importe quelle fonction qui comprend une valeur de contexte comme l’un de ses paramètres et peut continuer à exécuter d’autres commandes ou fonctions pendant que l’application attend que la fonction termine sa tâche.
ms.assetid: 4b8ade00-deb3-4d9f-9ceb-5ba3296c8c68
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9a7e1d0cf84aa92691e1d926d771ea809d31a171
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103728932"
---
# <a name="asynchronous-operation"></a><span data-ttu-id="85938-103">Opération asynchrone</span><span class="sxs-lookup"><span data-stu-id="85938-103">Asynchronous Operation</span></span>

<span data-ttu-id="85938-104">Le temps nécessaire à une application pour accéder à une ressource Internet dépend de plusieurs facteurs, tels que la connexion utilisée, le serveur sur lequel se trouve la ressource et le nombre d’utilisateurs qui essaient d’accéder à la ressource.</span><span class="sxs-lookup"><span data-stu-id="85938-104">The amount of time it takes an application to access an Internet resource depends on a number of factors, such as the connection being used, the server on which the resource is located, and the number of users trying to access the resource.</span></span> <span data-ttu-id="85938-105">Pour les applications qui téléchargent plusieurs ressources ou qui gèrent plusieurs tâches (y compris un ou plusieurs téléchargements), l’attente de la fin de chaque téléchargement avant de passer à la tâche suivante peut être extrêmement inefficace.</span><span class="sxs-lookup"><span data-stu-id="85938-105">For applications that download multiple resources or handle multiple tasks (including one or more downloads), waiting for each download to complete before moving on to the next task can be extremely inefficient.</span></span> <span data-ttu-id="85938-106">Pour réduire la durée d’attente d’une application, la plupart des fonctions WinINet peuvent fonctionner de manière asynchrone.</span><span class="sxs-lookup"><span data-stu-id="85938-106">To decrease the amount of time an application has to wait, many of the WinINet functions can operate asynchronously.</span></span>

<span data-ttu-id="85938-107">En mode asynchrone, une application peut exécuter n’importe quelle fonction qui comprend une valeur de contexte comme l’un de ses paramètres et peut continuer à exécuter d’autres commandes ou fonctions pendant que l’application attend que la fonction termine sa tâche.</span><span class="sxs-lookup"><span data-stu-id="85938-107">In asynchronous mode, an application can execute any function that includes a context value as one of its parameters and can continue to execute other commands or functions while the application waits for the function to complete its task.</span></span> <span data-ttu-id="85938-108">Pendant l’exécution de la tâche, une fonction de rappel d’État fournie par l’application est notifiée de la progression de la tâche et de la fin de son exécution.</span><span class="sxs-lookup"><span data-stu-id="85938-108">While the task is completing, a status callback function provided by the application is notified about the progress of the task and when it has completed.</span></span> <span data-ttu-id="85938-109">À ce stade, la fonction de rappel d’État peut appeler d’autres fonctions ou exécuter toute autre tâche requise qui dépendait de la fin de la tâche.</span><span class="sxs-lookup"><span data-stu-id="85938-109">At this time, the status callback function can call other functions or perform any other required tasks that were dependent on the task's completion.</span></span>

<span data-ttu-id="85938-110">Il n’y a pas de thread de rappel Afinity quand vous appelez WinINet de manière asynchrone : un appel peut démarrer à partir d’un thread, mais tout autre thread peut recevoir le rappel.</span><span class="sxs-lookup"><span data-stu-id="85938-110">There is no callback thread afinity when you call WinINet asynchronously: a call might start from one thread, but any other thread can receive the callback.</span></span>

-   [<span data-ttu-id="85938-111">Avantages</span><span class="sxs-lookup"><span data-stu-id="85938-111">Benefits</span></span>](#benefits)
-   [<span data-ttu-id="85938-112">Scénarios</span><span class="sxs-lookup"><span data-stu-id="85938-112">Scenarios</span></span>](#scenarios)
-   [<span data-ttu-id="85938-113">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="85938-113">Related Topics</span></span>](#related-topics)

## <a name="benefits"></a><span data-ttu-id="85938-114">Avantages</span><span class="sxs-lookup"><span data-stu-id="85938-114">Benefits</span></span>

<span data-ttu-id="85938-115">Il existe plusieurs avantages à fonctionner de manière asynchrone.</span><span class="sxs-lookup"><span data-stu-id="85938-115">There are several benefits to operating asynchronously.</span></span> <span data-ttu-id="85938-116">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="85938-116">For example:</span></span>

-   <span data-ttu-id="85938-117">Téléchargement simultané de plusieurs ressources Internet.</span><span class="sxs-lookup"><span data-stu-id="85938-117">Downloading multiple Internet resources simultaneously.</span></span>

    <span data-ttu-id="85938-118">Vous pouvez vous connecter à plusieurs ressources Internet en même temps et les télécharger dès qu’elles sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="85938-118">You can connect to multiple Internet resources at the same time and download them as they become available.</span></span>

-   <span data-ttu-id="85938-119">Amélioration des performances de votre application.</span><span class="sxs-lookup"><span data-stu-id="85938-119">Increasing performance of your application.</span></span>

    <span data-ttu-id="85938-120">Une application utilisant les fonctions WinINet de manière asynchrone n’a pas besoin d’attendre que la demande soit terminée. l’application est donc libre d’effectuer d’autres tâches qui ne dépendent pas de la demande, améliorant ainsi les performances globales de l’application.</span><span class="sxs-lookup"><span data-stu-id="85938-120">An application using the WinINet functions asynchronously does not have to wait until the request is completed, so the application is free to do other tasks that are not dependent on the request, thus improving the application's overall performance.</span></span>

-   <span data-ttu-id="85938-121">Surveiller la progression du téléchargement.</span><span class="sxs-lookup"><span data-stu-id="85938-121">Monitor the progress of the download.</span></span>

    <span data-ttu-id="85938-122">La fonction de rappel d’État reçoit des notifications pendant le traitement d’une demande.</span><span class="sxs-lookup"><span data-stu-id="85938-122">The status callback function receives notifications while it is processing a request.</span></span> <span data-ttu-id="85938-123">Si nécessaire, votre application peut utiliser les informations fournies par cette fonction de rappel d’État pour que l’utilisateur soit informé de la progression de l’opération ou d’interruption des requêtes dont l’exécution est trop longue.</span><span class="sxs-lookup"><span data-stu-id="85938-123">If needed, your application can use the information provided by that status callback function to keep the user informed about the progress of the operation or to interrupt requests that are taking too long to complete.</span></span>

## <a name="scenarios"></a><span data-ttu-id="85938-124">Scénarios</span><span class="sxs-lookup"><span data-stu-id="85938-124">Scenarios</span></span>

<span data-ttu-id="85938-125">Supposons que votre application doive télécharger des prix de café depuis le café Downfall & thé et les Fourth Coffee sites et comparer les prix.</span><span class="sxs-lookup"><span data-stu-id="85938-125">Let's say your application needs to download coffee prices from the Downfall Coffee & Tea and the Fourth Coffee sites and compare prices.</span></span> <span data-ttu-id="85938-126">Le site Fourth Coffee a généralement un temps de réponse plus lent. votre application doit donc télécharger les informations de Downfall Coffee & Tea.</span><span class="sxs-lookup"><span data-stu-id="85938-126">The Fourth Coffee site usually has a slower response time, so your application should download the information from Downfall Coffee & Tea first.</span></span>

<span data-ttu-id="85938-127">Deux versions de l’application sont développées.</span><span class="sxs-lookup"><span data-stu-id="85938-127">Two versions of the application are developed.</span></span> <span data-ttu-id="85938-128">L’un fonctionne de façon synchrone, en téléchargeant d’abord les prix à partir du site Downfall Coffee & thé, puis les prix à partir du site Fourth Coffee.</span><span class="sxs-lookup"><span data-stu-id="85938-128">One works synchronously, first downloading the prices from the Downfall Coffee & Tea site and then the prices from the Fourth Coffee site.</span></span> <span data-ttu-id="85938-129">Le second fonctionne de façon asynchrone, en envoyant des demandes aux deux sites et en téléchargeant les prix lorsqu’ils sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="85938-129">The second works asynchronously, sending requests to both sites and downloading the prices when they become available.</span></span>

<span data-ttu-id="85938-130">Le tableau suivant illustre ce qui se passerait si le site Fourth Coffee était plus rapide à un jour donné.</span><span class="sxs-lookup"><span data-stu-id="85938-130">The following table illustrates what would happen if the Fourth Coffee site was faster on a particular day.</span></span>



| <span data-ttu-id="85938-131">Événement</span><span class="sxs-lookup"><span data-stu-id="85938-131">Event</span></span>                                                            | <span data-ttu-id="85938-132">Version synchrone</span><span class="sxs-lookup"><span data-stu-id="85938-132">Synchronous version</span></span>                        | <span data-ttu-id="85938-133">Version asynchrone</span><span class="sxs-lookup"><span data-stu-id="85938-133">Asynchronous version</span></span>                                     |
|------------------------------------------------------------------|--------------------------------------------|----------------------------------------------------------|
| <span data-ttu-id="85938-134">Démarrer</span><span class="sxs-lookup"><span data-stu-id="85938-134">Start</span></span>                                                            | <span data-ttu-id="85938-135">Envoyer une demande à Downfall Coffee & thé</span><span class="sxs-lookup"><span data-stu-id="85938-135">Send request to Downfall Coffee & Tea</span></span>      | <span data-ttu-id="85938-136">Envoyer des demandes à Downfall Coffee & thé et Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="85938-136">Send requests to Downfall Coffee & Tea and Fourth Coffee</span></span> |
| <span data-ttu-id="85938-137">Demande de la version asynchrone à Fourth Coffee terminée</span><span class="sxs-lookup"><span data-stu-id="85938-137">Request from the asynchronous version to Fourth Coffee completed</span></span> | <span data-ttu-id="85938-138">En attente</span><span class="sxs-lookup"><span data-stu-id="85938-138">Waiting</span></span>                                    | <span data-ttu-id="85938-139">Télécharger les tarifs de Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="85938-139">Download prices from Fourth Coffee</span></span>                       |
| <span data-ttu-id="85938-140">Demande de Downfall café & thé terminée</span><span class="sxs-lookup"><span data-stu-id="85938-140">Request to Downfall Coffee & Tea completed</span></span>                       | <span data-ttu-id="85938-141">Télécharger les prix de Downfall Coffee & thé</span><span class="sxs-lookup"><span data-stu-id="85938-141">Download prices from Downfall Coffee & Tea</span></span> | <span data-ttu-id="85938-142">Télécharger les prix de Downfall Coffee & thé</span><span class="sxs-lookup"><span data-stu-id="85938-142">Download prices from Downfall Coffee & Tea</span></span>               |
| <span data-ttu-id="85938-143">Une fois Downfall café & les prix du thé sont téléchargés</span><span class="sxs-lookup"><span data-stu-id="85938-143">After Downfall Coffee & Tea's prices are downloaded</span></span>              | <span data-ttu-id="85938-144">Envoyer une demande à Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="85938-144">Send request to Fourth Coffee</span></span>              | <span data-ttu-id="85938-145">Comparer les prix</span><span class="sxs-lookup"><span data-stu-id="85938-145">Compare prices</span></span>                                           |
| <span data-ttu-id="85938-146">Comparaison de la version asynchrone terminée</span><span class="sxs-lookup"><span data-stu-id="85938-146">Asynchronous version's comparison completed</span></span>                      | <span data-ttu-id="85938-147">En attente</span><span class="sxs-lookup"><span data-stu-id="85938-147">Waiting</span></span>                                    | <span data-ttu-id="85938-148">Opération terminée</span><span class="sxs-lookup"><span data-stu-id="85938-148">Operation complete</span></span>                                       |
| <span data-ttu-id="85938-149">Demande de la version synchrone à Fourth Coffee terminée</span><span class="sxs-lookup"><span data-stu-id="85938-149">Request from the synchronous version to Fourth Coffee completed</span></span>  | <span data-ttu-id="85938-150">Télécharger les tarifs de Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="85938-150">Download prices from Fourth Coffee</span></span>         | <span data-ttu-id="85938-151">n/a</span><span class="sxs-lookup"><span data-stu-id="85938-151">n/a</span></span>                                                      |
| <span data-ttu-id="85938-152">Après le téléchargement des prix de Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="85938-152">After Fourth Coffee's prices are downloaded</span></span>                      | <span data-ttu-id="85938-153">Comparer les prix</span><span class="sxs-lookup"><span data-stu-id="85938-153">Compare prices</span></span>                             | <span data-ttu-id="85938-154">n/a</span><span class="sxs-lookup"><span data-stu-id="85938-154">n/a</span></span>                                                      |
| <span data-ttu-id="85938-155">Comparaison de la version synchrone terminée</span><span class="sxs-lookup"><span data-stu-id="85938-155">Synchronous version's comparison completed</span></span>                       | <span data-ttu-id="85938-156">Opération terminée</span><span class="sxs-lookup"><span data-stu-id="85938-156">Operation complete</span></span>                         | <span data-ttu-id="85938-157">n/a</span><span class="sxs-lookup"><span data-stu-id="85938-157">n/a</span></span>                                                      |



 

<span data-ttu-id="85938-158">Un autre exemple est un navigateur Web tel que Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="85938-158">Another example would be a web browser such as Microsoft Internet Explorer.</span></span> <span data-ttu-id="85938-159">Lorsque le navigateur télécharge une page, il doit souvent Télécharger d’autres ressources, telles que des images et des fichiers audio.</span><span class="sxs-lookup"><span data-stu-id="85938-159">When the browser downloads a page, it often needs to download other resources, such as images and sound files.</span></span> <span data-ttu-id="85938-160">En mode asynchrone, la page et les ressources qui lui sont associées peuvent être demandées simultanément et téléchargées dès qu’elles sont disponibles, au lieu de demander et de télécharger la page et chaque ressource une à la fois.</span><span class="sxs-lookup"><span data-stu-id="85938-160">In asynchronous mode, the page and its associated resources can be requested simultaneously and downloaded as they become available, instead of requesting and downloading the page and each resource one at a time.</span></span>

## <a name="related-topics"></a><span data-ttu-id="85938-161">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="85938-161">Related Topics</span></span>

<span data-ttu-id="85938-162">Vous trouverez ci-dessous des liens connexes.</span><span class="sxs-lookup"><span data-stu-id="85938-162">The following are related links.</span></span>

<span data-ttu-id="85938-163">Tutoriels</span><span class="sxs-lookup"><span data-stu-id="85938-163">Tutorials</span></span>

-   [<span data-ttu-id="85938-164">Création de fonctions de rappel d’État</span><span class="sxs-lookup"><span data-stu-id="85938-164">Creating Status Callback Functions</span></span>](creating-status-callback-functions.md)

<span data-ttu-id="85938-165">Fonctions nécessaires à la configuration d’une opération asynchrone</span><span class="sxs-lookup"><span data-stu-id="85938-165">Functions needed to set up asynchronous operation</span></span>

-   [<span data-ttu-id="85938-166">**InternetOpen**</span><span class="sxs-lookup"><span data-stu-id="85938-166">**InternetOpen**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetopena)
-   [<span data-ttu-id="85938-167">**InternetSetStatusCallback**</span><span class="sxs-lookup"><span data-stu-id="85938-167">**InternetSetStatusCallback**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetsetstatuscallback)

<span data-ttu-id="85938-168">Fonctions qui peuvent être utilisées de façon asynchrone</span><span class="sxs-lookup"><span data-stu-id="85938-168">Functions that can be used asynchronously</span></span>

-   [<span data-ttu-id="85938-169">**FtpCreateDirectory**</span><span class="sxs-lookup"><span data-stu-id="85938-169">**FtpCreateDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpcreatedirectorya)
-   [<span data-ttu-id="85938-170">**FtpDeleteFile**</span><span class="sxs-lookup"><span data-stu-id="85938-170">**FtpDeleteFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpdeletefilea)
-   [<span data-ttu-id="85938-171">**FtpFindFirstFile**</span><span class="sxs-lookup"><span data-stu-id="85938-171">**FtpFindFirstFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpfindfirstfilea)
-   [<span data-ttu-id="85938-172">**FtpGetCurrentDirectory**</span><span class="sxs-lookup"><span data-stu-id="85938-172">**FtpGetCurrentDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpgetcurrentdirectorya)
-   [<span data-ttu-id="85938-173">**FtpGetFile**</span><span class="sxs-lookup"><span data-stu-id="85938-173">**FtpGetFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpgetfilea)
-   [<span data-ttu-id="85938-174">**FtpOpenFile**</span><span class="sxs-lookup"><span data-stu-id="85938-174">**FtpOpenFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpopenfilea)
-   [<span data-ttu-id="85938-175">**FtpPutFile**</span><span class="sxs-lookup"><span data-stu-id="85938-175">**FtpPutFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpputfilea)
-   [<span data-ttu-id="85938-176">**FtpRemoveDirectory**</span><span class="sxs-lookup"><span data-stu-id="85938-176">**FtpRemoveDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpremovedirectorya)
-   [<span data-ttu-id="85938-177">**FtpRenameFile**</span><span class="sxs-lookup"><span data-stu-id="85938-177">**FtpRenameFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftprenamefilea)
-   [<span data-ttu-id="85938-178">**FtpSetCurrentDirectory**</span><span class="sxs-lookup"><span data-stu-id="85938-178">**FtpSetCurrentDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpsetcurrentdirectorya)
-   [<span data-ttu-id="85938-179">**GopherFindFirstFile**</span><span class="sxs-lookup"><span data-stu-id="85938-179">**GopherFindFirstFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-gopherfindfirstfilea)
-   [<span data-ttu-id="85938-180">**GopherOpenFile**</span><span class="sxs-lookup"><span data-stu-id="85938-180">**GopherOpenFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-gopheropenfilea)
-   [<span data-ttu-id="85938-181">**HttpEndRequest**</span><span class="sxs-lookup"><span data-stu-id="85938-181">**HttpEndRequest**</span></span>](/windows/desktop/api/Wininet/nf-wininet-httpendrequesta)
-   [<span data-ttu-id="85938-182">**HttpOpenRequest**</span><span class="sxs-lookup"><span data-stu-id="85938-182">**HttpOpenRequest**</span></span>](/windows/desktop/api/Wininet/nf-wininet-httpopenrequesta)
-   [<span data-ttu-id="85938-183">**HttpSendRequestEx**</span><span class="sxs-lookup"><span data-stu-id="85938-183">**HttpSendRequestEx**</span></span>](/windows/desktop/api/Wininet/nf-wininet-httpsendrequestexa)
-   [<span data-ttu-id="85938-184">**InternetConnect**</span><span class="sxs-lookup"><span data-stu-id="85938-184">**InternetConnect**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetconnecta)
-   [<span data-ttu-id="85938-185">**InternetOpenUrl**</span><span class="sxs-lookup"><span data-stu-id="85938-185">**InternetOpenUrl**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetopenurla)
-   [<span data-ttu-id="85938-186">**InternetReadFileEx**</span><span class="sxs-lookup"><span data-stu-id="85938-186">**InternetReadFileEx**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetreadfileexa)

> [!Note]  
> <span data-ttu-id="85938-187">Les fonctions [**FtpCreateDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpcreatedirectorya), [**FtpRemoveDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpremovedirectorya), [**FtpSetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpsetcurrentdirectorya), [**FtpGetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpgetcurrentdirectorya), [**FtpDeleteFile**](/windows/desktop/api/Wininet/nf-wininet-ftpdeletefilea)et [**FtpRenameFile**](/windows/desktop/api/Wininet/nf-wininet-ftprenamefilea) utilisent la valeur de contexte fournie dans l’appel à la fonction [**internetconnect**](/windows/desktop/api/Wininet/nf-wininet-internetconnecta) .</span><span class="sxs-lookup"><span data-stu-id="85938-187">The [**FtpCreateDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpcreatedirectorya), [**FtpRemoveDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpremovedirectorya), [**FtpSetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpsetcurrentdirectorya), [**FtpGetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpgetcurrentdirectorya), [**FtpDeleteFile**](/windows/desktop/api/Wininet/nf-wininet-ftpdeletefilea), and [**FtpRenameFile**](/windows/desktop/api/Wininet/nf-wininet-ftprenamefilea) functions use the context value provided in the call to the [**InternetConnect**](/windows/desktop/api/Wininet/nf-wininet-internetconnecta) function.</span></span>

 

> [!Note]  
> <span data-ttu-id="85938-188">WinINet ne prend pas en charge les implémentations de serveur.</span><span class="sxs-lookup"><span data-stu-id="85938-188">WinINet does not support server implementations.</span></span> <span data-ttu-id="85938-189">En outre, il ne doit pas être utilisé à partir d’un service.</span><span class="sxs-lookup"><span data-stu-id="85938-189">In addition, it should not be used from a service.</span></span> <span data-ttu-id="85938-190">Pour les implémentations de serveur ou les services, utilisez les [services http Microsoft Windows (WinHTTP)](/windows/desktop/WinHttp/winhttp-start-page).</span><span class="sxs-lookup"><span data-stu-id="85938-190">For server implementations or services use [Microsoft Windows HTTP Services (WinHTTP)](/windows/desktop/WinHttp/winhttp-start-page).</span></span>

 

 

 