---
description: La configuration par application redirige la dépendance d’une application particulière d’une version d’un assembly côte à côte vers une autre version de l’assembly.
ms.assetid: b7988385-c87e-443c-8ec3-84ab3c172eab
title: Configuration par application
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7b17543c9972deefe2a2beda1f5eeba1c5ace2ba
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104210043"
---
# <a name="per-application-configuration"></a><span data-ttu-id="a830f-103">Configuration par application</span><span class="sxs-lookup"><span data-stu-id="a830f-103">Per-application Configuration</span></span>

<span data-ttu-id="a830f-104">La configuration par application redirige la dépendance d’une application particulière d’une version d’un assembly côte à côte vers une autre version de l’assembly.</span><span class="sxs-lookup"><span data-stu-id="a830f-104">Per-application configuration redirects the dependence of a particular application from one version of a side-by-side assembly to another version of the assembly.</span></span> <span data-ttu-id="a830f-105">Une configuration par application peut devenir nécessaire si le bon fonctionnement d’une application particulière requiert une version d’assembly différente de la version normalement spécifiée comme configuration [par défaut](default-configuration.md) ou configuration du serveur de [publication](publisher-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="a830f-105">A per-application configuration may become necessary if the correct operation of a particular application requires an assembly version that is different than the version normally specified as a [default configuration](default-configuration.md) or [publisher configuration](publisher-configuration.md).</span></span> <span data-ttu-id="a830f-106">Par exemple, une mise à jour globale de la version de l’assembly par le serveur de publication peut corriger l’assembly, mais rompre cette application particulière.</span><span class="sxs-lookup"><span data-stu-id="a830f-106">For example, a global update of the assembly version by the publisher might fix the assembly but break this particular application.</span></span> <span data-ttu-id="a830f-107">Dans ce cas, la configuration par application peut être utilisée pour permettre à l’application de continuer à s’exécuter avec la version d’assembly précédente.</span><span class="sxs-lookup"><span data-stu-id="a830f-107">In this case, per-application configuration might be used to enable the application to continue to run with the previous assembly version.</span></span>

<span data-ttu-id="a830f-108">À compter de Windows Server 2003, la configuration par application remplace toujours la [configuration par défaut](default-configuration.md) pour chaque application.</span><span class="sxs-lookup"><span data-stu-id="a830f-108">Starting with Windows Server 2003, per-application configuration always overrides the [default configuration](default-configuration.md) on a per-application basis.</span></span> <span data-ttu-id="a830f-109">La configuration par application remplace la configuration de l' [éditeur](publisher-configuration.md) pour chaque application uniquement si le fichier de [configuration](application-configuration-files.md) de l’application spécifie *apply = "no"* dans **publisherPolicy** et qu’une entrée correspondante est présente dans la base de données de compatibilité des applications.</span><span class="sxs-lookup"><span data-stu-id="a830f-109">Per-application configuration overrides [publisher configuration](publisher-configuration.md) on a per-application basis only if the [application configuration file](application-configuration-files.md) specifies *apply="no"* in **publisherPolicy** and there is a corresponding entry present in the Application Compatibility database.</span></span>

> [!Note]  
> <span data-ttu-id="a830f-110">Sur Windows XP, la configuration par application remplace la configuration [par défaut](default-configuration.md) et la [configuration](publisher-configuration.md) du serveur de publication par application.</span><span class="sxs-lookup"><span data-stu-id="a830f-110">On Windows XP, per-application configuration overrides both [default configuration](default-configuration.md) and [publisher configuration](publisher-configuration.md) on a per-application basis.</span></span> <span data-ttu-id="a830f-111">Pour plus d’informations, consultez [configuration par application sur Windows XP](per-application-configuration-on-windows-xp.md).</span><span class="sxs-lookup"><span data-stu-id="a830f-111">For information, see [Per-application Configuration on Windows XP](per-application-configuration-on-windows-xp.md).</span></span>

 

<span data-ttu-id="a830f-112">À compter de Windows Server 2003, une configuration par application remplacera une [configuration d’éditeur](publisher-configuration.md) si le [fichier de configuration d’application](application-configuration-files.md) spécifie *apply = « Yes »* dans **publisherPolicy** et que l’indicateur EnableAppConfig est défini pour l’application dans la base de données de compatibilité des applications.</span><span class="sxs-lookup"><span data-stu-id="a830f-112">Starting with Windows Server 2003, a per-application configuration will override a [publisher configuration](publisher-configuration.md) if the [application configuration file](application-configuration-files.md) specifies *apply="yes"* in **publisherPolicy** and the EnableAppConfig flag is set for the application in the Application Compatibility database.</span></span> <span data-ttu-id="a830f-113">Cette fonctionnalité permettant de remplacer une configuration de serveur de publication à l’aide d’une configuration par application permet à l’application d’être exécutée en mode sans échec.</span><span class="sxs-lookup"><span data-stu-id="a830f-113">This capability to override a publisher configuration using a per-application configuration enables the application to be run in Safemode.</span></span> <span data-ttu-id="a830f-114">Pour plus d’informations sur la base de données de compatibilité des applications et la safemode, consultez Windows Application Compatibility Toolkit.</span><span class="sxs-lookup"><span data-stu-id="a830f-114">For more information about the Application Compatibility database and Safemode, see the Windows Application Compatibility Toolkit.</span></span> <span data-ttu-id="a830f-115">Vous pouvez obtenir le kit de compatibilité des applications Windows à partir de [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/) .</span><span class="sxs-lookup"><span data-stu-id="a830f-115">You can obtain the Windows Application Compatibility Toolkit from [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/).</span></span>

> [!Note]  
> <span data-ttu-id="a830f-116">Si vous expédiez des composants avec un [fichier de configuration d’application](application-configuration-files.md) (fichier. config) qui spécifie *apply = "no"* dans **publisherPolicy**, cela entraînera l’échec de la génération du contexte d’activation.</span><span class="sxs-lookup"><span data-stu-id="a830f-116">If you ship components with an [application configuration file](application-configuration-files.md) (.config file) that specifies *apply="no"* in **publisherPolicy**, this will cause the generation of the activation context to fail.</span></span> <span data-ttu-id="a830f-117">La configuration par application sera ignorée si vous expédiez des composants avec un fichier. config en spécifiant *apply = « Yes »* dans **publisherPolicy**.</span><span class="sxs-lookup"><span data-stu-id="a830f-117">The per-application configuration will be ignored if you ship components with a .config file specifying *apply="yes"* in **publisherPolicy**.</span></span>

 

<span data-ttu-id="a830f-118">Les administrateurs d’applications peuvent implémenter une configuration par application en créant et en installant des fichiers de configuration d’application et en mettant à jour la base de données de compatibilité des applications.</span><span class="sxs-lookup"><span data-stu-id="a830f-118">Application administrators can implement a per-application configuration by authoring and installing application configuration files and updating the application compatibility database.</span></span> <span data-ttu-id="a830f-119">Le fichier de configuration de l’application doit ensuite être déployé et installé dans le même dossier que le fichier exécutable de l’application.</span><span class="sxs-lookup"><span data-stu-id="a830f-119">The application configuration file should then be deployed and installed into the same folder as the application's executable file.</span></span> <span data-ttu-id="a830f-120">Pour obtenir la liste du schéma de fichier, consultez [schéma du fichier de configuration](application-configuration-file-schema.md)de l’application.</span><span class="sxs-lookup"><span data-stu-id="a830f-120">For a listing of the file schema, see [Application Configuration File Schema](application-configuration-file-schema.md).</span></span> <span data-ttu-id="a830f-121">La base de données de compatibilité des applications doit être distribuée comme décrit dans Application Compatibility Toolkit.</span><span class="sxs-lookup"><span data-stu-id="a830f-121">The application compatibility database must be distributed as described in the Application Compatibility Toolkit.</span></span>

> [!Note]  
> <span data-ttu-id="a830f-122">Si votre application s’exécute en mode safemode, elle ne recevra pas de correctifs de sécurité ou de correctifs de bogues importants. l’éditeur de l’assembly peut être émis comme des fichiers de configuration d’éditeur.</span><span class="sxs-lookup"><span data-stu-id="a830f-122">If your application runs in Safemode, it will not receive any important security fixes or bug fixes the publisher of the assembly might issue as publisher configuration files.</span></span> <span data-ttu-id="a830f-123">Une application qui utilise une configuration par application peut donc rester non sécurisée ou continuer à fonctionner de manière incorrecte même après l’application d’un nouvel assembly avec ces correctifs au système.</span><span class="sxs-lookup"><span data-stu-id="a830f-123">An application that uses per-application configuration may therefore remain unsecure or continue to work incorrectly even after a new assembly with these fixes are applied to the system.</span></span> <span data-ttu-id="a830f-124">Pour cette raison, les développeurs d’applications ne doivent jamais livrer une application avec une configuration par application.</span><span class="sxs-lookup"><span data-stu-id="a830f-124">For this reason, application developers should never ship an application with a per-application configuration.</span></span> <span data-ttu-id="a830f-125">La configuration par application doit être utilisée uniquement par les administrateurs d’entreprise comme un correctif temporaire lorsque l’application est interrompue par une configuration de serveur de publication.</span><span class="sxs-lookup"><span data-stu-id="a830f-125">Per-application configuration should only be used by corporate administrators as a temporary fix when the application is broken by a publisher configuration.</span></span> <span data-ttu-id="a830f-126">Dans ce cas, la solution permanente est que les développeurs de l’assembly et les développeurs de l’application doivent travailler ensemble pour s’assurer que les assemblys avec la configuration du serveur de publication sont entièrement compatibles avec le niveau de compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="a830f-126">In this case, the permanent solution is that the developers of the assembly and the developers of the application will need to work together to ensure that the assemblies with publisher configuration are fully backwards compatible.</span></span>

 

<span data-ttu-id="a830f-127">Voici un exemple de fichier de configuration de l’application.</span><span class="sxs-lookup"><span data-stu-id="a830f-127">The following is an example of an application configuration file.</span></span> <span data-ttu-id="a830f-128">Pour plus d’informations, consultez fichiers de configuration de l’application.</span><span class="sxs-lookup"><span data-stu-id="a830f-128">For more information, see Application Configuration Files.</span></span>

``` syntax
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<configuration>
 <windows>
  <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
   <assemblyIdentity  processorArchitecture="X86" name="Microsoft.Windows.mysampleApp" type="win32" version="1.0.0.0"/>
   <publisherPolicy apply="no"/>                     
   <dependentAssembly>
    <assemblyIdentity type="win32" processorArchitecture="x86" name="Microsoft.Windows.SampleAssembly" publicKeyToken="0000000000000000"/>
    <bindingRedirect oldVersion="2.0.0.0" newVersion="2.0.1.0"/>
   </dependentAssembly>
  </assemblyBinding>
 </windows>
</configuration>
```

<span data-ttu-id="a830f-129">L’administrateur de l’application doit ajouter les entrées requises à la base de données de compatibilité des applications.</span><span class="sxs-lookup"><span data-stu-id="a830f-129">The application administrator should add the required entries to the Application Compatibility database.</span></span> <span data-ttu-id="a830f-130">Téléchargez et installez Windows Application Compatibility Toolkit 2,6 à partir de [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/) .</span><span class="sxs-lookup"><span data-stu-id="a830f-130">Download and install the Windows Application Compatibility Toolkit 2.6 from [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/).</span></span> <span data-ttu-id="a830f-131">Créez un nouveau personnalisé ou mettez à jour votre base de données existante à l’aide de l’administrateur de compatibilité, comme indiqué dans la boîte à outils.</span><span class="sxs-lookup"><span data-stu-id="a830f-131">Create a new custom or update your existing database using the Compatibility Administrator as outlined in the toolkit.</span></span> <span data-ttu-id="a830f-132">Le correctif de compatibilité que vous souhaitez choisir pour la couche de compatibilité pour votre application est EnableAppConfig.</span><span class="sxs-lookup"><span data-stu-id="a830f-132">The Compatibility Fix you want to choose for the compatibility layer for your application is EnableAppConfig.</span></span> <span data-ttu-id="a830f-133">Vous devez toujours tester les applications avant d’installer une nouvelle base de données de compatibilité.</span><span class="sxs-lookup"><span data-stu-id="a830f-133">You must always test applications before installing a new compatibility database.</span></span>

 

 



