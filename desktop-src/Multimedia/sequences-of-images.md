---
title: Séquences d’images
description: Séquences d’images
ms.assetid: fbfb944c-a927-4c92-b3d6-2f8c278408e6
keywords:
- DrawDib, séquences d’images
- DrawDib, séquence de bitmaps
- DrawDibDraw fonction)
- DrawDibBegin fonction)
- DrawDibEnd fonction)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2a7ae2c85d62e93e4149518221aa520eabe13ee2
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/19/2020
ms.locfileid: "106513714"
---
# <a name="sequences-of-images"></a><span data-ttu-id="d680e-108">Séquences d’images</span><span class="sxs-lookup"><span data-stu-id="d680e-108">Sequences of Images</span></span>

<span data-ttu-id="d680e-109">Vous pouvez afficher une séquence de bitmaps avec les mêmes dimensions et formats à l’aide de la fonction [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) avec la fonction [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) .</span><span class="sxs-lookup"><span data-stu-id="d680e-109">You can display a sequence of bitmaps with the same dimensions and formats by using the [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) function with the [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) function.</span></span> <span data-ttu-id="d680e-110">**DrawDibBegin** améliore l’efficacité de **DrawDibDraw** en préparant le contrôleur de l’DrawDib pour le dessin.</span><span class="sxs-lookup"><span data-stu-id="d680e-110">**DrawDibBegin** improves the efficiency of **DrawDibDraw** by preparing the DrawDib DC for drawing.</span></span>

> [!Note]  
> <span data-ttu-id="d680e-111">Si votre application n’utilise pas [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin), [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) l’exécute implicitement avant le dessin.</span><span class="sxs-lookup"><span data-stu-id="d680e-111">If your application does not use [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin), [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) implicitly executes it prior to drawing.</span></span> <span data-ttu-id="d680e-112">Si votre application utilise **DrawDibBegin** avant **DrawDibDraw**, **DrawDibDraw** n’a pas besoin de traiter la fonction et d’attendre qu’elle se termine.</span><span class="sxs-lookup"><span data-stu-id="d680e-112">If your application uses **DrawDibBegin** prior to **DrawDibDraw**, **DrawDibDraw** does not have to process the function and wait for it to complete.</span></span>

 

<span data-ttu-id="d680e-113">La fonction [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) fournit [**DRAWDIBDRAW**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) avec le DC drawdib, le handle DC, l’adresse de la structure [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) et les dimensions du rectangle source et de destination.</span><span class="sxs-lookup"><span data-stu-id="d680e-113">The [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) function provides [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) with the DrawDib DC, the DC handle, the address of the [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) structure, and the source and destination rectangle dimensions.</span></span> <span data-ttu-id="d680e-114">Lorsque vous affichez une séquence de bitmaps, **DrawDibDraw** vérifie les valeurs de ces éléments pour chaque image de la séquence.</span><span class="sxs-lookup"><span data-stu-id="d680e-114">When you display a sequence of bitmaps, **DrawDibDraw** checks the values of these items for each image in the sequence.</span></span> <span data-ttu-id="d680e-115">Si **DrawDibDraw** détecte des modifications apportées à l’un de ces éléments, il appelle de nouveau **DrawDibBegin** de manière implicite pour ajuster les paramètres du contrôleur de service DrawDib.</span><span class="sxs-lookup"><span data-stu-id="d680e-115">If **DrawDibDraw** detects changes to any of these items, it implicitly calls **DrawDibBegin** again to adjust the DrawDib DC settings.</span></span>

<span data-ttu-id="d680e-116">Après avoir utilisé [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin), vous pouvez dessiner la séquence d’images à l’aide de [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) et en spécifiant un ou plusieurs indicateurs en fonction de vos besoins.</span><span class="sxs-lookup"><span data-stu-id="d680e-116">After using [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin), you can draw the image sequence by using [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) and specifying one or more flags as appropriate.</span></span> <span data-ttu-id="d680e-117">Spécifiez **le \_ même indicateur \_ HDC** tant que le handle de contrôleur de périphérique n’a pas changé.</span><span class="sxs-lookup"><span data-stu-id="d680e-117">Specify the **DDF\_SAME\_HDC** flag as long as the DC handle has not changed.</span></span> <span data-ttu-id="d680e-118">Spécifiez l' \_ \_ indicateur de dessin DDF, lorsque les paramètres suivants pour **DrawDibDraw** n’ont pas changé : l’adresse de la structure [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) et les dimensions du rectangle source et de destination.</span><span class="sxs-lookup"><span data-stu-id="d680e-118">Specify the DDF\_SAME\_DRAW flag when the following parameters for **DrawDibDraw** have not changed: the address of the [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) structure and the source and destination rectangle dimensions.</span></span>

<span data-ttu-id="d680e-119">Vous pouvez mettre à jour les indicateurs définis avec [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) à l’aide de la fonction [**DrawDibEnd**](/windows/desktop/api/Vfw/nf-vfw-drawdibend) suivie d’un autre appel à **DrawDibBegin**.</span><span class="sxs-lookup"><span data-stu-id="d680e-119">You can update the flags set with [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) by using the [**DrawDibEnd**](/windows/desktop/api/Vfw/nf-vfw-drawdibend) function followed by another call to **DrawDibBegin**.</span></span> <span data-ttu-id="d680e-120">Utilisez ensuite **DrawDibEnd** pour effacer le DC DrawDib des paramètres et indicateurs actuels.</span><span class="sxs-lookup"><span data-stu-id="d680e-120">Then use **DrawDibEnd** to clear the DrawDib DC of its current flags and settings.</span></span> <span data-ttu-id="d680e-121">L’appel suivant à **DrawDibBegin** réinitialise le contrôleur de périphérique DrawDib avec les indicateurs et paramètres appropriés.</span><span class="sxs-lookup"><span data-stu-id="d680e-121">The subsequent call to **DrawDibBegin** reinitializes the DrawDib DC with the appropriate flags and settings.</span></span> <span data-ttu-id="d680e-122">Vous pouvez également mettre à jour les indicateurs d’un contrôleur de DrawDib à l’aide de **DrawDibBegin** sans **DrawDibEnd**.</span><span class="sxs-lookup"><span data-stu-id="d680e-122">Alternatively, you can update the flags for a DrawDib DC by using **DrawDibBegin** without **DrawDibEnd**.</span></span> <span data-ttu-id="d680e-123">Pour ce faire, vous devez modifier au moins l’un des paramètres suivants simultanément avec les indicateurs : l’adresse de la structure [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) , ou les dimensions du rectangle source ou de destination.</span><span class="sxs-lookup"><span data-stu-id="d680e-123">To do this, you must change at least one of the following settings concurrently with the flags: the address of the [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) structure, or the source or destination rectangle dimensions.</span></span>

<span data-ttu-id="d680e-124">Vous pouvez augmenter l’efficacité de [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) pour les opérations de streaming de données qui utilisent des images compressées, telles que la lecture d’un clip vidéo, à l’aide des fonctions [**DrawDibStart**](/windows/desktop/api/Vfw/nf-vfw-drawdibstart) et [**DrawDibStop**](/windows/desktop/api/Vfw/nf-vfw-drawdibstop) .</span><span class="sxs-lookup"><span data-stu-id="d680e-124">You can increase the efficiency of [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) for data-streaming operations that use compressed images, such as playing a video clip, by using the [**DrawDibStart**](/windows/desktop/api/Vfw/nf-vfw-drawdibstart) and [**DrawDibStop**](/windows/desktop/api/Vfw/nf-vfw-drawdibstop) functions.</span></span> <span data-ttu-id="d680e-125">La fonction **DrawDibStart** prépare le DC DrawDib à recevoir un flux d’images en envoyant un message au gestionnaire de compression vidéo (VCM).</span><span class="sxs-lookup"><span data-stu-id="d680e-125">The **DrawDibStart** function prepares the DrawDib DC to receive a stream of images by sending a message to the video compression manager (VCM).</span></span> <span data-ttu-id="d680e-126">Une fois la diffusion en continu terminée, **DrawDibStop** envoie un message à VCM indiquant qu’il peut libérer les ressources qu’il a allouées pour l’opération de diffusion en continu des données.</span><span class="sxs-lookup"><span data-stu-id="d680e-126">When streaming has ended, **DrawDibStop** sends a message to VCM indicating that it can release resources it allocated for the data-streaming operation.</span></span> <span data-ttu-id="d680e-127">Pour plus d’informations sur VCM, consultez [Video Compression Manager](video-compression-manager.md).</span><span class="sxs-lookup"><span data-stu-id="d680e-127">For more information about VCM, see [Video Compression Manager](video-compression-manager.md).</span></span>

> [!Note]  
> <span data-ttu-id="d680e-128">Vous devez spécifier la largeur et la hauteur des rectangles sources et de destination dans votre application.</span><span class="sxs-lookup"><span data-stu-id="d680e-128">You must specify the width and height of the source and destination rectangles in your application.</span></span> <span data-ttu-id="d680e-129">Toutefois, vous n’avez pas besoin de spécifier les origines des rectangles.</span><span class="sxs-lookup"><span data-stu-id="d680e-129">However, you do not need to specify the origins of the rectangles.</span></span> <span data-ttu-id="d680e-130">Votre application peut redéfinir les origines dans [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) pour utiliser différentes parties de l’image ou pour mettre à jour différentes parties de l’affichage.</span><span class="sxs-lookup"><span data-stu-id="d680e-130">Your application can redefine the origins in [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) to use different portions of the image or to update different portions of the display.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="d680e-131">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="d680e-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d680e-132">Rendu d’image</span><span class="sxs-lookup"><span data-stu-id="d680e-132">Image Rendering</span></span>](image-rendering.md)
</dt> </dl>

 

 