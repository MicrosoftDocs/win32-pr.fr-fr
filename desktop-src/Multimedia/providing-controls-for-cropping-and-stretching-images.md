---
title: Fournir des contrôles pour rogner et étirer des images
description: Fournir des contrôles pour rogner et étirer des images
ms.assetid: cc62d70d-3f5f-477c-bc09-ab8ab0a9dce3
keywords:
- MCIWndGetSource macro)
- MCIWndPutSource macro)
- MCIWndGetDest macro)
- MCIWndPutDest macro)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9cd0889b40204e7c99ec782e454dba2cdeebfe79
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/19/2020
ms.locfileid: "103724812"
---
# <a name="providing-controls-for-cropping-and-stretching-images"></a><span data-ttu-id="63366-107">Fournir des contrôles pour rogner et étirer des images</span><span class="sxs-lookup"><span data-stu-id="63366-107">Providing Controls for Cropping and Stretching Images</span></span>

<span data-ttu-id="63366-108">MCIWnd vous permet de rogner et d’étirer des images d’un clip vidéo.</span><span class="sxs-lookup"><span data-stu-id="63366-108">MCIWnd allows you to crop and stretch images of a video clip.</span></span> <span data-ttu-id="63366-109">Pour comprendre ces fonctionnalités, vous devez comprendre les relations entre la *taille de trame*, le *rectangle source*, le *rectangle de destination* et la *zone de lecture*.</span><span class="sxs-lookup"><span data-stu-id="63366-109">To understand these features, you need to understand the relationships between *frame size*, *source rectangle*, *destination rectangle*, and *playback area*.</span></span>

<span data-ttu-id="63366-110">Un clip vidéo est constitué de plusieurs images, chacune contenant une image.</span><span class="sxs-lookup"><span data-stu-id="63366-110">A video clip consists of several frames, each containing one image.</span></span> <span data-ttu-id="63366-111">La taille de cadre d’un clip vidéo correspond à la taille de l’image dans le frame actuel.</span><span class="sxs-lookup"><span data-stu-id="63366-111">The frame size of a video clip is the size of the image in the current frame.</span></span> <span data-ttu-id="63366-112">En règle générale, un clip vidéo a une taille de trame, car toutes les images du clip ont la même taille.</span><span class="sxs-lookup"><span data-stu-id="63366-112">Typically, a video clip has one frame size because all the images in the clip are the same size.</span></span>

<span data-ttu-id="63366-113">Le rectangle source est une zone rectangulaire qui recouvre les images d’un clip vidéo.</span><span class="sxs-lookup"><span data-stu-id="63366-113">The source rectangle is a rectangular area that overlays the frames of a video clip.</span></span> <span data-ttu-id="63366-114">Le rectangle source définit la partie de chaque frame affichée lors de la lecture.</span><span class="sxs-lookup"><span data-stu-id="63366-114">The source rectangle defines the portion of each frame that is displayed during playback.</span></span> <span data-ttu-id="63366-115">Lorsqu’un clip vidéo est chargé avec MCIWnd, le rectangle source est initialisé avec les mêmes dimensions et la même position que le cadre initial du clip vidéo.</span><span class="sxs-lookup"><span data-stu-id="63366-115">When a video clip is loaded with MCIWnd, the source rectangle is initialized with the same dimensions and position as the initial frame of the video clip.</span></span>

<span data-ttu-id="63366-116">Le rectangle de destination est une zone rectangulaire qui définit une fenêtre de lecture virtuelle.</span><span class="sxs-lookup"><span data-stu-id="63366-116">The destination rectangle is a rectangular area that defines a virtual playback window.</span></span> <span data-ttu-id="63366-117">Le rectangle de destination reçoit les données de l’image du rectangle source pour chaque image du clip vidéo.</span><span class="sxs-lookup"><span data-stu-id="63366-117">The destination rectangle receives the image data from the source rectangle for each frame of the video clip.</span></span> <span data-ttu-id="63366-118">Lorsque les dimensions du rectangle source et de destination sont différentes, MCIWnd ajuste les données de l’image horizontalement et verticalement en fonction des besoins pour remplir le rectangle de destination.</span><span class="sxs-lookup"><span data-stu-id="63366-118">When the source and destination rectangle dimensions are different, MCIWnd adjusts the image data horizontally and vertically as needed to fill the destination rectangle.</span></span> <span data-ttu-id="63366-119">Lorsqu’un clip vidéo est chargé avec MCIWnd, le rectangle de destination est initialisé avec les mêmes dimensions et la même position que le cadre initial du clip vidéo.</span><span class="sxs-lookup"><span data-stu-id="63366-119">When a video clip is loaded with MCIWnd, the destination rectangle is initialized with the same dimensions and position as the initial frame of the video clip.</span></span>

<span data-ttu-id="63366-120">La zone de lecture est la partie d’une fenêtre MCIWnd utilisée par une application pour afficher le clip vidéo.</span><span class="sxs-lookup"><span data-stu-id="63366-120">The playback area is the portion of an MCIWnd window an application uses to display the video clip.</span></span> <span data-ttu-id="63366-121">La zone de lecture est la zone cliente d’une fenêtre MCIWnd ou la partie de la zone client qui exclut la barre d’outils MCIWnd.</span><span class="sxs-lookup"><span data-stu-id="63366-121">The playback area is the client area of an MCIWnd window or the portion of the client area that excludes the MCIWnd toolbar.</span></span> <span data-ttu-id="63366-122">Quand un clip vidéo est chargé avec MCIWnd, la zone de lecture est initialisée avec les mêmes dimensions et la même position que le cadre initial du clip vidéo.</span><span class="sxs-lookup"><span data-stu-id="63366-122">When a video clip is loaded with MCIWnd, the playback area is initialized with the same dimensions and position as the initial frame of the video clip.</span></span>

<span data-ttu-id="63366-123">Vous pouvez rogner un clip vidéo à l’aide des macros [**MCIWndGetSource**](/windows/desktop/api/Vfw/nf-vfw-mciwndgetsource) et [**MCIWndPutSource**](/windows/desktop/api/Vfw/nf-vfw-mciwndputsource) pour modifier le rectangle source.</span><span class="sxs-lookup"><span data-stu-id="63366-123">You can crop a video clip by using the [**MCIWndGetSource**](/windows/desktop/api/Vfw/nf-vfw-mciwndgetsource) and [**MCIWndPutSource**](/windows/desktop/api/Vfw/nf-vfw-mciwndputsource) macros to alter the source rectangle.</span></span> <span data-ttu-id="63366-124">Le rognage d’une image détermine uniquement quelle partie des images sont affichées pendant la lecture ; elle ne modifie pas le contenu du fichier en cours de lecture.</span><span class="sxs-lookup"><span data-stu-id="63366-124">Cropping an image determines only which portion of the frames are displayed during playback; it does not alter the content of the file being played.</span></span> <span data-ttu-id="63366-125">Avant de rogner une image, vous pouvez récupérer la taille actuelle du rectangle source à l’aide de **MCIWndGetSource**.</span><span class="sxs-lookup"><span data-stu-id="63366-125">Before you crop an image, you can retrieve the current size of the source rectangle by using **MCIWndGetSource**.</span></span> <span data-ttu-id="63366-126">Une fois la nouvelle taille et l’emplacement du rectangle source calculés, vous pouvez définir les limites de rognage du rectangle source à l’aide de **MCIWndPutSource**.</span><span class="sxs-lookup"><span data-stu-id="63366-126">After the new size and location of the source rectangle are calculated, you can set the cropping boundaries of the source rectangle by using **MCIWndPutSource**.</span></span>

<span data-ttu-id="63366-127">Vous pouvez étirer un clip vidéo à l’aide des macros [**MCIWndGetDest**](/windows/desktop/api/Vfw/nf-vfw-mciwndgetdest) et [**MCIWndPutDest**](/windows/desktop/api/Vfw/nf-vfw-mciwndputdest) pour modifier le rectangle de destination.</span><span class="sxs-lookup"><span data-stu-id="63366-127">You can stretch a video clip by using the [**MCIWndGetDest**](/windows/desktop/api/Vfw/nf-vfw-mciwndgetdest) and [**MCIWndPutDest**](/windows/desktop/api/Vfw/nf-vfw-mciwndputdest) macros to alter the destination rectangle.</span></span> <span data-ttu-id="63366-128">Lorsque vous étirez un clip vidéo, vous augmentez ou réduisez la taille de cadre d’un clip vidéo verticalement, horizontalement ou dans les deux sens.</span><span class="sxs-lookup"><span data-stu-id="63366-128">When you stretch a video clip, you lengthen or shorten the frame size of a video clip vertically, horizontally, or in both directions.</span></span> <span data-ttu-id="63366-129">Avant d’étirer une image, vous pouvez récupérer la taille et l’emplacement actuels du rectangle de destination à l’aide de **MCIWndGetDest**.</span><span class="sxs-lookup"><span data-stu-id="63366-129">Before you stretch an image, you can retrieve the current size and location of the destination rectangle by using **MCIWndGetDest**.</span></span> <span data-ttu-id="63366-130">La macro **MCIWndPutDest** vous permet de redéfinir le rectangle de destination.</span><span class="sxs-lookup"><span data-stu-id="63366-130">The **MCIWndPutDest** macro allows you to redefine the destination rectangle.</span></span> <span data-ttu-id="63366-131">L’étirement peut déformer l’image pendant la lecture, mais elle ne modifie pas le contenu du fichier en cours de lecture.</span><span class="sxs-lookup"><span data-stu-id="63366-131">Stretching can distort the image during playback, but it does not alter the content of the file being played.</span></span>

<span data-ttu-id="63366-132">Si la taille du rectangle de destination devient supérieure à celle de la zone de lecture, vous pouvez spécifier la partie de la zone de lecture qui affichera le clip vidéo à l’aide de **MCIWndPutDest**.</span><span class="sxs-lookup"><span data-stu-id="63366-132">If the size of the destination rectangle becomes larger than the playback area, you can specify which portion of the playback area will display the video clip by using **MCIWndPutDest**.</span></span>

> [!Note]  
> <span data-ttu-id="63366-133">La macro [**MCIWndPutDest**](/windows/desktop/api/Vfw/nf-vfw-mciwndputdest) ne modifie pas la taille de la zone de lecture.</span><span class="sxs-lookup"><span data-stu-id="63366-133">The [**MCIWndPutDest**](/windows/desktop/api/Vfw/nf-vfw-mciwndputdest) macro does not change the size of the playback area.</span></span> <span data-ttu-id="63366-134">Pour étirer la fenêtre MCIWnd en même temps que le rectangle de destination, vous devez connaître la taille actuelle de la fenêtre MCIWnd et émettre de nouvelles dimensions de fenêtre en fonction du rectangle de destination.</span><span class="sxs-lookup"><span data-stu-id="63366-134">To stretch the MCIWnd window along with the destination rectangle, you need to know the current size of the MCIWnd window and issue new window dimensions based on the destination rectangle.</span></span> <span data-ttu-id="63366-135">Vous pouvez récupérer les dimensions de la fenêtre MCIWnd à l’aide de la fonction [GetWindowRect](/windows/win32/api/winuser/nf-winuser-getwindowrect) et redimensionner la fenêtre MCIWnd à l’aide de la fonction [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) .</span><span class="sxs-lookup"><span data-stu-id="63366-135">You can retrieve the MCIWnd window dimensions by using the [GetWindowRect](/windows/win32/api/winuser/nf-winuser-getwindowrect) function and resize the MCIWnd window by using the [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) function.</span></span>

 

 

 