---
title: Positionner dans les flux
description: Positionner dans les flux
ms.assetid: 97ab491d-1a58-4b4b-a13a-215be24dac1c
keywords:
- AVIStreamStart fonction)
- AVIStreamFindSample fonction)
- AVIStreamSampleToTime fonction)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5252aa938d32c323da9fcf7ae106d11db0ff2fb4
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "103672777"
---
# <a name="positioning-in-streams"></a><span data-ttu-id="ea9de-106">Positionner dans les flux</span><span class="sxs-lookup"><span data-stu-id="ea9de-106">Positioning in Streams</span></span>

<span data-ttu-id="ea9de-107">AVIFile offre plusieurs moyens de rechercher et de déplacer vers une position dans un flux de données.</span><span class="sxs-lookup"><span data-stu-id="ea9de-107">AVIFile provides several ways to locate and move to a position in a data stream.</span></span> <span data-ttu-id="ea9de-108">Les fonctions et les macros de cette section permettent à votre application de rechercher la position de départ, la longueur et les images clés (contenant une image complète dans l’exemple) dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-108">The functions and macros in this section let your application find the starting position, length, and key frames (containing a complete image in the sample) within a stream.</span></span> <span data-ttu-id="ea9de-109">Les fonctions et les macros associent également le temps à des positions dans un flux en calculant le temps écoulé nécessaire pour lire un flux de son début à n’importe quel point dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-109">The functions and macros also associate time with positions in a stream by calculating the elapsed time needed to play a stream from its beginning to any point in a stream.</span></span>

## <a name="finding-the-starting-position"></a><span data-ttu-id="ea9de-110">Recherche de la position de départ</span><span class="sxs-lookup"><span data-stu-id="ea9de-110">Finding the Starting Position</span></span>

<span data-ttu-id="ea9de-111">Vous pouvez récupérer le numéro de l’échantillon de la première image d’un flux vidéo à l’aide de la fonction [**AVIStreamStart**](/windows/desktop/api/Vfw/nf-vfw-avistreamstart) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-111">You can retrieve the sample number of the first frame in a video stream by using the [**AVIStreamStart**](/windows/desktop/api/Vfw/nf-vfw-avistreamstart) function.</span></span> <span data-ttu-id="ea9de-112">(Les frames d’un film peuvent commencer par l’exemple 0 ou 1, selon la préférence de l’auteur.) Vous pouvez également obtenir ces informations à l’aide de la fonction [**AVIStreamInfo**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-112">(The frames of a movie might start at sample 0 or 1, depending on the preference of the author.) You can also obtain this information by using the [**AVIStreamInfo**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) function.</span></span> <span data-ttu-id="ea9de-113">Cette fonction stocke le nombre d’échantillons dans le membre **dwStart** de la structure [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-113">This function stores the sample number in the **dwStart** member of the [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) structure.</span></span> <span data-ttu-id="ea9de-114">Vous pouvez récupérer l’heure de début du premier échantillon d’un flux à l’aide de la macro [**AVIStreamStartTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamstarttime) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-114">You can retrieve the starting time of a stream's first sample by using the [**AVIStreamStartTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamstarttime) macro.</span></span>

<span data-ttu-id="ea9de-115">Vous pouvez récupérer la longueur du flux à l’aide de la fonction [**AVIStreamLength**](/windows/desktop/api/Vfw/nf-vfw-avistreamlength) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-115">You can retrieve the stream length by using the [**AVIStreamLength**](/windows/desktop/api/Vfw/nf-vfw-avistreamlength) function.</span></span> <span data-ttu-id="ea9de-116">Cette fonction retourne le nombre d’échantillons dans le flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-116">This function returns the number of samples in the stream.</span></span> <span data-ttu-id="ea9de-117">Vous pouvez également obtenir ces informations à l’aide de la fonction **AVIStreamInfo** .</span><span class="sxs-lookup"><span data-stu-id="ea9de-117">You can also obtain this information by using the **AVIStreamInfo** function.</span></span> <span data-ttu-id="ea9de-118">Cette fonction stocke la longueur du flux dans le membre **dwLength** de la structure **AVISTREAMINFO** .</span><span class="sxs-lookup"><span data-stu-id="ea9de-118">This function stores the stream length in the **dwLength** member of the **AVISTREAMINFO** structure.</span></span> <span data-ttu-id="ea9de-119">Pour récupérer la longueur d’un flux en millisecondes, utilisez la macro [**AVIStreamLengthTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamlengthtime) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-119">To retrieve the length of a stream in milliseconds, use the [**AVIStreamLengthTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamlengthtime) macro.</span></span>

<span data-ttu-id="ea9de-120">Dans un flux vidéo, chaque échantillon correspond généralement à une image de la vidéo.</span><span class="sxs-lookup"><span data-stu-id="ea9de-120">In a video stream, each sample generally corresponds to a frame of video.</span></span> <span data-ttu-id="ea9de-121">Toutefois, il peut y avoir des exemples pour lesquels aucune donnée vidéo n’est présente.</span><span class="sxs-lookup"><span data-stu-id="ea9de-121">There might, however, be samples for which no video data is present.</span></span> <span data-ttu-id="ea9de-122">Si vous appelez la fonction [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) en spécifiant l’une de ces positions, elle retourne une longueur de données de 0 octet.</span><span class="sxs-lookup"><span data-stu-id="ea9de-122">If you call the [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) function specifying one of those positions, it returns a data length of 0 bytes.</span></span> <span data-ttu-id="ea9de-123">Vous pouvez trouver des exemples qui contiennent des données à l’aide de la fonction [**AVIStreamFindSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamfindsample) et en spécifiant l’indicateur de recherche \_ .</span><span class="sxs-lookup"><span data-stu-id="ea9de-123">You can find samples that contain data by using the [**AVIStreamFindSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamfindsample) function and specifying the FIND\_ANY flag.</span></span>

<span data-ttu-id="ea9de-124">Dans un flux audio, chaque exemple correspond à un bloc de données de données audio.</span><span class="sxs-lookup"><span data-stu-id="ea9de-124">In an audio stream, each sample corresponds to one data block of audio data.</span></span> <span data-ttu-id="ea9de-125">Par exemple, si les données audio ont un format 22 kHz ADPCM (modulation différentielle par impulsion de code), chaque échantillon pour **AVIStreamLength** correspond à un bloc de 256 octets de données audio compressées.</span><span class="sxs-lookup"><span data-stu-id="ea9de-125">For example, if the audio data has a 22 kHz ADPCM (Adaptive Differential Pulse Code Modulation) format, each sample for **AVIStreamLength** corresponds to a block of 256 bytes of compressed audio data.</span></span> <span data-ttu-id="ea9de-126">Ce bloc de données audio contient environ 500 échantillons audio lors de la décompression.</span><span class="sxs-lookup"><span data-stu-id="ea9de-126">This block of audio data contains approximately 500 audio samples when uncompressed.</span></span> <span data-ttu-id="ea9de-127">Toutefois, les fonctions et les macros de AVIFile traitent chaque bloc de 256 octets comme un seul échantillon.</span><span class="sxs-lookup"><span data-stu-id="ea9de-127">The functions and macros of AVIFile, however, treat each 256-byte block as a single sample.</span></span>

> [!Note]  
> <span data-ttu-id="ea9de-128">Positions valides dans une plage de flux depuis le début jusqu’à la fin du flux, qui est la somme du point de départ du flux et de sa longueur.</span><span class="sxs-lookup"><span data-stu-id="ea9de-128">Valid positions within a stream range from the beginning to the end of the stream, which is the sum of the stream starting point and its length.</span></span> <span data-ttu-id="ea9de-129">La position représentée par la somme de la position de départ et de la longueur correspond à une heure après le rendu des dernières données ; il ne contient aucune donnée.</span><span class="sxs-lookup"><span data-stu-id="ea9de-129">The position represented by the sum of the starting position and the length corresponds to a time after the last data has been rendered; it does not contain any data.</span></span> <span data-ttu-id="ea9de-130">Vous pouvez récupérer l’exemple de numéro qui représente la fin du flux à l’aide de la macro [**AVIStreamEnd**](/windows/desktop/api/Vfw/nf-vfw-avistreamend) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-130">You can retrieve the sample number that represents the end of the stream by using the [**AVIStreamEnd**](/windows/desktop/api/Vfw/nf-vfw-avistreamend) macro.</span></span> <span data-ttu-id="ea9de-131">Vous pouvez récupérer la valeur de temps en millisecondes qui représente la fin du flux à l’aide de la macro [**AVIStreamEndTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamendtime) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-131">You can retrieve the time value in milliseconds that represents the end of the stream by using the [**AVIStreamEndTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamendtime) macro.</span></span>

 

## <a name="finding-sample-and-key-frames"></a><span data-ttu-id="ea9de-132">Recherche d’exemples et d’images clés</span><span class="sxs-lookup"><span data-stu-id="ea9de-132">Finding Sample and Key Frames</span></span>

<span data-ttu-id="ea9de-133">Vous pouvez rechercher différents types d’exemples dans un flux à l’aide de la fonction [**AVIStreamFindSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamfindsample) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-133">You can search for different types of samples in a stream by using the [**AVIStreamFindSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamfindsample) function.</span></span> <span data-ttu-id="ea9de-134">Cette fonction effectue une recherche vers l’arrière ou vers l’avant dans un flux pour obtenir un exemple du type approprié, en commençant par l’exemple de nombre que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="ea9de-134">This function searches backward or forward through a stream for a sample of the appropriate type, beginning with the sample number you specify.</span></span> <span data-ttu-id="ea9de-135">Vous pouvez rechercher différents types d’exemples dans un flux en spécifiant un indicateur dans la séquence d’appel **AVIStreamFindSample** .</span><span class="sxs-lookup"><span data-stu-id="ea9de-135">You can search for different types of samples in a stream by specifying a flag in the **AVIStreamFindSample** calling sequence.</span></span> <span data-ttu-id="ea9de-136">Spécifiez l' \_ indicateur de recherche pour localiser les exemples non vides ou pour ignorer les exemples qui n’ont pas de données.</span><span class="sxs-lookup"><span data-stu-id="ea9de-136">Specify the FIND\_ANY flag to locate nonempty samples or to skip samples that lack data.</span></span> <span data-ttu-id="ea9de-137">Spécifiez l' \_ indicateur de recherche de clé pour rechercher les images clés qui contiennent les données pour afficher une image complète sans avoir à référencer des frames précédents.</span><span class="sxs-lookup"><span data-stu-id="ea9de-137">Specify the FIND\_KEY flag to search for key frames that contain the data to render a complete image without needing to reference previous frames.</span></span> <span data-ttu-id="ea9de-138">Spécifiez l' \_ indicateur de format de recherche pour rechercher les modifications apportées au format.</span><span class="sxs-lookup"><span data-stu-id="ea9de-138">Specify the FIND\_FORMAT flag to search for changes to the format.</span></span> <span data-ttu-id="ea9de-139">**AVIStreamFindSample** est principalement utilisé avec les flux vidéo.</span><span class="sxs-lookup"><span data-stu-id="ea9de-139">**AVIStreamFindSample** is used mainly with video streams.</span></span>

<span data-ttu-id="ea9de-140">Plusieurs macros qui utilisent des fonctions AVIFile complètent les fonctionnalités de recherche de flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-140">Several macros that use AVIFile functions supplement the stream search features.</span></span> <span data-ttu-id="ea9de-141">La liste suivante fournit une brève description de chaque macro.</span><span class="sxs-lookup"><span data-stu-id="ea9de-141">The following list provides a brief description of each macro.</span></span> <span data-ttu-id="ea9de-142">Les macros qui recherchent une position ou un type de données spécifique nécessitent la spécification d’un emplacement de départ dans le flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-142">The macros that search for a specific position or type of data require a starting location to be specified in the stream.</span></span>



| <span data-ttu-id="ea9de-143">Macro</span><span class="sxs-lookup"><span data-stu-id="ea9de-143">Macro</span></span>                                                                | <span data-ttu-id="ea9de-144">Description</span><span class="sxs-lookup"><span data-stu-id="ea9de-144">Description</span></span>                                                                                                                 |
|----------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="ea9de-145">**AVIStreamIsKeyFrame**</span><span class="sxs-lookup"><span data-stu-id="ea9de-145">**AVIStreamIsKeyFrame**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamiskeyframe)                   | <span data-ttu-id="ea9de-146">Indique si un exemple dans un flux spécifié est une image clé.</span><span class="sxs-lookup"><span data-stu-id="ea9de-146">Indicates whether a sample in a specified stream is a key frame.</span></span>                                                            |
| [<span data-ttu-id="ea9de-147">**AVIStreamNearestKeyFrame**</span><span class="sxs-lookup"><span data-stu-id="ea9de-147">**AVIStreamNearestKeyFrame**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnearestkeyframe)         | <span data-ttu-id="ea9de-148">Localise l’image clé au niveau ou au-dessus d’une position spécifiée dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-148">Locates the key frame at or preceding a specified position in a stream.</span></span>                                                     |
| [<span data-ttu-id="ea9de-149">**AVIStreamNearestKeyFrameTime**</span><span class="sxs-lookup"><span data-stu-id="ea9de-149">**AVIStreamNearestKeyFrameTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnearestkeyframetime) | <span data-ttu-id="ea9de-150">Détermine l’heure correspondant au début de l’image clé la plus proche (au plus près) à une heure spécifiée dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-150">Determines the time corresponding to the beginning of the key frame nearest (at or preceding) a specified time in a stream.</span></span> |
| [<span data-ttu-id="ea9de-151">**AVIStreamNearestSample**</span><span class="sxs-lookup"><span data-stu-id="ea9de-151">**AVIStreamNearestSample**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnearestsample)             | <span data-ttu-id="ea9de-152">Localise l’exemple non vide le plus proche à la position spécifiée ou avant dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-152">Locates the nearest nonempty sample at or preceding a specified position in a stream.</span></span>                                       |
| [<span data-ttu-id="ea9de-153">**AVIStreamNearestSampleTime**</span><span class="sxs-lookup"><span data-stu-id="ea9de-153">**AVIStreamNearestSampleTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnearestsampletime)     | <span data-ttu-id="ea9de-154">Détermine l’heure correspondant au début d’un échantillon le plus proche d’une heure spécifiée dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-154">Determines the time corresponding to the beginning of a sample that is nearest to a specified time in a stream.</span></span>             |
| [<span data-ttu-id="ea9de-155">**AVIStreamNextKeyFrame**</span><span class="sxs-lookup"><span data-stu-id="ea9de-155">**AVIStreamNextKeyFrame**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnextkeyframe)               | <span data-ttu-id="ea9de-156">Localise l’image clé suivante à la suite d’une position spécifiée dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-156">Locates the next key frame following a specified position in a stream.</span></span>                                                      |
| [<span data-ttu-id="ea9de-157">**AVIStreamNextKeyFrameTime**</span><span class="sxs-lookup"><span data-stu-id="ea9de-157">**AVIStreamNextKeyFrameTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnextkeyframetime)       | <span data-ttu-id="ea9de-158">Retourne l’heure de l’image clé suivante dans un flux, en commençant à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="ea9de-158">Returns the time of the next key frame in a stream, starting at a given time.</span></span>                                               |
| [<span data-ttu-id="ea9de-159">**AVIStreamNextSample**</span><span class="sxs-lookup"><span data-stu-id="ea9de-159">**AVIStreamNextSample**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnextsample)                   | <span data-ttu-id="ea9de-160">Localise l’exemple non vide suivant à partir d’une position spécifiée dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-160">Locates the next nonempty sample from a specified position in a stream.</span></span>                                                     |
| [<span data-ttu-id="ea9de-161">**AVIStreamNextSampleTime**</span><span class="sxs-lookup"><span data-stu-id="ea9de-161">**AVIStreamNextSampleTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnextsampletime)           | <span data-ttu-id="ea9de-162">Retourne l’heure à laquelle un exemple passe à l’exemple suivant dans le flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-162">Returns the time that a sample changes to the next sample in the stream.</span></span>                                                    |
| [<span data-ttu-id="ea9de-163">**AVIStreamPrevKeyFrame**</span><span class="sxs-lookup"><span data-stu-id="ea9de-163">**AVIStreamPrevKeyFrame**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamprevkeyframe)               | <span data-ttu-id="ea9de-164">Localise l’image clé qui précède une position spécifiée dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-164">Locates the key frame that precedes a specified position in a stream.</span></span>                                                       |
| [<span data-ttu-id="ea9de-165">**AVIStreamPrevKeyFrameTime**</span><span class="sxs-lookup"><span data-stu-id="ea9de-165">**AVIStreamPrevKeyFrameTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamprevkeyframetime)       | <span data-ttu-id="ea9de-166">Retourne l’heure de l’image clé précédente dans le flux, en commençant à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="ea9de-166">Returns the time of the previous key frame in the stream, starting at a given time.</span></span>                                         |
| [<span data-ttu-id="ea9de-167">**AVIStreamPrevSample**</span><span class="sxs-lookup"><span data-stu-id="ea9de-167">**AVIStreamPrevSample**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamprevsample)                   | <span data-ttu-id="ea9de-168">Localise l’exemple non vide qui précède une position spécifiée dans un flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-168">Locates the nonempty sample that precedes a specified position in a stream.</span></span>                                                 |
| [<span data-ttu-id="ea9de-169">**AVIStreamPrevSampleTime**</span><span class="sxs-lookup"><span data-stu-id="ea9de-169">**AVIStreamPrevSampleTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamprevsampletime)           | <span data-ttu-id="ea9de-170">Détermine l’heure à laquelle l’exemple précédent remplace son prédécesseur dans le flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-170">Determines the time at which the previous sample replaces its predecessor in the stream.</span></span>                                    |
| [<span data-ttu-id="ea9de-171">**AVIStreamSampleToSample**</span><span class="sxs-lookup"><span data-stu-id="ea9de-171">**AVIStreamSampleToSample**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamsampletosample)           | <span data-ttu-id="ea9de-172">Retourne l’exemple dans un flux qui se produit en même temps qu’un exemple qui se produit dans un deuxième flux.</span><span class="sxs-lookup"><span data-stu-id="ea9de-172">Returns the sample in a stream that occurs at the same time as a sample that occurs in a second stream.</span></span>                     |



 

## <a name="switching-between-samples-and-time"></a><span data-ttu-id="ea9de-173">Basculement entre les exemples et l’heure</span><span class="sxs-lookup"><span data-stu-id="ea9de-173">Switching Between Samples and Time</span></span>

<span data-ttu-id="ea9de-174">Vous pouvez déterminer le temps écoulé entre le début d’un flux et un exemple à l’aide de la fonction [**AVIStreamSampleToTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamsampletotime) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-174">You can determine the elapsed time from the beginning of a stream to a sample using the [**AVIStreamSampleToTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamsampletotime) function.</span></span> <span data-ttu-id="ea9de-175">Cette fonction convertit l’échantillon de nombre en une valeur d’heure exprimée en millisecondes.</span><span class="sxs-lookup"><span data-stu-id="ea9de-175">This function converts the sample number to a time value expressed in milliseconds.</span></span> <span data-ttu-id="ea9de-176">Pour une image vidéo (qui s’étend sur plusieurs millisecondes), cette valeur représente l’heure de début de la lecture de l’échantillon depuis le début de la lecture et suppose que le clip vidéo est lu à la vitesse normale.</span><span class="sxs-lookup"><span data-stu-id="ea9de-176">For a video frame (which spans several milliseconds), this value represents the time the sample begins to play since playback began and assumes the video clip plays at normal speed.</span></span> <span data-ttu-id="ea9de-177">Dans le cas d’un exemple audio (qui a plusieurs échantillons en millisecondes), la valeur de temps correspond à l’heure à laquelle l’échantillon commence à jouer et suppose que le flux audio est lu à la vitesse normale.</span><span class="sxs-lookup"><span data-stu-id="ea9de-177">For an audio sample (which has several samples in a millisecond), the time value corresponds to the time at which the sample begins to play and assumes the audio stream plays at normal speed.</span></span>

<span data-ttu-id="ea9de-178">À l’inverse, vous pouvez trouver l’exemple de numéro associé à une valeur d’heure à l’aide de la fonction [**AVIStreamTimeToSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamtimetosample) .</span><span class="sxs-lookup"><span data-stu-id="ea9de-178">Conversely, you can find the sample number associated with a time value by using the [**AVIStreamTimeToSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamtimetosample) function.</span></span> <span data-ttu-id="ea9de-179">Cette fonction convertit la valeur de milliseconde en un nombre échantillon et suppose que le clip vidéo est lu à la vitesse normale.</span><span class="sxs-lookup"><span data-stu-id="ea9de-179">This function converts the millisecond value to a sample number and assumes the video clip plays at normal speed.</span></span>

<span data-ttu-id="ea9de-180">Étant donné que **AVIStreamSampleToTime** retourne l’heure de début de la lecture d’une image, la relation entre **AVIStreamSampleToTime** et **AVIStreamTimeToSample** n’est pas véritablement inverse.</span><span class="sxs-lookup"><span data-stu-id="ea9de-180">Because **AVIStreamSampleToTime** returns the time at which a frame begins to play, the relationship between **AVIStreamSampleToTime** and **AVIStreamTimeToSample** is not truly inverse.</span></span> <span data-ttu-id="ea9de-181">Elles déterminent la position dans un fichier plus acurately qu’elles ne déterminent l’heure.</span><span class="sxs-lookup"><span data-stu-id="ea9de-181">They determine the position in a file more acurately than they determine time.</span></span> <span data-ttu-id="ea9de-182">Par exemple, deux échantillons audio consécutifs peuvent être lus dans la même milliseconde.</span><span class="sxs-lookup"><span data-stu-id="ea9de-182">For example, two consecutive audio samples might both play in the same millisecond.</span></span> <span data-ttu-id="ea9de-183">L’utilisation de **AVIStreamSampleToTime** pour convertir les exemples de nombres donne des valeurs de temps identiques.</span><span class="sxs-lookup"><span data-stu-id="ea9de-183">Using **AVIStreamSampleToTime** to convert the sample numbers would result in identical time values.</span></span> <span data-ttu-id="ea9de-184">Si vous reconvertissez la valeur d’heure en un nombre d’échantillons à l’aide de **AVIStreamTimeToSample**, un seul échantillon est référencé.</span><span class="sxs-lookup"><span data-stu-id="ea9de-184">If you convert the time value back to a sample number by using **AVIStreamTimeToSample**, a single sample would be referenced.</span></span>

 

 




