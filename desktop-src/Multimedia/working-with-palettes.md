---
title: Utilisation des palettes
description: Utilisation des palettes
ms.assetid: 0ad0d78b-4c2c-499c-ad5e-8324b59e89fc
keywords:
- Message WM_CAP_PAL_PASTE
- capPalettePaste macro)
- Message WM_CAP_PAL_OPEN
- capPaletteOpen macro)
- Message WM_CAP_PAL_AUTOCREATE
- capPaletteAuto macro)
- Message WM_CAP_PAL_MANUALCREATE
- capPaletteManual macro)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f09cbbe3ffc8ea21d1ecf8545f036f5ba6dfb927
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "106510193"
---
# <a name="working-with-palettes"></a><span data-ttu-id="a7fa7-111">Utilisation des palettes</span><span class="sxs-lookup"><span data-stu-id="a7fa7-111">Working with Palettes</span></span>

<span data-ttu-id="a7fa7-112">Au départ, si le format de capture vidéo nécessite une palette, la fenêtre de capture utilise la palette fournie par le pilote de capture.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-112">Initially, if the video capture format requires a palette, the capture window uses the palette supplied by the capture driver.</span></span> <span data-ttu-id="a7fa7-113">Cette palette peut comporter des valeurs de nuances de gris pour la reproduction en noir et blanc, ou une large sélection de valeurs de couleur.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-113">This palette might consist of gray-scale values for black-and-white reproduction, or a broad selection of color values.</span></span> <span data-ttu-id="a7fa7-114">Vous pouvez récupérer une palette existante pour remplacer la palette par défaut à l’aide du message [**WM \_ capuchon \_ PAL \_ Paste**](wm-cap-pal-paste.md) ou [**WM \_ Cap \_ PAL \_ Open**](wm-cap-pal-open.md) (ou de la macro [**capPalettePaste**](/windows/desktop/api/Vfw/nf-vfw-cappalettepaste) ou [**capPaletteOpen**](/windows/desktop/api/Vfw/nf-vfw-cappaletteopen) ).</span><span class="sxs-lookup"><span data-stu-id="a7fa7-114">You can retrieve an existing palette to replace the default palette by using the [**WM\_CAP\_PAL\_PASTE**](wm-cap-pal-paste.md) or [**WM\_CAP\_PAL\_OPEN**](wm-cap-pal-open.md) message (or the [**capPalettePaste**](/windows/desktop/api/Vfw/nf-vfw-cappalettepaste) or [**capPaletteOpen**](/windows/desktop/api/Vfw/nf-vfw-cappaletteopen) macro).</span></span> <span data-ttu-id="a7fa7-115">Vous pouvez également créer une palette personnalisée pour remplacer la palette par défaut à l’aide du [**message WM \_ Cap \_ PAL \_ AutoCreate**](wm-cap-pal-autocreate.md) ou [**WM \_ Cap \_ PAL \_ MANUALCREATE**](wm-cap-pal-manualcreate.md) (ou la macro [**capPaletteAuto**](/windows/desktop/api/Vfw/nf-vfw-cappaletteauto) ou [**capPaletteManual**](/windows/desktop/api/Vfw/nf-vfw-cappalettemanual) ).</span><span class="sxs-lookup"><span data-stu-id="a7fa7-115">Alternatively, you can create a custom palette to replace the default palette by using the [**WM\_CAP\_PAL\_AUTOCREATE**](wm-cap-pal-autocreate.md) or [**WM\_CAP\_PAL\_MANUALCREATE**](wm-cap-pal-manualcreate.md) message (or the [**capPaletteAuto**](/windows/desktop/api/Vfw/nf-vfw-cappaletteauto) or [**capPaletteManual**](/windows/desktop/api/Vfw/nf-vfw-cappalettemanual) macro).</span></span> <span data-ttu-id="a7fa7-116">Une fois que vous avez remplacé la palette par défaut, la fenêtre de capture et le pilote utilisent la palette de remplacement jusqu’à ce que vous ayez créé ou ouvert une autre palette.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-116">After you replace the default palette, the capture window and driver use the replacement palette until you create or open another palette.</span></span>

<span data-ttu-id="a7fa7-117">Le \_ message WM Cap \_ PAL \_ AutoCreate ou WM \_ Cap \_ PAL \_ MANUALCREATE crée une palette optimisée basée sur l’entrée vidéo actuelle.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-117">The WM\_CAP\_PAL\_AUTOCREATE or WM\_CAP\_PAL\_MANUALCREATE message creates an optimized palette based on the current video input.</span></span> <span data-ttu-id="a7fa7-118">Cette palette personnalisée donne à une séquence vidéo la meilleure fidélité des couleurs, car elle est basée sur les couleurs qui existent dans la séquence.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-118">This custom palette gives a video sequence the best color fidelity because it is based on colors that exist in the sequence.</span></span> <span data-ttu-id="a7fa7-119">La fenêtre de capture crée un histogramme à trois dimensions des couleurs qu’il échantillonne.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-119">The capture window creates a three-dimensional histogram of the colors it samples.</span></span> <span data-ttu-id="a7fa7-120">Elle réduit le nombre de couleurs en examinant l’erreur absolue entre les couleurs adjacentes et en consolidant celles qui ont la plus petite valeur d’erreur.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-120">It reduces the number of colors by examining the absolute error between adjacent colors and consolidating those with the smallest error value.</span></span>

<span data-ttu-id="a7fa7-121">Lors de l’envoi de la \_ création automatique de WM Cap \_ PAL \_ , vous devez spécifier le nombre d’images pour AVICap à échantillonner et spécifier la taille de la palette de couleurs.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-121">When sending WM\_CAP\_PAL\_AUTOCREATE, you must specify the number of frames for AVICap to sample, and specify the size of the color palette.</span></span> <span data-ttu-id="a7fa7-122">Lorsque vous spécifiez le nombre de frames, incluez suffisamment d’images pour vous assurer que toutes les couleurs de la séquence sont échantillonnées.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-122">When specifying the number of frames, include enough frames to ensure that all colors in the sequence are sampled.</span></span>

<span data-ttu-id="a7fa7-123">Vous pouvez échantillonner le frame en cours à l’aide de WM \_ Cap \_ PAL \_ MANUALCREATE.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-123">You can sample the current frame by using WM\_CAP\_PAL\_MANUALCREATE.</span></span> <span data-ttu-id="a7fa7-124">En utilisant ce message avec plusieurs frames sélectionnés manuellement, vous pouvez créer une palette qui contient les couleurs que vous souhaitez voir apparaître dans la palette.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-124">By using this message with several manually selected frames, you can create a palette that contains the colors you want to appear in the palette.</span></span>

<span data-ttu-id="a7fa7-125">Une palette peut contenir jusqu’à 256 couleurs.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-125">A palette can contain up to 256 colors.</span></span> <span data-ttu-id="a7fa7-126">Si vous fusionnez des palettes ou si la séquence vidéo doit être affichée simultanément avec d’autres vidéos ou images, vous devez utiliser une plus petite sélection de couleurs pour que les couleurs de chaque image ou clip vidéo puissent coexister.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-126">If you merge palettes or if the video sequence is to be displayed simultaneously with other video or images, you should use a smaller color selection so that colors from each image or video clip can coexist.</span></span>

<span data-ttu-id="a7fa7-127">Pour enregistrer une nouvelle palette, utilisez le message [**WM \_ Cap \_ PAL \_ Save**](wm-cap-pal-save.md) (ou la macro [**capPaletteSave**](/windows/desktop/api/Vfw/nf-vfw-cappalettesave) ) et récupérez-la ultérieurement à l’aide du message [**WM \_ Cap \_ PAL \_ Open**](wm-cap-pal-open.md) .</span><span class="sxs-lookup"><span data-stu-id="a7fa7-127">You save a new palette by using the [**WM\_CAP\_PAL\_SAVE**](wm-cap-pal-save.md) message (or the [**capPaletteSave**](/windows/desktop/api/Vfw/nf-vfw-cappalettesave) macro) and later retrieve it by using the [**WM\_CAP\_PAL\_OPEN**](wm-cap-pal-open.md) message.</span></span> <span data-ttu-id="a7fa7-128">Vous pouvez enregistrer une palette pour le traitement postérieur de la palette ou pour une utilisation dans une autre application.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-128">You can save a palette for post-processing of the palette or for use in another application.</span></span>

<span data-ttu-id="a7fa7-129">Vous pouvez coller une palette du presse-papiers dans la fenêtre de capture à l’aide du message [**WM \_ Cap \_ PAL \_ Paste**](wm-cap-pal-paste.md) .</span><span class="sxs-lookup"><span data-stu-id="a7fa7-129">You can paste a palette from the clipboard into the capture window by using the [**WM\_CAP\_PAL\_PASTE**](wm-cap-pal-paste.md) message.</span></span> <span data-ttu-id="a7fa7-130">La fenêtre de capture transmet la palette au pilote de capture.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-130">The capture window passes the palette to the capture driver.</span></span> <span data-ttu-id="a7fa7-131">D’autres applications peuvent copier des palettes dans le presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-131">Other applications can copy palettes to the clipboard.</span></span> <span data-ttu-id="a7fa7-132">Vous pouvez également copier une palette dans le presse-papiers à l’aide du message [**WM \_ Cap \_ Edit \_ Copy**](wm-cap-edit-copy.md) (ou de la macro [**capEditCopy**](/windows/desktop/api/Vfw/nf-vfw-capeditcopy) ).</span><span class="sxs-lookup"><span data-stu-id="a7fa7-132">You can also copy a palette to the clipboard by using the [**WM\_CAP\_EDIT\_COPY**](wm-cap-edit-copy.md) message (or the [**capEditCopy**](/windows/desktop/api/Vfw/nf-vfw-capeditcopy) macro).</span></span> <span data-ttu-id="a7fa7-133">Ce message copie la mémoire tampon de l’image vidéo, y compris la palette, dans le presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="a7fa7-133">This message copies the video frame buffer, including the palette, onto the clipboard.</span></span>

 

 




