---
title: Enregistrement
description: Enregistrement
ms.assetid: 0026eb1d-5be1-4090-801b-f1c65c179f42
keywords:
- Commande MCI_RECORD
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4248b2d4bbdd984ad23a772f0adca04581afca1d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "106509173"
---
# <a name="recording"></a><span data-ttu-id="21423-104">Enregistrement</span><span class="sxs-lookup"><span data-stu-id="21423-104">Recording</span></span>

<span data-ttu-id="21423-105">La spécification MCI générale prend en charge l’enregistrement avec la vidéo numérique, le séquenceur MIDI, l’enregistreur vidéo-cassette (VCR) et les périphériques audio Waveform. Toutefois, seuls les appareils Wave-audio et VCR implémentent actuellement des fonctionnalités d’enregistrement.</span><span class="sxs-lookup"><span data-stu-id="21423-105">The general MCI specification supports recording with digital-video, MIDI sequencer, video-cassette recorder (VCR), and waveform-audio devices; however, only waveform-audio and VCR devices currently implement recording capabilities.</span></span> <span data-ttu-id="21423-106">Vous pouvez insérer ou remplacer des informations enregistrées dans un fichier ou un enregistrement existant dans un nouveau fichier.</span><span class="sxs-lookup"><span data-stu-id="21423-106">You can insert or overwrite recorded information into an existing file or record into a new file.</span></span> <span data-ttu-id="21423-107">Pour enregistrer un fichier existant, ouvrez un fichier et un périphérique audio Waveform comme vous le feriez normalement.</span><span class="sxs-lookup"><span data-stu-id="21423-107">To record to an existing file, open a waveform-audio device and file as you would normally.</span></span> <span data-ttu-id="21423-108">Pour enregistrer dans un nouveau fichier, lorsque vous ouvrez l’appareil, spécifiez « nouveau » comme nom de périphérique si vous utilisez l’interface de chaîne de commande.</span><span class="sxs-lookup"><span data-stu-id="21423-108">To record into a new file, when you open the device specify "new" as the device name if you are using the command-string interface.</span></span> <span data-ttu-id="21423-109">Si vous utilisez l’interface de message de commande, spécifiez un nom de fichier de longueur nulle.</span><span class="sxs-lookup"><span data-stu-id="21423-109">If you are using the command-message interface, specify a zero-length filename.</span></span>

<span data-ttu-id="21423-110">Quand MCI crée un fichier pour l’enregistrement, le format de données est défini sur un format par défaut spécifié par le pilote de périphérique.</span><span class="sxs-lookup"><span data-stu-id="21423-110">When MCI creates a new file for recording, the data format is set to a default format specified by the device driver.</span></span> <span data-ttu-id="21423-111">Pour utiliser un format autre que le format par défaut, vous pouvez utiliser la commande [**Set**](set.md) ([**\_ jeu de MCI**](mci-set.md)).</span><span class="sxs-lookup"><span data-stu-id="21423-111">To use a format other than the default format, you can use the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command.</span></span>

<span data-ttu-id="21423-112">Pour commencer l’enregistrement, utilisez la commande d' [**enregistrement**](record.md) (ou l' [**\_ enregistrement MCI**](mci-record.md) et la structure des [**\_ \_ PARMS d’enregistrement MCI**](mci-record-parms.md) ).</span><span class="sxs-lookup"><span data-stu-id="21423-112">To begin recording, use the [**record**](record.md) command (or [**MCI\_RECORD**](mci-record.md) and the [**MCI\_RECORD\_PARMS**](mci-record-parms.md) structure).</span></span>

<span data-ttu-id="21423-113">Si vous enregistrez en mode insertion dans un fichier existant, vous pouvez utiliser les indicateurs « de » (MCI \_ de) et « à » (MCI \_ à) de la commande **Enregistrer** pour spécifier les positions de début et de fin de l’enregistrement.</span><span class="sxs-lookup"><span data-stu-id="21423-113">If you record in insert mode to an existing file, you can use the "from" (MCI\_FROM) and "to" (MCI\_TO) flags of the **record** command to specify starting and ending positions for recording.</span></span> <span data-ttu-id="21423-114">Par exemple, si vous enregistrez dans un fichier dont la longueur est de 20 secondes et que vous commencez l’enregistrement à 5 secondes et que vous terminez l’enregistrement à 10 secondes, le fichier résultant sera de 25 secondes.</span><span class="sxs-lookup"><span data-stu-id="21423-114">For example, if you record to a file that is 20 seconds long, and you begin recording at 5 seconds and end recording at 10 seconds, the resulting file will be 25 seconds long.</span></span> <span data-ttu-id="21423-115">Le fichier aura un segment de 5 secondes inséré 5 secondes dans l’enregistrement d’origine.</span><span class="sxs-lookup"><span data-stu-id="21423-115">The file will have a 5-second segment inserted 5 seconds into the original recording.</span></span>

<span data-ttu-id="21423-116">Si vous enregistrez le mode de remplacement dans un fichier existant, vous pouvez utiliser les indicateurs « from » et « to » pour spécifier les emplacements de début et de fin de la section qui est remplacée.</span><span class="sxs-lookup"><span data-stu-id="21423-116">If you record with overwrite mode to an existing file, you can use the "from" and "to" flags to specify starting and ending locations of the section that is overwritten.</span></span> <span data-ttu-id="21423-117">Par exemple, si vous enregistrez dans un fichier dont la longueur est de 20 secondes et que vous commencez l’enregistrement à 5 secondes et que vous terminez l’enregistrement à 10 secondes, vous obtenez toujours un enregistrement de 20 secondes, mais la section qui commence à 5 secondes et se termine à 10 secondes a été remplacée.</span><span class="sxs-lookup"><span data-stu-id="21423-117">For example, if you record to a file that is 20 seconds long, and you begin recording at 5 seconds and end recording at 10 seconds, you still have a recording 20 seconds long, but the section beginning at 5 seconds and ending at 10 seconds will have been replaced.</span></span>

<span data-ttu-id="21423-118">Si vous ne spécifiez pas d’emplacement de fin, l’enregistrement continue jusqu’à ce que vous ayez envoyé une commande [**Stop**](stop.md) ([**\_ Stop MCI**](mci-stop.md)) ou jusqu’à ce que le pilote manque d’espace disque libre.</span><span class="sxs-lookup"><span data-stu-id="21423-118">If you do not specify an ending location, recording continues until you send a [**stop**](stop.md) ([**MCI\_STOP**](mci-stop.md)) command, or until the driver runs out of free disk space.</span></span> <span data-ttu-id="21423-119">Si vous enregistrez dans un nouveau fichier, vous pouvez omettre l’indicateur « from » ou lui affecter la valeur zéro pour démarrer l’enregistrement au début d’un nouveau fichier.</span><span class="sxs-lookup"><span data-stu-id="21423-119">If you record to a new file, you can omit the "from" flag or set it to zero to start recording at the beginning of a new file.</span></span> <span data-ttu-id="21423-120">Vous pouvez spécifier un emplacement de fin pour terminer l’enregistrement lors de l’enregistrement dans un nouveau fichier.</span><span class="sxs-lookup"><span data-stu-id="21423-120">You can specify an ending location to terminate recording when recording to a new file.</span></span>

<span data-ttu-id="21423-121">La commande d' [**enregistrement**](record.md) est parfois précise dans uniquement 1 seconde de l’emplacement de départ, comme avec les périphériques VCR.</span><span class="sxs-lookup"><span data-stu-id="21423-121">The [**record**](record.md) command is sometimes accurate to within only 1 second of the starting location, such as with VCR devices.</span></span> <span data-ttu-id="21423-122">Pour enregistrer plus précisément, vous devez utiliser la commande de [**signalement**](cue.md) ([**MCI \_**](mci-cue.md)).</span><span class="sxs-lookup"><span data-stu-id="21423-122">To record more accurately, you should use the [**cue**](cue.md) ([**MCI\_CUE**](mci-cue.md)) command.</span></span> <span data-ttu-id="21423-123">Cette commande est reconnue par les périphériques vidéo numérique, magnétoscope et Waveform-Audio.</span><span class="sxs-lookup"><span data-stu-id="21423-123">This command is recognized by digital-video, VCR, and waveform-audio devices.</span></span> <span data-ttu-id="21423-124">Pour plus d’informations sur l’enregistrement avec les périphériques VCR, consultez [magnétoscope services](vcr-services.md).</span><span class="sxs-lookup"><span data-stu-id="21423-124">For more information about recording with VCR devices, see [VCR Services](vcr-services.md).</span></span>

## <a name="saving-a-recorded-file"></a><span data-ttu-id="21423-125">Enregistrement d’un fichier enregistré</span><span class="sxs-lookup"><span data-stu-id="21423-125">Saving a Recorded File</span></span>

<span data-ttu-id="21423-126">Une fois l’enregistrement terminé, utilisez la commande [**Save**](save.md) (ou l' [**\_ enregistrement MCI**](mci-save.md) et la structure [**MCI \_ Save \_ PARMS**](mci-save-parms.md) ) pour enregistrer l’enregistrement avant de fermer l’appareil.</span><span class="sxs-lookup"><span data-stu-id="21423-126">When recording is complete, use the [**save**](save.md) command (or [**MCI\_SAVE**](mci-save.md) and the [**MCI\_SAVE\_PARMS**](mci-save-parms.md) structure) to save the recording before closing the device.</span></span>

> [!Note]  
> <span data-ttu-id="21423-127">Si vous fermez l’appareil sans enregistrer, les données enregistrées sont perdues.</span><span class="sxs-lookup"><span data-stu-id="21423-127">If you close the device without saving, the recorded data is lost.</span></span>

 

## <a name="checking-input-levels-pcm-only"></a><span data-ttu-id="21423-128">Vérification des niveaux d’entrée (PCM uniquement)</span><span class="sxs-lookup"><span data-stu-id="21423-128">Checking Input Levels (PCM Only)</span></span>

<span data-ttu-id="21423-129">Pour obtenir le niveau du signal d’entrée avant l’enregistrement sur un appareil d’entrée Waveform PCM (Pulse Code Modulation) Wave-audio, utilisez la commande [**Status**](status.md) ([**\_ État MCI**](mci-status.md)).</span><span class="sxs-lookup"><span data-stu-id="21423-129">To get the level of the input signal before recording on a PCM (Pulse Code Modulation) waveform-audio input device, use the [**status**](status.md) ([**MCI\_STATUS**](mci-status.md)) command.</span></span> <span data-ttu-id="21423-130">Spécifiez l’indicateur « Level » (ou l' \_ \_ indicateur d’élément d’État MCI et définissez le membre **dwItem** de la structure de l' [**\_ état \_ MCI**](mci-status-parms.md) sur le \_ niveau d’État Wave MCI \_ \_ ).</span><span class="sxs-lookup"><span data-stu-id="21423-130">Specify the "level" flag (or the MCI\_STATUS\_ITEM flag and set the **dwItem** member of the [**MCI\_STATUS\_PARMS**](mci-status-parms.md) structure to MCI\_WAVE\_STATUS\_LEVEL).</span></span> <span data-ttu-id="21423-131">Le niveau de signal d’entrée moyen est retourné.</span><span class="sxs-lookup"><span data-stu-id="21423-131">The average input signal level is returned.</span></span> <span data-ttu-id="21423-132">La valeur du canal de gauche se trouve dans le mot de poids fort et la valeur de droite ou de mono-canal est dans le mot de poids faible.</span><span class="sxs-lookup"><span data-stu-id="21423-132">The left-channel value is in the high-order word and the right- or mono-channel value is in the low-order word.</span></span>

<span data-ttu-id="21423-133">Le niveau d’entrée est représenté sous la forme d’une valeur non signée.</span><span class="sxs-lookup"><span data-stu-id="21423-133">The input level is represented as an unsigned value.</span></span> <span data-ttu-id="21423-134">Pour les exemples de 8 bits, cette valeur est comprise entre 0 et 127 (0x7F).</span><span class="sxs-lookup"><span data-stu-id="21423-134">For 8-bit samples, this value is in the range 0 through 127 (0x7F).</span></span> <span data-ttu-id="21423-135">Pour les exemples de 16 bits, elle est comprise entre 0 et 32 767 (0x7FFF).</span><span class="sxs-lookup"><span data-stu-id="21423-135">For 16-bit samples, it is in the range 0 through 32,767 (0x7FFF).</span></span>

 

 




