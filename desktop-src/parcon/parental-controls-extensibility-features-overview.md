---
description: Les contrôles parentaux peuvent être étendus à l’aide des paramètres et des API de journalisation.
ms.assetid: f0fc1b11-6de4-48f6-afc9-f05c8812d2bd
title: Vue d’ensemble des fonctionnalités d’extensibilité des contrôles parentaux
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4fe150c5955881b8038cdca9a1e4562ee28093f5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104320618"
---
# <a name="parental-controls-extensibility-features-overview"></a><span data-ttu-id="5d66f-103">Vue d’ensemble des fonctionnalités d’extensibilité des contrôles parentaux</span><span class="sxs-lookup"><span data-stu-id="5d66f-103">Parental Controls Extensibility Features Overview</span></span>

<span data-ttu-id="5d66f-104">Les contrôles parentaux peuvent être étendus à l’aide des paramètres et des API de journalisation.</span><span class="sxs-lookup"><span data-stu-id="5d66f-104">Parental controls can be extended by using the settings and logging APIs.</span></span>

-   [<span data-ttu-id="5d66f-105">Journalisation-arrière-plan</span><span class="sxs-lookup"><span data-stu-id="5d66f-105">Logging—Background</span></span>](/windows)
-   [<span data-ttu-id="5d66f-106">Extensibilité de la journalisation</span><span class="sxs-lookup"><span data-stu-id="5d66f-106">Logging Extensibility</span></span>](#logging-extensibility)
-   [<span data-ttu-id="5d66f-107">Ajout de liens d’extensibilité générale de l’interface utilisateur du panneau contrôle parental</span><span class="sxs-lookup"><span data-stu-id="5d66f-107">Parental Controls Panel General UI Extensibility Link Addition</span></span>](#parental-controls-panel-general-ui-extensibility-link-addition)
-   [<span data-ttu-id="5d66f-108">Remplacement du filtre de contenu Web</span><span class="sxs-lookup"><span data-stu-id="5d66f-108">Web Content Filter Replacement</span></span>](#web-content-filter-replacement)

## <a name="loggingbackground"></a><span data-ttu-id="5d66f-109">Journalisation-arrière-plan</span><span class="sxs-lookup"><span data-stu-id="5d66f-109">Logging—Background</span></span>

<span data-ttu-id="5d66f-110">Microsoft a défini un certain nombre d’événements standard pour traiter les activités courantes :</span><span class="sxs-lookup"><span data-stu-id="5d66f-110">Microsoft has defined a number of standard events to address common activities:</span></span>

-   <span data-ttu-id="5d66f-111">Système : modifications des paramètres du contrôle parental, modifications du compte, changement de l’horloge système, échecs de tentatives de connexion.</span><span class="sxs-lookup"><span data-stu-id="5d66f-111">System: parental controls settings changes, account changes, system clock change, failed logon attempts.</span></span>
-   <span data-ttu-id="5d66f-112">Utilisateur :</span><span class="sxs-lookup"><span data-stu-id="5d66f-112">User:</span></span>
    -   <span data-ttu-id="5d66f-113">Limites du système/heure : heures d’ouverture de session, déconnexion, tentatives d’exécution de l’application et durée d’exécution de l’application (voir la remarque).</span><span class="sxs-lookup"><span data-stu-id="5d66f-113">System/time limits: logon times, logout, application run attempts, and application run duration (see note).</span></span>
    -   <span data-ttu-id="5d66f-114">Restrictions Web : sites Web visités et bloqués, tentatives de téléchargement de fichiers.</span><span class="sxs-lookup"><span data-stu-id="5d66f-114">Web restrictions: websites visited and blocked, file download attempts.</span></span> <span data-ttu-id="5d66f-115">Les navigateurs Web et les applications de type navigateur n’ont pas besoin de les consigner, car le filtre de contenu Web LSP le fait.</span><span class="sxs-lookup"><span data-stu-id="5d66f-115">Web browsers and browser-like applications do not need to log these, as the Web Content Filter LSP does so.</span></span> <span data-ttu-id="5d66f-116">Les filtres Web de remplacement doivent générer ces événements.</span><span class="sxs-lookup"><span data-stu-id="5d66f-116">Replacement web filters would need to generate these events.</span></span>
    -   <span data-ttu-id="5d66f-117">Jeux : Jeux joués et bloqués, jeu (les événements fournissent une durée de lecture).</span><span class="sxs-lookup"><span data-stu-id="5d66f-117">Games: games played and blocked, game end (events together provide duration played).</span></span>
    -   <span data-ttu-id="5d66f-118">Autoriser et bloquer des programmes spécifiques : tentative d’exécution, arrêt, bloqué par des restrictions d’application générales.</span><span class="sxs-lookup"><span data-stu-id="5d66f-118">Allow and block specific programs: run attempt, shutdown, blocked by General Application Restrictions.</span></span>
    -   <span data-ttu-id="5d66f-119">Messagerie instantanée : tentative de conversion d’initiation, de tentative de jointure de conversation, de congé de conversation, de vidéo/audio, de jeu/de message de type short ou de transfert de fichiers/échange d’URL, tentative de modification de la liste de contacts.</span><span class="sxs-lookup"><span data-stu-id="5d66f-119">Instant Messaging: conversion initiation attempt, conversation join attempt, conversation leave, video/audio/game/short message service/file transfer/URL swap feature, contact list change attempt.</span></span>
    -   <span data-ttu-id="5d66f-120">E-mail : reçu ou réception bloquée, tentative d’envoi, tentative de modification de la liste de contacts.</span><span class="sxs-lookup"><span data-stu-id="5d66f-120">Email: received or receive blocked, send attempt, contact list change attempt.</span></span>
    -   <span data-ttu-id="5d66f-121">Support : support lu et tenté.</span><span class="sxs-lookup"><span data-stu-id="5d66f-121">Media: media played and attempted.</span></span>

<span data-ttu-id="5d66f-122">Tous les événements précédents ne sont pas adaptés à une utilisation par les applications.</span><span class="sxs-lookup"><span data-stu-id="5d66f-122">Not all of the previous events are suitable for use by applications.</span></span> <span data-ttu-id="5d66f-123">Les modifications de compte, la modification de l’horloge système et la journalisation des événements de connexion et de déconnexion sont implémentées uniquement par le système d’exploitation et ne sont donc pas exposées publiquement.</span><span class="sxs-lookup"><span data-stu-id="5d66f-123">Account changes, the system clock change, and logon and logoff event logging are implemented only by the operating system and so are not exposed publicly.</span></span>

> [!Note]  
> <span data-ttu-id="5d66f-124">L’instrumentation des événements d’entrée et de sortie de l’application est disponible dans Windows Vista et est configurée par les contrôles de contrôle parental pour consigner ces données.</span><span class="sxs-lookup"><span data-stu-id="5d66f-124">Instrumentation of application entry and exit events is available within Windows Vista, and is configured by Parental Controls to log this data.</span></span>

 

## <a name="logging-extensibility"></a><span data-ttu-id="5d66f-125">Extensibilité de la journalisation</span><span class="sxs-lookup"><span data-stu-id="5d66f-125">Logging Extensibility</span></span>

<span data-ttu-id="5d66f-126">Un événement personnalisé générique est également défini avec 3 balises/valeurs disponibles, de sorte que les éditeurs de logiciels indépendants n’auront généralement pas besoin de définir leur propre valeur dans un manifeste.</span><span class="sxs-lookup"><span data-stu-id="5d66f-126">A generic custom event is also defined with 3 tags/values available so ISVs usually will not need to define their own in a manifest.</span></span> <span data-ttu-id="5d66f-127">La visionneuse du journal reconnaît et affiche les en-têtes et les valeurs des balises si le nombre de champs utilisés (1 à 3) et les en-têtes de chaque champ sont enregistrés à l’aide de l’API WMI.</span><span class="sxs-lookup"><span data-stu-id="5d66f-127">The Log Viewer will recognize and display the tag headers and values if the number of fields used (1 to 3) and headings for each field are registered using the WMI API.</span></span> <span data-ttu-id="5d66f-128">Le observateur d’événements générique peut également être utilisé pour afficher des événements personnalisés.</span><span class="sxs-lookup"><span data-stu-id="5d66f-128">The generic Event Viewer may also be used to view custom events.</span></span>

<span data-ttu-id="5d66f-129">Si l’événement personnalisé générique n’est pas approprié, un éditeur de logiciels indépendant peut définir son propre fichier à l’aide d’un manifeste d’application et il peut inscrire des en-têtes pour trois champs au maximum à l’aide de la même API WMI.</span><span class="sxs-lookup"><span data-stu-id="5d66f-129">If the generic custom event is not suitable, an ISV can define its own by using an application manifest and it can register headers for up to three fields by using the same WMI API.</span></span>

<span data-ttu-id="5d66f-130">Les éditeurs de logiciels indépendants peuvent choisir de définir leurs propres événements et de les utiliser indépendamment de la visionneuse du journal par le biais d’API Windows publiques.</span><span class="sxs-lookup"><span data-stu-id="5d66f-130">ISVs may choose to define their own events and consume them independently of the Log Viewer through public Windows APIs.</span></span> <span data-ttu-id="5d66f-131">Cela ne présente pas l’avantage d’une centralisation complète des journaux.</span><span class="sxs-lookup"><span data-stu-id="5d66f-131">This does not have the benefit of full log centralization.</span></span>

## <a name="parental-controls-panel-general-ui-extensibility-link-addition"></a><span data-ttu-id="5d66f-132">Ajout de liens d’extensibilité générale de l’interface utilisateur du panneau contrôle parental</span><span class="sxs-lookup"><span data-stu-id="5d66f-132">Parental Controls Panel General UI Extensibility Link Addition</span></span>

<span data-ttu-id="5d66f-133">Un lien d’extensibilité de l’interface utilisateur à usage général est exposé en accédant aux paramètres via WMI, en créant une instance d’extension à partir du chemin d’accès et de l’ID de la DLL de ressource de nom, du chemin d’accès à l’image (bitmap), du chemin d’accès à l’image de l’état désactivé, du chemin d’accès et de l’ID de la DLL</span><span class="sxs-lookup"><span data-stu-id="5d66f-133">A general-purpose user interface extensibility link is exposed by accessing settings through WMI, creating an extension instance from passed in name resource DLL path and ID, image (bitmap) path, disabled state image (bitmap) path, subtitle resource DLL path and ID, and executable path specifications.</span></span> <span data-ttu-id="5d66f-134">Une fois inscrit, le lien apparaît dans la zone plus de paramètres du panneau de contrôle parental et un clic sur celui-ci appellera l’exécutable spécifié.</span><span class="sxs-lookup"><span data-stu-id="5d66f-134">After registered, the link will appear in the More Settings area of the Parental Controls Panel, and clicking it will invoke the specified executable.</span></span>

<span data-ttu-id="5d66f-135">La chaîne de chemin d’accès exécutable peut éventuellement inclure un jeton pour le SID de l’utilisateur actuel à substituer avant l’appel.</span><span class="sxs-lookup"><span data-stu-id="5d66f-135">The executable path string may optionally include a token for the current user's SID to be substituted prior to invocation.</span></span> <span data-ttu-id="5d66f-136">Cela permet à l’exécution de la liaison de fonctionner dans le contexte de l’utilisateur pour lequel la page Hub est actuellement affichée, si l’exécutable doit connaître le SID.</span><span class="sxs-lookup"><span data-stu-id="5d66f-136">This allows the link execution to operate in the context of the user for which the hub page is currently being viewed, if the executable needs to know the SID.</span></span>

## <a name="web-content-filter-replacement"></a><span data-ttu-id="5d66f-137">Remplacement du filtre de contenu Web</span><span class="sxs-lookup"><span data-stu-id="5d66f-137">Web Content Filter Replacement</span></span>

<span data-ttu-id="5d66f-138">Comme indiqué dans la rubrique, le [contrôle Parental In-Box des restrictions et des interfaces utilisateur](parental-controls-in-box-restrictions-and-user-interfaces.md), le filtre de contenu Web intégré peut être remplacé par un filtre fourni par le fournisseur.</span><span class="sxs-lookup"><span data-stu-id="5d66f-138">As noted in the topic, [Parental Controls In-Box Restrictions and User Interfaces](parental-controls-in-box-restrictions-and-user-interfaces.md), the in-box Web Content Filter can be replaced with a vendor-supplied filter.</span></span> <span data-ttu-id="5d66f-139">Pour ce faire, accédez aux paramètres via WMI pour définir un GUID et un nom possédant le filtrage.</span><span class="sxs-lookup"><span data-stu-id="5d66f-139">This is performed by accessing settings through WMI to set a GUID and name owning the filtering.</span></span>

<span data-ttu-id="5d66f-140">Le mécanisme d’extensibilité de l’interface utilisateur général est utilisé pour exposer un filtre tiers.</span><span class="sxs-lookup"><span data-stu-id="5d66f-140">The general UI extensibility mechanism is used to expose a third-party filter.</span></span> <span data-ttu-id="5d66f-141">Il s’agit du même mécanisme que celui utilisé pour toute extension qui souhaite apparaître dans la section paramètres supplémentaires du panneau de contrôle parental de niveau supérieur.</span><span class="sxs-lookup"><span data-stu-id="5d66f-141">This is the same mechanism as used for any extension that wants to appear in the More Settings section of the top-level Parental Control Panel.</span></span> <span data-ttu-id="5d66f-142">En effectuant une étape supplémentaire pour définir le même GUID et un chemin d’accès à la DLL de ressource de nom et un ID appropriés dans les paramètres de filtre au niveau du système, le lien de filtre affiché dans la boîte de passe est masqué et l’entrée tierce s’affiche en haut de la section paramètres supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="5d66f-142">Taking the additional step of setting the same GUID and an appropriate name resource DLL path and ID into the system-level filter settings will cause the in-box displayed filter link to be hidden and the third-party entry to be shown at the top of the More Settings section.</span></span> <span data-ttu-id="5d66f-143">Le nom enregistré pour le filtre s’affiche dans la section Résumé.</span><span class="sxs-lookup"><span data-stu-id="5d66f-143">The name registered for the filter will be shown in the summary section.</span></span>

<span data-ttu-id="5d66f-144">La réinitialisation du GUID de filtre et des paramètres de chemin d’accès/ID de nom entraîne la réinitialisation du filtre de contenu Web intégré en tant que filtre actif et son réaffichage dans la section Paramètres Windows.</span><span class="sxs-lookup"><span data-stu-id="5d66f-144">Resetting the filter GUID and name path/ID settings will result in the in-box Web Content Filter re-establishing itself as the active filter and appearing again in the Windows Settings section.</span></span>

<span data-ttu-id="5d66f-145">Notez que les filtres tiers ne sont pas limités dans les technologies utilisées pour la connexion aux communications Windows.</span><span class="sxs-lookup"><span data-stu-id="5d66f-145">Note that third-party filters are not constrained in the technologies used to plug into Windows communications.</span></span> <span data-ttu-id="5d66f-146">Un filtre doit simplement exposer ses paramètres à l’aide d’un lien d’extensibilité et honorer les paramètres de contrôle parental appropriés.</span><span class="sxs-lookup"><span data-stu-id="5d66f-146">A filter must merely expose its settings by using an extensibility link and honor appropriate Parental Controls settings.</span></span>

 

 
