---
description: 'Avant de vous inscrire pour recevoir un événement, vous devez déterminer les types d’événements à recevoir : intrinsèque ou extrinsèque.'
ms.assetid: 46cdfcfa-42c6-4169-bc4d-725867224889
ms.tgt_platform: multiple
title: Détermination du type d’événement à recevoir
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 477f3d10536e5b0622e1e64b6cec9abdf4183c7d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103758019"
---
# <a name="determining-the-type-of-event-to-receive"></a><span data-ttu-id="2b48e-103">Détermination du type d’événement à recevoir</span><span class="sxs-lookup"><span data-stu-id="2b48e-103">Determining the Type of Event to Receive</span></span>

<span data-ttu-id="2b48e-104">Avant de vous inscrire pour recevoir un événement, vous devez déterminer les types d’événements à recevoir : [intrinsèque](#intrinsic-events) ou [extrinsèque](#extrinsic-events).</span><span class="sxs-lookup"><span data-stu-id="2b48e-104">Before you register to receive an event, you must determine the types of events to receive: [intrinsic](#intrinsic-events) or [extrinsic](#extrinsic-events).</span></span> <span data-ttu-id="2b48e-105">Pour plus d’informations sur la réception d’événements, consultez [réception d’un événement WMI](receiving-a-wmi-event.md).</span><span class="sxs-lookup"><span data-stu-id="2b48e-105">For more information about how to receive events, see [Receiving a WMI Event](receiving-a-wmi-event.md).</span></span> <span data-ttu-id="2b48e-106">Pour plus d’informations sur la façon de fournir des événements, consultez [développement d’un fournisseur WMI](developing-a-wmi-provider.md) et [écriture d’un fournisseur d’événements](writing-an-event-provider.md).</span><span class="sxs-lookup"><span data-stu-id="2b48e-106">For more information about providing events, see [Developing a WMI Provider](developing-a-wmi-provider.md) and [Writing an Event Provider](writing-an-event-provider.md).</span></span> <span data-ttu-id="2b48e-107">Pour plus d’informations sur les problèmes de sécurité liés à la réception et à la fourniture d’événements, consultez [sécurisation des événements WMI.](securing-wmi-events.md)</span><span class="sxs-lookup"><span data-stu-id="2b48e-107">For more information about the security concerns for receiving and providing events, see [Securing WMI Events.](securing-wmi-events.md)</span></span>

## <a name="intrinsic-events"></a><span data-ttu-id="2b48e-108">Événements intrinsèques</span><span class="sxs-lookup"><span data-stu-id="2b48e-108">Intrinsic Events</span></span>

<span data-ttu-id="2b48e-109">Un événement intrinsèque est un événement qui se produit en réponse à une modification dans le modèle de données WMI standard.</span><span class="sxs-lookup"><span data-stu-id="2b48e-109">An intrinsic event is an event that occurs in response to a change in the standard WMI data model.</span></span> <span data-ttu-id="2b48e-110">Chaque classe d'événement intrinsèque représente un type spécifique de modification et se produit lorsque WMI ou un fournisseur crée, supprime ou modifie un espace de noms, une classe ou une instance de classe.</span><span class="sxs-lookup"><span data-stu-id="2b48e-110">Each intrinsic event class represents a specific type of change and occurs when WMI or a provider creates, deletes, or modifies a namespace, class, or class instance.</span></span> <span data-ttu-id="2b48e-111">Par exemple, la création d’une instance de [**\_ disque logique Win32**](/windows/desktop/CIMWin32Prov/win32-logicaldisk) se traduirait par une instance [**\_ \_ InstanceCreationEvent**](--instancecreationevent.md) .</span><span class="sxs-lookup"><span data-stu-id="2b48e-111">For example, the creation of a [**Win32\_LogicalDisk**](/windows/desktop/CIMWin32Prov/win32-logicaldisk) instance would result in an [**\_\_InstanceCreationEvent**](--instancecreationevent.md) instance.</span></span>

<span data-ttu-id="2b48e-112">WMI crée des événements intrinsèques pour les objets stockés dans l’espace de stockage WMI.</span><span class="sxs-lookup"><span data-stu-id="2b48e-112">WMI creates intrinsic events for objects stored in the WMI repository.</span></span> <span data-ttu-id="2b48e-113">Un fournisseur génère des événements intrinsèques pour les classes dynamiques, mais WMI peut créer une instance pour une classe dynamique si aucun fournisseur n’est disponible.</span><span class="sxs-lookup"><span data-stu-id="2b48e-113">A provider generates intrinsic events for dynamic classes, but WMI can create an instance for a dynamic class if no provider is available.</span></span> <span data-ttu-id="2b48e-114">WMI utilise l’interrogation pour détecter les modifications.</span><span class="sxs-lookup"><span data-stu-id="2b48e-114">WMI uses polling to detect the changes.</span></span> <span data-ttu-id="2b48e-115">Le tableau suivant répertorie les classes système que WMI utilise pour signaler des événements intrinsèques.</span><span class="sxs-lookup"><span data-stu-id="2b48e-115">The following table lists the system classes that WMI uses to report intrinsic events.</span></span>



| <span data-ttu-id="2b48e-116">Classe système</span><span class="sxs-lookup"><span data-stu-id="2b48e-116">System class</span></span>                                                           | <span data-ttu-id="2b48e-117">Description</span><span class="sxs-lookup"><span data-stu-id="2b48e-117">Description</span></span>                                                                                                                                                                                             |
|------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="2b48e-118">**\_\_ClassCreationEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-118">**\_\_ClassCreationEvent**</span></span>](--classcreationevent.md)                 | <span data-ttu-id="2b48e-119">Avertit un consommateur lorsqu’une classe est créée.</span><span class="sxs-lookup"><span data-stu-id="2b48e-119">Notifies a consumer when a class is created.</span></span>                                                                                                                                                            |
| [<span data-ttu-id="2b48e-120">**\_\_ClassDeletionEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-120">**\_\_ClassDeletionEvent**</span></span>](--classdeletionevent.md)                 | <span data-ttu-id="2b48e-121">Avertit un consommateur lorsqu’une classe est supprimée.</span><span class="sxs-lookup"><span data-stu-id="2b48e-121">Notifies a consumer when a class is deleted.</span></span>                                                                                                                                                            |
| [<span data-ttu-id="2b48e-122">**\_\_ClassModificationEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-122">**\_\_ClassModificationEvent**</span></span>](--classmodificationevent.md)         | <span data-ttu-id="2b48e-123">Avertit un consommateur lorsqu’une classe est modifiée.</span><span class="sxs-lookup"><span data-stu-id="2b48e-123">Notifies a consumer when a class is modified.</span></span>                                                                                                                                                           |
| [<span data-ttu-id="2b48e-124">**\_\_InstanceCreationEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-124">**\_\_InstanceCreationEvent**</span></span>](--instancecreationevent.md)           | <span data-ttu-id="2b48e-125">Avertit un consommateur lorsqu’une instance de classe est créée.</span><span class="sxs-lookup"><span data-stu-id="2b48e-125">Notifies a consumer when a class instance is created.</span></span>                                                                                                                                                   |
| [<span data-ttu-id="2b48e-126">**\_\_InstanceOperationEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-126">**\_\_InstanceOperationEvent**</span></span>](--instanceoperationevent.md)         | <span data-ttu-id="2b48e-127">Avertit un consommateur lorsqu’un événement d’instance se produit, par exemple la création, la suppression ou la modification de l’instance.</span><span class="sxs-lookup"><span data-stu-id="2b48e-127">Notifies a consumer when any instance event occurs, such as creation, deletion, or modification of the instance.</span></span> <span data-ttu-id="2b48e-128">Vous pouvez utiliser cette classe dans les requêtes pour récupérer tous les événements de type associés à une instance.</span><span class="sxs-lookup"><span data-stu-id="2b48e-128">You can use this class in queries to get all types events associated with an instance.</span></span> |
| [<span data-ttu-id="2b48e-129">**\_\_InstanceDeletionEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-129">**\_\_InstanceDeletionEvent**</span></span>](--instancedeletionevent.md)           | <span data-ttu-id="2b48e-130">Avertit un consommateur lorsqu’une instance est supprimée.</span><span class="sxs-lookup"><span data-stu-id="2b48e-130">Notifies a consumer when an instance is deleted.</span></span>                                                                                                                                                        |
| [<span data-ttu-id="2b48e-131">**\_\_InstanceModificationEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-131">**\_\_InstanceModificationEvent**</span></span>](--instancemodificationevent.md)   | <span data-ttu-id="2b48e-132">Avertit un consommateur lorsqu’une instance est modifiée.</span><span class="sxs-lookup"><span data-stu-id="2b48e-132">Notifies a consumer when an instance is modified.</span></span>                                                                                                                                                       |
| [<span data-ttu-id="2b48e-133">**\_\_NamespaceCreationEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-133">**\_\_NamespaceCreationEvent**</span></span>](--namespacecreationevent.md)         | <span data-ttu-id="2b48e-134">Avertit un consommateur lorsqu’un espace de noms est créé.</span><span class="sxs-lookup"><span data-stu-id="2b48e-134">Notifies a consumer when a namespace is created.</span></span>                                                                                                                                                        |
| [<span data-ttu-id="2b48e-135">**\_\_NamespaceDeletionEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-135">**\_\_NamespaceDeletionEvent**</span></span>](--namespacedeletionevent.md)         | <span data-ttu-id="2b48e-136">Avertit un consommateur lorsqu’un espace de noms est supprimé.</span><span class="sxs-lookup"><span data-stu-id="2b48e-136">Notifies a consumer when a namespace is deleted.</span></span>                                                                                                                                                        |
| [<span data-ttu-id="2b48e-137">**\_\_NamespaceModificationEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-137">**\_\_NamespaceModificationEvent**</span></span>](--namespacemodificationevent.md) | <span data-ttu-id="2b48e-138">Avertit un consommateur lorsqu’un espace de noms est modifié.</span><span class="sxs-lookup"><span data-stu-id="2b48e-138">Notifies a consumer when a namespace is modified.</span></span>                                                                                                                                                       |
| [<span data-ttu-id="2b48e-139">**\_\_ConsumerFailureEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-139">**\_\_ConsumerFailureEvent**</span></span>](--consumerfailureevent.md)             | <span data-ttu-id="2b48e-140">Avertit un consommateur lorsqu’un autre événement est abandonné en raison d’un échec sur la partie d’un consommateur d’événements.</span><span class="sxs-lookup"><span data-stu-id="2b48e-140">Notifies a consumer when some other event is dropped due to a failure on the part of an event consumer.</span></span>                                                                                                 |
| [<span data-ttu-id="2b48e-141">**\_\_EventDroppedEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-141">**\_\_EventDroppedEvent**</span></span>](--eventdroppedevent.md)                   | <span data-ttu-id="2b48e-142">Avertit un consommateur lorsqu’un autre événement est supprimé au lieu d’être remis au consommateur d’événements demandeur.</span><span class="sxs-lookup"><span data-stu-id="2b48e-142">Notifies a consumer when some other event is dropped instead of being delivered to the requesting event consumer.</span></span>                                                                                       |
| [<span data-ttu-id="2b48e-143">**\_\_EventQueueOverflowEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-143">**\_\_EventQueueOverflowEvent**</span></span>](--eventqueueoverflowevent.md)       | <span data-ttu-id="2b48e-144">Avertit un consommateur lorsqu’un événement est abandonné à la suite d’un dépassement de capacité de la file d’attente de remise.</span><span class="sxs-lookup"><span data-stu-id="2b48e-144">Notifies a consumer when an event is dropped as a result of a delivery queue overflow.</span></span>                                                                                                                  |
| [<span data-ttu-id="2b48e-145">**\_\_MethodInvocationEvent**</span><span class="sxs-lookup"><span data-stu-id="2b48e-145">**\_\_MethodInvocationEvent**</span></span>](--methodinvocationevent.md)           | <span data-ttu-id="2b48e-146">Avertit un consommateur lorsqu’un événement d’appel de méthode se produit.</span><span class="sxs-lookup"><span data-stu-id="2b48e-146">Notifies a consumer when a method call event occurs.</span></span>                                                                                                                                                    |



 

## <a name="extrinsic-events"></a><span data-ttu-id="2b48e-147">Événements extrinsèques</span><span class="sxs-lookup"><span data-stu-id="2b48e-147">Extrinsic Events</span></span>

<span data-ttu-id="2b48e-148">Un événement extrinsèque est une occurrence prédéfinie qui ne peut pas être liée directement à des modifications dans le modèle de données WMI.</span><span class="sxs-lookup"><span data-stu-id="2b48e-148">An extrinsic event is a predefined occurrence that cannot be linked directly to changes in the WMI data model.</span></span> <span data-ttu-id="2b48e-149">Par conséquent, WMI permet à un fournisseur d’événements de définir une classe d’événements qui décrit l’événement.</span><span class="sxs-lookup"><span data-stu-id="2b48e-149">Therefore, WMI enables an event provider to define an event class that describes the event.</span></span> <span data-ttu-id="2b48e-150">Par exemple, un événement qui décrit un ordinateur qui bascule en mode veille est un événement extrinsèque.</span><span class="sxs-lookup"><span data-stu-id="2b48e-150">For example, an event that describes a computer switching to stand-by mode is an extrinsic event.</span></span> <span data-ttu-id="2b48e-151">Un fournisseur dérive un événement extrinsèque de la classe système [**\_ \_ ExtrinsicEvent**](--extrinsicevent.md) , qui est une sous-classe de la classe de système d' [**\_ \_ événements**](--event.md) .</span><span class="sxs-lookup"><span data-stu-id="2b48e-151">A provider derives an extrinsic event from the [**\_\_ExtrinsicEvent**](--extrinsicevent.md) system class, which is a subclass of the [**\_\_Event**](--event.md) system class.</span></span> <span data-ttu-id="2b48e-152">Le [Registre système](/previous-versions/windows/desktop/regprov/system-registry-provider) et les fournisseurs [SNMP](snmp-provider.md) définissent des classes d’événements extrinsèques, telles que **RegistryKeyChangeEvent**, qui avertissent un consommateur lorsqu’une clé de Registre est modifiée.</span><span class="sxs-lookup"><span data-stu-id="2b48e-152">The [System Registry](/previous-versions/windows/desktop/regprov/system-registry-provider) and [SNMP](snmp-provider.md) providers define extrinsic event classes, such as **RegistryKeyChangeEvent**, which notifies a consumer when a registry key is changed.</span></span> <span data-ttu-id="2b48e-153">Pour plus d’informations, consultez [inscription aux événements de Registre système](registering-for-system-registry-events.md) et [écriture d’un fournisseur d’événements](writing-an-event-provider.md).</span><span class="sxs-lookup"><span data-stu-id="2b48e-153">For more information, see [Registering for System Registry Events](registering-for-system-registry-events.md) and [Writing an Event Provider](writing-an-event-provider.md).</span></span>

<span data-ttu-id="2b48e-154">Dans l’exemple suivant, un fournisseur d’événements signale des violations de sécurité à un ou plusieurs bâtiments.</span><span class="sxs-lookup"><span data-stu-id="2b48e-154">In the following example, an event provider is reporting security violations to one or more buildings.</span></span> <span data-ttu-id="2b48e-155">La classe suivante peut être définie pour l’événement extrinsèque représentant une violation de sécurité.</span><span class="sxs-lookup"><span data-stu-id="2b48e-155">The following class might be defined for the extrinsic event representing a security violation.</span></span>

``` syntax
class SecurityViolationEvent : __ExtrinsicEvent
{
   string Building;           // building where violation occurred
   sint32 EntranceNumber;     // entrance where violation occurred
   datetime TimeOfDetection;  // date and time of violation
}
```

<span data-ttu-id="2b48e-156">Pour recevoir les notifications de violation de sécurité, un consommateur s’inscrit pour le type d’événement SecurityViolationEvent.</span><span class="sxs-lookup"><span data-stu-id="2b48e-156">To receive the security violation notifications, a consumer registers for the SecurityViolationEvent event type.</span></span> <span data-ttu-id="2b48e-157">Sauf indication contraire, un consommateur reçoit une notification de toutes les violations de sécurité pendant toutes les périodes de temps et dans tous les bâtiments.</span><span class="sxs-lookup"><span data-stu-id="2b48e-157">Unless otherwise specified, a consumer receives notification of all security violations during all time periods and in all buildings.</span></span> <span data-ttu-id="2b48e-158">La classe d’événements contient également des informations que les consommateurs peuvent utiliser pour demander des événements plus spécifiques.</span><span class="sxs-lookup"><span data-stu-id="2b48e-158">The event class also contains information that consumers can use to ask for more specific events.</span></span>

<span data-ttu-id="2b48e-159">Dans l’exemple suivant, la requête inscrit le consommateur pour les événements de violation de sécurité dans la génération 24 uniquement.</span><span class="sxs-lookup"><span data-stu-id="2b48e-159">In the following example, the query registers the consumer for security violation events in building 24 only.</span></span>

`SELECT * FROM SecurityViolationEvent WHERE Building = 24;`

 

 
