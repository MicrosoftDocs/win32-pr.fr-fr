---
title: Interfaces obligatoires et facultatives
description: Interfaces obligatoires et facultatives
ms.assetid: 582c9dd5-f8ab-48df-afb3-fba931ee0dea
keywords:
- Windows Gestionnaire de périphériques de média, interfaces
- Gestionnaire de périphériques, interfaces
- Guide de programmation, interfaces
- fournisseurs de services, interfaces
- créer des fournisseurs de services, interfaces
- interfaces
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6aaa28db79fe8bc3cd159219cffb35f5434645ea
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/13/2021
ms.locfileid: "126856395"
---
# <a name="mandatory-and-optional-interfaces"></a>Interfaces obligatoires et facultatives

Le tableau suivant décrit les interfaces et les méthodes obligatoires et facultatives que les fournisseurs de services doivent implémenter. Toutes les interfaces avec une ou plusieurs méthodes obligatoires doivent être implémentées. Une méthode obligatoire ne peut pas retourner WMDM \_ e \_ NOTSUPPORTED ou e \_ NOTIMPL.



| Interface et méthode                                                                                                                  | Option d’implémentation                                                                                                                                                                                                                              |
|---------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**IMDServiceProvider::EnumDevices**](/windows/desktop/api/mswmdm/nf-mswmdm-imdserviceprovider-enumdevices)                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDServiceProvider::GetDeviceCount**](/windows/desktop/api/mswmdm/nf-mswmdm-imdserviceprovider-getdevicecount)                                                       | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDServiceProvider2::CreateDevice**](/windows/desktop/api/mswmdm/nf-mswmdm-imdserviceprovider2-createdevice)                                                         | Optionnel. cette méthode doit être implémentée pour la prise en charge PnP et Windows Explorer.                                                                                                                                                                    |
| [**IMDSPDevice::EnumStorage**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-enumstorage)                                                                           | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPDevice::GetDeviceIcon**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getdeviceicon)                                                                       | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPDevice::GetFormatSupport**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getformatsupport)                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPDevice::GetManufacturer**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getmanufacturer)                                                                   | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPDevice :: GetName**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getname)                                                                                   | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPDevice::GetPowerSource**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getpowersource)                                                                     | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPDevice::GetSerialNumber**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getserialnumber)                                                                   | Optionnel. pour le transfert de contenu protégé, Windows Media Gestionnaire de périphériques utilise **IMDSPStorageGlobals :: GetSerialNumber**.                                                                                                                              |
| [**IMDSPDevice :: GetStatus**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getstatus)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPDevice :: GetType**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-gettype)                                                                                   | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPDevice :: GetVersion**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-getversion)                                                                             | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPDevice::SendOpaqueCommand**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice-sendopaquecommand)                                                               | facultatif.                                                                                                                                                                                                                                          |
| [**IMDSPDevice2::GetCanonicalName**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice2-getcanonicalname)                                                               | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPDevice2::GetFormatSupport2**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice2-getformatsupport2)                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPDevice2::GetSpecifyPropertyPages**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice2-getspecifypropertypages)                                                 | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPDevice2 :: GetStorage**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspdevice2-getstorage)                                                                           | Optionnel.                                                                                                                                                                                                                                          |
| [**Interface IMDSPDeviceControl**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspdevicecontrol)                                                                            | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPEnumDevice :: Clone**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumdevice-clone)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPEnumDevice :: suivant**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumdevice-next)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPEnumDevice :: Reset**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumdevice-reset)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPEnumDevice :: Skip**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumdevice-skip)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPEnumStorage :: Clone**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumstorage-clone)                                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPEnumStorage :: suivant**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumstorage-next)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPEnumStorage :: Reset**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumstorage-reset)                                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPEnumStorage :: Skip**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspenumstorage-skip)                                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPObject :: Close**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-close)                                                                                       | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPObject ::D supprim**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-delete)                                                                                     | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPObject :: Move**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-move)                                                                                         | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPObject :: Open**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-open)                                                                                         | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPObject :: lecture**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-read)                                                                                         | obligatoire (si la prise en charge Lecteur Windows Media est souhaitée).                                                                                                                                                                                            |
| [**IMDSPObject :: Rename**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-rename)                                                                                     | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPObject :: Seek**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-seek)                                                                                         | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPObject :: Write**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspobject-write)                                                                                       | Mandatory.                                                                                                                                                                                                                                         |
| [**Interface IMDSPObjectInfo**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspobjectinfo)                                                                                  | Optionnel.                                                                                                                                                                                                                                          |
| [**Interface IMDSPRevoked**](/windows/desktop/api/mswmdm/nn-mswmdm-imdsprevoked)                                                                                        | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPStorage::CreateStorage**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-createstorage)                                                                     | Obligatoire uniquement si *dwAttributes* est le \_ \_ fichier attr WMDM \_ .                                                                                                                                                                                        |
| [**IMDSPStorage::EnumStorage**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-enumstorage)                                                                         | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage :: GetAttributes**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getattributes)                                                                     | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage :: GetDate**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getdate)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage :: GetName**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getname)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage :: GetRight**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getrights)                                                                             | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPStorage :: est à obtenir**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getsize)                                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage::GetStorageGlobals**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-getstorageglobals)                                                             | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage::SendOpaqueCommands**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-sendopaquecommand)                                                           | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPStorage :: SetAttributes**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage-setattributes)                                                                     | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPStorage2::CreateStorage2**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage2-createstorage2)                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage2::GetAttributes2**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage2-getattributes2)                                                                 | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorage2 :: GetStorage**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage2-getstorage)                                                                         | Optionnel.                                                                                                                                                                                                                                          |
| [**IMDSPStorage2::SetAttributes2**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorage2-setattributes2)                                                                 | facultatif.                                                                                                                                                                                                                                          |
| [**Interface IMDSPStorage3**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspstorage3)                                                                                      | Optionnel. Toutefois, si le paramètre d’appareil *UseMetadataViews* a la valeur 1, cette interface doit être implémentée et **IMDSPStorage3 :: GetMetadata** devient obligatoire, bien que **IMDSPStorage3 :: SetMetadata** soit toujours facultatif.                    |
| [**IMDSPStorageGlobals :: GetCapabilities**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getcapabilities)                                                   | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorageGlobals::GetDevice**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getdevice)                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorageGlobals::GetRootStorage**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getrootstorage)                                                     | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorageGlobals::GetSerialNumber**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getserialnumber)                                                   | Obligatoire pour PDDRM uniquement. Sinon, facultatif.                                                                                                                                                                                                      |
| [**IMDSPStorageGlobals :: GetStatus**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-getstatus)                                                               | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorageGlobals::GetTotalBad**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-gettotalbad)                                                           | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorageGlobals::GetTotalFree**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-gettotalfree)                                                         | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorageGlobals :: GetTotalSize**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-gettotalsize)                                                         | Mandatory.                                                                                                                                                                                                                                         |
| [**IMDSPStorageGlobals :: Initialize**](/windows/desktop/api/mswmdm/nf-mswmdm-imdspstorageglobals-initialize)                                                             | Optionnel. Cette méthode doit être implémentée si l’appareil prend en charge cette fonctionnalité. Si cette méthode n’est pas implémentée, **IMDSPStorageGlobals :: GetCapabilites** doit retourner WMDM \_ STORAGECAP \_ ne \_ peut pas être initialisé en plus de tout autre indicateur. |
| [**IMDSPDevice3**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspdevice3)[**IMDSPObject2**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspobject2)<br/> [**IMDSPStorage4**](/windows/desktop/api/mswmdm/nn-mswmdm-imdspstorage4)<br/> | requis pour prendre en charge la synchronisation automatique avec Lecteur Windows Media                                                                                                                                                                            |



 

## <a name="related-topics"></a>Rubriques connexes

<dl> <dt>

[**Création d’un fournisseur de services**](creating-a-service-provider.md)
</dt> </dl>

 

 





