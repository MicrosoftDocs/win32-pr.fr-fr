---
description: Un plug-in de module de reconnaissance est un objet qui surveille le mouvement du stylet pour le mouvement, l’écriture manuscrite ou d’autres objets.
ms.assetid: 764a327e-1da0-487f-9245-b6a4f3f43502
title: Plug-ins de reconnaissance
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bbf3ac866a211a78e2d8f347e89ca20a1906f436
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104569203"
---
# <a name="recognizer-plug-ins"></a><span data-ttu-id="9abe9-103">Plug-ins de reconnaissance</span><span class="sxs-lookup"><span data-stu-id="9abe9-103">Recognizer Plug-ins</span></span>

<span data-ttu-id="9abe9-104">Un plug-in de module de reconnaissance est un objet qui surveille le mouvement du stylet pour le mouvement, l’écriture manuscrite ou d’autres objets.</span><span class="sxs-lookup"><span data-stu-id="9abe9-104">A recognizer plug-in is an object that monitors the movement of the tablet pen for gesture, handwriting, or other objects.</span></span>

## <a name="system-gestures"></a><span data-ttu-id="9abe9-105">Gestes système</span><span class="sxs-lookup"><span data-stu-id="9abe9-105">System Gestures</span></span>

<span data-ttu-id="9abe9-106">L’objet [**RealTimeStylus**](realtimestylus-class.md) reconnaît les gestes système.</span><span class="sxs-lookup"><span data-stu-id="9abe9-106">The [**RealTimeStylus**](realtimestylus-class.md) object recognizes system gestures.</span></span> <span data-ttu-id="9abe9-107">L’objet **RealTimeStylus** ajoute un objet [SystemGestureData](/previous-versions/ms824019(v=msdn.10)) à la file d’attente [StylusQueues](/previous-versions/ms824786(v=msdn.10)) en réponse aux données qui terminent le mouvement, par exemple un objet [StylusUpData](/previous-versions/ms824057(v=msdn.10)) pour [SystemGesture](/previous-versions/bb345349(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="9abe9-107">The **RealTimeStylus** object adds a [SystemGestureData](/previous-versions/ms824019(v=msdn.10)) object to the [StylusQueues](/previous-versions/ms824786(v=msdn.10)) queue in response to the data that finishes the gesture, such as a [StylusUpData](/previous-versions/ms824057(v=msdn.10)) object for the [SystemGesture](/previous-versions/bb345349(v=vs.100)).</span></span> <span data-ttu-id="9abe9-108">Pour plus d’informations, consultez [données de plug-in et classe RealTimeStylus](plug-in-data-and-the-realtimestylus-class.md).</span><span class="sxs-lookup"><span data-stu-id="9abe9-108">For more information, see [Plug-in Data and the RealTimeStylus Class](plug-in-data-and-the-realtimestylus-class.md).</span></span>

## <a name="the-gesturerecognizer-object"></a><span data-ttu-id="9abe9-109">Objet GestureRecognizer</span><span class="sxs-lookup"><span data-stu-id="9abe9-109">The GestureRecognizer Object</span></span>

<span data-ttu-id="9abe9-110">L’objet [**GestureRecognizer**](gesturerecognizer-class.md) implémente les interfaces [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) et [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="9abe9-110">The [**GestureRecognizer**](gesturerecognizer-class.md) object implements the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) and [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interfaces.</span></span> <span data-ttu-id="9abe9-111">L’objet **GestureRecognizer** reconnaît les gestes d’application.</span><span class="sxs-lookup"><span data-stu-id="9abe9-111">The **GestureRecognizer** object recognizes application gestures.</span></span> <span data-ttu-id="9abe9-112">En interne, l’objet **GestureRecognizer** utilise le module de reconnaissance de mouvement Microsoft pour effectuer la reconnaissance de mouvement.</span><span class="sxs-lookup"><span data-stu-id="9abe9-112">Internally, the **GestureRecognizer** object uses the Microsoft gesture recognizer to perform gesture recognition.</span></span>

<span data-ttu-id="9abe9-113">Lorsque l’objet [**GestureRecognizer**](gesturerecognizer-class.md) reconnaît un mouvement, il ajoute des données de stylet personnalisées à la file d’attente [StylusQueues](/previous-versions/ms824786(v=msdn.10)) en réponse à l’objet [StylusUpData](/previous-versions/ms824057(v=msdn.10)) pour le trait.</span><span class="sxs-lookup"><span data-stu-id="9abe9-113">When the [**GestureRecognizer**](gesturerecognizer-class.md) object recognizes a gesture, it adds custom stylus data to the [StylusQueues](/previous-versions/ms824786(v=msdn.10)) queue in response to the [StylusUpData](/previous-versions/ms824057(v=msdn.10)) object for the stroke.</span></span> <span data-ttu-id="9abe9-114">La propriété [CustomDataId](/previous-versions/ms824748(v=msdn.10)) de l’objet [CustomStylusData](/previous-versions/ms575208(v=vs.100)) est définie sur la valeur [GestureRecognitionDataGuid](/previous-versions/ms826344(v=msdn.10)) et la propriété [Data](/previous-versions/ms824749(v=msdn.10)) de l’objet CustomStylusData contient un objet [GestureRecognitionData](/previous-versions/ms824594(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="9abe9-114">The [CustomStylusData](/previous-versions/ms575208(v=vs.100)) object's [CustomDataId](/previous-versions/ms824748(v=msdn.10)) property is set to the [GestureRecognitionDataGuid](/previous-versions/ms826344(v=msdn.10)) value, and the CustomStylusData object's [Data](/previous-versions/ms824749(v=msdn.10)) property contains a [GestureRecognitionData](/previous-versions/ms824594(v=msdn.10)) object.</span></span>

<span data-ttu-id="9abe9-115">Le diagramme suivant illustre la façon dont l’objet [**GestureRecognizer**](gesturerecognizer-class.md) ajoute des données aux données du stylet de tablette.</span><span class="sxs-lookup"><span data-stu-id="9abe9-115">The following diagram illustrates how the [**GestureRecognizer**](gesturerecognizer-class.md) object adds data to the tablet pen data.</span></span>

![illustration du GestureRecognizer Data Flow](images/c4c77c33-deee-49d0-84bc-12612575ec66.gif)

<span data-ttu-id="9abe9-117">Dans ce diagramme, le cercle « SD » représente un objet [StylusDownData](/previous-versions/ms824107(v=msdn.10)) et les cercles « P » représentent des objets [PacketsData](/previous-versions/ms824590(v=msdn.10)) qui ont déjà été ajoutés à la file d’attente de sortie de l’objet [**RealTimeStylus**](realtimestylus-class.md) et qui n’ont pas encore été envoyés à la collection de plug-ins asynchrone.</span><span class="sxs-lookup"><span data-stu-id="9abe9-117">In this diagram the circle lettered "SD" represents a [StylusDownData](/previous-versions/ms824107(v=msdn.10)) object and the circles lettered "P" represent [PacketsData](/previous-versions/ms824590(v=msdn.10)) objects that have already been added to the [**RealTimeStylus**](realtimestylus-class.md) object's output queue and that have not yet been sent to the asynchronous plug-in collection.</span></span> <span data-ttu-id="9abe9-118">Le cercle « SU » est représenté par un objet [StylusUpData](/previous-versions/ms824057(v=msdn.10)) que l’objet **RealTimeStylus** est en train de traiter.</span><span class="sxs-lookup"><span data-stu-id="9abe9-118">The circle lettered "SU" represents a [StylusUpData](/previous-versions/ms824057(v=msdn.10)) object that the **RealTimeStylus** object is currently processing.</span></span> <span data-ttu-id="9abe9-119">Il est envoyé à la collection de plug-ins synchrone, puis placé dans la file d’attente de sortie.</span><span class="sxs-lookup"><span data-stu-id="9abe9-119">It is sent to the synchronous plug-in collection and then placed on the output queue.</span></span> <span data-ttu-id="9abe9-120">Les cercles « GR » représentent les données personnalisées du stylet qui sont ajoutées à la file d’attente d’entrée par le plug-in [**GestureRecognizer**](gesturerecognizer-class.md) en réponse à la notification du stylet associée à « su ».</span><span class="sxs-lookup"><span data-stu-id="9abe9-120">The circles lettered "GR" represent custom stylus data that is added to the input queue by the [**GestureRecognizer**](gesturerecognizer-class.md) plug-in in response to the stylus up notification associated with "SU".</span></span> <span data-ttu-id="9abe9-121">Les données de stylet personnalisées « GR » sont ensuite transmises aux plug-ins synchrones, puis à la file d’attente de sortie avant le traitement des données du stylet de tablette suivant.</span><span class="sxs-lookup"><span data-stu-id="9abe9-121">The custom stylus data lettered "GR" is then passed to the synchronous plug-ins and then to the output queue before the next tablet pen data is processed.</span></span> <span data-ttu-id="9abe9-122">Le cercle vide représente la position dans la file d’attente de sortie où les futures données de stylet du Tablet PC sont ajoutées.</span><span class="sxs-lookup"><span data-stu-id="9abe9-122">The empty circle represents the position in the output queue where future tablet pen data is added.</span></span>

<span data-ttu-id="9abe9-123">Par défaut, l’objet [**GestureRecognizer**](gesturerecognizer-class.md) reconnaît uniquement les gestes à un seul trait ; Toutefois, l’objet **GestureRecognizer** peut être défini pour reconnaître les gestes multitraits.</span><span class="sxs-lookup"><span data-stu-id="9abe9-123">By default, the [**GestureRecognizer**](gesturerecognizer-class.md) object recognizes only single-stroke gestures; however, the **GestureRecognizer** object can be set to recognize multistroke gestures.</span></span> <span data-ttu-id="9abe9-124">Pour les gestes multitraits, l’objet [CustomStylusData](/previous-versions/ms575208(v=vs.100)) est ajouté à la file d’attente [StylusQueues](/previous-versions/ms824786(v=msdn.10)) en réponse à l’objet [StylusUpData](/previous-versions/ms824057(v=msdn.10)) pour le trait final du mouvement.</span><span class="sxs-lookup"><span data-stu-id="9abe9-124">For multistroke gestures, the [CustomStylusData](/previous-versions/ms575208(v=vs.100)) object is added to the [StylusQueues](/previous-versions/ms824786(v=msdn.10)) queue in response to the [StylusUpData](/previous-versions/ms824057(v=msdn.10)) object for the final stroke of the gesture.</span></span> <span data-ttu-id="9abe9-125">Lors de la reconnaissance de mouvements à traits, vous pouvez recevoir des notifications pour les jeux de traits qui se chevauchent.</span><span class="sxs-lookup"><span data-stu-id="9abe9-125">When recognizing multistroke gestures, you may receive notifications for overlapping sets of strokes.</span></span> <span data-ttu-id="9abe9-126">Par exemple, les premier et deuxième traits ensemble peuvent être reconnus comme un mouvement et le deuxième trait seul peut être reconnu comme un geste.</span><span class="sxs-lookup"><span data-stu-id="9abe9-126">For example, the first and second strokes together may be recognized as one gesture and the second stroke by itself may be recognized as a gesture.</span></span> <span data-ttu-id="9abe9-127">Pour plus d’informations sur la reconnaissance des mouvements multitraits, consultez la classe **GestureRecognizer** et la propriété [MaxStrokeCount](/previous-versions/ms826053(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="9abe9-127">For more information about multistroke gesture recognition, see the **GestureRecognizer** class and the [MaxStrokeCount](/previous-versions/ms826053(v=msdn.10)) property.</span></span>

<span data-ttu-id="9abe9-128">Si vous utilisez l’objet [**GestureRecognizer**](gesturerecognizer-class.md) pour la reconnaissance de mouvement multitrait, vous pouvez obtenir des performances optimales en utilisant un modèle [**RealTimeStylus**](realtimestylus-class.md) monté en cascade et en joignant l’objet **GestureRecognizer** à l’objet **RealTimeStylus** secondaire.</span><span class="sxs-lookup"><span data-stu-id="9abe9-128">If you are using the [**GestureRecognizer**](gesturerecognizer-class.md) object for multistroke gesture recognition, you may achieve optimal performance by using a cascaded [**RealTimeStylus**](realtimestylus-class.md) model and attaching the **GestureRecognizer** object to the secondary **RealTimeStylus** object.</span></span> <span data-ttu-id="9abe9-129">Pour plus d’informations sur le modèle **RealTimeStylus** en cascade, consultez [le modèle RealTimeStylus monté en cascade](the-cascaded-realtimestylus-model.md).</span><span class="sxs-lookup"><span data-stu-id="9abe9-129">For more information about the cascading **RealTimeStylus** model, see [The Cascaded RealTimeStylus Model](the-cascaded-realtimestylus-model.md).</span></span>

### <a name="special-considerations"></a><span data-ttu-id="9abe9-130">Considérations spéciales</span><span class="sxs-lookup"><span data-stu-id="9abe9-130">Special Considerations</span></span>

<span data-ttu-id="9abe9-131">La liste suivante décrit d’autres points à prendre en compte lors de l’utilisation de l’objet [**GestureRecognizer**](gesturerecognizer-class.md) .</span><span class="sxs-lookup"><span data-stu-id="9abe9-131">The following list describes other points to take into consideration when using the [**GestureRecognizer**](gesturerecognizer-class.md) object.</span></span>

-   <span data-ttu-id="9abe9-132">Vous ne devez pas attacher un objet [**GestureRecognizer**](gesturerecognizer-class.md) à plusieurs objets [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="9abe9-132">You should not attach a [**GestureRecognizer**](gesturerecognizer-class.md) object to more than one [**RealTimeStylus**](realtimestylus-class.md) object.</span></span> <span data-ttu-id="9abe9-133">Une fois que deux objets **RealTimeStylus** auxquels l’objet **GestureRecognizer** est attaché sont activés, les éléments suivants se produisent.</span><span class="sxs-lookup"><span data-stu-id="9abe9-133">Once two **RealTimeStylus** objects to which the **GestureRecognizer** object is attached are enabled, the following occurs.</span></span>
    -   <span data-ttu-id="9abe9-134">L’objet [**GestureRecognizer**](gesturerecognizer-class.md) lève une exception en réponse au deuxième appel à sa méthode RealTimeStylusEnabled.</span><span class="sxs-lookup"><span data-stu-id="9abe9-134">The [**GestureRecognizer**](gesturerecognizer-class.md) object throws an exception in response to the second call to its RealTimeStylusEnabled method.</span></span>
    -   <span data-ttu-id="9abe9-135">Le deuxième objet [**RealTimeStylus**](realtimestylus-class.md) qui a été activé génère un objet [ErrorData](/previous-versions/ms824740(v=msdn.10)) et notifie les autres plug-ins dans ses collections de plug-ins de l’erreur.</span><span class="sxs-lookup"><span data-stu-id="9abe9-135">The second [**RealTimeStylus**](realtimestylus-class.md) object that was enabled generates a [ErrorData](/previous-versions/ms824740(v=msdn.10)) object and notifies the remaining plug-ins in its plug-in collections of the error.</span></span>
    -   <span data-ttu-id="9abe9-136">L’objet [**GestureRecognizer**](gesturerecognizer-class.md) arrête de reconnaître les gestes.</span><span class="sxs-lookup"><span data-stu-id="9abe9-136">The [**GestureRecognizer**](gesturerecognizer-class.md) object stops recognizing gestures.</span></span>
-   <span data-ttu-id="9abe9-137">L’objet [**RealTimeStylus**](realtimestylus-class.md) lève une exception lorsque sa méthode [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) est appelée avec le paramètre *GUID* défini sur l’identificateur global unique (Guid) [Microsoft. StylusInput. GestureRecognizer. GestureRecognitionDataGuid](/previous-versions/ms826344(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="9abe9-137">The [**RealTimeStylus**](realtimestylus-class.md) object throws an exception when its [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) method is called with the *guid* parameter set to the [Microsoft.StylusInput.GestureRecognizer.GestureRecognitionDataGuid](/previous-versions/ms826344(v=msdn.10)) globally unique identifier (GUID).</span></span>
-   <span data-ttu-id="9abe9-138">L’objet [**GestureRecognizer**](gesturerecognizer-class.md) est implémenté en tant que wrapper COM (Component Object Model) et vous ne pouvez pas appeler directement ses méthodes d’interface [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) ou [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="9abe9-138">The [**GestureRecognizer**](gesturerecognizer-class.md) object is implemented as a Component Object Model (COM) wrapper, and you cannot call its [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) or [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface methods directly.</span></span> <span data-ttu-id="9abe9-139">Pour plus d’informations sur l’implémentation COM et l’objet [**RealTimeStylus**](realtimestylus-class.md) , consultez [Remarques d’implémentation pour les API StylusInput](implementation-notes-for-the-stylusinput-apis.md).</span><span class="sxs-lookup"><span data-stu-id="9abe9-139">For more information about COM implementation and the [**RealTimeStylus**](realtimestylus-class.md) object, see [Implementation Notes for the StylusInput APIs](implementation-notes-for-the-stylusinput-apis.md).</span></span>

## <a name="custom-gesture-recognition"></a><span data-ttu-id="9abe9-140">Reconnaissance personnalisée des mouvements</span><span class="sxs-lookup"><span data-stu-id="9abe9-140">Custom Gesture Recognition</span></span>

<span data-ttu-id="9abe9-141">Vous pouvez créer un plug-in de reconnaissance personnalisé qui reconnaît l’écriture manuscrite, les gestes ou d’autres objets en procédant comme suit :</span><span class="sxs-lookup"><span data-stu-id="9abe9-141">You can create a custom recognizer plug-in that recognizes handwriting, gestures, or other objects by:</span></span>

-   <span data-ttu-id="9abe9-142">Passage des informations de trait à un objet de module de [reconnaissance](/previous-versions/ms829434(v=msdn.10)) existant et utilisation de la méthode [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) pour ajouter les résultats au flux de données de stylet de tablette.</span><span class="sxs-lookup"><span data-stu-id="9abe9-142">Passing the stroke information to an existing [Recognizer](/previous-versions/ms829434(v=msdn.10)) object and using the [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) method to add the results to the tablet pen data stream.</span></span>
-   <span data-ttu-id="9abe9-143">La reconnaissance au sein de votre plug-in et l’utilisation de la méthode [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) pour ajouter les résultats au flux de données du stylet de tablette.</span><span class="sxs-lookup"><span data-stu-id="9abe9-143">Performing the recognition within your plug-in and using the [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) method to add the results to the tablet pen data stream.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9abe9-144">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="9abe9-144">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9abe9-145">Mouvements d’application</span><span class="sxs-lookup"><span data-stu-id="9abe9-145">Application Gestures</span></span>](application-gestures.md)
</dt> <dt>

[<span data-ttu-id="9abe9-146">Gestes système</span><span class="sxs-lookup"><span data-stu-id="9abe9-146">System Gestures</span></span>](system-gestures.md)
</dt> <dt>

[<span data-ttu-id="9abe9-147">Chronologie des messages de la souris et des événements système</span><span class="sxs-lookup"><span data-stu-id="9abe9-147">Timeline of Mouse Messages and System Events</span></span>](timeline-of-mouse-messages-and-system-events.md)
</dt> </dl>

 

 
