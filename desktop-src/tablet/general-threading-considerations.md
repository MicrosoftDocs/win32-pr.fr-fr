---
description: Vue d’ensemble des considérations générales sur les threads.
ms.assetid: cf35724f-5f80-4b3e-992a-a9d5ea99aae9
title: Considérations générales sur les threads
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 21f825ec7a1397dae7d60aa14b31603ee76a2f59
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104526584"
---
# <a name="general-threading-considerations"></a><span data-ttu-id="5e840-103">Considérations générales sur les threads</span><span class="sxs-lookup"><span data-stu-id="5e840-103">General Threading Considerations</span></span>

<span data-ttu-id="5e840-104">Voici quelques considérations générales sur les threads lors du développement pour Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="5e840-104">The following are general threading considerations when developing for Tablet PC.</span></span>

-   [<span data-ttu-id="5e840-105">Threads d’application et non-application</span><span class="sxs-lookup"><span data-stu-id="5e840-105">Application and Non-Application Threads</span></span>](#application-and-non-application-threads)
-   [<span data-ttu-id="5e840-106">Considérations relatives aux performances</span><span class="sxs-lookup"><span data-stu-id="5e840-106">Performance Considerations</span></span>](#performance-considerations)
    -   [<span data-ttu-id="5e840-107">Gestionnaires d’événements</span><span class="sxs-lookup"><span data-stu-id="5e840-107">Event Handlers</span></span>](#event-handlers)
    -   [<span data-ttu-id="5e840-108">AutoRedraw, propriété</span><span class="sxs-lookup"><span data-stu-id="5e840-108">AutoRedraw Property</span></span>](#autoredraw-property)
    -   [<span data-ttu-id="5e840-109">Propriété DynamicRendering</span><span class="sxs-lookup"><span data-stu-id="5e840-109">DynamicRendering Property</span></span>](#dynamicrendering-property)
-   [<span data-ttu-id="5e840-110">Considérations sur les threads d’événements</span><span class="sxs-lookup"><span data-stu-id="5e840-110">Event Threading Considerations</span></span>](#event-threading-considerations)
    -   [<span data-ttu-id="5e840-111">Événements d’objets InkCollector et InkOverlay</span><span class="sxs-lookup"><span data-stu-id="5e840-111">InkCollector and InkOverlay Objects Events</span></span>](#inkcollector-and-inkoverlay-objects-events)
    -   [<span data-ttu-id="5e840-112">Événements de collection d’objets manuscrits et de traits</span><span class="sxs-lookup"><span data-stu-id="5e840-112">Ink Object and Strokes Collection Events</span></span>](#ink-object-and-strokes-collection-events)
    -   [<span data-ttu-id="5e840-113">Événements de reconnaissance</span><span class="sxs-lookup"><span data-stu-id="5e840-113">Recognition Events</span></span>](#recognition-events)
    -   [<span data-ttu-id="5e840-114">Événements du panneau de saisie PEN</span><span class="sxs-lookup"><span data-stu-id="5e840-114">Pen Input Panel Events</span></span>](#pen-input-panel-events)
-   [<span data-ttu-id="5e840-115">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="5e840-115">Related topics</span></span>](#related-topics)

## <a name="application-and-non-application-threads"></a><span data-ttu-id="5e840-116">Threads d’application et non-application</span><span class="sxs-lookup"><span data-stu-id="5e840-116">Application and Non-Application Threads</span></span>

<span data-ttu-id="5e840-117">Tous les événements d’entrée manuscrite sont générés sur un thread d’entrée de haute priorité distinct.</span><span class="sxs-lookup"><span data-stu-id="5e840-117">All ink events are generated on a separate, high-priority ink thread.</span></span> <span data-ttu-id="5e840-118">Cela permet à l’encre de circuler sans heurts même lorsqu’une application s’exécute lentement.</span><span class="sxs-lookup"><span data-stu-id="5e840-118">This allows ink to flow smoothly even when an application is running slowly.</span></span> <span data-ttu-id="5e840-119">Toutefois, les gestionnaires d’événements peuvent ralentir ou bloquer le rendu de l’encre.</span><span class="sxs-lookup"><span data-stu-id="5e840-119">However, event handlers can slow down or block the rendering of ink.</span></span>

<span data-ttu-id="5e840-120">Tous les événements de reconnaissance générés par les appels de méthode de reconnaissance en arrière-plan sont gérés sur un thread de reconnaissance de l’arrière-plan de priorité normale distinct.</span><span class="sxs-lookup"><span data-stu-id="5e840-120">All recognition events generated by background recognition method calls are handled on a separate, normal-priority background recognition thread.</span></span>

<span data-ttu-id="5e840-121">Tous les événements de souris sont générés sur le thread d’interface utilisateur principal de l’application.</span><span class="sxs-lookup"><span data-stu-id="5e840-121">All mouse events are generated on the application's main user interface (UI) thread.</span></span>

## <a name="performance-considerations"></a><span data-ttu-id="5e840-122">Considérations relatives aux performances</span><span class="sxs-lookup"><span data-stu-id="5e840-122">Performance Considerations</span></span>

### <a name="event-handlers"></a><span data-ttu-id="5e840-123">Gestionnaires d'événements</span><span class="sxs-lookup"><span data-stu-id="5e840-123">Event Handlers</span></span>

<span data-ttu-id="5e840-124">L’interface de programmation d’applications (API) de Tablet PC Platform a un modèle interactif pour les événements plutôt qu’un modèle de notification.</span><span class="sxs-lookup"><span data-stu-id="5e840-124">The Tablet PC Platform application programming interface (API) has an interactive model for events rather than a notification model.</span></span> <span data-ttu-id="5e840-125">Veillez à ce que le code dans les gestionnaires d’événements soit bref pour réduire le temps de blocage du rendu de l’encre.</span><span class="sxs-lookup"><span data-stu-id="5e840-125">Keep code in event handlers short to reduce the time that ink rendering is blocked.</span></span> <span data-ttu-id="5e840-126">La collecte d’encre par le Tablet PC n’est pas bloquée, mais votre application ne reçoit pas l’encre pendant que votre application est bloquée.</span><span class="sxs-lookup"><span data-stu-id="5e840-126">The collection of ink by the Tablet PC is not blocked, but your application does not receive the ink while your application is blocked.</span></span>

### <a name="autoredraw-property"></a><span data-ttu-id="5e840-127">AutoRedraw, propriété</span><span class="sxs-lookup"><span data-stu-id="5e840-127">AutoRedraw Property</span></span>

<span data-ttu-id="5e840-128">Lorsque votre application effectue un rendu personnalisé ou lorsque votre application est sensible à la peinture de problèmes, vous pouvez gérer vous-même le redessin et définir la propriété [**AutoRedraw**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkcollector-get_autoredraw) sur **false** pour l’objet [**InkCollector**](inkcollector-class.md) , l’objet [**InkOverlay**](inkoverlay-class.md) ou le contrôle [InkPicture](inkpicture-control.md) .</span><span class="sxs-lookup"><span data-stu-id="5e840-128">When your application is performing custom rendering or when your application is sensitive to painting issues, you can handle the repainting yourself and set the [**AutoRedraw**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkcollector-get_autoredraw) property to **false** for the [**InkCollector**](inkcollector-class.md) object, the [**InkOverlay**](inkoverlay-class.md) object, or the [InkPicture](inkpicture-control.md) control.</span></span> <span data-ttu-id="5e840-129">Utilisez les événements du tableau suivant pour gérer le redessin.</span><span class="sxs-lookup"><span data-stu-id="5e840-129">Use the events in the following table to handle the repainting.</span></span>



| <span data-ttu-id="5e840-130">Objet ou contrôle</span><span class="sxs-lookup"><span data-stu-id="5e840-130">Object or Control</span></span>                                            | <span data-ttu-id="5e840-131">Événement</span><span class="sxs-lookup"><span data-stu-id="5e840-131">Event</span></span>                                                                                                                                                                                                                     |
|--------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="5e840-132">[**InkCollector**](inkcollector-class.md) Dessin</span><span class="sxs-lookup"><span data-stu-id="5e840-132">[**InkCollector**](inkcollector-class.md) Object</span></span><br/> | <span data-ttu-id="5e840-133">Événements [Control. Invalidate](/dotnet/api/system.windows.forms.control.invalidated?view=netcore-3.1) et Control [. Paint](/dotnet/api/system.windows.forms.control.paint?view=netcore-3.1) du contrôle sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="5e840-133">The underlying control's [Control.Invalidated](/dotnet/api/system.windows.forms.control.invalidated?view=netcore-3.1) and [Control.Paint](/dotnet/api/system.windows.forms.control.paint?view=netcore-3.1) events.</span></span><br/>                                 |
| <span data-ttu-id="5e840-134">[**InkOverlay**](inkoverlay-class.md) Dessin</span><span class="sxs-lookup"><span data-stu-id="5e840-134">[**InkOverlay**](inkoverlay-class.md) Object</span></span><br/>     | <span data-ttu-id="5e840-135">Événements [Control. Invalidate](/dotnet/api/system.windows.forms.control.invalidated?view=netcore-3.1) et Control [. Paint](/dotnet/api/system.windows.forms.control.paint?view=netcore-3.1) du contrôle sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="5e840-135">The underlying control's [Control.Invalidated](/dotnet/api/system.windows.forms.control.invalidated?view=netcore-3.1) and [Control.Paint](/dotnet/api/system.windows.forms.control.paint?view=netcore-3.1) events.</span></span><br/>                                 |
| <span data-ttu-id="5e840-136">[InkPicture](inkpicture-control.md) Régulation</span><span class="sxs-lookup"><span data-stu-id="5e840-136">[InkPicture](inkpicture-control.md) Control</span></span><br/>      | <span data-ttu-id="5e840-137">Contrôle hérité du contrôle [InkPicture](inkpicture-control.md) . les événements [invalidés](/dotnet/api/system.windows.forms.control.invalidated?view=netcore-3.1) et [Control. Paint](/dotnet/api/system.windows.forms.control.paint?view=netcore-3.1) .</span><span class="sxs-lookup"><span data-stu-id="5e840-137">[InkPicture](inkpicture-control.md) control's inherited [Control.Invalidated](/dotnet/api/system.windows.forms.control.invalidated?view=netcore-3.1) and [Control.Paint](/dotnet/api/system.windows.forms.control.paint?view=netcore-3.1) events.</span></span><br/> |



 

### <a name="dynamicrendering-property"></a><span data-ttu-id="5e840-138">Propriété DynamicRendering</span><span class="sxs-lookup"><span data-stu-id="5e840-138">DynamicRendering Property</span></span>

<span data-ttu-id="5e840-139">Lorsque votre application effectue un rendu personnalisé ou lorsque vous souhaitez obtenir des informations, mais pas l’encre, vous pouvez gérer vous-même l’encre et désactiver le rendu de l’encre en temps réel en affectant à la propriété [**DynamicRendering**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkcollector-get_dynamicrendering) la **valeur false** pour l’objet [**InkCollector**](inkcollector-class.md) , l’objet [**InkOverlay**](inkoverlay-class.md) ou le contrôle [InkPicture](inkpicture-control.md) .</span><span class="sxs-lookup"><span data-stu-id="5e840-139">When your application is performing custom rendering or when you want the information, but not the ink, you can handle the laying down of ink yourself and turn off real-time rendering of ink by setting the [**DynamicRendering**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkcollector-get_dynamicrendering) property to **false** for the [**InkCollector**](inkcollector-class.md) object, the [**InkOverlay**](inkoverlay-class.md) object, or the [InkPicture](inkpicture-control.md) control.</span></span>

## <a name="event-threading-considerations"></a><span data-ttu-id="5e840-140">Considérations sur les threads d’événements</span><span class="sxs-lookup"><span data-stu-id="5e840-140">Event Threading Considerations</span></span>

<span data-ttu-id="5e840-141">Les événements de l’API de la plateforme Tablet PC sont déclenchés sur différents threads.</span><span class="sxs-lookup"><span data-stu-id="5e840-141">Tablet PC Platform API events are raised on various threads.</span></span>

### <a name="inkcollector-and-inkoverlay-objects-events"></a><span data-ttu-id="5e840-142">Événements d’objets InkCollector et InkOverlay</span><span class="sxs-lookup"><span data-stu-id="5e840-142">InkCollector and InkOverlay Objects Events</span></span>

<span data-ttu-id="5e840-143">La plupart des événements d’objets [**InkCollector**](inkcollector-class.md) et [**InkOverlay**](inkoverlay-class.md) sont déclenchés sur le thread d’encre.</span><span class="sxs-lookup"><span data-stu-id="5e840-143">Most [**InkCollector**](inkcollector-class.md) and [**InkOverlay**](inkoverlay-class.md) object events are raised on the ink thread.</span></span> <span data-ttu-id="5e840-144">Seuls les événements de souris pour ces objets sont déclenchés sur le thread d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5e840-144">Only the mouse events for these objects are raised on the UI thread.</span></span> <span data-ttu-id="5e840-145">Par exemple, pour l’objet **InkCollector** , l’événement [**MouseDown**](inkcollector-mousedown.md) est déclenché sur le thread d’interface utilisateur, et l’événement [**CursorDown**](inkcollector-cursordown.md) est déclenché sur le thread Ink.</span><span class="sxs-lookup"><span data-stu-id="5e840-145">For example, for the **InkCollector** object, the [**MouseDown**](inkcollector-mousedown.md) event is raised on the UI thread, and the [**CursorDown**](inkcollector-cursordown.md) event is raised on the ink thread.</span></span>

### <a name="ink-object-and-strokes-collection-events"></a><span data-ttu-id="5e840-146">Événements de collection d’objets manuscrits et de traits</span><span class="sxs-lookup"><span data-stu-id="5e840-146">Ink Object and Strokes Collection Events</span></span>

<span data-ttu-id="5e840-147">L’objet [**Ink**](inkdisp-class.md) et les événements de collection [**Stroke**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) peuvent provenir du thread Ink ou du thread d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5e840-147">The [**Ink**](inkdisp-class.md) object and [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection events may come from the ink thread or the UI thread.</span></span> <span data-ttu-id="5e840-148">Lorsque votre application manipule l’objet **Ink** ou la collection **Strokes** , l’événement est généré dans le thread d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5e840-148">When your application manipulates the **Ink** object or **Strokes** collection, the event is generated in the UI thread.</span></span> <span data-ttu-id="5e840-149">Lorsque l’objet [**InkCollector**](inkcollector-class.md) ou [**InkOverlay**](inkoverlay-class.md) met à jour la collection d’objets ou de **traits** **manuscrits** , l’événement est généré dans le thread Ink.</span><span class="sxs-lookup"><span data-stu-id="5e840-149">When the [**InkCollector**](inkcollector-class.md) or the [**InkOverlay**](inkoverlay-class.md) object updates the **Ink** object or **Strokes** collection, the event is generated in the ink thread.</span></span>

<span data-ttu-id="5e840-150">Les contrôles [InkPicture](inkpicture-control-reference.md) et [InkEdit](inkedit-control-reference.md) fonctionnent dans un thread cloisonné (STA, Single-Threaded Apartment).</span><span class="sxs-lookup"><span data-stu-id="5e840-150">The [InkPicture](inkpicture-control-reference.md) and [InkEdit](inkedit-control-reference.md) controls operate in a single-threaded apartment (STA).</span></span> <span data-ttu-id="5e840-151">Quand le contrôle InkPicture ou InkEdit met à jour la collection d’objets ou de [**traits**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) d' [**encre**](inkdisp-class.md) , l’événement est déclenché sur le thread d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5e840-151">When the InkPicture or InkEdit control updates the [**Ink**](inkdisp-class.md) object or [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection, the event is raised on the UI thread.</span></span>

### <a name="recognition-events"></a><span data-ttu-id="5e840-152">Événements de reconnaissance</span><span class="sxs-lookup"><span data-stu-id="5e840-152">Recognition Events</span></span>

<span data-ttu-id="5e840-153">Les événements de reconnaissance sont déclenchés sur le thread d’interface utilisateur ou le thread de reconnaissance en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="5e840-153">Recognition events are raised on the UI thread or the background recognition thread.</span></span>

-   <span data-ttu-id="5e840-154">La méthode [**recogniz**](/windows/desktop/api/inked/nf-inked-iinkedit-recognize) du contrôle [InkEdit](inkedit-control-reference.md) déclenche l’événement [reconnaissance](/previous-versions/ms836436(v=msdn.10)) (bibliothèque managée uniquement) ou [**RecognitionResult**](inkedit-recognitionresult.md) (Automation uniquement) sur le thread d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5e840-154">The [InkEdit](inkedit-control-reference.md) control's [**Recognize**](/windows/desktop/api/inked/nf-inked-iinkedit-recognize) method raises the [Recognition](/previous-versions/ms836436(v=msdn.10)) (Managed Library only) or [**RecognitionResult**](inkedit-recognitionresult.md) (Automation only) event on the UI thread.</span></span>
-   <span data-ttu-id="5e840-155">Les méthodes [**BackgroundRecognize**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognize) et [**BackgroundRecognizeWithAlternates**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognizewithalternates) de l’objet [**RecognizerContext**](inkrecognizercontext-class.md) déclenchent les événements de [**reconnaissance**](inkrecognizercontext-recognition.md) et de [**RecognitionWithAlternates**](inkrecognizercontext-recognitionwithalternates.md) sur le thread de reconnaissance en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="5e840-155">The [**RecognizerContext**](inkrecognizercontext-class.md) object's [**BackgroundRecognize**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognize) and [**BackgroundRecognizeWithAlternates**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognizewithalternates) methods raise the [**Recognition**](inkrecognizercontext-recognition.md) and [**RecognitionWithAlternates**](inkrecognizercontext-recognitionwithalternates.md) events on the background recognition thread.</span></span>

### <a name="pen-input-panel-events"></a><span data-ttu-id="5e840-156">Événements du panneau de saisie PEN</span><span class="sxs-lookup"><span data-stu-id="5e840-156">Pen Input Panel Events</span></span>

<span data-ttu-id="5e840-157">Les événements [**PenInputPanel**](peninputpanel-class.md) sont déclenchés sur le thread dans lequel l’objet **PenInputPanel** est créé.</span><span class="sxs-lookup"><span data-stu-id="5e840-157">[**PenInputPanel**](peninputpanel-class.md) events are raised on the thread in which the **PenInputPanel** object is created.</span></span>

## <a name="related-topics"></a><span data-ttu-id="5e840-158">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="5e840-158">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="5e840-159">[Microsoft. Ink. InkCollector. DynamicRendering](/previous-versions/ms836502(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="5e840-159">[Microsoft.Ink.InkCollector.DynamicRendering](/previous-versions/ms836502(v=msdn.10))</span></span>
</dt> <dt>

<span data-ttu-id="5e840-160">[Microsoft. Ink. InkOverlay. DynamicRendering](/previous-versions/ms833104(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="5e840-160">[Microsoft.Ink.InkOverlay.DynamicRendering](/previous-versions/ms833104(v=msdn.10))</span></span>
</dt> <dt>

<span data-ttu-id="5e840-161">[Microsoft. Ink. InkPicture. DynamicRendering](/previous-versions/ms582188(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="5e840-161">[Microsoft.Ink.InkPicture.DynamicRendering](/previous-versions/ms582188(v=vs.100))</span></span>
</dt> <dt>

<span data-ttu-id="5e840-162">[Microsoft. Ink. InkCollector. AutoRedraw](/previous-versions/ms836495(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="5e840-162">[Microsoft.Ink.InkCollector.AutoRedraw](/previous-versions/ms836495(v=msdn.10))</span></span>
</dt> <dt>

<span data-ttu-id="5e840-163">[Microsoft. Ink. InkOverlay. AutoRedraw](/previous-versions/ms833082(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="5e840-163">[Microsoft.Ink.InkOverlay.AutoRedraw](/previous-versions/ms833082(v=msdn.10))</span></span>
</dt> <dt>

<span data-ttu-id="5e840-164">[Microsoft. Ink. InkPicture. AutoRedraw](/previous-versions/ms582180(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="5e840-164">[Microsoft.Ink.InkPicture.AutoRedraw](/previous-versions/ms582180(v=vs.100))</span></span>
</dt> </dl>

 

