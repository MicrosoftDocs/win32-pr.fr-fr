---
description: Description de l’utilisation de l’objet PenInputPanel pour programmer le panneau de saisie Tablet PC au niveau système.
ms.assetid: f83c7709-86dc-4c64-ad17-2ad660eb57b7
title: Programmation du panneau de saisie à l’aide de la classe PenInputPanel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 80e00d1cb10983255ab2e532aa08de6e9e6a0fb5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104320733"
---
# <a name="programming-the-input-panel-using-the-peninputpanel-class"></a><span data-ttu-id="a1f04-103">Programmation du panneau de saisie à l’aide de la classe PenInputPanel</span><span class="sxs-lookup"><span data-stu-id="a1f04-103">Programming the Input Panel Using the PenInputPanel Class</span></span>

<span data-ttu-id="a1f04-104">\[[**PenInputPanel**](peninputpanel-class.md) a été remplacé par [Microsoft. Ink. TextInput](/previous-versions/ms581554(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="a1f04-104">\[[**PenInputPanel**](peninputpanel-class.md) has been replaced by [Microsoft.Ink.TextInput](/previous-versions/ms581554(v=vs.100)).</span></span> <span data-ttu-id="a1f04-105">Consultez [programmation du panneau de saisie de texte](programming-the-text-input-panel.md).\]</span><span class="sxs-lookup"><span data-stu-id="a1f04-105">Please refer to [Programming the Text Input Panel](programming-the-text-input-panel.md).\]</span></span>

<span data-ttu-id="a1f04-106">Description de l’utilisation de l’objet [**PenInputPanel**](peninputpanel-class.md) pour programmer le panneau de saisie Tablet PC au niveau système.</span><span class="sxs-lookup"><span data-stu-id="a1f04-106">Description of using the [**PenInputPanel**](peninputpanel-class.md) object to program the system-level Tablet PC Input Panel.</span></span>

## <a name="input-panel-vs-the-peninputpanel-object"></a><span data-ttu-id="a1f04-107">Panneau de saisie et objet PenInputPanel</span><span class="sxs-lookup"><span data-stu-id="a1f04-107">Input Panel vs. the PenInputPanel Object</span></span>

<span data-ttu-id="a1f04-108">Dans Microsoft Windows XP Édition Tablet PC version 1,0, le panneau de saisie Tablet PC au niveau du système fournit un mécanisme universel permettant d’effectuer des entrées de texte sur la plate-forme Windows, mais il ne fournit pas d’accès par programme.</span><span class="sxs-lookup"><span data-stu-id="a1f04-108">In Microsoft Windows XP Tablet PC Edition version 1.0, the system-level Tablet PC Input Panel provides a universal mechanism to accomplish text input across the Windows platform, but it does not provide programmatic access.</span></span> <span data-ttu-id="a1f04-109">Dans le kit de développement logiciel (SDK) de Windows XP Édition Tablet PC version 1,5 et versions ultérieures, l’objet [**PenInputPanel**](peninputpanel-class.md) vous permet d’intégrer les outils d’entrée de texte directement dans vos applications et de fournir un niveau de contrôle non disponible précédemment.</span><span class="sxs-lookup"><span data-stu-id="a1f04-109">In Windows XP Tablet PC Edition Software Development Kit (SDK) version 1.5 and later, the [**PenInputPanel**](peninputpanel-class.md) object enables you to integrate text input tools directly into your applications, and provide a level of control not previously available.</span></span> <span data-ttu-id="a1f04-110">À compter de Windows XP Édition Tablet PC 2005, le panneau de saisie au niveau du système a été mis à niveau pour inclure les fonctionnalités d’entrée sur place fournies par l’objet **PenInputPanel** et bien plus encore.</span><span class="sxs-lookup"><span data-stu-id="a1f04-110">Starting with the Windows XP Tablet PC Edition 2005, the system-level Input Panel has been upgraded to include the in-place input functionality provided by the **PenInputPanel** object and more.</span></span>

<span data-ttu-id="a1f04-111">Le graphique suivant montre le panneau de saisie affiché sur l’exemple d’exemple de [formulaire de déclaration automatique](auto-claims-form-sample.md) .</span><span class="sxs-lookup"><span data-stu-id="a1f04-111">The following graphic shows Input Panel displayed over the [Auto Claims Form Sample](auto-claims-form-sample.md) sample.</span></span>

![panneau de saisie affiché sur un formulaire utilisé pour les revendications d’automobile](images/36eaa36b-1b0c-4363-96fa-092f70663ffa.jpg)

<span data-ttu-id="a1f04-113">Le panneau de saisie remplace le [**PenInputPanel**](peninputpanel-class.md) en fournissant la même fonctionnalité d’entrée sur place à toute application s’exécutant sur Windows XP Édition Tablet PC 2005 ou version ultérieure sans nécessiter de code supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="a1f04-113">Input Panel supersedes the [**PenInputPanel**](peninputpanel-class.md) by supplying the same in-place input functionality to any application running on Windows XP Tablet PC Edition 2005 or later without the need for additional code.</span></span> <span data-ttu-id="a1f04-114">Cet article sur l’utilisation de l’objet **PenInputPanel** est fourni à des fins de compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="a1f04-114">This article on using the **PenInputPanel** object is provided for backward compatibility.</span></span> <span data-ttu-id="a1f04-115">Les applications qui utilisent déjà l’objet **PenInputPanel** fonctionneront de la même façon, sauf que le panneau de saisie sera affiché à la place du **PenInputPanel** lorsque l’application sera EXÉCUTÉe sur Windows XP Édition Tablet PC 2005 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="a1f04-115">Applications that already utilize the **PenInputPanel** object will function the same except that Input Panel will be displayed instead of the **PenInputPanel** when the application is run on Windows XP Tablet PC Edition 2005 or later.</span></span>

<span data-ttu-id="a1f04-116">Si vous développez une nouvelle application pour Tablet PC et que vous souhaitez disposer d’une solution d’entrée d’utilisateur sur place, le panneau de saisie le fournit automatiquement sur Windows XP Édition Tablet PC 2005 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="a1f04-116">If you are developing a new application for the Tablet PC and want to have an in-place user input solution, Input Panel provides this automatically on Windows XP Tablet PC Edition 2005 or later.</span></span> <span data-ttu-id="a1f04-117">Il n’est pas nécessaire d’instancier l’objet [**PenInputPanel**](peninputpanel-class.md) .</span><span class="sxs-lookup"><span data-stu-id="a1f04-117">There is no need to instantiate the [**PenInputPanel**](peninputpanel-class.md) object.</span></span>

## <a name="disabling-the-input-panel"></a><span data-ttu-id="a1f04-118">Désactivation du panneau de saisie</span><span class="sxs-lookup"><span data-stu-id="a1f04-118">Disabling the Input Panel</span></span>

<span data-ttu-id="a1f04-119">Il peut arriver que vous souhaitiez désactiver le panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="a1f04-119">There may be cases where you want to disable Input Panel.</span></span> <span data-ttu-id="a1f04-120">Il existe deux façons d'accomplir cela.</span><span class="sxs-lookup"><span data-stu-id="a1f04-120">There are two ways to accomplish this.</span></span> <span data-ttu-id="a1f04-121">Vous pouvez le faire par programme ou en définissant une entrée de Registre qui désactive le panneau de saisie pour l’ensemble de votre application.</span><span class="sxs-lookup"><span data-stu-id="a1f04-121">You can accomplish this programmatically or by setting a registry entry that disables Input Panel for your entire application.</span></span>

### <a name="disabling-input-panel-programmatically"></a><span data-ttu-id="a1f04-122">Désactivation du panneau de saisie par programmation</span><span class="sxs-lookup"><span data-stu-id="a1f04-122">Disabling Input Panel Programmatically</span></span>

<span data-ttu-id="a1f04-123">Pour désactiver le panneau de saisie par programme, instanciez le [**PenInputPanel**](peninputpanel-class.md) et définissez sa propriété [**AutoShow**](/windows/win32/api/peninputpanel/nf-peninputpanel-ipeninputpanel-get_autoshow) sur **false**.</span><span class="sxs-lookup"><span data-stu-id="a1f04-123">To disable Input Panel programmatically, instantiate the [**PenInputPanel**](peninputpanel-class.md) and set its [**AutoShow**](/windows/win32/api/peninputpanel/nf-peninputpanel-ipeninputpanel-get_autoshow) property to **False**.</span></span>


```C++
using Microsoft.Ink;

// ...

private PenInputPanel theInputPanel;

// ...

private void Form1_Load(object sender, System.EventArgs e)
{
// Attach the Input Panel to a specific TextBox control.
theInputPanel = new PenInputPanel(textBox1);

// Disable the Input Panel for the TextBox.
theInputPanel.AutoShow = false;
}
```



<span data-ttu-id="a1f04-124">Pour désactiver le panneau de saisie pour plusieurs contrôles dans une même application, instanciez un objet [**PenInputPanel**](peninputpanel-class.md) pour chaque contrôle et affectez la valeur **false** à la propriété [**affichage**](/windows/win32/api/peninputpanel/nf-peninputpanel-ipeninputpanel-get_autoshow)automatique pour chaque ou instanciez un **PenInputPanel** unique et déplacez-le du contrôle au contrôle en tant que Focus d’entrée.</span><span class="sxs-lookup"><span data-stu-id="a1f04-124">To disable Input Panel for multiple controls in a single application, either instantiate a [**PenInputPanel**](peninputpanel-class.md) object for each control and set the [**AutoShow**](/windows/win32/api/peninputpanel/nf-peninputpanel-ipeninputpanel-get_autoshow)property to **False** for each or instantiate a single **PenInputPanel** and move it from control to control as input focus changes.</span></span> <span data-ttu-id="a1f04-125">Pour plus d’informations sur ces deux techniques, consultez l’exemple de rubrique [PenInputPanel](peninputpanel-sample.md) .</span><span class="sxs-lookup"><span data-stu-id="a1f04-125">For more information about these two techniques, see the [PenInputPanel Sample](peninputpanel-sample.md) topic.</span></span>

### <a name="disabling-input-panel-through-the-registry"></a><span data-ttu-id="a1f04-126">Désactivation du panneau de saisie dans le registre</span><span class="sxs-lookup"><span data-stu-id="a1f04-126">Disabling Input Panel Through the Registry</span></span>

<span data-ttu-id="a1f04-127">Vous pouvez définir une entrée de Registre pour désactiver le panneau de saisie pour l’ensemble de votre application.</span><span class="sxs-lookup"><span data-stu-id="a1f04-127">You can set a registry entry to disable Input Panel for your entire application.</span></span> <span data-ttu-id="a1f04-128">Toutefois, cette opération est également désactivée pour les boîtes de dialogue courantes telles que la boîte de dialogue **ouvrir un fichier** , la boîte de dialogue **Imprimer** et la boîte de dialogue **enregistrement de fichier** .</span><span class="sxs-lookup"><span data-stu-id="a1f04-128">However, this will also disable it for common dialog boxes such as the **File Open** dialog box, the **Print** dialog box, and the **File Save** dialog box.</span></span> <span data-ttu-id="a1f04-129">Cela peut rendre l’expérience utilisateur dans votre application incohérente avec les autres applications Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="a1f04-129">This may make the user experience in your application inconsistent with other Tablet PC applications.</span></span>

<span data-ttu-id="a1f04-130">La définition de la `DisableInPlace` clé de Registre sur zéro empêche l’affichage de l’interface utilisateur du panneau de saisie dans une application.</span><span class="sxs-lookup"><span data-stu-id="a1f04-130">Setting the `DisableInPlace` registry key to zero prevents Input Panel user interface (UI) from appearing in an application.</span></span> <span data-ttu-id="a1f04-131">Vous devez placer la `DisableInPlace` clé de Registre à l’emplacement `HKEY_LOCAL_MACHINE\Software\Microsoft\TabletTip\` .</span><span class="sxs-lookup"><span data-stu-id="a1f04-131">You must place the `DisableInPlace` registry key at `HKEY_LOCAL_MACHINE\Software\Microsoft\TabletTip\`.</span></span> <span data-ttu-id="a1f04-132">Ensuite, ajoutez une nouvelle valeur de registre en utilisant le chemin d’accès complet de l’application dans laquelle vous souhaitez désactiver le panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="a1f04-132">Then, add a new registry value by using the full path of the application in which you want to disable Input Panel.</span></span> <span data-ttu-id="a1f04-133">L’exemple d’entrée de Registre suivant désactive le panneau de saisie dans une application nommée MyApp :</span><span class="sxs-lookup"><span data-stu-id="a1f04-133">The following example registry entry disables Input Panel in an application called MyApp:</span></span>

`[HKEY_LOCAL_MACHINE \SOFTWARE\Microsoft\WindowsNT\TabletTIP\DisableInPlace]``"C:\Program Files\My App\MyApp.exe"=dword:00000000`

<span data-ttu-id="a1f04-134">Si vous rencontrez toujours un problème dans votre application après avoir désactivé l’interface utilisateur du panneau de saisie, il peut être nécessaire de désactiver l’infrastructure sous-jacente, qui interroge votre application à la recherche de l’emplacement du signe insertion.</span><span class="sxs-lookup"><span data-stu-id="a1f04-134">If you still see a problem in your application after you disable the Input Panel UI, it may be necessary to disable the underlying framework, which queries your application for the caret location.</span></span> <span data-ttu-id="a1f04-135">Par exemple, le panneau de saisie peut exposer un bogue dans le code de suivi du signe insertion de votre application.</span><span class="sxs-lookup"><span data-stu-id="a1f04-135">For example, Input Panel may expose a bug in your application's caret tracking code.</span></span> <span data-ttu-id="a1f04-136">La désactivation de la requête de suivi du signe insertion empêche également l’interface utilisateur du panneau de saisie d’apparaître.</span><span class="sxs-lookup"><span data-stu-id="a1f04-136">Turning off the caret tracking query also prevents the Input Panel UI from appearing.</span></span> <span data-ttu-id="a1f04-137">Pour désactiver le Framework, définissez la `EnableCaretTracking` clé de Registre sur zéro.</span><span class="sxs-lookup"><span data-stu-id="a1f04-137">To disable the framework, set the `EnableCaretTracking` registry key to zero.</span></span> <span data-ttu-id="a1f04-138">Localisez cette clé à l’adresse `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsNT\CurrentVersion\AppCompatFlags\CaretTracking\` .</span><span class="sxs-lookup"><span data-stu-id="a1f04-138">Locate this key at `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsNT\CurrentVersion\AppCompatFlags\CaretTracking\`.</span></span>

> [!Note]  
> <span data-ttu-id="a1f04-139">Les outils d’accessibilité et la technologie vocale de Windows XP utilisent également ce Framework. par conséquent, la désactivation de la requête désactive également ces fonctionnalités dans votre application.</span><span class="sxs-lookup"><span data-stu-id="a1f04-139">Accessibility tools and speech technology in Windows XP also use this framework, so disabling the query also disables these features in your application.</span></span>

 

## <a name="the-input-panel-and-web-pages"></a><span data-ttu-id="a1f04-140">Le panneau de saisie et les pages Web</span><span class="sxs-lookup"><span data-stu-id="a1f04-140">The Input Panel and Web Pages</span></span>

<span data-ttu-id="a1f04-141">Pour pouvoir utiliser une API sur une page Web, elle doit fonctionner dans un environnement de confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="a1f04-141">In order to use an API on a Web page, it must function in a partial trust environment.</span></span> <span data-ttu-id="a1f04-142">Tous les membres de la classe [**PenInputPanel**](peninputpanel-class.md) requièrent une confiance totale, à l’exception des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="a1f04-142">All [**PenInputPanel**](peninputpanel-class.md) class members require full trust except the following:</span></span>

-   <span data-ttu-id="a1f04-143">[Constructeurs PenInputPanel](/previous-versions/dotnet/netframework-3.5/ms571341(v=vs.90)) (code managé uniquement)</span><span class="sxs-lookup"><span data-stu-id="a1f04-143">[PenInputPanel Constructors](/previous-versions/dotnet/netframework-3.5/ms571341(v=vs.90)) (managed code only)</span></span>
-   <span data-ttu-id="a1f04-144">[Dispose, méthode](/previous-versions/dotnet/netframework-3.5/ms571343(v=vs.90)) (code managé uniquement)</span><span class="sxs-lookup"><span data-stu-id="a1f04-144">[Dispose Method](/previous-versions/dotnet/netframework-3.5/ms571343(v=vs.90)) (managed code only)</span></span>
-   <span data-ttu-id="a1f04-145">[Propriété AttachedEditControl](/previous-versions/ms582239(v=vs.100)) (code managé uniquement)</span><span class="sxs-lookup"><span data-stu-id="a1f04-145">[AttachedEditControl Property](/previous-versions/ms582239(v=vs.100)) (managed code only)</span></span>
-   [<span data-ttu-id="a1f04-146">**Affichage automatique, propriété**</span><span class="sxs-lookup"><span data-stu-id="a1f04-146">**AutoShow Property**</span></span>](/windows/win32/api/peninputpanel/nf-peninputpanel-ipeninputpanel-get_autoshow)

<span data-ttu-id="a1f04-147">Ces API fonctionnent dans un environnement de confiance partielle, tel qu’une page Web, vous permettant d’instancier un objet [**PenInputPanel**](peninputpanel-class.md) , de l’attacher à un contrôle et de désactiver le panneau de saisie pour ce contrôle.</span><span class="sxs-lookup"><span data-stu-id="a1f04-147">These APIs function in a partial trust environment, such as a Web page, enabling you to instantiate a [**PenInputPanel**](peninputpanel-class.md) object, attach it to a control, and disable Input Panel for that control.</span></span> <span data-ttu-id="a1f04-148">Pour plus d’informations, consultez programmation du panneau de saisie à l’aide de la classe PenInputPanel et [de l’encre sur le Web](ink-on-the-web.md).</span><span class="sxs-lookup"><span data-stu-id="a1f04-148">For more information, see Programming the Input Panel Using the PenInputPanel Class and [Ink on the Web](ink-on-the-web.md).</span></span>

## <a name="the-peninputpanel-object"></a><span data-ttu-id="a1f04-149">Objet PenInputPanel</span><span class="sxs-lookup"><span data-stu-id="a1f04-149">The PenInputPanel Object</span></span>

<span data-ttu-id="a1f04-150">Le reste de cette rubrique explique comment utiliser l’objet [**PenInputPanel**](peninputpanel-class.md) dans vos applications compatibles avec Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="a1f04-150">The rest of this topic describes how to use the [**PenInputPanel**](peninputpanel-class.md) object in your Tablet PC–enabled applications.</span></span> <span data-ttu-id="a1f04-151">Plus spécifiquement, cette rubrique fait référence à l’objet **PenInputPanel** lorsqu’il s’agit de décrire l’objet de programmation, le panneau de saisie du stylet pour faire référence à l’élément d’interface utilisateur et le panneau de saisie du PC (ou le panneau de saisie) quand vous faites référence au panneau de saisie global généralement situé sur le côté de l’écran du Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="a1f04-151">More specifically, this topic refers to the **PenInputPanel** object when discussing the programming object, the pen input panel when referring to the UI element, and the PC Input Panel (or Input Panel) when referring to the global input panel typically found on the side of the Tablet PC screen.</span></span>

<span data-ttu-id="a1f04-152">Les sections suivantes décrivent l’objet [**PenInputPanel**](peninputpanel-class.md) et l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a1f04-152">The following sections describe the [**PenInputPanel**](peninputpanel-class.md) object and UI.</span></span>

-   [<span data-ttu-id="a1f04-153">À propos du panneau de saisie</span><span class="sxs-lookup"><span data-stu-id="a1f04-153">About the Input Panel</span></span>](about-the-input-panel.md)
-   [<span data-ttu-id="a1f04-154">Instanciation de la classe PenInputPanel</span><span class="sxs-lookup"><span data-stu-id="a1f04-154">Instantiating the PenInputPanel Class</span></span>](instantiating-the-peninputpanel-class.md)
-   [<span data-ttu-id="a1f04-155">Support Factoid</span><span class="sxs-lookup"><span data-stu-id="a1f04-155">Factoid Support</span></span>](factoid-support.md)
-   [<span data-ttu-id="a1f04-156">Text Services Framework</span><span class="sxs-lookup"><span data-stu-id="a1f04-156">Text Services Framework</span></span>](text-services-framework.md)
-   [<span data-ttu-id="a1f04-157">Bonnes pratiques</span><span class="sxs-lookup"><span data-stu-id="a1f04-157">Best Practices</span></span>](best-practices.md)

 

 
