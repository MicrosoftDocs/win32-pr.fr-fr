---
description: La version de Windows Vista inclut un nouvel objet de programmabilité pour le panneau de saisie Tablet PC qui offre une nouvelle plage de possibilités quant à la façon dont une application peut utiliser et interagir avec le panneau de saisie.
ms.assetid: 539f41d3-5fb8-4e20-99ba-0d5af1f0cc54
title: TextInputPanel pour les utilisateurs de PenInputPanel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 14ed213db49427d997f0ea1dda414cf1a6a0c2d4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104320606"
---
# <a name="textinputpanel-for-users-of-peninputpanel"></a><span data-ttu-id="6101d-103">TextInputPanel pour les utilisateurs de PenInputPanel</span><span class="sxs-lookup"><span data-stu-id="6101d-103">TextInputPanel for Users of PenInputPanel</span></span>

<span data-ttu-id="6101d-104">La version de Windows Vista inclut un nouvel objet de programmabilité pour le panneau de saisie Tablet PC qui offre une nouvelle plage de possibilités quant à la façon dont une application peut utiliser et interagir avec le panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-104">The release of Windows Vista includes a new programmability object for the Tablet PC Input Panel that provides a new range of possibility for how an application can use and interact with Input Panel.</span></span> <span data-ttu-id="6101d-105">Pour la première fois, les développeurs d’applications peuvent positionner le In-Place icône du panneau de saisie pour les aligner avec une zone de texte ou les placer dans le coin d’une surface d’encrage de client pour offrir l’accès à un autre mode de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-105">For the first time application developers can position the In-Place Input Panel Icon to line up with a text box or place it in the corner of a customer inking surface to offer access to an alternative input mode.</span></span> <span data-ttu-id="6101d-106">Les développeurs ont le même contrôle sur le positionnement une fois que l’icône du panneau de saisie est développée dans le In-Place panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-106">Developers have the same control over positioning once the Input Panel Icon is expanded into the In-Place Input Panel.</span></span> <span data-ttu-id="6101d-107">Cela permet de s’assurer que le In-Place panneau de saisie ne chevauche jamais les éléments clés de l’interface utilisateur dans la disposition d’une application, ou même de redistribuer l’interface utilisateur d’une application pour libérer de l’espace pour le panneau de saisie In-Place, puis le placer dans l’espace réservé.</span><span class="sxs-lookup"><span data-stu-id="6101d-107">This makes it possible to assure the In-Place Input Panel never overlaps with key user interface elements in an application's layout or even to reflow an application's user interface to make space for the In-Place Input Panel and then place it in the reserved space.</span></span> <span data-ttu-id="6101d-108">Le nouveau modèle de programmabilité offre une prise en charge plus qu’un simple positionnement. Toutefois, les développeurs peuvent également personnaliser la zone d’entrée, le mode de correction et de nombreuses autres propriétés du panneau de saisie pour adapter l’expérience de saisie du texte dans une application.</span><span class="sxs-lookup"><span data-stu-id="6101d-108">The new programmability model includes support for more than just positioning though, developers can also customize the input area, correction mode, and many other properties of Input Panel to tailor make the text entry experience in an application.</span></span> <span data-ttu-id="6101d-109">Enfin, pour la première fois, il est possible pour une application de recevoir l’encre de l’utilisateur, en plus du texte reconnu, associée à des insertions de texte à partir du panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-109">Lastly, for the first time it is possible for an application to receive the user ink, in addition to the recognized text, associated with text insertions from Input Panel.</span></span> <span data-ttu-id="6101d-110">Cela permet de créer de nouveaux scénarios d’application, y compris l’encre dans les journaux de suivi des modifications et de permettre aux utilisateurs de modifier ou d’afficher l’encre dans l’application.</span><span class="sxs-lookup"><span data-stu-id="6101d-110">This enables new application scenarios including ink in change tracking logs and allowing users to edit or view ink in the application.</span></span> <span data-ttu-id="6101d-111">Ces nouvelles fonctionnalités de programmabilité sont le résultat direct des commentaires que Microsoft a reçus de l’histoire du développeur du panneau de saisie et représentent la première étape vers une intégration plus étroite des applications et du panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-111">These new programmability features are the direct result of feedback Microsoft has received about the Input Panel developer story and represent the first step toward tighter integration of applications and Input Panel.</span></span>

<span data-ttu-id="6101d-112">Pour fournir ce modèle de programmabilité du panneau de saisie enrichi, le mécanisme existant pour interagir par programmation avec le panneau de saisie, l’objet [**PenInputPanel**](peninputpanel-class.md) , est déconseillé et remplacé par le nouvel objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) .</span><span class="sxs-lookup"><span data-stu-id="6101d-112">In order to provide this enriched Input Panel programmability model the existing mechanism for programmatically interacting with Input Panel, the [**PenInputPanel**](peninputpanel-class.md) object, is being deprecated and replaced by the new [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object.</span></span> <span data-ttu-id="6101d-113">En plus de fournir de nouvelles fonctionnalités de programmabilité, l’objet **TextInputPanel** fournit également une approche proche de toutes les fonctionnalités de programmation de l’objet **PenInputPanel** .</span><span class="sxs-lookup"><span data-stu-id="6101d-113">In addition to providing new programmability features, the **TextInputPanel** object also provides close to all of the programmatic capabilities of the **PenInputPanel** object.</span></span> <span data-ttu-id="6101d-114">L’objet **TextInputPanel** est inclus à la fois dans Windows Vista et dans le kit de développement logiciel Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="6101d-114">The **TextInputPanel** object is included in both Windows Vista and the Windows Vista Software Developer Kit.</span></span> <span data-ttu-id="6101d-115">L’objet **TextInputPanel** est uniquement compatible avec le panneau de saisie Windows Vista et ne peut pas être utilisé avec le panneau de saisie Windows XP Service Pack 2 ou une version antérieure.</span><span class="sxs-lookup"><span data-stu-id="6101d-115">The **TextInputPanel** object is only compatible with the Windows Vista Input Panel and cannot be used with the Windows XP Service Pack 2 or older Input Panel.</span></span> <span data-ttu-id="6101d-116">L’application précédemment écrite pour utiliser l’objet **PenInputPanel** continuera à fonctionner avec le panneau de saisie Windows Vista. Toutefois, lors de l’écriture de nouvelles applications Tablet, les développeurs sont fortement encouragés à utiliser le nouvel objet **TextInputPanel** au lieu de l’objet **PenInputPanel** déconseillé.</span><span class="sxs-lookup"><span data-stu-id="6101d-116">Application that were previously written to use the **PenInputPanel** object will continue to work with the Windows Vista Input Panel, however, when writing new Tablet applications developers are strongly encouraged to use the new **TextInputPanel** object instead of the deprecated **PenInputPanel** object.</span></span>

<span data-ttu-id="6101d-117">Chacune des options de programmabilité de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) peut être appliquée pour chaque champ de texte.</span><span class="sxs-lookup"><span data-stu-id="6101d-117">Each of the programmability options of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object can be applied on a per text field basis.</span></span> <span data-ttu-id="6101d-118">Pour ce faire, attachez une instance de l’objet **TextInputPanel** à l’aide de la propriété [**AttachedEditWindow**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_attachededitwindow) .</span><span class="sxs-lookup"><span data-stu-id="6101d-118">This is accomplished by attaching an instance of the **TextInputPanel** object using the [**AttachedEditWindow**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_attachededitwindow) property.</span></span> <span data-ttu-id="6101d-119">La propriété doit être définie sur le handle de fenêtre pour le champ de texte.</span><span class="sxs-lookup"><span data-stu-id="6101d-119">The property should be set to the window handle for the text field.</span></span>

> [!Note]  
> <span data-ttu-id="6101d-120">: Plusieurs des propriétés et méthodes décrites ci-dessous s’appliquent lorsque le panneau de saisie est en mode d’interaction sur place et non lorsque le panneau de saisie est en mode d’interaction flottant ou ancré.</span><span class="sxs-lookup"><span data-stu-id="6101d-120">: Several of the properties and methods describe below apply when Input Panel is in the in-place interaction mode and not when Input Panel is in the floating or docked interaction mode.</span></span> <span data-ttu-id="6101d-121">Le mode d’interaction sur place est le comportement du panneau de saisie où placer le focus dans un champ modifiable provoque l’affichage de l’icône du panneau de saisie en regard du champ, et le fait de cliquer sur l’icône du panneau de saisie provoque le développement du panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-121">The in-place interaction mode is the Input Panel behavior where placing focus in an editable field causes the Input Panel Icon to appear next to the field, and tapping on the Input Panel Icon causes Input Panel to expand.</span></span> <span data-ttu-id="6101d-122">Les méthodes et les propriétés qui s’appliquent uniquement lorsque le panneau de saisie est dans le mode d’interaction sur place contiennent toutes « InPlace » dans le nom de la méthode ou de la propriété.</span><span class="sxs-lookup"><span data-stu-id="6101d-122">The methods and properties that only apply when Input Panel is in the in-place interaction mode all contain 'InPlace' in the method or property name.</span></span>

 

## <a name="control-of-input-panel-icon-and-input-panel-visibility"></a><span data-ttu-id="6101d-123">Contrôle de l’icône du panneau de saisie et de la visibilité du panneau de saisie</span><span class="sxs-lookup"><span data-stu-id="6101d-123">Control of Input Panel Icon and Input Panel Visibility</span></span>

<span data-ttu-id="6101d-124">Le premier aspect du panneau de saisie dans lequel les développeurs d’applications ont plus de contrôle dans Windows Vista est sa visibilité.</span><span class="sxs-lookup"><span data-stu-id="6101d-124">The first aspect of Input Panel which application developers have more control over in Windows Vista is its visibility.</span></span> <span data-ttu-id="6101d-125">À l’aide de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) , il est possible de contrôler la visibilité du panneau de saisie In-Place de trois façons.</span><span class="sxs-lookup"><span data-stu-id="6101d-125">Using the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object it is possible to control the visibility of the In-Place Input Panel in three ways.</span></span> <span data-ttu-id="6101d-126">Avec une combinaison de propriétés et de méthodes, une application peut déterminer si le In-Place panneau de saisie s’affiche, lorsque le panneau de saisie In-Place affiche et s’il apparaît en premier en tant qu’icône du panneau de saisie ou s’il affiche immédiatement le développement.</span><span class="sxs-lookup"><span data-stu-id="6101d-126">With a combination of properties and methods an application can determine if the In-Place Input Panel shows, when the In-Place Input Panel shows, and whether it appears first as the Input Panel Icon or immediately shows expanded.</span></span> <span data-ttu-id="6101d-127">En combinant ces techniques pour contrôler la visibilité avec les techniques permettant de contrôler le positionnement abordé dans la section suivante, les développeurs d’applications peuvent créer des points de lancement personnalisés et des flux de travail personnalisés à l’aide du panneau de saisie In-Place dans une application.</span><span class="sxs-lookup"><span data-stu-id="6101d-127">By combining these techniques for controlling visibility with the techniques for controlling positioning discussed in the next section it is possible for application developers to create custom launch points and custom work flows using the In-Place Input Panel in an application.</span></span>

> [!Note]  
> <span data-ttu-id="6101d-128">Les propriétés et les méthodes décrites dans cette section s’appliquent uniquement lorsque le panneau de saisie est en mode d’interaction In-Place.</span><span class="sxs-lookup"><span data-stu-id="6101d-128">The properties and methods discussed in this section only apply when Input Panel is in the In-Place interaction mode.</span></span>

 

<span data-ttu-id="6101d-129">Tout d’abord, il est possible d’empêcher l’affichage de la In-Place panneau de saisie et de l’icône du panneau de saisie en affectant à la propriété [**InPlaceVisibleOnFocus**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplacevisibleonfocus) la **valeur false**.</span><span class="sxs-lookup"><span data-stu-id="6101d-129">First and most basically, it is possible to prevent the In-Place Input Panel and the Input Panel Icon from ever appearing by setting the [**InPlaceVisibleOnFocus**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplacevisibleonfocus) property to **false**.</span></span> <span data-ttu-id="6101d-130">Si elle est définie sur **true** , elle revient à la valeur par défaut du système qui s’affiche lorsque cela est possible, à condition qu’elle n’ait pas été désactivée par l’utilisateur ou le stratégie de groupe.</span><span class="sxs-lookup"><span data-stu-id="6101d-130">Setting it to **true** reverts it to the system default of appearing when possible, provided it has not been disabled by the user or Group Policy.</span></span> <span data-ttu-id="6101d-131">Cette option est utile pour les applications qui incluent des solutions d’entrée de texte personnalisées comme alternative au panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-131">This option is useful for applications that include custom text entry solutions as an alternative to Input Panel.</span></span>

<span data-ttu-id="6101d-132">Deuxièmement, en définissant la propriété [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) , un développeur peut spécifier l’État sur place, comme spécifié par l’énumération [**InPlaceState**](/windows/win32/api/peninputpanel/ne-peninputpanel-inplacestate) , le panneau de saisie In-Place s’affiche dans lorsque le focus est placé dans un champ de texte.</span><span class="sxs-lookup"><span data-stu-id="6101d-132">Second, by setting the [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) property a developer can specify which in-place state, as specified by the [**InPlaceState**](/windows/win32/api/peninputpanel/ne-peninputpanel-inplacestate) enumeration, the In-Place Input Panel appears in when focus is placed in a text field.</span></span> <span data-ttu-id="6101d-133">La valeur système par défaut est que le panneau de saisie In-Place s’affiche dans l’état de survol, à moins que le panneau de saisie soit déjà visible dans l’état développé, auquel cas le panneau de saisie reste développé.</span><span class="sxs-lookup"><span data-stu-id="6101d-133">The system default is for the In-Place Input Panel to appear in the hover state unless Input Panel is already visible in the expanded state, in which case Input Panel remains expanded.</span></span> <span data-ttu-id="6101d-134">La définition de la propriété **DefaultInPlaceState** sur InPlaceState a pour effet de faire en sorte que le panneau de saisie In-Place s’affiche toujours en premier, plutôt que l’icône du panneau de saisie apparaissant en premier, puis en demandant à l’utilisateur d’appuyer sur l’icône du panneau de saisie avant le développement du panneau de saisie. **\_**</span><span class="sxs-lookup"><span data-stu-id="6101d-134">Setting the **DefaultInPlaceState** property to **InPlaceState\_Expanded** causes the In-Place Input Panel to always appear expanded, rather than the Input Panel Icon appearing first and then requiring the user to tap the Input Panel Icon before Input Panel expands.</span></span> <span data-ttu-id="6101d-135">Les deux autres options sont **InPlaceState \_ auto**, qui est le comportement par défaut du système et **InPlaceState \_ HoverTarget** , qui provoque toujours l’affichage de l’icône du panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-135">The other two options are **InPlaceState\_Auto**, which is the system default behavior and **InPlaceState\_HoverTarget** which always causes the Input Panel Icon to appear.</span></span> <span data-ttu-id="6101d-136">La possibilité de spécifier que le panneau de saisie In-Place apparaît toujours développé est une nouveauté avec l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) et n’est pas possible à l’aide de l’objet [**PenInputPanel**](peninputpanel-class.md) .</span><span class="sxs-lookup"><span data-stu-id="6101d-136">The ability to specify that the In-Place Input Panel always appear expanded is new with the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object and not possible using the [**PenInputPanel**](peninputpanel-class.md) object.</span></span> <span data-ttu-id="6101d-137">L’illustration suivante montre les In-Place icône du panneau de saisie et les États développés du panneau.</span><span class="sxs-lookup"><span data-stu-id="6101d-137">The following illustration shows the In-Place Input Panel icon and expanded states of the panel.</span></span>

![icône du panneau de saisie sur place et États développés](images/8ce866b6-9a45-499f-a3d1-95a1d34d6402.jpg)

<span data-ttu-id="6101d-139">En plus de pouvoir contrôler l’État sur place, il est également possible pour un développeur de déterminer l’État sur place à un moment donné en obtenant la propriété [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) .</span><span class="sxs-lookup"><span data-stu-id="6101d-139">In addition to being able to control the in-place state, it is also possible for a developer to determine the in-place state at a given moment by getting the [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) property.</span></span> <span data-ttu-id="6101d-140">**CurrentInPlaceState** est égal à [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) lorsque le panneau de saisie n’est pas visible, sauf lorsque le **DefaultInPlaceState** est **InPlaceState \_ auto** , auquel cas le **CurrentInPlaceState** devient **InPlaceState \_ HoverTarget**.</span><span class="sxs-lookup"><span data-stu-id="6101d-140">The **CurrentInPlaceState** is equal to [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) when Input Panel is not visible, except when the **DefaultInPlaceState** is **InPlaceState\_Auto** in which case the **CurrentInPlaceState** becomes **InPlaceState\_HoverTarget**.</span></span> <span data-ttu-id="6101d-141">Les [](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging)  /  événements [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged) InPlaceVisibilityChanging peuvent être utilisés pour effectuer le suivi de l’état de visibilité du panneau de saisie In-Place.</span><span class="sxs-lookup"><span data-stu-id="6101d-141">The [**InPlaceVisibilityChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging) / [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged) events can be used to keep track on the In-Place Input Panel's visibility state.</span></span>

<span data-ttu-id="6101d-142">Enfin, un développeur peut forcer le In-Place panneau de saisie à masquer ou à afficher à l’aide de la méthode [**SetInPlaceVisibility**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) .</span><span class="sxs-lookup"><span data-stu-id="6101d-142">Lastly, a developer can force the In-Place Input Panel to hide or show using the [**SetInPlaceVisibility**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) method.</span></span> <span data-ttu-id="6101d-143">Si le développeur a défini précédemment la propriété [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) , le panneau de saisie s’affiche dans l’état spécifié quand l’affichage est forcé.</span><span class="sxs-lookup"><span data-stu-id="6101d-143">If the developer has previously set the [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) property, Input Panel appears in the specified state when forced to show.</span></span> <span data-ttu-id="6101d-144">Une application est uniquement autorisée à masquer ou afficher le In-Place panneau de saisie lorsque le focus est actuellement dans la fenêtre à laquelle l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) est attaché, et lorsque l’utilisateur n’a pas de panneau de saisie ouvert dans un autre mode d’interaction, tel que ancré ou flottant.</span><span class="sxs-lookup"><span data-stu-id="6101d-144">An application is only permitted to hide or show the In-Place Input Panel when focus is currently in the window the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is attached to and when the user does not have Input Panel open in another interaction mode, such as docked or floating.</span></span> <span data-ttu-id="6101d-145">La possibilité de forcer le In-Place panneau de saisie pour masquer ou afficher est également une nouveauté avec l’objet **TextInputPanel** et n’est pas possible à l’aide de l’objet [**PenInputPanel**](peninputpanel-class.md) .</span><span class="sxs-lookup"><span data-stu-id="6101d-145">The ability to force the In-Place Input Panel to hide or show is also new with the **TextInputPanel** object and not possible using the [**PenInputPanel**](peninputpanel-class.md) object.</span></span>

<span data-ttu-id="6101d-146">Ces options offrent aux développeurs d’applications un contrôle affiné sur le moment où s’affiche l' In-Place panneau de saisie et dans quel état.</span><span class="sxs-lookup"><span data-stu-id="6101d-146">These options give application developers fine grain control over when the In-Place Input Panel appears and in what state.</span></span> <span data-ttu-id="6101d-147">En personnalisant l’État sur place par défaut et en contrôlant la visibilité sur place indépendamment des modifications de focus, un développeur d’applications peut créer un workflow personnalisé lorsque le panneau de saisie répond à des paramètres d’application ou à une entrée utilisateur dans une application.</span><span class="sxs-lookup"><span data-stu-id="6101d-147">By customizing the default in-place state and controlling the in-place visibility independently of focus changes an application developer can create a custom work flow when Input Panel responds to either application settings or user input into an application.</span></span>

## <a name="absolute-positioning-of-input-panel-icon-and-input-panel"></a><span data-ttu-id="6101d-148">Positionnement absolu de l’icône du panneau de saisie et du panneau de saisie</span><span class="sxs-lookup"><span data-stu-id="6101d-148">Absolute Positioning of Input Panel Icon and Input Panel</span></span>

<span data-ttu-id="6101d-149">La nouvelle fonctionnalité la plus intéressante de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) est probablement le positionnement absolu du panneau de saisie In-Place.</span><span class="sxs-lookup"><span data-stu-id="6101d-149">Possibly the most compelling new feature found in the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is absolute positioning of the In-Place Input Panel.</span></span> <span data-ttu-id="6101d-150">Avec cette nouvelle fonctionnalité, un développeur d’applications peut s’assurer que le In-Place panneau de saisie ne se chevauche pas avec un ou plusieurs éléments visuels clés dans la disposition d’une application.</span><span class="sxs-lookup"><span data-stu-id="6101d-150">With this new capability an application developer can ensure that the In-Place Input Panel does not overlap with one or more key visual elements in an application layout.</span></span> <span data-ttu-id="6101d-151">À l’aide de l’objet [**PenInputPanel**](peninputpanel-class.md) , il était possible de positionner le In-Place panneau de saisie par rapport à un champ de texte en fonction d’un décalage. Toutefois, le panneau de saisie s’ajuste toujours pour rester à l’écran.</span><span class="sxs-lookup"><span data-stu-id="6101d-151">Using the [**PenInputPanel**](peninputpanel-class.md) object it was possible to position the In-Place Input Panel relative to a text field based on an offset, however, Input Panel would still adjust itself to keep on the screen.</span></span> <span data-ttu-id="6101d-152">Pour la première fois dans Vista, une application peut positionner le In-Place panneau de saisie à une position absolue à l’aide des coordonnées d’écran.</span><span class="sxs-lookup"><span data-stu-id="6101d-152">For the first time in Vista an application can position the In-Place Input Panel at an absolute position using screen coordinates.</span></span> <span data-ttu-id="6101d-153">En outre, la responsabilité de conserver le panneau de saisie sur l’écran est laissée au développeur de l’application, ce qui supprime le risque de repositionnement automatique du panneau de saisie et apparemment aléatoire.</span><span class="sxs-lookup"><span data-stu-id="6101d-153">Additionally, the responsibility of keeping Input Panel on the screen is left to the application developer therefore removing the chance that Input Panel will automatically, and seemingly randomly, reposition itself.</span></span>

> [!Note]  
> <span data-ttu-id="6101d-154">Les propriétés et les méthodes décrites dans cette section s’appliquent uniquement lorsque le panneau de saisie est en mode d’interaction In-Place.</span><span class="sxs-lookup"><span data-stu-id="6101d-154">The properties and methods discussed in this section only apply when Input Panel is in the In-Place interaction mode.</span></span>

 

<span data-ttu-id="6101d-155">Les deux principales méthodes nécessaires pour positionner de manière absolue le In-Place panneau de saisie sont [**SetInPlacePosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) et [**SetInPlaceHoverTargetPosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition).</span><span class="sxs-lookup"><span data-stu-id="6101d-155">The two primary methods necessary for absolutely positioning the In-Place Input Panel are [**SetInPlacePosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) and [**SetInPlaceHoverTargetPosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition).</span></span> <span data-ttu-id="6101d-156">Le premier est utilisé pour spécifier l’emplacement du In-Place panneau de saisie et le second est utilisé pour spécifier l’emplacement de l’icône du panneau de saisie pour le panneau de saisie In-Place.</span><span class="sxs-lookup"><span data-stu-id="6101d-156">The first is used to specify the location of the In-Place Input Panel and the second is used to specify the location of the Input Panel Icon for the In-Place Input Panel.</span></span> <span data-ttu-id="6101d-157">Si une application choisit de définir uniquement l’emplacement de l’icône du panneau de saisie et non l’emplacement du panneau de saisie In-Place, le panneau de saisie In-Place apparaît dans l’emplacement par défaut déterminé par le système.</span><span class="sxs-lookup"><span data-stu-id="6101d-157">If an application chooses to only set the Input Panel Icon location and not the location of the In-Place Input Panel, then the In-Place Input Panel appears in the default location determined by the system.</span></span> <span data-ttu-id="6101d-158">De même, si une application repositionne le In-Place panneau de saisie mais pas l’icône du panneau de saisie, l’icône du panneau de saisie apparaît à l’emplacement par défaut.</span><span class="sxs-lookup"><span data-stu-id="6101d-158">Similarly if an application repositions the In-Place Input Panel but not the Input Panel Icon, the Input Panel Icon appears in the default location.</span></span> <span data-ttu-id="6101d-159">L’emplacement est spécifié en coordonnées d’écran.</span><span class="sxs-lookup"><span data-stu-id="6101d-159">Location is specified in screen coordinates.</span></span> <span data-ttu-id="6101d-160">Le point réel positionné est le coin supérieur gauche de l’icône du panneau de saisie ou du panneau de saisie, sans peigne de correction développé.</span><span class="sxs-lookup"><span data-stu-id="6101d-160">The actual point being positioned is the upper left corner of the Input Panel Icon or Input Panel with no Correction Comb expanded.</span></span> <span data-ttu-id="6101d-161">Lorsque le peigne de correction est développé, le point positionné ne change pas.</span><span class="sxs-lookup"><span data-stu-id="6101d-161">When the Correction Comb is expanded, the point being positioned does not change.</span></span> <span data-ttu-id="6101d-162">(Voir figure 2 ci-dessous) Il n’existe aucune restriction sur l’emplacement où le In-Place panneau de saisie et l’icône du panneau de saisie In-Place peuvent être des emplacements et c’est la responsabilité des applications qui appellent ces méthodes pour les conserver à l’écran.</span><span class="sxs-lookup"><span data-stu-id="6101d-162">(See Figure 2 below)There are no restricts on where the In-Place Input Panel and the In-Place Input Panel Icon can be places and it is the responsibility of the applications calling these methods to keep them on the screen.</span></span> <span data-ttu-id="6101d-163">Les deux méthodes sont synchrones, ce qui signifie que le positionnement se produit avant le retour de la méthode.</span><span class="sxs-lookup"><span data-stu-id="6101d-163">Both methods are synchronous, meaning positioning occurs before the method returns.</span></span> <span data-ttu-id="6101d-164">Dans le cas où le panneau de saisie est déjà ouvert en mode d’interaction flottant ou ancré, une tentative de positionnement du In-Place panneau de saisie ou de l' In-Place icône du panneau de saisie échoue.</span><span class="sxs-lookup"><span data-stu-id="6101d-164">In the case where Input Panel is already open in the floating or docked interaction mode, an attempt to position the In-Place Input Panel or the In-Place Input Panel Icon fails.</span></span> <span data-ttu-id="6101d-165">En outre, les méthodes échouent si la fenêtre attachée à l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) n’a pas le focus actuellement.</span><span class="sxs-lookup"><span data-stu-id="6101d-165">Additionally the methods fail if the window attached to the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object does not currently have focus.</span></span>

<span data-ttu-id="6101d-166">Un appel à [**SetInPlacePosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) ou [**SetInPlaceHoverTargetPosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition) n’entraîne pas automatiquement l’affichage du panneau de saisie In-Place ou de l’icône du panneau de saisie, il définit simplement la position pour la prochaine fois qu’ils sont affichés.</span><span class="sxs-lookup"><span data-stu-id="6101d-166">A call to [**SetInPlacePosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) or [**SetInPlaceHoverTargetPosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition) does not automatically cause the In-Place Input Panel or Input Panel Icon to show, it simply sets the position for the next time they are shown.</span></span> <span data-ttu-id="6101d-167">L’appel de [**SetInPlaceVisibility**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) peut être utilisé pour les forcer à s’afficher immédiatement.</span><span class="sxs-lookup"><span data-stu-id="6101d-167">Calling [**SetInPlaceVisibility**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) can be used to force them to show immediately.</span></span>

![mesures du panneau de saisie sur place](images/0c67a77a-5d2f-489f-9357-b8a168d024d3.jpg)

<span data-ttu-id="6101d-169">Lorsque vous positionnez le In-Place panneau de saisie en calculant s’il s’éloigne de l’écran, cela peut être un peu délicat.</span><span class="sxs-lookup"><span data-stu-id="6101d-169">When positioning the In-Place Input Panel calculating whether it will go off the screen can be a little tricky.</span></span> <span data-ttu-id="6101d-170">Pour faciliter ce processus, plusieurs propriétés de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) peuvent être utilisées pour simplifier ce processus.</span><span class="sxs-lookup"><span data-stu-id="6101d-170">To make this process easier, there are several properties of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object that can be used to simplify this process.</span></span> <span data-ttu-id="6101d-171">Ces propriétés et cet événement peuvent être utilisés pour déterminer la taille exacte du In-Place panneau de saisie dans tous ses États :</span><span class="sxs-lookup"><span data-stu-id="6101d-171">Together these properties and event can be used to determine the exact size of the In-Place Input Panel in all of its states:</span></span>

-   <span data-ttu-id="6101d-172">[**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle): cette propriété fournit le rectangle englobant pour le panneau de saisie In-Place lorsque la plus grande zone d’entrée pour la langue d’entrée en cours est affichée.</span><span class="sxs-lookup"><span data-stu-id="6101d-172">[**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle)– This property provides the bounding rectangle for the In-Place Input Panel when the largest input area for the current input language is showing.</span></span> <span data-ttu-id="6101d-173">Si le pavé d’écriture ou le caractère est déterminé par la plus grande zone d’entrée, la hauteur du bouton Insérer est incluse.</span><span class="sxs-lookup"><span data-stu-id="6101d-173">If the Writing Pad or Character Pad are determined to the largest input area, then the height of the Insert button is included.</span></span> <span data-ttu-id="6101d-174">Elle n’inclut pas la hauteur du peigne de correction. Lorsque le In-Place panneau de saisie croît automatiquement, la paire d’événements [**InPlaceSizeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging)  /  [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged) est déclenchée et la valeur de cette propriété est mise à jour pour inclure la zone d’écriture supplémentaire ou la ligne d’écriture.</span><span class="sxs-lookup"><span data-stu-id="6101d-174">It does not include the height of the Correction Comb. When the In-Place Input Panel auto grows, [**InPlaceSizeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging) / [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged) event pair is fired and the value of this property is updated to include the additional writing area or writing line.</span></span>
-   <span data-ttu-id="6101d-175">[**PopUpCorrectionHeight**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_popupcorrectionheight): cette propriété spécifie la hauteur du peigne de correction après insertion lorsqu’elle est positionnée au-dessus du panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-175">[**PopUpCorrectionHeight**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_popupcorrectionheight)– This property specifies the height of the Post-Insertion Correction Comb when it is positioned above Input Panel.</span></span> <span data-ttu-id="6101d-176">Pour obtenir la hauteur complète du panneau de saisie In-Place avec le peigne de correction postérieur à l’insertion, ajoutez la hauteur du [**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) au **PopUpCorrectionHeight**.</span><span class="sxs-lookup"><span data-stu-id="6101d-176">To get the full height of the In-Place Input Panel with the Post-Insertion Correction Comb popped-up, add the height of the [**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) to the **PopUpCorrectionHeight**.</span></span>

<span data-ttu-id="6101d-177">En guise d’alternative plus simple à la définition de la position absolue du In-Place panneau de saisie et de l’icône du panneau de saisie, une application peut simplement spécifier si le panneau de saisie In-Place par défaut s’affiche au-dessus ou en dessous d’un champ d’entrée de texte.</span><span class="sxs-lookup"><span data-stu-id="6101d-177">As a simpler alternative to setting the absolute position of the In-Place Input Panel and Input Panel Icon, an application can just specify whether the In-Place Input Panel defaults to appearing above or below a text entry field.</span></span> <span data-ttu-id="6101d-178">De cette façon, il est possible d’éviter le chevauchement des éléments dans la disposition de l’application de manière plus souple.</span><span class="sxs-lookup"><span data-stu-id="6101d-178">In this way it is possible to avoid overlapping elements in the application layout in a more loosely controlled manner.</span></span> <span data-ttu-id="6101d-179">Pour ce faire, l’application définit [**PreferredInPlaceDirection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_preferredinplacedirection) sur **InPlaceDirection \_ Bottom** ou **InPlaceDirection \_ Top**.</span><span class="sxs-lookup"><span data-stu-id="6101d-179">To do this the application sets the [**PreferredInPlaceDirection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_preferredinplacedirection) to **InPlaceDirection\_Bottom** or **InPlaceDirection\_Top**.</span></span> <span data-ttu-id="6101d-180">La propriété est une préférence, car le In-Place panneau de saisie remplace la préférence définie par l’application, si nécessaire, pour conserver le panneau de saisie à l’écran.</span><span class="sxs-lookup"><span data-stu-id="6101d-180">The property is a preference because the In-Place Input Panel overrides the preference set by the application when necessary to keep Input Panel on the screen.</span></span> <span data-ttu-id="6101d-181">La valeur système par défaut consiste à positionner le In-Place panneau de saisie sous un champ de texte lorsque cela est possible et à le placer au-dessus.</span><span class="sxs-lookup"><span data-stu-id="6101d-181">The system default is to position the In-Place Input Panel below a text field when possible and otherwise to position it above.</span></span> <span data-ttu-id="6101d-182">La définition de **PreferredInPlaceDirection** sur InPlaceDirection restaure **\_ automatiquement** les valeurs par défaut du système.</span><span class="sxs-lookup"><span data-stu-id="6101d-182">Setting the **PreferredInPlaceDirection** to **InPlaceDirection\_Auto** restores the system default.</span></span>

<span data-ttu-id="6101d-183">Ensemble, les propriétés, les méthodes et les événements de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) offrent aux développeurs le contrôle nécessaire sur le In-Place panneau de saisie pour pouvoir positionner intelligemment l' In-Place panneau de saisie et l’icône du panneau de saisie dans une disposition d’application afin qu’ils n’interrompent pas le déroulement de la disposition et, dans certains cas, peuvent être intégrés.</span><span class="sxs-lookup"><span data-stu-id="6101d-183">Together the properties, methods and events of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object give developers the necessary control over the In-Place Input Panel to be able to cleverly position the In-Place Input Panel and Input Panel Icon in an application layout so they do not disrupt the layout flow and in some case may appear integrated.</span></span> <span data-ttu-id="6101d-184">Ce nouveau niveau de contrôle est un grand gain pour la conception d’applications de tablette.</span><span class="sxs-lookup"><span data-stu-id="6101d-184">This new level of control is a big win for Tablet application design.</span></span>

## <a name="access-to-the-three-input-panel-areas-writing-pad-character-pad-and-keyboard"></a><span data-ttu-id="6101d-185">Accès aux trois zones du panneau de saisie : pavé d’écriture, pavé de caractères et clavier</span><span class="sxs-lookup"><span data-stu-id="6101d-185">Access to the Three Input Panel Areas: Writing Pad, Character Pad and Keyboard</span></span>

<span data-ttu-id="6101d-186">Le panneau de saisie comporte trois zones d’entrée : le pavé d’écriture, le pavé de caractères et le clavier.</span><span class="sxs-lookup"><span data-stu-id="6101d-186">Input Panel has three input areas, the Writing Pad, Character Pad, and Keyboard.</span></span> <span data-ttu-id="6101d-187">À l’aide de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) , une application peut spécifier la zone d’entrée par défaut qui est présentée à l’utilisateur lorsque le panneau de saisie s’ouvre.</span><span class="sxs-lookup"><span data-stu-id="6101d-187">Using the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object an application can specify the default input area that is shown to the user when Input Panel opens.</span></span> <span data-ttu-id="6101d-188">La raison principale pour laquelle une application doit le faire consiste à coupler la zone d’entrée au type d’entrée d’un champ spécifique.</span><span class="sxs-lookup"><span data-stu-id="6101d-188">The main reason for an application to do so is to pair the input area with the input type of specific field.</span></span> <span data-ttu-id="6101d-189">Par exemple, le bloc d’écriture est probablement mieux adapté au remplissage d’un champ de commentaires, mais il peut être plus commode d’entrer un numéro de série de produit contenant à la fois des chiffres et des lettres.</span><span class="sxs-lookup"><span data-stu-id="6101d-189">For example, the Writing Pad is probably best suited for filling out a comments field, but the Keyboard may be more convenient for entering a product serial number that contains both numbers and letters.</span></span> <span data-ttu-id="6101d-190">Pour spécifier la zone d’entrée par défaut, une application définit la propriété [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) sur l’une des trois zones d’entrée comme défini par l’énumération [**PanelInputArea**](/windows/win32/api/peninputpanel/ne-peninputpanel-panelinputarea) .</span><span class="sxs-lookup"><span data-stu-id="6101d-190">In order to specify the default input area an applications sets the [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) property to one of the three input areas as defined by the [**PanelInputArea**](/windows/win32/api/peninputpanel/ne-peninputpanel-panelinputarea) enumeration.</span></span> <span data-ttu-id="6101d-191">L’illustration suivante montre les trois zones d’entrée.</span><span class="sxs-lookup"><span data-stu-id="6101d-191">The following illustration shows the three input areas.</span></span>

![écriture, caractère et panneau de saisie du clavier](images/3f1e3d03-88b9-478c-b12d-00d341bc8d5c.jpg)

<span data-ttu-id="6101d-193">La zone d’entrée par défaut du système est le bloc d’écriture pour l’anglais, le français, l’allemand, l’espagnol, l’italien, le portugais, le néerlandais et toutes les autres langues d’entrée latines.</span><span class="sxs-lookup"><span data-stu-id="6101d-193">The system default input area is the Writing Pad for English, French, German, Spanish, Italian, Portuguese, Dutch and all other Latin input languages.</span></span> <span data-ttu-id="6101d-194">Pour les langues d’entrée de l’Asie de l’est, y compris le japonais, le chinois et le coréen, la zone d’entrée par défaut est le pavé de caractères.</span><span class="sxs-lookup"><span data-stu-id="6101d-194">For the East Asian input languages, including Japanese, Chinese, and Korean, the default input area is the Character Pad.</span></span> <span data-ttu-id="6101d-195">Toutefois, lorsque l’utilisateur modifie la zone d’entrée, il remplace la zone d’entrée par défaut pour la langue d’entrée actuelle et est stockée en tant que nouvelle valeur par défaut pour cette langue d’entrée.</span><span class="sxs-lookup"><span data-stu-id="6101d-195">However, when the user changes input area it overrides the default input area for the current input language and is stored as the new default for that input language.</span></span> <span data-ttu-id="6101d-196">Le clavier est la zone d’entrée par défaut pour les champs de mot de passe, quelle que soit la langue d’entrée, sauf si la sécurité du mot de passe a été désactivée par l’utilisateur ou la stratégie de groupe.</span><span class="sxs-lookup"><span data-stu-id="6101d-196">The Keyboard is the default input area for password fields, regardless of the input language unless password security has been disabled by the user or group policy.</span></span> <span data-ttu-id="6101d-197">Dans tous les cas, la définition par programmation de la zone de texte par défaut remplace la valeur système par défaut, sauf si le champ actuel est un champ de mot de passe ou si le module de reconnaissance de l’écriture manuscrite pour la langue d’entrée actuelle ne prend pas en charge la zone d’entrée sélectionnée par programmation.</span><span class="sxs-lookup"><span data-stu-id="6101d-197">In all cases setting the default input panel area programmatically overrides the system default, unless the current field is a password field or the handwriting recognizer for the current input language does no support the programmatically selected input area.</span></span> <span data-ttu-id="6101d-198">La définition de la propriété [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) sur InPlaceDirection restaure **\_ automatiquement** les paramètres par défaut du système.</span><span class="sxs-lookup"><span data-stu-id="6101d-198">Setting the [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) property to **InPlaceDirection\_Auto** restores the system default settings.</span></span>

<span data-ttu-id="6101d-199">Que la zone du panneau de saisie par défaut ait été définie par programme ou non, l’utilisateur a la possibilité de modifier la zone du panneau de saisie en cours lorsque le panneau de saisie est ouvert.</span><span class="sxs-lookup"><span data-stu-id="6101d-199">Regardless of whether the default input panel area has been set programmatically, or not, the user has the option to change the current input panel area once Input Panel is open.</span></span> <span data-ttu-id="6101d-200">Une fois que l’utilisateur a modifié la zone d’entrée actuelle, la sélection de l’utilisateur persiste jusqu’à ce que le panneau de saisie se ferme ou que l’utilisateur modifie à nouveau la sélection.</span><span class="sxs-lookup"><span data-stu-id="6101d-200">After the user has changed the current input area, the user selection persists until Input Panel closes or the user changes the selection again.</span></span> <span data-ttu-id="6101d-201">Après la fermeture et la réouverture du panneau de saisie, la zone d’entrée par défaut définie par programmation est réaffichée.</span><span class="sxs-lookup"><span data-stu-id="6101d-201">After Input Panel closes and reopens, the programmatically set default input area re-shows.</span></span>

<span data-ttu-id="6101d-202">Étant donné que la zone du panneau de saisie en cours peut être différente de la zone du panneau de saisie par défaut, une application peut interroger la propriété [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea) pour déterminer quelle zone d’entrée est actuellement visible.</span><span class="sxs-lookup"><span data-stu-id="6101d-202">Since the current input panel area may be different that the default input panel area, an application can query the [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea) property to determine which input area is currently visible.</span></span> <span data-ttu-id="6101d-203">Si le panneau de saisie n’est pas visible actuellement, la zone d’entrée actuelle est égale à la zone d’entrée par défaut.</span><span class="sxs-lookup"><span data-stu-id="6101d-203">If Input Panel is not currently visible, the current input area is equal to the default input area.</span></span> <span data-ttu-id="6101d-204">La propriété **CurrentInputArea** n’est jamais égale à **PanelInputArea \_ auto**.</span><span class="sxs-lookup"><span data-stu-id="6101d-204">The **CurrentInputArea** property is never equal to **PanelInputArea\_Auto**.</span></span> <span data-ttu-id="6101d-205">Si [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) est égal à **PanelInputArea \_ auto**, le **CurrentInputArea** est égal à la dernière zone d’entrée indiquée ou la valeur système par défaut pour la langue d’entrée actuelle si le panneau de saisie n’a jamais été affiché.</span><span class="sxs-lookup"><span data-stu-id="6101d-205">If the [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) is equal to **PanelInputArea\_Auto**, then the **CurrentInputArea** is equal to the last input area shown or the system default for the current input language if Input Panel has never been shown.</span></span>

<span data-ttu-id="6101d-206">La principale différence entre la prise en charge de la zone d’entrée dans l’objet [**PenInputPanel**](peninputpanel-class.md) et celle de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) est le fait que l’application a désormais la possibilité de définir la zone d’entrée par défaut sur le caractère, en plus du pavé d’écriture et du clavier.</span><span class="sxs-lookup"><span data-stu-id="6101d-206">The primary difference between the input area support found in the [**PenInputPanel**](peninputpanel-class.md) object and that of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is the fact that the application now has the option to set the default input area to the Character Pad, in addition to the Writing Pad and Keyboard.</span></span>

<span data-ttu-id="6101d-207">À l’aide des propriétés ci-dessus, une application peut contrôler la zone d’entrée du panneau de saisie affichée dans différents champs et optimiser l’expérience d’entrée de texte de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6101d-207">Using the above properties an application can control the Input Panel input area shown in different fields and optimize the user's text input experience.</span></span> <span data-ttu-id="6101d-208">En outre, l’application peut tenir à jour la connaissance de la zone d’entrée actuelle et prendre des décisions conditionnelles en fonction de la zone d’entrée la plus adaptée à la tâche utilisateur actuelle.</span><span class="sxs-lookup"><span data-stu-id="6101d-208">Additionally, the application can maintain awareness of the current input area and make conditional decisions according to which input area is best suited to the current user task.</span></span>

## <a name="detailed-information-about-input-panels-interaction-mode"></a><span data-ttu-id="6101d-209">Informations détaillées sur le mode d’interaction du panneau de saisie</span><span class="sxs-lookup"><span data-stu-id="6101d-209">Detailed Information about Input Panel's Interaction Mode</span></span>

<span data-ttu-id="6101d-210">En plus de pouvoir détecter la zone d’entrée actuelle du panneau de saisie, il est également possible de détecter le mode d’interaction actuel : sur place, ancré ou flottant.</span><span class="sxs-lookup"><span data-stu-id="6101d-210">In additional to being able to detect Input Panel's current input area, it is also possible to detect the current interaction mode: In-Place, Docked or Floating.</span></span> <span data-ttu-id="6101d-211">Il peut être important pour l’application de connaître le mode d’interaction actuel pour comprendre comment l’utilisateur interagit avec l’application ou parce que certaines méthodes et propriétés de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) s’appliquent uniquement au mode d’interaction In-Place.</span><span class="sxs-lookup"><span data-stu-id="6101d-211">It may be important for the application to know the current interaction mode either to understand how the user is interacting with the application or because some methods and properties of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object only apply to the In-Place interaction mode.</span></span> <span data-ttu-id="6101d-212">Par exemple, dans une application, le rechargement des éléments d’interface utilisateur existants, puis positionne le In-Place panneau de saisie sur une zone vide dans ses interfaces utilisateur doit vérifier que le mode d’interaction actuel est sur place avant d’effectuer des ajustements.</span><span class="sxs-lookup"><span data-stu-id="6101d-212">For example in application the reflows existing user interface elements and then positions the In-Place Input Panel over a blank area in its user interfaces should check to make sure the current interaction mode is in-place before making adjustments.</span></span>

![modes des panneaux de saisie ancré, flottant et à la vitesse](images/98c8e96b-99b2-477a-9843-33b1fae7e75b.jpg)

<span data-ttu-id="6101d-214">La propriété [**CurrentInteractionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinteractionmode) de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) stocke le mode d’interaction actuel tel qu’il est choisi par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6101d-214">The [**CurrentInteractionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinteractionmode) property, of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object, stores the current interaction mode as chosen by the user.</span></span> <span data-ttu-id="6101d-215">Les modes possibles sont définis par l’énumération [**InteractionMode**](/windows/win32/api/peninputpanel/ne-peninputpanel-interactionmode) comme suit :</span><span class="sxs-lookup"><span data-stu-id="6101d-215">The possible modes are defined by the [**InteractionMode**](/windows/win32/api/peninputpanel/ne-peninputpanel-interactionmode) enumeration as:</span></span>

<span data-ttu-id="6101d-216">**InteractionMode \_ InPlace**: dans le In-Place panneau de saisie mode d’interaction apparaît en regard du champ d’entrée de texte qui a actuellement le focus.</span><span class="sxs-lookup"><span data-stu-id="6101d-216">**InteractionMode\_InPlace**– In the In-Place interaction mode Input Panel appears next to the text entry field that currently has focus.</span></span> <span data-ttu-id="6101d-217">Par défaut, l' In-Place icône du panneau de saisie apparaît lorsqu’un point d’insertion est placé dans un champ d’entrée de texte.</span><span class="sxs-lookup"><span data-stu-id="6101d-217">By default, the In-Place Input Panel Icon appears when an insertion point is placed in a text entry field.</span></span> <span data-ttu-id="6101d-218">Le fait de cliquer sur l’icône du panneau de saisie provoque le développement du panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-218">Tapping on the Input Panel Icon causes Input Panel to expand.</span></span> <span data-ttu-id="6101d-219">Le panneau de saisie In-Place est visible uniquement lorsqu’un point d’insertion se trouve dans un champ modifiable.</span><span class="sxs-lookup"><span data-stu-id="6101d-219">The In-Place Input Panel is only visible when an insertion point is in an editable field.</span></span>

<span data-ttu-id="6101d-220">InteractionMode \_ float : le mode d’interaction flottante est semblable au mode d’interaction InPlace, à ceci près qu’il n’est pas lié à un point d’insertion.</span><span class="sxs-lookup"><span data-stu-id="6101d-220">InteractionMode\_Floating – The Floating interaction mode is similar to the InPlace interaction mode, except it is not tied to an insertion point.</span></span> <span data-ttu-id="6101d-221">Pour ouvrir le panneau de saisie flottant, appuyez sur l’onglet du panneau de saisie qui s’affiche par défaut sur le bord gauche de l’écran.</span><span class="sxs-lookup"><span data-stu-id="6101d-221">The Floating Input Panel is opened by tapping on the Input Panel tab which appears by default on the left edge of the screen.</span></span> <span data-ttu-id="6101d-222">Le panneau de saisie flottant et l’onglet du panneau de saisie peuvent être déplacés et repositionnés par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6101d-222">Both the Floating Input Panel and Input Panel tab can be dragged and repositioned by the user.</span></span> <span data-ttu-id="6101d-223">Dans, le positionnement en mode flottant et le contrôle du panneau de saisie sont entièrement laissés à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6101d-223">In the floating mode positioning and control of Input Panel is left entirely to the user.</span></span>

<span data-ttu-id="6101d-224">InteractionMode \_ DockedTop : dans le Docked-Top panneau de saisie en mode interaction apparaît en haut de l’écran et le bureau active est redimensionné de sorte que le panneau de saisie ne chevauche pas les autres éléments Windows ou d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6101d-224">InteractionMode\_DockedTop – In the Docked-Top interaction mode Input Panel appears at the top of the screen and the active desktop is resized so Input Panel does not overlap with any other windows or UI elements.</span></span> <span data-ttu-id="6101d-225">Vous ne pouvez pas faire glisser ou déplacer le panneau de saisie en mode ancré.</span><span class="sxs-lookup"><span data-stu-id="6101d-225">In the docked mode Input Panel cannot be dragged or moved around.</span></span>

<span data-ttu-id="6101d-226">InteractionMode \_ DockedBottom : le mode d’interaction Docked-Bottom est le même que le mode de Docked-Top, à l’exception du panneau de saisie qui apparaît en bas de l’écran.</span><span class="sxs-lookup"><span data-stu-id="6101d-226">InteractionMode\_DockedBottom – The Docked-Bottom interaction mode is the same as the Docked-Top mode except Input Panel appears at the bottom of the screen.</span></span>

<span data-ttu-id="6101d-227">Lorsque le panneau de saisie n’est pas visible, le mode d’interaction actuel est sur place.</span><span class="sxs-lookup"><span data-stu-id="6101d-227">When Input Panel is not visible, the current interaction mode is In-Place.</span></span>

<span data-ttu-id="6101d-228">La publication du modèle d’interaction actuel est une autre façon dont l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) fournit plus d’informations sur l’état du panneau de saisie que celui disponible dans les versions précédentes.</span><span class="sxs-lookup"><span data-stu-id="6101d-228">Publishing the current interaction model is another way the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object provides more information about the state of Input Panel than has been available in any previous version.</span></span>

## <a name="detailed-information-about-input-panels-correction-mode"></a><span data-ttu-id="6101d-229">Informations détaillées sur le mode de correction du panneau de saisie</span><span class="sxs-lookup"><span data-stu-id="6101d-229">Detailed Information about Input Panel's Correction Mode</span></span>

<span data-ttu-id="6101d-230">L’aspect final du panneau de saisie que l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) vous donne des informations détaillées sur et le contrôle de est le mode de correction.</span><span class="sxs-lookup"><span data-stu-id="6101d-230">The final aspect of Input Panel that the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object gives you detailed information about and control of is the correction mode.</span></span> <span data-ttu-id="6101d-231">La connaissance du mode de correction permet aux applications de déterminer la taille actuelle du panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-231">Knowing the correction mode helps applications determine the current size of Input Panel.</span></span> <span data-ttu-id="6101d-232">Le contrôle de l’extension de la correction après insertion dans une application est un moyen de personnaliser l’expérience de correction dans une application.</span><span class="sxs-lookup"><span data-stu-id="6101d-232">Controlling how the Post-Insertion Correction expands in an application is one way to customize the correction experience in an application.</span></span>

<span data-ttu-id="6101d-233">Le peigne de correction peut apparaître dans deux modes de base : la pré-insertion et l’insertion.</span><span class="sxs-lookup"><span data-stu-id="6101d-233">There are two basic modes the Correction Comb can appear in: Pre-Insertion and the Post-Insertion.</span></span> <span data-ttu-id="6101d-234">Le peigne correction de pré-insertion est utilisé pour corriger le texte avant de l’insérer dans une application.</span><span class="sxs-lookup"><span data-stu-id="6101d-234">The Pre-Insertion Correction Comb is used to correct text before inserting it into an application.</span></span> <span data-ttu-id="6101d-235">Elle est activée en appuyant sur le texte en attente qui apparaît sous la ligne de base dans le bloc d’écriture en tant qu’encres utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6101d-235">It is activated by tapping on the pending text that appear below the baseline in the Writing Pad as the user inks.</span></span> <span data-ttu-id="6101d-236">Le peigne de correction après insertion est utilisé pour corriger le texte après qu’il a été inséré dans une application.</span><span class="sxs-lookup"><span data-stu-id="6101d-236">The Post-Insertion Correction Comb is used to correct text after it has been inserted into an application.</span></span> <span data-ttu-id="6101d-237">Elle est activée en plaçant le point d’insertion dans ou en sélectionnant du texte qui a été précédemment inséré.</span><span class="sxs-lookup"><span data-stu-id="6101d-237">It is activated by placing the insertion point in or selecting text that was previously inserted.</span></span> <span data-ttu-id="6101d-238">Au-delà des deux modes de base, il existe plusieurs variantes de la façon dont le peigne correction après insertion peut apparaître.</span><span class="sxs-lookup"><span data-stu-id="6101d-238">Beyond the two basic modes, there are several variations on how the Post-Insertion Correction Comb can appear.</span></span> <span data-ttu-id="6101d-239">Tout d’abord, il peut apparaître au-dessus ou au-dessous du panneau de saisie et le second peut apparaître réduit ou développé.</span><span class="sxs-lookup"><span data-stu-id="6101d-239">First it can appear either above or below Input Panel and second it can appear collapsed or expanded.</span></span> <span data-ttu-id="6101d-240">Dans l’État réduit, le peigne correction après insertion affiche uniquement une liste de remplacements.</span><span class="sxs-lookup"><span data-stu-id="6101d-240">In the collapsed state the Post-Insertion Correction Comb only shows a list of alternates.</span></span> <span data-ttu-id="6101d-241">Dans l’état développé, il comprend à la fois les alternatives et une zone pour réécrire le mot.</span><span class="sxs-lookup"><span data-stu-id="6101d-241">In the expanded state it includes both the alternates and an area to rewrite the word.</span></span>

![panneau de saisie du peigne de correction, du pré et du billet](images/6cc627de-fc15-4721-9f6a-7e1517d9e650.jpg)

<span data-ttu-id="6101d-243">La propriété [**CurrentCorrectionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) permet à une application de déterminer la configuration actuelle du peigne de correction. Les valeurs possibles de cette propriété, telles que définies par les énumérations [**correctionMode**](/windows/win32/api/peninputpanel/ne-peninputpanel-correctionmode) , sont les suivantes : **NotVisible**, **preinsert**, **PostInsertionCollapsed** et **PostInsertionExpanded**.</span><span class="sxs-lookup"><span data-stu-id="6101d-243">The [**CurrentCorrectionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) property allows an application to determine the current configuration of the Correction Comb. The possible values of this property as defined by the [**CorrectionMode**](/windows/win32/api/peninputpanel/ne-peninputpanel-correctionmode) enumerations are: **NotVisible**, **PreInsertion**, **PostInsertionCollapsed**, and **PostInsertionExpanded**.</span></span> <span data-ttu-id="6101d-244">Quand aucun panneau de saisie ou peigne de correction n’est visible, **CurrentCorrectionMode** est **NotVisible**.</span><span class="sxs-lookup"><span data-stu-id="6101d-244">When no Input Panel or Correction Comb is visible, the **CurrentCorrectionMode** is **NotVisible**.</span></span>

<span data-ttu-id="6101d-245">Par défaut, le système affiche le peigne de correction après insertion lorsque le sélectionne du texte correct et l’affiche réduit lorsque le point d’insertion est placé dans du texte correct.</span><span class="sxs-lookup"><span data-stu-id="6101d-245">By default the system shows the Post-Insertion Correction Comb expanded when the selects correctable text and shows it collapsed when the insertion point is placed in correctable text.</span></span> <span data-ttu-id="6101d-246">Une application peut spécifier où le peigne de correction après insertion doit toujours être développé en affectant à la propriété [**ExpandPostInsertionCorrection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_expandpostinsertioncorrection) la **valeur true**.</span><span class="sxs-lookup"><span data-stu-id="6101d-246">An application can specify where the Post-Insertion Correction Comb should always show expanded by setting the [**ExpandPostInsertionCorrection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_expandpostinsertioncorrection) property to **true**.</span></span> <span data-ttu-id="6101d-247">La valeur par défaut du système est **false**.</span><span class="sxs-lookup"><span data-stu-id="6101d-247">The system default is **false**.</span></span> <span data-ttu-id="6101d-248">Lorsque la propriété **ExpandPostInsertionCorrection** est utilisée conjointement avec l’interface [**IHandWrittenTextInsertion**](/windows/desktop/api/peninputpanel/nn-peninputpanel-ihandwrittentextinsertion) , un développeur d’applications peut ajouter de façon économique la prise en charge de la correction aux applications qui ne l’obtiendraient pas automatiquement.</span><span class="sxs-lookup"><span data-stu-id="6101d-248">When the **ExpandPostInsertionCorrection** property is used in conjunction with the [**IHandWrittenTextInsertion**](/windows/desktop/api/peninputpanel/nn-peninputpanel-ihandwrittentextinsertion) interface an application developer can cheaply add correction support to applications that would not get it automatically.</span></span>

<span data-ttu-id="6101d-249">Le suivi et le contrôle de l’état de correction du panneau de saisie constituent l’une des nombreuses nouvelles fonctionnalités de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) qui rendent le panneau de saisie plus étroit et l’intégration d’applications possible.</span><span class="sxs-lookup"><span data-stu-id="6101d-249">Tracking and controlling the correction state of the Input Panel is one of the many new features of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object that make tighter Input Panel and application integration possible.</span></span>

## <a name="event-notification-before-and-after-the-event-occurs"></a><span data-ttu-id="6101d-250">Notification d’événement avant et après l’événement</span><span class="sxs-lookup"><span data-stu-id="6101d-250">Event Notification Before and After the Event Occurs</span></span>

<span data-ttu-id="6101d-251">Un autre aspect de la programmabilité du panneau de saisie qui est beaucoup amélioré dans l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) est le modèle d’événement.</span><span class="sxs-lookup"><span data-stu-id="6101d-251">Another aspect of Input Panel programmability that is greatly improved in the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is the event model.</span></span> <span data-ttu-id="6101d-252">Maintenant, au lieu de déclencher uniquement des événements signalant une modification de l’état du panneau de saisie après la modification, des événements distincts sont envoyés avant et après la modification.</span><span class="sxs-lookup"><span data-stu-id="6101d-252">Now instead of only raising events signaling a change in Input Panel's state after the change has occurred there are separate events sent before and after the change occurs.</span></span> <span data-ttu-id="6101d-253">Les événements signalant le début d’un événement contiennent des verbes de dizaines de temps, tels que « modification » ou « insertion », tandis que les événements signalant la conclusion d’un événement contiennent des verbes passés tels que « modifié » ou « inséré ».</span><span class="sxs-lookup"><span data-stu-id="6101d-253">Events signaling the start of an event contain present tense verbs such as 'Changing' or 'Inserting', while events signaling the conclusion of an event contain past tense verbs such as 'Changed' or 'Inserted'.</span></span>

<span data-ttu-id="6101d-254">Ce modèle d’événement permet à une application de réagir à une modification avant ou à ce qu’elle se produise.</span><span class="sxs-lookup"><span data-stu-id="6101d-254">This event model makes it possible for an application to react to a change before or as it occurs.</span></span> <span data-ttu-id="6101d-255">Le panneau de saisie est bloqué en cas de modification ou de reprise après modification jusqu’à ce que les gestionnaires d’événements pour tous les événements soient terminés.</span><span class="sxs-lookup"><span data-stu-id="6101d-255">Input Panel is blocked from proceeding with a change or resuming after change until the event handlers for all events have completed.</span></span> <span data-ttu-id="6101d-256">Ces événements sont synchrones et de cette façon, une application peut retarder une modification jusqu’à ce qu’elle ait fini de réagir.</span><span class="sxs-lookup"><span data-stu-id="6101d-256">These events are synchronous and in this way an application can delay a change until it has finished reacting.</span></span> <span data-ttu-id="6101d-257">Toutefois, l’heure à laquelle un gestionnaire d’événements exécute le panneau de saisie devient inaccessible à l’utilisateur et peut sembler bloquée. il est donc important que le gestionnaire d’événements fonctionne correctement.</span><span class="sxs-lookup"><span data-stu-id="6101d-257">However, the time where an event handler is executing Input Panel becomes inaccessible to the user and may appear hung, therefore it is important that event handler perform well.</span></span> <span data-ttu-id="6101d-258">Toutefois, il n’est pas possible pour une application d’empêcher ou d’annuler un événement.</span><span class="sxs-lookup"><span data-stu-id="6101d-258">However, it is not possible for an application to prevent or cancel an event.</span></span> <span data-ttu-id="6101d-259">Tous les paramètres d’événement sont en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="6101d-259">All event parameters are read-only.</span></span> <span data-ttu-id="6101d-260">Vous trouverez ci-dessous une description des six paires d’événements de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) :</span><span class="sxs-lookup"><span data-stu-id="6101d-260">Below is a description of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object's six event pairs:</span></span>

-   <span data-ttu-id="6101d-261">[**InPlaceStateChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanging)  /  [**InPlaceStateChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanged): notification selon laquelle l’État sur place est sur le point d’être basculé de pointer vers le mode étendu, ou vice versa.</span><span class="sxs-lookup"><span data-stu-id="6101d-261">[**InPlaceStateChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanging) / [**InPlaceStateChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanged)– Notification that the in-place state is about to or has just switched from hover to expanded or vice versa.</span></span> <span data-ttu-id="6101d-262">Les paramètres sont le nouvel et l’ancien État sur place.</span><span class="sxs-lookup"><span data-stu-id="6101d-262">Parameters are the new and old in-place state.</span></span> <span data-ttu-id="6101d-263">La valeur de la propriété [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) est modifiée.</span><span class="sxs-lookup"><span data-stu-id="6101d-263">Coincidences with a change in the value of the [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) property.</span></span>
-   <span data-ttu-id="6101d-264">[**InPlaceSizeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging)  /  [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged): indique quand le In-Place taille du panneau de saisie est sur le point de changer ou a été modifié en raison d’un changement de taille d’utilisateur, d’une croissance automatique ou d’une modification de la zone d’entrée.</span><span class="sxs-lookup"><span data-stu-id="6101d-264">[**InPlaceSizeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging) / [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged)– Indicated when the In-Place Input Panel size is about to change or has changed due to a user resize, auto growth, or an input area change.</span></span> <span data-ttu-id="6101d-265">Les paramètres sont les nouveaux et anciens rectangle englobant.</span><span class="sxs-lookup"><span data-stu-id="6101d-265">Parameters are the new and old bounding rectangle.</span></span> <span data-ttu-id="6101d-266">La valeur de la propriété [**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) est modifiée.</span><span class="sxs-lookup"><span data-stu-id="6101d-266">Coincidences with a change in the value of the [**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) property.</span></span>
-   <span data-ttu-id="6101d-267">[**InputAreaChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanging)  /  [**InputAreaChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanged): signale que la zone d’entrée du panneau de saisie est sur le point de changer ou qu’elle est passée de à l’autre des trois zones d’entrée possibles : le pavé d’écriture, le pavé de caractères ou le clavier.</span><span class="sxs-lookup"><span data-stu-id="6101d-267">[**InputAreaChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanging) / [**InputAreaChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanged)– Reports when the Input Panel input area is about to change or has changed from to the other of the three possible input areas: Writing Pad, Character Pad or Keyboard.</span></span> <span data-ttu-id="6101d-268">Les paramètres sont les nouvelles et anciennes zones d’entrée.</span><span class="sxs-lookup"><span data-stu-id="6101d-268">Parameters are the new and old input area.</span></span> <span data-ttu-id="6101d-269">Coïncide avec une modification de la valeur de la propriété [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea)</span><span class="sxs-lookup"><span data-stu-id="6101d-269">Coincides with a change in the value of the [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea) property</span></span>
-   <span data-ttu-id="6101d-270">[**CorrectionModeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanging)  /  [**CorrectionModeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanged): notification indiquant que le mode de correction va être modifié ou a changé.</span><span class="sxs-lookup"><span data-stu-id="6101d-270">[**CorrectionModeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanging) / [**CorrectionModeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanged)– Notification that the correction mode is about to change or has changed.</span></span> <span data-ttu-id="6101d-271">Les modes de correction possibles sont : non visible, avant insertion, après insertion réduite et développé après l’insertion.</span><span class="sxs-lookup"><span data-stu-id="6101d-271">Possible correction modes are: not visible, Pre-Insertion, Post-Insertion collapsed, and Post-Insertion expanded.</span></span> <span data-ttu-id="6101d-272">Les paramètres sont le nouveau et l’ancien mode de correction.</span><span class="sxs-lookup"><span data-stu-id="6101d-272">Parameters are the new and old correction mode.</span></span> <span data-ttu-id="6101d-273">Coïncide avec une modification de la valeur de la propriété [**CurrentCorrectionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) .</span><span class="sxs-lookup"><span data-stu-id="6101d-273">Coincides with a change in the value of the [**CurrentCorrectionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) property.</span></span>
-   <span data-ttu-id="6101d-274">[**InPlaceVisibilityChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging)  /  [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged): indique quand le In-Place visibilité du panneau de saisie est sur le ou modifié.</span><span class="sxs-lookup"><span data-stu-id="6101d-274">[**InPlaceVisibilityChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging) / [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged)– Indicates when the In-Place Input Panel visibility is about to change or has changed.</span></span> <span data-ttu-id="6101d-275">Les paramètres sont la nouvelle et l’ancienne visibilité.</span><span class="sxs-lookup"><span data-stu-id="6101d-275">Parameters are the new and old visibility.</span></span> <span data-ttu-id="6101d-276">Une nouvelle visibilité de la **valeur false** signifie que le In-Place panneau de saisie n’est pas ouvert, mais n’empêche pas le panneau de saisie d’être visible dans le mode d’interaction flottant ou ancré.</span><span class="sxs-lookup"><span data-stu-id="6101d-276">A new visibility of **false** means the In-Place Input Panel is not open, but does not preclude Input Panel being visible in the Floating or Docked interaction mode.</span></span>
-   <span data-ttu-id="6101d-277">[**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting)  /  [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted): indique quand le texte est sur le ou inséré à partir du panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-277">[**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting) / [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted)– Indicates when text is about to be inserted or has been inserted from Input Panel.</span></span> <span data-ttu-id="6101d-278">Le paramètre est un tableau d’objets [**InkDisp**](inkdisp-class.md) , chacun contenant une ligne de l’encre et du texte qui composent l’insertion.</span><span class="sxs-lookup"><span data-stu-id="6101d-278">Parameter is an array of [**InkDisp**](inkdisp-class.md) objects, each containing a line of the ink and text that make up the insertion.</span></span> <span data-ttu-id="6101d-279">En savoir plus sur cet événement dans la section suivante.</span><span class="sxs-lookup"><span data-stu-id="6101d-279">More on this event in the next section.</span></span>

<span data-ttu-id="6101d-280">Ces événements fournissent aux applications des informations essentielles sur les modifications apportées au panneau de saisie et les autorisent à réagir en conséquence.</span><span class="sxs-lookup"><span data-stu-id="6101d-280">These events provide applications with essential information about changes in Input Panel and allow them to react accordingly.</span></span> <span data-ttu-id="6101d-281">Là encore, la modification apportée au modèle d’événement du panneau de saisie représente une étape vers une meilleure interaction entre les applications et le panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-281">Again the change in the Input Panel event model represents a step toward better interaction between applications and Input Panel.</span></span>

## <a name="support-for-collecting-the-ink-and-text-entered-in-input-panel"></a><span data-ttu-id="6101d-282">Prise en charge de la collecte de l’encre et du texte entrés dans le panneau de saisie</span><span class="sxs-lookup"><span data-stu-id="6101d-282">Support for Collecting the Ink and Text Entered in Input Panel</span></span>

<span data-ttu-id="6101d-283">Enfin, la dernière fonctionnalité très puissante de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) est la capacité à obtenir l’objet Ink pour le texte entré par le biais du panneau de saisie à partir du panneau de saisie au moment où le texte est inséré dans une application.</span><span class="sxs-lookup"><span data-stu-id="6101d-283">Last but certainly not least, one very powerful new feature of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is the ability to get the ink object for text entered via Input Panel out of Input Panel at the time the text is inserted into an application.</span></span> <span data-ttu-id="6101d-284">Il s’agit d’une fonctionnalité souvent demandée dans le cadre du suivi des modifications et de la conservation des enregistrements.</span><span class="sxs-lookup"><span data-stu-id="6101d-284">This has been an often requested feature for the purpose of change tracking and record keeping.</span></span> <span data-ttu-id="6101d-285">Il permet également aux applications d’utiliser l’encre dans leur interface utilisateur en tant qu’élément statique ou à l’aide d’une surface d’entrée manuscrite personnalisée.</span><span class="sxs-lookup"><span data-stu-id="6101d-285">It also allows applications to make use of the ink in their UI either as a static element or with a custom inking surface.</span></span>

<span data-ttu-id="6101d-286">Pour recevoir l’objet [**InkDisp**](inkdisp-class.md) pour le texte entré par le biais du panneau de saisie, une application doit s’inscrire pour recevoir les événements [**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting) ou [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted) générés par l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) .</span><span class="sxs-lookup"><span data-stu-id="6101d-286">In order to receive the [**InkDisp**](inkdisp-class.md) object for text entered via Input Panel, an application must register to receive the [**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting) or [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted) events generated by the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object.</span></span> <span data-ttu-id="6101d-287">L’événement **TextInserting** est déclenché immédiatement avant que le texte soit inséré à partir du panneau de saisie dans une application et que le texte ne s’insère pas tant que tous les gestionnaires d’événements ne sont pas terminés.</span><span class="sxs-lookup"><span data-stu-id="6101d-287">The **TextInserting** event is fired immediately before text is inserted from Input Panel into an application and the text does not insert until all event handlers complete.</span></span> <span data-ttu-id="6101d-288">L’événement **TextInserted** se déclenche immédiatement après l’insertion du test.</span><span class="sxs-lookup"><span data-stu-id="6101d-288">The **TextInserted** event fires immediately after test is inserted.</span></span> <span data-ttu-id="6101d-289">Le seul paramètre pour l’événement **TextInserting** et **TextInserted** est un tableau d’objets **InkDisp** qui comprend un objet **InkDisp** pour chaque ligne de texte insérée à partir du panneau de saisie.</span><span class="sxs-lookup"><span data-stu-id="6101d-289">The only parameter for both the **TextInserting** and **TextInserted** event is an array of **InkDisp** objects which includes one **InkDisp** object for each line of text inserted from Input Panel.</span></span> <span data-ttu-id="6101d-290">Remarque : le panneau de saisie est inactif pendant que les gestionnaires d’événements sont en cours d’exécution et peuvent sembler bloqués à l’utilisateur. il est donc important de définir ces gestionnaires d’événements en clair et de s’assurer qu’ils s’exécutent rapidement.</span><span class="sxs-lookup"><span data-stu-id="6101d-290">Note: Input Panel is inactive while the event handlers are running and may appear hung to the user, therefore it is important to make these event handlers light weight and make sure they execute quickly.</span></span> <span data-ttu-id="6101d-291">En outre, une application ne doit pas créer de gestionnaire pour cet événement, sauf si elle a une utilisation spécifique pour les informations dans la mesure où il y a un coût de performances associé.</span><span class="sxs-lookup"><span data-stu-id="6101d-291">Additionally, an application should not create a handler for this event unless it has a specific use for the information since there is a performance cost associated with doing so.</span></span> <span data-ttu-id="6101d-292">Le panneau de saisie marshale uniquement les données manuscrites si une application demande les données. dans le cas contraire, le panneau de saisie peut ignorer cette opération coûteuse.</span><span class="sxs-lookup"><span data-stu-id="6101d-292">Input Panel only marshals the ink data if there is an application requesting the data, otherwise, Input Panel can skip this costly operation.</span></span> <span data-ttu-id="6101d-293">Les paramètres des événements **TextInserting** et **TextInserted** sont en lecture seule, ce qui signifie qu’il n’est pas possible pour les applications de modifier le texte inséré avant qu’il ne soit inséré dans l’application.</span><span class="sxs-lookup"><span data-stu-id="6101d-293">The parameters of both the **TextInserting** and **TextInserted** events are read-only, meaning it is not possible for applications to change inserted text before it is inserted into the application.</span></span>

<span data-ttu-id="6101d-294">Les possibilités offertes par les applications avec cette nouvelle fonctionnalité sont nombreuses et elles ne peuvent pas être plus simples à utiliser.</span><span class="sxs-lookup"><span data-stu-id="6101d-294">The possibilities for what applications can do with this new functionality are broad and it could not be simpler to use.</span></span> <span data-ttu-id="6101d-295">Autoriser le texte reconnu et l’entrée manuscrite entrés via le panneau de saisie à collecter par les applications n’est qu’une autre façon dont les développeurs du panneau de saisie sont améliorés dans Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="6101d-295">Allow recognized text and ink entered via Input Panel to be collected by applications is just another way Input Panel's developer story is improved in Windows Vista.</span></span>

## <a name="conclusion"></a><span data-ttu-id="6101d-296">Conclusion</span><span class="sxs-lookup"><span data-stu-id="6101d-296">Conclusion</span></span>

<span data-ttu-id="6101d-297">Globalement, le scénario de programmabilité pour le panneau de saisie Tablet PC est beaucoup amélioré avec l’introduction de l’objet [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) dans Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="6101d-297">Overall, the programmability story for the Tablet PC Input Panel is greatly improved with the introduction of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object in Windows Vista.</span></span> <span data-ttu-id="6101d-298">À l’aide de l’objet **TextInputPanel** , les développeurs d’applications ont un meilleur contrôle et plus d’informations sur le panneau de saisie d’État dans la version précédente.</span><span class="sxs-lookup"><span data-stu-id="6101d-298">By using the **TextInputPanel** object, application developers have greater control and more information about the state Input Panel in previous release.</span></span> <span data-ttu-id="6101d-299">Par conséquent, les développeurs d’applications qui créent de nouvelles applications Tablet PC ou qui mettent à jour des applications existantes sont fortement encouragés à utiliser l’objet **TextInputPanel** à la place de l’objet [**PenInputPanel**](peninputpanel-class.md) désormais déconseillé.</span><span class="sxs-lookup"><span data-stu-id="6101d-299">As a result application developers building new Tablet PC applications or updating existing applications are strongly encouraged to use the **TextInputPanel** object instead of the now deprecated [**PenInputPanel**](peninputpanel-class.md) object.</span></span> <span data-ttu-id="6101d-300">En outre, la prise en charge de nouvelles fonctionnalités, telles que le positionnement absolu du panneau de saisie et l’icône du panneau de saisie, ainsi que la possibilité pour l’application de recevoir le texte et l’encre du module de reconnaissance entrés via le panneau de saisie permettent de créer de nouveaux scénarios et fonctionnalités d’application.</span><span class="sxs-lookup"><span data-stu-id="6101d-300">Additionally, support for new features such as absolute positioning of Input Panel and the Input Panel icon, and the ability for application to receive both recognizer text and ink entered via Input Panel enable new application functionality and scenarios.</span></span> <span data-ttu-id="6101d-301">L’inclusion de ces fonctionnalités et plusieurs autres sont en réponse directe aux commentaires des développeurs et marquent les premières étapes vers l’intégration complète du panneau de saisie avec les applications Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="6101d-301">The inclusion of these features and several others are in direct response to developer feedback and mark the first steps toward full integration of Input Panel with Tablet PC applications.</span></span> <span data-ttu-id="6101d-302">Enfin, le développement de la fonctionnalité d’application Tablet PC est un grand avantage pour les développeurs d’applications et la plateforme Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="6101d-302">Ultimately, expanding the Tablet PC application functionality is a big win for both application developers and the Tablet PC platform.</span></span>

 

 



