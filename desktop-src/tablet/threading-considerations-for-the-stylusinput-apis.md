---
description: Vue d’ensemble des considérations relatives aux threads lors de l’utilisation de l’interface de programmation d’applications (API) StylusInput.
ms.assetid: 5d98768a-c60b-4bb0-8640-9bf38254d41f
title: Considérations relatives aux threads pour l’API StylusInput
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 530ac95fdf0e74e30c83a437b6ed573d03bb2c91
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103865289"
---
# <a name="threading-considerations-for-the-stylusinput-api"></a><span data-ttu-id="aa778-103">Considérations relatives aux threads pour l’API StylusInput</span><span class="sxs-lookup"><span data-stu-id="aa778-103">Threading Considerations for the StylusInput API</span></span>

<span data-ttu-id="aa778-104">L’objet [**RealTimeStylus**](realtimestylus-class.md) est conçu pour fournir un accès en temps réel au flux de données à partir du stylet du Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="aa778-104">The [**RealTimeStylus**](realtimestylus-class.md) object is designed to provide real-time access to the data stream from the tablet pen.</span></span> <span data-ttu-id="aa778-105">Les plug-ins, objets qui implémentent l’interface [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) ou [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) peuvent être ajoutés à un objet **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="aa778-105">Plug-ins, objects which implement the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) or [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface can be added to a **RealTimeStylus** object.</span></span> <span data-ttu-id="aa778-106">Les plug-ins synchrones sont généralement appelés directement par l’objet **RealTimeStylus** sur un thread de priorité élevée, tandis que les plug-ins asynchrones sont généralement appelés sur le thread d’interface utilisateur de l’application.</span><span class="sxs-lookup"><span data-stu-id="aa778-106">Synchronous plug-ins are generally called directly by the **RealTimeStylus** object on a high-priority thread, while asynchronous plug-ins are generally called on the application's user interface (UI) thread.</span></span> <span data-ttu-id="aa778-107">Créez ou utilisez des plug-ins synchrones pour les tâches qui nécessitent un accès en temps réel au flux de données et qui font l’objet d’une indemande de calcul, comme le filtrage de paquets.</span><span class="sxs-lookup"><span data-stu-id="aa778-107">Create or use synchronous plug-ins for tasks that require real-time access to the data stream and are computationally undemanding, such as packet filtering.</span></span> <span data-ttu-id="aa778-108">Créez ou utilisez des plug-ins asynchrones pour les tâches qui ne nécessitent pas d’accès en temps réel au flux de données, telles que la collecte d’encres.</span><span class="sxs-lookup"><span data-stu-id="aa778-108">Create or use asynchronous plug-ins for tasks that do not require real-time access to the data stream, such as ink collection.</span></span>

<span data-ttu-id="aa778-109">Étant donné que les données de plug-in de la collection de plug-in asynchrone de l’objet [**RealTimeStylus**](realtimestylus-class.md) sont mises en file d’attente, les plug-ins asynchrones peuvent recevoir des données avant de recevoir un appel à sa méthode [RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) , mais une fois l’objet **RealTimeStylus** désactivé.</span><span class="sxs-lookup"><span data-stu-id="aa778-109">Because the plug-in data for the [**RealTimeStylus**](realtimestylus-class.md) object's asynchronous plug-in collection is queued, asynchronous plug-ins may receive data prior to receiving a call to its [RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) method but after the **RealTimeStylus** object is disabled.</span></span> <span data-ttu-id="aa778-110">Notez que certaines des méthodes et propriétés de l’objet **RealTimeStylus** lèvent une exception si l’objet **RealTimeStylus** est désactivé.</span><span class="sxs-lookup"><span data-stu-id="aa778-110">Note that some of the **RealTimeStylus** object's methods and properties throw an exception if the **RealTimeStylus** object is disabled.</span></span>

<span data-ttu-id="aa778-111">Les méthodes d’interface [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) suivantes peuvent appeler sur un thread autre que le thread de données de stylet de tablette.</span><span class="sxs-lookup"><span data-stu-id="aa778-111">The following [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface methods may call on a thread other than the tablet pen data thread.</span></span>

-   <span data-ttu-id="aa778-112">Les méthodes [RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) et [RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) sont appelées sur le thread qui met à jour la propriété [Enabled](/previous-versions/ms585380(v=vs.100)) de l’objet [**RealTimeStylus**](realtimestylus-class.md) ou qui ajoute ou supprime le plug-in pendant que l’objet **RealTimeStylus** est activé.</span><span class="sxs-lookup"><span data-stu-id="aa778-112">The [RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) and [RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) methods are called on the thread that updates the [**RealTimeStylus**](realtimestylus-class.md) object's [Enabled](/previous-versions/ms585380(v=vs.100)) property or that adds or removes the plug-in while the **RealTimeStylus** object is enabled.</span></span>
-   <span data-ttu-id="aa778-113">La méthode [CustomStylusDataAdded](/previous-versions/ms824753(v=msdn.10)) est appelée sur le thread qui appelle la méthode [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) de l’objet [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="aa778-113">The [CustomStylusDataAdded](/previous-versions/ms824753(v=msdn.10)) method is called on the thread that calls the [**RealTimeStylus**](realtimestylus-class.md) object's [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) method.</span></span>
-   <span data-ttu-id="aa778-114">La méthode d' [erreur](/previous-versions/ms824754(v=msdn.10)) est appelée sur le thread sur lequel le plug-in synchrone s’exécute lorsqu’il lève une exception.</span><span class="sxs-lookup"><span data-stu-id="aa778-114">The [Error](/previous-versions/ms824754(v=msdn.10)) method is called on the thread on which the synchronous plug-in is running when it throws an exception.</span></span>

<span data-ttu-id="aa778-115">Pour interagir avec votre application à partir d’un plug-in synchrone, utilisez la méthode [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) de l’objet [**RealTimeStylus**](realtimestylus-class.md) et gérez les données personnalisées du stylet dans l’un de vos plug-ins asynchrones. Si vous effectuez un appel synchrone à un autre thread à partir d’un plug-in synchrone, vous risquez de bloquer l’objet **RealTimeStylus** et donc de bloquer la collecte d’encres.</span><span class="sxs-lookup"><span data-stu-id="aa778-115">To interact with your application from a synchronous plug-in, use the [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) method of the [**RealTimeStylus**](realtimestylus-class.md) object and handle the custom stylus data in one of your asynchronous plug-ins. If you make a synchronous call to another thread from a synchronous plug-in, you may block the **RealTimeStylus** object and thus block ink collection.</span></span>

<span data-ttu-id="aa778-116">Certaines tâches peuvent être exigeantes en termes de calcul, tout en nécessitant un accès en temps réel au flux de données du stylet, par exemple pour la reconnaissance de mouvement multitrait.</span><span class="sxs-lookup"><span data-stu-id="aa778-116">Certain tasks may be computationally demanding yet still require real-time access to the tablet pen's data stream, such as for multistroke gesture recognition.</span></span> <span data-ttu-id="aa778-117">Les API StylusInput fournissent un modèle [**RealTimeStylus**](realtimestylus-class.md) monté en cascade qui vous permet d’utiliser deux objets **RealTimeStylus** , chacun appelant ses plug-ins synchrones à partir de différents threads.</span><span class="sxs-lookup"><span data-stu-id="aa778-117">The StylusInput APIs provide a cascaded [**RealTimeStylus**](realtimestylus-class.md) model that allows you to use two **RealTimeStylus** objects, each one calling its synchronous plug-ins from different threads.</span></span> <span data-ttu-id="aa778-118">Pour plus d’informations sur le modèle **RealTimeStylus** monté en cascade, consultez [le modèle RealTimeStylus monté en cascade](the-cascaded-realtimestylus-model.md).</span><span class="sxs-lookup"><span data-stu-id="aa778-118">For more information about the cascaded **RealTimeStylus** model, see [The Cascaded RealTimeStylus Model](the-cascaded-realtimestylus-model.md).</span></span>

> [!Note]  
> <span data-ttu-id="aa778-119">Vous ne pouvez pas attacher l’objet [**RealTimeStylus**](realtimestylus-class.md) à une fenêtre ou à un contrôle dans un processus différent.</span><span class="sxs-lookup"><span data-stu-id="aa778-119">You cannot attach the [**RealTimeStylus**](realtimestylus-class.md) object to a window or control in a different process.</span></span>

 

<span data-ttu-id="aa778-120">Pour plus d’informations sur les considérations relatives aux threads pour Tablet PC en général, consultez Considérations sur les [Threads Tablet PC](tablet-pc-threading-considerations.md)</span><span class="sxs-lookup"><span data-stu-id="aa778-120">For more information about threading considerations for the Tablet PC in general, see [Tablet PC Threading Considerations](tablet-pc-threading-considerations.md)</span></span>

 

 
