---
description: Une fois l’encre collectée, les applications peuvent gérer, manipuler et/ou transférer ces données vers d’autres médias.
ms.assetid: 5a8c370e-79cb-47f0-a7b3-a631874ad757
title: Données manuscrites
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: de73291269398ae42a47ee26897c8da9bac8abe7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104525965"
---
# <a name="ink-data"></a><span data-ttu-id="af811-103">Données manuscrites</span><span class="sxs-lookup"><span data-stu-id="af811-103">Ink Data</span></span>

<span data-ttu-id="af811-104">Une fois l’encre collectée, les applications peuvent gérer, manipuler et/ou transférer ces données vers d’autres médias.</span><span class="sxs-lookup"><span data-stu-id="af811-104">After the ink is collected, applications can manage, manipulate, and/or transfer that data to other media.</span></span> <span data-ttu-id="af811-105">Les actions de sélection, de copie, de déplacement, d’enregistrement, d’affichage et de modification de l’encre se produisent sur l’objet [**Ink**](inkdisp-class.md) et les membres qu’il contient, [**comme les objets Stroke et**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) .</span><span class="sxs-lookup"><span data-stu-id="af811-105">The actions of selecting, copying, moving, saving, viewing, and altering of the ink take place on the [**Ink**](inkdisp-class.md) object and its contained members, such as the [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection and [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) objects.</span></span>

> [!Note]  
> <span data-ttu-id="af811-106">À l’aide de Real-Time stylet, les applications peuvent choisir de conserver les données dans leur propre format (par exemple, enregistrer des traits).</span><span class="sxs-lookup"><span data-stu-id="af811-106">Using Real-Time Stylus, applications may choose to maintain data in its own format (such as saving strokes).</span></span>

 

## <a name="ink-strokes-and-packets"></a><span data-ttu-id="af811-107">Encre, traits et paquets</span><span class="sxs-lookup"><span data-stu-id="af811-107">Ink, Strokes, and Packets</span></span>

<span data-ttu-id="af811-108">Un objet [**Ink**](inkdisp-class.md) est le type de données fondamental qui gère, manipule et stocke l’entrée collectée à partir de l’objet [**InkCollector**](inkcollector-class.md) .</span><span class="sxs-lookup"><span data-stu-id="af811-108">An [**Ink**](inkdisp-class.md) object is the fundamental data type that manages, manipulates, and stores the input collected from the [**InkCollector**](inkcollector-class.md) object.</span></span> <span data-ttu-id="af811-109">Un objet **Ink** contient un ou plusieurs objets [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) et des méthodes et des propriétés communes pour gérer et manipuler ces traits.</span><span class="sxs-lookup"><span data-stu-id="af811-109">An **Ink** object contains one or more [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) objects and common methods and properties to manage and manipulate those strokes.</span></span> <span data-ttu-id="af811-110">Un trait est défini en tant que jeu de données capturées dans une séquence de stylet, de déplacement et de stylet vers le haut unique.</span><span class="sxs-lookup"><span data-stu-id="af811-110">A stroke is defined as the set of data that is captured in a single pen-down, pen-move, and pen-up sequence.</span></span> <span data-ttu-id="af811-111">Les données de trait contiennent une collection de paquets.</span><span class="sxs-lookup"><span data-stu-id="af811-111">The stroke data contains a collection of packets.</span></span> <span data-ttu-id="af811-112">Un paquet est l’ensemble de données que le périphérique tablette envoie à chaque point d’échantillonnage.</span><span class="sxs-lookup"><span data-stu-id="af811-112">A packet is the set of data that the tablet device sends at each sample point.</span></span> <span data-ttu-id="af811-113">Ces données contiennent des informations telles que les coordonnées, la pression du stylet, l’angle du stylet et tout autre point que le matériel peut transmettre.</span><span class="sxs-lookup"><span data-stu-id="af811-113">This data contains information such as coordinates, pen pressure, pen angle, and anything else that the hardware can transmit.</span></span> <span data-ttu-id="af811-114">La propriété [**PacketDescription**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokedisp-get_packetdescription) de l’objet **Stroke** décrit les paquets générés par une [**tablette**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) .</span><span class="sxs-lookup"><span data-stu-id="af811-114">The [**PacketDescription**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokedisp-get_packetdescription) property of the **Stroke** object describes the packets that a [**Tablet**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) generates.</span></span>

## <a name="strokes"></a><span data-ttu-id="af811-115">Traits</span><span class="sxs-lookup"><span data-stu-id="af811-115">Strokes</span></span>

<span data-ttu-id="af811-116">Vous pouvez obtenir un instantané des traits dans un objet [**Ink**](inkdisp-class.md) à l’aide de la propriété [**Strokes**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkdisp-get_strokes) de l’objet **Ink** .</span><span class="sxs-lookup"><span data-stu-id="af811-116">You can obtain a snapshot of the strokes in a [**Ink**](inkdisp-class.md) object by using the **Ink** object's [**Strokes**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkdisp-get_strokes) property.</span></span> <span data-ttu-id="af811-117">La propriété **Strokes** est une collection de références aux traits dans l’objet **Ink** au moment où la propriété **Strokes** est lue.</span><span class="sxs-lookup"><span data-stu-id="af811-117">The **Strokes** property is a collection of references to the strokes in the **Ink** object at the time the **Strokes** property is read.</span></span> <span data-ttu-id="af811-118">Si des traits sont par la suite ajoutés ou supprimés de l’objet **Ink** , une collection [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) précédemment obtenue n’est pas mise à jour.</span><span class="sxs-lookup"><span data-stu-id="af811-118">If strokes are subsequently added to or deleted from the **Ink** object, a previously obtained [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection is not updated.</span></span> <span data-ttu-id="af811-119">En outre, la propriété **Strokes** est une valeur et, comme n’importe quelle valeur, est hors de portée, sauf si elle est assignée à une variable.</span><span class="sxs-lookup"><span data-stu-id="af811-119">Furthermore, the **Strokes** property is a value and, like any value, goes out of scope unless it is assigned to a variable.</span></span>

<span data-ttu-id="af811-120">Pour conserver une propriété [**Strokes**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkdisp-get_strokes) synchronisée avec un objet [**Ink**](inkdisp-class.md) , encapsulez-la dans un gestionnaire d’événements pour les événements [**StrokesAdded**](inkstrokes-strokesadded.md) et [**StrokesRemoved**](inkstrokes-strokesremoved.md) sur la collection [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="af811-120">To keep a [**Strokes**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkdisp-get_strokes) property synchronized with an [**Ink**](inkdisp-class.md) object, wrap it in an event handler for the [**StrokesAdded**](inkstrokes-strokesadded.md) and [**StrokesRemoved**](inkstrokes-strokesremoved.md) events on the [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection.</span></span> <span data-ttu-id="af811-121">Le gestionnaire doit obtenir une nouvelle copie de la propriété **Strokes** lorsque l’un ou l’autre événement est déclenché.</span><span class="sxs-lookup"><span data-stu-id="af811-121">The handler should obtain a new copy of the **Strokes** property when either event is fired.</span></span> <span data-ttu-id="af811-122">Veillez à ne pas ajouter le gestionnaire d’événements à une collection de **traits** qui est hors de portée avant le déclenchement de l’événement.</span><span class="sxs-lookup"><span data-stu-id="af811-122">Be careful not to add the event handler to a **Strokes** collection that is out of scope before the event is fired.</span></span>

<span data-ttu-id="af811-123">Notez dans cet exemple que `theAddedStrokesIDs` est mis à jour avec une nouvelle copie de la propriété Strokes dans le `StrokesAdded_Event` Gestionnaire.</span><span class="sxs-lookup"><span data-stu-id="af811-123">Notice in this example that `theAddedStrokesIDs` is updated with a new copy of the strokes property in the `StrokesAdded_Event` handler.</span></span>


```C++
public void StrokesAdded_Event(object sender, StrokesEventArgs e)
{
    int [] theAddedStrokesIDs = e.StrokeIds;
    theListBox.Items.Clear();
    foreach (int i in theAddedStrokesIDs)
    {
        theListBox.Items.Add("Added Stroke ID: " + i.ToString());
    }
}
```



## <a name="packetdescription-property"></a><span data-ttu-id="af811-124">Propriété PacketDescription</span><span class="sxs-lookup"><span data-stu-id="af811-124">PacketDescription Property</span></span>

<span data-ttu-id="af811-125">La propriété [**PacketDescription**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokedisp-get_packetdescription) de l’objet [**Ink**](inkdisp-class.md) définit le jeu d’informations dans chaque paquet que l’application obtient à partir d’un périphérique Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="af811-125">The [**Ink**](inkdisp-class.md) object's [**PacketDescription**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokedisp-get_packetdescription) property defines the set of information in each packet that the application gets from a Tablet PC device.</span></span> <span data-ttu-id="af811-126">Les informations incluent généralement des coordonnées, mais elles peuvent inclure des informations bien plus détaillées (en fonction des capacités du digitaliseur Tablet PC), telles que la pression du stylet ou l’angle du stylet.</span><span class="sxs-lookup"><span data-stu-id="af811-126">The information typically includes coordinates, but it can include much more detailed information (depending on what the capabilities of Tablet PC digitizer) such as pen pressure or pen angle.</span></span> <span data-ttu-id="af811-127">En définissant des descriptions de paquets sur l’objet [**InkCollector**](inkcollector-class.md) ou [**InkOverlay**](inkoverlay-class.md) avant la collecte de toute entrée manuscrite (à l’aide de la propriété DesiredPacketDescription), vous avez un contrôle total sur les propriétés des périphériques Tablet PC que vous souhaitez recevoir.</span><span class="sxs-lookup"><span data-stu-id="af811-127">By setting packet descriptions on the [**InkCollector**](inkcollector-class.md) or [**InkOverlay**](inkoverlay-class.md) object before any ink is collected (using the DesiredPacketDescription property), you have full control over which of the Tablet PC devices properties you want to receive.</span></span>

## <a name="extended-properties"></a><span data-ttu-id="af811-128">Propriétés étendues</span><span class="sxs-lookup"><span data-stu-id="af811-128">Extended Properties</span></span>

<span data-ttu-id="af811-129">Les propriétés étendues fournissent un mécanisme pour attacher les données définies par l’application à l' [**encre**](inkdisp-class.md) et à d’autres objets.</span><span class="sxs-lookup"><span data-stu-id="af811-129">Extended properties provide a mechanism for attaching application-defined data to [**Ink**](inkdisp-class.md) and other objects.</span></span> <span data-ttu-id="af811-130">Pour plus d’informations sur les propriétés étendues, consultez la collection [**ExtendedProperties**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkextendedproperties) .</span><span class="sxs-lookup"><span data-stu-id="af811-130">For more information about extended properties, see the [**ExtendedProperties**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkextendedproperties) collection.</span></span>

## <a name="ink-rendering"></a><span data-ttu-id="af811-131">Rendu d’encre</span><span class="sxs-lookup"><span data-stu-id="af811-131">Ink Rendering</span></span>

<span data-ttu-id="af811-132">L’objet de [**convertisseur**](inkrenderer-class.md) est responsable du rendu de l' [**encre**](inkdisp-class.md).</span><span class="sxs-lookup"><span data-stu-id="af811-132">The [**Renderer**](inkrenderer-class.md) object is responsible for rendering [**Ink**](inkdisp-class.md).</span></span> <span data-ttu-id="af811-133">À partir d’un contexte tablette approprié, l’objet de **convertisseur** peut mapper les coordonnées de l’espace manuscrit aux pixels, appliquer les transformations de vue et afficher l’encre sur les écrans et les imprimantes.</span><span class="sxs-lookup"><span data-stu-id="af811-133">Given an appropriate tablet context, the **Renderer** object can map ink space coordinates to pixels, apply view transforms, and display ink on screens and printers.</span></span> <span data-ttu-id="af811-134">Les méthodes [**Draw**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrenderer-draw) et [**DrawStroke**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrenderer-drawstroke) sont les principales méthodes de rendu de l’encre.</span><span class="sxs-lookup"><span data-stu-id="af811-134">The [**Draw**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrenderer-draw) and [**DrawStroke**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrenderer-drawstroke) methods are the primary methods for rendering ink.</span></span> <span data-ttu-id="af811-135">Pour plus d’informations sur l’affichage de l’encre dans une fenêtre, consultez l’objet **Renderer** .</span><span class="sxs-lookup"><span data-stu-id="af811-135">For more information about displaying ink in a window, see the **Renderer** object.</span></span>

## <a name="cusps"></a><span data-ttu-id="af811-136">Sommets</span><span class="sxs-lookup"><span data-stu-id="af811-136">Cusps</span></span>

<span data-ttu-id="af811-137">Un trait commence normalement lorsque le stylet est abaissé à la surface de dessin et se termine lorsque le stylet est déclenché.</span><span class="sxs-lookup"><span data-stu-id="af811-137">A stroke normally begins when the pen is lowered to the drawing surface and ends when the pen is raised.</span></span> <span data-ttu-id="af811-138">Au sein d’un trait, les pics, les angles et les changements Radicals de direction sont appelés sommets.</span><span class="sxs-lookup"><span data-stu-id="af811-138">Within a stroke, the peaks, angles, and radical changes of direction are called cusps.</span></span> <span data-ttu-id="af811-139">Les points de terminaison d’un trait sont également considérés comme des sommets.</span><span class="sxs-lookup"><span data-stu-id="af811-139">The endpoints of a stroke are also considered cusps.</span></span> <span data-ttu-id="af811-140">Par exemple, la lettre majuscule « L » a trois sommets, l’un au milieu et l’autre à chaque extrémité.</span><span class="sxs-lookup"><span data-stu-id="af811-140">For example, the capital letter "L" has three cusps, one in the middle and one at each end.</span></span>

<span data-ttu-id="af811-141">Lorsqu’un trait est entré, il est normalement lissé et rendu à l’aide d’une courbe de Bézier (ou polyligne).</span><span class="sxs-lookup"><span data-stu-id="af811-141">As a stroke is entered, it is normally smoothed and rendered using a Bezier (or polyline) curve.</span></span> <span data-ttu-id="af811-142">Les courbes de Bézier peuvent transformer les fronces en petites boucles.</span><span class="sxs-lookup"><span data-stu-id="af811-142">Bezier curves may turn cusps into small loops.</span></span> <span data-ttu-id="af811-143">Par exemple, le pic de la lettre « i » cursive peut être lissé pour ressembler à « e » cursive.</span><span class="sxs-lookup"><span data-stu-id="af811-143">For example, the peak of the cursive letter "i" might be smoothed to resemble the cursive "e".</span></span> <span data-ttu-id="af811-144">Pour éviter cela, les convertisseurs Microsoft ont une phase de pré-Bézier qui gère les sommets différemment.</span><span class="sxs-lookup"><span data-stu-id="af811-144">To prevent this, Microsoft renderers have a "pre-Bezier" phase that handles the cusps differently.</span></span>

<span data-ttu-id="af811-145">Les sommets peuvent également être utilisés pour subdiviser les objets [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) en unités effaçable.</span><span class="sxs-lookup"><span data-stu-id="af811-145">Cusps can also be used to subdivide [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) objects into erasable units.</span></span> <span data-ttu-id="af811-146">Par exemple, la sélection de la partie verticale d’un « L » majuscule peut indiquer l’effacement de ce côté.</span><span class="sxs-lookup"><span data-stu-id="af811-146">For example, selecting the vertical side of a capital "L" could indicate erasing just that side.</span></span> <span data-ttu-id="af811-147">La partie du trait à effacer serait la partie comprise entre deux sommets.</span><span class="sxs-lookup"><span data-stu-id="af811-147">The part of the stroke to be erased would be the part between two cusps.</span></span>

 

 
