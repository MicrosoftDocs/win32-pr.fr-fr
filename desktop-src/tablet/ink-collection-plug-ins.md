---
description: L’objet RealTimeStylus ne collecte pas l’encre par nature. Pour utiliser l’RealTimeStylus pour collecter l’encre, créez un plug-in de collecteur d’encre.
ms.assetid: 9a29525d-714a-431e-bb6f-4705d658537b
title: Plug-ins Ink-Collection
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cc060adf172938612e8f16f9a694e4ee3e1a7b64
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103862098"
---
# <a name="ink-collection-plug-ins"></a><span data-ttu-id="5f23b-104">Plug-ins Ink-Collection</span><span class="sxs-lookup"><span data-stu-id="5f23b-104">Ink-Collection Plug-ins</span></span>

<span data-ttu-id="5f23b-105">L’objet [**RealTimeStylus**](realtimestylus-class.md) ne collecte pas l’encre par nature.</span><span class="sxs-lookup"><span data-stu-id="5f23b-105">The [**RealTimeStylus**](realtimestylus-class.md) object does not inherently collect ink.</span></span> <span data-ttu-id="5f23b-106">Pour utiliser l' **RealTimeStylus** pour collecter l’encre, créez un plug-in de collecteur d’encre.</span><span class="sxs-lookup"><span data-stu-id="5f23b-106">To use the **RealTimeStylus** to collect ink, create an ink-collector plug-in.</span></span>

<span data-ttu-id="5f23b-107">Voici un scénario minimal pour l’utilisation de l’objet [**RealTimeStylus**](realtimestylus-class.md) sur un formulaire qui collecte de l’encre.</span><span class="sxs-lookup"><span data-stu-id="5f23b-107">The following is a minimal scenario for using the [**RealTimeStylus**](realtimestylus-class.md) object on a form that collects ink.</span></span>

1.  <span data-ttu-id="5f23b-108">Créez un formulaire qui implémente l’interface [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="5f23b-108">Create a form that implements the [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface.</span></span>
2.  <span data-ttu-id="5f23b-109">Créez un objet [**RealTimeStylus**](realtimestylus-class.md) et attachez-le à un contrôle du formulaire.</span><span class="sxs-lookup"><span data-stu-id="5f23b-109">Create a [**RealTimeStylus**](realtimestylus-class.md) object, and attach it to a control on the form.</span></span>
3.  <span data-ttu-id="5f23b-110">Définissez l’intérêt pour les notifications StylusDown, paquets et StylusUp dans la propriété [DataInterest](/previous-versions/ms574886(v=vs.100)) du formulaire.</span><span class="sxs-lookup"><span data-stu-id="5f23b-110">Set interest in the StylusDown, Packets, and StylusUp notifications in the form's [DataInterest](/previous-versions/ms574886(v=vs.100)) property.</span></span>
4.  <span data-ttu-id="5f23b-111">Dans les méthodes [**StylusDown**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusdown), [**Packets**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-packets)et [**StylusUp**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusup) du formulaire, ajoutez du code pour gérer les notifications de stylet, de paquets et de stylet qui sont envoyées à partir de l’objet [**RealTimeStylus**](realtimestylus-class.md) du formulaire.</span><span class="sxs-lookup"><span data-stu-id="5f23b-111">In the form's [**StylusDown**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusdown), [**Packets**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-packets), and [**StylusUp**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusup) methods, add code to handle the stylus down, packets, and stylus up notifications that are sent from the form's [**RealTimeStylus**](realtimestylus-class.md) object.</span></span> <span data-ttu-id="5f23b-112">Ce code doit stocker les données de stylet, et créer et stocker les traits.</span><span class="sxs-lookup"><span data-stu-id="5f23b-112">This code should store the pen data, and create and store the strokes.</span></span>

<span data-ttu-id="5f23b-113">Pour obtenir un exemple d’une telle application, consultez exemple d’exemple de [collection d’encres RealTimeStylus](realtimestylus-ink-collection-sample.md) .</span><span class="sxs-lookup"><span data-stu-id="5f23b-113">For a sample of such an application, see the [RealTimeStylus Ink Collection Sample](realtimestylus-ink-collection-sample.md) sample.</span></span>

> [!Note]  
> <span data-ttu-id="5f23b-114">Quand un événement [DisplaySettingsChanged](/dotnet/api/microsoft.win32.systemevents.displaysettingschanged?view=dotnet-plat-ext-3.1) se produit, appelez la méthode [**ModifyDrawingAttributes**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokes-modifydrawingattributes) des traits collectés dans un gestionnaire d’événements DisplaySettingsChanged pour recalculer les propriétés [Width](/previous-versions/ms582112(v=vs.100)) et [Height](/previous-versions/ms582106(v=vs.100)) .</span><span class="sxs-lookup"><span data-stu-id="5f23b-114">When a [DisplaySettingsChanged](/dotnet/api/microsoft.win32.systemevents.displaysettingschanged?view=dotnet-plat-ext-3.1) event occurs, call the [**ModifyDrawingAttributes**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokes-modifydrawingattributes) method of the collected strokes in a DisplaySettingsChanged event handler to recalculate the [Width](/previous-versions/ms582112(v=vs.100)) and [Height](/previous-versions/ms582106(v=vs.100)) properties.</span></span> <span data-ttu-id="5f23b-115">Cela est nécessaire pour tenir compte des modifications possibles en points par pouce (dpi) qui résultent de l’événement DisplaySettingsChanged.</span><span class="sxs-lookup"><span data-stu-id="5f23b-115">This is necessary to account for possible dots per inch (dpi) changes that result from the DisplaySettingsChanged event.</span></span>

 

## <a name="ink-collection-and-recognizers"></a><span data-ttu-id="5f23b-116">Collecte et reconnaissance de l’encre</span><span class="sxs-lookup"><span data-stu-id="5f23b-116">Ink Collection and Recognizers</span></span>

<span data-ttu-id="5f23b-117">Ni l’analyse de l’encre ni la reconnaissance de l’écriture manuscrite ne sont une fonction de l’objet [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="5f23b-117">Neither ink analysis nor handwriting recognition is a function of the [**RealTimeStylus**](realtimestylus-class.md) object.</span></span> <span data-ttu-id="5f23b-118">Lorsque le plug-in Ink-Collector collecte de l’encre ou que vous souhaitez reconnaître l’encre, vous pouvez copier l’encre dans un objet [RecognizerContext](/previous-versions/ms552546(v=vs.100)) ou [diviseur](/previous-versions/ms583616(v=vs.100)) .</span><span class="sxs-lookup"><span data-stu-id="5f23b-118">As the ink-collector plug-in collects ink-or as you want to recognize the ink-you can copy the ink to a [RecognizerContext](/previous-versions/ms552546(v=vs.100)) or [Divider](/previous-versions/ms583616(v=vs.100)) object.</span></span> <span data-ttu-id="5f23b-119">Pour plus d’informations sur la reconnaissance et l’analyse des encres, consultez à propos de la reconnaissance de l' [écriture manuscrite](about-handwriting-recognition.md) ou [de l’objet de séparateur](the-divider-object.md)</span><span class="sxs-lookup"><span data-stu-id="5f23b-119">For more information about recognition and ink analysis, see [About Handwriting Recognition](about-handwriting-recognition.md) or [The Divider Object](the-divider-object.md).</span></span>

## <a name="static-rendering"></a><span data-ttu-id="5f23b-120">Rendu statique</span><span class="sxs-lookup"><span data-stu-id="5f23b-120">Static Rendering</span></span>

<span data-ttu-id="5f23b-121">Pour afficher l’encre au fur et à mesure de sa collecte, attachez un objet [DynamicRenderer](/previous-versions/ms575176(v=vs.100)) à l’objet [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="5f23b-121">To render ink as it is being collected, attach a [DynamicRenderer](/previous-versions/ms575176(v=vs.100)) object to the [**RealTimeStylus**](realtimestylus-class.md) object.</span></span> <span data-ttu-id="5f23b-122">Pour restituer l’encre après qu’elle a été collectée, utilisez un objet de [convertisseur](/previous-versions/ms552630(v=vs.100)) pour dessiner les traits vers l’objet [Graphics](/dotnet/api/system.drawing.graphics?view=dotnet-plat-ext-3.1) approprié.</span><span class="sxs-lookup"><span data-stu-id="5f23b-122">To render ink after it has been collected, use a [Renderer](/previous-versions/ms552630(v=vs.100)) object to draw the strokes to the appropriate [Graphics](/dotnet/api/system.drawing.graphics?view=dotnet-plat-ext-3.1) object.</span></span> <span data-ttu-id="5f23b-123">Pour plus d’informations sur l’objet DynamicRenderer, consultez [plug-ins de rendu dynamique](dynamic-renderer-plug-ins.md). Pour obtenir un exemple de rendu statique et dynamique, consultez [exemple de collection d’encres RealTimeStylus](realtimestylus-ink-collection-sample.md).</span><span class="sxs-lookup"><span data-stu-id="5f23b-123">For more information about the DynamicRenderer object, see [Dynamic-Renderer Plug-ins](dynamic-renderer-plug-ins.md). For a sample of both static and dynamic rendering, see [RealTimeStylus Ink Collection Sample](realtimestylus-ink-collection-sample.md).</span></span>

 

 
