---
description: Vue d’ensemble des considérations relatives à la conception d’une application qui utilise les interfaces de programmation d’applications (API) StylusInput.
ms.assetid: cb68a6bb-dd38-4dfb-bbbb-b5d846e5aa0a
title: Considérations relatives à la conception de l’API StylusInput
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff526d8e073f00156730d79ea2caf1a02c5e5af2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104320450"
---
# <a name="design-considerations-for-the-stylusinput-api"></a><span data-ttu-id="56ecd-103">Considérations relatives à la conception de l’API StylusInput</span><span class="sxs-lookup"><span data-stu-id="56ecd-103">Design Considerations for the StylusInput API</span></span>

<span data-ttu-id="56ecd-104">Voici les éléments à prendre en considération lors de la conception de l’API StylusInput.</span><span class="sxs-lookup"><span data-stu-id="56ecd-104">The following are design considerations for the StylusInput API.</span></span>

-   <span data-ttu-id="56ecd-105">Vous pouvez mettre à jour la propriété [**WindowInputRectangle**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-get_windowinputrectangle) de l’objet [**RealTimeStylus**](realtimestylus-class.md) et la propriété [**ClipRectangle**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_cliprectangle) de l’objet [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) lorsque le stylet est en cours d’enfoncée.</span><span class="sxs-lookup"><span data-stu-id="56ecd-105">You can update the [**WindowInputRectangle**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-get_windowinputrectangle) property of the [**RealTimeStylus**](realtimestylus-class.md) object and the [**ClipRectangle**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_cliprectangle) property of the [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object while the pen is down.</span></span> <span data-ttu-id="56ecd-106">Cela peut être utile lorsque vous souhaitez disposer d’une zone de dessin dynamique pendant que l’application collecte de l’encre.</span><span class="sxs-lookup"><span data-stu-id="56ecd-106">This can be useful when you want to have a dynamic drawing area while the application is collecting ink.</span></span>
-   <span data-ttu-id="56ecd-107">Pour optimiser la réutilisation et la maintenance du code de plug-in, les plug-ins ne doivent pas effectuer d’appels directement à l’application, mais doivent utiliser l’objet [**CustomStylusData**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-customstylusdataadded) ([CustomeStylusData](/previous-versions/ms824747(v=msdn.10)) en code managé) pour communiquer avec l’application.</span><span class="sxs-lookup"><span data-stu-id="56ecd-107">To optimize reuse and maintenance of plug-in code, plug-ins should not make calls directly to the application but should use the [**CustomStylusData**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-customstylusdataadded) ([CustomeStylusData](/previous-versions/ms824747(v=msdn.10)) object in managed code) to communicate with the application.</span></span>
-   <span data-ttu-id="56ecd-108">Les collections de plug-ins de l’objet [**RealTimeStylus**](realtimestylus-class.md) sont triées.</span><span class="sxs-lookup"><span data-stu-id="56ecd-108">The [**RealTimeStylus**](realtimestylus-class.md) object's plug-in collections are ordered.</span></span> <span data-ttu-id="56ecd-109">La position relative de vos plug-ins au sein de ces collections peut être très importante.</span><span class="sxs-lookup"><span data-stu-id="56ecd-109">The relative position of your plug-ins within these collections can be very important.</span></span> <span data-ttu-id="56ecd-110">Par exemple, un plug-in qui modifie les informations de paquet doit probablement être ajouté à la collection de plug-ins synchrone avant un plug-in de rendu dynamique.</span><span class="sxs-lookup"><span data-stu-id="56ecd-110">For example, a plug-in that modifies packet information should probably be added to the synchronous plug-in collection before a dynamic-renderer plug-in.</span></span>
-   <span data-ttu-id="56ecd-111">La possibilité d’ajouter des données de stylet personnalisées au flux de données du stylet doit être utilisée avec modération.</span><span class="sxs-lookup"><span data-stu-id="56ecd-111">The ability to add custom stylus data to the tablet pen's data stream should be used sparingly.</span></span> <span data-ttu-id="56ecd-112">Utilisez cette fonctionnalité uniquement si un autre plug-in doit recevoir ces informations dans le cadre du flux de données.</span><span class="sxs-lookup"><span data-stu-id="56ecd-112">Use this feature only if another plug-in needs to receive this information as part of the data stream.</span></span> <span data-ttu-id="56ecd-113">Par ailleurs, évitez d’ajouter des données de stylet personnalisées en réponse à d’autres données personnalisées de stylet entrant dans le plug-in, car cela peut créer une boucle infinie.</span><span class="sxs-lookup"><span data-stu-id="56ecd-113">Also, avoid adding custom stylus data in response to other custom stylus data coming into the plug-in, as this can create an infinite loop.</span></span>
-   <span data-ttu-id="56ecd-114">Les collections de plug-ins peuvent être modifiées lorsque l’objet [**RealTimeStylus**](realtimestylus-class.md) est activé ; Toutefois, cela peut rendre le comportement de votre application plus difficile à prédire.</span><span class="sxs-lookup"><span data-stu-id="56ecd-114">Plug-in collections can be modified while the [**RealTimeStylus**](realtimestylus-class.md) object is enabled; however, this can make the behavior of your application harder to predict.</span></span> <span data-ttu-id="56ecd-115">Quand un plug-in est ajouté alors que l’objet **RealTimeStylus** est activé, l’objet **RealTimeStylus** appelle la fonction Microsoft. StylusInput. IStylusSyncPlugin du plug-in.</span><span class="sxs-lookup"><span data-stu-id="56ecd-115">When a plug-in is added while the **RealTimeStylus** object is enabled, the **RealTimeStylus** object calls the plug-in's Microsoft.StylusInput.IStylusSyncPlugin.</span></span> <span data-ttu-id="56ecd-116">Méthode [**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) (méthode [Microsoft. StylusInput. IStylusSyncPlugin. RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) ou [Microsoft. StylusInput. IStylusAsyncPlugin. RealTimeStylusEnabled](/previous-versions/ms824775(v=msdn.10)) dans du code managé).</span><span class="sxs-lookup"><span data-stu-id="56ecd-116">[**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) method (either the [Microsoft.StylusInput.IStylusSyncPlugin.RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) or the [Microsoft.StylusInput.IStylusAsyncPlugin.RealTimeStylusEnabled](/previous-versions/ms824775(v=msdn.10)) method in managed code).</span></span> <span data-ttu-id="56ecd-117">Quand un plug-in est supprimé alors que l’objet **RealTimeStylus** est activé, l’objet **RealTimeStylus** appelle la méthode [**RealTimeStylusDisabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusdisabled) du plug-in (la méthode [Microsoft. StylusInput. IStylusSyncPlugin. RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) ou [Microsoft. StylusInput. IStylusAsyncPlugin. RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) dans le code managé).</span><span class="sxs-lookup"><span data-stu-id="56ecd-117">When a plug-in is removed while the **RealTimeStylus** object is enabled, the **RealTimeStylus** object calls the plug-in's [**RealTimeStylusDisabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusdisabled) method (either the [Microsoft.StylusInput.IStylusSyncPlugin.RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) or the [Microsoft.StylusInput.IStylusAsyncPlugin.RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) method in managed code).</span></span> <span data-ttu-id="56ecd-118">Cela permet au plug-in de conserver son état approprié sans avoir à vérifier la propriété [**Enabled**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-get_enabled) de l’objet **RealTimeStylus** . Quand un plug-in est ajouté alors que l’objet **RealTimeStylus** est activé, les données de plug-in reçues par le plug-in peuvent ne pas contenir suffisamment d’informations pour établir correctement le contexte des données initiales.</span><span class="sxs-lookup"><span data-stu-id="56ecd-118">This allows the plug-in to maintain its proper state without having to check the [**Enabled**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-get_enabled) property of the **RealTimeStylus** object.When a plug-in is added while the **RealTimeStylus** object is enabled, the plug-in data that the plug-in receives may not contain enough information to adequately establish the context of the initial data.</span></span> <span data-ttu-id="56ecd-119">Par exemple, le plug-in qui vient d’être ajouté peut commencer à recevoir des données de paquets à partir d’un stylet mi-course.</span><span class="sxs-lookup"><span data-stu-id="56ecd-119">For example, the newly added plug-in could start receiving packet data from a pen that is mid-stroke.</span></span> <span data-ttu-id="56ecd-120">De même, lorsqu’un plug-in est supprimé alors que l’objet **RealTimeStylus** est activé, les données de plug-in que le plug-in a reçues sont peut-être insuffisantes pour terminer le traitement des données.</span><span class="sxs-lookup"><span data-stu-id="56ecd-120">Similarly, when a plug-in removed while the **RealTimeStylus** object is enabled, the plug-in data that the plug-in has received may be insufficient to finish processing the data.</span></span>
    > [!Note]  
    > <span data-ttu-id="56ecd-121">Pour la stabilité globale, réinitialisez l’état interne d’un plug-in lorsque sa méthode [**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) ou [**RealTimeStylusDisabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusdisabled) est appelée.</span><span class="sxs-lookup"><span data-stu-id="56ecd-121">For overall stability, reset a plug-in's internal state when either its [**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) or [**RealTimeStylusDisabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusdisabled) method is called.</span></span>

     

-   <span data-ttu-id="56ecd-122">L’objet [**RealTimeStylus**](realtimestylus-class.md) lève une exception si un plug-in modifie la collection de plug-ins à laquelle il est attaché.</span><span class="sxs-lookup"><span data-stu-id="56ecd-122">The [**RealTimeStylus**](realtimestylus-class.md) object throws an exception if a plug-in modifies the plug-in collection to which it is attached.</span></span> <span data-ttu-id="56ecd-123">Cela se produit uniquement lorsque le plug-in le fait pendant qu’il est appelé par l’objet **RealTimeStylus** en tant que membre de cette collection.</span><span class="sxs-lookup"><span data-stu-id="56ecd-123">This happens only when the plug-in does so while it is being called by the **RealTimeStylus** object as a member of that collection.</span></span>

 

 
