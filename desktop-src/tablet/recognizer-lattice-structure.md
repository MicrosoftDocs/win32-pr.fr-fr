---
description: Les regroupements créés pour une utilisation avec Windows Vista et Windows XP Édition Tablet PC utilisent un ensemble de structures, chacune d’elles étant appelée un treillis, pour transmettre les résultats de la reconnaissance aux bibliothèques de la plateforme Tablet PC.
ms.assetid: 628ca677-31eb-47d9-bcc6-d7777f8aaf7c
title: Structure de treillis de reconnaissance
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 46bbfe71674571ae0554509dfa8477569ef8b44d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104563775"
---
# <a name="recognizer-lattice-structure"></a><span data-ttu-id="d281c-103">Structure de treillis de reconnaissance</span><span class="sxs-lookup"><span data-stu-id="d281c-103">Recognizer Lattice Structure</span></span>

<span data-ttu-id="d281c-104">Les regroupements créés pour une utilisation avec Windows Vista et Windows XP Édition Tablet PC utilisent un ensemble de structures, chacune d’elles étant appelée un treillis, pour transmettre les résultats de la reconnaissance aux bibliothèques de la plateforme Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="d281c-104">Recognizers created for use with Windows Vista and Windows XP Tablet PC Edition use a set of structures, each of which is called a lattice, to pass recognition results back to Tablet PC platform libraries.</span></span> <span data-ttu-id="d281c-105">La plateforme Tablet PC copie ensuite les informations de ces structures dans l’objet [**IInkRecognitionResult**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionresult) , la collection [**IInkRecognitionAlternates**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionalternates) et l’objet [**IInkRecognitionAlternate**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionalternate) .</span><span class="sxs-lookup"><span data-stu-id="d281c-105">The Tablet PC platform then copies the information in these structures into the [**IInkRecognitionResult**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionresult) object, the [**IInkRecognitionAlternates**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionalternates) collection, and the [**IInkRecognitionAlternate**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionalternate) object.</span></span>

<span data-ttu-id="d281c-106">Un pointeur vers le treillis doit être retourné par le module de reconnaissance lorsque la plateforme appelle la fonction [**GetLatticePtr**](/windows/desktop/api/recapis/nf-recapis-getlatticeptr) sur le handle [HRECOCONTEXT](hrecocontext-handle.md) .</span><span class="sxs-lookup"><span data-stu-id="d281c-106">A pointer to the lattice should be returned by the recognizer when the platform calls the [**GetLatticePtr**](/windows/desktop/api/recapis/nf-recapis-getlatticeptr) function on the [HRECOCONTEXT](hrecocontext-handle.md) handle.</span></span>

<span data-ttu-id="d281c-107">Cette section décrit en détail la structure de treillis.</span><span class="sxs-lookup"><span data-stu-id="d281c-107">This section describes the lattice structure in detail.</span></span> <span data-ttu-id="d281c-108">Pour obtenir une vue d’ensemble des identificateurs et des concepts associés, consultez à propos de la reconnaissance de l' [écriture manuscrite](about-handwriting-recognition.md).</span><span class="sxs-lookup"><span data-stu-id="d281c-108">For an overview of recognizers and related concepts, see [About Handwriting Recognition](about-handwriting-recognition.md).</span></span>

## <a name="the-need-for-a-lattice"></a><span data-ttu-id="d281c-109">Besoin d’un treillis</span><span class="sxs-lookup"><span data-stu-id="d281c-109">The Need for a Lattice</span></span>

<span data-ttu-id="d281c-110">Un module de reconnaissance peut trouver plusieurs façons de rompre un ensemble de traits d’encre dans des segments de reconnaissance.</span><span class="sxs-lookup"><span data-stu-id="d281c-110">A recognizer may find several ways to break a set of ink strokes into recognition segments.</span></span> <span data-ttu-id="d281c-111">Ce que le module de reconnaissance utilise comme segment de reconnaissance dépend du type de module de reconnaissance.</span><span class="sxs-lookup"><span data-stu-id="d281c-111">What the recognizer uses as a recognition segment depends upon the type of recognizer.</span></span> <span data-ttu-id="d281c-112">Les module de reconnaissance de la langue anglaise utilisent généralement des mots comme segment de reconnaissance.</span><span class="sxs-lookup"><span data-stu-id="d281c-112">English language recognizers typically use words as the recognition segment.</span></span> <span data-ttu-id="d281c-113">D’autres reconnaissent peuvent utiliser des caractères, des formes ou des gestes comme segment de reconnaissance.</span><span class="sxs-lookup"><span data-stu-id="d281c-113">Other recognizers might use characters, shapes, or gestures as the recognition segment.</span></span> <span data-ttu-id="d281c-114">La flexibilité des structures de treillis permet de gérer logiquement le grand nombre de résultats de la reconnaissance qui peuvent être combinés dans des relations complexes.</span><span class="sxs-lookup"><span data-stu-id="d281c-114">The flexibility of the lattice structures allows for logical management of the large number of recognition results that can be combined in complex relationships.</span></span>

<span data-ttu-id="d281c-115">En interne, les détecteurs utilisent un treillis pour stocker les unités de reconnaissance de base pour une partie donnée de l’encre.</span><span class="sxs-lookup"><span data-stu-id="d281c-115">Internally, recognizers use a lattice to hold basic recognition units for a given piece of ink.</span></span> <span data-ttu-id="d281c-116">Le treillis contient également le score, ou niveau de confiance, du résultat combiné.</span><span class="sxs-lookup"><span data-stu-id="d281c-116">The lattice also holds the score, or confidence level, of the combined result.</span></span> <span data-ttu-id="d281c-117">En outre, le treillis stocke le mappage des segments sur les traits d’encre d’origine.</span><span class="sxs-lookup"><span data-stu-id="d281c-117">In addition, the lattice stores the mapping of segments to the original ink strokes.</span></span>

<span data-ttu-id="d281c-118">Les structures de treillis sont définies dans le fichier d’en-tête rectypes. h.</span><span class="sxs-lookup"><span data-stu-id="d281c-118">The lattice structures are defined in the RecTypes.h header file.</span></span> <span data-ttu-id="d281c-119">Les structures de treillis incluent les structures suivantes :</span><span class="sxs-lookup"><span data-stu-id="d281c-119">The lattice structures include the following structures:</span></span>

-   [<span data-ttu-id="d281c-120">**\_treillis é**</span><span class="sxs-lookup"><span data-stu-id="d281c-120">**RECO\_LATTICE**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice)
-   [<span data-ttu-id="d281c-121">**\_colonne de treillis é \_**</span><span class="sxs-lookup"><span data-stu-id="d281c-121">**RECO\_LATTICE\_COLUMN**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_column)
-   [<span data-ttu-id="d281c-122">**\_élément de treillis é \_**</span><span class="sxs-lookup"><span data-stu-id="d281c-122">**RECO\_LATTICE\_ELEMENT**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_element)
-   [<span data-ttu-id="d281c-123">**\_Propriétés du treillis é \_**</span><span class="sxs-lookup"><span data-stu-id="d281c-123">**RECO\_LATTICE\_PROPERTIES**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_properties)
-   [<span data-ttu-id="d281c-124">**\_propriété de treillis é \_**</span><span class="sxs-lookup"><span data-stu-id="d281c-124">**RECO\_LATTICE\_PROPERTY**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_property)

## <a name="lattice-components"></a><span data-ttu-id="d281c-125">Composants de treillis</span><span class="sxs-lookup"><span data-stu-id="d281c-125">Lattice Components</span></span>

<span data-ttu-id="d281c-126">Les exemples suivants utilisent les traits pour le mot « ensemble », comme illustré dans l’image suivante.</span><span class="sxs-lookup"><span data-stu-id="d281c-126">The following examples use the strokes for the word "together" as shown in the following image.</span></span> <span data-ttu-id="d281c-127">Dans les exemples, les segments sont évalués comme un ou plusieurs mots.</span><span class="sxs-lookup"><span data-stu-id="d281c-127">In the examples, the segments are evaluated as one or more words.</span></span> <span data-ttu-id="d281c-128">Les nombres représentent les traits individuels dans le segment en cours d’évaluation.</span><span class="sxs-lookup"><span data-stu-id="d281c-128">The numbers represent the individual strokes in the segment being evaluated.</span></span> <span data-ttu-id="d281c-129">Notez que chacun des caractères « t » contient deux traits.</span><span class="sxs-lookup"><span data-stu-id="d281c-129">Note that each of the "t" characters contains two strokes.</span></span>

![traits pour le mot « ensemble »](images/1d5fa9fb-6c38-49b8-8caa-2b6dcc1d5dec.gif)

<span data-ttu-id="d281c-131">Un treillis est composé d’une ou plusieurs colonnes, une pour chaque segment.</span><span class="sxs-lookup"><span data-stu-id="d281c-131">A lattice is composed of one or more columns, one for each segment.</span></span> <span data-ttu-id="d281c-132">Chaque colonne contient à son tour un ou plusieurs éléments.</span><span class="sxs-lookup"><span data-stu-id="d281c-132">Each column in turn contains one or more elements.</span></span> <span data-ttu-id="d281c-133">Un élément contient une alternative de reconnaissance discrète.</span><span class="sxs-lookup"><span data-stu-id="d281c-133">An element holds a discrete recognition alternate.</span></span> <span data-ttu-id="d281c-134">Pour plus d’informations sur les colonnes, consultez la structure de [**\_ \_ colonne de treillis é**](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_column) .</span><span class="sxs-lookup"><span data-stu-id="d281c-134">For more information about columns, see the [**RECO\_LATTICE\_COLUMN**](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_column) structure.</span></span> <span data-ttu-id="d281c-135">Pour plus d’informations sur les éléments, consultez la structure de l' [**\_ \_ élément de treillis é**](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_element) .</span><span class="sxs-lookup"><span data-stu-id="d281c-135">For more information about elements, see the [**RECO\_LATTICE\_ELEMENT**](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_element) structure.</span></span>

<span data-ttu-id="d281c-136">Le module de reconnaissance peut retourner un segment unique lors de l’évaluation de l’exemple Ink indiqué dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="d281c-136">The recognizer might return a single segment when evaluating the ink sample shown in the previous example.</span></span> <span data-ttu-id="d281c-137">Dans ce cas, le treillis contient une seule colonne avec un seul élément.</span><span class="sxs-lookup"><span data-stu-id="d281c-137">In this case the lattice contains a single column with a single element.</span></span>

<span data-ttu-id="d281c-138">Un exemple plus complexe se présente quand le module de reconnaissance évalue l’échantillon d’encre et s’affiche avec plusieurs segments et plusieurs alternatives pour chaque segment.</span><span class="sxs-lookup"><span data-stu-id="d281c-138">A more complex example presents itself when the recognizer evaluates the ink sample and comes up with multiple segments and multiple alternates for each segment.</span></span>

<span data-ttu-id="d281c-139">Le nombre de remplaçants de reconnaissance peut être échelonné, même pour un petit échantillon d’encre.</span><span class="sxs-lookup"><span data-stu-id="d281c-139">The number of recognition alternates may be staggering, even for a small ink sample.</span></span> <span data-ttu-id="d281c-140">Par exemple, « t o g e t h e r » peut générer les résultats suivants :</span><span class="sxs-lookup"><span data-stu-id="d281c-140">For example, "t o g e t h e r" can yield the following results:</span></span>

-   <span data-ttu-id="d281c-141">« pour l’obtenir » (plus de remplacements pour chaque mot)</span><span class="sxs-lookup"><span data-stu-id="d281c-141">"to get her" (plus alternates for each word)</span></span>
-   <span data-ttu-id="d281c-142">« pour rassembler » (plus de remplacements pour chaque mot)</span><span class="sxs-lookup"><span data-stu-id="d281c-142">"to gather" (plus alternates for each word)</span></span>
-   <span data-ttu-id="d281c-143">« pour obtenir son » (plus des alternatives pour chaque mot)</span><span class="sxs-lookup"><span data-stu-id="d281c-143">"to got her" (plus alternates for each word)</span></span>
-   <span data-ttu-id="d281c-144">« ensemble » (plus des alternatives pour le mot)</span><span class="sxs-lookup"><span data-stu-id="d281c-144">"together" (plus alternates for the word)</span></span>

<span data-ttu-id="d281c-145">Dans ce cas, un module de reconnaissance peut créer la structure de treillis suivante.</span><span class="sxs-lookup"><span data-stu-id="d281c-145">In this case, a recognizer might create the following lattice structure.</span></span>

![structure de treillis pour le mot « ensemble »](images/2496c3dd-8b08-4f86-9fe3-f118be49a8c8.gif)

> [!Note]  
> <span data-ttu-id="d281c-147">Chaque colonne partage le même ordre des traits parce qu’ils font tous référence à la même collection [InkStrokes](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="d281c-147">Each column shares the same stroke order because they all refer to the same [InkStrokes](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection.</span></span>

 

 

 
