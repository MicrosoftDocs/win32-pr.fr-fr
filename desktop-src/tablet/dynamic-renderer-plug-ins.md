---
description: Un plug-in de rendu dynamique est un objet qui affiche les données du stylet en temps réel, car il est géré par l’objet RealTimeStylus.
ms.assetid: ac6d15f3-0917-4cc1-8c83-e34d3d063289
title: Plug-ins Dynamic-Renderer
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 11c3f1a33c3cd7faef2e899bcb198ea64aa5bd76
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104567766"
---
# <a name="dynamic-renderer-plug-ins"></a><span data-ttu-id="a4921-103">Plug-ins Dynamic-Renderer</span><span class="sxs-lookup"><span data-stu-id="a4921-103">Dynamic-Renderer Plug-ins</span></span>

<span data-ttu-id="a4921-104">Un plug-in de rendu dynamique est un objet qui affiche les données du stylet en temps réel, car il est géré par l’objet [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="a4921-104">A dynamic-renderer plug-in is an object that displays the tablet pen data in real-time as it is being handled by the [**RealTimeStylus**](realtimestylus-class.md) object.</span></span> <span data-ttu-id="a4921-105">Plus tard, pour les événements tels que l’actualisation d’un formulaire, le plug-in de rendu dynamique ou un plug-in de collecteur d’encre peut redessiner l’encre.</span><span class="sxs-lookup"><span data-stu-id="a4921-105">Later, for events such as a form refresh, the dynamic-renderer plug-in or an ink-collector plug-in may redraw the ink.</span></span>

## <a name="the-dynamicrenderer-object"></a><span data-ttu-id="a4921-106">Objet DynamicRenderer</span><span class="sxs-lookup"><span data-stu-id="a4921-106">The DynamicRenderer Object</span></span>

<span data-ttu-id="a4921-107">L’objet [**RealTimeStylus**](realtimestylus-class.md) implémente l’interface [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="a4921-107">The [**RealTimeStylus**](realtimestylus-class.md) object implements the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface.</span></span> <span data-ttu-id="a4921-108">L’objet [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) restitue l’encre en temps réel, lors de son dessin.</span><span class="sxs-lookup"><span data-stu-id="a4921-108">The [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object renders the ink in real-time, as it is being drawn.</span></span> <span data-ttu-id="a4921-109">Quand la méthode [**Refresh**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-refresh) est appelée alors que l’objet **DynamicRenderer** est activé, l’objet **DynamicRenderer** redessine le trait en cours de collecte.</span><span class="sxs-lookup"><span data-stu-id="a4921-109">When the [**Refresh**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-refresh) method is called while the **DynamicRenderer** object is enabled, the **DynamicRenderer** object redraws the stroke currently being collected.</span></span> <span data-ttu-id="a4921-110">La propriété [**Enabled**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_enabled) de l’objet **DynamicRenderer** est initialement définie sur **false**.</span><span class="sxs-lookup"><span data-stu-id="a4921-110">The **DynamicRenderer** object's [**Enabled**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_enabled) property is initially set to **FALSE**.</span></span>

> [!Note]  
> <span data-ttu-id="a4921-111">Lors de l’appel de la méthode [**Refresh**](/previous-versions/ms826370(v=msdn.10)) de l’objet [**DynamicRenderer**](/previous-versions/ms826345(v=msdn.10)) à partir d’un gestionnaire d’événements [Paint](/dotnet/api/system.windows.forms.control.paint?view=netcore-3.1) dans du code managé, définissez la propriété [**ClipRectangle**](/previous-versions/ms826346(v=msdn.10)) de l’objet **DynamicRenderer** sur la propriété [ClipRectangle](/dotnet/api/system.windows.forms.painteventargs.cliprectangle?view=netcore-3.1) de l’objet [PaintEventArgs](/dotnet/api/system.windows.forms.painteventargs?view=netcore-3.1) .</span><span class="sxs-lookup"><span data-stu-id="a4921-111">When calling the [**DynamicRenderer**](/previous-versions/ms826345(v=msdn.10)) object's [**Refresh**](/previous-versions/ms826370(v=msdn.10)) method from within a [Paint](/dotnet/api/system.windows.forms.control.paint?view=netcore-3.1) event handler in managed code, set the **DynamicRenderer** object's [**ClipRectangle**](/previous-versions/ms826346(v=msdn.10)) property to the [PaintEventArgs](/dotnet/api/system.windows.forms.painteventargs?view=netcore-3.1) object's [ClipRectangle](/dotnet/api/system.windows.forms.painteventargs.cliprectangle?view=netcore-3.1) property.</span></span>

 

<span data-ttu-id="a4921-112">L’objet [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) peut mettre temporairement en cache les données d’encre.</span><span class="sxs-lookup"><span data-stu-id="a4921-112">The [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object can temporarily cache ink data.</span></span> <span data-ttu-id="a4921-113">Pour utiliser cette fonctionnalité dans du code managé, affectez à la propriété [EnableDataCache](/previous-versions/ms826349(v=msdn.10)) la **valeur true**.</span><span class="sxs-lookup"><span data-stu-id="a4921-113">To use this feature in managed code, set the [EnableDataCache](/previous-versions/ms826349(v=msdn.10)) property to **TRUE**.</span></span> <span data-ttu-id="a4921-114">Lorsque l’objet [**DynamicRenderer**](/previous-versions/ms826345(v=msdn.10)) reçoit un appel à sa méthode [**IStylusSyncPlugin. StylusUp**](/previous-versions/ms826366(v=msdn.10)) , il met en cache les données de trait et ajoute des données de stylet personnalisées à la file d’attente d’entrée en réponse à l’objet [**StylusUpData**](/previous-versions/ms824057(v=msdn.10)) pour le trait.</span><span class="sxs-lookup"><span data-stu-id="a4921-114">When the [**DynamicRenderer**](/previous-versions/ms826345(v=msdn.10)) object receives a call to its [**IStylusSyncPlugin.StylusUp**](/previous-versions/ms826366(v=msdn.10)) method, it caches the stroke data and adds custom stylus data to the Input queue in response to the [**StylusUpData**](/previous-versions/ms824057(v=msdn.10)) object for the stroke.</span></span> <span data-ttu-id="a4921-115">La propriété [CustomDataId](/previous-versions/ms824749(v=msdn.10)) de l’objet [**CustomStylusData**](/previous-versions/ms824747(v=msdn.10)) est définie sur la valeur [DynamicRendererCachedDataGuid](/previous-versions/ms824744(v=msdn.10)) et la propriété Data de l’objet **CustomStylusData** contient un objet DynamicRendererCachedData.</span><span class="sxs-lookup"><span data-stu-id="a4921-115">The [**CustomStylusData**](/previous-versions/ms824747(v=msdn.10)) object's [CustomDataId](/previous-versions/ms824749(v=msdn.10)) property is set to the [DynamicRendererCachedDataGuid](/previous-versions/ms824744(v=msdn.10)) value, and the **CustomStylusData** object's Data property contains a DynamicRendererCachedData object.</span></span> <span data-ttu-id="a4921-116">Appelez la méthode [ReleaseCachedData](/previous-versions/ms826371(v=msdn.10)) de l’objet **DynamicRenderer** une fois que le trait a été collecté et peut être rendu statiquement.</span><span class="sxs-lookup"><span data-stu-id="a4921-116">Call the **DynamicRenderer** object's [ReleaseCachedData](/previous-versions/ms826371(v=msdn.10)) method once the stroke has been collected and can be statically rendered.</span></span> <span data-ttu-id="a4921-117">Quand la méthode [**Refresh**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-refresh) est appelée alors que l’objet **DynamicRenderer** est activé, l’objet **DynamicRenderer** redessine tous les traits mis en cache.</span><span class="sxs-lookup"><span data-stu-id="a4921-117">When the [**Refresh**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-refresh) method is called while the **DynamicRenderer** object is enabled, the **DynamicRenderer** object redraws all strokes that are cached.</span></span> <span data-ttu-id="a4921-118">Lorsque la propriété [**DataCacheEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_datacacheenabled) est définie sur **false**, les données de trait mises en cache sont supprimées.</span><span class="sxs-lookup"><span data-stu-id="a4921-118">When the [**DataCacheEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_datacacheenabled) property is set to **false**, the cached stroke data is deleted.</span></span>

<span data-ttu-id="a4921-119">Le diagramme suivant illustre la façon dont l’objet [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) ajoute des données aux données du stylet de tablette lorsque la propriété [**DataCacheEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_datacacheenabled) de l’objet **DynamicRenderer** est définie.</span><span class="sxs-lookup"><span data-stu-id="a4921-119">The following diagram illustrates how the [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object adds data to the tablet pen data when the **DynamicRenderer** object's [**DataCacheEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_datacacheenabled) property is set.</span></span>

![Illustration montrant le circuit de données DynamicRenderer](images/75f4ee7b-160c-410e-bfae-dfc676a9829c.gif)

<span data-ttu-id="a4921-121">Dans ce diagramme, le cercle « SD » représente un objet [**StylusDown**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusdown) et les cercles « P » représentent les objets de [**paquets**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-packets) qui ont déjà été ajoutés à la file d’attente de sortie de l’objet [**RealTimeStylus**](realtimestylus-class.md) et qui n’ont pas encore été envoyés à la collection de plug-ins asynchrone.</span><span class="sxs-lookup"><span data-stu-id="a4921-121">In this diagram the circle lettered "SD" represents a [**StylusDown**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusdown) object and the circles lettered "P" represent [**Packets**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-packets) objects that have already been added to the [**RealTimeStylus**](realtimestylus-class.md) object's output queue and that have not yet been sent to the asynchronous plug-in collection.</span></span> <span data-ttu-id="a4921-122">Le cercle « SU » est représenté par un objet [**StylusUp**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusup) que l’objet **RealTimeStylus** est en train de traiter.</span><span class="sxs-lookup"><span data-stu-id="a4921-122">The circle lettered "SU" represents a [**StylusUp**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusup) object that the **RealTimeStylus** object is currently processing.</span></span> <span data-ttu-id="a4921-123">Il est envoyé à la collection de plug-ins synchrone, puis placé dans la file d’attente de sortie.</span><span class="sxs-lookup"><span data-stu-id="a4921-123">It is sent to the synchronous plug-in collection and then placed on the output queue.</span></span> <span data-ttu-id="a4921-124">Les cercles « récupération d’urgence » représentent les données personnalisées du stylet qui sont ajoutées à la file d’attente d’entrée par le plug-in [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) en réponse à la notification du stylet associée à « su ».</span><span class="sxs-lookup"><span data-stu-id="a4921-124">The circles lettered "DR" represent custom stylus data that is added to the input queue by the [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) plug-in in response to the stylus up notification associated with "SU".</span></span> <span data-ttu-id="a4921-125">Les données de stylet personnalisées « récupération d’urgence » sont ensuite transmises aux plug-ins synchrones, puis à la file d’attente de sortie avant le traitement des données du stylet de tablette suivant.</span><span class="sxs-lookup"><span data-stu-id="a4921-125">The custom stylus data lettered "DR" is then passed to the synchronous plug-ins and then to the output queue before the next tablet pen data is processed.</span></span> <span data-ttu-id="a4921-126">Le cercle vide représente la position dans la file d’attente de sortie où les futures données de stylet du Tablet PC sont ajoutées.</span><span class="sxs-lookup"><span data-stu-id="a4921-126">The empty circle represents the position in the output queue where future tablet pen data is added.</span></span> <span data-ttu-id="a4921-127">Également représenté sur le diagramme, il s’agit du plug-in Ink-Collector appelant la méthode [**ReleaseCachedData**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-releasecacheddata) de l’objet **DynamicRenderer** pour libérer les données du trait mis en cache une fois que le plug-in de la collection d’encres a traité le trait.</span><span class="sxs-lookup"><span data-stu-id="a4921-127">Also represented on the diagram is the ink-collector plug-in calling the **DynamicRenderer** object's [**ReleaseCachedData**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-releasecacheddata) method to release the cached stroke data after the ink-collection plug-in has processed the stroke.</span></span>

### <a name="special-considerations"></a><span data-ttu-id="a4921-128">Considérations spéciales</span><span class="sxs-lookup"><span data-stu-id="a4921-128">Special Considerations</span></span>

<span data-ttu-id="a4921-129">La liste suivante décrit d’autres points à prendre en compte lors de l’utilisation de l’objet [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="a4921-129">The following list describes other points to take into consideration when using the [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object.</span></span>

-   <span data-ttu-id="a4921-130">Vous ne devez pas attacher un objet [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) à plusieurs objets [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="a4921-130">You should not attach a [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object to more than one [**RealTimeStylus**](realtimestylus-class.md) object.</span></span> <span data-ttu-id="a4921-131">Une fois que deux objets **RealTimeStylus** auxquels l’objet **DynamicRenderer** est attaché sont activés, les éléments suivants se produisent.</span><span class="sxs-lookup"><span data-stu-id="a4921-131">Once two **RealTimeStylus** objects to which the **DynamicRenderer** object is attached are enabled, the following occurs.</span></span>

    -   <span data-ttu-id="a4921-132">L’objet [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) lève une exception en réponse au deuxième appel à sa méthode [**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) .</span><span class="sxs-lookup"><span data-stu-id="a4921-132">The [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object throws an exception in response to the second call to its [**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) method.</span></span>
    -   <span data-ttu-id="a4921-133">Le deuxième objet [**RealTimeStylus**](realtimestylus-class.md) qui a été activé génère un objet d' [**erreur**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-error) et notifie les autres plug-ins dans ses collections de plug-ins de l’erreur.</span><span class="sxs-lookup"><span data-stu-id="a4921-133">The second [**RealTimeStylus**](realtimestylus-class.md) object that was enabled generates an [**Error**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-error) object and notifies the remaining plug-ins in its plug-in collections of the error.</span></span>
    -   <span data-ttu-id="a4921-134">L’objet [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) arrête le rendu des données du stylet de tablette.</span><span class="sxs-lookup"><span data-stu-id="a4921-134">The [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object stops rendering tablet pen data.</span></span>

-   <span data-ttu-id="a4921-135">L’objet [**RealTimeStylus**](realtimestylus-class.md) lève une exception lorsque sa méthode [**AddCustomStylusDataToQueue**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-addcustomstylusdatatoqueue) est appelée avec le paramètre *GUID* défini sur l’identificateur global unique (Guid) DynamicRendererCachedDataGuid.</span><span class="sxs-lookup"><span data-stu-id="a4921-135">The [**RealTimeStylus**](realtimestylus-class.md) object throws an exception when its [**AddCustomStylusDataToQueue**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-addcustomstylusdatatoqueue) method is called with the *guid* parameter set to the DynamicRendererCachedDataGuid globally unique identifier (GUID).</span></span>
-   <span data-ttu-id="a4921-136">L’objet [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) est implémenté en tant que wrapper COM (Component Object Model) et vous ne pouvez pas appeler directement ses méthodes d’interface [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="a4921-136">The [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object is implemented as a Component Object Model (COM) wrapper, and you cannot call its [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface methods directly.</span></span> <span data-ttu-id="a4921-137">Pour plus d’informations sur l’opération COM et l’objet [**RealTimeStylus**](realtimestylus-class.md) , consultez [Remarques d’implémentation pour les API StylusInput](implementation-notes-for-the-stylusinput-apis.md).</span><span class="sxs-lookup"><span data-stu-id="a4921-137">For more information about COM operation and the [**RealTimeStylus**](realtimestylus-class.md) object, see [Implementation Notes for the StylusInput APIs](implementation-notes-for-the-stylusinput-apis.md).</span></span>

## <a name="custom-rendering"></a><span data-ttu-id="a4921-138">Rendu personnalisé</span><span class="sxs-lookup"><span data-stu-id="a4921-138">Custom Rendering</span></span>

<span data-ttu-id="a4921-139">Vous pouvez créer votre propre plug-in de rendu dynamique en créant un plug-in synchrone qui s’abonne aux notifications [**StylusDown**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusdown), [**paquets**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-packets)et [**StylusUp**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusup) .</span><span class="sxs-lookup"><span data-stu-id="a4921-139">You can create your own dynamic-renderer plug-in by creating a synchronous plug-in that subscribes to the [**StylusDown**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusdown), [**Packets**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-packets), and [**StylusUp**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-stylusup) notifications.</span></span> <span data-ttu-id="a4921-140">Votre plug-in peut ensuite afficher le trait au fur et à mesure qu’il est dessiné.</span><span class="sxs-lookup"><span data-stu-id="a4921-140">Your plug-in can then render the stroke as it is being drawn.</span></span> <span data-ttu-id="a4921-141">Il peut s’agir d’une façon d’implémenter un outil de sélection qui utilise une zone de sélection ou de sélection de forme libre, par exemple.</span><span class="sxs-lookup"><span data-stu-id="a4921-141">This may be one way of implementing a selection tool that uses a free-form selection or selection box, for example.</span></span>

 

 
