---
title: Makefiles
description: Les makefiles pour chacun des exemples de code de cette série sont des makefiles génériques Microsoft Win32 et sont destinés à être créés à partir de la fenêtre d’invite de commandes.
ms.assetid: f9944069-b536-4ae2-8411-f02c3a78978c
keywords:
- Makefiles stockage structuré
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a15fef5818c28986232e8c2a648f43bdc096832f
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104311581"
---
# <a name="makefiles"></a><span data-ttu-id="dcee8-104">Makefiles</span><span class="sxs-lookup"><span data-stu-id="dcee8-104">Makefiles</span></span>

<span data-ttu-id="dcee8-105">Les makefiles pour chacun des exemples de code de cette série sont des makefiles génériques Microsoft Win32 et sont destinés à être créés à partir de la fenêtre d’invite de commandes.</span><span class="sxs-lookup"><span data-stu-id="dcee8-105">The makefiles for each of the code samples in this series are generic Microsoft Win32 makefiles and are meant to be built from the Command Prompt window.</span></span> <span data-ttu-id="dcee8-106">Ils partent du principe que les outils de compilation et de l’éditeur de liens de Microsoft requièrent une modification pour fonctionner avec d’autres outils.</span><span class="sxs-lookup"><span data-stu-id="dcee8-106">They assume Microsoft compiler and linker tools and will probably require some modification to work with other tools.</span></span> <span data-ttu-id="dcee8-107">La plupart des commutateurs de ligne de commande du compilateur/de l’éditeur de liens sont spécifiés par les macros définies dans le fichier Makefile Win32. mak inclus dans le kit de développement logiciel (SDK) de la plateforme.</span><span class="sxs-lookup"><span data-stu-id="dcee8-107">Most compiler/linker command line switches are specified by macros defined in the Win32.mak makefile include file included with the Platform Software Development Kit (SDK).</span></span>

<span data-ttu-id="dcee8-108">Le fichier Makeall.bat et chaque exemple de fichier Make de code respectif, prennent en charge les options communes, énumérées dans le tableau suivant, pour l’appel à partir de la fenêtre d’invite de commandes pour contrôler la nature de la Build.</span><span class="sxs-lookup"><span data-stu-id="dcee8-108">The Makeall.bat file, and each respective code sample makefile, support common options, listed in the following table, for invocation from the Command Prompt window to control the nature of the build.</span></span>



| <span data-ttu-id="dcee8-109">Appel NMAKE</span><span class="sxs-lookup"><span data-stu-id="dcee8-109">Nmake invocation</span></span>        | <span data-ttu-id="dcee8-110">Appel de makeall</span><span class="sxs-lookup"><span data-stu-id="dcee8-110">Makeall invocation</span></span>          | <span data-ttu-id="dcee8-111">Résultat</span><span class="sxs-lookup"><span data-stu-id="dcee8-111">Effect</span></span>                       |
|-------------------------|-----------------------------|------------------------------|
| <span data-ttu-id="dcee8-112">**NMAKE**</span><span class="sxs-lookup"><span data-stu-id="dcee8-112">**nmake**</span></span>               | <span data-ttu-id="dcee8-113">**makeall**</span><span class="sxs-lookup"><span data-stu-id="dcee8-113">**makeall**</span></span>                 | <span data-ttu-id="dcee8-114">Compiler avec les informations de débogage.</span><span class="sxs-lookup"><span data-stu-id="dcee8-114">Compile with debug info.</span></span>     |
| <span data-ttu-id="dcee8-115">**NMAKE** **nodebug = 1**</span><span class="sxs-lookup"><span data-stu-id="dcee8-115">**nmake** **nodebug=1**</span></span> | <span data-ttu-id="dcee8-116">**makeall** **« nodebug = 1 »**</span><span class="sxs-lookup"><span data-stu-id="dcee8-116">**makeall** **"nodebug=1"**</span></span> | <span data-ttu-id="dcee8-117">Compilez sans informations de débogage.</span><span class="sxs-lookup"><span data-stu-id="dcee8-117">Compile without debug info.</span></span>  |
| <span data-ttu-id="dcee8-118">Profil **NMAKE** **= 1**</span><span class="sxs-lookup"><span data-stu-id="dcee8-118">**nmake** **profile=1**</span></span> | <span data-ttu-id="dcee8-119">**makeall** **« Profile = 1 »**</span><span class="sxs-lookup"><span data-stu-id="dcee8-119">**makeall** **"profile=1"**</span></span> | <span data-ttu-id="dcee8-120">Compiler avec les informations de profilage.</span><span class="sxs-lookup"><span data-stu-id="dcee8-120">Compile with profiling info.</span></span> |
| <span data-ttu-id="dcee8-121">réglage **NMAKE** **= 1**</span><span class="sxs-lookup"><span data-stu-id="dcee8-121">**nmake** **tune=1**</span></span>    | <span data-ttu-id="dcee8-122">**makeall** **« réglage = 1 »**</span><span class="sxs-lookup"><span data-stu-id="dcee8-122">**makeall** **"tune=1"**</span></span>    | <span data-ttu-id="dcee8-123">Avec informations sur le tuner de la plage de travail.</span><span class="sxs-lookup"><span data-stu-id="dcee8-123">With working set tuner info.</span></span> |
| <span data-ttu-id="dcee8-124">**NMAKE** **Unicode = 1**</span><span class="sxs-lookup"><span data-stu-id="dcee8-124">**nmake** **unicode=1**</span></span> | <span data-ttu-id="dcee8-125">**makeall** **« Unicode = 1 »**</span><span class="sxs-lookup"><span data-stu-id="dcee8-125">**makeall** **"unicode=1"**</span></span> | <span data-ttu-id="dcee8-126">Compiler pour Unicode.</span><span class="sxs-lookup"><span data-stu-id="dcee8-126">Compile for Unicode.</span></span>         |
| <span data-ttu-id="dcee8-127"> **nettoyage** NMAKE</span><span class="sxs-lookup"><span data-stu-id="dcee8-127">**nmake** **clean**</span></span>     | <span data-ttu-id="dcee8-128">**makeall** **nettoyer**</span><span class="sxs-lookup"><span data-stu-id="dcee8-128">**makeall** **clean**</span></span>       | <span data-ttu-id="dcee8-129">Supprimez les fichiers binaires temporaires.</span><span class="sxs-lookup"><span data-stu-id="dcee8-129">Delete temporary binaries.</span></span>   |
| <span data-ttu-id="dcee8-130">**NMAKE** **cleanall**</span><span class="sxs-lookup"><span data-stu-id="dcee8-130">**nmake** **cleanall**</span></span>  | <span data-ttu-id="dcee8-131">**makeall** **cleanall**</span><span class="sxs-lookup"><span data-stu-id="dcee8-131">**makeall** **cleanall**</span></span>    | <span data-ttu-id="dcee8-132">Supprimer tous les fichiers générés.</span><span class="sxs-lookup"><span data-stu-id="dcee8-132">Delete all generated files.</span></span>  |



 

<span data-ttu-id="dcee8-133">Pour les appels Makeall.bat, vous devez disposer des guillemets comme indiqué.</span><span class="sxs-lookup"><span data-stu-id="dcee8-133">For the Makeall.bat invocations you must have the quotes as shown.</span></span> <span data-ttu-id="dcee8-134">Les options **nodebug**, **Profile** et **tune** s’excluent mutuellement : vous ne pouvez utiliser qu’une seule d’entre elles, ou None, pour une compilation/un lien donné.</span><span class="sxs-lookup"><span data-stu-id="dcee8-134">The **nodebug**, **profile**, and **tune** options are mutually exclusive: you may use only one of them, or none, for a given compilation/link.</span></span> <span data-ttu-id="dcee8-135">Pour compiler les exemples à exécuter avec des chaînes Unicode, utilisez l’option **« Unicode = 1 »** .</span><span class="sxs-lookup"><span data-stu-id="dcee8-135">To compile the samples to run with Unicode strings, use the **"unicode=1"** option.</span></span> <span data-ttu-id="dcee8-136">La valeur par défaut consiste à compiler pour la prise en charge des chaînes ANSI traditionnelles, car vous pouvez ensuite exécuter sur n’importe quel système d’exploitation Windows 32 bits.</span><span class="sxs-lookup"><span data-stu-id="dcee8-136">The default is to compile for the traditional ANSI string support, because you can then run on any 32-bit Windows operating system.</span></span> <span data-ttu-id="dcee8-137">Vous pouvez effectuer librement la compilation et l’exécution avec ou sans Unicode sur Windows Server 2003 et versions ultérieures, et Windows 2000 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="dcee8-137">You can freely compile and run with or without Unicode on Windows Server 2003 and later, and Windows 2000 and later.</span></span> <span data-ttu-id="dcee8-138">Sachez que APPUTIL est toujours compilé avec les mêmes options que les autres exemples de code que vous pouvez compiler séparément.</span><span class="sxs-lookup"><span data-stu-id="dcee8-138">Be aware that APPUTIL is always compiled with the same options as the other code samples you may be separately compiling.</span></span> <span data-ttu-id="dcee8-139">Cela est particulièrement vrai pour l’option **« Unicode = 1 »** .</span><span class="sxs-lookup"><span data-stu-id="dcee8-139">This is especially true for the **"unicode=1"** option.</span></span>

<span data-ttu-id="dcee8-140">Vous pouvez utiliser un environnement de développement intégré (IDE) C++ 32 bits installé pour générer les exemples à l’aide des makefiles génériques fournis.</span><span class="sxs-lookup"><span data-stu-id="dcee8-140">You may use an installed 32-bit C++ integrated development environment (IDE) to build the samples using the generic makefiles provided.</span></span> <span data-ttu-id="dcee8-141">Pour ce faire, vous devez dans votre IDE gérer les Makefiles génériques en tant que makefiles « externes ».</span><span class="sxs-lookup"><span data-stu-id="dcee8-141">To do so requires that within your IDE you handle the generic makefiles as 'external' makefiles.</span></span> <span data-ttu-id="dcee8-142">Les makefiles fournis nécessitent un utilitaire make compatible avec Microsoft NMAKE.</span><span class="sxs-lookup"><span data-stu-id="dcee8-142">The makefiles provided require a Microsoft NMAKE-compatible make utility.</span></span>

<span data-ttu-id="dcee8-143">La plupart des IDE C++ peuvent reconnaître ces makefiles comme externes et tout de même fournir de nombreux avantages de l’IDE en matière de modification et de génération.</span><span class="sxs-lookup"><span data-stu-id="dcee8-143">Most C++ IDEs can recognize these makefiles as external and yet still provide many edit-build-debug benefits of the IDE.</span></span> <span data-ttu-id="dcee8-144">Par exemple, dans Microsoft Visual Studio 97 ou version ultérieure, vous pouvez utiliser le menu fichier ouvrir l’espace de travail pour créer un espace de travail en ouvrant une copie correctement nommée (par exemple, Exeskel. MAK) de l’exemple de fichier Make Win32.</span><span class="sxs-lookup"><span data-stu-id="dcee8-144">For example, in Microsoft Visual Studio 97 or later, you can use the File menu Open Workspace choice to produce a workspace by opening an appropriately named copy (for example, Exeskel.mak) of the code sample Win32 makefile.</span></span>

 

 




