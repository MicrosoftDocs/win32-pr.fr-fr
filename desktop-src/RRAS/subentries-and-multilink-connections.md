---
title: Sous-entrées et connexions à liaisons multiples
description: Windows NT Server 4,0 fournit la prise en charge des sous-entrées de l’annuaire téléphonique, qui activent les connexions à liaisons multiples. Une connexion multilien combine la bande passante de plusieurs connexions pour fournir une seule connexion avec une bande passante plus élevée.
ms.assetid: 19cf6e1a-cdba-47e4-8d8f-d6030ed6f9e3
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c1970e2e2ad668b376b1097aa20cd18986fb605a
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104316079"
---
# <a name="subentries-and-multilink-connections"></a><span data-ttu-id="34f3e-104">Sous-entrées et connexions à liaisons multiples</span><span class="sxs-lookup"><span data-stu-id="34f3e-104">Subentries and Multilink Connections</span></span>

<span data-ttu-id="34f3e-105">Windows NT Server 4,0 fournit la prise en charge des sous-entrées de l’annuaire téléphonique, qui activent les connexions à liaisons multiples.</span><span class="sxs-lookup"><span data-stu-id="34f3e-105">Windows NT Server 4.0 provides support for phone-book subentries, which enable multilink connections.</span></span> <span data-ttu-id="34f3e-106">Une connexion multilien combine la bande passante de plusieurs connexions pour fournir une seule connexion avec une bande passante plus élevée.</span><span class="sxs-lookup"><span data-stu-id="34f3e-106">A multilink connection combines the bandwidth of multiple connections to provide a single connection with higher bandwidth.</span></span>

<span data-ttu-id="34f3e-107">Une entrée de l’annuaire RAS peut comporter zéro ou plusieurs sous-entrées.</span><span class="sxs-lookup"><span data-stu-id="34f3e-107">A RAS phone-book entry can have zero or more subentries.</span></span> <span data-ttu-id="34f3e-108">La fonction [**RasGetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rasgetentrypropertiesa) récupère une structure [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) qui contient des informations sur les sous-entrées d’une entrée d’annuaire téléphonique.</span><span class="sxs-lookup"><span data-stu-id="34f3e-108">The [**RasGetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rasgetentrypropertiesa) function retrieves a [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) structure that includes information about the subentries of a phone-book entry.</span></span> <span data-ttu-id="34f3e-109">Le membre **dwSubEntries** de la structure **RASENTRY** indique le nombre de sous-entrées.</span><span class="sxs-lookup"><span data-stu-id="34f3e-109">The **dwSubEntries** member of the **RASENTRY** structure indicates the number of subentries.</span></span> <span data-ttu-id="34f3e-110">Les entrées de l’annuaire téléphonique ne comportent aucune sous-entrée.</span><span class="sxs-lookup"><span data-stu-id="34f3e-110">Phone-book entries initially have no subentries.</span></span> <span data-ttu-id="34f3e-111">Pour ajouter des sous-entrées à une entrée d’annuaire téléphonique, utilisez la fonction [**RasSetSubEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetsubentrypropertiesa) .</span><span class="sxs-lookup"><span data-stu-id="34f3e-111">To add subentries to a phone-book entry, use the [**RasSetSubEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetsubentrypropertiesa) function.</span></span>

<span data-ttu-id="34f3e-112">Les propriétés de chaque sous-entrée incluent un numéro de téléphone et le nom et le type de l’appareil TAPI à utiliser lors de la composition de la sous-entrée.</span><span class="sxs-lookup"><span data-stu-id="34f3e-112">The properties for each subentry include a phone number and the name and type of the TAPI device to use when dialing the subentry.</span></span> <span data-ttu-id="34f3e-113">En outre, une sous-entrée peut inclure une liste de numéros de téléphone de substitution à composer si RAS ne peut pas établir une connexion à l’aide du numéro principal.</span><span class="sxs-lookup"><span data-stu-id="34f3e-113">In addition, a subentry can include a list of alternate phone numbers to dial if RAS cannot make a connection using the primary number.</span></span> <span data-ttu-id="34f3e-114">Les fonctions [**RasSetSubEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetsubentrypropertiesa) et [**RasGetSubEntryProperties**](/windows/desktop/api/Ras/nf-ras-rasgetsubentrypropertiesa) utilisent la structure [**RASSUBENTRY**](/previous-versions/windows/desktop/legacy/aa377839(v=vs.85)) pour définir et récupérer les propriétés d’une entrée de l’annuaire téléphonique spécifiée.</span><span class="sxs-lookup"><span data-stu-id="34f3e-114">The [**RasSetSubEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetsubentrypropertiesa) and [**RasGetSubEntryProperties**](/windows/desktop/api/Ras/nf-ras-rasgetsubentrypropertiesa) functions use the [**RASSUBENTRY**](/previous-versions/windows/desktop/legacy/aa377839(v=vs.85)) structure to set and retrieve the properties of a specified phone-book subentry.</span></span> <span data-ttu-id="34f3e-115">Les sous-entrées sont identifiées par un index de base un.</span><span class="sxs-lookup"><span data-stu-id="34f3e-115">Subentries are identified by a one-based index.</span></span>

<span data-ttu-id="34f3e-116">Vous pouvez appeler la fonction [**RasSetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetentrypropertiesa) pour configurer une entrée RAS multilien pour connecter toutes les sous-entrées lorsqu’elle est numérotée pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="34f3e-116">You can call the [**RasSetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetentrypropertiesa) function to configure a multilink RAS entry to connect all subentries when it is first dialed.</span></span> <span data-ttu-id="34f3e-117">Vous pouvez également configurer une entrée pour fournir une bande passante variable.</span><span class="sxs-lookup"><span data-stu-id="34f3e-117">Alternatively, you can configure an entry to provide variable bandwidth.</span></span> <span data-ttu-id="34f3e-118">Dans ce cas, RAS connecte initialement une seule sous-entrée, puis connecte ou déconnecte des sous-entrées supplémentaires si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="34f3e-118">In this case, RAS connects a single subentry initially, and then connects or disconnects additional subentries as needed.</span></span> <span data-ttu-id="34f3e-119">Pour une connexion multilien à bande passante variable, vous pouvez utiliser la structure [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) pour spécifier la sous-entrée initiale à connecter lorsque vous appelez la fonction [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="34f3e-119">For a variable-bandwidth multilink connection, you can use the [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure to specify the initial subentry to connect when you call the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function.</span></span> <span data-ttu-id="34f3e-120">Lorsque vous utilisez la fonction [**RasDialDlg**](/windows/desktop/api/Rasdlg/nf-rasdlg-rasdialdlga) pour connecter une entrée de liaisons multiples, vous pouvez utiliser la structure [**RasDialDlg**](/previous-versions/windows/desktop/legacy/aa377023(v=vs.85)) pour spécifier la sous-entrée initiale à connecter.</span><span class="sxs-lookup"><span data-stu-id="34f3e-120">When using the [**RasDialDlg**](/windows/desktop/api/Rasdlg/nf-rasdlg-rasdialdlga) function to connect a multilink entry, you can use the [**RASDIALDLG**](/previous-versions/windows/desktop/legacy/aa377023(v=vs.85)) structure to specify the initial subentry to connect.</span></span>

<span data-ttu-id="34f3e-121">Pour une connexion multilien à bande passante variable, utilisez la structure [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) avec la fonction [**RasSetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetentrypropertiesa) pour spécifier les paramètres de connexion et de déconnexion des sous-entrées individuelles.</span><span class="sxs-lookup"><span data-stu-id="34f3e-121">For a variable-bandwidth multilink connection, use the [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) structure with the [**RasSetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetentrypropertiesa) function to specify the parameters for connecting and disconnecting the individual subentries.</span></span> <span data-ttu-id="34f3e-122">RAS connecte une sous-entrée supplémentaire lorsque la bande passante utilisée dépasse un pourcentage spécifié de la bande passante disponible pour un intervalle spécifié.</span><span class="sxs-lookup"><span data-stu-id="34f3e-122">RAS connects an additional subentry when the bandwidth being used exceeds a specified percentage of the available bandwidth for a specified interval.</span></span>

<span data-ttu-id="34f3e-123">Si vous appelez la fonction [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) pour établir une connexion multilien, vous pouvez spécifier une fonction de rappel [**RasDialFunc2**](/windows/desktop/api/Ras/nc-ras-rasdialfunc2) pour recevoir des notifications sur la connexion.</span><span class="sxs-lookup"><span data-stu-id="34f3e-123">If you call the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function to establish a multilink connection, you can specify a [**RasDialFunc2**](/windows/desktop/api/Ras/nc-ras-rasdialfunc2) callback function to receive notifications about the connection.</span></span> <span data-ttu-id="34f3e-124">**RasDialFunc2** est similaire à la fonction de rappel [**RasDialFunc1**](/windows/desktop/api/Ras/nc-ras-rasdialfunc1) , à ceci près qu’elle fournit des informations supplémentaires pour une connexion multilien, telles que l’index de la sous-entrée qui a provoqué la notification.</span><span class="sxs-lookup"><span data-stu-id="34f3e-124">**RasDialFunc2** is similar to the [**RasDialFunc1**](/windows/desktop/api/Ras/nc-ras-rasdialfunc1) callback function, except that it provides additional information for a multilink connection, such as the index of the subentry that caused the notification.</span></span> <span data-ttu-id="34f3e-125">RAS appelle votre fonction **RasDialFunc2** lorsqu’il se connecte ou déconnecte une sous-entrée.</span><span class="sxs-lookup"><span data-stu-id="34f3e-125">RAS calls your **RasDialFunc2** function when it connects or disconnects a subentry.</span></span>

<span data-ttu-id="34f3e-126">Vous pouvez utiliser un handle de connexion **HRASCONN** pour raccrocher ou récupérer des informations sur une connexion à liaisons multiples.</span><span class="sxs-lookup"><span data-stu-id="34f3e-126">You can use an **HRASCONN** connection handle to hang up or retrieve information about a multilink connection.</span></span> <span data-ttu-id="34f3e-127">Vous pouvez obtenir un descripteur de connexion pour chacune des connexions de sous-entrée qui composent la liaison multilien, ainsi que pour la connexion multilien combinée.</span><span class="sxs-lookup"><span data-stu-id="34f3e-127">You can get a connection handle for each of the subentry connections that make up the multilink, as well as for the combined multilink connection.</span></span> <span data-ttu-id="34f3e-128">Quand vous appelez la fonction [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) pour établir une connexion multilien, **rasdial** retourne un handle à la connexion multilien combinée.</span><span class="sxs-lookup"><span data-stu-id="34f3e-128">When you call the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function to establish a multilink connection, **RasDial** returns a handle to the combined multilink connection.</span></span> <span data-ttu-id="34f3e-129">De même, [**RasEnumConnections**](/windows/desktop/api/Ras/nf-ras-rasenumconnectionsa) retourne le descripteur multilien combiné quand vous énumérez des connexions.</span><span class="sxs-lookup"><span data-stu-id="34f3e-129">Similarly, [**RasEnumConnections**](/windows/desktop/api/Ras/nf-ras-rasenumconnectionsa) returns the combined multilink handle when you enumerate connections.</span></span> <span data-ttu-id="34f3e-130">Pour obtenir un handle vers l’une des connexions de sous-entrée dans une connexion multilien, appelez la fonction [**RasGetSubEntryHandle**](/windows/desktop/api/Ras/nf-ras-rasgetsubentryhandlea) .</span><span class="sxs-lookup"><span data-stu-id="34f3e-130">To get a handle to one of the subentry connections in a multilink connection, call the [**RasGetSubEntryHandle**](/windows/desktop/api/Ras/nf-ras-rasgetsubentryhandlea) function.</span></span>

<span data-ttu-id="34f3e-131">Vous pouvez utiliser le handle de connexion multilien combiné et les handles de connexion de sous-entrée dans les fonctions [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa), [**RasGetConnectStatus**](/windows/desktop/api/Ras/nf-ras-rasgetconnectstatusa)et [**RasGetProjectionInfo**](/previous-versions/windows/embedded/ms897107(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="34f3e-131">You can use the combined multilink connection handle and the subentry connection handles in the [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa), [**RasGetConnectStatus**](/windows/desktop/api/Ras/nf-ras-rasgetconnectstatusa), and [**RasGetProjectionInfo**](/previous-versions/windows/embedded/ms897107(v=msdn.10)) functions.</span></span> <span data-ttu-id="34f3e-132">L’appel de **RasHangUp** avec un handle combiné de liaisons multiples met fin à la connexion entière ; l’appel de celle-ci avec un handle de sous-entrée bloque uniquement cette connexion de sous-entrée.</span><span class="sxs-lookup"><span data-stu-id="34f3e-132">Calling **RasHangUp** with a combined multilink handle terminates the entire connection; calling it with a subentry handle hangs up only that subentry connection.</span></span> <span data-ttu-id="34f3e-133">De même, **RasGetConnectStatus** retourne des informations pour la connexion combinée ou individuelle, en fonction du handle spécifié.</span><span class="sxs-lookup"><span data-stu-id="34f3e-133">Similarly, **RasGetConnectStatus** returns information for the combined or individual connection, depending on the handle specified.</span></span> <span data-ttu-id="34f3e-134">Les informations de projection retournées par **RasGetProjectionInfo** pour une entrée à liaisons multiples sont les mêmes pour chacun des handles de connexion de sous-entrée, comme c’est le cas pour le handle de connexion principal.</span><span class="sxs-lookup"><span data-stu-id="34f3e-134">The projection information returned by **RasGetProjectionInfo** for a multilink entry is the same for each of the subentry connection handles as it is for the main connection handle.</span></span>

 

 