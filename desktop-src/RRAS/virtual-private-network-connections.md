---
title: Connexions de réseau privé virtuel
description: Le service d’accès à distance (RAS) prend en charge les connexions de réseau privé virtuel (VPN) en plus des connexions d’accès à distance conventionnelles qui utilisent protocole PPP (PPP).
ms.assetid: c1195ebb-3107-4429-bc67-b64577d66268
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 09f5fc0b80a6eb00e7587e941eea39c056a11d14
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104031354"
---
# <a name="virtual-private-network-connections"></a><span data-ttu-id="32e38-103">Connexions de réseau privé virtuel</span><span class="sxs-lookup"><span data-stu-id="32e38-103">Virtual Private Network Connections</span></span>

<span data-ttu-id="32e38-104">Le service d’accès à distance (RAS) prend en charge les connexions de réseau privé virtuel (VPN) en plus des connexions d’accès à distance conventionnelles qui utilisent protocole PPP (PPP).</span><span class="sxs-lookup"><span data-stu-id="32e38-104">The Remote Access Service (RAS) supports Virtual Private Network (VPN) connections in addition to conventional remote access connections that use Point-to-Point Protocol (PPP).</span></span> <span data-ttu-id="32e38-105">Dans une connexion VPN, les paquets VPN sont encapsulés dans les paquets IP et envoyés sur un réseau IP comme Internet.</span><span class="sxs-lookup"><span data-stu-id="32e38-105">In a VPN connection, the VPN packets are encapsulated in IP packets and sent across an IP network such as the Internet.</span></span> <span data-ttu-id="32e38-106">Par conséquent, l’accès à un réseau IP est requis pour établir une connexion VPN.</span><span class="sxs-lookup"><span data-stu-id="32e38-106">Therefore, access to an IP network is a requirement in order to establish a VPN connection.</span></span> <span data-ttu-id="32e38-107">Si l’ordinateur client dispose d’une connexion Always on à un réseau IP, par exemple une connexion à un réseau local IP, le client peut établir la connexion VPN à l’aide d’un appel unique à la fonction [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="32e38-107">If the client computer has an always-on connection to an IP network, for example a connection to an IP LAN, the client can establish the VPN connection using a single call to the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function.</span></span>

<span data-ttu-id="32e38-108">Si l’ordinateur client ne dispose pas d’une connexion Always on à un réseau IP, deux appels à [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) sont requis pour établir la connexion VPN.</span><span class="sxs-lookup"><span data-stu-id="32e38-108">If the client computer does not have an always-on connection to an IP network, two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) are required to establish the VPN connection.</span></span> <span data-ttu-id="32e38-109">Le premier appel établit une connexion d’accès à distance au réseau IP ; le deuxième appel établit la connexion VPN.</span><span class="sxs-lookup"><span data-stu-id="32e38-109">The first call establishes a dial-up connection to the IP network; the second call establishes the VPN connection.</span></span>

<span data-ttu-id="32e38-110">Le membre **szLocalPhoneNumber** de la structure [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) pour la connexion VPN doit contenir le nom DNS ou l’adresse IP du serveur VPN de destination.</span><span class="sxs-lookup"><span data-stu-id="32e38-110">The **szLocalPhoneNumber** member of the [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) structure for the VPN connection should contain either the DNS name or IP address of the destination VPN server.</span></span>

<span data-ttu-id="32e38-111">Chaque connexion nécessite une entrée [d’annuaire téléphonique](ras-phone-books.md) distincte.</span><span class="sxs-lookup"><span data-stu-id="32e38-111">Each connection requires a separate [phone-book](ras-phone-books.md) entry.</span></span> <span data-ttu-id="32e38-112">Le premier appel à [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) spécifie l’entrée de l’annuaire téléphonique pour le réseau IP.</span><span class="sxs-lookup"><span data-stu-id="32e38-112">The first call to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) specifies the phone-book entry for the IP network.</span></span> <span data-ttu-id="32e38-113">Le deuxième appel spécifie l’entrée de l’annuaire téléphonique pour le VPN.</span><span class="sxs-lookup"><span data-stu-id="32e38-113">The second call specifies the phone-book entry for the VPN.</span></span>

<span data-ttu-id="32e38-114">La fonction [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) prend un pointeur vers une structure [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) comme paramètre.</span><span class="sxs-lookup"><span data-stu-id="32e38-114">The [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function takes a pointer to a [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure as a parameter.</span></span> <span data-ttu-id="32e38-115">Cette structure spécifie les informations d’authentification à utiliser pour le réseau spécifié par l’entrée de l’annuaire téléphonique.</span><span class="sxs-lookup"><span data-stu-id="32e38-115">This structure specifies the authentication credentials to use for the network specified by the phone-book entry.</span></span> <span data-ttu-id="32e38-116">Les informations d’identification requises pour accéder au réseau IP sont généralement différentes de celles du VPN.</span><span class="sxs-lookup"><span data-stu-id="32e38-116">The credentials required to access the IP network are typically different from those for the VPN.</span></span> <span data-ttu-id="32e38-117">Le premier appel à **rasdial** doit spécifier des informations d’identification pour le réseau IP.</span><span class="sxs-lookup"><span data-stu-id="32e38-117">The first call to **RasDial** should specify credentials for the IP network.</span></span> <span data-ttu-id="32e38-118">Le deuxième appel doit spécifier des informations d’identification pour le VPN.</span><span class="sxs-lookup"><span data-stu-id="32e38-118">The second call should specify credentials for the VPN.</span></span>

<span data-ttu-id="32e38-119">Si la fonction [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) est réussie, elle retourne un handle pour la connexion.</span><span class="sxs-lookup"><span data-stu-id="32e38-119">If the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function is successful, it returns a handle for the connection.</span></span> <span data-ttu-id="32e38-120">Utilisez ce handle dans un appel à [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) pour mettre fin à la connexion.</span><span class="sxs-lookup"><span data-stu-id="32e38-120">Use this handle in a call to [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) to terminate the connection.</span></span>

<span data-ttu-id="32e38-121">Dans le scénario précédent, les deux appels à [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) retournent des handles de connexion distincts pour le réseau IP et le VPN.</span><span class="sxs-lookup"><span data-stu-id="32e38-121">In the preceding scenario, the two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) return separate connection handles for the IP network and the VPN.</span></span> <span data-ttu-id="32e38-122">L’appel de [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) avec le descripteur pour la connexion VPN met fin à la connexion VPN, mais laisse la connexion au réseau IP intacte.</span><span class="sxs-lookup"><span data-stu-id="32e38-122">Calling [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) with the handle for the VPN connection terminates the VPN connection but leaves the connection to the IP network intact.</span></span>

 

 