---
title: Connexions de rappel
description: RAS prend en charge les connexions dans lesquelles le serveur distant raccroche, puis rappelle le client pour établir la connexion.
ms.assetid: 25f0e84d-8900-4efe-b07d-59f25186c976
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9aabe3bf5503f16d7d27e44e02dc19ccb2a6f2e5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103729821"
---
# <a name="callback-connections"></a><span data-ttu-id="32dfc-103">Connexions de rappel</span><span class="sxs-lookup"><span data-stu-id="32dfc-103">Callback Connections</span></span>

<span data-ttu-id="32dfc-104">RAS prend en charge les connexions dans lesquelles le serveur distant raccroche, puis rappelle le client pour établir la connexion.</span><span class="sxs-lookup"><span data-stu-id="32dfc-104">RAS supports connections in which the remote server hangs up and then calls back to the client to establish the connection.</span></span>

<span data-ttu-id="32dfc-105">Pour chaque utilisateur qui peut se connecter à un serveur RAS, le serveur stocke un attribut de rappel qui contrôle la façon dont la connexion est établie.</span><span class="sxs-lookup"><span data-stu-id="32dfc-105">For each user that can connect to a RAS server, the server stores a callback attribute that controls how the connection is made.</span></span> <span data-ttu-id="32dfc-106">L’attribut par défaut n’est pas un rappel, ce qui signifie que l’utilisateur peut se connecter au serveur RAS sans un rappel.</span><span class="sxs-lookup"><span data-stu-id="32dfc-106">The default attribute is No Callback, which means that the user can connect to the RAS server without a callback.</span></span> <span data-ttu-id="32dfc-107">L’administrateur du serveur RAS peut également attribuer à un utilisateur l’attribut de rappel prédéfini ou défini par l’appelant.</span><span class="sxs-lookup"><span data-stu-id="32dfc-107">Alternatively, the administrator of the RAS server can assign to a user either the Preset or Set-By-Caller callback attribute.</span></span>

<span data-ttu-id="32dfc-108">Pour qu’un utilisateur ait affecté la restriction prédéfinie, l’administrateur spécifie un numéro de téléphone que le serveur RAS doit rappeler pour établir une connexion.</span><span class="sxs-lookup"><span data-stu-id="32dfc-108">For a user assigned the Preset restriction, the administrator specifies a phone number that the RAS server must call back to establish a connection.</span></span> <span data-ttu-id="32dfc-109">L’utilisateur ne peut pas spécifier un autre numéro et la connexion ne peut pas être établie sans un rappel.</span><span class="sxs-lookup"><span data-stu-id="32dfc-109">The user cannot specify a different number, and the connection cannot be made without a callback.</span></span>

<span data-ttu-id="32dfc-110">Une opération de rappel prédéfinie est gérée automatiquement par le gestionnaire de connexions d’accès à distance et le serveur distant.</span><span class="sxs-lookup"><span data-stu-id="32dfc-110">A Preset callback operation is handled automatically by the Remote Access Connection Manager and the remote server.</span></span> <span data-ttu-id="32dfc-111">L’application cliente RAS n’a pas besoin d’effectuer d’autres opérations que de fournir des commentaires à l’utilisateur lorsque le gestionnaire de notification est appelé pendant les différents États de l’opération de rappel.</span><span class="sxs-lookup"><span data-stu-id="32dfc-111">The RAS client application does not need to do anything other than provide feedback to the user when the notification handler is called during the various states of the callback operation.</span></span>

<span data-ttu-id="32dfc-112">Un utilisateur affecté le privilège set by Caller peut choisir de se connecter avec ou sans rappel.</span><span class="sxs-lookup"><span data-stu-id="32dfc-112">A user assigned the Set By Caller privilege can choose to connect either with or without a callback.</span></span> <span data-ttu-id="32dfc-113">L’appel de [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) utilise le membre **szCallbackNumber** de la structure [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) pour indiquer le choix.</span><span class="sxs-lookup"><span data-stu-id="32dfc-113">The [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call uses the **szCallbackNumber** member of the [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure to indicate the choice.</span></span>

<span data-ttu-id="32dfc-114">Le membre **szCallbackNumber** peut simplement spécifier le numéro de rappel ; ou, pour établir la connexion sans rappel, **szCallbackNumber** peut pointer vers une chaîne vide, "".</span><span class="sxs-lookup"><span data-stu-id="32dfc-114">The **szCallbackNumber** member can simply specify the callback number; or, to establish the connection without a callback, **szCallbackNumber** can point to an empty string, "".</span></span> <span data-ttu-id="32dfc-115">Dans l’un ou l’autre de ces cas, le gestionnaire de connexions d’accès à distance gère automatiquement l’opération de connexion.</span><span class="sxs-lookup"><span data-stu-id="32dfc-115">In either of these cases, the Remote Access Connection Manager handles the connection operation automatically.</span></span> <span data-ttu-id="32dfc-116">Comme pour une opération de rappel prédéfinie, le client RAS n’a pas besoin d’effectuer d’action autre que pour fournir des commentaires à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="32dfc-116">As with a Preset callback operation, the RAS client does not need to perform any action other than to provide feedback to the user.</span></span>

<span data-ttu-id="32dfc-117">Si l’appel de [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) active les [États suspendus](paused-states.md), **szCallbackNumber** peut pointer vers une chaîne d’astérisques, « \* », pour indiquer que l’opération de connexion doit passer à un état suspendu pour permettre à l’utilisateur de taper le numéro de rappel.</span><span class="sxs-lookup"><span data-stu-id="32dfc-117">If the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call enables [paused states](paused-states.md), **szCallbackNumber** can point to an asterisk string, "\*", to indicate that the connection operation should enter a paused state to allow the user to type in the callback number.</span></span> <span data-ttu-id="32dfc-118">Dans ce cas, l’opération de connexion pour un utilisateur défini par l’appelant passe à l’état suspendu après que le serveur distant a authentifié l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="32dfc-118">In this case, the connection operation for a Set By Caller user enters a paused state after the remote server has authenticated the user.</span></span> <span data-ttu-id="32dfc-119">Au cours de l’état suspendu, le client RAS obtient l’entrée de numéro de rappel de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="32dfc-119">During the paused state, the RAS client gets the callback number input from the user.</span></span> <span data-ttu-id="32dfc-120">Le client reprend ensuite l’opération de connexion en effectuant un deuxième appel de **rasdial** dans lequel **szCallbackNumber** spécifie le nombre fourni par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="32dfc-120">The client then resumes the connection operation by making a second **RasDial** call in which **szCallbackNumber** specifies the number supplied by the user.</span></span>

> [!Note]  
> <span data-ttu-id="32dfc-121">Si les États suspendus ne sont pas activés, il existe une autre signification lorsque **szCallbackNumber** pointe vers une chaîne d’astérisques « \* ».</span><span class="sxs-lookup"><span data-stu-id="32dfc-121">If paused states are not enabled there is a different meaning when **szCallbackNumber** points to an asterisk string, "\*".</span></span> <span data-ttu-id="32dfc-122">Dans ce cas, l’astérisque indique que le numéro de rappel est stocké dans le fichier de l’annuaire téléphonique spécifié par l’appel [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="32dfc-122">In this case, the asterisk indicates that the callback number is stored in the phone-book file specified by the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call.</span></span>

 

<span data-ttu-id="32dfc-123">Dans le cas d’un rappel, l’appel à [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) ne retourne pas de valeur tant que le serveur n’a pas rappelé le client.</span><span class="sxs-lookup"><span data-stu-id="32dfc-123">In the event of a callback, the call to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) does not return until after the server has called back the client.</span></span>

 

 