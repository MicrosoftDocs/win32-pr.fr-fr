---
title: Opérations de connexion automatique
description: Lorsqu’une tentative de connexion à une adresse réseau échoue parce que l’hôte ne peut pas être atteint, le système recherche l’adresse dans la base de données de mappage de la numérotation automatique.
ms.assetid: 343ee69e-1ff5-4107-9ddb-4245c3b4a54d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 150fa8542d1724be9d60f997db7952d6df387b9b
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104382050"
---
# <a name="autodial-connection-operations"></a><span data-ttu-id="95d2e-103">Opérations de connexion automatique</span><span class="sxs-lookup"><span data-stu-id="95d2e-103">AutoDial Connection Operations</span></span>

<span data-ttu-id="95d2e-104">Lorsqu’une tentative de connexion à une adresse réseau échoue parce que l’hôte ne peut pas être atteint, le système recherche l’adresse dans la base de données de mappage de la numérotation automatique.</span><span class="sxs-lookup"><span data-stu-id="95d2e-104">When an attempt to connect to a network address fails because the host cannot be reached, the system searches the AutoDial mapping database for the address.</span></span> <span data-ttu-id="95d2e-105">Si l’adresse est dans la base de données, le système lance une opération de numérotation automatique pour le [**RASAUTODIALENTRY**](/previous-versions/windows/desktop/legacy/aa376721(v=vs.85)), le cas échéant, qui correspond à l’emplacement de numérotation TAPI local.</span><span class="sxs-lookup"><span data-stu-id="95d2e-105">If the address is in the database, the system initiates an AutoDial operation for the [**RASAUTODIALENTRY**](/previous-versions/windows/desktop/legacy/aa376721(v=vs.85)), if any, that corresponds to the local TAPI dialing location.</span></span>

<span data-ttu-id="95d2e-106">L’API RAS fournit des fonctions qui vous permettent de définir et d’interroger des paramètres de numérotation automatique qui contrôlent les connexions de numérotation automatique.</span><span class="sxs-lookup"><span data-stu-id="95d2e-106">The RAS API provides functions that enable you to set and query AutoDial parameters that control AutoDial connections.</span></span> <span data-ttu-id="95d2e-107">Vous pouvez appeler la fonction [**RasSetAutodialEnable**](/windows/desktop/api/Ras/nf-ras-rassetautodialenablea) pour activer ou désactiver la fonctionnalité de numérotation automatique pour un emplacement de numérotation TAPI spécifié.</span><span class="sxs-lookup"><span data-stu-id="95d2e-107">You can call the [**RasSetAutodialEnable**](/windows/desktop/api/Ras/nf-ras-rassetautodialenablea) function to enable or disable the AutoDial feature for a specified TAPI dialing location.</span></span> <span data-ttu-id="95d2e-108">La fonction [**RasGetAutodialEnable**](/windows/desktop/api/Ras/nf-ras-rasgetautodialenablea) indique si la fonctionnalité de numérotation automatique est activée pour un emplacement de numérotation TAPI spécifié.</span><span class="sxs-lookup"><span data-stu-id="95d2e-108">The [**RasGetAutodialEnable**](/windows/desktop/api/Ras/nf-ras-rasgetautodialenablea) function indicates whether the AutoDial feature is enabled for a specified TAPI dialing location.</span></span> <span data-ttu-id="95d2e-109">Pour plus d’informations sur les emplacements de numérotation TAPI, consultez la documentation relative à TAPI.</span><span class="sxs-lookup"><span data-stu-id="95d2e-109">For more information about TAPI dialing locations, see the TAPI documentation.</span></span> <span data-ttu-id="95d2e-110">Vous pouvez appeler la fonction [**RasSetAutodialParam**](/windows/desktop/api/Ras/nf-ras-rassetautodialparama) pour définir d’autres paramètres de connexion de numérotation automatique.</span><span class="sxs-lookup"><span data-stu-id="95d2e-110">You can call the [**RasSetAutodialParam**](/windows/desktop/api/Ras/nf-ras-rassetautodialparama) function to set other AutoDial connection parameters.</span></span> <span data-ttu-id="95d2e-111">Par exemple, vous pouvez désactiver les connexions de numérotation automatique pour la session d’ouverture de session en cours.</span><span class="sxs-lookup"><span data-stu-id="95d2e-111">For example, you can disable AutoDial connections for the current logon session.</span></span> <span data-ttu-id="95d2e-112">Appelez la fonction [**RasGetAutodialParam**](/windows/desktop/api/Ras/nf-ras-rasgetautodialparama) pour déterminer la valeur actuelle des paramètres de connexion de numérotation automatique.</span><span class="sxs-lookup"><span data-stu-id="95d2e-112">Call the [**RasGetAutodialParam**](/windows/desktop/api/Ras/nf-ras-rasgetautodialparama) function to determine the current value of the AutoDial connection parameters.</span></span>

<span data-ttu-id="95d2e-113">Le système fournit une interface utilisateur par défaut pour les opérations de numérotation automatique.</span><span class="sxs-lookup"><span data-stu-id="95d2e-113">The system provides a default user interface for AutoDial dialing operations.</span></span> <span data-ttu-id="95d2e-114">Toutefois, vous pouvez créer une bibliothèque de liens dynamiques (DLL) de numérotation automatique pour fournir une interface utilisateur personnalisée pour les opérations de numérotation automatique qui impliquent des entrées d’annuaire téléphonique spécifiées.</span><span class="sxs-lookup"><span data-stu-id="95d2e-114">However, you can create an AutoDial dynamic-link library (DLL) to provide a custom user interface for AutoDial dialing operations involving specified phone-book entries.</span></span> <span data-ttu-id="95d2e-115">Votre DLL de numérotation automatique doit exporter une version ANSI et une version Unicode d’un gestionnaire de numérotation automatique [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca) .</span><span class="sxs-lookup"><span data-stu-id="95d2e-115">Your AutoDial DLL must export both an ANSI and a Unicode version of a [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca) AutoDial handler.</span></span>

<span data-ttu-id="95d2e-116">Pour activer votre gestionnaire de numérotation automatique personnalisé pour une entrée de l’annuaire téléphonique, appelez la fonction [**RasSetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetentrypropertiesa) pour définir les propriétés de cette entrée.</span><span class="sxs-lookup"><span data-stu-id="95d2e-116">To enable your custom AutoDial handler for a phone-book entry, call the [**RasSetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetentrypropertiesa) function to set the properties for that entry.</span></span> <span data-ttu-id="95d2e-117">Les membres **szAutodialDll** et **szAutodialFunc** de la structure [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) passée à **RASSETENTRYPROPERTIES** spécifient le nom de votre dll de numérotation automatique et le nom de votre fonction [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca) , à l’exclusion du suffixe « A » ou « W ».</span><span class="sxs-lookup"><span data-stu-id="95d2e-117">The **szAutodialDll** and **szAutodialFunc** members of the [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) structure passed to **RasSetEntryProperties** specify the name of your AutoDial DLL and the name of your [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca) function, excluding the "A" or "W" suffix.</span></span>

<span data-ttu-id="95d2e-118">Lorsque le système démarre une opération de numérotation automatique pour une entrée de l’annuaire téléphonique avec un gestionnaire de numérotation automatique personnalisé, il appelle le [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca)spécifié.</span><span class="sxs-lookup"><span data-stu-id="95d2e-118">When the system starts an AutoDial operation for a phone-book entry with a custom AutoDial handler, it calls the specified [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca).</span></span> <span data-ttu-id="95d2e-119">La fonction **RASADFunc** reçoit un pointeur vers une structure [**RASADPARAMS**](/previous-versions/windows/desktop/legacy/aa376719(v=vs.85)) qui indique l’emplacement et la fenêtre parente de la fenêtre de votre interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="95d2e-119">The **RASADFunc** function receives a pointer to a [**RASADPARAMS**](/previous-versions/windows/desktop/legacy/aa376719(v=vs.85)) structure that indicates the location and parent window for the window of your user interface.</span></span> <span data-ttu-id="95d2e-120">Votre **RASADFunc** peut démarrer un thread pour effectuer l’opération de numérotation personnalisée.</span><span class="sxs-lookup"><span data-stu-id="95d2e-120">Your **RASADFunc** can start a thread to perform the custom dialing operation.</span></span> <span data-ttu-id="95d2e-121">La fonction **RASADFunc** retourne la **valeur true** pour indiquer qu’elle a pris le relais, ou **false** pour permettre au système d’effectuer la numérotation.</span><span class="sxs-lookup"><span data-stu-id="95d2e-121">The **RASADFunc** function returns **TRUE** to indicate that it took over the dialing, or **FALSE** to allow the system to perform the dialing.</span></span> <span data-ttu-id="95d2e-122">Votre opération de numérotation personnalisée doit utiliser la fonction [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) pour effectuer la numérotation réelle.</span><span class="sxs-lookup"><span data-stu-id="95d2e-122">Your custom dialing operation must use the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function to do the actual dialing.</span></span> <span data-ttu-id="95d2e-123">Une fois l’opération de numérotation terminée, l’opération de numérotation personnalisée indique la réussite ou l’échec en définissant la variable vers laquelle pointe le paramètre *lpdwRetCode* passé à [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca).</span><span class="sxs-lookup"><span data-stu-id="95d2e-123">When the dialing operation has been completed, the custom dialing operation indicates success or failure by setting the variable pointed to by the *lpdwRetCode* parameter passed to [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca).</span></span>

 

 