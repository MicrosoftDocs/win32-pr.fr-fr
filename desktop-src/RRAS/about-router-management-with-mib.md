---
title: À propos de la gestion de routeur avec MIB
description: Les API MIB (Management Information base) pour la gestion de routeur permettent d’interroger et de définir les valeurs des variables MIB exportées par l’un des gestionnaires de routeur ou l’un des protocoles de routage utilisés par le service gestionnaires de routeur.
ms.assetid: d0fafd82-e7cb-4524-a499-d14830f02b21
keywords:
- Routage, base d’informations de gestion
- Routage, base d’informations de gestion, Description
- Service RRAS de base d’informations de gestion
- MIB
- MIB, voir base d’informations de gestion
- Service RRAS de base d’informations de gestion
- Informations de gestion service RRAS, Description
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e015dacc0b36a00ab62d42c710551aa368aa59e0
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "103673670"
---
# <a name="about-router-management-with-mib"></a><span data-ttu-id="5f9b5-110">À propos de la gestion de routeur avec MIB</span><span class="sxs-lookup"><span data-stu-id="5f9b5-110">About Router Management with MIB</span></span>

<span data-ttu-id="5f9b5-111">Les API MIB (Management Information base) pour la gestion de routeur permettent d’interroger et de définir les valeurs des variables MIB exportées par l’un des gestionnaires de routeur ou l’un des protocoles de routage utilisés par le service gestionnaires de routeur.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-111">The Management Information Base (MIB) APIs for router management makes it possible to query and set the values of MIB variables exported by one of the router managers or any of the routing protocols that the router managers service.</span></span> <span data-ttu-id="5f9b5-112">À l’aide de cette API, le routeur prend en charge le protocole SNMP (simple Network Management Protocol).</span><span class="sxs-lookup"><span data-stu-id="5f9b5-112">By using this API, the router supports the Simple Network Management Protocol (SNMP).</span></span>

<span data-ttu-id="5f9b5-113">Dans l’infrastructure SNMP, chacun des objets gérables dans le routeur est représenté par une variable qui a un identificateur d’objet (OID) unique.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-113">In the SNMP framework, each of the manageable objects in the router is represented by a variable that has a unique Object Identifier (OID).</span></span> <span data-ttu-id="5f9b5-114">Correspondant à chaque OID est une valeur qui représente l’état actuel de l’objet.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-114">Corresponding to each OID is a value that represents the current state of the object.</span></span> <span data-ttu-id="5f9b5-115">La collection d’OID et de valeurs est appelée MIB (Management Information base).</span><span class="sxs-lookup"><span data-stu-id="5f9b5-115">The collection of OIDs and values is referred to as a Management Information Base (MIB).</span></span> <span data-ttu-id="5f9b5-116">Les appels MprAdminMib permettent à un développeur de spécifier un objet par son OID et de demander ou d’écrire (« définir ») la valeur de l’objet.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-116">The MprAdminMib calls allow a developer to specify an object by its OID and either query or write ("Set") the object's value.</span></span>

<span data-ttu-id="5f9b5-117">Pour interroger et définir des variables MIB, le module qui services les appels doit définir un ensemble de structures de données.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-117">To query and set MIB variables, the module that services the calls must define a set of data structures.</span></span> <span data-ttu-id="5f9b5-118">Ces structures de données incluent des structures à utiliser comme identificateurs et structures d’objets qui contiennent les valeurs des variables MIB en cours d’accès.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-118">These data structures include structures to use as Object Identifiers and structures that hold the values of the MIB variables being accessed.</span></span> <span data-ttu-id="5f9b5-119">Ces structures de données sont opaques à tous, sauf l’appelant de la fonction MIB et le module traitant l’appel.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-119">These data structures are opaque to all but the caller of the MIB function and the module servicing the call.</span></span>

<span data-ttu-id="5f9b5-120">Le module traitant l’appel MIB est un gestionnaire de routeur ou un des protocoles de routage.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-120">The module servicing the MIB call is a router manager or one of the routing protocols.</span></span> <span data-ttu-id="5f9b5-121">L’appelant doit spécifier un gestionnaire de routeur même si l’appel est géré par l’un des protocoles de routage.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-121">The caller must specify a router manager even if the call is handled by one of the routing protocols.</span></span> <span data-ttu-id="5f9b5-122">Dans ce cas, l’appelant doit spécifier le gestionnaire de routeur qui correspond à la famille de protocoles pour ce protocole de routage.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-122">In such a case, the caller should specify the router manager that corresponds to the protocol family for that routing protocol.</span></span> <span data-ttu-id="5f9b5-123">Par exemple, si le protocole de routage OSPF (Open Shortest Path First) utilisait l’appel MIB, l’appelant devra spécifier le gestionnaire de routeur IP, puisque le protocole OSPF appartient à la famille de protocoles IP.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-123">For example, if the Open Shortest Path First (OSPF) routing protocol were handling the MIB call, the caller would need to specify the IP Router Manager, since OSPF belongs to the IP protocol family.</span></span> <span data-ttu-id="5f9b5-124">Dans chacune des fonctions MIB, le paramètre *dwTransportId* spécifie un gestionnaire de routeur et le paramètre *RoutingPid* spécifie le protocole de routage.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-124">In each of the MIB functions, the *dwTransportId* parameter specifies a router manager, and the *RoutingPid* parameter specifies the routing protocol.</span></span> <span data-ttu-id="5f9b5-125">Le gestionnaire de routeur possède également un *RoutingPid* unique, car certaines des variables MIB peuvent être gérées par le gestionnaire de routeur lui-même.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-125">The router manager also has a unique *RoutingPid*, since some of the MIB variables may be handled by the router manager itself.</span></span>

<span data-ttu-id="5f9b5-126">Les fonctions MprAdminMib peuvent être appelées sur un ordinateur autre que celui qui est administré.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-126">The MprAdminMib functions can be called on a computer other than the one being administered.</span></span> <span data-ttu-id="5f9b5-127">Les fonctions MprAdminMIB qui interrogent ou écrivent des valeurs prennent comme paramètre un handle vers l’ordinateur à administrer.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-127">The MprAdminMIB functions that query or write values, take as a parameter a handle to the computer to administer.</span></span> <span data-ttu-id="5f9b5-128">Utilisez la fonction [**MprAdminMIBServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverconnect) pour établir la connexion à l’ordinateur distant et obtenir ce descripteur.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-128">Use the [**MprAdminMIBServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverconnect) function to establish the connection to the remote computer and obtain this handle.</span></span> <span data-ttu-id="5f9b5-129">Après avoir appelé les fonctions MprAdminMIB nécessaires pour accomplir une tâche administrative particulière, appelez la fonction [**MprAdminMIBServerDisconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverdisconnect) pour mettre fin à la connexion à l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-129">After calling the necessary MprAdminMIB functions to accomplish a particular administrative task, call the [**MprAdminMIBServerDisconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverdisconnect) function to terminate the connection to the remote computer.</span></span>

<span data-ttu-id="5f9b5-130">Les fonctions [**MprAdminMIBEntryCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrycreate) et [**MprAdminMIBEntrySet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryset) prennent comme paramètres un OID et une mémoire tampon qui contient la nouvelle valeur de l’objet.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-130">The [**MprAdminMIBEntryCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrycreate) and [**MprAdminMIBEntrySet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryset) functions take as parameters an OID and a buffer which contains the new value for the object.</span></span>

<span data-ttu-id="5f9b5-131">Les fonctions [**MprAdminMIBEntryGet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryget), [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) et [**MPRADMINMIBENTRYGETNEXT**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) prennent comme paramètres un OID et l’adresse d’une variable pointeur.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-131">The [**MprAdminMIBEntryGet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryget), [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) and [**MprAdminMIBEntryGetNext**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) functions take as parameters an OID and the address of a pointer variable.</span></span> <span data-ttu-id="5f9b5-132">En cas de retour correct, la variable pointeur pointe vers une mémoire tampon qui contient la valeur de l’objet.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-132">On successful return, the pointer variable points to a buffer that contains the value for the object.</span></span> <span data-ttu-id="5f9b5-133">L’appelant doit libérer la mémoire pour ce tampon en appelant la fonction [**MprAdminMIBBufferFree**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibbufferfree) .</span><span class="sxs-lookup"><span data-stu-id="5f9b5-133">The caller should free the memory for this buffer by calling the [**MprAdminMIBBufferFree**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibbufferfree) function.</span></span>

<span data-ttu-id="5f9b5-134">Les fonctions [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) et [**MprAdminMIBEntryGetNext**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) permettent à un développeur d’effectuer un *parcours SNMP*.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-134">The [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) and [**MprAdminMIBEntryGetNext**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) functions enable a developer to perform an *SNMP walk*.</span></span> <span data-ttu-id="5f9b5-135">Étant donné que les OID sont triés, chaque OID et, par conséquent, chaque objet gérable possède un OID *suivant* .</span><span class="sxs-lookup"><span data-stu-id="5f9b5-135">Because the OIDs are ordered, each OID and therefore each manageable object has a *next* OID.</span></span> <span data-ttu-id="5f9b5-136">Un parcours SNMP fait référence à la traversée d’une partie de la MIB en lisant ou en écrivant une séquence d’OID.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-136">An SNMP walk refers to traversing a portion of the MIB by reading or writing a sequence of OIDs.</span></span>

<span data-ttu-id="5f9b5-137">Tous les appels MprAdminMib passent par le gestionnaire d’interface dynamique (DIM).</span><span class="sxs-lookup"><span data-stu-id="5f9b5-137">All MprAdminMib calls pass through the Dynamic Interface Manager (DIM).</span></span> <span data-ttu-id="5f9b5-138">Selon l’OID, DIM passe l’appel à l’un des gestionnaires de routeur.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-138">Depending on the OID, DIM passes the call to one of the router managers.</span></span> <span data-ttu-id="5f9b5-139">(IP et IPX prennent en charge SNMP).</span><span class="sxs-lookup"><span data-stu-id="5f9b5-139">(Both IP and IPX support SNMP).</span></span> <span data-ttu-id="5f9b5-140">Là encore, en fonction de l’OID, le gestionnaire de routeur peut traiter l’appel lui-même ou passer l’appel à l’un de ses clients.</span><span class="sxs-lookup"><span data-stu-id="5f9b5-140">Again, depending on the OID, the router manager may handle the call itself, or pass the call to one of its clients.</span></span> <span data-ttu-id="5f9b5-141">Tous les clients de routeur sont requis pour implémenter et exporter les fonctions suivantes qui correspondent aux fonctions MprAdminMIB nommées de la même façon :</span><span class="sxs-lookup"><span data-stu-id="5f9b5-141">All router clients are required to implement and export the following functions which correspond to the similarly named MprAdminMIB functions:</span></span>

-   [<span data-ttu-id="5f9b5-142">**MibCreate**</span><span class="sxs-lookup"><span data-stu-id="5f9b5-142">**MibCreate**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_create)
-   [<span data-ttu-id="5f9b5-143">**MibDelete**</span><span class="sxs-lookup"><span data-stu-id="5f9b5-143">**MibDelete**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_delete)
-   [<span data-ttu-id="5f9b5-144">**MibSet**</span><span class="sxs-lookup"><span data-stu-id="5f9b5-144">**MibSet**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_set)
-   [<span data-ttu-id="5f9b5-145">**MibGet**</span><span class="sxs-lookup"><span data-stu-id="5f9b5-145">**MibGet**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get)
-   [<span data-ttu-id="5f9b5-146">**MibGetFirst**</span><span class="sxs-lookup"><span data-stu-id="5f9b5-146">**MibGetFirst**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get_first)
-   [<span data-ttu-id="5f9b5-147">**MibGetNext**</span><span class="sxs-lookup"><span data-stu-id="5f9b5-147">**MibGetNext**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get_next)
-   [<span data-ttu-id="5f9b5-148">**MibGetTrapInfo**</span><span class="sxs-lookup"><span data-stu-id="5f9b5-148">**MibGetTrapInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get_trap_info)
-   [<span data-ttu-id="5f9b5-149">**MibSetTrapInfo**</span><span class="sxs-lookup"><span data-stu-id="5f9b5-149">**MibSetTrapInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_set_trap_info)

 

 




