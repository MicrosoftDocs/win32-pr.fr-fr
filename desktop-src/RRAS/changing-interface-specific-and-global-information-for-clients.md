---
title: Modification des Interface-Specific et des informations globales pour les clients
description: Pour modifier les informations d’interface d’un client spécifique, par exemple NAT, utilisez d’abord le \ 0034 ; GetInfo \ 0034 ; fonction permettant de récupérer les informations actuelles.
ms.assetid: 208e356b-328e-416d-881c-732fed460ebf
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3e5c8f2ef3c37d75db1cc7686a67108530b16b28
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "103939964"
---
# <a name="changing-interface-specific-and-global-information-for-clients"></a><span data-ttu-id="29678-103">Modification des Interface-Specific et des informations globales pour les clients</span><span class="sxs-lookup"><span data-stu-id="29678-103">Changing Interface-Specific and Global Information for Clients</span></span>

<span data-ttu-id="29678-104">Pour modifier les informations d’interface d’un client spécifique, par exemple NAT, utilisez d’abord la fonction « GetInfo » appropriée pour récupérer les informations actuelles.</span><span class="sxs-lookup"><span data-stu-id="29678-104">To change the interface information for a specific client, for example NAT, first use the appropriate "GetInfo" function to retrieve the current information.</span></span> <span data-ttu-id="29678-105">Si le routeur est en cours d’exécution, utilisez [**MprAdminInterfaceTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportgetinfo).</span><span class="sxs-lookup"><span data-stu-id="29678-105">If the router is running, use [**MprAdminInterfaceTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportgetinfo).</span></span> <span data-ttu-id="29678-106">Si le routeur n’est pas en cours d’exécution, utilisez [**MprConfigInterfaceTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacetransportgetinfo).</span><span class="sxs-lookup"><span data-stu-id="29678-106">If the router is not running, use the [**MprConfigInterfaceTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacetransportgetinfo).</span></span> <span data-ttu-id="29678-107">Cet appel récupère les informations pour tous les clients qui s’exécutent sur l’interface spécifiée.</span><span class="sxs-lookup"><span data-stu-id="29678-107">This call retrieves the information for all the clients running on the specified interface.</span></span> <span data-ttu-id="29678-108">Par exemple, si OSPF et RIP s’exécutent sur une interface particulière, cet appel récupère les informations d’interface pour les deux.</span><span class="sxs-lookup"><span data-stu-id="29678-108">For example, if both OSPF and RIP are running on a particular interface, this call retrieves the interface information for both.</span></span> <span data-ttu-id="29678-109">Utilisez la fonction [**MprInfoBlockFind**](/windows/desktop/api/Mprapi/nf-mprapi-mprinfoblockfind) pour localiser le bloc d’informations qui correspond au client que vous souhaitez modifier.</span><span class="sxs-lookup"><span data-stu-id="29678-109">Use the [**MprInfoBlockFind**](/windows/desktop/api/Mprapi/nf-mprapi-mprinfoblockfind) function to locate the information block that corresponds to the client you want to modify.</span></span> <span data-ttu-id="29678-110">Utilisez ensuite la fonction [**MprInfoBlockSet**](/windows/desktop/api/Mprapi/nf-mprapi-mprinfoblockset) pour effectuer les modifications.</span><span class="sxs-lookup"><span data-stu-id="29678-110">Then use the [**MprInfoBlockSet**](/windows/desktop/api/Mprapi/nf-mprapi-mprinfoblockset) function to perform the modifications.</span></span> <span data-ttu-id="29678-111">Enfin, utilisez [**MprAdminInterfaceTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportsetinfo) ou [**MprConfigInterfaceSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacesetinfo) pour apporter les modifications au routeur en cours d’exécution ou à la configuration du routeur dans le registre.</span><span class="sxs-lookup"><span data-stu-id="29678-111">Lastly, use [**MprAdminInterfaceTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportsetinfo) or [**MprConfigInterfaceSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacesetinfo) to make the changes to either the running router or the router configuration in the registry.</span></span>

<span data-ttu-id="29678-112">Les informations sur les clients globaux sont des informations qui ne sont pas spécifiques à une interface particulière sur laquelle le client s’exécute.</span><span class="sxs-lookup"><span data-stu-id="29678-112">Global client information is information that is not specific to any particular interface on which the client is running.</span></span> <span data-ttu-id="29678-113">Utilisez une procédure similaire pour modifier les informations globales pour un client spécifique.</span><span class="sxs-lookup"><span data-stu-id="29678-113">Use a similar procedure to modify global information for a specific client.</span></span> <span data-ttu-id="29678-114">Tout d’abord, récupérez les informations globales pour tous les clients à l’aide de [**MprAdminTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmintransportgetinfo) ou [**MprConfigTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigtransportgetinfo).</span><span class="sxs-lookup"><span data-stu-id="29678-114">First retrieve the global information for all the clients using [**MprAdminTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmintransportgetinfo) or [**MprConfigTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigtransportgetinfo).</span></span> <span data-ttu-id="29678-115">Utilisez ensuite les fonctions MprInfo pour modifier les informations.</span><span class="sxs-lookup"><span data-stu-id="29678-115">Then use the MprInfo functions to modify the information.</span></span> <span data-ttu-id="29678-116">Enfin, utilisez les fonctions [**MprAdminTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmintransportsetinfo) ou [**MprConfigTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigtransportsetinfo) pour enregistrer les informations modifiées à nouveau sur le routeur ou le registre en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="29678-116">Lastly, use the [**MprAdminTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmintransportsetinfo) or [**MprConfigTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigtransportsetinfo) functions to save the modified information back to either the running router or the registry.</span></span>

<span data-ttu-id="29678-117">Les appels aux fonctions d’administration précédentes passent par le gestionnaire d’interface dynamique (DIM) et finissent par traduire en appels du gestionnaire de routeur aux clients eux-mêmes.</span><span class="sxs-lookup"><span data-stu-id="29678-117">Calls to the preceding administration functions go through the Dynamic Interface Manager (DIM), and eventually translate into calls from the router manager to the clients themselves.</span></span> <span data-ttu-id="29678-118">Tous les clients, qu’ils soient ou non des protocoles de routage, doivent être conformes à l’interface décrite dans la section [interface de protocole du routeur](about-routing-protocol-interface.md).</span><span class="sxs-lookup"><span data-stu-id="29678-118">All clients, whether or not they are routing protocols, must conform to the interface described in the section [Router Protocol Interface](about-routing-protocol-interface.md).</span></span> <span data-ttu-id="29678-119">Dans le cadre de cette interface, le protocole de routage doit prendre en charge les fonctions suivantes (parmi d’autres) :</span><span class="sxs-lookup"><span data-stu-id="29678-119">As part of this interface, the routing protocol must support the following functions (among others):</span></span>

-   [<span data-ttu-id="29678-120">**GetGlobalInfo**</span><span class="sxs-lookup"><span data-stu-id="29678-120">**GetGlobalInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pget_global_info)
-   [<span data-ttu-id="29678-121">**SetGlobalInfo**</span><span class="sxs-lookup"><span data-stu-id="29678-121">**SetGlobalInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pset_global_info)
-   [<span data-ttu-id="29678-122">**GetInterfaceInfo**</span><span class="sxs-lookup"><span data-stu-id="29678-122">**GetInterfaceInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pget_interface_info)
-   [<span data-ttu-id="29678-123">**SetInterfaceInfo**</span><span class="sxs-lookup"><span data-stu-id="29678-123">**SetInterfaceInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pset_interface_info)

<span data-ttu-id="29678-124">Le gestionnaire de routeur appelle les fonctions [**GetInterfaceInfo**](/windows/desktop/api/Routprot/nc-routprot-pget_interface_info) pour chacun des clients afin de recueillir les informations retournées à partir d’un appel à [**MprAdminInterfaceTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportgetinfo).</span><span class="sxs-lookup"><span data-stu-id="29678-124">The router manager calls the [**GetInterfaceInfo**](/windows/desktop/api/Routprot/nc-routprot-pget_interface_info) functions for each of the clients to gather the information that is returned from a call to [**MprAdminInterfaceTransportGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportgetinfo).</span></span> <span data-ttu-id="29678-125">De même, lorsque le gestionnaire de routeur reçoit des informations mises à jour via l’appel [**MprAdminInterfaceTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportsetinfo) , il utilise les fonctions [**SetInterfaceInfo**](/windows/desktop/api/Routprot/nc-routprot-pset_interface_info) pour mettre à jour les informations d’interface de chacun des clients.</span><span class="sxs-lookup"><span data-stu-id="29678-125">Similarly, when the router manager receives updated information via [**MprAdminInterfaceTransportSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacetransportsetinfo) call, it uses the [**SetInterfaceInfo**](/windows/desktop/api/Routprot/nc-routprot-pset_interface_info) functions to update the interface information for each of the clients.</span></span>

 

 




