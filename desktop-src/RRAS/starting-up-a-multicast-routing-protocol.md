---
title: Démarrage d’un protocole de routage de multidiffusion
description: Le tableau suivant résume une série d’étapes dans une interaction de démarrage entre un protocole de routage et le gestionnaire de groupe de multidiffusion.
ms.assetid: 14524745-5cf9-442c-a5b4-b1ef313151cf
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 63fc5dc5b25541c798ac0907a54dd19105a4c641
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104463495"
---
# <a name="starting-up-a-multicast-routing-protocol"></a>Démarrage d’un protocole de routage de multidiffusion

Le tableau suivant résume une série d’étapes dans une interaction de démarrage entre un protocole de routage et le gestionnaire de groupe de multidiffusion. La première colonne décrit les actions effectuées par le protocole de routage et les réponses du protocole de routage au gestionnaire de groupe de multidiffusion. La deuxième colonne décrit les réponses du gestionnaire de groupe de multidiffusion au protocole de routage et toutes les actions effectuées par le gestionnaire de groupe de multidiffusion, telles que les rappels. La troisième colonne présente des informations supplémentaires.

Chaque ligne de la table représente une étape.



| Action de protocole de routage                                                                                                                                                                                                                                                                                                                 | Action du gestionnaire de groupe de multidiffusion                                                                                                                                                                                                                                                                                                                                                                                                                                            | Notes                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Inscrivez-vous auprès du gestionnaire de groupe de multidiffusion à l’aide de la fonction [**MgmRegisterMProtocol**](/windows/desktop/api/Mgm/nf-mgm-mgmregistermprotocol) .                                                                                                                                                                                                                      | Revenez au protocole de routage un descripteur que le protocole doit utiliser pour s’identifier dans les appels d’API MGM suivants.                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                         |
| Déterminez si une interface est déjà propriétaire et le protocole de routage qui la possède à l’aide de la fonction [**MgmGetProtocolOnInterface**](/windows/desktop/api/Mgm/nf-mgm-mgmgetprotocoloninterface) .                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | IGMP peut utiliser cette fonction pour déterminer le propriétaire d’une interface et effectuer le traitement spécifique au protocole à l’aide des informations retournées par cette fonction.                                                                             |
| Prendre possession de toutes les interfaces sur lesquelles le protocole est activé à l’aide de la fonction [**MgmTakeInterfaceOwnership**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) .                                                                                                                                                                                | Si IGMP a déjà pris possession d’une interface et que l’appel de la fonction [**MgmTakeInterfaceOwnership**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) est reçu pour la même interface, contactez IGMP en utilisant le rappel de [**\_ \_ \_ rappel IGMP PMGM Disable**](/windows/win32/api/mgm/nc-mgm-pmgm_disable_igmp_callback) . Une fois que toutes les modifications apportées aux données de multidiffusion relatives à la propriété de l’interface ont été effectuées, contactez à nouveau IGMP en utilisant [**PMGM \_ activer le \_ \_ rappel IGMP**](/windows/desktop/api/Mgm/nc-mgm-pmgm_enable_igmp_callback).<br/> | Un seul protocole peut posséder une interface à un moment donné, en plus de IGMP.                                                                                                                                                            |
| Déterminez l’état actuel de l’appartenance au groupe sur le routeur. Cette action est effectuée à l’aide des fonctions d’énumération d’appartenance de groupe : [**MgmGroupEnumerationStart**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationstart), [**MgmGroupEnumerationGetNext**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationgetnext)et [**MgmGroupEnumerationEnd**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationend). | Retourne la liste des groupes.                                                                                                                                                                                                                                                                                                                                                                                                                                                | Les protocoles de routage peuvent utiliser les résultats pour déterminer les actions à effectuer en fonction des groupes qui ont déjà été joints. Pour obtenir un exemple complet de l’utilisation de ces fonctions, consultez [énumération des groupes](enumerating-groups.md) .<br/> |



 

 

