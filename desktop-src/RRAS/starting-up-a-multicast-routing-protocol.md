---
title: Démarrage d’un protocole de routage de multidiffusion
description: Le tableau suivant résume une série d’étapes dans une interaction de démarrage entre un protocole de routage et le gestionnaire de groupe de multidiffusion.
ms.assetid: 14524745-5cf9-442c-a5b4-b1ef313151cf
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 63fc5dc5b25541c798ac0907a54dd19105a4c641
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104463495"
---
# <a name="starting-up-a-multicast-routing-protocol"></a><span data-ttu-id="84c91-103">Démarrage d’un protocole de routage de multidiffusion</span><span class="sxs-lookup"><span data-stu-id="84c91-103">Starting Up a Multicast Routing Protocol</span></span>

<span data-ttu-id="84c91-104">Le tableau suivant résume une série d’étapes dans une interaction de démarrage entre un protocole de routage et le gestionnaire de groupe de multidiffusion.</span><span class="sxs-lookup"><span data-stu-id="84c91-104">The following table summarizes a series of steps in a startup interaction between a routing protocol and the multicast group manager.</span></span> <span data-ttu-id="84c91-105">La première colonne décrit les actions effectuées par le protocole de routage et les réponses du protocole de routage au gestionnaire de groupe de multidiffusion.</span><span class="sxs-lookup"><span data-stu-id="84c91-105">The first column describes actions that the routing protocol performs and the responses of the routing protocol to the multicast group manager.</span></span> <span data-ttu-id="84c91-106">La deuxième colonne décrit les réponses du gestionnaire de groupe de multidiffusion au protocole de routage et toutes les actions effectuées par le gestionnaire de groupe de multidiffusion, telles que les rappels.</span><span class="sxs-lookup"><span data-stu-id="84c91-106">The second column describes the multicast group manager's responses to the routing protocol and any actions the multicast group manager performs such as callbacks.</span></span> <span data-ttu-id="84c91-107">La troisième colonne présente des informations supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="84c91-107">The third column presents any additional information.</span></span>

<span data-ttu-id="84c91-108">Chaque ligne de la table représente une étape.</span><span class="sxs-lookup"><span data-stu-id="84c91-108">Each row of the table represents one step.</span></span>



| <span data-ttu-id="84c91-109">Action de protocole de routage</span><span class="sxs-lookup"><span data-stu-id="84c91-109">Routing protocol action</span></span>                                                                                                                                                                                                                                                                                                                 | <span data-ttu-id="84c91-110">Action du gestionnaire de groupe de multidiffusion</span><span class="sxs-lookup"><span data-stu-id="84c91-110">Multicast group manager action</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                            | <span data-ttu-id="84c91-111">Notes</span><span class="sxs-lookup"><span data-stu-id="84c91-111">Notes</span></span>                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="84c91-112">Inscrivez-vous auprès du gestionnaire de groupe de multidiffusion à l’aide de la fonction [**MgmRegisterMProtocol**](/windows/desktop/api/Mgm/nf-mgm-mgmregistermprotocol) .</span><span class="sxs-lookup"><span data-stu-id="84c91-112">Register with the multicast group manager using the [**MgmRegisterMProtocol**](/windows/desktop/api/Mgm/nf-mgm-mgmregistermprotocol) function.</span></span>                                                                                                                                                                                                                      | <span data-ttu-id="84c91-113">Revenez au protocole de routage un descripteur que le protocole doit utiliser pour s’identifier dans les appels d’API MGM suivants.</span><span class="sxs-lookup"><span data-stu-id="84c91-113">Return to the routing protocol a handle that the protocol must use to identify itself in subsequent MGM API calls.</span></span>                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                         |
| <span data-ttu-id="84c91-114">Déterminez si une interface est déjà propriétaire et le protocole de routage qui la possède à l’aide de la fonction [**MgmGetProtocolOnInterface**](/windows/desktop/api/Mgm/nf-mgm-mgmgetprotocoloninterface) .</span><span class="sxs-lookup"><span data-stu-id="84c91-114">Determine if an interface is already owned, and the routing protocol that owns it using the [**MgmGetProtocolOnInterface**](/windows/desktop/api/Mgm/nf-mgm-mgmgetprotocoloninterface) function.</span></span>                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | <span data-ttu-id="84c91-115">IGMP peut utiliser cette fonction pour déterminer le propriétaire d’une interface et effectuer le traitement spécifique au protocole à l’aide des informations retournées par cette fonction.</span><span class="sxs-lookup"><span data-stu-id="84c91-115">IGMP can use this function to determine the owner of an interface, and perform protocol-specific processing with the information returned by this function.</span></span>                                                                             |
| <span data-ttu-id="84c91-116">Prendre possession de toutes les interfaces sur lesquelles le protocole est activé à l’aide de la fonction [**MgmTakeInterfaceOwnership**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) .</span><span class="sxs-lookup"><span data-stu-id="84c91-116">Take ownership of all the interfaces on which the protocol is enabled using the [**MgmTakeInterfaceOwnership**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) function.</span></span>                                                                                                                                                                                | <span data-ttu-id="84c91-117">Si IGMP a déjà pris possession d’une interface et que l’appel de la fonction [**MgmTakeInterfaceOwnership**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) est reçu pour la même interface, contactez IGMP en utilisant le rappel de [**\_ \_ \_ rappel IGMP PMGM Disable**](/windows/win32/api/mgm/nc-mgm-pmgm_disable_igmp_callback) .</span><span class="sxs-lookup"><span data-stu-id="84c91-117">If IGMP has already taken ownership of an interface and the [**MgmTakeInterfaceOwnership**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) function call is received for the same interface, contact IGMP using the [**PMGM\_DISABLE\_IGMP\_CALLBACK**](/windows/win32/api/mgm/nc-mgm-pmgm_disable_igmp_callback) callback.</span></span> <span data-ttu-id="84c91-118">Une fois que toutes les modifications apportées aux données de multidiffusion relatives à la propriété de l’interface ont été effectuées, contactez à nouveau IGMP en utilisant [**PMGM \_ activer le \_ \_ rappel IGMP**](/windows/desktop/api/Mgm/nc-mgm-pmgm_enable_igmp_callback).</span><span class="sxs-lookup"><span data-stu-id="84c91-118">Once all changes to multicast data regarding interface ownership have been made, contact IGMP again using [**PMGM\_ENABLE\_IGMP\_CALLBACK**](/windows/desktop/api/Mgm/nc-mgm-pmgm_enable_igmp_callback).</span></span><br/> | <span data-ttu-id="84c91-119">Un seul protocole peut posséder une interface à un moment donné, en plus de IGMP.</span><span class="sxs-lookup"><span data-stu-id="84c91-119">Only one protocol can own an interface at a given time, in addition to IGMP.</span></span>                                                                                                                                                            |
| <span data-ttu-id="84c91-120">Déterminez l’état actuel de l’appartenance au groupe sur le routeur.</span><span class="sxs-lookup"><span data-stu-id="84c91-120">Determine the current state of group membership on the router.</span></span> <span data-ttu-id="84c91-121">Cette action est effectuée à l’aide des fonctions d’énumération d’appartenance de groupe : [**MgmGroupEnumerationStart**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationstart), [**MgmGroupEnumerationGetNext**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationgetnext)et [**MgmGroupEnumerationEnd**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationend).</span><span class="sxs-lookup"><span data-stu-id="84c91-121">This action is performed using the group membership enumeration functions: [**MgmGroupEnumerationStart**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationstart), [**MgmGroupEnumerationGetNext**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationgetnext), and [**MgmGroupEnumerationEnd**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationend).</span></span> | <span data-ttu-id="84c91-122">Retourne la liste des groupes.</span><span class="sxs-lookup"><span data-stu-id="84c91-122">Return the list of groups.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                | <span data-ttu-id="84c91-123">Les protocoles de routage peuvent utiliser les résultats pour déterminer les actions à effectuer en fonction des groupes qui ont déjà été joints.</span><span class="sxs-lookup"><span data-stu-id="84c91-123">Routing protocols can use the results to determine what actions to take based on the groups that have already been joined.</span></span> <span data-ttu-id="84c91-124">Pour obtenir un exemple complet de l’utilisation de ces fonctions, consultez [énumération des groupes](enumerating-groups.md) .</span><span class="sxs-lookup"><span data-stu-id="84c91-124">See [Enumerating Groups](enumerating-groups.md) for a complete example of using these functions.</span></span><br/> |



 

 

