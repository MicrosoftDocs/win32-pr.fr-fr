---
title: États suspendus
description: Au cours d’une opération de connexion, il peut arriver que le serveur distant ne puisse pas continuer sans informations supplémentaires de la part de l’utilisateur local.
ms.assetid: a1a36b2a-33df-4cba-85a6-f4225779cd63
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 914acb85ccf74c92b4bd4119966a421faddeb011
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104316320"
---
# <a name="paused-states"></a><span data-ttu-id="4a9c2-103">États suspendus</span><span class="sxs-lookup"><span data-stu-id="4a9c2-103">Paused States</span></span>

<span data-ttu-id="4a9c2-104">Au cours d’une opération de connexion, il peut arriver que le serveur distant ne puisse pas continuer sans informations supplémentaires de la part de l’utilisateur local.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-104">During a connection operation, there can be times when the remote server cannot proceed without additional information from the local user.</span></span> <span data-ttu-id="4a9c2-105">À partir de Windows NT 3,5, la fonction [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) prend en charge les États suspendus.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-105">Beginning with Windows NT 3.5, the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function supports paused states.</span></span> <span data-ttu-id="4a9c2-106">Un état suspendu permet au gestionnaire de connexions d’accès à distance de suspendre une opération de connexion afin que l’application cliente RAS puisse collecter des informations auprès de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-106">A paused state allows the Remote Access Connection Manager to suspend a connection operation so the RAS client application can collect information from the user.</span></span>

<span data-ttu-id="4a9c2-107">Les États suspendus sont utiles dans les situations suivantes :</span><span class="sxs-lookup"><span data-stu-id="4a9c2-107">Paused states are useful in the following situations:</span></span>

-   <span data-ttu-id="4a9c2-108">Lorsque l’utilisateur doit fournir un numéro de [rappel](callback-connections.md) .</span><span class="sxs-lookup"><span data-stu-id="4a9c2-108">When the user needs to provide a [callback](callback-connections.md) number.</span></span>
-   <span data-ttu-id="4a9c2-109">En cas d’échec de l’authentification de l’utilisateur, l’utilisateur peut taper un nom d’utilisateur et un mot de passe différents.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-109">When the user authentication fails, the user can type in a different user name and password.</span></span>
-   <span data-ttu-id="4a9c2-110">Lorsque le mot de passe de l’utilisateur a expiré, l’utilisateur peut fournir un nouveau mot de passe.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-110">When the user's password has expired, the user can provide a new password.</span></span>

<span data-ttu-id="4a9c2-111">Par défaut, la prise en charge de l’état suspendu est désactivée.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-111">By default, paused state support is disabled.</span></span> <span data-ttu-id="4a9c2-112">Les clients RAS qui souhaitent prendre en charge les États suspendus doivent définir l' \_ indicateur RDEOPTS PausedStates dans la structure [**RASDIALEXTENSIONS**](/previous-versions/windows/desktop/legacy/aa377029(v=vs.85)) transmise en tant que paramètre à [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala).</span><span class="sxs-lookup"><span data-stu-id="4a9c2-112">RAS clients that want to support paused states must set the RDEOPTS\_PausedStates flag in the [**RASDIALEXTENSIONS**](/previous-versions/windows/desktop/legacy/aa377029(v=vs.85)) structure passed as a parameter to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala).</span></span>

<span data-ttu-id="4a9c2-113">Lorsqu’un état suspendu se produit, le gestionnaire de connexions d’accès à distance appelle le gestionnaire de notification du client.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-113">When a paused state occurs, the Remote Access Connection Manager invokes the client's notification handler.</span></span> <span data-ttu-id="4a9c2-114">Si la prise en charge de l’état suspendu est désactivée, le message de notification indique une erreur et l’opération de connexion échoue.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-114">If paused state support is disabled, the notification message indicates an error, and the connection operation fails.</span></span> <span data-ttu-id="4a9c2-115">S’il est activé, le gestionnaire de connexions interrompt l’opération de connexion pour attendre la réponse du client RAS.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-115">If it is enabled, the Connection Manager pauses the connection operation to wait for the RAS client's response.</span></span> <span data-ttu-id="4a9c2-116">Le client RAS peut reprendre l’opération de connexion par un deuxième appel de [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) , ou l’arrêter en appelant la fonction [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) .</span><span class="sxs-lookup"><span data-stu-id="4a9c2-116">The RAS client can resume the connection operation by a second [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call, or terminate it by calling the [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) function.</span></span>

<span data-ttu-id="4a9c2-117">Après avoir obtenu l’entrée de l’utilisateur, le client RAS redémarre l’opération de connexion en appelant à nouveau [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="4a9c2-117">After getting the user's input, the RAS client restarts the connection operation by calling [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) again.</span></span> <span data-ttu-id="4a9c2-118">Ce deuxième appel de **rasdial** doit spécifier les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="4a9c2-118">This second **RasDial** call must specify the following information:</span></span>

-   <span data-ttu-id="4a9c2-119">Handle de connexion qui a été retourné par l’appel de [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) d’origine.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-119">The connection handle that was returned by the original [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call.</span></span>
-   <span data-ttu-id="4a9c2-120">Le même gestionnaire de notification que l’appel de [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) d’origine.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-120">The same notification handler as the original [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call.</span></span>
-   <span data-ttu-id="4a9c2-121">Entrée de l’utilisateur dans les membres appropriés de la structure [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="4a9c2-121">The user's input in the appropriate members of the [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure.</span></span> <span data-ttu-id="4a9c2-122">Les autres membres de la structure **RASDIALPARAMS** doivent avoir les mêmes informations que celles spécifiées dans l’appel de la fonction [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) d’origine.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-122">Other members of the **RASDIALPARAMS** structure should have the same information as specified in the original [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call.</span></span>

<span data-ttu-id="4a9c2-123">Le deuxième appel de [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) ne peut pas être effectué à partir du gestionnaire de notifications.</span><span class="sxs-lookup"><span data-stu-id="4a9c2-123">The second [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call cannot be made from within the notification handler.</span></span>

 

 