---
description: Les applications peuvent enregistrer une partie du Registre dans un fichier, puis charger à nouveau le contenu du fichier dans le registre.
ms.assetid: a71a564d-934a-46e8-b555-989a6fa82337
title: Fichiers du Registre
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44916618946f6541495186aa5843799c9b864fbc
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103952163"
---
# <a name="registry-files"></a><span data-ttu-id="47adb-103">Fichiers du Registre</span><span class="sxs-lookup"><span data-stu-id="47adb-103">Registry Files</span></span>

<span data-ttu-id="47adb-104">Les applications peuvent enregistrer une partie du Registre dans un fichier, puis charger à nouveau le contenu du fichier dans le registre.</span><span class="sxs-lookup"><span data-stu-id="47adb-104">Applications can save part of the registry in a file and then load the contents of the file back into the registry.</span></span> <span data-ttu-id="47adb-105">Un fichier de Registre est utile quand une grande quantité de données est manipulée, lorsque de nombreuses entrées sont effectuées dans le registre, ou lorsque les données sont transitives et doivent être chargées, puis déchargées à nouveau.</span><span class="sxs-lookup"><span data-stu-id="47adb-105">A registry file is useful when a large amount of data is being manipulated, when many entries are being made in the registry, or when the data is transitory and must be loaded and then unloaded again.</span></span> <span data-ttu-id="47adb-106">Les applications qui sauvegardent et restaurent des parties du Registre sont susceptibles d’utiliser des fichiers du Registre.</span><span class="sxs-lookup"><span data-stu-id="47adb-106">Applications that back up and restore parts of the registry are likely to use registry files.</span></span>

<span data-ttu-id="47adb-107">Pour enregistrer une clé et ses sous-clés et valeurs dans un fichier de Registre, une application peut appeler la fonction [**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) ou [**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) .</span><span class="sxs-lookup"><span data-stu-id="47adb-107">To save a key and its subkeys and values to a registry file, an application can call the [**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) or [**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) function.</span></span>

<span data-ttu-id="47adb-108">[**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) et [**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) créent le fichier avec l’attribut archive.</span><span class="sxs-lookup"><span data-stu-id="47adb-108">[**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) and [**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) create the file with the archive attribute.</span></span> <span data-ttu-id="47adb-109">Le fichier est créé dans le répertoire actif du processus pour une clé locale, et dans le répertoire% SystemRoot% \\ system32 pour une clé distante.</span><span class="sxs-lookup"><span data-stu-id="47adb-109">The file is created in the current directory of the process for a local key, and in the %systemroot%\\system32 directory for a remote key.</span></span>

<span data-ttu-id="47adb-110">Les fichiers du Registre ont les deux formats suivants : standard et latest.</span><span class="sxs-lookup"><span data-stu-id="47adb-110">Registry files have the following two formats: standard and latest.</span></span> <span data-ttu-id="47adb-111">Le format standard est le seul format pris en charge par Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="47adb-111">The standard format is the only format supported by Windows 2000.</span></span> <span data-ttu-id="47adb-112">Elle est également prise en charge par les versions ultérieures de Windows pour la compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="47adb-112">It is also supported by later versions of Windows for backward compatibility.</span></span> <span data-ttu-id="47adb-113">[**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) crée des fichiers au format standard.</span><span class="sxs-lookup"><span data-stu-id="47adb-113">[**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) creates files in the standard format.</span></span>

<span data-ttu-id="47adb-114">Le format le plus récent est pris en charge à partir de Windows XP.</span><span class="sxs-lookup"><span data-stu-id="47adb-114">The latest format is supported starting with Windows XP.</span></span> <span data-ttu-id="47adb-115">Les fichiers de Registre créés dans ce format ne peuvent pas être chargés sur Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="47adb-115">Registry files that are created in this format cannot be loaded on Windows 2000.</span></span> <span data-ttu-id="47adb-116">[**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) peut enregistrer les fichiers du Registre dans l’un ou l’autre format en spécifiant le format reg \_ standard \_ ou le \_ format reg latest \_ .</span><span class="sxs-lookup"><span data-stu-id="47adb-116">[**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) can save registry files in either format by specifying either REG\_STANDARD\_FORMAT or REG\_LATEST\_FORMAT.</span></span> <span data-ttu-id="47adb-117">Par conséquent, il peut être utilisé pour convertir les fichiers de Registre qui utilisent le format standard au format le plus récent.</span><span class="sxs-lookup"><span data-stu-id="47adb-117">Therefore, it can be used to convert registry files that use the standard format to the latest format.</span></span>

<span data-ttu-id="47adb-118">Pour réécrire le fichier de Registre dans le registre, une application peut utiliser les fonctions [**RegLoadKey**](/windows/desktop/api/Winreg/nf-winreg-regloadkeya), [**RegReplaceKey**](/windows/desktop/api/Winreg/nf-winreg-regreplacekeya)ou [**RegRestoreKey**](/windows/desktop/api/Winreg/nf-winreg-regrestorekeya) comme suit.</span><span class="sxs-lookup"><span data-stu-id="47adb-118">To write the registry file back to the registry, an application can use the [**RegLoadKey**](/windows/desktop/api/Winreg/nf-winreg-regloadkeya), [**RegReplaceKey**](/windows/desktop/api/Winreg/nf-winreg-regreplacekeya), or [**RegRestoreKey**](/windows/desktop/api/Winreg/nf-winreg-regrestorekeya) functions as follows.</span></span>

-   <span data-ttu-id="47adb-119">**RegLoadKey** charge les données de Registre à partir d’un fichier spécifié dans une sous-clé spécifiée sous **HKEY \_ Users** ou **HKEY \_ local \_ machine** sur l’ordinateur de l’application appelante ou sur un ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="47adb-119">**RegLoadKey** loads registry data from a specified file into a specified subkey under **HKEY\_USERS** or **HKEY\_LOCAL\_MACHINE** on the calling application's computer or on a remote computer.</span></span> <span data-ttu-id="47adb-120">La fonction crée la sous-clé spécifiée si elle n’existe pas déjà.</span><span class="sxs-lookup"><span data-stu-id="47adb-120">The function creates the specified subkey if it does not already exist.</span></span> <span data-ttu-id="47adb-121">Après l’appel de cette fonction, une application peut utiliser la fonction [**RegUnLoadKey**](/windows/desktop/api/Winreg/nf-winreg-regunloadkeya) pour restaurer le registre à son état précédent.</span><span class="sxs-lookup"><span data-stu-id="47adb-121">After calling this function, an application can use the [**RegUnLoadKey**](/windows/desktop/api/Winreg/nf-winreg-regunloadkeya) function to restore the registry to its previous state.</span></span>
-   <span data-ttu-id="47adb-122">[**RegReplaceKey**](/windows/desktop/api/Winreg/nf-winreg-regreplacekeya) remplace une clé et toutes ses sous-clés et valeurs dans le registre par les données contenues dans un fichier spécifié.</span><span class="sxs-lookup"><span data-stu-id="47adb-122">[**RegReplaceKey**](/windows/desktop/api/Winreg/nf-winreg-regreplacekeya) replaces a key and all its subkeys and values in the registry with the data contained in a specified file.</span></span> <span data-ttu-id="47adb-123">Les nouvelles données prennent effet lors du prochain démarrage du système.</span><span class="sxs-lookup"><span data-stu-id="47adb-123">The new data takes effect the next time the system is started.</span></span>
-   <span data-ttu-id="47adb-124">[**RegRestoreKey**](/windows/desktop/api/Winreg/nf-winreg-regrestorekeya) charge les données de Registre à partir d’un fichier spécifié dans une clé spécifiée sur l’ordinateur de l’application appelante ou sur un ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="47adb-124">[**RegRestoreKey**](/windows/desktop/api/Winreg/nf-winreg-regrestorekeya) loads registry data from a specified file into a specified key on the calling application's computer or on a remote computer.</span></span> <span data-ttu-id="47adb-125">Cette fonction remplace les sous-clés et les valeurs inférieures à la clé spécifiée par les sous-clés et les valeurs qui suivent la clé de niveau supérieur dans le fichier.</span><span class="sxs-lookup"><span data-stu-id="47adb-125">This function replaces the subkeys and values below the specified key with the subkeys and values that follow the top-level key in the file.</span></span>

<span data-ttu-id="47adb-126">La fonction [**RegConnectRegistry**](/windows/desktop/api/Winreg/nf-winreg-regconnectregistrya) établit une connexion à un handle de Registre prédéfini sur un autre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="47adb-126">The [**RegConnectRegistry**](/windows/desktop/api/Winreg/nf-winreg-regconnectregistrya) function establishes a connection to a predefined registry handle on another computer.</span></span> <span data-ttu-id="47adb-127">Une application utilise cette fonction principalement pour accéder à des informations à partir d’un Registre distant sur d’autres ordinateurs dans un environnement réseau, ce que vous pouvez également effectuer à l’aide de l’éditeur du Registre.</span><span class="sxs-lookup"><span data-stu-id="47adb-127">An application uses this function primarily to access information from a remote registry on other machines in a network environment, which you can also do by using the Registry Editor.</span></span> <span data-ttu-id="47adb-128">Vous pouvez avoir besoin d’accéder à un Registre distant pour sauvegarder un registre ou en réguler l’accès réseau.</span><span class="sxs-lookup"><span data-stu-id="47adb-128">You might want to access a remote registry to back up a registry or regulate network access to it.</span></span> <span data-ttu-id="47adb-129">Notez que vous devez disposer des autorisations appropriées pour accéder à un Registre distant à l’aide de cette fonction.</span><span class="sxs-lookup"><span data-stu-id="47adb-129">Note that you must have appropriate permissions to access a remote registry using this function.</span></span>

 

 



