---
description: Les handles d’objet de noyau sont spécifiques au processus.
ms.assetid: 3e3288dd-155a-41d0-9d43-5f49ed4c4a9d
title: Objets de noyau
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f115229d11485ec14d530d87fb0e26451aaa1059752ae8d52cea40849256802b
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/11/2021
ms.locfileid: "117958227"
---
# <a name="kernel-objects"></a>Objets de noyau

Les handles d’objet de noyau sont spécifiques au processus. Autrement dit, un processus doit créer l’objet ou ouvrir un objet existant pour obtenir un handle d’objet de noyau. La limite par processus sur les handles de noyau est de 2 ^ 24. Toutefois, les handles étant stockés dans la réserve paginée, le nombre réel de handles que vous pouvez créer est basé sur la mémoire disponible. le nombre de descripteurs que vous pouvez créer sur les Windows 32 bits est nettement inférieur à 2 ^ 24.

Tout processus peut créer un nouveau descripteur vers un objet de noyau existant (même créé par un autre processus), à condition que le processus sache le nom de l’objet et dispose d’un accès de sécurité à l’objet. Les handles d’objet de noyau incluent des droits d’accès indiquant les actions qui peuvent être accordées ou refusées à un processus. Une application spécifie des droits d’accès quand elle crée un objet ou obtient un handle d’objet existant. Chaque type d’objet de noyau prend en charge son propre ensemble de droits d’accès. Par exemple, les handles d’événements peuvent avoir un accès set ou Wait (ou les deux), les descripteurs de fichiers peuvent avoir un accès en lecture ou en écriture (ou les deux), et ainsi de suite. Pour plus d’informations, consultez [objets sécurisables](/windows/desktop/SecAuthZ/securable-objects).

Dans l’illustration suivante, une application crée un objet d’événement. La fonction [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) crée l’objet d’événement et retourne un handle d’objet.

![application créant un objet d’événement](images/cshob-03.png)

Une fois l’objet d’événement créé, l’application peut utiliser le descripteur d’événement pour définir ou attendre l’événement. Le descripteur reste valide jusqu’à ce que l’application ferme le handle ou se termine.

La plupart des objets de noyau prennent en charge plusieurs descripteurs sur un seul objet. Par exemple, l’application de l’illustration précédente peut obtenir des descripteurs d’objets d’événement supplémentaires à l’aide de la fonction [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa) , comme indiqué dans l’illustration suivante.

![application créant un objet d’événement avec plusieurs handles](images/cshob-04.png)

Cette méthode permet à une application d’avoir des handles avec des droits d’accès différents. Par exemple, le handle 1 peut avoir défini et attendre l’accès à l’événement, et le handle 2 peut avoir uniquement un accès en attente.

Si un autre processus connaît le nom de l’événement et possède un accès de sécurité à l’objet, il peut créer son propre handle d’objet d’événement à l’aide de [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa). L’application de création peut également dupliquer l’un de ses descripteurs dans le même processus ou dans un autre processus à l’aide de la fonction [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) .

Un objet reste en mémoire tant qu’il existe au moins un handle d’objet. Dans l’illustration suivante, les applications utilisent la fonction [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle) pour fermer leurs handles d’objet d’événement. En l’absence de descripteurs d’événements, le système supprime l’objet de la mémoire, comme indiqué dans l’illustration suivante.

![handles d’objet d’événement de fermeture d’application pour supprimer un objet de la mémoire](images/cshob-08.png)

Le système gère les objets de fichiers différemment des autres objets de noyau. Les objets fichier contiennent le pointeur de fichier (le pointeur vers l’octet suivant à lire ou écrire dans un fichier). Chaque fois qu’une application crée un nouveau descripteur de fichier, le système crée un objet de fichier. Par conséquent, plusieurs objets fichier peuvent faire référence à un seul fichier sur le disque, comme indiqué dans l’illustration suivante.

![plusieurs objets fichier faisant référence à un fichier sur le disque](images/cshob-09.png)

Seul la duplication ou l’héritage peut faire référence au même objet de fichier, comme indiqué dans l’illustration suivante.

![deux handles de fichiers font référence au même objet de fichier](images/cshob-10.png)

Le tableau suivant répertorie chacun des objets de noyau, ainsi que les fonctions de création et de destruction de chaque objet. Les fonctions Creator créent l’objet et un handle d’objet, ou créent un handle d’objet existant. Les fonctions de destruction ferment le descripteur d’objet. Quand une application ferme le dernier descripteur d’un objet de noyau, le système supprime l’objet de la mémoire.



| Objet de noyau                | Creator, fonction                                                                                                                                                                                                                                                  | Fonction Destroy                                                                      |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| Access token (Jeton d’accès)                 | [**CreateRestrictedToken**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken), [**DuplicateToken**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetoken), [**DuplicateTokenEx**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetokenex), [**OpenProcessToken**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocesstoken), [**OpenThreadToken**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openthreadtoken) | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Notification de modification          | [**FindFirstChangeNotification**](/windows/desktop/api/fileapi/nf-fileapi-findfirstchangenotificationa)                                                                                                                                                                                                 | [**FindCloseChangeNotification**](/windows/desktop/api/fileapi/nf-fileapi-findclosechangenotification)                       |
| Appareil de communication        | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                   | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Entrée de la console                | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea), avec CONIN $                                                                                                                                                                                                                      | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Mémoire tampon d’écran de la console        | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea), avec CONOUT $                                                                                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Bureau                      | [**GetThreadDesktop**](/windows/desktop/api/winuser/nf-winuser-getthreaddesktop)                                                                                                                                                                                                                     | Les applications ne peuvent pas supprimer cet objet.                                                 |
| Événement                        | [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa), [**CreateEventEx**](/windows/desktop/api/synchapi/nf-synchapi-createeventexa), [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa)                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Journal des événements                    | [**OpenEventLog**](/windows/desktop/api/winbase/nf-winbase-openeventloga), [**RegisterEventSource**](/windows/desktop/api/winbase/nf-winbase-registereventsourcea), [**OpenBackupEventLog**](/windows/desktop/api/winbase/nf-winbase-openbackupeventloga)                                                                                                                     | [**CloseEventLog**](/windows/desktop/api/winbase/nf-winbase-closeeventlog)                                                 |
| Fichier                         | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                 | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)                     |
| Mappage de fichiers                 | [**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga), [ **OpenFileMapping**](/windows/desktop/api/winbase/nf-winbase-openfilemappinga)                                                                                                                                                                          | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Rechercher un fichier                    | [**FindFirstFile**](/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea)                                                                                                                                                                                                                             | [**FindClose**](/windows/desktop/api/fileapi/nf-fileapi-findclose)                                                           |
| Segment de mémoire (heap)                         | [**HeapCreate**](/windows/desktop/api/heapapi/nf-heapapi-heapcreate)                                                                                                                                                                                                                                 | [**HeapDestroy**](/windows/desktop/api/heapapi/nf-heapapi-heapdestroy)                                                     |
| Port de terminaison d’e/s          | [**CreateIoCompletionPort**](/windows/desktop/FileIO/createiocompletionport)                                                                                                                                                                                                           | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Travail                          | [**CreateJobObject**](/windows/desktop/api/winbase/nf-winbase-createjobobjecta)                                                                                                                                                                                                                       | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Mailslots                     | [**CreateMailslot**](/windows/desktop/api/winbase/nf-winbase-createmailslota)                                                                                                                                                                                                                         | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Notification de ressource mémoire | [**CreateMemoryResourceNotification**](/windows/desktop/api/memoryapi/nf-memoryapi-creatememoryresourcenotification)                                                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Module                       | [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya), [ **GetModuleHandle**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getmodulehandlea)                                                                                                                                                                                  | [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary)                                                     |
| Mutex                        | [**CreateMutex**](/windows/desktop/api/synchapi/nf-synchapi-createmutexa), [**CreateMutexEx**](/windows/desktop/api/synchapi/nf-synchapi-createmutexexa), [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw)                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Pipe                         | [**CreateNamedPipe**](/windows/desktop/api/winbase/nf-winbase-createnamedpipea), [ **CreatePipe**](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-createpipe)                                                                                                                                                                                    | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **DisconnectNamedPipe**](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-disconnectnamedpipe) |
| Process                      | [**CreateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**OpenProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocess), [**GetCurrentProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess)                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminateprocess)       |
| Semaphore                    | [**CreateSemaphore,**](/windows/desktop/api/winbase/nf-winbase-createsemaphorea), [**CreateSemaphoreEx**](/windows/desktop/api/winbase/nf-winbase-createsemaphoreexa), [**OpenSemaphore**](/windows/win32/api/synchapi/nf-synchapi-opensemaphorew)                                                                                                                             | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Prise                       | [**Socket**](/windows/desktop/api/winsock2/nf-winsock2-socket), [ **accepter**](/windows/desktop/api/winsock2/nf-winsock2-accept)                                                                                                                                                                                                    | [**opération closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket)                                                |
| Thread                       | [**CreateThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createthread), [**CreateRemoteThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createremotethread), [**GetCurrentThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentthread)                                                                                                                           | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminatethread)         |
| Minuterie                        | [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw), [**CreateWaitableTimerEx**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerexw), [**OpenWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-openwaitabletimerw)                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Mettre à jour une ressource              | [**BeginUpdateResource**](/windows/win32/api/winbase/nf-winbase-beginupdateresourcea)                                                                                                                                                                                                         | [**EndUpdateResource**](/windows/win32/api/winbase/nf-winbase-endupdateresourcea)                                   |
| Station Windows               | [**GetProcessWindowStation**](/windows/desktop/api/winuser/nf-winuser-getprocesswindowstation)                                                                                                                                                                                                       | Les applications ne peuvent pas supprimer cet objet.                                                 |



 

## <a name="related-topics"></a>Rubriques connexes

<dl> <dt>

[Espaces de noms d’objets de noyau](/windows/desktop/TermServ/kernel-object-namespaces)
</dt> </dl>

 

 
