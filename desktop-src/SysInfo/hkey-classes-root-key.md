---
description: La \_ clé HKEY classes \_ root (HKCR) contient les associations d’extension de nom de fichier et les informations d’inscription de classe com, telles que les ProgID, les CLSID et les IID. Il est principalement destiné à la compatibilité avec le registre dans Windows 16 bits.
ms.assetid: b404875f-11e1-48f2-98d2-0378a0646ed3
title: Clé de HKEY_CLASSES_ROOT
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1e7aebe0e59424eb5ff7584fe61c2c5089eb887b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103868165"
---
# <a name="hkey_classes_root-key"></a><span data-ttu-id="937c1-104">\_Clé racine de classes HKEY \_</span><span class="sxs-lookup"><span data-stu-id="937c1-104">HKEY\_CLASSES\_ROOT Key</span></span>

<span data-ttu-id="937c1-105">La clé **HKEY \_ classes \_ root** (**HKCR**) contient les associations d’extension de nom de fichier et les informations d’inscription de classe com, telles que les [ProgID](../com/-progid--key.md), les [CLSID](../com/clsid-key-hklm.md)et les [IID](../com/interface-key.md).</span><span class="sxs-lookup"><span data-stu-id="937c1-105">The **HKEY\_CLASSES\_ROOT** (**HKCR**) key contains file name extension associations and COM class registration information such as [ProgIDs](../com/-progid--key.md), [CLSIDs](../com/clsid-key-hklm.md), and [IIDs](../com/interface-key.md).</span></span> <span data-ttu-id="937c1-106">Il est principalement destiné à la compatibilité avec le registre dans Windows 16 bits.</span><span class="sxs-lookup"><span data-stu-id="937c1-106">It is primarily intended for compatibility with the registry in 16-bit Windows.</span></span>

<span data-ttu-id="937c1-107">L’inscription de classe et les informations d’extension de nom de fichier sont stockées sous les clés **HKEY \_ local \_ machine** et **HKEY \_ Current \_ User** .</span><span class="sxs-lookup"><span data-stu-id="937c1-107">Class registration and file name extension information is stored under both the **HKEY\_LOCAL\_MACHINE** and **HKEY\_CURRENT\_USER** keys.</span></span> <span data-ttu-id="937c1-108">La clé **HKEY \_ local \_ machine \\ Software \\ classes** contient des paramètres par défaut qui peuvent s’appliquer à tous les utilisateurs sur l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="937c1-108">The **HKEY\_LOCAL\_MACHINE\\Software\\Classes** key contains default settings that can apply to all users on the local computer.</span></span> <span data-ttu-id="937c1-109">La clé **HKEY \_ Current \_ User \\ Software \\ classes** contient des paramètres qui s’appliquent uniquement à l’utilisateur interactif.</span><span class="sxs-lookup"><span data-stu-id="937c1-109">The **HKEY\_CURRENT\_USER\\Software\\Classes** key contains settings that apply only to the interactive user.</span></span> <span data-ttu-id="937c1-110">La **clé \_ \_ racine de classes HKEY** fournit une vue du Registre qui fusionne les informations de ces deux sources.</span><span class="sxs-lookup"><span data-stu-id="937c1-110">The **HKEY\_CLASSES\_ROOT** key provides a view of the registry that merges the information from these two sources.</span></span> <span data-ttu-id="937c1-111">**HKEY \_ La \_ racine des classes** fournit également cette vue fusionnée pour les applications conçues pour les versions antérieures de Windows.</span><span class="sxs-lookup"><span data-stu-id="937c1-111">**HKEY\_CLASSES\_ROOT** also provides this merged view for applications designed for previous versions of Windows.</span></span>

<span data-ttu-id="937c1-112">Les paramètres spécifiques à l’utilisateur ont priorité sur les paramètres par défaut.</span><span class="sxs-lookup"><span data-stu-id="937c1-112">The user-specific settings have priority over the default settings.</span></span> <span data-ttu-id="937c1-113">Par exemple, le paramètre par défaut peut spécifier une application particulière pour gérer les fichiers. doc.</span><span class="sxs-lookup"><span data-stu-id="937c1-113">For example, the default setting might specify a particular application to handle .doc files.</span></span> <span data-ttu-id="937c1-114">Toutefois, un utilisateur peut remplacer ce paramètre en spécifiant une application différente dans le registre.</span><span class="sxs-lookup"><span data-stu-id="937c1-114">But a user can override this setting by specifying a different application in the registry.</span></span>

<span data-ttu-id="937c1-115">Les fonctions de Registre telles que [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) ou [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) vous permettent de spécifier la clé **\_ \_ racine de classes HKEY** .</span><span class="sxs-lookup"><span data-stu-id="937c1-115">Registry functions such as [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) or [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) allow you to specify the **HKEY\_CLASSES\_ROOT** key.</span></span> <span data-ttu-id="937c1-116">Lorsque vous appelez ces fonctions à partir d’un processus en cours d’exécution dans le compte d’utilisateur interactif, le système fusionne les paramètres par défaut dans **HKEY \_ local \_ machine \\ Software \\ classes** avec les paramètres de l’utilisateur interactif dans **HKEY \_ Current \_ User \\ Software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="937c1-116">When you call these functions from a process running in the interactive user account, the system merges the default settings in **HKEY\_LOCAL\_MACHINE\\Software\\Classes** with the interactive user's settings at **HKEY\_CURRENT\_USER\\Software\\Classes**.</span></span> <span data-ttu-id="937c1-117">Pour plus d’informations sur la façon dont ces paramètres sont fusionnés, consultez [vue fusionnée de la \_ \_ racine de la classe HKEY](merged-view-of-hkey-classes-root.md).</span><span class="sxs-lookup"><span data-stu-id="937c1-117">For more information on how these settings are merged, see [Merged View of HKEY\_CLASSES\_ROOT](merged-view-of-hkey-classes-root.md).</span></span>

<span data-ttu-id="937c1-118">Pour modifier les paramètres de l’utilisateur interactif, stockez les modifications **sous \_ HKEY \_ Current \\ User \\ classes** au lieu de **HKEY \_ classes \_ root**.</span><span class="sxs-lookup"><span data-stu-id="937c1-118">To change the settings for the interactive user, store the changes under **HKEY\_CURRENT\_USER\\Software\\Classes** rather than **HKEY\_CLASSES\_ROOT**.</span></span>

<span data-ttu-id="937c1-119">Pour modifier les paramètres par défaut, stockez les modifications sous **HKEY \_ local \_ machine \\ Software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="937c1-119">To change the default settings, store the changes under **HKEY\_LOCAL\_MACHINE\\Software\\Classes**.</span></span> <span data-ttu-id="937c1-120">Si vous écrivez des clés dans une clé sous la **\_ \_ racine de classes HKEY**, le système stocke les informations sous **HKEY \_ local \_ machine \\ Software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="937c1-120">If you write keys to a key under **HKEY\_CLASSES\_ROOT**, the system stores the information under **HKEY\_LOCAL\_MACHINE\\Software\\Classes**.</span></span> <span data-ttu-id="937c1-121">Si vous écrivez des valeurs dans une clé sous la **\_ \_ racine de la classe HKEY**, et que la clé existe déjà sous les classes de logiciels de la classe **HKEY \_ Current \_ \\ \\ User**, le système stocke les informations à cet emplacement au lieu de sous **HKEY \_ local \_ machine \\ Software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="937c1-121">If you write values to a key under **HKEY\_CLASSES\_ROOT**, and the key already exists under **HKEY\_CURRENT\_USER\\Software\\Classes**, the system will store the information there instead of under **HKEY\_LOCAL\_MACHINE\\Software\\Classes**.</span></span>

<span data-ttu-id="937c1-122">Les processus qui s’exécutent dans un contexte de sécurité autre que celui de l’utilisateur interactif ne doivent pas utiliser la clé **\_ \_ racine HKEY classes** avec les fonctions de registre.</span><span class="sxs-lookup"><span data-stu-id="937c1-122">Processes running in a security context other than that of the interactive user should not use the **HKEY\_CLASSES\_ROOT** key with the registry functions.</span></span> <span data-ttu-id="937c1-123">Au lieu de cela, ces processus peuvent ouvrir explicitement la clé de classes de logiciels de l' **\_ \_ ordinateur \\ \\ local HKEY** pour accéder aux paramètres par défaut.</span><span class="sxs-lookup"><span data-stu-id="937c1-123">Instead, such processes can explicitly open the **HKEY\_LOCAL\_MACHINE\\Software\\Classes** key to access the default settings.</span></span> <span data-ttu-id="937c1-124">Pour ouvrir une clé de Registre qui fusionne le contenu de la **\_ classe de logiciels HKEY local \_ machine \\ \\** avec les paramètres d’un utilisateur spécifié, ces processus peuvent appeler la fonction [**RegOpenUserClassesRoot**](/windows/desktop/api/Winreg/nf-winreg-regopenuserclassesroot) .</span><span class="sxs-lookup"><span data-stu-id="937c1-124">To open a registry key that merges the contents of **HKEY\_LOCAL\_MACHINE\\Software\\Classes** with the settings for a specified user, these processes can call the [**RegOpenUserClassesRoot**](/windows/desktop/api/Winreg/nf-winreg-regopenuserclassesroot) function.</span></span> <span data-ttu-id="937c1-125">Par exemple, un thread qui [emprunte l’identité](/windows/desktop/SecAuthZ/client-impersonation) d’un client peut appeler **RegOpenUserClassesRoot** s’il doit récupérer une vue fusionnée pour le client faisant l’objet d’un emprunt d’identité.</span><span class="sxs-lookup"><span data-stu-id="937c1-125">For example, a thread that is [impersonating](/windows/desktop/SecAuthZ/client-impersonation) a client can call **RegOpenUserClassesRoot** if it needs to retrieve a merged view for the client being impersonated.</span></span> <span data-ttu-id="937c1-126">Notez que **RegOpenUserClassesRoot** échoue si le profil utilisateur de l’utilisateur spécifié n’a pas été chargé.</span><span class="sxs-lookup"><span data-stu-id="937c1-126">Note that **RegOpenUserClassesRoot** fails if the user profile for the specified user has not been loaded.</span></span> <span data-ttu-id="937c1-127">Le système charge automatiquement le profil de l’utilisateur interactif lors de l’ouverture de session.</span><span class="sxs-lookup"><span data-stu-id="937c1-127">The system automatically loads the profile for the interactive user when logging on.</span></span> <span data-ttu-id="937c1-128">Pour les autres utilisateurs, vous devez appeler la fonction [**LoadUserProfile**](/windows/win32/api/userenv/nf-userenv-loaduserprofilea) pour charger explicitement le profil de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="937c1-128">For other users, you need to call the [**LoadUserProfile**](/windows/win32/api/userenv/nf-userenv-loaduserprofilea) function to explicitly load the user's profile.</span></span>

<span data-ttu-id="937c1-129">Si une application est exécutée avec des droits d’administrateur et que le contrôle de compte d’utilisateur est désactivé, le runtime COM ignore la configuration COM par utilisateur et accède uniquement à la configuration COM par ordinateur.</span><span class="sxs-lookup"><span data-stu-id="937c1-129">If an application is run with administrator rights and User Account Control is disabled, the COM runtime ignores the per-user COM configuration and accesses only the per-machine COM configuration.</span></span> <span data-ttu-id="937c1-130">Les applications qui requièrent des droits d’administrateur doivent inscrire les objets COM dépendants lors de l’installation dans le magasin de configurations COM par ordinateur (**HKEY \_ local \_ machine \\ Software \\ classes**).</span><span class="sxs-lookup"><span data-stu-id="937c1-130">Applications that require administrator rights should register dependent COM objects during installation to the per-machine COM configuration store (**HKEY\_LOCAL\_MACHINE\\Software\\Classes**).</span></span> <span data-ttu-id="937c1-131">Pour plus d’informations, consultez [AC : UAC : COM Per-User configuration](/previous-versions/bb756926(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="937c1-131">For more information, see [AC: UAC: COM Per-User Configuration](/previous-versions/bb756926(v=msdn.10)).</span></span>

<span data-ttu-id="937c1-132">**Windows Server 2003 et Windows XP/2000 :** Les applications peuvent enregistrer des objets COM dépendants dans le magasin de configuration COM par ordinateur ou par utilisateur (**HKEY \_ local \_ machine \\ Software \\ classes** ou **HKEY \_ Current \_ User \\ Software \\ classes**).</span><span class="sxs-lookup"><span data-stu-id="937c1-132">**Windows Server 2003 and Windows XP/2000:** Applications can register dependent COM objects to either the per-machine or per-user COM configuration store (**HKEY\_LOCAL\_MACHINE\\Software\\Classes** or **HKEY\_CURRENT\_USER\\Software\\Classes**).</span></span>

## <a name="related-topics"></a><span data-ttu-id="937c1-133">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="937c1-133">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="937c1-134">[\_Racine des classes HKEY \_ (référence du Registre du kit de ressources)](/previous-versions/windows/it-pro/windows-server-2003/cc739822(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="937c1-134">[HKEY\_CLASSES\_ROOT (Resource Kit Registry Reference)](/previous-versions/windows/it-pro/windows-server-2003/cc739822(v=ws.10))</span></span>
</dt> </dl>

 

 
