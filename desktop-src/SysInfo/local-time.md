---
description: Si le système utilise l’heure UTC en interne, vos applications affichent généralement l’heure locale, qui correspond à la date et à l’heure de votre fuseau horaire.
ms.assetid: a6570ec5-ac77-427a-86d9-32cbecc62e37
title: Heure locale
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c60eb9ca53245a12eba1bc0096b522eae97de75a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103862994"
---
# <a name="local-time"></a><span data-ttu-id="bfe39-103">Heure locale</span><span class="sxs-lookup"><span data-stu-id="bfe39-103">Local Time</span></span>

<span data-ttu-id="bfe39-104">Si le système utilise l’heure UTC en interne, vos applications affichent généralement l' **heure locale**, qui correspond à la date et à l’heure de votre fuseau horaire.</span><span class="sxs-lookup"><span data-stu-id="bfe39-104">While the system uses UTC-based time internally, your applications will generally display the **local time**, which is the date and time of day for your time zone.</span></span> <span data-ttu-id="bfe39-105">Par conséquent, pour garantir des résultats corrects, vous devez savoir si une fonction s’attend à recevoir une heure UTC ou une heure locale, et si la fonction retourne une heure UTC ou une heure locale.</span><span class="sxs-lookup"><span data-stu-id="bfe39-105">Therefore, to ensure correct results, you must be aware of whether a function expects to receive a UTC-based time or a local time, and whether the function returns a UTC-based time or a local time.</span></span>

<span data-ttu-id="bfe39-106">Les paramètres de fuseau horaire actuels contrôlent la façon dont le système convertit l’heure UTC et l’heure locale.</span><span class="sxs-lookup"><span data-stu-id="bfe39-106">The current time-zone settings control how the system converts between UTC and local time.</span></span> <span data-ttu-id="bfe39-107">Vous pouvez récupérer les paramètres de fuseau horaire en cours à l’aide de la fonction [**GetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformation) .</span><span class="sxs-lookup"><span data-stu-id="bfe39-107">You can retrieve the current time-zone settings by using the [**GetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformation) function.</span></span> <span data-ttu-id="bfe39-108">La fonction copie le résultat dans une structure d' [**\_ \_ informations de fuseau horaire**](/windows/win32/api/timezoneapi/ns-timezoneapi-time_zone_information) et retourne une valeur indiquant si l’heure locale est actuellement en heure d’hiver ou d’heure d’été (DST).</span><span class="sxs-lookup"><span data-stu-id="bfe39-108">The function copies the result to a [**TIME\_ZONE\_INFORMATION**](/windows/win32/api/timezoneapi/ns-timezoneapi-time_zone_information) structure and returns a value indicating whether local time is currently in standard time or daylight saving time (DST).</span></span> <span data-ttu-id="bfe39-109">Vous pouvez définir les paramètres de fuseau horaire à l’aide de la fonction [**SetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-settimezoneinformation) .</span><span class="sxs-lookup"><span data-stu-id="bfe39-109">You can set the time-zone settings by using the [**SetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-settimezoneinformation) function.</span></span> <span data-ttu-id="bfe39-110">Pour prendre en charge les limites de l’heure d’été qui changent d’une année à l’autre, utilisez les fonctions [**GetTimeZoneInformationForYear**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformationforyear), [**GetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-getdynamictimezoneinformation) et [**SetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-setdynamictimezoneinformation) .</span><span class="sxs-lookup"><span data-stu-id="bfe39-110">To support boundaries for daylight saving time that change from year to year, use the [**GetTimeZoneInformationForYear**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformationforyear), [**GetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-getdynamictimezoneinformation) and [**SetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-setdynamictimezoneinformation) functions.</span></span>

<span data-ttu-id="bfe39-111">Pour récupérer l’heure locale, utilisez la fonction [**GetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getlocaltime) .</span><span class="sxs-lookup"><span data-stu-id="bfe39-111">To retrieve the local time, use the [**GetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getlocaltime) function.</span></span> <span data-ttu-id="bfe39-112">**GetLocalTime** convertit l’heure système en heure locale en fonction des paramètres de fuseau horaire en cours et copie le résultat dans une structure [**SystemTime**](/windows/win32/api/minwinbase/ns-minwinbase-systemtime) .</span><span class="sxs-lookup"><span data-stu-id="bfe39-112">**GetLocalTime** converts the system time to a local time based on the current time-zone settings and copies the result to a [**SYSTEMTIME**](/windows/win32/api/minwinbase/ns-minwinbase-systemtime) structure.</span></span> <span data-ttu-id="bfe39-113">Vous pouvez définir l’heure système à l’aide de la fonction [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime) .</span><span class="sxs-lookup"><span data-stu-id="bfe39-113">You can set the system time by using the [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime) function.</span></span> <span data-ttu-id="bfe39-114">**SetLocalTime** suppose que vous avez spécifié une heure locale et convertit en heure UTC avant de définir l’heure système.</span><span class="sxs-lookup"><span data-stu-id="bfe39-114">**SetLocalTime** assumes you have specified a local time and converts to UTC before setting the system time.</span></span>

<span data-ttu-id="bfe39-115">Quand vous appelez [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime), le système utilise les informations de fuseau horaire actuelles, y compris le paramètre d’heure d’été, pour effectuer la conversion.</span><span class="sxs-lookup"><span data-stu-id="bfe39-115">When you call [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime), the system uses the current time zone information, including the daylight saving time setting, to perform the conversion.</span></span> <span data-ttu-id="bfe39-116">Notez que le système utilise le paramètre d’heure d’été de l’heure actuelle, et non la nouvelle heure que vous définissez.</span><span class="sxs-lookup"><span data-stu-id="bfe39-116">Note that the system uses the daylight saving time setting of the current time, not the new time you are setting.</span></span> <span data-ttu-id="bfe39-117">Par conséquent, pour garantir le résultat correct, appelez **SetLocalTime** une deuxième fois, maintenant que le premier appel a mis à jour le paramètre d’heure d’été.</span><span class="sxs-lookup"><span data-stu-id="bfe39-117">Therefore, to ensure the correct result, call **SetLocalTime** a second time, now that the first call has updated the daylight saving time setting.</span></span>

<span data-ttu-id="bfe39-118">Pour convertir une heure UTC en heure locale, utilisez la fonction [**SystemTimeToTzSpecificLocalTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetotzspecificlocaltime) .</span><span class="sxs-lookup"><span data-stu-id="bfe39-118">To convert a UTC-based time to a local time, use the [**SystemTimeToTzSpecificLocalTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetotzspecificlocaltime) function.</span></span> <span data-ttu-id="bfe39-119">Pour convertir une heure locale en heure UTC, utilisez la fonction [**TzSpecificLocalTimeToSystemTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-tzspecificlocaltimetosystemtime) .</span><span class="sxs-lookup"><span data-stu-id="bfe39-119">To convert a local time to a UTC-based time, use the [**TzSpecificLocalTimeToSystemTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-tzspecificlocaltimetosystemtime) function.</span></span>

 

 
