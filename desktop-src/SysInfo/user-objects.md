---
description: Les objets d’interface utilisateur ne prennent en charge qu’un seul handle par objet. Les processus ne peuvent pas hériter ou dupliquer des handles d’objets utilisateur. Les processus d’une session ne peuvent pas faire référence à un handle d’utilisateur dans une autre session.
ms.assetid: 07edc049-26d9-4f42-a5e7-e1f4c8435a6c
title: Objets utilisateur
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d5ed8afcf0f1d0e4c232cf503bc2c7ba86dca42d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104563639"
---
# <a name="user-objects"></a><span data-ttu-id="0cb63-105">Objets utilisateur</span><span class="sxs-lookup"><span data-stu-id="0cb63-105">User Objects</span></span>

<span data-ttu-id="0cb63-106">Les objets d’interface utilisateur ne prennent en charge qu’un seul handle par objet.</span><span class="sxs-lookup"><span data-stu-id="0cb63-106">User interface objects support only one handle per object.</span></span> <span data-ttu-id="0cb63-107">Les processus ne peuvent pas hériter ou dupliquer des handles d’objets utilisateur.</span><span class="sxs-lookup"><span data-stu-id="0cb63-107">Processes cannot inherit or duplicate handles to user objects.</span></span> <span data-ttu-id="0cb63-108">Les processus d’une session ne peuvent pas faire référence à un handle d’utilisateur dans une autre session.</span><span class="sxs-lookup"><span data-stu-id="0cb63-108">Processes in one session cannot reference a user handle in another session.</span></span>

<span data-ttu-id="0cb63-109">Il existe une limite théorique de 65 536 descripteurs utilisateur par session.</span><span class="sxs-lookup"><span data-stu-id="0cb63-109">There is a theoretical limit of 65,536 user handles per session.</span></span> <span data-ttu-id="0cb63-110">Toutefois, le nombre maximal de descripteurs utilisateur qui peuvent être ouverts par session est généralement plus faible, car il est affecté par la mémoire disponible.</span><span class="sxs-lookup"><span data-stu-id="0cb63-110">However, the maximum number of user handles that can be opened per session is usually lower, since it is affected by available memory.</span></span> <span data-ttu-id="0cb63-111">Il y a également une limite par processus par défaut des handles utilisateur.</span><span class="sxs-lookup"><span data-stu-id="0cb63-111">There is also a default per-process limit of user handles.</span></span> <span data-ttu-id="0cb63-112">Pour modifier cette limite, définissez la valeur de Registre suivante :</span><span class="sxs-lookup"><span data-stu-id="0cb63-112">To change this limit, set the following registry value:</span></span>

<span data-ttu-id="0cb63-113">**HKEY \_ Logiciel de l' \_ ordinateur local** \\  \\ **Microsoft** \\ **Windows NT** \\ **CurrentVersion** \\ **Windows** \\ **USERProcessHandleQuota**</span><span class="sxs-lookup"><span data-stu-id="0cb63-113">**HKEY\_LOCAL\_MACHINE**\\**SOFTWARE**\\**Microsoft**\\**Windows NT**\\**CurrentVersion**\\**Windows**\\**USERProcessHandleQuota**</span></span>

<span data-ttu-id="0cb63-114">Cette valeur peut être définie sur un nombre compris entre 200 et 18 000.</span><span class="sxs-lookup"><span data-stu-id="0cb63-114">This value can be set to a number between 200 and 18,000.</span></span>

## <a name="handles-to-user-objects"></a><span data-ttu-id="0cb63-115">Handles vers des objets utilisateur</span><span class="sxs-lookup"><span data-stu-id="0cb63-115">Handles to User Objects</span></span>

<span data-ttu-id="0cb63-116">Les handles vers les objets utilisateur sont publics pour tous les processus.</span><span class="sxs-lookup"><span data-stu-id="0cb63-116">Handles to user objects are public to all processes.</span></span> <span data-ttu-id="0cb63-117">Autrement dit, tout processus peut utiliser le handle d’objet utilisateur, à condition que le processus ait un accès de sécurité à l’objet.</span><span class="sxs-lookup"><span data-stu-id="0cb63-117">That is, any process can use the user object handle, provided that the process has security access to the object.</span></span>

<span data-ttu-id="0cb63-118">Dans l’illustration suivante, une application crée un objet Window.</span><span class="sxs-lookup"><span data-stu-id="0cb63-118">In the following illustration, an application creates a window object.</span></span> <span data-ttu-id="0cb63-119">La fonction [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) crée l’objet de fenêtre et retourne un handle d’objet.</span><span class="sxs-lookup"><span data-stu-id="0cb63-119">The [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) function creates the window object and returns an object handle.</span></span>

![application créant un objet Window](images/cshob-01.png)

<span data-ttu-id="0cb63-121">Une fois l’objet Window créé, l’application peut utiliser le handle de fenêtre pour afficher ou modifier la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0cb63-121">After the window object has been created, the application can use the window handle to display or change the window.</span></span> <span data-ttu-id="0cb63-122">Le descripteur reste valide jusqu’à ce que l’objet Window soit détruit.</span><span class="sxs-lookup"><span data-stu-id="0cb63-122">The handle remains valid until the window object is destroyed.</span></span>

<span data-ttu-id="0cb63-123">Dans l’illustration suivante, l’application détruit l’objet Window.</span><span class="sxs-lookup"><span data-stu-id="0cb63-123">In the next illustration, the application destroys the window object.</span></span> <span data-ttu-id="0cb63-124">La fonction [**DestroyWindow**](/windows/win32/api/winuser/nf-winuser-destroywindow) supprime l’objet Window de la mémoire, ce qui invalide le handle de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0cb63-124">The [**DestroyWindow**](/windows/win32/api/winuser/nf-winuser-destroywindow) function removes the window object from memory, which invalidates the window handle.</span></span>

![destruction d’un objet Window](images/cshob-02.png)

## <a name="managing-user-objects"></a><span data-ttu-id="0cb63-126">Gestion des objets utilisateur</span><span class="sxs-lookup"><span data-stu-id="0cb63-126">Managing User Objects</span></span>

<span data-ttu-id="0cb63-127">Le tableau suivant répertorie les objets utilisateur, ainsi que les fonctions de création et de destruction de chaque objet.</span><span class="sxs-lookup"><span data-stu-id="0cb63-127">The following table lists the user objects, along with each object's creator and destroyer functions.</span></span> <span data-ttu-id="0cb63-128">Les fonctions Creator créent l’objet et un handle d’objet, ou simplement retournent simplement le handle d’objet existant.</span><span class="sxs-lookup"><span data-stu-id="0cb63-128">The creator functions either create the object and an object handle or simply return the existing object handle.</span></span> <span data-ttu-id="0cb63-129">Les fonctions Destroy suppriment l’objet de la mémoire, ce qui invalide le descripteur d’objet.</span><span class="sxs-lookup"><span data-stu-id="0cb63-129">The destroyer functions remove the object from memory, which invalidates the object handle.</span></span>



| <span data-ttu-id="0cb63-130">Objet utilisateur</span><span class="sxs-lookup"><span data-stu-id="0cb63-130">User object</span></span>       | <span data-ttu-id="0cb63-131">Creator, fonction</span><span class="sxs-lookup"><span data-stu-id="0cb63-131">Creator function</span></span>                                                                                                                                                                                                                                                              | <span data-ttu-id="0cb63-132">Fonction Destroy</span><span class="sxs-lookup"><span data-stu-id="0cb63-132">Destroyer function</span></span>                                                                                   |
|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0cb63-133">Table d’accélérateurs</span><span class="sxs-lookup"><span data-stu-id="0cb63-133">Accelerator table</span></span> | [<span data-ttu-id="0cb63-134">**CreateAcceleratorTable**</span><span class="sxs-lookup"><span data-stu-id="0cb63-134">**CreateAcceleratorTable**</span></span>](/windows/win32/api/winuser/nf-winuser-createacceleratortablea)                                                                                                                                                                                                               | [<span data-ttu-id="0cb63-135">**DestroyAcceleratorTable**</span><span class="sxs-lookup"><span data-stu-id="0cb63-135">**DestroyAcceleratorTable**</span></span>](/windows/win32/api/winuser/nf-winuser-destroyacceleratortable)                                    |
| <span data-ttu-id="0cb63-136">Signe insertion</span><span class="sxs-lookup"><span data-stu-id="0cb63-136">Caret</span></span>             | [<span data-ttu-id="0cb63-137">**CreateCaret**</span><span class="sxs-lookup"><span data-stu-id="0cb63-137">**CreateCaret**</span></span>](/windows/win32/api/winuser/nf-winuser-createcaret)                                                                                                                                                                                                                                     | [<span data-ttu-id="0cb63-138">**DestroyCaret**</span><span class="sxs-lookup"><span data-stu-id="0cb63-138">**DestroyCaret**</span></span>](/windows/win32/api/winuser/nf-winuser-destroycaret)                                                          |
| <span data-ttu-id="0cb63-139">Curseur</span><span class="sxs-lookup"><span data-stu-id="0cb63-139">Cursor</span></span>            | <span data-ttu-id="0cb63-140">[**CreateCursor**](/windows/win32/api/winuser/nf-winuser-createcursor), [**LoadCursor**](/windows/win32/api/winuser/nf-winuser-loadcursora), [**LoadImage**](/windows/win32/api/winuser/nf-winuser-loadimagea)</span><span class="sxs-lookup"><span data-stu-id="0cb63-140">[**CreateCursor**](/windows/win32/api/winuser/nf-winuser-createcursor), [**LoadCursor**](/windows/win32/api/winuser/nf-winuser-loadcursora), [**LoadImage**](/windows/win32/api/winuser/nf-winuser-loadimagea)</span></span>                                                                                                                                                   | [<span data-ttu-id="0cb63-141">**DestroyCursor**</span><span class="sxs-lookup"><span data-stu-id="0cb63-141">**DestroyCursor**</span></span>](/windows/win32/api/winuser/nf-winuser-destroycursor)                                                        |
| <span data-ttu-id="0cb63-142">Conversation DDE</span><span class="sxs-lookup"><span data-stu-id="0cb63-142">DDE conversation</span></span>  | <span data-ttu-id="0cb63-143">[**DdeConnect**](/windows/win32/api/ddeml/nf-ddeml-ddeconnect), [ **DdeConnectList**](/windows/win32/api/ddeml/nf-ddeml-ddeconnectlist)</span><span class="sxs-lookup"><span data-stu-id="0cb63-143">[**DdeConnect**](/windows/win32/api/ddeml/nf-ddeml-ddeconnect), [**DdeConnectList**](/windows/win32/api/ddeml/nf-ddeml-ddeconnectlist)</span></span>                                                                                                                                                                                      | <span data-ttu-id="0cb63-144">[**DdeDisconnect**](/windows/win32/api/ddeml/nf-ddeml-ddedisconnect), [ **DdeDisconnectList**](/windows/win32/api/ddeml/nf-ddeml-ddedisconnectlist)</span><span class="sxs-lookup"><span data-stu-id="0cb63-144">[**DdeDisconnect**](/windows/win32/api/ddeml/nf-ddeml-ddedisconnect), [**DdeDisconnectList**](/windows/win32/api/ddeml/nf-ddeml-ddedisconnectlist)</span></span> |
| <span data-ttu-id="0cb63-145">Hook</span><span class="sxs-lookup"><span data-stu-id="0cb63-145">Hook</span></span>              | [<span data-ttu-id="0cb63-146">**SetWindowsHookEx**</span><span class="sxs-lookup"><span data-stu-id="0cb63-146">**SetWindowsHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-setwindowshookexa)                                                                                                                                                                                                                           | [<span data-ttu-id="0cb63-147">**UnhookWindowsHookEx**</span><span class="sxs-lookup"><span data-stu-id="0cb63-147">**UnhookWindowsHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-unhookwindowshookex)                                            |
| <span data-ttu-id="0cb63-148">Icône</span><span class="sxs-lookup"><span data-stu-id="0cb63-148">Icon</span></span>              | <span data-ttu-id="0cb63-149">[**CreateIconIndirect**](/windows/win32/api/winuser/nf-winuser-createiconindirect), [**LoadIcon**](/windows/win32/api/winuser/nf-winuser-loadicona), [**LoadImage**](/windows/win32/api/winuser/nf-winuser-loadimagea)</span><span class="sxs-lookup"><span data-stu-id="0cb63-149">[**CreateIconIndirect**](/windows/win32/api/winuser/nf-winuser-createiconindirect), [**LoadIcon**](/windows/win32/api/winuser/nf-winuser-loadicona), [**LoadImage**](/windows/win32/api/winuser/nf-winuser-loadimagea)</span></span>                                                                                                                                           | [<span data-ttu-id="0cb63-150">**DestroyIcon**</span><span class="sxs-lookup"><span data-stu-id="0cb63-150">**DestroyIcon**</span></span>](/windows/win32/api/winuser/nf-winuser-destroyicon)                                                            |
| <span data-ttu-id="0cb63-151">Menu</span><span class="sxs-lookup"><span data-stu-id="0cb63-151">Menu</span></span>              | <span data-ttu-id="0cb63-152">[**CreateMenu**](/windows/win32/api/winuser/nf-winuser-createmenu), [**CreatePopupMenu**](/windows/win32/api/winuser/nf-winuser-createpopupmenu), [**LoadMenu**](/windows/win32/api/winuser/nf-winuser-loadmenua), [**LoadMenuIndirect**](/windows/win32/api/winuser/nf-winuser-loadmenuindirecta)</span><span class="sxs-lookup"><span data-stu-id="0cb63-152">[**CreateMenu**](/windows/win32/api/winuser/nf-winuser-createmenu), [**CreatePopupMenu**](/windows/win32/api/winuser/nf-winuser-createpopupmenu), [**LoadMenu**](/windows/win32/api/winuser/nf-winuser-loadmenua), [**LoadMenuIndirect**](/windows/win32/api/winuser/nf-winuser-loadmenuindirecta)</span></span>                                                                                          | [<span data-ttu-id="0cb63-153">**DestroyMenu**</span><span class="sxs-lookup"><span data-stu-id="0cb63-153">**DestroyMenu**</span></span>](/windows/win32/api/winuser/nf-winuser-destroymenu)                                                            |
| <span data-ttu-id="0cb63-154">Fenêtre</span><span class="sxs-lookup"><span data-stu-id="0cb63-154">Window</span></span>            | <span data-ttu-id="0cb63-155">[**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa), [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa), [**CreateDialogParam**](/windows/win32/api/winuser/nf-winuser-createdialogparama), [**CreateDialogIndirectParam**](/windows/win32/api/winuser/nf-winuser-createdialogindirectparama), [**CreateMDIWindow**](/windows/win32/api/winuser/nf-winuser-createmdiwindowa)</span><span class="sxs-lookup"><span data-stu-id="0cb63-155">[**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa), [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa), [**CreateDialogParam**](/windows/win32/api/winuser/nf-winuser-createdialogparama), [**CreateDialogIndirectParam**](/windows/win32/api/winuser/nf-winuser-createdialogindirectparama), [**CreateMDIWindow**](/windows/win32/api/winuser/nf-winuser-createmdiwindowa)</span></span> | [<span data-ttu-id="0cb63-156">**DestroyWindow**</span><span class="sxs-lookup"><span data-stu-id="0cb63-156">**DestroyWindow**</span></span>](/windows/win32/api/winuser/nf-winuser-destroywindow)                                                        |
| <span data-ttu-id="0cb63-157">Position de la fenêtre</span><span class="sxs-lookup"><span data-stu-id="0cb63-157">Window position</span></span>   | [<span data-ttu-id="0cb63-158">**BeginDeferWindowPos**</span><span class="sxs-lookup"><span data-stu-id="0cb63-158">**BeginDeferWindowPos**</span></span>](/windows/win32/api/winuser/nf-winuser-begindeferwindowpos)                                                                                                                                                                                                                     | [<span data-ttu-id="0cb63-159">**EndDeferWindowPos**</span><span class="sxs-lookup"><span data-stu-id="0cb63-159">**EndDeferWindowPos**</span></span>](/windows/win32/api/winuser/nf-winuser-enddeferwindowpos)                                                |



 

 

 
