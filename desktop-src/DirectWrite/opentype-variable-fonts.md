---
title: Polices de variable OpenType
description: Cette rubrique décrit les polices de variables OpenType, leur prise en charge dans DirectWrite et Direct2D, et comment les utiliser dans votre application. .
ms.assetid: 788558a7-efe7-b075-942f-ac75a5b86b84
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 60a9e6bdf27da0d70841973515636736859294dd
ms.sourcegitcommit: af9983bab40fe0b042f177ce7ca79f2eb0f9d0e8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/06/2021
ms.locfileid: "103869349"
---
# <a name="opentype-variable-fonts"></a><span data-ttu-id="0e0c0-104">Polices de variable OpenType</span><span class="sxs-lookup"><span data-stu-id="0e0c0-104">OpenType Variable Fonts</span></span>

<span data-ttu-id="0e0c0-105">Cette rubrique décrit les polices de variables OpenType, leur prise en charge dans DirectWrite et Direct2D, et comment les utiliser dans votre application.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-105">This topic describes OpenType variable fonts, their support in DirectWrite and Direct2D, and how to use them in your app.</span></span> 

-   [<span data-ttu-id="0e0c0-106">Que sont les polices de variable OpenType ?</span><span class="sxs-lookup"><span data-stu-id="0e0c0-106">What are OpenType variable fonts?</span></span>](#what-are-opentype-variable-fonts)
-   [<span data-ttu-id="0e0c0-107">Prise en charge des polices de variables OpenType dans DirectWrite</span><span class="sxs-lookup"><span data-stu-id="0e0c0-107">OpenType variable font support in DirectWrite</span></span>](#opentype-variable-font-support-in-directwrite)
-   [<span data-ttu-id="0e0c0-108">Utilisation des polices de variable OpenType</span><span class="sxs-lookup"><span data-stu-id="0e0c0-108">Using OpenType variable fonts</span></span>](#using-opentype-variable-fonts)

## <a name="what-are-opentype-variable-fonts"></a><span data-ttu-id="0e0c0-109">Que sont les polices de variable OpenType ?</span><span class="sxs-lookup"><span data-stu-id="0e0c0-109">What are OpenType variable fonts?</span></span>

<span data-ttu-id="0e0c0-110">La version 1,8 de la [spécification de format de police OpenType](https://www.microsoft.com/typography/otspec/) a introduit une nouvelle extension au format connu sous le nom de [variantes de police OpenType](/typography/opentype/spec/otvaroverview).</span><span class="sxs-lookup"><span data-stu-id="0e0c0-110">Version 1.8 of the [OpenType font format specification](https://www.microsoft.com/typography/otspec/) introduced a new extension to the format known as [OpenType Font Variations](/typography/opentype/spec/otvaroverview).</span></span> <span data-ttu-id="0e0c0-111">Les polices qui utilisent ces extensions sont appelées polices de variable OpenType.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-111">Fonts that use these extensions are known as OpenType variable fonts.</span></span> <span data-ttu-id="0e0c0-112">Une police de variable OpenType est une police unique qui peut se comporter comme plusieurs polices en utilisant une interpolation continue entre différentes conceptions, toutes définies dans la police unique.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-112">An OpenType variable font is a single font that can behave like several fonts by using continuous interpolation between different designs, all defined within the single font.</span></span>

<span data-ttu-id="0e0c0-113">Une police de variable OpenType peut définir la variation continue de sa conception sur un ou plusieurs axes indépendants, tels que le poids ou la largeur :</span><span class="sxs-lookup"><span data-stu-id="0e0c0-113">An OpenType variable font can define continuous variation of its design along one or more independent axes, such as weight or width:</span></span> 

 

![Affiche une police de variable OpenType à l’aide de la lettre « G » et affiche différentes variantes le long d’un axe de largeur horizontal et d’un axe de pondération verticale.](images/opentype-width-weight.png)

<span data-ttu-id="0e0c0-115">Un développeur de polices détermine un ensemble d’axes de variation à utiliser dans une police donnée.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-115">A font developer determines a set of variation axes to use in a given font.</span></span> <span data-ttu-id="0e0c0-116">Ces axes peuvent inclure un ensemble d’axes de variation bien connus (ou « enregistrés »), tels que le poids et la largeur, mais ils peuvent également inclure des axes de variation personnalisés et arbitraires définis par le développeur de polices.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-116">These axes can include a set of well-known (or “registered”) axes of variation, such as weight and width, but they can also include arbitrary, custom axes of variation defined by the font developer.</span></span>  

<span data-ttu-id="0e0c0-117">En sélectionnant un ensemble d’axes de variantes pour une police, le développeur de polices définit un espace n-dimensionnel abstrait de variation de conception pour la police.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-117">By selecting a set of variation axes for a font, the font developer defines an abstract, n-dimensional space of design variation for the font.</span></span> <span data-ttu-id="0e0c0-118">Les moteurs de texte peuvent spécifier éventuellement une position, ou « instance », au sein de cet espace continu pour la disposition et le rendu du texte.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-118">Text engines can specify potentially any position, or “instance”, within that continuous space for laying out and rendering text.</span></span> 

<span data-ttu-id="0e0c0-119">Le développeur de polices peut également sélectionner et assigner des noms à des instances particulières au sein de l’espace de variation de conception ; celles-ci sont appelées « instances nommées ».</span><span class="sxs-lookup"><span data-stu-id="0e0c0-119">The font developer can also select and assign names to particular instances within the design-variation space; these are referred to as “named instances”.</span></span> <span data-ttu-id="0e0c0-120">Par exemple, une police avec une variation de poids peut prendre en charge une variation continue entre des traits très clairs et très lourds, tandis que le développeur de polices a sélectionné des pondérations particulières sur ce continuum et des noms qui leur sont attribués, tels que « Light », « Regular » et « SemiBold ».</span><span class="sxs-lookup"><span data-stu-id="0e0c0-120">For example, a font with weight variation may support continuous variation between very light and very heavy strokes, while the font developer has selected particular weights along that continuum and assigned names to them, such as “Light”, “Regular” and “Semibold”.</span></span> 

<span data-ttu-id="0e0c0-121">Le format de police de variable OpenType utilise des tables de données se trouvant dans les polices OpenType traditionnelles, ainsi que certaines tables supplémentaires qui décrivent comment les valeurs de différents éléments de données sont modifiées pour différentes instances.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-121">The OpenType variable font format uses data tables found in traditional OpenType fonts plus certain additional tables that describe how the values of various data items change for different instances.</span></span> <span data-ttu-id="0e0c0-122">Le format désigne une instance de variation comme « instance par défaut », qui utilise des tables traditionnelles pour obtenir les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-122">The format designates one variation instance as a “default instance”, which uses traditional tables to get default values.</span></span> <span data-ttu-id="0e0c0-123">Toutes les autres instances dépendent des données par défaut et d’autres données Delta.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-123">All other instances depend on the default data plus other delta data.</span></span> <span data-ttu-id="0e0c0-124">Par exemple, une table « glyf » peut avoir une description de courbe de Bézier d’une forme de glyphe nominale, qui est la forme utilisée pour l’instance par défaut, tandis qu’une table « GVAR » décrit la façon dont les points de contrôle Bézier du glyphe sont ajustés pour les autres instances.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-124">For example, a ‘glyf’ table can have a Bezier-curve description of a nominal glyph shape, which is the shape used for the default instance, while a ‘gvar’ table will describe how the Bezier control points for the glyph are adjusted for other instances.</span></span> <span data-ttu-id="0e0c0-125">De même, les autres valeurs de police peuvent avoir une valeur nominale, plus les données Delta décrivant la manière dont ces valeurs changent pour des instances différentes ; par exemple, la hauteur x et d’autres métriques à l’échelle de la police, les positions d’ancrage de marque spécifiques aux glyphes et les réglages de crénage.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-125">Similarly, other font values can have a nominal value plus delta data describing how those values change for different instances; for example, x-height and other font-wide metrics, or glyph-specific mark-anchoring positions and kerning adjustments.</span></span> 

<span data-ttu-id="0e0c0-126">Étant donné que les polices variables peuvent prendre en charge un jeu arbitraire d’axes de variation, elles nécessitent un modèle extensible de familles de polices qui reflète plus directement la manière dont les concepteurs de polices créent des familles de polices : une famille de polices est définie par un nom de famille et certaines caractéristiques de conception constantes, avec un nombre arbitraire (déterminé par le développeur de polices) des façons dont la</span><span class="sxs-lookup"><span data-stu-id="0e0c0-126">Because variable fonts can support an arbitrary set of variation axes, they require an extensible model of font families that more directly reflects how font designers create families of fonts: a font family is defined by a family name and certain design characteristics that are constant, with an arbitrary number (determined by the font developer) of ways in which the design can vary.</span></span> <span data-ttu-id="0e0c0-127">Une famille de polices peut être créée avec des variantes pour le poids, mais une famille de polices différente peut être créée avec des variantes pour la hauteur x, Serif-Size, « funkiness », ou tout ce que le développeur de polices souhaite.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-127">One font family may be created with variants for weight, but a different font family may be created with variants for x-height, serif-size, “funkiness”, or whatever the font developer wishes.</span></span> <span data-ttu-id="0e0c0-128">Dans ce modèle, une sélection de type de police est mieux décrite à l’aide de général, ou « par défaut » ou « typographique », nom de famille plus un ensemble de paires clé-valeur, chacune représentant un type de variation et une valeur spécifique, avec les genres de variation en général en tant que jeu extensible.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-128">In this model, a font face selection is best described using the general, or “preferred” or "typographic", family name plus a set of key-value pairs, each representing a kind of variation and specific value, with the kinds of variation in general being an extensible set.</span></span> <span data-ttu-id="0e0c0-129">Cette notion générale d’une famille de polices peut s’appliquer aux polices traditionnelles, non variables et aux polices variables.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-129">This general notion of a font family can apply to traditional, non-variable fonts as well as to variable fonts.</span></span> <span data-ttu-id="0e0c0-130">Par exemple, dans ce général, le modèle de famille typographique, une famille « Selawik VF », peut avoir des variations de poids, de taille optique et de conception Serif, avec des instances telles que « Semilight bannière San ».</span><span class="sxs-lookup"><span data-stu-id="0e0c0-130">For example, under this general, typographic family model, a family "Selawik VF" might have variations for weight, optical size and serif design, with instances such as "Semilight Banner Sans".</span></span> 

<span data-ttu-id="0e0c0-131">Toutefois, certaines implémentations logicielles existantes, y compris les API DirectWrite existantes, peuvent être conçues en supposant un modèle de familles de polices plus limité.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-131">Some existing software implementations, however, including existing DirectWrite APIs, may be designed assuming a more limited model of font families.</span></span> <span data-ttu-id="0e0c0-132">Par exemple, certaines applications peuvent supposer qu’une famille de polices peut avoir, au plus, des variantes normal, gras, italique et gras italiques.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-132">For example, some applications may assume that a font family can have, at most, Regular, Bold, Italic and Bold Italic variants.</span></span> <span data-ttu-id="0e0c0-133">Les interfaces [**IDWriteFontCollection**](/windows/win32/api/dwrite/nn-dwrite-idwritefontcollection) et [**IDWriteFontFamily**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfamily) existantes supposent un modèle de famille poids/Stretch/style (« WSS »), ce qui permet de spécifier des variantes dans une famille à l’aide de l' [**\_ \_ épaisseur de police DWRITE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight), de l' [**\_ \_ étirement de police DWRITE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) ou des énumérations de [**\_ \_ style de police DWRITE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_style) en tant que paramètres.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-133">The existing [**IDWriteFontCollection**](/windows/win32/api/dwrite/nn-dwrite-idwritefontcollection) and [**IDWriteFontFamily**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfamily) interfaces assume a weight/stretch/style (“WSS”) family model, allowing for variants within a family to be specified using the [**DWRITE\_FONT\_WEIGHT**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight), [**DWRITE\_FONT\_STRETCH**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) or [**DWRITE\_FONT\_STYLE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_style) enumerations as parameters.</span></span> <span data-ttu-id="0e0c0-134">Dans l’exemple précédent, la taille optique et les axes Serif ne sont pas traités comme des axes internes de la famille de variations dans le modèle WSS.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-134">Taking the previous example, the optical size and serif axes would not be treated as family-internal axes of variation in the WSS model.</span></span> 

<span data-ttu-id="0e0c0-135">La prise en charge complète des polices variables nécessiterait des API qui permettent de spécifier un membre de la famille avec éventuellement plusieurs paramètres, comme déterminé par la police.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-135">Complete support for variable fonts would require APIs that allow a family member to be specified with potentially several parameters, as determined by the font.</span></span> <span data-ttu-id="0e0c0-136">Toutefois, les conceptions d’API existantes peuvent être en mesure de fournir une prise en charge partielle des polices variables en projetant les instances nommées définies dans une police de variable dans les modèles de famille de polices les plus limités.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-136">But existing API designs may be able to provide partial support for variable fonts by projecting the named instances defined in a variable font into the more-limited font-family models.</span></span> <span data-ttu-id="0e0c0-137">Dans l’exemple précédent, « Selawik VF Semilight Banner San » peut être projeté dans le modèle WSS en tant que famille « Selawik VF Banner San » avec « Semilight » comme variante de poids.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-137">In the previous example, "Selawik VF Semilight Banner Sans" could be projected into the WSS model as a "Selawik VF Banner Sans" family with "Semilight" as a weight variant.</span></span> 

<span data-ttu-id="0e0c0-138">Pour un autre exemple, considérez une famille de polices typographiques telle que Sitka, avec des variantes de poids et de taille optique.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-138">For another example, consider a typographic font family such as Sitka, with weight and optical size variants.</span></span> <span data-ttu-id="0e0c0-139">Les variantes nommées de la famille incluent le texte Sitka normal et le gras de la bannière Sitka (plus beaucoup d’autres).</span><span class="sxs-lookup"><span data-stu-id="0e0c0-139">Named variants within the family include Sitka Text Regular and Sitka Banner Bold (plus many others).</span></span> <span data-ttu-id="0e0c0-140">Le nom de famille typographique est « Sitka », alors que les noms de police pour ces variantes dans le modèle de famille typographique seraient « texte normal » et « bannière en gras ».</span><span class="sxs-lookup"><span data-stu-id="0e0c0-140">The typographic family name is “Sitka” while the face names for these variants in the typographic family model would be “Text Regular” and “Banner Bold”.</span></span> <span data-ttu-id="0e0c0-141">Les modèles de famille WSS et à quatre membres n’autorisent pas les variantes de taille optique au sein d’une famille. les distinctions de taille optique doivent donc être traitées comme des distinctions au niveau de la famille.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-141">The four-member and WSS family models do not allow for optical size variants within a family, and so optical-size distinctions must be treated like family-level distinctions.</span></span> <span data-ttu-id="0e0c0-142">Le tableau suivant illustre la façon dont une sélection des polices de la famille typographique Sitka est traitée dans le modèle de famille WSS :</span><span class="sxs-lookup"><span data-stu-id="0e0c0-142">The following table illustrates how a selection of fonts from the Sitka typographic family would be treated in the WSS family model:</span></span> 



<span data-ttu-id="0e0c0-143">Modèle de famille typographique</span><span class="sxs-lookup"><span data-stu-id="0e0c0-143">Typographic family model</span></span>

<span data-ttu-id="0e0c0-144">Modèle de famille WSS</span><span class="sxs-lookup"><span data-stu-id="0e0c0-144">WSS family model</span></span>

<span data-ttu-id="0e0c0-145">Famille</span><span class="sxs-lookup"><span data-stu-id="0e0c0-145">Family</span></span>

<span data-ttu-id="0e0c0-146">Visage</span><span class="sxs-lookup"><span data-stu-id="0e0c0-146">Face</span></span>

<span data-ttu-id="0e0c0-147">Famille</span><span class="sxs-lookup"><span data-stu-id="0e0c0-147">Family</span></span>

<span data-ttu-id="0e0c0-148">Visage</span><span class="sxs-lookup"><span data-stu-id="0e0c0-148">Face</span></span>

<span data-ttu-id="0e0c0-149">Sitka</span><span class="sxs-lookup"><span data-stu-id="0e0c0-149">Sitka</span></span>

<span data-ttu-id="0e0c0-150">Texte normal</span><span class="sxs-lookup"><span data-stu-id="0e0c0-150">Text Regular</span></span>

<span data-ttu-id="0e0c0-151">Texte Sitka</span><span class="sxs-lookup"><span data-stu-id="0e0c0-151">Sitka Text</span></span>

<span data-ttu-id="0e0c0-152">Normal</span><span class="sxs-lookup"><span data-stu-id="0e0c0-152">Regular</span></span>

<span data-ttu-id="0e0c0-153">Sitka</span><span class="sxs-lookup"><span data-stu-id="0e0c0-153">Sitka</span></span>

<span data-ttu-id="0e0c0-154">Bannière en gras</span><span class="sxs-lookup"><span data-stu-id="0e0c0-154">Banner Bold</span></span>

<span data-ttu-id="0e0c0-155">Bannière Sitka</span><span class="sxs-lookup"><span data-stu-id="0e0c0-155">Sitka Banner</span></span>

<span data-ttu-id="0e0c0-156">Gras</span><span class="sxs-lookup"><span data-stu-id="0e0c0-156">Bold</span></span>

<span data-ttu-id="0e0c0-157">Sitka</span><span class="sxs-lookup"><span data-stu-id="0e0c0-157">Sitka</span></span>

<span data-ttu-id="0e0c0-158">Légende en italique</span><span class="sxs-lookup"><span data-stu-id="0e0c0-158">Caption Italic</span></span>

<span data-ttu-id="0e0c0-159">Légende Sitka</span><span class="sxs-lookup"><span data-stu-id="0e0c0-159">Sitka Caption</span></span>

<span data-ttu-id="0e0c0-160">Italique</span><span class="sxs-lookup"><span data-stu-id="0e0c0-160">Italic</span></span>



 

<span data-ttu-id="0e0c0-161">La projection de noms d’un modèle de famille typographique vers le modèle de famille WSS peut être appliquée aux polices non variables et aux instances nommées de polices de variable.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-161">The projection of names from a typographic family model to the WSS family model can be applied to non-variable fonts, and to the named instances of variable fonts.</span></span> <span data-ttu-id="0e0c0-162">Cela ne peut toutefois pas être fait pour d’autres instances non nommées à partir de l’espace de variation de conception continue d’une police de variable.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-162">This cannot be done, however, for other, non-named instances from the continuous design-variation space of a variable font.</span></span> <span data-ttu-id="0e0c0-163">Pour cette raison, la prise en charge de la fonctionnalité complète des polices variables nécessitera des API conçues pour faire référence à des visages dans une famille typographique en termes d’un ensemble d’axes de variantes et de valeurs d’axe non restreints.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-163">For this reason, support for the complete functionality of variable fonts will require APIs designed to reference faces within a typographic family in terms of an unconstrained set of variation axes and axis values.</span></span> 

## <a name="opentype-variable-font-support-in-directwrite"></a><span data-ttu-id="0e0c0-164">Prise en charge des polices de variables OpenType dans DirectWrite</span><span class="sxs-lookup"><span data-stu-id="0e0c0-164">OpenType variable font support in DirectWrite</span></span>

<span data-ttu-id="0e0c0-165">Depuis la publication de Windows 10 Creators Update, le format de police de variable OpenType est toujours très nouveau, et les fournisseurs de polices, les plateformes et les applications sont toujours en cours d’implémentation du nouveau format.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-165">As of the release of the Windows 10 Creators Update, the OpenType variable font format is still very new, and font vendors, platforms and apps are still in the process of implementing the new format.</span></span> <span data-ttu-id="0e0c0-166">Cette mise à jour fournit une implémentation initiale pour ce format dans DirectWrite.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-166">This update provides initial implementation for this format in DirectWrite.</span></span> 

<span data-ttu-id="0e0c0-167">Les éléments internes de DirectWrite ont été mis à jour pour prendre en charge les polices de variable OpenType.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-167">DirectWrite internals have been updated to support OpenType variable fonts.</span></span> <span data-ttu-id="0e0c0-168">À l’aide des API actuelles, cela prend en charge toutes les instances nommées d’une police de variable.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-168">Using current APIs, this provides support for any named instances of a variable font.</span></span> <span data-ttu-id="0e0c0-169">Cette prise en charge peut être utilisée pour les flux de travail complets, de l’énumération des instances nommées, la sélection d’une instance nommée, l’utilisation de la mise en page et de la mise en forme, le rendu et l’impression.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-169">This support can be used for complete workflows — from enumeration of the named instances, selection of a named instance, use in layout and shaping, to rendering and printing.</span></span> <span data-ttu-id="0e0c0-170">Pour l’avantage des applications qui utilisent également l’interopérabilité de texte GDI pour certaines opérations, une prise en charge similaire a également été ajoutée dans les API GDI existantes.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-170">For the benefit of apps that also use GDI text interop for certain operations, similar support has also been added in existing GDI APIs.</span></span> 

<span data-ttu-id="0e0c0-171">Dans Windows 10 Creators Update, DirectWrite ne prend pas en charge les instances arbitraires qui utilisent la fonctionnalité de variation continue des polices variables.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-171">In the Windows 10 Creators Update, DirectWrite does not support arbitrary instances that utilize the continuous-variation capability of variable fonts.</span></span>

<span data-ttu-id="0e0c0-172">Dans de nombreuses opérations, le comportement dans DirectWrite des instances nommées d’une police de variable ne peut pas être distingué du comportement des polices non variables.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-172">In many operations, the behavior in DirectWrite of named instances of a variable font cannot be distinguished from the behavior of non-variable fonts.</span></span> <span data-ttu-id="0e0c0-173">Et dans la mesure où la prise en charge est assurée à l’aide des API DirectWrite existantes, les instances nommées des polices variables peuvent même fonctionner dans de nombreuses applications DirectWrite existantes sans aucune modification.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-173">And since support is provided using existing DirectWrite APIs, the named instances of variable fonts can even work in many existing DirectWrite apps without any changes.</span></span> <span data-ttu-id="0e0c0-174">Toutefois, des exceptions peuvent s’appliquer dans certains cas :</span><span class="sxs-lookup"><span data-stu-id="0e0c0-174">Exceptions may apply, however, in certain situations:</span></span>  

-   <span data-ttu-id="0e0c0-175">Si une application traite les données de police directement pour certaines opérations.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-175">If an app processes font data directly for certain operations.</span></span> <span data-ttu-id="0e0c0-176">Par exemple, si une application lit les données de contour de glyphe directement à partir du fichier de police pour créer certains effets visuels.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-176">For example, if an app reads glyph outline data directly from the font file to create certain visual effects.</span></span>
-   <span data-ttu-id="0e0c0-177">Si une application utilise une bibliothèque tierce pour certaines opérations.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-177">If an app uses a third-party library for certain operations.</span></span> <span data-ttu-id="0e0c0-178">Par exemple, si une application utilise DirectWrite pour la disposition, pour obtenir les index et les positions des glyphes finaux, mais utilise une bibliothèque tierce pour le rendu.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-178">For example, if an app uses DirectWrite for layout, to get final glyph indices and positions, but then uses a third-party library for rendering.</span></span>
-   <span data-ttu-id="0e0c0-179">Si une application incorpore des données de police dans un document ou d’une autre façon, transmet des données de police à un processus en aval.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-179">If an app embeds font data into a document or in some other way passes font data to a downstream process.</span></span>

<span data-ttu-id="0e0c0-180">Si des opérations sont effectuées à l’aide d’implémentations qui ne prennent pas en charge les polices variables, ces opérations peuvent ne pas produire les résultats attendus.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-180">If operations are performed using implementations that do not support variable fonts, then these operations may not produce the expected results.</span></span> <span data-ttu-id="0e0c0-181">Par exemple, les positions de glyphes peuvent être calculées pour une instance nommée de la police de la variable, mais les glyphes peuvent être rendus en supposant une instance nommée différente.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-181">For example, glyph positions might be calculated for one named instance of the variable font, but the glyphs might be rendered assuming a different named instance.</span></span> <span data-ttu-id="0e0c0-182">En fonction de l’implémentation de l’application, les résultats peuvent fonctionner dans certains contextes, mais pas dans d’autres contextes dans lesquels d’autres bibliothèques peuvent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-182">Depending on application implementation, results may work in some contexts but not in other contexts in which other libraries may be used.</span></span> <span data-ttu-id="0e0c0-183">Par exemple, le texte peut s’afficher correctement à l’écran, mais pas à l’impression.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-183">For example, text may display correctly on screen, but not when printed.</span></span> <span data-ttu-id="0e0c0-184">Si les flux de travail de bout en bout sont implémentés à l’aide de DirectWrite uniquement, le comportement correct pour les instances nommées d’une police variable peut être attendu.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-184">If end-to-end workflows are implemented using only DirectWrite, then correct behavior for named instances of a variable font can be expected.</span></span> 

<span data-ttu-id="0e0c0-185">Étant donné que les API DirectWrite existantes prennent en charge la sélection de visage à l’aide du modèle poids/Stretch/style, les instances nommées des polices qui utilisent d’autres axes de variation seront projetées à partir du modèle de famille typographique général dans le modèle WSS, comme décrit ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-185">Since existing DirectWrite APIs support face selection using the weight/stretch/style model, the named instances of fonts that use other axes of variation will be projected from the general, typographic family model into the WSS model, as described above.</span></span> <span data-ttu-id="0e0c0-186">Cela repose sur une police variable incluant une table « attributs de style » (« STAT ») avec des sous-tables de valeurs d’axe, que DWrite utilise pour distinguer les jetons de nom de police qui désignent les attributs de poids, d’étirement ou de style des jetons qui se rapportent à d’autres axes de variation.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-186">This relies on a variable font including a “style attributes” (‘STAT’) table with axis-value subtables, which DWrite uses to distinguish face name tokens that designate weight, stretch or style attributes from tokens that pertain to other axes of variation.</span></span>  

<span data-ttu-id="0e0c0-187">Si une police variable n’inclut pas de table « STAT », comme requis pour les polices variables par la spécification OpenType, DirectWrite traite la police comme une police non variable contenant uniquement l’instance par défaut.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-187">If a variable font does not include a ‘STAT’ table, as required for variable fonts by the OpenType specification, then DirectWrite will treat the font as a non-variable font containing only the default instance.</span></span>  

<span data-ttu-id="0e0c0-188">Si une police contient une table « STAT », mais qu’elle n’inclut pas les sous-tables de valeur AXIS appropriées, cela peut entraîner des résultats inattendus, par exemple avoir plusieurs faces ayant des noms de visages identiques.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-188">If a font does contain a ‘STAT’ table but it does not include appropriate axis-value subtables, this may lead to unexpected results, such as having multiple faces that have identical face names.</span></span> <span data-ttu-id="0e0c0-189">Ces polices ne sont pas prises en charge pour l’instant.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-189">Such fonts are not supported at this time.</span></span> 

<span data-ttu-id="0e0c0-190">La spécification OpenType permet de représenter les données de plan de glyphe dans l’un des deux formats suivants : à l’aide d’une table « glyf », qui utilise le format de plan et d’affinage TrueType, ou à l’aide d’une table « CFF », qui utilise la représentation au format de police compact (« CFF »).</span><span class="sxs-lookup"><span data-stu-id="0e0c0-190">The OpenType specification allows for glyph outline data to be represented in one of two formats: using a ‘glyf’ table, which uses TrueType outline and hinting format, or using a ‘CFF’ table, which uses Compact Font Format (“CFF”) representation.</span></span> <span data-ttu-id="0e0c0-191">Dans une police de variable avec des contours TrueType, la table « glyf » continue à être utilisée et est complétée par une table « GVAR » qui fournit les données de variation pour les contours.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-191">In a variable font with TrueType outlines, the ‘glyf’ table continues to be used, and is supplemented with a ‘gvar’ table that supplies the variation data for the outlines.</span></span> <span data-ttu-id="0e0c0-192">Cela signifie que l’instance par défaut d’une police de variable avec des contours TrueType utilise uniquement les tables OpenType traditionnelles qui seront prises en charge dans les anciens logiciels qui n’ont pas de prise en charge de police variable.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-192">This means that the default instance of a variable font with TrueType outlines uses only traditional OpenType tables that will be supported in older software that has no variable font support.</span></span> <span data-ttu-id="0e0c0-193">Toutefois, dans une police de variable avec des contours CFF, la table « CFF » est remplacée par la table « CFF2 », qui encapsule les données de plan par défaut et les données de variation associées dans une table.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-193">In a variable font with CFF outlines, however, the ‘CFF’ table is superseded by the ‘CFF2’ table, which encapsulates the default outline data and the associated variation data in one table.</span></span> <span data-ttu-id="0e0c0-194">Les données CFF sont traitées par un rastériseur distinct de celui utilisé pour les données TrueType, et une table « CFF2 » nécessite un rastériseur CFF mis à jour qui a la prise en charge de « CFF2 ».</span><span class="sxs-lookup"><span data-stu-id="0e0c0-194">CFF data is processed by a separate rasterizer from that used for TrueType data, and a ‘CFF2’ table requires an updated CFF rasterizer that has ‘CFF2’ support.</span></span> <span data-ttu-id="0e0c0-195">Une table « CFF2 » ne peut pas être traitée par des rastériseurs CFF plus anciens.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-195">A ‘CFF2’ table cannot be processed by older CFF rasterizers.</span></span> <span data-ttu-id="0e0c0-196">Pour une police variable avec des données de plan CFF, cela signifie que même l’instance par défaut ne fonctionnera pas dans les anciens logiciels.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-196">For a variable font with CFF outline data, this means that even the default instance will not work in older software.</span></span> 

<span data-ttu-id="0e0c0-197">Dans Windows 10 Creators Update, DirectWrite ne prend pas en charge les polices variables avec des données de plan CFF à l’aide de la table « CFF2 ».</span><span class="sxs-lookup"><span data-stu-id="0e0c0-197">In the Windows 10 Creators Update, DirectWrite does not support variable fonts with CFF outline data using the ‘CFF2’ table.</span></span> 

## <a name="using-opentype-variable-fonts"></a><span data-ttu-id="0e0c0-198">Utilisation des polices de variable OpenType</span><span class="sxs-lookup"><span data-stu-id="0e0c0-198">Using OpenType variable fonts</span></span>

<span data-ttu-id="0e0c0-199">Les polices de variable OpenType peuvent être faciles à utiliser, en gardant à l’esprit les limitations actuelles mentionnées ci-dessus :</span><span class="sxs-lookup"><span data-stu-id="0e0c0-199">OpenType variable fonts can be easy to use, keeping in mind the current limitations noted above:</span></span> 

-   <span data-ttu-id="0e0c0-200">Seules les instances nommées d’une police de variable sont prises en charge pour l’instant.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-200">Only named instances of a variable font are supported at this time.</span></span>
-   <span data-ttu-id="0e0c0-201">Seules les polices variables qui utilisent des données de plan de glyphe TrueType (pas les contours CFF) sont prises en charge pour l’instant.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-201">Only variable fonts that use TrueType glyph outline data (not CFF outlines) are supported at this time.</span></span> 
-   <span data-ttu-id="0e0c0-202">Pour les polices qui utilisent des axes de variations de conception autres que le poids, l’étirement ou le style, les instances nommées sont projetées dans le modèle de famille WSS, ce qui peut entraîner l’affichage de certaines instances nommées en tant que familles distinctes (comme dans le passé pour les polices non variables).</span><span class="sxs-lookup"><span data-stu-id="0e0c0-202">For fonts that use axes of design variation other than weight, stretch or style, named instances will get projected into the WSS family model, which may result in some named instances appearing as separate families (as would happen in the past for non-variable fonts).</span></span> <span data-ttu-id="0e0c0-203">Pour prendre cela en charge, les polices variables doivent avoir une table « STAT » qui comprend des sous-tables de valeurs d’axe appropriées.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-203">To support this, variable fonts must have a ‘STAT’ table that includes appropriate axis-value subtables.</span></span>
-   <span data-ttu-id="0e0c0-204">Les instances nommées de polices de variable sont prises en charge dans les API DirectWrite, mais si certaines opérations sont effectuées dans des implémentations plus anciennes qui ne prennent pas en charge les polices variables, elles peuvent produire des résultats incorrects.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-204">Named instances of variable fonts are supported in DirectWrite APIs, but if certain operations are performed in older implementations that do not support variable fonts, those may produce incorrect results.</span></span> 
-   <span data-ttu-id="0e0c0-205">Certaines API DirectWrite utilisent l' [**\_ \_ épaisseur**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight)de police DWRITE, l' [**\_ \_ étirement de police DWRITE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) et les énumérations de [**\_ \_ style de police DWRITE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_style) pour spécifier les attributs de poids, d’étirement et de style lors de la sélection des visages.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-205">Certain DirectWrite APIs use the [**DWRITE\_FONT\_WEIGHT**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight), [**DWRITE\_FONT\_STRETCH**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) and [**DWRITE\_FONT\_STYLE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_style) enumerations for specifying weight, stretch and style attributes when selecting faces.</span></span> <span data-ttu-id="0e0c0-206">Si une police variable utilise des axes de variation correspondants mais possède de nombreuses instances nommées qui nécessitent une granularité plus fine, toutes les instances nommées ne peuvent pas être sélectionnées dans ces API.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-206">If a variable font uses corresponding variation axes but has many named instances that require finer granularity, not all of the named instances will be selectable in those APIs.</span></span>

<span data-ttu-id="0e0c0-207">Les polices de variable OpenType conformes à ces exigences peuvent être installées à partir du shell Windows comme d’autres polices OpenType, et peuvent également être utilisées dans des jeux de polices personnalisés créés par une application.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-207">OpenType variable fonts that conform to these requirements can be installed from the Windows shell just like other OpenType fonts, and can also be used in custom font sets created by an app.</span></span>  

<span data-ttu-id="0e0c0-208">Lorsqu’elles sont installées dans le système, toutes les instances nommées d’une police de variable sont incluses dans le jeu de polices retourné par l’appel de la méthode IDWriteFontFamily3 ::[**GetSystemFontSet**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getsystemfontset) .</span><span class="sxs-lookup"><span data-stu-id="0e0c0-208">When installed in the system, all named instances of a variable font will be included in the font set returned by calling the IDWriteFontFamily3::[**GetSystemFontSet**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getsystemfontset) method.</span></span> <span data-ttu-id="0e0c0-209">Notez qu’un jeu de polices est une liste plate sans hiérarchie de regroupement de famille, mais chaque élément du jeu possède une propriété de nom de famille basée sur le modèle de famille WSS.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-209">Note that a font set is a flat list without a family-grouping hierarchy, but each item in the set has a family-name property based on the WSS family model.</span></span> <span data-ttu-id="0e0c0-210">Le jeu de polices peut être filtré pour une instance nommée de police variable particulière à l’aide des méthodes [**IDWriteFontSet :: GetMatchingFonts**](idwritefontset-getmatchingfonts-overload.md) .</span><span class="sxs-lookup"><span data-stu-id="0e0c0-210">The font set can be filtered for a particular variable-font named instance using the [**IDWriteFontSet::GetMatchingFonts**](idwritefontset-getmatchingfonts-overload.md) methods.</span></span> <span data-ttu-id="0e0c0-211">Toutefois, si vous utilisez la surcharge **GetMatchingFonts** qui prend un FamilyName, le familyName spécifié doit utiliser le nom conforme au modèle de famille de polices WSS.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-211">If using the **GetMatchingFonts** overload that takes a familyName, though, the familyName specified must use the name conforming to the WSS font-family model.</span></span> <span data-ttu-id="0e0c0-212">La liste complète des noms de famille compatibles WSS qui se trouvent dans un jeu de polices peut être obtenue à l’aide des méthodes [**IDWriteFontSet :: GetPropertyValues**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontset-getpropertyvalues(dwrite_font_property_id_idwritestringlist)) à l’aide du \_ nom de \_ famille ID de propriété de police DWRITE \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="0e0c0-212">The complete list of WSS-compatible family names occurring in a font set can be obtained using the [**IDWriteFontSet::GetPropertyValues**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontset-getpropertyvalues(dwrite_font_property_id_idwritestringlist)) methods using DWRITE\_FONT\_PROPERTY\_ID\_FAMILY\_NAME.</span></span>  

<span data-ttu-id="0e0c0-213">De même, toutes les instances nommées d’une police de variable sont représentées dans la collection de polices retournée par la méthode IDWriteFactory ::[**GetSystemFontCollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection) .</span><span class="sxs-lookup"><span data-stu-id="0e0c0-213">Similarly, all of the named instances of a variable font will be represented in the font collection returned by the IDWriteFactory::[**GetSystemFontCollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection) method.</span></span> <span data-ttu-id="0e0c0-214">Étant donné que les éléments d’une collection de polices sont des familles de polices basées sur le modèle WSS, les instances nommées d’une police de variable peuvent être représentées dans une collection en tant que membres de deux familles de polices ou plus.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-214">Because the elements of a font collection are font families based on the WSS model, the named instances of a variable font may be represented in a collection as members of two or more font families.</span></span> <span data-ttu-id="0e0c0-215">Si la méthode [**IDWriteFontCollection :: FindFamilyName**](/windows/win32/api/dwrite/nf-dwrite-idwritefontcollection-findfamilyname) est utilisée, le paramètre familyName doit être un nom de famille compatible WSS.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-215">If the [**IDWriteFontCollection::FindFamilyName**](/windows/win32/api/dwrite/nf-dwrite-idwritefontcollection-findfamilyname) method is used, the familyName parameter must be a WSS-compatible family name.</span></span> <span data-ttu-id="0e0c0-216">Pour rechercher tous les noms de famille compatibles WSS à partir d’une collection de polices, une application peut parcourir chaque famille et appeler [**IDWriteFontFamily :: GetFamilyNames**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfamily-getfamilynames), bien qu’il soit plus facile d’obtenir un jeu de polices correspondant et d’utiliser la méthode [**GetPropertyValues**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontset-getpropertyvalues(dwrite_font_property_id_idwritestringlist)) comme décrit ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-216">To find all of the WSS-compatible family names from a font collection, an app can loop through each family and call [**IDWriteFontFamily::GetFamilyNames**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfamily-getfamilynames), though it may be easier to obtain a corresponding font set and use the [**GetPropertyValues**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontset-getpropertyvalues(dwrite_font_property_id_idwritestringlist)) method as described above.</span></span> 

<span data-ttu-id="0e0c0-217">Lorsque vous utilisez des polices personnalisées, les différentes approches décrites dans la rubrique [jeux de polices personnalisées](custom-font-sets-win10.md) peuvent être utilisées pour créer un jeu de polices.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-217">When working with custom fonts, various approaches described in the [Custom Font Sets](custom-font-sets-win10.md) topic can be used to create a font set.</span></span> <span data-ttu-id="0e0c0-218">Pour ajouter une police variable à un jeu de polices personnalisé, il est recommandé d’utiliser la méthode [**IDWriteFontSetBuilder1 :: AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) , car elle prend en charge les polices variables et ajoute toutes les instances nommées d’une police variable en un seul appel.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-218">To add a variable font to a custom font set, the [**IDWriteFontSetBuilder1::AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) method is recommended since it supports variable fonts and will add all of the named instances of a variable font in a single call.</span></span> <span data-ttu-id="0e0c0-219">Pour le moment, il n’existe aucun moyen d’ajouter des instances nommées individuelles d’une police de variable personnalisée à un jeu de polices à l’aide des méthodes [**IDWriteFontSetBuilder :: AddFontFaceReference**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) , car il n’existe aucun moyen de créer une référence de type de police qui spécifie les instances nommées d’un fichier de police de variable.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-219">There is no way at this time to add individual named instances of a custom variable font to a font set using the [**IDWriteFontSetBuilder::AddFontFaceReference**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) methods since there is no way to create a font face reference specifying which of the named instances from a variable font file is intended.</span></span> <span data-ttu-id="0e0c0-220">Cela signifie qu’il n’existe actuellement aucun moyen d’ajouter des instances nommées d’une police personnalisée à un jeu de polices personnalisé avec des propriétés personnalisées assignées.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-220">This means that currently there is no way to add named instances of a custom font to a custom font set with custom properties assigned.</span></span> <span data-ttu-id="0e0c0-221">Cela signifie qu’à son tour, les polices de variables personnalisées ne peuvent pas être facilement utilisées conjointement avec les API DirectWrite pour les polices distantes.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-221">That in turn means that custom variable fonts currently cannot easily be used in conjunction with DirectWrite APIs for remote fonts.</span></span> <span data-ttu-id="0e0c0-222">Si des instances nommées d’une police de variable sont incluses dans un jeu de polices système, toutefois, les références de type de police pour chaque instance nommée existent déjà, et elles peuvent être ajoutées aux jeux de polices personnalisés, notamment avec l’utilisation de valeurs de propriétés personnalisées.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-222">If named instances of a variable font are included in a system font set, however, font face references for each named instance will already exist, and these can be added to custom font sets, including with the use of custom property values.</span></span> <span data-ttu-id="0e0c0-223">Pour plus d’informations, consultez la rubrique jeux de polices personnalisés.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-223">See the Custom Font Sets topic for more details.</span></span> 

<span data-ttu-id="0e0c0-224">Lorsque vous travaillez avec des polices variables, les énumérations d' [**\_ \_ étirement**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) de police DWRITE et de police DWRITE sont étroitement connectées aux axes de variation de poids et de largeur définis dans la spécification OpenType, mais ne sont pas identiques. [**\_ \_**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight)</span><span class="sxs-lookup"><span data-stu-id="0e0c0-224">When working with variable fonts, the DirectWrite [**DWRITE\_FONT\_WEIGHT**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight) and [**DWRITE\_FONT\_STRETCH**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) enumerations are closely connected to the weight and width variation axes defined in the OpenType specification, but are not the same.</span></span> <span data-ttu-id="0e0c0-225">Tout d’abord, l’échelle numérique d’un axe de variation prend toujours en charge les valeurs fractionnaires, tandis que fontWeight et fontStretch utilisent des entiers.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-225">First, the numeric scale for any variation axis always supports fractional values, while fontWeight and fontStretch use integers.</span></span> <span data-ttu-id="0e0c0-226">L’échelle de l’axe de poids OpenType utilise des valeurs comprises entre 1 et 1000, qui sont également prises en charge par fontWeight.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-226">The OpenType weight axis scale uses values ranging from 1 to 1000, which is also supported by fontWeight.</span></span> <span data-ttu-id="0e0c0-227">Par conséquent, le changement d’une valeur d’axe de poids de variation en fontWeight est relativement mineur : l’fontWeight signalé pour une instance nommée peut être arrondie à partir de la valeur exacte utilisée pour définir l’instance nommée dans la police.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-227">Thus the change from a variation weight axis value to fontWeight is relatively minor: the fontWeight reported for a named instance may be rounded from the precise value used to define the named instance within the font.</span></span> <span data-ttu-id="0e0c0-228">La distinction entre DirectWrite fontStretch et l’échelle de l’axe de largeur OpenType est supérieure : DirectWrite utilise des valeurs comprises entre 1 et 9, en suivant les valeurs [usWidthClass](/typography/opentype/spec/os2#uswidthclass) de la table du système d’exploitation/2 OpenType, tandis que l’échelle de l’axe de la largeur OpenType utilise des valeurs positives représentant un pourcentage de la largeur normale.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-228">The distinction between DirectWrite fontStretch and the OpenType width axis scale is greater: DirectWrite uses values from 1 to 9, following the [usWidthClass](/typography/opentype/spec/os2#uswidthclass) values of the OpenType OS/2 table, while the OpenType width axis scale uses positive values representing a percentage of normal width.</span></span> <span data-ttu-id="0e0c0-229">La documentation [usWidthClass](/typography/opentype/spec/os2#uswidthclass) dans la spécification OpenType fournit un mappage entre les valeurs de 1 à 9 et les pourcentages de valeurs normales.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-229">The [usWidthClass](/typography/opentype/spec/os2#uswidthclass) documentation in the OpenType specification provides a mapping between values 1 to 9 and percent-of-normal values.</span></span> <span data-ttu-id="0e0c0-230">La valeur fontStretch signalée pour une instance nommée peut impliquer l’arrondi lors de la conversion des valeurs de l’axe de largeur.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-230">The fontStretch value reported for a named instance may involve rounding when converting from width axis values.</span></span> 

<span data-ttu-id="0e0c0-231">Lorsque vous créez un [**IDWriteTextFormat**](/windows/win32/api/dwrite/nn-dwrite-idwritetextformat), vous devez spécifier une collection de polices et des propriétés de police compatibles WSS (nom de famille, poids, stretch et style).</span><span class="sxs-lookup"><span data-stu-id="0e0c0-231">When creating an [**IDWriteTextFormat**](/windows/win32/api/dwrite/nn-dwrite-idwritetextformat), a font collection and WSS-compatible font properties (family name, weight, stretch and style) must be specified.</span></span> <span data-ttu-id="0e0c0-232">Cela s’applique également lors de la définition des propriétés de mise en forme des polices sur une plage de texte [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) .</span><span class="sxs-lookup"><span data-stu-id="0e0c0-232">This also applies when setting font formatting properties on a [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) text range.</span></span> <span data-ttu-id="0e0c0-233">Les propriétés peuvent être obtenues à partir d’un objet [**IDWriteFontFace3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontface3) ou d’objets [**IDWriteFont**](/windows/win32/api/dwrite/nn-dwrite-idwritefont) et [**IDWriteFontFamily**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfamily) qui représentent une instance nommée particulière.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-233">The properties can be obtained from an [**IDWriteFontFace3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontface3) object or from [**IDWriteFont**](/windows/win32/api/dwrite/nn-dwrite-idwritefont) and [**IDWriteFontFamily**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfamily) objects that represent a particular named instance.</span></span> <span data-ttu-id="0e0c0-234">Comme observé ci-dessus, les valeurs retournées par les méthodes GetWeight et GetStretch peuvent être des approximations arrondies pour les valeurs d’axe réelles utilisées pour définir l’instance nommée, mais DirectWrite mappera la combinaison de propriétés à l’instance nommée souhaitée.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-234">As observed above, the values returned by the GetWeight and GetStretch methods may be rounded approximations for the actual axis values used to define the named instance, but DirectWrite will map the combination of properties back to the desired named instance.</span></span> 

<span data-ttu-id="0e0c0-235">De même, si une application utilise [**IDWriteFontFallbackBuilder**](idwritefontfallbackbuilder.md) pour créer des données de police de secours personnalisées, des familles sont spécifiées pour les mappages de plage de caractères à l’aide de noms de famille compatibles WSS.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-235">Similarly, if an app uses [**IDWriteFontFallbackBuilder**](idwritefontfallbackbuilder.md) to create custom font fallback data, families are specified for character-range mappings using WSS-compatible family names.</span></span> <span data-ttu-id="0e0c0-236">La police de secours dans DirectWrite est basée sur les familles avec DirectWrite en sélectionnant une variante au sein d’une famille de secours qui correspond à la correspondance la plus proche pour la variante de la famille de départ.</span><span class="sxs-lookup"><span data-stu-id="0e0c0-236">Font fallback within DirectWrite is based on families with DirectWrite selecting a variant within a fallback family that is a nearest match for the variant of the starting family.</span></span> <span data-ttu-id="0e0c0-237">Pour les variantes qui impliquent des dimensions autres que le poids, l’étirement et le style, DirectWrite ne peut actuellement pas sélectionner de telles variantes au sein d’une famille de secours, à moins que des données de secours personnalisées aient été créées spécifiquement pour fournir des mappages de secours pour les familles qui ont des attributs non-WSS particuliers, tels que des variantes de taille optique «</span><span class="sxs-lookup"><span data-stu-id="0e0c0-237">For variants that involve dimensions other than weight, stretch and style, DirectWrite currently would not be able to select such variants within a fallback family unless custom fallback data were created specifically to provide fallback mappings for families that have particular non-WSS attributes, such as “Caption” optical size variants.</span></span>

 

 