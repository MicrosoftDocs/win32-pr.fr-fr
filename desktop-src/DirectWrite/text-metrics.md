---
title: Mesures de texte
description: Pour faciliter la mise en page, la sélection personnalisée des polices et d’autres opérations gourmandes en ressources, à compter de Windows 8, DirectWrite dispose d’un certain nombre de nouvelles API pour exprimer toutes les informations relatives aux polices dont vous pouvez avoir besoin pour développer des applications de texte enrichi.
ms.assetid: 9df8c675-6f4d-4de7-916e-7dc51f5f04aa
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 73647ae4521b23afb399a4c66c8b25cdc46ba1b5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "106510903"
---
# <a name="text-metrics"></a><span data-ttu-id="2c2df-103">Mesures de texte</span><span class="sxs-lookup"><span data-stu-id="2c2df-103">Text Metrics</span></span>

<span data-ttu-id="2c2df-104">Pour faciliter la mise en page, la sélection personnalisée des polices et d’autres opérations gourmandes en ressources, à compter de Windows 8, [DirectWrite](direct-write-portal.md) dispose d’un certain nombre de nouvelles API pour exprimer toutes les informations relatives aux polices dont vous pouvez avoir besoin pour développer des applications de texte enrichi.</span><span class="sxs-lookup"><span data-stu-id="2c2df-104">In order to assist your layout, custom font selection, and other metric intensive operations, starting in Windows 8, [DirectWrite](direct-write-portal.md) has a number of new APIs to express all the info about fonts that you might require to develop rich text apps.</span></span>

## <a name="panose"></a><span data-ttu-id="2c2df-105">PANOSE</span><span class="sxs-lookup"><span data-stu-id="2c2df-105">PANOSE</span></span>

<span data-ttu-id="2c2df-106">Panose est un système de classification visuelle permettant d’identifier les polices.</span><span class="sxs-lookup"><span data-stu-id="2c2df-106">PANOSE is a visual classification system for identifying typefaces.</span></span> <span data-ttu-id="2c2df-107">La classification Panose contient des informations sur la famille, le style Serif, le poids, la proportion, le contraste, le trait, le style ARM, la hauteur X, etc. Ces informations décrivent le style visuel de la police.</span><span class="sxs-lookup"><span data-stu-id="2c2df-107">The PANOSE classification contains info on the family, serif style, weight, proportion, contrast, stroke, arm style, X-height, etc. This info describes the visual style of the font.</span></span> <span data-ttu-id="2c2df-108">Ces informations sont importantes car les polices avec des valeurs Panose similaires semblent similaires.</span><span class="sxs-lookup"><span data-stu-id="2c2df-108">This info is important because fonts with similar PANOSE values look similar.</span></span> <span data-ttu-id="2c2df-109">Cela est très utile dans les situations où une police n’est pas disponible et que l’application doit revenir à une police disponible.</span><span class="sxs-lookup"><span data-stu-id="2c2df-109">This is very useful in situations where a font isn’t available and the app needs to fall back to a font that’s available.</span></span> <span data-ttu-id="2c2df-110">La comparaison de valeurs Panose pour les polices vous permet de choisir une police similaire visuellement à la police d’origine.</span><span class="sxs-lookup"><span data-stu-id="2c2df-110">Comparing PANOSE values for fonts allows you to choose a font that’s similar visually to the original font.</span></span>

<span data-ttu-id="2c2df-111">Pour accéder aux informations Panose pour une police, utilisez la méthode [**GetPanose**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getpanose) sur les interfaces [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) et [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) .</span><span class="sxs-lookup"><span data-stu-id="2c2df-111">In order to access the PANOSE info for a font, use the [**GetPanose**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getpanose) method on the [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) and [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) interfaces.</span></span> <span data-ttu-id="2c2df-112">Cette méthode retourne une énumération [**\_ Panose DWRITE**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_panose) qui contient toutes les informations Panose pour cette police.</span><span class="sxs-lookup"><span data-stu-id="2c2df-112">This method returns a [**DWRITE\_PANOSE**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_panose) enumeration that contains all of the PANOSE info for that font.</span></span>

## <a name="additional-metrics"></a><span data-ttu-id="2c2df-113">Métriques supplémentaires</span><span class="sxs-lookup"><span data-stu-id="2c2df-113">Additional Metrics</span></span>

<span data-ttu-id="2c2df-114">À compter de Windows 8, l’API [DirectWrite](direct-write-portal.md) prend également en charge un certain nombre de nouvelles métriques afin d’exprimer des informations utiles sur les polices pour votre application.</span><span class="sxs-lookup"><span data-stu-id="2c2df-114">Starting in Windows 8, the [DirectWrite](direct-write-portal.md) API also supports a number of new metrics in order to express useful info about the fonts to your app.</span></span> <span data-ttu-id="2c2df-115">Ces nouvelles métriques incluent ces informations.</span><span class="sxs-lookup"><span data-stu-id="2c2df-115">These new metrics include this info.</span></span>

-   <span data-ttu-id="2c2df-116">Métriques du cadre englobant des glyphes gauche, droit, supérieur et inférieur.</span><span class="sxs-lookup"><span data-stu-id="2c2df-116">Left, Right, Top, and Bottom glyph bounding box metrics.</span></span>
-   <span data-ttu-id="2c2df-117">Positionnement X et Y pour les éléments en exposant et en indice.</span><span class="sxs-lookup"><span data-stu-id="2c2df-117">X and Y positioning for superscript and subscript elements.</span></span>
-   <span data-ttu-id="2c2df-118">Informations de mise à l’échelle X et Y pour les éléments en exposant et en indice.</span><span class="sxs-lookup"><span data-stu-id="2c2df-118">X and Y scaling info for superscript and subscript elements.</span></span>
-   <span data-ttu-id="2c2df-119">Indique si la police a des métriques typographiques.</span><span class="sxs-lookup"><span data-stu-id="2c2df-119">Whether or not the font has typographic metrics.</span></span>

<span data-ttu-id="2c2df-120">Ces informations sont toutes disponibles via la nouvelle méthode [**GetMetrics**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getmetrics) sur les interfaces [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) et [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) .</span><span class="sxs-lookup"><span data-stu-id="2c2df-120">This info is all available through the new [**GetMetrics**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getmetrics) method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) and [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) interfaces.</span></span> <span data-ttu-id="2c2df-121">Cette méthode retourne une structure [**DWRITE \_ font \_ METRICS1**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_font_metrics1) qui contient toutes ces informations.</span><span class="sxs-lookup"><span data-stu-id="2c2df-121">This method returns a [**DWRITE\_FONT\_METRICS1**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_font_metrics1) structure that contains all this info.</span></span>

## <a name="caret-metrics"></a><span data-ttu-id="2c2df-122">Mesures du signe insertion</span><span class="sxs-lookup"><span data-stu-id="2c2df-122">Caret Metrics</span></span>

<span data-ttu-id="2c2df-123">Pour créer des applications de modification de texte, vous devez accéder aux informations sur la façon de dessiner le signe insertion qui parcourt le texte.</span><span class="sxs-lookup"><span data-stu-id="2c2df-123">To create text editing apps you need access to info about how to draw the caret that navigates through the text.</span></span> <span data-ttu-id="2c2df-124">À compter de Windows 8, [DirectWrite](direct-write-portal.md) fournit la méthode [**GetCaretMetrics**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefontface1-getcaretmetrics) sur les interfaces [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) et [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) pour ce scénario.</span><span class="sxs-lookup"><span data-stu-id="2c2df-124">Starting in Windows 8, [DirectWrite](direct-write-portal.md) provides the [**GetCaretMetrics**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefontface1-getcaretmetrics) method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) and [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) interfaces for this scenario.</span></span> <span data-ttu-id="2c2df-125">**GetCaretMetrics** retourne une énumération de [**\_ \_ mesures du signe insertion DWRITE**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_caret_metrics) qui contient des informations sur la pente et le décalage du signe insertion le long de la ligne de base.</span><span class="sxs-lookup"><span data-stu-id="2c2df-125">**GetCaretMetrics** returns a [**DWRITE\_CARET\_METRICS**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_caret_metrics) enumeration which contains info about the slope and offset for the caret along the baseline.</span></span>

<span data-ttu-id="2c2df-126">Ces informations sont particulièrement utiles si vous souhaitez être en mesure de faire en sorte que la pente du signe insertion soit appropriée avec du texte en italique.</span><span class="sxs-lookup"><span data-stu-id="2c2df-126">This info is specifically helpful if you want to be able to have their caret slope appropriately with italic text.</span></span>

## <a name="monospaced-discoverability"></a><span data-ttu-id="2c2df-127">Détectabilité à espacement fixe</span><span class="sxs-lookup"><span data-stu-id="2c2df-127">Monospaced Discoverability</span></span>

<span data-ttu-id="2c2df-128">Les applications qui permettent à vos utilisateurs d’écrire du code informatique utilisent souvent des polices à espacement fixe à la place de polices plus traditionnelles.</span><span class="sxs-lookup"><span data-stu-id="2c2df-128">Apps that allow your users to write computer code often use monospaced fonts in place of more traditional fonts.</span></span> <span data-ttu-id="2c2df-129">Vous pouvez ainsi avoir davantage de contrôle sur la sélection des polices dans les applications liées au développement. [DirectWrite](direct-write-portal.md) exprime si une police est à espacement fixe ou non à l’aide de l’API.</span><span class="sxs-lookup"><span data-stu-id="2c2df-129">So you can have more control over font selection in apps related to development, [DirectWrite](direct-write-portal.md) expresses whether or not a font is monospaced through the API.</span></span> <span data-ttu-id="2c2df-130">La méthode [**IsMonospacedFont**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-ismonospacedfont) sur l’interface [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) retourne une valeur booléenne qui indique si la police est à espacement fixe.</span><span class="sxs-lookup"><span data-stu-id="2c2df-130">The [**IsMonospacedFont**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-ismonospacedfont) method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) interface returns a Boolean that indicates whether or not the font is monospaced.</span></span>

## <a name="font-name-matching"></a><span data-ttu-id="2c2df-131">Correspondance de nom de police</span><span class="sxs-lookup"><span data-stu-id="2c2df-131">Font Name Matching</span></span>

<span data-ttu-id="2c2df-132">Les applications de texte enrichi comme les lecteurs PDF doivent être en mesure de faire correspondre les polices de leur contenu avec les polices du système. vous devez donc accéder aux noms complets des polices dans plusieurs formats.</span><span class="sxs-lookup"><span data-stu-id="2c2df-132">Rich text apps like PDF readers need to be able to match fonts in their content to fonts on the system, need access to the full names of fonts in multiple formats.</span></span> <span data-ttu-id="2c2df-133">Vous pouvez ainsi mieux faire correspondre les polices, [DirectWrite](direct-write-portal.md) contient une énumération qui exprime les informations d’attribution de noms complètes sur une police dans de nombreux formats.</span><span class="sxs-lookup"><span data-stu-id="2c2df-133">So you can better match fonts, [DirectWrite](direct-write-portal.md) contains an enumeration that expresses full naming info about a font in many formats.</span></span>

<span data-ttu-id="2c2df-134">vous utilisez l’énumération de l' [**\_ ID de \_ chaîne \_ d’information DWRITE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_informational_string_id) pour obtenir le nom complet, le nom PostScript et le nom CID PostScript de toute police sur le système.</span><span class="sxs-lookup"><span data-stu-id="2c2df-134">you use the [**DWRITE\_INFORMATIONAL\_STRING\_ID**](/windows/win32/api/dwrite/ne-dwrite-dwrite_informational_string_id) enumeration to get the full name, PostScript name, and PostScript CID name of any font on the system.</span></span> <span data-ttu-id="2c2df-135">Ces informations sont utiles lorsque vous devez faire correspondre les polices de votre application aux polices appropriées sur le système local.</span><span class="sxs-lookup"><span data-stu-id="2c2df-135">This info is valuable when you need to match fonts in your app to appropriate fonts on the local system.</span></span>

## <a name="glyph-advances"></a><span data-ttu-id="2c2df-136">Avances de glyphe</span><span class="sxs-lookup"><span data-stu-id="2c2df-136">Glyph Advances</span></span>

<span data-ttu-id="2c2df-137">La méthode **GetGlyphAdvances** sur les interfaces [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) et [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) prend le nombre de glyphes et les index dont vous avez besoin pour obtenir des informations sur, puis retourne les avances pour les glyphes en question.</span><span class="sxs-lookup"><span data-stu-id="2c2df-137">The **GetGlyphAdvances** method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) and [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) interfaces takes in the glyph count and indices that you need advances info about and then returns the advances for the glyphs in question.</span></span>

## <a name="unicode-ranges"></a><span data-ttu-id="2c2df-138">Plages Unicode</span><span class="sxs-lookup"><span data-stu-id="2c2df-138">Unicode Ranges</span></span>

<span data-ttu-id="2c2df-139">Les applications qui souhaitent gérer leur propre sélection de police doivent accéder aux plages Unicode prises en charge par la police.</span><span class="sxs-lookup"><span data-stu-id="2c2df-139">Apps that want to handle their own font selection need access to the Unicode ranges that are supported by the font.</span></span> <span data-ttu-id="2c2df-140">De cette façon, si un point de contenu Unicode n’est pas pris en charge par la police, l’application peut choisir une police appropriée qui contient ce glyphe.</span><span class="sxs-lookup"><span data-stu-id="2c2df-140">This way, if a Unicode codepoint isn’t supported by the font, the app can choose an appropriate font that contains that glyph.</span></span> <span data-ttu-id="2c2df-141">Sans ces informations, l’application peut utiliser une police qui ne contient pas tous les glyphes nécessaires pour afficher les informations présentes.</span><span class="sxs-lookup"><span data-stu-id="2c2df-141">Without this info, the app may use a font that doesn’t contain all the glyphs that are necessary to display the info present.</span></span>

<span data-ttu-id="2c2df-142">La méthode [**GetUnicodeRanges**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getunicoderanges) sur les interfaces [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) et [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) prend le nombre maximal de plages transmises à partir du client et retourne les plages réelles prises en charge par la police.</span><span class="sxs-lookup"><span data-stu-id="2c2df-142">The [**GetUnicodeRanges**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getunicoderanges) method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) and [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) interfaces takes in the maximum number of ranges passed in from the client, and returns the actual ranges supported by the font.</span></span>

## <a name="eudc-font-collection"></a><span data-ttu-id="2c2df-143">Collection de polices EUDC</span><span class="sxs-lookup"><span data-stu-id="2c2df-143">EUDC Font Collection</span></span>

<span data-ttu-id="2c2df-144">Utilisez la méthode [**GetEudcFontCollection**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefactory1-geteudcfontcollection) sur l’interface [**IDWriteFactory1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefactory1) pour accéder à la collection de polices EUDC.</span><span class="sxs-lookup"><span data-stu-id="2c2df-144">Use the [**GetEudcFontCollection**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefactory1-geteudcfontcollection) method on the [**IDWriteFactory1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefactory1) interface access the EUDC font collection.</span></span> <span data-ttu-id="2c2df-145">Cette méthode fonctionne de la même façon que [**GetSystemFontCollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection), mais retourne à la place un pointeur vers une collection de polices EUDC.</span><span class="sxs-lookup"><span data-stu-id="2c2df-145">This method works in the same way as [**GetSystemFontCollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection), but instead returns a pointer to an EUDC font collection.</span></span>

 

 