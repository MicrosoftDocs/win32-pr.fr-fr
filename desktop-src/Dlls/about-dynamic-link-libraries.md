---
description: La liaison dynamique permet à un module d’inclure uniquement les informations nécessaires pour localiser une fonction DLL exportée au moment du chargement ou de l’exécution.
ms.assetid: df2a8e4c-7ad0-46ea-9643-1528a9ea1503
title: À propos des bibliothèques Dynamic-Link
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2bdb24048e17e9164aaf39d0ab337aea33576c95
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103863374"
---
# <a name="about-dynamic-link-libraries"></a><span data-ttu-id="2679e-103">À propos des bibliothèques Dynamic-Link</span><span class="sxs-lookup"><span data-stu-id="2679e-103">About Dynamic-Link Libraries</span></span>

<span data-ttu-id="2679e-104">La liaison dynamique permet à un module d’inclure uniquement les informations nécessaires pour localiser une fonction DLL exportée au moment du chargement ou de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="2679e-104">Dynamic linking allows a module to include only the information needed to locate an exported DLL function at load time or run time.</span></span> <span data-ttu-id="2679e-105">La liaison dynamique diffère de la liaison statique plus familière, dans laquelle l’éditeur de liens copie le code d’une fonction de bibliothèque dans chaque module qui l’appelle.</span><span class="sxs-lookup"><span data-stu-id="2679e-105">Dynamic linking differs from the more familiar static linking, in which the linker copies a library function's code into each module that calls it.</span></span>

## <a name="types-of-dynamic-linking"></a><span data-ttu-id="2679e-106">Types de liaison dynamique</span><span class="sxs-lookup"><span data-stu-id="2679e-106">Types of Dynamic Linking</span></span>

<span data-ttu-id="2679e-107">Il existe deux méthodes pour appeler une fonction dans une DLL :</span><span class="sxs-lookup"><span data-stu-id="2679e-107">There are two methods for calling a function in a DLL:</span></span>

-   <span data-ttu-id="2679e-108">Dans la *liaison dynamique au moment du chargement*, un module effectue des appels explicites aux fonctions dll exportées comme s’il s’agissait de fonctions locales.</span><span class="sxs-lookup"><span data-stu-id="2679e-108">In *load-time dynamic linking*, a module makes explicit calls to exported DLL functions as if they were local functions.</span></span> <span data-ttu-id="2679e-109">Pour ce faire, vous devez lier le module à la bibliothèque d’importation pour la DLL qui contient les fonctions.</span><span class="sxs-lookup"><span data-stu-id="2679e-109">This requires you to link the module with the import library for the DLL that contains the functions.</span></span> <span data-ttu-id="2679e-110">Une bibliothèque d’importation fournit le système avec les informations nécessaires pour charger la DLL et rechercher les fonctions DLL exportées lorsque l’application est chargée.</span><span class="sxs-lookup"><span data-stu-id="2679e-110">An import library supplies the system with the information needed to load the DLL and locate the exported DLL functions when the application is loaded.</span></span>
-   <span data-ttu-id="2679e-111">Dans la *liaison dynamique au moment* de l’exécution, un module utilise la fonction [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) ou [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) pour charger la dll au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="2679e-111">In *run-time dynamic linking*, a module uses the [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) or [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) function to load the DLL at run time.</span></span> <span data-ttu-id="2679e-112">Une fois la DLL chargée, le module appelle la fonction [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) pour récupérer les adresses des fonctions dll exportées.</span><span class="sxs-lookup"><span data-stu-id="2679e-112">After the DLL is loaded, the module calls the [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) function to get the addresses of the exported DLL functions.</span></span> <span data-ttu-id="2679e-113">Le module appelle les fonctions DLL exportées à l’aide des pointeurs de fonction retournés par **GetProcAddress**.</span><span class="sxs-lookup"><span data-stu-id="2679e-113">The module calls the exported DLL functions using the function pointers returned by **GetProcAddress**.</span></span> <span data-ttu-id="2679e-114">Cela élimine la nécessité d’une bibliothèque d’importation.</span><span class="sxs-lookup"><span data-stu-id="2679e-114">This eliminates the need for an import library.</span></span>

## <a name="dlls-and-memory-management"></a><span data-ttu-id="2679e-115">Gestion des dll et de la mémoire</span><span class="sxs-lookup"><span data-stu-id="2679e-115">DLLs and Memory Management</span></span>

<span data-ttu-id="2679e-116">Chaque processus qui charge la DLL le mappe dans son espace d’adressage virtuel.</span><span class="sxs-lookup"><span data-stu-id="2679e-116">Every process that loads the DLL maps it into its virtual address space.</span></span> <span data-ttu-id="2679e-117">Une fois que le processus a chargé la DLL dans son adresse virtuelle, elle peut appeler les fonctions DLL exportées.</span><span class="sxs-lookup"><span data-stu-id="2679e-117">After the process loads the DLL into its virtual address, it can call the exported DLL functions.</span></span>

<span data-ttu-id="2679e-118">Le système gère un nombre de références par processus pour chaque DLL.</span><span class="sxs-lookup"><span data-stu-id="2679e-118">The system maintains a per-process reference count for each DLL.</span></span> <span data-ttu-id="2679e-119">Quand un thread charge la DLL, le nombre de références est incrémenté d’une unité.</span><span class="sxs-lookup"><span data-stu-id="2679e-119">When a thread loads the DLL, the reference count is incremented by one.</span></span> <span data-ttu-id="2679e-120">Lorsque le processus se termine, ou lorsque le nombre de références devient zéro (liaison dynamique au moment de l’exécution uniquement), la DLL est déchargée de l’espace d’adressage virtuel du processus.</span><span class="sxs-lookup"><span data-stu-id="2679e-120">When the process terminates, or when the reference count becomes zero (run-time dynamic linking only), the DLL is unloaded from the virtual address space of the process.</span></span>

<span data-ttu-id="2679e-121">À l’instar de toute autre fonction, une fonction DLL exportée s’exécute dans le contexte du thread qui l’appelle.</span><span class="sxs-lookup"><span data-stu-id="2679e-121">Like any other function, an exported DLL function runs in the context of the thread that calls it.</span></span> <span data-ttu-id="2679e-122">Par conséquent, les conditions suivantes s’appliquent :</span><span class="sxs-lookup"><span data-stu-id="2679e-122">Therefore, the following conditions apply:</span></span>

-   <span data-ttu-id="2679e-123">Les threads du processus qui a appelé la DLL peuvent utiliser des handles ouverts par une fonction DLL.</span><span class="sxs-lookup"><span data-stu-id="2679e-123">The threads of the process that called the DLL can use handles opened by a DLL function.</span></span> <span data-ttu-id="2679e-124">De même, les handles ouverts par n’importe quel thread du processus appelant peuvent être utilisés dans la fonction DLL.</span><span class="sxs-lookup"><span data-stu-id="2679e-124">Similarly, handles opened by any thread of the calling process can be used in the DLL function.</span></span>
-   <span data-ttu-id="2679e-125">La DLL utilise la pile du thread appelant et l’espace d’adressage virtuel du processus appelant.</span><span class="sxs-lookup"><span data-stu-id="2679e-125">The DLL uses the stack of the calling thread and the virtual address space of the calling process.</span></span>
-   <span data-ttu-id="2679e-126">La DLL alloue de la mémoire à partir de l’espace d’adressage virtuel du processus appelant.</span><span class="sxs-lookup"><span data-stu-id="2679e-126">The DLL allocates memory from the virtual address space of the calling process.</span></span>

<span data-ttu-id="2679e-127">Pour plus d’informations sur les dll, consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="2679e-127">For more information about DLLs, see the following topics:</span></span>

-   [<span data-ttu-id="2679e-128">Avantages de la liaison dynamique</span><span class="sxs-lookup"><span data-stu-id="2679e-128">Advantages of Dynamic Linking</span></span>](advantages-of-dynamic-linking.md)
-   [<span data-ttu-id="2679e-129">Création de bibliothèque de liens dynamiques</span><span class="sxs-lookup"><span data-stu-id="2679e-129">Dynamic-Link Library Creation</span></span>](dynamic-link-library-creation.md)
-   [<span data-ttu-id="2679e-130">Fonction de Entry-Point de bibliothèque de liens dynamiques</span><span class="sxs-lookup"><span data-stu-id="2679e-130">Dynamic-Link Library Entry-Point Function</span></span>](dynamic-link-library-entry-point-function.md)
-   [<span data-ttu-id="2679e-131">Liaison dynamique au moment du chargement</span><span class="sxs-lookup"><span data-stu-id="2679e-131">Load-Time Dynamic Linking</span></span>](load-time-dynamic-linking.md)
-   [<span data-ttu-id="2679e-132">Liaison dynamique au moment de l’exécution</span><span class="sxs-lookup"><span data-stu-id="2679e-132">Run-Time Dynamic Linking</span></span>](run-time-dynamic-linking.md)
-   [<span data-ttu-id="2679e-133">Ordre de recherche de la bibliothèque de liens dynamiques</span><span class="sxs-lookup"><span data-stu-id="2679e-133">Dynamic-Link Library Search Order</span></span>](dynamic-link-library-search-order.md)
-   [<span data-ttu-id="2679e-134">Données de bibliothèque de liens dynamiques</span><span class="sxs-lookup"><span data-stu-id="2679e-134">Dynamic-Link Library Data</span></span>](dynamic-link-library-data.md)
-   [<span data-ttu-id="2679e-135">Redirection de bibliothèque de liens dynamiques</span><span class="sxs-lookup"><span data-stu-id="2679e-135">Dynamic-Link Library Redirection</span></span>](dynamic-link-library-redirection.md)
-   [<span data-ttu-id="2679e-136">Mises à jour de la bibliothèque de liens dynamiques</span><span class="sxs-lookup"><span data-stu-id="2679e-136">Dynamic-Link Library Updates</span></span>](dynamic-link-library-updates.md)
-   [<span data-ttu-id="2679e-137">Sécurité de la bibliothèque de liens dynamiques</span><span class="sxs-lookup"><span data-stu-id="2679e-137">Dynamic-Link Library Security</span></span>](dynamic-link-library-security.md)
-   [<span data-ttu-id="2679e-138">DLL AppInit et démarrage sécurisé</span><span class="sxs-lookup"><span data-stu-id="2679e-138">AppInit DLLs and Secure Boot</span></span>](secure-boot-and-appinit-dlls.md)

 

 
