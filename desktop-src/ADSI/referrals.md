---
title: Références (ADSI)
description: Les références se produisent lorsque le serveur que vous interrogez ne contient pas ces données, mais peut le trouver.
ms.assetid: 2068ce7a-0b94-4d25-a18f-97f26863bd1d
ms.tgt_platform: multiple
keywords:
- Références (ADSI)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e79e6b2e8a737f6bb40386effd68f7f31d8d490d
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/21/2020
ms.locfileid: "104102329"
---
# <a name="referrals-adsi"></a><span data-ttu-id="05715-104">Références (ADSI)</span><span class="sxs-lookup"><span data-stu-id="05715-104">Referrals (ADSI)</span></span>

<span data-ttu-id="05715-105">Les références se produisent lorsque le serveur que vous interrogez ne contient pas ces données, mais peut le trouver.</span><span class="sxs-lookup"><span data-stu-id="05715-105">Referrals occur when the server you are querying does not contain that data, but can find it.</span></span> <span data-ttu-id="05715-106">Le serveur cible retourne le jeu de résultats, qui peut inclure à la fois les données réelles et une référence à un autre serveur pour récupérer les données supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="05715-106">The target server returns the result set, which may include both the actual data and a referral to another server to retrieve the additional data.</span></span> <span data-ttu-id="05715-107">En activant le *repérage de références*, le code client ADSI sous-jacent utilise ces données de référence pour tenter de récupérer l’objet cible à partir du serveur décrit dans les données de référence.</span><span class="sxs-lookup"><span data-stu-id="05715-107">By enabling *referral chasing*, the underlying ADSI client code will use that referral data to attempt to retrieve the target object from the server described in the referral data.</span></span> <span data-ttu-id="05715-108">Sachez que la désactivation du repérage de références peut aboutir à un jeu de résultats plus petit, tandis que l’activation du repérage de références peut entraîner l’étendue d’une requête sur plusieurs serveurs.</span><span class="sxs-lookup"><span data-stu-id="05715-108">Be aware that the disabling referral chasing may result in a smaller result set, whereas enabling referral chasing may cause a query to span many servers.</span></span> <span data-ttu-id="05715-109">Dans la mesure du possible, la solution recommandée consiste à utiliser le catalogue global.</span><span class="sxs-lookup"><span data-stu-id="05715-109">When possible, the recommended solution is to use the global catalog.</span></span>

<span data-ttu-id="05715-110">Pour plus d’informations sur les références et le repérage de références dans Active Directory, consultez [références](/windows/desktop/AD/referrals).</span><span class="sxs-lookup"><span data-stu-id="05715-110">For more information about referrals and referral chasing in Active Directory, see [Referrals](/windows/desktop/AD/referrals).</span></span>

<span data-ttu-id="05715-111">Par exemple, lorsqu’un client demande au serveur A (A) d’interroger un objet utilisateur (U), un peut suggérer que le client continue la recherche sur le serveur B (B) si U ne réside pas sur un, mais qu’il est connu sur B. Le client a le choix de poursuivre la référence ou non.</span><span class="sxs-lookup"><span data-stu-id="05715-111">For example, when a client instructs Server A (A) to query a user object (U), A can suggest that the client continue the search on Server B (B) if U does not reside on A, but is known to be on B. The client has the choice of pursuing the referral or not.</span></span> <span data-ttu-id="05715-112">Les références de recherche libèrent le client de la nécessité d’une reconnaissance avancée de la capacité de chaque serveur.</span><span class="sxs-lookup"><span data-stu-id="05715-112">Search referrals free the client from requiring advanced recognition of the capability of each server.</span></span> <span data-ttu-id="05715-113">Toutefois, le client doit spécifier le type de références qu’un serveur doit effectuer.</span><span class="sxs-lookup"><span data-stu-id="05715-113">However, the client must specify the type of referrals a server should make.</span></span>

<span data-ttu-id="05715-114">Active Directory propose des services de référence de recherche.</span><span class="sxs-lookup"><span data-stu-id="05715-114">Active Directory offers search referral services.</span></span> <span data-ttu-id="05715-115">Un client peut choisir l’un des types suivants de repérage de références :</span><span class="sxs-lookup"><span data-stu-id="05715-115">A client can choose any of the following types of referral chasing:</span></span>

-   <span data-ttu-id="05715-116">Jamais : le serveur ne doit pas générer de référence à un client, même s’il reconnaît qu’un autre serveur stocke les données demandées.</span><span class="sxs-lookup"><span data-stu-id="05715-116">Never: The server should not generate a referral to a client even though it recognizes that another server stores the requested data.</span></span>
-   <span data-ttu-id="05715-117">External : le serveur doit générer des références si la requête peut être résolue sur un autre serveur d’une arborescence de répertoires différente.</span><span class="sxs-lookup"><span data-stu-id="05715-117">External: The server should generate referrals if the request can be resolved on another server of a different directory tree.</span></span> <span data-ttu-id="05715-118">Par exemple, un client interroge « OU = Sales, DC = fabrikam, DC = COM » sur le serveur « fab01 » sur le domaine « Fabrikam.com ».</span><span class="sxs-lookup"><span data-stu-id="05715-118">For example, a client queries "OU=Sales,DC=Fabrikam,DC=COM" on the "fab01" server on the "Fabrikam.com" domain.</span></span> <span data-ttu-id="05715-119">Toutefois, l’objet n’appartient pas à « fab01 », mais il est connu pour se trouver sur le serveur « arc01 » sur le domaine « Fabrikam.com ».</span><span class="sxs-lookup"><span data-stu-id="05715-119">However, the object does not belong to "fab01", but is known to be on the "arc01" server on the "Fabrikam.com" domain.</span></span> <span data-ttu-id="05715-120">Par conséquent, « fab01 » fait référence au client à « arc01 ».</span><span class="sxs-lookup"><span data-stu-id="05715-120">Thus, "fab01" refers the client to "arc01".</span></span>
-   <span data-ttu-id="05715-121">Subordonné : le serveur doit générer des références si la requête peut être résolue sur un serveur dont le nom constitue un chemin d’accès contigu à partir du serveur d’origine.</span><span class="sxs-lookup"><span data-stu-id="05715-121">Subordinate: The server should generate referrals if the request can be resolved on a server whose name forms a contiguous path from the originating server.</span></span> <span data-ttu-id="05715-122">L’étendue de recherche doit être au niveau de la sous-arborescence.</span><span class="sxs-lookup"><span data-stu-id="05715-122">The search scope must be at the subtree level.</span></span>

    <span data-ttu-id="05715-123">Par exemple, le serveur A contient des objets dans « DC = Sales, DC = fabrikam, DC = com ».</span><span class="sxs-lookup"><span data-stu-id="05715-123">For example, Server A contains objects in "DC=Sales,DC=Fabrikam,DC=Com".</span></span> <span data-ttu-id="05715-124">Le serveur B contient des objets dans « DC = Seattle, DC = Sales, DC = fabrikam, DC = com ».</span><span class="sxs-lookup"><span data-stu-id="05715-124">Server B contains objects in "DC=Seattle,DC=Sales,DC=Fabrikam,DC=Com".</span></span> <span data-ttu-id="05715-125">Sachez que le nom du serveur B forme un chemin d’accès contigu à partir du serveur A. Lorsqu’un client contacte le serveur A, demande une recherche de sous-arborescence sur « DC = Sales, DC = fabrikam, DC = com » et spécifie que la référence est un type subordonné, l’événement suivant se produit :</span><span class="sxs-lookup"><span data-stu-id="05715-125">Be aware that the name of Server B forms a contiguous path from Server A. When a client contacts Server A, requests a subtree search on "DC=Sales,DC=Fabrikam,DC=Com", and specifies the referral to be a subordinate type, the following event occurs:</span></span>

    -   <span data-ttu-id="05715-126">Le serveur A retourne tous les objets qu’il connaît dans son étendue.</span><span class="sxs-lookup"><span data-stu-id="05715-126">Server A returns all objects that it knows within its scope.</span></span>
    -   <span data-ttu-id="05715-127">Le serveur A informe le client que les objets de « DC = Seattle, DC = Sales, DC = fabrikam, DC = COM » se trouvent sur le serveur B.</span><span class="sxs-lookup"><span data-stu-id="05715-127">Server A informs the client that objects in "DC=Seattle,DC=Sales,DC=Fabrikam,DC=COM" can be found on Server B.</span></span>

    <span data-ttu-id="05715-128">Le client peut choisir de contacter le serveur B. Si c’est le cas, l’événement suivant se produit :</span><span class="sxs-lookup"><span data-stu-id="05715-128">The client can choose to contact Server B. If so, the following event occurs:</span></span>

    -   <span data-ttu-id="05715-129">Le serveur B répond avec les objets demandés.</span><span class="sxs-lookup"><span data-stu-id="05715-129">Server B responds with the requested objects.</span></span>
    -   <span data-ttu-id="05715-130">Si le serveur B détecte d’autres serveurs sur le chemin d’accès de nommage contigu et que le processus se poursuit.</span><span class="sxs-lookup"><span data-stu-id="05715-130">If Server B detects other servers on the contiguous naming path and the process continues.</span></span>

-   <span data-ttu-id="05715-131">Toujours : le serveur génère des références si la recherche peut être résolue en fonction du type externe ou du type subordonné.</span><span class="sxs-lookup"><span data-stu-id="05715-131">Always: The server generates referrals if the search can be resolved based on either the external type or the subordinate type.</span></span>

> [!Note]  
> <span data-ttu-id="05715-132">Dans Active Directory, le catalogue global contient tous les objets d’une entreprise donnée.</span><span class="sxs-lookup"><span data-stu-id="05715-132">In Active Directory, the global catalog contains all objects in a given enterprise.</span></span> <span data-ttu-id="05715-133">La recherche d’un serveur de catalogue global donne de meilleures performances que la poursuite des références d’un serveur à un autre.</span><span class="sxs-lookup"><span data-stu-id="05715-133">Searching a global catalog server yields better performance than pursuing referrals from one server to another.</span></span>

 

<span data-ttu-id="05715-134">Dans la plupart des cas, le repérage de références est transparent pour l’appelant.</span><span class="sxs-lookup"><span data-stu-id="05715-134">In most cases, the referral chasing will be transparent to the caller.</span></span> <span data-ttu-id="05715-135">Si la référence est un objet d’un domaine ou d’une forêt différent, l’API LDAP sous-jacente tente d’utiliser les informations d’identification actuelles pour établir une liaison à la cible de la référence.</span><span class="sxs-lookup"><span data-stu-id="05715-135">If the referral is to an object in a different domain or forest, the underlying LDAP API will attempt to use the current credentials to bind to the target of the referral.</span></span> <span data-ttu-id="05715-136">Si cette opération réussit, le repérage de références est transparent.</span><span class="sxs-lookup"><span data-stu-id="05715-136">If this is successful, the referral chasing will be transparent.</span></span> <span data-ttu-id="05715-137">En cas d’échec, la référence et un code d’erreur de référence sont renvoyés.</span><span class="sxs-lookup"><span data-stu-id="05715-137">If this is not successful, the referral and a referral error code will be returned.</span></span>

<span data-ttu-id="05715-138">Pour plus d’informations sur l’utilisation des options de repérage de références avec une interface de recherche spécifique, consultez :</span><span class="sxs-lookup"><span data-stu-id="05715-138">For more information about using the referral chasing options with a specific search interface, see:</span></span>

-   [<span data-ttu-id="05715-139">Repérage de références avec IDirectorySearch</span><span class="sxs-lookup"><span data-stu-id="05715-139">Referral Chasing with IDirectorySearch</span></span>](referral-chasing-with-idirectorysearch.md)
-   [<span data-ttu-id="05715-140">Recherche avec ActiveX Data Objects</span><span class="sxs-lookup"><span data-stu-id="05715-140">Searching with ActiveX Data Objects</span></span>](searching-with-activex-data-objects-ado.md)
-   [<span data-ttu-id="05715-141">Recherche avec OLE DB</span><span class="sxs-lookup"><span data-stu-id="05715-141">Searching with OLE DB</span></span>](searching-with-ole-db.md)

 

 