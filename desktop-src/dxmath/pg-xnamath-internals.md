---
description: Cette rubrique décrit la conception interne de la bibliothèque DirectXMath.
ms.assetid: 31512657-c413-9e6e-e343-1ea677a02b8c
title: Éléments internes de bibliothèque
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ccac708934c393a526fdb46d73f819d6557107f0
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106518146"
---
# <a name="library-internals"></a><span data-ttu-id="a7235-103">Éléments internes de bibliothèque</span><span class="sxs-lookup"><span data-stu-id="a7235-103">Library Internals</span></span>

<span data-ttu-id="a7235-104">Cette rubrique décrit la conception interne de la bibliothèque DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="a7235-104">This topic describes the internal design of the DirectXMath library.</span></span>

-   [<span data-ttu-id="a7235-105">Conventions d’appel</span><span class="sxs-lookup"><span data-stu-id="a7235-105">Calling Conventions</span></span>](#calling-conventions)
-   [<span data-ttu-id="a7235-106">Équivalence de type de bibliothèque Graphics</span><span class="sxs-lookup"><span data-stu-id="a7235-106">Graphics Library Type Equivalence</span></span>](#graphics-library-type-equivalence)
-   [<span data-ttu-id="a7235-107">Constantes globales dans la bibliothèque DirectXMath</span><span class="sxs-lookup"><span data-stu-id="a7235-107">Global Constants in the DirectXMath Library</span></span>](#global-constants-in-the-directxmath-library)
-   [<span data-ttu-id="a7235-108">Windows SSE et SSE2</span><span class="sxs-lookup"><span data-stu-id="a7235-108">Windows SSE versus SSE2</span></span>](#windows-sse-versus-sse2)
-   [<span data-ttu-id="a7235-109">Variantes de routine</span><span class="sxs-lookup"><span data-stu-id="a7235-109">Routine Variants</span></span>](#routine-variants)
-   [<span data-ttu-id="a7235-110">Incohérences de la plateforme</span><span class="sxs-lookup"><span data-stu-id="a7235-110">Platform Inconsistencies</span></span>](#platform-inconsistencies)
-   [<span data-ttu-id="a7235-111">Extensions spécifiques à la plateforme</span><span class="sxs-lookup"><span data-stu-id="a7235-111">Platform-specific Extensions</span></span>](#platform-specific-extensions)
-   [<span data-ttu-id="a7235-112">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="a7235-112">Related topics</span></span>](#related-topics)

## <a name="calling-conventions"></a><span data-ttu-id="a7235-113">Conventions d’appel</span><span class="sxs-lookup"><span data-stu-id="a7235-113">Calling Conventions</span></span>

<span data-ttu-id="a7235-114">Pour améliorer la portabilité et optimiser la disposition des données, vous devez utiliser les conventions d’appel appropriées pour chaque plateforme prise en charge par la bibliothèque DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="a7235-114">To enhance portability and optimize data layout, you need to use the appropriate calling conventions for each platform supported by the DirectXMath Library.</span></span> <span data-ttu-id="a7235-115">Plus précisément, lorsque vous transmettez des objets [**XMVECTOR**](xmvector-data-type.md) en tant que paramètres, qui sont définis comme alignés sur une limite de 16 octets, il existe différents jeux d’exigences appelant, en fonction de la plateforme cible :</span><span class="sxs-lookup"><span data-stu-id="a7235-115">Specifically, when you pass [**XMVECTOR**](xmvector-data-type.md) objects as parameters, which are defined as aligned on a 16-byte boundary, there are different sets of calling requirements, depending on the target platform:</span></span>

<span data-ttu-id="a7235-116">**Pour Windows 32 bits**</span><span class="sxs-lookup"><span data-stu-id="a7235-116">**For 32-bit Windows**</span></span>

<span data-ttu-id="a7235-117">Pour Windows 32 bits, deux conventions d’appel sont disponibles pour une transmission efficace des valeurs [ \_ \_ M128](/cpp/cpp/m128) (qui implémente [**XMVECTOR**](xmvector-data-type.md) sur cette plateforme).</span><span class="sxs-lookup"><span data-stu-id="a7235-117">For 32-bit Windows, there are two calling conventions available for efficient passing of [\_\_m128](/cpp/cpp/m128) values (which implements [**XMVECTOR**](xmvector-data-type.md) on that platform).</span></span> <span data-ttu-id="a7235-118">La norme est [ \_ \_ fastcall](https://msdn.microsoft.com/library/6xa169sk(VS.71).aspx), qui peut passer les trois premières valeurs [ \_ \_ M128](/cpp/cpp/m128) (instances **XMVECTOR** ) comme arguments à une fonction dans un registre *SSE/SSE2* .</span><span class="sxs-lookup"><span data-stu-id="a7235-118">The standard is [\_\_fastcall](https://msdn.microsoft.com/library/6xa169sk(VS.71).aspx), which can pass the first three [\_\_m128](/cpp/cpp/m128) values (**XMVECTOR** instances) as arguments to a function in a *SSE/SSE2* register.</span></span> <span data-ttu-id="a7235-119">[ \_ \_ fastcall](https://msdn.microsoft.com/library/6xa169sk(VS.71).aspx) passe les arguments restants via la pile.</span><span class="sxs-lookup"><span data-stu-id="a7235-119">[\_\_fastcall](https://msdn.microsoft.com/library/6xa169sk(VS.71).aspx) passes remaining arguments via the stack.</span></span>

<span data-ttu-id="a7235-120">Les nouveaux compilateurs de Microsoft Visual Studio prennent en charge une nouvelle convention d’appel, \_ \_ vectorcall, qui peut passer jusqu’à six valeurs [ \_ \_ M128](/cpp/cpp/m128) (instances [**XMVECTOR**](xmvector-data-type.md) ) comme arguments d’une fonction dans un registre *SSE/SSE2* .</span><span class="sxs-lookup"><span data-stu-id="a7235-120">Newer Microsoft Visual Studio compilers support a new calling convention, \_\_vectorcall, which can pass up to six [\_\_m128](/cpp/cpp/m128) values ([**XMVECTOR**](xmvector-data-type.md) instances) as arguments to a function in a *SSE/SSE2* register.</span></span> <span data-ttu-id="a7235-121">Il peut également passer des agrégats vectoriels hétérogènes (également appelés [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix)) via des registres *SSE/SSE2* s’il y a suffisamment d’espace.</span><span class="sxs-lookup"><span data-stu-id="a7235-121">It can also pass heterogeneous vector aggregates (also known as [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix)) via *SSE/SSE2* registers if there is sufficient room.</span></span>

<span data-ttu-id="a7235-122">**Pour les éditions 64 bits de Windows**</span><span class="sxs-lookup"><span data-stu-id="a7235-122">**For 64-bit editions of Windows**</span></span>

<span data-ttu-id="a7235-123">Pour Windows 64 bits, deux conventions d’appel sont disponibles pour une transmission efficace des valeurs [ \_ \_ M128](/cpp/cpp/m128) .</span><span class="sxs-lookup"><span data-stu-id="a7235-123">For 64-bit Windows, there are two calling conventions available for efficient passing of [\_\_m128](/cpp/cpp/m128) values.</span></span> <span data-ttu-id="a7235-124">La norme est [ \_ \_ fastcall](https://msdn.microsoft.com/library/6xa169sk(VS.71).aspx), qui passe toutes les valeurs [ \_ \_ M128](/cpp/cpp/m128) sur la pile.</span><span class="sxs-lookup"><span data-stu-id="a7235-124">The standard is [\_\_fastcall](https://msdn.microsoft.com/library/6xa169sk(VS.71).aspx), which passes all [\_\_m128](/cpp/cpp/m128) values on the stack.</span></span>

<span data-ttu-id="a7235-125">Les compilateurs Visual Studio plus récents prennent en charge la \_ \_ Convention d’appel vectorcall, qui peut passer jusqu’à six valeurs [ \_ \_ M128](/cpp/cpp/m128) (instances [**XMVECTOR**](xmvector-data-type.md) ) comme arguments à une fonction dans un registre *SSE/SSE2* .</span><span class="sxs-lookup"><span data-stu-id="a7235-125">Newer Visual Studio compilers support the \_\_vectorcall calling convention, which can pass up to six [\_\_m128](/cpp/cpp/m128) values ([**XMVECTOR**](xmvector-data-type.md) instances) as arguments to a function in a *SSE/SSE2* register.</span></span> <span data-ttu-id="a7235-126">Il peut également passer des agrégats vectoriels hétérogènes (également appelés [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix)) via des registres *SSE/SSE2* s’il y a suffisamment d’espace.</span><span class="sxs-lookup"><span data-stu-id="a7235-126">It can also pass heterogeneous vector aggregates (also known as [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix)) via *SSE/SSE2* registers if there is sufficient room.</span></span>

<span data-ttu-id="a7235-127">**Pour Windows RT**</span><span class="sxs-lookup"><span data-stu-id="a7235-127">**For Windows RT**</span></span>

<span data-ttu-id="a7235-128">Le système d’exploitation Windows RT prend en charge le passage des quatre premières \_ \_ valeurs n128 (instances [**XMVECTOR**](xmvector-data-type.md) ) dans le registre.</span><span class="sxs-lookup"><span data-stu-id="a7235-128">The Windows RT operating system supports passing the first four \_\_n128 values ([**XMVECTOR**](xmvector-data-type.md) instances) in-register.</span></span>

<span data-ttu-id="a7235-129">**Solution DirectXMath**</span><span class="sxs-lookup"><span data-stu-id="a7235-129">**DirectXMath solution**</span></span>

<span data-ttu-id="a7235-130">Les alias **FXMVECTOR**, **GXMVECTOR**, **HXMVECTOR** et **CXMVECTOR** prennent en charge les conventions suivantes :</span><span class="sxs-lookup"><span data-stu-id="a7235-130">The **FXMVECTOR**, **GXMVECTOR**, **HXMVECTOR**, and **CXMVECTOR** aliases support these conventions:</span></span>

-   <span data-ttu-id="a7235-131">Utilisez l’alias **FXMVECTOR** pour transmettre les trois premières instances de [**XMVECTOR**](xmvector-data-type.md) utilisées comme arguments à une fonction.</span><span class="sxs-lookup"><span data-stu-id="a7235-131">Use the **FXMVECTOR** alias to pass up to the first three instances of [**XMVECTOR**](xmvector-data-type.md) used as arguments to a function.</span></span>
-   <span data-ttu-id="a7235-132">Utilisez l’alias **GXMVECTOR** pour transmettre la quatrième instance d’un [**XMVECTOR**](xmvector-data-type.md) utilisé comme argument à une fonction.</span><span class="sxs-lookup"><span data-stu-id="a7235-132">Use the **GXMVECTOR** alias to pass the 4th instance of an [**XMVECTOR**](xmvector-data-type.md) used as an argument to a function.</span></span>
-   <span data-ttu-id="a7235-133">Utilisez l’alias **HXMVECTOR** pour passer les 5e et 6ème instances d’un [**XMVECTOR**](xmvector-data-type.md) utilisé comme argument d’une fonction.</span><span class="sxs-lookup"><span data-stu-id="a7235-133">Use the **HXMVECTOR** alias to pass the 5th and 6th instances of an [**XMVECTOR**](xmvector-data-type.md) used as an argument to a function.</span></span> <span data-ttu-id="a7235-134">Pour plus d’informations sur les considérations supplémentaires, consultez la \_ \_ documentation vectorcall.</span><span class="sxs-lookup"><span data-stu-id="a7235-134">For info about additional considerations, see the \_\_vectorcall documentation.</span></span>
-   <span data-ttu-id="a7235-135">Utilisez l’alias **CXMVECTOR** pour passer toutes les autres instances de [**XMVECTOR**](xmvector-data-type.md) utilisées comme arguments.</span><span class="sxs-lookup"><span data-stu-id="a7235-135">Use the **CXMVECTOR** alias to pass any further instances of [**XMVECTOR**](xmvector-data-type.md) used as arguments.</span></span>

> [!Note]  
> <span data-ttu-id="a7235-136">Pour les paramètres de sortie, utilisez toujours XMVECTOR \* ou XMVECTOR& et ignorez-les en ce qui concerne les règles précédentes pour les paramètres d’entrée.</span><span class="sxs-lookup"><span data-stu-id="a7235-136">For output parameters, always use XMVECTOR\* or XMVECTOR& and ignore them with respect to the preceding rules for input parameters.</span></span>

 

<span data-ttu-id="a7235-137">En raison des limitations de \_ \_ vectorcall, nous vous recommandons de ne pas utiliser **GXMVECTOR** ou **HXMVECTOR** pour les constructeurs C++.</span><span class="sxs-lookup"><span data-stu-id="a7235-137">Because of limitations with \_\_vectorcall, we recommend that you not use **GXMVECTOR** or **HXMVECTOR** for C++ constructors.</span></span> <span data-ttu-id="a7235-138">Utilisez simplement **FXMVECTOR** pour les trois premières valeurs [**XMVECTOR**](xmvector-data-type.md) , puis utilisez **CXMVECTOR** pour le reste.</span><span class="sxs-lookup"><span data-stu-id="a7235-138">Just use **FXMVECTOR** for the first three [**XMVECTOR**](xmvector-data-type.md) values, then use **CXMVECTOR** for the rest.</span></span>

<span data-ttu-id="a7235-139">Les alias **FXMMATRIX** et **CXMMATRIX** aident à tirer parti de l’argument HVA passant avec \_ \_ vectorcall.</span><span class="sxs-lookup"><span data-stu-id="a7235-139">The **FXMMATRIX** and **CXMMATRIX** aliases help support taking advantage of the HVA argument passing with \_\_vectorcall.</span></span>

-   <span data-ttu-id="a7235-140">Utilisez l’alias **FXMMATRIX** pour passer le premier [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) en tant qu’argument à la fonction.</span><span class="sxs-lookup"><span data-stu-id="a7235-140">Use the **FXMMATRIX** alias to pass the first [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) as an argument to the function.</span></span> <span data-ttu-id="a7235-141">Cela suppose que vous n’avez pas plus de deux arguments **FXMVECTOR** ou plus de deux arguments float, double ou **FXMVECTOR** pour le « Right » de la matrice.</span><span class="sxs-lookup"><span data-stu-id="a7235-141">This assumes you don't have more than two **FXMVECTOR** arguments or more than two float, double, or **FXMVECTOR** arguments to the ‘right’ of the matrix.</span></span> <span data-ttu-id="a7235-142">Pour plus d’informations sur les considérations supplémentaires, consultez la \_ \_ documentation vectorcall.</span><span class="sxs-lookup"><span data-stu-id="a7235-142">For info about additional considerations, see the \_\_vectorcall documentation.</span></span>
-   <span data-ttu-id="a7235-143">Utilisez l’alias **CXMMATRIX** dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="a7235-143">Use the **CXMMATRIX** alias otherwise.</span></span>

<span data-ttu-id="a7235-144">En raison des limitations de \_ \_ vectorcall, nous vous recommandons de ne jamais utiliser **FXMMATRIX** pour les constructeurs C++.</span><span class="sxs-lookup"><span data-stu-id="a7235-144">Because of limitations with \_\_vectorcall, we recommend that you never use **FXMMATRIX** for C++ constructors.</span></span> <span data-ttu-id="a7235-145">Utilisez simplement **CXMMATRIX**.</span><span class="sxs-lookup"><span data-stu-id="a7235-145">Just use **CXMMATRIX**.</span></span>

<span data-ttu-id="a7235-146">Outre les alias de type, vous devez également utiliser l' \_ annotation XM CALLCONV pour vous assurer que la fonction utilise la Convention d’appel appropriée ( \_ \_ fastcall et \_ \_ vectorcall) en fonction de votre compilateur et de votre architecture.</span><span class="sxs-lookup"><span data-stu-id="a7235-146">In addition to the type aliases, you must also use the XM\_CALLCONV annotation to make sure the function uses the appropriate calling convention (\_\_fastcall versus \_\_vectorcall) based on your compiler and architecture.</span></span> <span data-ttu-id="a7235-147">En raison des limitations de \_ \_ vectorcall, nous vous recommandons de ne pas utiliser XM \_ CALLCONV pour les constructeurs C++.</span><span class="sxs-lookup"><span data-stu-id="a7235-147">Because of limitations with \_\_vectorcall, we recommend that you not use XM\_CALLCONV for C++ constructors.</span></span>

<span data-ttu-id="a7235-148">Voici des exemples de déclarations qui illustrent cette Convention :</span><span class="sxs-lookup"><span data-stu-id="a7235-148">The following are example declarations that illustrate this convention:</span></span>


```C++
XMMATRIX XM_CALLCONV XMMatrixLookAtLH(FXMVECTOR EyePosition, FXMVECTOR FocusPosition, FXMVECTOR UpDirection);

XMMATRIX XM_CALLCONV XMMatrixTransformation2D(FXMVECTOR ScalingOrigin,  float ScalingOrientation, FXMVECTOR Scaling, FXMVECTOR RotationOrigin, float Rotation, GXMVECTOR Translation);

void XM_CALLCONV XMVectorSinCos(XMVECTOR* pSin, XMVECTOR* pCos, FXMVECTOR V);

XMVECTOR XM_CALLCONV XMVectorHermiteV(FXMVECTOR Position0, FXMVECTOR Tangent0, FXMVECTOR Position1, GXMVECTOR Tangent1, HXMVECTOR T);

XMMATRIX(FXMVECTOR R0, FXMVECTOR R1, FXMVECTOR R2, CXMVECTOR R3)

XMVECTOR XM_CALLCONV XMVector2Transform(FXMVECTOR V, FXMMATRIX M);

XMMATRIX XM_CALLCONV XMMatrixMultiplyTranspose(FXMMATRIX M1, CXMMATRIX M2);
```



<span data-ttu-id="a7235-149">Pour prendre en charge ces conventions d’appel, ces alias de type sont définis comme suit (les paramètres doivent être passés par valeur pour que le compilateur les prenne en compte pour la réussite de l’inscription) :</span><span class="sxs-lookup"><span data-stu-id="a7235-149">To support these calling conventions, these type aliases are defined as follows (parameters must be passed by value for the compiler to consider them for in-register passing):</span></span>

<span data-ttu-id="a7235-150">**Pour les applications Windows 32 bits**</span><span class="sxs-lookup"><span data-stu-id="a7235-150">**For 32-bit Windows apps**</span></span>

<span data-ttu-id="a7235-151">Quand vous utilisez \_ \_ fastcall :</span><span class="sxs-lookup"><span data-stu-id="a7235-151">When you use \_\_fastcall:</span></span>


```C++
typedef const XMVECTOR  FXMVECTOR;
typedef const XMVECTOR& GXMVECTOR;
typedef const XMVECTOR& HXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX& FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



<span data-ttu-id="a7235-152">Quand vous utilisez \_ \_ vectorcall :</span><span class="sxs-lookup"><span data-stu-id="a7235-152">When you use \_\_vectorcall:</span></span>


```C++
typedef const XMVECTOR  FXMVECTOR;
typedef const XMVECTOR  GXMVECTOR;
typedef const XMVECTOR  HXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX  FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



<span data-ttu-id="a7235-153">**Pour les applications Windows natives 64 bits**</span><span class="sxs-lookup"><span data-stu-id="a7235-153">**For 64-bit native Windows apps**</span></span>

<span data-ttu-id="a7235-154">Quand vous utilisez \_ \_ fastcall :</span><span class="sxs-lookup"><span data-stu-id="a7235-154">When you use \_\_fastcall:</span></span>


```C++
typedef const XMVECTOR& FXMVECTOR;
typedef const XMVECTOR& GXMVECTOR;
typedef const XMVECTOR& HXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX& FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



<span data-ttu-id="a7235-155">Quand vous utilisez \_ \_ vectorcall :</span><span class="sxs-lookup"><span data-stu-id="a7235-155">When you use \_\_vectorcall:</span></span>


```C++
typedef const XMVECTOR  FXMVECTOR;
typedef const XMVECTOR  GXMVECTOR;
typedef const XMVECTOR  HXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX  FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



<span data-ttu-id="a7235-156">**Windows RT**</span><span class="sxs-lookup"><span data-stu-id="a7235-156">**Windows RT**</span></span>


```C++
typedef const XMVECTOR  FXMVECTOR;
typedef const XMVECTOR  GXMVECTOR;
typedef const XMVECTOR& CXMVECTOR;
typedef const XMMATRIX& FXMMATRIX;
typedef const XMMATRIX& CXMMATRIX;
```



> [!Note]  
> <span data-ttu-id="a7235-157">Alors que toutes les fonctions sont déclarées inline et, dans de nombreux cas, le compilateur n’a pas besoin d’utiliser des conventions d’appel pour ces fonctions. dans certains cas, le compilateur peut décider qu’il est plus efficace de ne pas incorporer la fonction. dans ce cas, nous souhaitons que la meilleure Convention d’appel soit possible pour chaque plateforme.</span><span class="sxs-lookup"><span data-stu-id="a7235-157">While all the functions are declared inline and in many cases the compiler won't need to use calling conventions for these functions, there are cases where the compiler may decide it's more efficient to not inline the function and in these cases we want the best calling convention possible for each platform.</span></span>

 

## <a name="graphics-library-type-equivalence"></a><span data-ttu-id="a7235-158">Équivalence de type de bibliothèque Graphics</span><span class="sxs-lookup"><span data-stu-id="a7235-158">Graphics Library Type Equivalence</span></span>

<span data-ttu-id="a7235-159">Pour prendre en charge l’utilisation de la bibliothèque DirectXMath, de nombreux types et structures de bibliothèque DirectXMath sont équivalents aux implémentations Windows des types **D3DDECLTYPE** et **D3DFORMAT** , ainsi qu’aux types de [**\_ format dxgi**](/windows/win32/api/dxgiformat/ne-dxgiformat-dxgi_format) .</span><span class="sxs-lookup"><span data-stu-id="a7235-159">To support the use of the DirectXMath Library, many DirectXMath Library types and structures are equivalent to the Windows implementations of the **D3DDECLTYPE** and **D3DFORMAT** types, as well as the [**DXGI\_FORMAT**](/windows/win32/api/dxgiformat/ne-dxgiformat-dxgi_format) types.</span></span> 

| <span data-ttu-id="a7235-160">DirectXMath</span><span class="sxs-lookup"><span data-stu-id="a7235-160">DirectXMath</span></span>                      | <span data-ttu-id="a7235-161">D3DDECLTYPE</span><span class="sxs-lookup"><span data-stu-id="a7235-161">D3DDECLTYPE</span></span>                                                                           | <span data-ttu-id="a7235-162">D3DFORMAT</span><span class="sxs-lookup"><span data-stu-id="a7235-162">D3DFORMAT</span></span>                                                     | <span data-ttu-id="a7235-163">\_format dxgi</span><span class="sxs-lookup"><span data-stu-id="a7235-163">DXGI\_FORMAT</span></span>                                                                                                                                                                                            |
|----------------------------------|---------------------------------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="a7235-164">**XMBYTE2**</span><span class="sxs-lookup"><span data-stu-id="a7235-164">**XMBYTE2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmbyte2)       |                                                                                       |                                                               | <span data-ttu-id="a7235-165">\_Format dxgi \_ R8G8 \_ Saint-</span><span class="sxs-lookup"><span data-stu-id="a7235-165">DXGI\_FORMAT\_R8G8\_SINT</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="a7235-166">**XMBYTE4**</span><span class="sxs-lookup"><span data-stu-id="a7235-166">**XMBYTE4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmbyte4)       | <span data-ttu-id="a7235-167">D3DDECLTYPE \_ BYTE4 (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-167">D3DDECLTYPE\_BYTE4 (Xbox Only)</span></span>                                                        | <span data-ttu-id="a7235-168">D3DFMT \_ x8x8x8x8</span><span class="sxs-lookup"><span data-stu-id="a7235-168">D3DFMT\_x8x8x8x8</span></span>                                              | <span data-ttu-id="a7235-169">\_Format dxgi \_ x8x8x8x8 \_ Saint-</span><span class="sxs-lookup"><span data-stu-id="a7235-169">DXGI\_FORMAT\_x8x8x8x8\_SINT</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="a7235-170">**XMBYTEN2**</span><span class="sxs-lookup"><span data-stu-id="a7235-170">**XMBYTEN2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmbyten2)     |                                                                                       | <span data-ttu-id="a7235-171">D3DFMT \_ V8U8</span><span class="sxs-lookup"><span data-stu-id="a7235-171">D3DFMT\_V8U8</span></span>                                                  | <span data-ttu-id="a7235-172">\_Format dxgi \_ R8G8 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="a7235-172">DXGI\_FORMAT\_R8G8\_SNORM</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="a7235-173">**XMBYTEN4**</span><span class="sxs-lookup"><span data-stu-id="a7235-173">**XMBYTEN4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmbyten4)     | <span data-ttu-id="a7235-174">D3DDECLTYPE \_ BYTE4N (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-174">D3DDECLTYPE\_BYTE4N (Xbox Only)</span></span>                                                       | <span data-ttu-id="a7235-175">D3DFMT \_ x8x8x8x8</span><span class="sxs-lookup"><span data-stu-id="a7235-175">D3DFMT\_x8x8x8x8</span></span>                                              | <span data-ttu-id="a7235-176">\_Format dxgi \_ x8x8x8x8 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="a7235-176">DXGI\_FORMAT\_x8x8x8x8\_SNORM</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="a7235-177">**XMCOLOR**</span><span class="sxs-lookup"><span data-stu-id="a7235-177">**XMCOLOR**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmcolor)       | <span data-ttu-id="a7235-178">D3DDECLTYPE \_ D3DCOLOR</span><span class="sxs-lookup"><span data-stu-id="a7235-178">D3DDECLTYPE\_D3DCOLOR</span></span>                                                                 | <span data-ttu-id="a7235-179">D3DFMT \_ A8R8G8B8</span><span class="sxs-lookup"><span data-stu-id="a7235-179">D3DFMT\_A8R8G8B8</span></span>                                              | <span data-ttu-id="a7235-180">DXGI \_ format \_ B8G8R8A8 \_ UNORM (DXGI 1.1 +)</span><span class="sxs-lookup"><span data-stu-id="a7235-180">DXGI\_FORMAT\_B8G8R8A8\_UNORM (DXGI 1.1+)</span></span>                                                                                                                                                               |
| [<span data-ttu-id="a7235-181">**XMDEC4**</span><span class="sxs-lookup"><span data-stu-id="a7235-181">**XMDEC4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmdec4)         | <span data-ttu-id="a7235-182">D3DDECLTYPE \_ DEC4 (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-182">D3DDECLTYPE\_DEC4 (Xbox Only)</span></span>                                                         | <span data-ttu-id="a7235-183">D3DDECLTYPE \_ DEC3 (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-183">D3DDECLTYPE\_DEC3 (Xbox Only)</span></span>                                 |                                                                                                                                                                                                         |
| [<span data-ttu-id="a7235-184">**XMDECN4**</span><span class="sxs-lookup"><span data-stu-id="a7235-184">**XMDECN4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmdecn4)       | <span data-ttu-id="a7235-185">D3DDECLTYPE \_ DEC4N (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-185">D3DDECLTYPE\_DEC4N (Xbox Only)</span></span>                                                        | <span data-ttu-id="a7235-186">D3DDECLTYPE \_ DEC3N (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-186">D3DDECLTYPE\_DEC3N (Xbox Only)</span></span>                                |                                                                                                                                                                                                         |
| [<span data-ttu-id="a7235-187">**XMFLOAT2**</span><span class="sxs-lookup"><span data-stu-id="a7235-187">**XMFLOAT2**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat2)     | <span data-ttu-id="a7235-188">D3DDECLTYPE \_ FLOAT2</span><span class="sxs-lookup"><span data-stu-id="a7235-188">D3DDECLTYPE\_FLOAT2</span></span>                                                                   | <span data-ttu-id="a7235-189">D3DFMT \_ G32R32F</span><span class="sxs-lookup"><span data-stu-id="a7235-189">D3DFMT\_G32R32F</span></span>                                               | <span data-ttu-id="a7235-190">DXGI \_ format \_ R32G32 \_ float</span><span class="sxs-lookup"><span data-stu-id="a7235-190">DXGI\_FORMAT\_R32G32\_FLOAT</span></span>                                                                                                                                                                             |
| <span data-ttu-id="a7235-191">[**XMFLOAT2A**](/previous-versions/windows/desktop/legacy/ee419469(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="a7235-191">[**XMFLOAT2A**](/previous-versions/windows/desktop/legacy/ee419469(v=vs.85))</span></span>   | <span data-ttu-id="a7235-192">D3DDECLTYPE \_ FLOAT2</span><span class="sxs-lookup"><span data-stu-id="a7235-192">D3DDECLTYPE\_FLOAT2</span></span>                                                                   | <span data-ttu-id="a7235-193">D3DFMT \_ G32R32F</span><span class="sxs-lookup"><span data-stu-id="a7235-193">D3DFMT\_G32R32F</span></span>                                               | <span data-ttu-id="a7235-194">DXGI \_ format \_ R32G32 \_ float</span><span class="sxs-lookup"><span data-stu-id="a7235-194">DXGI\_FORMAT\_R32G32\_FLOAT</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="a7235-195">**XMFLOAT3**</span><span class="sxs-lookup"><span data-stu-id="a7235-195">**XMFLOAT3**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat3)     | <span data-ttu-id="a7235-196">D3DDECLTYPE \_ FLOAT3</span><span class="sxs-lookup"><span data-stu-id="a7235-196">D3DDECLTYPE\_FLOAT3</span></span>                                                                   |                                                               | <span data-ttu-id="a7235-197">DXGI \_ format \_ R32G32B32 \_ float</span><span class="sxs-lookup"><span data-stu-id="a7235-197">DXGI\_FORMAT\_R32G32B32\_FLOAT</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="a7235-198">**XMFLOAT3A**</span><span class="sxs-lookup"><span data-stu-id="a7235-198">**XMFLOAT3A**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat3a)   | <span data-ttu-id="a7235-199">D3DDECLTYPE \_ FLOAT3</span><span class="sxs-lookup"><span data-stu-id="a7235-199">D3DDECLTYPE\_FLOAT3</span></span>                                                                   |                                                               | <span data-ttu-id="a7235-200">DXGI \_ format \_ R32G32B32 \_ float</span><span class="sxs-lookup"><span data-stu-id="a7235-200">DXGI\_FORMAT\_R32G32B32\_FLOAT</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="a7235-201">**XMFLOAT3PK**</span><span class="sxs-lookup"><span data-stu-id="a7235-201">**XMFLOAT3PK**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmfloat3pk) |                                                                                       |                                                               | <span data-ttu-id="a7235-202">DXGI \_ format \_ R11G11B10 \_ float</span><span class="sxs-lookup"><span data-stu-id="a7235-202">DXGI\_FORMAT\_R11G11B10\_FLOAT</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="a7235-203">**XMFLOAT3SE**</span><span class="sxs-lookup"><span data-stu-id="a7235-203">**XMFLOAT3SE**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmfloat3se) |                                                                                       |                                                               | <span data-ttu-id="a7235-204">DXGI \_ format \_ R9G9B9E5 \_ SHAREDEXP</span><span class="sxs-lookup"><span data-stu-id="a7235-204">DXGI\_FORMAT\_R9G9B9E5\_SHAREDEXP</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="a7235-205">**XMFLOAT4**</span><span class="sxs-lookup"><span data-stu-id="a7235-205">**XMFLOAT4**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat4)     | <span data-ttu-id="a7235-206">D3DDECLTYPE \_ float4</span><span class="sxs-lookup"><span data-stu-id="a7235-206">D3DDECLTYPE\_FLOAT4</span></span>                                                                   | <span data-ttu-id="a7235-207">D3DFMT \_ A32B32G32R32F</span><span class="sxs-lookup"><span data-stu-id="a7235-207">D3DFMT\_A32B32G32R32F</span></span>                                         | <span data-ttu-id="a7235-208">DXGI \_ format \_ R32G32B32A32 \_ float</span><span class="sxs-lookup"><span data-stu-id="a7235-208">DXGI\_FORMAT\_R32G32B32A32\_FLOAT</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="a7235-209">**XMFLOAT4A**</span><span class="sxs-lookup"><span data-stu-id="a7235-209">**XMFLOAT4A**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmfloat4a)   | <span data-ttu-id="a7235-210">D3DDECLTYPE \_ float4</span><span class="sxs-lookup"><span data-stu-id="a7235-210">D3DDECLTYPE\_FLOAT4</span></span>                                                                   | <span data-ttu-id="a7235-211">D3DFMT \_ A32B32G32R32F</span><span class="sxs-lookup"><span data-stu-id="a7235-211">D3DFMT\_A32B32G32R32F</span></span>                                         | <span data-ttu-id="a7235-212">DXGI \_ format \_ R32G32B32A32 \_ float</span><span class="sxs-lookup"><span data-stu-id="a7235-212">DXGI\_FORMAT\_R32G32B32A32\_FLOAT</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="a7235-213">**XMHALF2**</span><span class="sxs-lookup"><span data-stu-id="a7235-213">**XMHALF2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmhalf2)       | <span data-ttu-id="a7235-214">D3DDECLTYPE \_ FLOAT16 \_ 2</span><span class="sxs-lookup"><span data-stu-id="a7235-214">D3DDECLTYPE\_FLOAT16\_2</span></span>                                                               | <span data-ttu-id="a7235-215">D3DFMT \_ G16R16F</span><span class="sxs-lookup"><span data-stu-id="a7235-215">D3DFMT\_G16R16F</span></span>                                               | <span data-ttu-id="a7235-216">DXGI \_ format \_ R16G16 \_ float</span><span class="sxs-lookup"><span data-stu-id="a7235-216">DXGI\_FORMAT\_R16G16\_FLOAT</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="a7235-217">**XMHALF4**</span><span class="sxs-lookup"><span data-stu-id="a7235-217">**XMHALF4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmhalf4)       | <span data-ttu-id="a7235-218">D3DDECLTYPE \_ FLOAT16 \_ 4</span><span class="sxs-lookup"><span data-stu-id="a7235-218">D3DDECLTYPE\_FLOAT16\_4</span></span>                                                               | <span data-ttu-id="a7235-219">D3DFMT \_ A16B16G16R16F</span><span class="sxs-lookup"><span data-stu-id="a7235-219">D3DFMT\_A16B16G16R16F</span></span>                                         | <span data-ttu-id="a7235-220">DXGI \_ format \_ R16G16B16A16 \_ float</span><span class="sxs-lookup"><span data-stu-id="a7235-220">DXGI\_FORMAT\_R16G16B16A16\_FLOAT</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="a7235-221">**XMINT2**</span><span class="sxs-lookup"><span data-stu-id="a7235-221">**XMINT2**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmint2)         |                                                                                       |                                                               | <span data-ttu-id="a7235-222">\_Format dxgi \_ R32G32 \_ Saint-</span><span class="sxs-lookup"><span data-stu-id="a7235-222">DXGI\_FORMAT\_R32G32\_SINT</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="a7235-223">**XMINT3**</span><span class="sxs-lookup"><span data-stu-id="a7235-223">**XMINT3**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmint3)         |                                                                                       |                                                               | <span data-ttu-id="a7235-224">\_Format dxgi \_ R32G32B32 \_ Saint-</span><span class="sxs-lookup"><span data-stu-id="a7235-224">DXGI\_FORMAT\_R32G32B32\_SINT</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="a7235-225">**XMINT4**</span><span class="sxs-lookup"><span data-stu-id="a7235-225">**XMINT4**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmint4)         |                                                                                       |                                                               | <span data-ttu-id="a7235-226">\_Format dxgi \_ R32G32B32A32 \_ Saint-</span><span class="sxs-lookup"><span data-stu-id="a7235-226">DXGI\_FORMAT\_R32G32B32A32\_SINT</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="a7235-227">**XMSHORT2**</span><span class="sxs-lookup"><span data-stu-id="a7235-227">**XMSHORT2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmshort2)     | <span data-ttu-id="a7235-228">D3DDECLTYPE \_ SHORT2</span><span class="sxs-lookup"><span data-stu-id="a7235-228">D3DDECLTYPE\_SHORT2</span></span>                                                                   | <span data-ttu-id="a7235-229">D3DFMT \_ V16U16</span><span class="sxs-lookup"><span data-stu-id="a7235-229">D3DFMT\_V16U16</span></span>                                                | <span data-ttu-id="a7235-230">\_Format dxgi \_ R16G16 \_ Saint-</span><span class="sxs-lookup"><span data-stu-id="a7235-230">DXGI\_FORMAT\_R16G16\_SINT</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="a7235-231">**XMSHORTN2**</span><span class="sxs-lookup"><span data-stu-id="a7235-231">**XMSHORTN2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmshortn2)   | <span data-ttu-id="a7235-232">D3DDECLTYPE \_ SHORT2N</span><span class="sxs-lookup"><span data-stu-id="a7235-232">D3DDECLTYPE\_SHORT2N</span></span>                                                                  | <span data-ttu-id="a7235-233">D3DFMT \_ V16U16</span><span class="sxs-lookup"><span data-stu-id="a7235-233">D3DFMT\_V16U16</span></span>                                                | <span data-ttu-id="a7235-234">\_Format dxgi \_ R16G16 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="a7235-234">DXGI\_FORMAT\_R16G16\_SNORM</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="a7235-235">**XMSHORT4**</span><span class="sxs-lookup"><span data-stu-id="a7235-235">**XMSHORT4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmshort4)     | <span data-ttu-id="a7235-236">D3DDECLTYPE \_ SHORT4</span><span class="sxs-lookup"><span data-stu-id="a7235-236">D3DDECLTYPE\_SHORT4</span></span>                                                                   | <span data-ttu-id="a7235-237">D3DFMT \_ x16x16x16x16</span><span class="sxs-lookup"><span data-stu-id="a7235-237">D3DFMT\_x16x16x16x16</span></span>                                          | <span data-ttu-id="a7235-238">\_Format dxgi \_ R16G16B16A16 \_ Saint-</span><span class="sxs-lookup"><span data-stu-id="a7235-238">DXGI\_FORMAT\_R16G16B16A16\_SINT</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="a7235-239">**XMSHORTN4**</span><span class="sxs-lookup"><span data-stu-id="a7235-239">**XMSHORTN4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmshortn4)   | <span data-ttu-id="a7235-240">D3DDECLTYPE \_ SHORT4N</span><span class="sxs-lookup"><span data-stu-id="a7235-240">D3DDECLTYPE\_SHORT4N</span></span>                                                                  | <span data-ttu-id="a7235-241">D3DFMT \_ x16x16x16x16</span><span class="sxs-lookup"><span data-stu-id="a7235-241">D3DFMT\_x16x16x16x16</span></span>                                          | <span data-ttu-id="a7235-242">\_Format dxgi \_ R16G16B16A16 \_ ronfler</span><span class="sxs-lookup"><span data-stu-id="a7235-242">DXGI\_FORMAT\_R16G16B16A16\_SNORM</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="a7235-243">**XMUBYTE2**</span><span class="sxs-lookup"><span data-stu-id="a7235-243">**XMUBYTE2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmubyte2)     |                                                                                       |                                                               | <span data-ttu-id="a7235-244">DXGI \_ format \_ R8G8 \_ uint</span><span class="sxs-lookup"><span data-stu-id="a7235-244">DXGI\_FORMAT\_R8G8\_UINT</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="a7235-245">**XMUBYTEN2**</span><span class="sxs-lookup"><span data-stu-id="a7235-245">**XMUBYTEN2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmubyten2)   |                                                                                       | <span data-ttu-id="a7235-246">D3DFMT \_ A8P8, D3DFMT \_ A8L8</span><span class="sxs-lookup"><span data-stu-id="a7235-246">D3DFMT\_A8P8, D3DFMT\_A8L8</span></span>                                    | <span data-ttu-id="a7235-247">DXGI \_ format \_ R8G8 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="a7235-247">DXGI\_FORMAT\_R8G8\_UNORM</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="a7235-248">**XMUINT2**</span><span class="sxs-lookup"><span data-stu-id="a7235-248">**XMUINT2**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmuint2)       |                                                                                       |                                                               | <span data-ttu-id="a7235-249">DXGI \_ format \_ R32G32 \_ uint</span><span class="sxs-lookup"><span data-stu-id="a7235-249">DXGI\_FORMAT\_R32G32\_UINT</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="a7235-250">**XMUINT3**</span><span class="sxs-lookup"><span data-stu-id="a7235-250">**XMUINT3**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmuint3)       |                                                                                       |                                                               | <span data-ttu-id="a7235-251">DXGI \_ format \_ R32G32B32 \_ uint</span><span class="sxs-lookup"><span data-stu-id="a7235-251">DXGI\_FORMAT\_R32G32B32\_UINT</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="a7235-252">**XMUINT4**</span><span class="sxs-lookup"><span data-stu-id="a7235-252">**XMUINT4**</span></span>](/windows/win32/api/directxmath/ns-directxmath-xmuint4)       |                                                                                       |                                                               | <span data-ttu-id="a7235-253">DXGI \_ format \_ R32G32B32A32 \_ uint</span><span class="sxs-lookup"><span data-stu-id="a7235-253">DXGI\_FORMAT\_R32G32B32A32\_UINT</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="a7235-254">**XMU555**</span><span class="sxs-lookup"><span data-stu-id="a7235-254">**XMU555**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmu555)         |                                                                                       | <span data-ttu-id="a7235-255">D3DFMT \_ X1R5G5B5, D3DFMT \_ A1R5G5B5</span><span class="sxs-lookup"><span data-stu-id="a7235-255">D3DFMT\_X1R5G5B5, D3DFMT\_A1R5G5B5</span></span>                            | <span data-ttu-id="a7235-256">DXGI \_ format \_ B5G5R5A1 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="a7235-256">DXGI\_FORMAT\_B5G5R5A1\_UNORM</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="a7235-257">**XMU565**</span><span class="sxs-lookup"><span data-stu-id="a7235-257">**XMU565**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmu565)         |                                                                                       | <span data-ttu-id="a7235-258">D3DFMT \_ R5G6B5</span><span class="sxs-lookup"><span data-stu-id="a7235-258">D3DFMT\_R5G6B5</span></span>                                                | <span data-ttu-id="a7235-259">DXGI \_ format \_ B5G6R5 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="a7235-259">DXGI\_FORMAT\_B5G6R5\_UNORM</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="a7235-260">**XMUBYTE4**</span><span class="sxs-lookup"><span data-stu-id="a7235-260">**XMUBYTE4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmubyte4)     | <span data-ttu-id="a7235-261">D3DDECLTYPE \_ UBYTE4</span><span class="sxs-lookup"><span data-stu-id="a7235-261">D3DDECLTYPE\_UBYTE4</span></span>                                                                   | <span data-ttu-id="a7235-262">D3DFMT \_ x8x8x8x8</span><span class="sxs-lookup"><span data-stu-id="a7235-262">D3DFMT\_x8x8x8x8</span></span>                                              | <span data-ttu-id="a7235-263">DXGI \_ format \_ x8x8x8x8 \_ uint</span><span class="sxs-lookup"><span data-stu-id="a7235-263">DXGI\_FORMAT\_x8x8x8x8\_UINT</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="a7235-264">**XMUBYTEN4**</span><span class="sxs-lookup"><span data-stu-id="a7235-264">**XMUBYTEN4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmubyten4)   | <span data-ttu-id="a7235-265">D3DDECLTYPE \_ UBYTE4N</span><span class="sxs-lookup"><span data-stu-id="a7235-265">D3DDECLTYPE\_UBYTE4N</span></span>                                                                  | <span data-ttu-id="a7235-266">D3DFMT \_ x8x8x8x8</span><span class="sxs-lookup"><span data-stu-id="a7235-266">D3DFMT\_x8x8x8x8</span></span>                                              | <span data-ttu-id="a7235-267">DXGI \_ format \_ x8x8x8x8 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="a7235-267">DXGI\_FORMAT\_x8x8x8x8\_UNORM</span></span><br/> <span data-ttu-id="a7235-268">DXGI \_ format \_ R10G10B10 \_ XR \_ Bias \_ a2 \_ UNORM (utilisez [**XMLoadUDecN4 \_**](/windows/win32/api/directxpackedvector/nf-directxpackedvector-xmloadudecn4_xr) XR et [**XMStoreUDecN4 \_**](/windows/win32/api/directxpackedvector/nf-directxpackedvector-xmstoreudecn4_xr)XR.)</span><span class="sxs-lookup"><span data-stu-id="a7235-268">DXGI\_FORMAT\_R10G10B10\_XR\_BIAS\_A2\_UNORM (Use [**XMLoadUDecN4\_XR**](/windows/win32/api/directxpackedvector/nf-directxpackedvector-xmloadudecn4_xr) and [**XMStoreUDecN4\_XR**](/windows/win32/api/directxpackedvector/nf-directxpackedvector-xmstoreudecn4_xr).)</span></span><br/> |
| [<span data-ttu-id="a7235-269">**XMUDEC4**</span><span class="sxs-lookup"><span data-stu-id="a7235-269">**XMUDEC4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmudec4)       | <span data-ttu-id="a7235-270">D3DDECLTYPE \_ UDEC4 (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-270">D3DDECLTYPE\_UDEC4 (Xbox Only)</span></span><br/> <span data-ttu-id="a7235-271">D3DDECLTYPE \_ UDEC3 (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-271">D3DDECLTYPE\_UDEC3 (Xbox Only)</span></span><br/>   | <span data-ttu-id="a7235-272">D3DFMT \_ A2R10G10B10</span><span class="sxs-lookup"><span data-stu-id="a7235-272">D3DFMT\_A2R10G10B10</span></span><br/> <span data-ttu-id="a7235-273">D3DFMT \_ A2B10G10R10</span><span class="sxs-lookup"><span data-stu-id="a7235-273">D3DFMT\_A2B10G10R10</span></span><br/> | <span data-ttu-id="a7235-274">DXGI \_ format \_ R10G10B10A2 \_ uint</span><span class="sxs-lookup"><span data-stu-id="a7235-274">DXGI\_FORMAT\_R10G10B10A2\_UINT</span></span>                                                                                                                                                                         |
| [<span data-ttu-id="a7235-275">**XMUDECN4**</span><span class="sxs-lookup"><span data-stu-id="a7235-275">**XMUDECN4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmudecn4)     | <span data-ttu-id="a7235-276">D3DDECLTYPE \_ UDEC4N (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-276">D3DDECLTYPE\_UDEC4N (Xbox Only)</span></span><br/> <span data-ttu-id="a7235-277">D3DDECLTYPE \_ UDEC3N (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-277">D3DDECLTYPE\_UDEC3N (Xbox Only)</span></span><br/> | <span data-ttu-id="a7235-278">D3DFMT \_ A2R10G10B10</span><span class="sxs-lookup"><span data-stu-id="a7235-278">D3DFMT\_A2R10G10B10</span></span><br/> <span data-ttu-id="a7235-279">D3DFMT \_ A2B10G10R10</span><span class="sxs-lookup"><span data-stu-id="a7235-279">D3DFMT\_A2B10G10R10</span></span><br/> | <span data-ttu-id="a7235-280">DXGI \_ format \_ R10G10B10A2 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="a7235-280">DXGI\_FORMAT\_R10G10B10A2\_UNORM</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="a7235-281">**XMUNIBBLE4**</span><span class="sxs-lookup"><span data-stu-id="a7235-281">**XMUNIBBLE4**</span></span>](/windows/win32/api/directxpackedvector/ns-directxpackedvector-xmunibble4) |                                                                                       | <span data-ttu-id="a7235-282">D3DFMT \_ A4R4G4B4, D3DFMT \_ X4R4G4B4</span><span class="sxs-lookup"><span data-stu-id="a7235-282">D3DFMT\_A4R4G4B4, D3DFMT\_X4R4G4B4</span></span>                            | <span data-ttu-id="a7235-283">DXGI \_ format \_ B4G4R4A4 \_ UNORM (DXGI 1.2 +)</span><span class="sxs-lookup"><span data-stu-id="a7235-283">DXGI\_FORMAT\_B4G4R4A4\_UNORM (DXGI 1.2+)</span></span>                                                                                                                                                               |
| [<span data-ttu-id="a7235-284">**XMUSHORT2**</span><span class="sxs-lookup"><span data-stu-id="a7235-284">**XMUSHORT2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmushort2)   | <span data-ttu-id="a7235-285">D3DDECLTYPE \_ USHORT2</span><span class="sxs-lookup"><span data-stu-id="a7235-285">D3DDECLTYPE\_USHORT2</span></span>                                                                  | <span data-ttu-id="a7235-286">D3DFMT \_ G16R16</span><span class="sxs-lookup"><span data-stu-id="a7235-286">D3DFMT\_G16R16</span></span>                                                | <span data-ttu-id="a7235-287">DXGI \_ format \_ R16G16 \_ uint</span><span class="sxs-lookup"><span data-stu-id="a7235-287">DXGI\_FORMAT\_R16G16\_UINT</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="a7235-288">**XMUSHORTN2**</span><span class="sxs-lookup"><span data-stu-id="a7235-288">**XMUSHORTN2**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmushortn2) | <span data-ttu-id="a7235-289">D3DDECLTYPE \_ USHORT2N</span><span class="sxs-lookup"><span data-stu-id="a7235-289">D3DDECLTYPE\_USHORT2N</span></span>                                                                 | <span data-ttu-id="a7235-290">D3DFMT \_ G16R16</span><span class="sxs-lookup"><span data-stu-id="a7235-290">D3DFMT\_G16R16</span></span>                                                | <span data-ttu-id="a7235-291">DXGI \_ format \_ R16G16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="a7235-291">DXGI\_FORMAT\_R16G16\_UNORM</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="a7235-292">**XMUSHORT4**</span><span class="sxs-lookup"><span data-stu-id="a7235-292">**XMUSHORT4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmushort4)   | <span data-ttu-id="a7235-293">D3DDECLTYPE \_ USHORT4 (Xbox uniquement)</span><span class="sxs-lookup"><span data-stu-id="a7235-293">D3DDECLTYPE\_USHORT4 (Xbox Only)</span></span>                                                      | <span data-ttu-id="a7235-294">D3DFMT \_ x16x16x16x16</span><span class="sxs-lookup"><span data-stu-id="a7235-294">D3DFMT\_x16x16x16x16</span></span>                                          | <span data-ttu-id="a7235-295">DXGI \_ format \_ R16G16B16A16 \_ uint</span><span class="sxs-lookup"><span data-stu-id="a7235-295">DXGI\_FORMAT\_R16G16B16A16\_UINT</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="a7235-296">**XMUSHORTN4**</span><span class="sxs-lookup"><span data-stu-id="a7235-296">**XMUSHORTN4**</span></span>](/windows/desktop/api/DirectXPackedVector/ns-directxpackedvector-xmushortn4) | <span data-ttu-id="a7235-297">D3DDECLTYPE \_ USHORT4N</span><span class="sxs-lookup"><span data-stu-id="a7235-297">D3DDECLTYPE\_USHORT4N</span></span>                                                                 | <span data-ttu-id="a7235-298">D3DFMT \_ x16x16x16x16</span><span class="sxs-lookup"><span data-stu-id="a7235-298">D3DFMT\_x16x16x16x16</span></span>                                          | <span data-ttu-id="a7235-299">DXGI \_ format \_ R16G16B16A16 \_ UNORM</span><span class="sxs-lookup"><span data-stu-id="a7235-299">DXGI\_FORMAT\_R16G16B16A16\_UNORM</span></span>                                                                                                                                                                       |



 

## <a name="global-constants-in-the-directxmath-library"></a><span data-ttu-id="a7235-300">Constantes globales dans la bibliothèque DirectXMath</span><span class="sxs-lookup"><span data-stu-id="a7235-300">Global Constants in the DirectXMath Library</span></span>

<span data-ttu-id="a7235-301">Pour réduire la taille du segment de données, la bibliothèque DirectXMath utilise la macro [XMGLOBALCONST](xmglobalconst.md) pour utiliser un certain nombre de constantes internes globales dans son implémentation.</span><span class="sxs-lookup"><span data-stu-id="a7235-301">To reduce the size of the data segment, the DirectXMath Library uses the [XMGLOBALCONST](xmglobalconst.md) macro to make use of a number of global internal constants in its implementation.</span></span> <span data-ttu-id="a7235-302">Par Convention, ces constantes globales internes sont précédées de **g \_ XM**.</span><span class="sxs-lookup"><span data-stu-id="a7235-302">By convention, such internal global constants are prefixed by **g\_XM**.</span></span> <span data-ttu-id="a7235-303">En règle générale, il s’agit de l’un des types suivants : [**XMVECTORU32**](xmvectoru32-data-type.md), [**XMVECTORF32**](xmvectorf32-data-type.md)ou **XMVECTORI32**.</span><span class="sxs-lookup"><span data-stu-id="a7235-303">Typically, they are one of the following types: [**XMVECTORU32**](xmvectoru32-data-type.md), [**XMVECTORF32**](xmvectorf32-data-type.md), or **XMVECTORI32**.</span></span>

<span data-ttu-id="a7235-304">Ces constantes globales internes sont sujettes à modification dans les futures révisions de la bibliothèque DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="a7235-304">These internal global constants are subject to change in future revisions of the DirectXMath Library.</span></span> <span data-ttu-id="a7235-305">Utilisez des fonctions publiques qui encapsulent les constantes si possible plutôt que d’utiliser directement les valeurs globales de **g \_ XM** .</span><span class="sxs-lookup"><span data-stu-id="a7235-305">Use public functions that encapsulate the constants when possible rather than direct use of **g\_XM** global values.</span></span> <span data-ttu-id="a7235-306">Vous pouvez également déclarer vos propres constantes globales à l’aide de [XMGLOBALCONST](xmglobalconst.md).</span><span class="sxs-lookup"><span data-stu-id="a7235-306">You can also declare your own global constants using [XMGLOBALCONST](xmglobalconst.md).</span></span>

## <a name="windows-sse-versus-sse2"></a><span data-ttu-id="a7235-307">Windows SSE et SSE2</span><span class="sxs-lookup"><span data-stu-id="a7235-307">Windows SSE versus SSE2</span></span>

<span data-ttu-id="a7235-308">Le jeu d’instructions SSE ne prend en charge que les vecteurs à virgule flottante simple précision.</span><span class="sxs-lookup"><span data-stu-id="a7235-308">The SSE instruction set provides support only for single-precision floating-point vectors.</span></span> <span data-ttu-id="a7235-309">DirectXMath doit utiliser le jeu d’instructions SSE2 pour fournir la prise en charge des vecteurs entiers.</span><span class="sxs-lookup"><span data-stu-id="a7235-309">DirectXMath must make use of the SSE2 instruction set to provide integer vector support.</span></span> <span data-ttu-id="a7235-310">SSE2 est pris en charge par tous les processeurs Intel depuis l’introduction du Pentium 4, de tous les processeurs AMD K8 et versions ultérieures, ainsi que de tous les processeurs compatibles x64.</span><span class="sxs-lookup"><span data-stu-id="a7235-310">SSE2 is supported by all Intel processors since the introduction of the Pentium 4, all AMD K8 and later processors, and all x64-capable processors.</span></span>

> [!Note]  
> <span data-ttu-id="a7235-311">Windows 8 pour x86 requiert la prise en charge de SSE2.</span><span class="sxs-lookup"><span data-stu-id="a7235-311">Windows 8 for x86 requires support for SSE2.</span></span> <span data-ttu-id="a7235-312">Toutes les versions de Windows x64 requièrent la prise en charge de SSE2.</span><span class="sxs-lookup"><span data-stu-id="a7235-312">All versions of Windows x64 require support for SSE2.</span></span> <span data-ttu-id="a7235-313">Windows RT (également connu sous le nom de Windows on ARM) requiert un \_ néon ARM.</span><span class="sxs-lookup"><span data-stu-id="a7235-313">Windows RT (also known as Windows on ARM) requires ARM\_NEON.</span></span>

 

## <a name="routine-variants"></a><span data-ttu-id="a7235-314">Variantes de routine</span><span class="sxs-lookup"><span data-stu-id="a7235-314">Routine Variants</span></span>

<span data-ttu-id="a7235-315">Il existe plusieurs variantes de fonctions DirectXMath qui facilitent votre travail :</span><span class="sxs-lookup"><span data-stu-id="a7235-315">There are several variants of DirectXMath functions that make it easier to do your work:</span></span>

-   <span data-ttu-id="a7235-316">Fonctions de comparaison pour créer un branchement conditionnel complexe basé sur un plus petit nombre d’opérations de comparaison de vecteurs.</span><span class="sxs-lookup"><span data-stu-id="a7235-316">Comparison functions to create complicated conditional branching based on a smaller number of vector comparison operations.</span></span> <span data-ttu-id="a7235-317">Le nom de ces fonctions se termine par « R », par exemple XMVector3InBoundsR.</span><span class="sxs-lookup"><span data-stu-id="a7235-317">The name of these functions end in "R" such as XMVector3InBoundsR.</span></span> <span data-ttu-id="a7235-318">Les fonctions retournent un enregistrement de comparaison en tant que valeur de retour UINT ou en tant que paramètre de sortie UINT.</span><span class="sxs-lookup"><span data-stu-id="a7235-318">The functions return a comparison record as a UINT return value, or as a UINT out parameter.</span></span> <span data-ttu-id="a7235-319">Vous pouvez utiliser les macros \**XMComparision \** _ pour tester la valeur.</span><span class="sxs-lookup"><span data-stu-id="a7235-319">You can use the \**XMComparision\** _ macros to test the value.</span></span>
-   <span data-ttu-id="a7235-320">Fonctions batch pour effectuer des opérations de style batch sur des tableaux de vecteurs plus grands.</span><span class="sxs-lookup"><span data-stu-id="a7235-320">Batch functions for performing batch-style operations on larger vector arrays.</span></span> <span data-ttu-id="a7235-321">Le nom de ces fonctions se termine par « Stream », par exemple [_ *XMVector3TransformStream* \*](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream).</span><span class="sxs-lookup"><span data-stu-id="a7235-321">The name of these functions end in "Stream" such as [_ *XMVector3TransformStream*\*](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream).</span></span> <span data-ttu-id="a7235-322">Les fonctions opèrent sur un tableau d’entrées et génèrent un tableau de sorties.</span><span class="sxs-lookup"><span data-stu-id="a7235-322">The functions operate on an array of inputs, and they generate an array of outputs.</span></span> <span data-ttu-id="a7235-323">En règle générale, ils prennent un Stride d’entrée et de sortie.</span><span class="sxs-lookup"><span data-stu-id="a7235-323">Typically, they take an input and output stride.</span></span>
-   <span data-ttu-id="a7235-324">Fonctions d’estimation qui implémentent une estimation plus rapide au lieu d’un résultat plus lent et plus précis.</span><span class="sxs-lookup"><span data-stu-id="a7235-324">Estimation functions that implement a faster estimation instead of a slower, more accurate result.</span></span> <span data-ttu-id="a7235-325">Le nom de ces fonctions se termine par « est », par exemple [**XMVector3NormalizeEst**](/windows/win32/api/directxmath/nf-directxmath-xmvector3normalizeest).</span><span class="sxs-lookup"><span data-stu-id="a7235-325">The name of these functions end in "Est" such as [**XMVector3NormalizeEst**](/windows/win32/api/directxmath/nf-directxmath-xmvector3normalizeest).</span></span> <span data-ttu-id="a7235-326">L’impact sur la qualité et les performances de l’estimation varie d’une plateforme à l’autres, mais nous vous recommandons d’utiliser des variantes d’estimation pour le code dépendant des performances.</span><span class="sxs-lookup"><span data-stu-id="a7235-326">The quality and performance impact of using estimation varies from platform to platform, but we recommend that you use estimation variants for performance-sensitive code.</span></span>

## <a name="platform-inconsistencies"></a><span data-ttu-id="a7235-327">Incohérences de la plateforme</span><span class="sxs-lookup"><span data-stu-id="a7235-327">Platform Inconsistencies</span></span>

<span data-ttu-id="a7235-328">La bibliothèque DirectXMath est destinée à être utilisée dans des applications graphiques et des jeux sensibles aux performances.</span><span class="sxs-lookup"><span data-stu-id="a7235-328">The DirectXMath library is intended for use in performance-sensitive graphics applications and games.</span></span> <span data-ttu-id="a7235-329">Par conséquent, l’implémentation est conçue pour une vitesse optimale de traitement normal sur toutes les plateformes prises en charge.</span><span class="sxs-lookup"><span data-stu-id="a7235-329">Therefore, the implementation is designed for optimal speed doing normal processing on all supported platforms.</span></span> <span data-ttu-id="a7235-330">Les résultats aux conditions limites, en particulier celles qui génèrent des spéciaux à virgule flottante, sont susceptibles de varier de la cible à la cible.</span><span class="sxs-lookup"><span data-stu-id="a7235-330">Results at boundary-conditions, particularly those that generate floating-point specials, are likely to vary from target to target.</span></span> <span data-ttu-id="a7235-331">Ce comportement dépend également d’autres paramètres d’exécution, tels que le mot de contrôle X87 pour la cible non intrinsèque Windows 32 bits ou le mot de contrôle SSE pour Windows 32 bits et 64 bits.</span><span class="sxs-lookup"><span data-stu-id="a7235-331">This behavior will also depend on other run-time settings, such as the x87 control word for the Windows 32-bit no-intrinsics target or the SSE control word for both Windows 32-bit and 64-bit.</span></span> <span data-ttu-id="a7235-332">En outre, il y aura des différences au sein des conditions limites entre les différents fournisseurs d’UC.</span><span class="sxs-lookup"><span data-stu-id="a7235-332">Furthermore, there will be differences in boundary-conditions between various CPU vendors.</span></span>

<span data-ttu-id="a7235-333">N’utilisez pas DirectXMath dans la science ou d’autres applications où la précision numérique est primordiale.</span><span class="sxs-lookup"><span data-stu-id="a7235-333">Don't use DirectXMath in scientific or other applications where numerical accuracy is paramount.</span></span> <span data-ttu-id="a7235-334">En outre, cette limitation est reflétée dans l’absence de prise en charge des calculs double ou de précision étendue.</span><span class="sxs-lookup"><span data-stu-id="a7235-334">Also, this limitation is reflected in the lack of support for double or other extended precision computations.</span></span>

> [!Note]  
> <span data-ttu-id="a7235-335">Les \_ \_ \_ \_ chemins de code scalaires de non-fonctions XM ne sont généralement pas écrits pour la conformité, et non pour les performances.</span><span class="sxs-lookup"><span data-stu-id="a7235-335">The \_XM\_NO\_INTRINSICS\_ scalar code paths generally are written for compliance, not performance.</span></span> <span data-ttu-id="a7235-336">Leurs résultats de conditions limites varient également.</span><span class="sxs-lookup"><span data-stu-id="a7235-336">Their boundary-condition results also will vary.</span></span>

 

## <a name="platform-specific-extensions"></a><span data-ttu-id="a7235-337">Extensions spécifiques à la plateforme</span><span class="sxs-lookup"><span data-stu-id="a7235-337">Platform-specific Extensions</span></span>

<span data-ttu-id="a7235-338">La bibliothèque DirectXMath est conçue pour simplifier la programmation en C++ SIMD fournissant une excellente prise en charge des plateformes x86, x64 et Windows RT à l’aide d’instructions intrinsèques largement prises en charge (SSE2 et ARM-néon).</span><span class="sxs-lookup"><span data-stu-id="a7235-338">The DirectXMath library is intended to simplify C++ SIMD programming providing excellent support for x86, x64, and Windows RT platforms using broadly supported intrinsics instructions (SSE2 and ARM-NEON).</span></span>

<span data-ttu-id="a7235-339">Dans certains cas, toutefois, lorsque des instructions spécifiques à la plateforme peuvent s’avérer bénéfiques.</span><span class="sxs-lookup"><span data-stu-id="a7235-339">There are times, however, when platform-specific instructions may prove beneficial.</span></span> <span data-ttu-id="a7235-340">En raison de la façon dont DirectXMath est implémenté, dans de nombreux cas, il est facile d’utiliser des types DirectXMath directement dans les instructions d’intrinsèques standard prises en charge par le compilateur, et d’utiliser DirectXMath comme chemin de secours pour les plateformes qui ne prennent pas en charge l’instruction étendue.</span><span class="sxs-lookup"><span data-stu-id="a7235-340">Due to the way DirectXMath is implemented, in many cases it is trivial to use DirectXMath types directly in standard compiler-supported intrinsics statements, and to use DirectXMath as the fallback path for platforms that don't support the extended instruction.</span></span>

<span data-ttu-id="a7235-341">Par exemple, voici un exemple simplifié de l’utilisation de l’instruction SSE 4,1 point-Product.</span><span class="sxs-lookup"><span data-stu-id="a7235-341">For example, here is a simplified example of leveraging the SSE 4.1 dot-product instruction.</span></span> <span data-ttu-id="a7235-342">Notez que vous devez protéger explicitement le chemin d’accès du code pour éviter de générer des exceptions d’instruction non valides au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="a7235-342">Note that you must explicitly guard the code-path to avoid generating invalid instruction exceptions at run time.</span></span> <span data-ttu-id="a7235-343">Assurez-vous que les chemins de code sont suffisamment importants pour justifier le coût supplémentaire de la branche, la complexité de la gestion de plusieurs chemins de code, etc.</span><span class="sxs-lookup"><span data-stu-id="a7235-343">Ensure the code paths do significant enough work to justify the additional cost of branching, complexity of maintaining multiple code-paths, and so on.</span></span>


```
#include <windows.h>
#include <stdio.h>

#include <DirectXMath.h>

#include <intrin.h>
#include <smmintrin.h>

using namespace DirectX;

bool g_bSSE41 = false;

void DetectCPUFeatures()
{
#ifndef _M_ARM
   // See __cpuid documentation on MSDN for more information

   int CPUInfo[4] = {-1};
   __cpuid( CPUInfo, 0 );

   if ( CPUInfo[0] >= 1 )
   {
       __cpuid(CPUInfo, 1 );
 
       if ( CPUInfo[2] & 0x80000 )
           g_bSSE41 = true;
   }
#endif
}

int main()
{
   if ( !XMVerifyCPUSupport() )
       return -1;

   DetectCPUFeatures();

   ...

   XMVECTORF32 v1 = { 1.f, 2.f, 3.f, 4.f };
   XMVECTORF32 v2 = { 5.f, 6.f, 7.f, 8.f };

   XMVECTOR r2, r3, r4;

   if ( g_bSSE41 )
   {
#ifndef _M_ARM
       r2 = _mm_dp_ps( v1, v2, 0x3f );
       r3 = _mm_dp_ps( v1, v2, 0x7f );
       r4 = _mm_dp_ps( v1, v2, 0xff );
#endif
   }
   else
   {
       r2 = XMVector2Dot( v1, v2 );
       r3 = XMVector3Dot( v1, v2 );
       r4 = XMVector4Dot( v1, v2 );
   }

   ... 

   return 0;
}
```



<span data-ttu-id="a7235-344">Pour plus d’informations sur les extensions spécifiques à une plateforme, consultez :</span><span class="sxs-lookup"><span data-stu-id="a7235-344">For more info about platform-specific extensions, see:</span></span>

<dl>

[<span data-ttu-id="a7235-345">DirectXMath : SSE, SSE2 et ARM-néon</span><span class="sxs-lookup"><span data-stu-id="a7235-345">DirectXMath: SSE, SSE2, and ARM-NEON</span></span>](https://walbourn.github.io/directxmath-sse-sse2-and-arm-neon/)  
[<span data-ttu-id="a7235-346">DirectXMath : SSE3 et SSSE3</span><span class="sxs-lookup"><span data-stu-id="a7235-346">DirectXMath: SSE3 and SSSE3</span></span>](https://walbourn.github.io/directxmath-sse3-and-ssse3/)  
[<span data-ttu-id="a7235-347">DirectXMath : SSE 4.1 et SSE 4.2</span><span class="sxs-lookup"><span data-stu-id="a7235-347">DirectXMath: SSE4.1 and SSE4.2</span></span>](https://walbourn.github.io/directxmath-sse4-1-and-sse4-2/)  
[<span data-ttu-id="a7235-348">DirectXMath : AVX</span><span class="sxs-lookup"><span data-stu-id="a7235-348">DirectXMath: AVX</span></span>](https://walbourn.github.io/directxmath-avx/)  
[<span data-ttu-id="a7235-349">DirectXMath : F16C et FMA</span><span class="sxs-lookup"><span data-stu-id="a7235-349">DirectXMath: F16C and FMA</span></span>](https://walbourn.github.io/directxmath-f16c-and-fma/)  
[<span data-ttu-id="a7235-350">DirectXMath : AVX2</span><span class="sxs-lookup"><span data-stu-id="a7235-350">DirectXMath: AVX2</span></span>](https://walbourn.github.io/directxmath-avx2/)  
[<span data-ttu-id="a7235-351">DirectXMath : ARM64</span><span class="sxs-lookup"><span data-stu-id="a7235-351">DirectXMath: ARM64</span></span>](https://walbourn.github.io/directxmath-arm64/)  
</dl>

## <a name="related-topics"></a><span data-ttu-id="a7235-352">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="a7235-352">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a7235-353">Guide de programmation DirectXMath</span><span class="sxs-lookup"><span data-stu-id="a7235-353">DirectXMath Programming Guide</span></span>](ovw-xnamath-progguide.md)
</dt> </dl>

 

 
