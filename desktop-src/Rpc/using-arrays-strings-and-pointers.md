---
title: Utilisation de tableaux, de chaînes et de pointeurs
description: Le programme Doctor (consultez \\ exemples \\ \\ du docteur RPC dans le kit de développement logiciel (SDK) de la plateforme) est un bon exemple d’application qui montre les compromis de conception impliqués dans les attributs de tableau et de chaîne.
ms.assetid: 9aea94a1-ae1f-4bd6-9dd3-146edf0b5fec
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 542a174b9ffd742ecf88de7231449a780be8dca9
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104101764"
---
# <a name="using-arrays-strings-and-pointers"></a><span data-ttu-id="6f7b0-103">Utilisation de tableaux, de chaînes et de pointeurs</span><span class="sxs-lookup"><span data-stu-id="6f7b0-103">Using Arrays, Strings, and Pointers</span></span>

<span data-ttu-id="6f7b0-104">Le programme Doctor (consultez \\ exemples \\ \\ du docteur RPC dans le kit de développement logiciel (SDK) de la plateforme) est un bon exemple d’application qui montre les compromis de conception impliqués dans les attributs de tableau et de chaîne.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-104">The Doctor program (see \\samples\\rpc\\doctor in the Platform Software Development Kit (SDK)) is a good example of an application that demonstrates the design trade-offs involved with array and string attributes.</span></span> <span data-ttu-id="6f7b0-105">Le programme Doctor est un petit exemple de version d’un programme mieux connu, Eliza, développé par l’organiseur d’intelligence artificielle Joseph Weizenbaum au MIT au MIT des années 60.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-105">The Doctor program is a small sample version of a better-known program, Eliza, developed by artificial intelligence researcher Joseph Weizenbaum at MIT in the 1960s.</span></span> <span data-ttu-id="6f7b0-106">Le programme imite un Therapist à l’aide de la mise en correspondance de modèle simple pour répondre à une entrée en langage naturel.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-106">The program mimics a therapist by using simple pattern-matching to respond to natural language input.</span></span>

<span data-ttu-id="6f7b0-107">Le programme Eliza a enregistré la session suivante.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-107">The Eliza program recorded the following session.</span></span>



| <span data-ttu-id="6f7b0-108">Utilisateur</span><span class="sxs-lookup"><span data-stu-id="6f7b0-108">User</span></span>                                                | <span data-ttu-id="6f7b0-109">Eliza</span><span class="sxs-lookup"><span data-stu-id="6f7b0-109">Eliza</span></span>                                                     |
|-----------------------------------------------------|-----------------------------------------------------------|
| <span data-ttu-id="6f7b0-110">Les hommes sont tous similaires.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-110">Men are all alike.</span></span>                                  | <span data-ttu-id="6f7b0-111">De quelle manière ?</span><span class="sxs-lookup"><span data-stu-id="6f7b0-111">In what way?</span></span>                                              |
| <span data-ttu-id="6f7b0-112">Ils sont toujours en cours de débogage sur un élément ou un autre.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-112">They're always bugging us about something or other.</span></span> | <span data-ttu-id="6f7b0-113">Pouvez-vous penser à un exemple spécifique ?</span><span class="sxs-lookup"><span data-stu-id="6f7b0-113">Can you think of a specific example?</span></span>                      |
| <span data-ttu-id="6f7b0-114">Eh bien, mon Boyfriend m’a fait ici.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-114">Well, my boyfriend made me come here.</span></span>               | <span data-ttu-id="6f7b0-115">Votre Boyfriend vous est venu ici.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-115">Your boyfriend made you come here.</span></span>                        |
| <span data-ttu-id="6f7b0-116">Il me dit que j’ai appuyé sur la plupart du temps.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-116">He says I'm depressed much of the time.</span></span>             | <span data-ttu-id="6f7b0-117">Je suis désolé (e) que vous avez appuyé.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-117">I am sorry to hear that you are depressed.</span></span>                |
| <span data-ttu-id="6f7b0-118">C’est vrai, je suis mécontent.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-118">It's true, I am unhappy.</span></span>                            | <span data-ttu-id="6f7b0-119">Pensez-vous ici, vous aiderez à ne pas être mécontent ?</span><span class="sxs-lookup"><span data-stu-id="6f7b0-119">Do you think coming here will help you not to be unhappy?</span></span> |
| <span data-ttu-id="6f7b0-120">J’ai besoin d’aide ; Cela semble vraiment certain.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-120">I need some help; that much seems certain.</span></span>          | <span data-ttu-id="6f7b0-121">Que feriez-vous pour vous si vous avez de l’aide ?</span><span class="sxs-lookup"><span data-stu-id="6f7b0-121">What would it mean to you if you got some help?</span></span>           |
| <span data-ttu-id="6f7b0-122">Peut-être avez-vous pu apprendre à utiliser ma mère.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-122">Perhaps I could learn to get along with my mother.</span></span>  | <span data-ttu-id="6f7b0-123">En savoir plus sur votre famille.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-123">Tell me more about your family.</span></span>                           |
| <span data-ttu-id="6f7b0-124">Ma mère s’occupe de moi.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-124">My mother takes care of me.</span></span>                         | <span data-ttu-id="6f7b0-125">Quel autre utilisateur de votre famille vous prend-t-il en charge ?</span><span class="sxs-lookup"><span data-stu-id="6f7b0-125">Who else in your family takes care of you?</span></span>                |
| <span data-ttu-id="6f7b0-126">Mon père.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-126">My father.</span></span>                                          | <span data-ttu-id="6f7b0-127">Ton père.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-127">Your father.</span></span>                                              |
| <span data-ttu-id="6f7b0-128">Vous aimez mon père de quelque manière que ce soit.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-128">You are like my father in some ways.</span></span>                | <span data-ttu-id="6f7b0-129">Quelle ressemblance voyez-vous ?</span><span class="sxs-lookup"><span data-stu-id="6f7b0-129">What resemblance do you see?</span></span>                              |



 

<span data-ttu-id="6f7b0-130">Le programme Doctor peut être fractionné en applications côté client et côté serveur.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-130">The Doctor program can be split into client-side and server-side applications.</span></span> <span data-ttu-id="6f7b0-131">Le côté client invite le patient à entrer des informations et affiche la réponse du médecin.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-131">The client side prompts the patient for input and displays the doctor's response.</span></span> <span data-ttu-id="6f7b0-132">Le côté serveur traite l’entrée du patient et génère la réponse du médecin.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-132">The server side processes the patient input and generates the doctor's response.</span></span> <span data-ttu-id="6f7b0-133">Il s’agit d’un exemple classique d’une application client-serveur : le client est responsable de l’interaction de l’utilisateur tandis que le serveur gère la charge de calcul étendue.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-133">This is a classic example of a client-server application: the client is responsible for user interaction while the server handles the extensive computational load.</span></span> <span data-ttu-id="6f7b0-134">Peu de données sont passées à la fonction et retournées par celle-ci, mais comme les données peuvent nécessiter une quantité importante de traitement, le serveur les traite.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-134">Not much data is passed to and returned by the function but, because the data can require a significant amount of processing, the server processes it.</span></span>

<span data-ttu-id="6f7b0-135">Le programme Doctor utilise un tableau de caractères pour l’entrée et retourne un autre tableau de caractères en tant que sortie.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-135">The Doctor program uses a character array for input and returns another character array as output.</span></span> <span data-ttu-id="6f7b0-136">Le tableau ci-dessous répertorie quatre façons de passer des tableaux de caractères entre le client et le serveur, ainsi que les attributs et les fonctions nécessaires pour implémenter chaque approche.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-136">The table below lists four ways to pass character arrays between the client and server, and the attributes and functions needed to implement each approach.</span></span>



| <span data-ttu-id="6f7b0-137">Approche</span><span class="sxs-lookup"><span data-stu-id="6f7b0-137">Approach</span></span>                       | <span data-ttu-id="6f7b0-138">Attributs ou fonctions</span><span class="sxs-lookup"><span data-stu-id="6f7b0-138">Attributes or functions</span></span>                                                                                                        |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6f7b0-139">Tableaux de caractères comptés</span><span class="sxs-lookup"><span data-stu-id="6f7b0-139">Counted character arrays</span></span>       | <span data-ttu-id="6f7b0-140">\[la [taille \_ est](/windows/desktop/Midl/size-is) \] , la \[ [longueur \_ est](/windows/desktop/Midl/length-is) \] , \[ [ref](/windows/desktop/Midl/ref)\]</span><span class="sxs-lookup"><span data-stu-id="6f7b0-140">\[ [size\_is](/windows/desktop/Midl/size-is)\], \[ [length\_is](/windows/desktop/Midl/length-is)\], \[ [ref](/windows/desktop/Midl/ref)\]</span></span>                                         |
| <span data-ttu-id="6f7b0-141">Chaînes gérées par stub</span><span class="sxs-lookup"><span data-stu-id="6f7b0-141">Stub-managed strings</span></span>           | <span data-ttu-id="6f7b0-142">\[[chaîne](/windows/desktop/Midl/string) \] , \[ [Réf](/windows/desktop/Midl/ref) \] , [MIDL \_ \_ allouée](/windows/desktop/Midl/midl-user-allocate-1) par l’utilisateur sur le serveur</span><span class="sxs-lookup"><span data-stu-id="6f7b0-142">\[ [string](/windows/desktop/Midl/string)\], \[ [ref](/windows/desktop/Midl/ref)\], [midl\_user\_allocate](/windows/desktop/Midl/midl-user-allocate-1) on server</span></span>                  |
| <span data-ttu-id="6f7b0-143">Chaînes gérées par stub</span><span class="sxs-lookup"><span data-stu-id="6f7b0-143">Stub-managed strings</span></span>           | <span data-ttu-id="6f7b0-144">\[[chaîne](/windows/desktop/Midl/string) \] , \[ [unique](/windows/desktop/Midl/unique) \] , [ \_ \_ attribution de l’utilisateur MIDL](/windows/desktop/Midl/midl-user-allocate-1) sur le client et le serveur</span><span class="sxs-lookup"><span data-stu-id="6f7b0-144">\[ [string](/windows/desktop/Midl/string)\], \[ [unique](/windows/desktop/Midl/unique)\], [midl\_user\_allocate](/windows/desktop/Midl/midl-user-allocate-1) on client and server</span></span> |
| <span data-ttu-id="6f7b0-145">Fonction qui retourne une chaîne</span><span class="sxs-lookup"><span data-stu-id="6f7b0-145">Function that returns a string</span></span> | <span data-ttu-id="6f7b0-146">\[[unique](/windows/desktop/Midl/unique)\]</span><span class="sxs-lookup"><span data-stu-id="6f7b0-146">\[ [unique](/windows/desktop/Midl/unique)\]</span></span>                                                                                                     |



 

<span data-ttu-id="6f7b0-147">Dans les contraintes associées à ces combinaisons d’attributs, il existe d’autres façons d’envoyer un tableau de caractères d’un client à un serveur et de retourner un autre tableau de caractères du serveur au client.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-147">Within the constraints associated with these combinations of attributes, there are alternative ways of sending one character array from client to server and of returning another character array from server to client.</span></span>

<span data-ttu-id="6f7b0-148">Les rubriques suivantes illustrent les compromis de conception entre les différentes interfaces qui peuvent gérer ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="6f7b0-148">The following topics demonstrate the design trade-offs between the various interfaces that can manage these parameters.</span></span>

-   [<span data-ttu-id="6f7b0-149">Tableaux de caractères comptés</span><span class="sxs-lookup"><span data-stu-id="6f7b0-149">Counted Character Arrays</span></span>](counted-character-arrays.md)
-   [<span data-ttu-id="6f7b0-150">Chaînes</span><span class="sxs-lookup"><span data-stu-id="6f7b0-150">Strings</span></span>](strings.md)
-   [<span data-ttu-id="6f7b0-151">Plusieurs niveaux de pointeurs</span><span class="sxs-lookup"><span data-stu-id="6f7b0-151">Multiple Levels of Pointers</span></span>](multiple-levels-of-pointers.md)

 

 