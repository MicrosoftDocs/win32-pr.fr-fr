---
title: Configuration de SAP et RPC
description: Les serveurs réseau Novell NetWare utilisent le protocole SAP (Service Advertising Protocol) pour diffuser des informations sur les services disponibles sur le réseau vers d’autres appareils en réseau.
ms.assetid: 6d6ef481-fc09-4795-8954-33329912ff4f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 385d60168a52cbe5d31368959ec4f21d52f9ad80
ms.sourcegitcommit: 1e8e6e6f27c909900cfa8be58b042456331a82ad
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/15/2019
ms.locfileid: "104380470"
---
# <a name="configuring-sap-and-rpc"></a><span data-ttu-id="f163d-103">Configuration de SAP et RPC</span><span class="sxs-lookup"><span data-stu-id="f163d-103">Configuring SAP and RPC</span></span>

<span data-ttu-id="f163d-104">Les serveurs réseau Novell NetWare utilisent le protocole SAP (Service Advertising Protocol) pour diffuser des informations sur les services disponibles sur le réseau vers d’autres appareils en réseau.</span><span class="sxs-lookup"><span data-stu-id="f163d-104">Novell NetWare network servers use the Service Advertising Protocol (SAP) to broadcast information about available services on the network to other networked devices.</span></span> <span data-ttu-id="f163d-105">Un serveur peut envoyer une diffusion SAP toutes les 60 secondes pour informer les autres périphériques réseau des services qu’il offre.</span><span class="sxs-lookup"><span data-stu-id="f163d-105">A server may send out an SAP broadcast every 60 seconds to inform other network devices about the services it offers.</span></span> <span data-ttu-id="f163d-106">Les stations de travail utilisent des SAP pour trouver les services dont ils ont besoin sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="f163d-106">Workstations use SAPs to find services they need on the network.</span></span>

<span data-ttu-id="f163d-107">Windows comprend un service d’agent SAP pour permettre aux serveurs Windows d’interagir avec les serveurs NetWare.</span><span class="sxs-lookup"><span data-stu-id="f163d-107">Windows includes a SAP Agent service to enable Windows-based servers to interact with NetWare servers.</span></span> <span data-ttu-id="f163d-108">Le service de l’agent SAP écoute les demandes SAP des clients réseau pour les services IPX qui sont installés et en cours d’exécution sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="f163d-108">The SAP Agent service will listen for network clients' SAP requests for IPX-based services that are installed and running on the server.</span></span>

<span data-ttu-id="f163d-109">Le logiciel conçu pour être publié en tant que service sur le réseau au moyen d’une diffusion SAP émet les annonces SAP toutes les 60 secondes, sans avoir à installer l’agent SAP.</span><span class="sxs-lookup"><span data-stu-id="f163d-109">Software that is designed to be advertised as a service over the network by means of a SAP broadcast will issue the SAP announcements every 60 seconds, without having the SAP Agent installed.</span></span> <span data-ttu-id="f163d-110">Toutefois, pour que les clients réseau localisent rapidement un service réseau IPX, un serveur qui gère une base de données de service doit être disponible sur le réseau pour répondre à la demande d’emplacement du service.</span><span class="sxs-lookup"><span data-stu-id="f163d-110">However, in order for network clients to quickly locate an IPX network service, a server that maintains a service database must be available on the network, to respond to the service location request.</span></span> <span data-ttu-id="f163d-111">Cette base de données de service est généralement gérée par un serveur Novell NetWare ou un serveur compatible NetWare.</span><span class="sxs-lookup"><span data-stu-id="f163d-111">This service database is usually maintained by a Novell NetWare or by a NetWare compatible server.</span></span> <span data-ttu-id="f163d-112">Les services de fichiers et d’impression Microsoft pour NetWare conserveront également une base de données de service réseau IPX.</span><span class="sxs-lookup"><span data-stu-id="f163d-112">Microsoft File and Print Services for NetWare will also maintain an IPX network service database.</span></span>

<span data-ttu-id="f163d-113">Sur un ordinateur exécutant Windows Server, si les services de passerelle pour NetWare (GSNW) sont installés, un type SAP 640 est diffusé toutes les 60 secondes par le service d’appel de procédure distante (RPC).</span><span class="sxs-lookup"><span data-stu-id="f163d-113">On a computer running Windows Server, if Gateway Services for NetWare (GSNW) is installed, a SAP Type 640 will broadcast every 60 seconds by the remote procedure call (RPC) service.</span></span> <span data-ttu-id="f163d-114">Cette diffusion SAP se poursuivra même si l’utilisateur désactive la passerelle GSNW et le service SAP agent.</span><span class="sxs-lookup"><span data-stu-id="f163d-114">This SAP broadcast will continue even if the user disables the GSNW and the SAP Agent Service.</span></span>

<span data-ttu-id="f163d-115">Le service RPC effectue la diffusion SAP si les services client pour NetWare (CSNW) et le service de l’agent SAP sont installés.</span><span class="sxs-lookup"><span data-stu-id="f163d-115">The RPC service will do the SAP broadcast if the Client Services for NetWare (CSNW) and the SAP Agent service are installed.</span></span> <span data-ttu-id="f163d-116">Cette diffusion SAP se poursuivra même si l’utilisateur désactive l’agent SAP.</span><span class="sxs-lookup"><span data-stu-id="f163d-116">This SAP broadcast will continue even if the user disables the SAP agent.</span></span>

<span data-ttu-id="f163d-117">Par défaut, le service RPC vérifie la présence des services de passerelle pour NetWare et du service de l’agent SAP sur l’ordinateur exécutant Windows Server.</span><span class="sxs-lookup"><span data-stu-id="f163d-117">By default, the RPC service will check for the presence of Gateway Services for NetWare and the SAP Agent service on the computer running Windows Server.</span></span> <span data-ttu-id="f163d-118">L’installation des services de fichiers et d’impression pour NetWare installe un agent SAP.</span><span class="sxs-lookup"><span data-stu-id="f163d-118">Installing File and Print services for NetWare installs a SAP Agent.</span></span>

<span data-ttu-id="f163d-119">Sur l’ordinateur exécutant une version cliente de Windows avec CSNW, le service RPC recherche le service de l’agent SAP.</span><span class="sxs-lookup"><span data-stu-id="f163d-119">On the computer running a client version of Windows with CSNW, the RPC service checks for the SAP Agent service.</span></span> <span data-ttu-id="f163d-120">Si les services sont présents, RPC démarre son propre thread qui effectue le type de diffusion SAP 640 toutes les minutes.</span><span class="sxs-lookup"><span data-stu-id="f163d-120">If the services are present, RPC will start its own thread that will do the SAP broadcast Type 640 every minute.</span></span>

> [!NOTE]
> <span data-ttu-id="f163d-121">Si vous ne souhaitez pas diffuser des diffusions SAP sur le réseau toutes les 60 secondes, vous pouvez désactiver les diffusions SAP à l’aide de l’éditeur du Registre.</span><span class="sxs-lookup"><span data-stu-id="f163d-121">If you don't want SAP broadcasts on the network every 60 seconds, you can disable SAP broadcasts using the Registry Editor.</span></span> <span data-ttu-id="f163d-122">Un avertissement indiquant que l’utilisation incorrecte de l’éditeur du Registre peut provoquer des problèmes sérieux pouvant vous obliger à réinstaller votre système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="f163d-122">Be warned that using Registry Editor incorrectly can cause serious problems that may require you to reinstall your operating system.</span></span> <span data-ttu-id="f163d-123">Microsoft ne peut pas garantir que les problèmes résultant d'une utilisation incorrecte de l'éditeur du Registre puissent être résolus.</span><span class="sxs-lookup"><span data-stu-id="f163d-123">Microsoft cannot guarantee that problems resulting from the incorrect use of Registry Editor can be solved.</span></span> <span data-ttu-id="f163d-124">Son utilisation est sous votre entière responsabilité.</span><span class="sxs-lookup"><span data-stu-id="f163d-124">Use Registry Editor at your own risk.</span></span> <span data-ttu-id="f163d-125">Vous devez sauvegarder le registre avant de le modifier.</span><span class="sxs-lookup"><span data-stu-id="f163d-125">You should back up the registry before you edit it.</span></span>

 

<span data-ttu-id="f163d-126">**Pour configurer pour SAP**</span><span class="sxs-lookup"><span data-stu-id="f163d-126">**To configure for SAP**</span></span>

1.  <span data-ttu-id="f163d-127">Exécutez l’éditeur du Registre (Regedt32.exe) et accédez à la clé suivante dans le registre :</span><span class="sxs-lookup"><span data-stu-id="f163d-127">Run Registry Editor (Regedt32.exe) and go to the following key in the registry:</span></span>

    <span data-ttu-id="f163d-128">**HKEY \_ local \_ machine \\ Software \\ Microsoft \\ RPC**</span><span class="sxs-lookup"><span data-stu-id="f163d-128">**HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\RPC**</span></span>

2.  <span data-ttu-id="f163d-129">Dans le menu **Edition** , cliquez sur **Ajouter une valeur** et utilisez l’entrée suivante :</span><span class="sxs-lookup"><span data-stu-id="f163d-129">On the **Edit** menu, click **Add Value**, and use the following entry:</span></span>
    1.  <span data-ttu-id="f163d-130">Nom de la valeur : AdvertiseRpcService</span><span class="sxs-lookup"><span data-stu-id="f163d-130">Value Name: AdvertiseRpcService</span></span>
    2.  <span data-ttu-id="f163d-131">Type de données : ENR \_ SZ</span><span class="sxs-lookup"><span data-stu-id="f163d-131">Data Type: REG\_SZ</span></span>
    3.  <span data-ttu-id="f163d-132">Chaîne : non</span><span class="sxs-lookup"><span data-stu-id="f163d-132">String: No</span></span>
3.  <span data-ttu-id="f163d-133">Si vous n’utilisez pas pour la chaîne, la diffusion SAP RPC est désactivée.</span><span class="sxs-lookup"><span data-stu-id="f163d-133">Using No for the string turns RPC SAP broadcasting off.</span></span> <span data-ttu-id="f163d-134">L’utilisation de la valeur Yes pour la chaîne active la diffusion RPC SAP sur.</span><span class="sxs-lookup"><span data-stu-id="f163d-134">Using Yes for the string turns RPC SAP broadcasting on.</span></span>
4.  <span data-ttu-id="f163d-135">Redémarrez l’ordinateur pour que la modification du registre soit prise en compte.</span><span class="sxs-lookup"><span data-stu-id="f163d-135">Restart the computer for the registry change to take effect.</span></span>
    > [!NOTE]
    > <span data-ttu-id="f163d-136">Si les diffusions SAP continuent après avoir effectué ces étapes, vous souhaiterez peut-être essayer une étape de dépannage.</span><span class="sxs-lookup"><span data-stu-id="f163d-136">If the SAP broadcasts continue after following these steps, you may want to try a troubleshooting step.</span></span> <span data-ttu-id="f163d-137">Supprimez la valeur de chaîne **ncacn \_ SPX** dans la clé de Registre suivante :</span><span class="sxs-lookup"><span data-stu-id="f163d-137">Delete the **Ncacn\_spx** string value in the following registry key:</span></span>
    >
    > <span data-ttu-id="f163d-138">**HKEY \_ local \_ machine \\ Software \\ Microsoft \\ RPC \\ ServerProtocols\\**</span><span class="sxs-lookup"><span data-stu-id="f163d-138">**HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Rpc\\ServerProtocols\\**</span></span>

     

> [!NOTE]  
> <span data-ttu-id="f163d-139">Cela ne doit être utilisé qu’en tant qu’étape de dépannage.</span><span class="sxs-lookup"><span data-stu-id="f163d-139">This should be used only as a troubleshooting step.</span></span> <span data-ttu-id="f163d-140">La suppression de cette valeur de chaîne désactive complètement les diffusions SAP dont certains programmes peuvent avoir besoin pour fonctionner correctement.</span><span class="sxs-lookup"><span data-stu-id="f163d-140">Deleting this string value completely disables SAP broadcasts which some programs may need in order to function properly.</span></span>