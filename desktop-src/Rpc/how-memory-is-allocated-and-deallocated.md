---
title: Comment la mémoire est allouée et désallouée
description: Par défaut, le code stub généré par le compilateur MIDL appelle des fonctions fournies par l’utilisateur pour allouer et libérer de la mémoire. Ces fonctions, nommées MIDL \_ utilisateur \_ allocate et MIDL \_ utilisateur \_ gratuit, doivent être fournies par le développeur et liées à l’application.
ms.assetid: 65af7a6d-4cfa-4175-9085-560d97cab41d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 331c32ac4d33fbd67f617f79125921ddfffc0de5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104382355"
---
# <a name="how-memory-is-allocated-and-deallocated"></a><span data-ttu-id="c122a-104">Comment la mémoire est allouée et désallouée</span><span class="sxs-lookup"><span data-stu-id="c122a-104">How Memory Is Allocated and Deallocated</span></span>

<span data-ttu-id="c122a-105">Par défaut, le code stub généré par le compilateur MIDL appelle des fonctions fournies par l’utilisateur pour allouer et libérer de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="c122a-105">By default, stub code generated by the MIDL compiler calls user-supplied functions to allocate and free memory.</span></span> <span data-ttu-id="c122a-106">Ces fonctions, nommées [**MIDL \_ utilisateur \_ allocate**](/windows/desktop/Midl/midl-user-allocate-1) et [**MIDL \_ utilisateur \_ gratuit**](/windows/desktop/Midl/midl-user-free-1), doivent être fournies par le développeur et liées à l’application.</span><span class="sxs-lookup"><span data-stu-id="c122a-106">These functions, named [**midl\_user\_allocate**](/windows/desktop/Midl/midl-user-allocate-1) and [**midl\_user\_free**](/windows/desktop/Midl/midl-user-free-1), must be supplied by the developer and linked with the application.</span></span>

<span data-ttu-id="c122a-107">Toutes les applications doivent fournir des implémentations de l' [**\_ \_ allocation utilisateur MIDL**](/windows/desktop/Midl/midl-user-allocate-1) et du [**MIDL \_ utilisateur \_ gratuit**](/windows/desktop/Midl/midl-user-free-1), même si les noms de ces fonctions peuvent ne pas apparaître explicitement dans les stubs.</span><span class="sxs-lookup"><span data-stu-id="c122a-107">All applications must supply implementations of [**midl\_user\_allocate**](/windows/desktop/Midl/midl-user-allocate-1) and [**midl\_user\_free**](/windows/desktop/Midl/midl-user-free-1), even though the names of these functions may not appear explicitly in the stubs.</span></span> <span data-ttu-id="c122a-108">La seule exception est quand vous compilez en mode de compatibilité OSF (/OSF).</span><span class="sxs-lookup"><span data-stu-id="c122a-108">The only exception is when you are compiling in OSF-compatibility (/osf) mode.</span></span> <span data-ttu-id="c122a-109">Ces fonctions fournies par l’utilisateur doivent correspondre à un prototype de fonction défini spécifique, mais dans le cas contraire, elles peuvent être implémentées de quelque façon que ce soit, pratique ou utile pour l’application.</span><span class="sxs-lookup"><span data-stu-id="c122a-109">These user-supplied functions must match a specific, defined function prototype but otherwise, can be implemented in any way that is convenient or useful for the application.</span></span> <span data-ttu-id="c122a-110">Les applications peuvent également utiliser le package de gestion de mémoire RpcSs.</span><span class="sxs-lookup"><span data-stu-id="c122a-110">Alternatively, applications can use the RpcSs Memory Management Package.</span></span> <span data-ttu-id="c122a-111">La bibliothèque Runtime RPC Microsoft fournit ce groupe de fonctions.</span><span class="sxs-lookup"><span data-stu-id="c122a-111">The Microsoft RPC run-time library supplies this group of functions.</span></span>

<span data-ttu-id="c122a-112">Les sections suivantes décrivent les fonctions de gestion de la mémoire RPC.</span><span class="sxs-lookup"><span data-stu-id="c122a-112">The following sections describe the RPC memory management functions.</span></span>

-   [<span data-ttu-id="c122a-113">**allouer un \_ utilisateur MIDL \_**</span><span class="sxs-lookup"><span data-stu-id="c122a-113">**midl\_user\_allocate**</span></span>](/windows/desktop/Midl/midl-user-allocate-1)
-   [<span data-ttu-id="c122a-114">**\_utilisateur \_ gratuit MIDL**</span><span class="sxs-lookup"><span data-stu-id="c122a-114">**midl\_user\_free**</span></span>](/windows/desktop/Midl/midl-user-free-1)
-   [<span data-ttu-id="c122a-115">Package de gestion de mémoire RpcSs</span><span class="sxs-lookup"><span data-stu-id="c122a-115">RpcSs Memory Management Package</span></span>](rpcss-memory-management-package.md)

 

 