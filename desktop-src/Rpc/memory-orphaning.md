---
title: Mémoire orpheline
description: Si votre application distribuée utilise un paramètre \ in, out, unique \ ou \ in, out, PTR \ pointer, le côté serveur de l’application peut remplacer la valeur du paramètre de pointeur par null.
ms.assetid: 65588b4d-6bf4-44f7-994c-29a5b185c6b9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32042911695f377e0a628168e91387bfa25f0d79
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "106511707"
---
# <a name="memory-orphaning"></a><span data-ttu-id="4a790-103">Mémoire orpheline</span><span class="sxs-lookup"><span data-stu-id="4a790-103">Memory Orphaning</span></span>

<span data-ttu-id="4a790-104">Si votre application distribuée utilise un \[ paramètre [de pointeur in](/windows/desktop/Midl/in), [out](/windows/desktop/Midl/out-idl), [unique](/windows/desktop/Midl/unique) \] ou \[ **in**, **out**, [ptr](/windows/desktop/Midl/ptr) \] , le côté serveur de l’application peut remplacer la valeur du paramètre de pointeur par null.</span><span class="sxs-lookup"><span data-stu-id="4a790-104">If your distributed application uses an \[ [in](/windows/desktop/Midl/in), [out](/windows/desktop/Midl/out-idl), [unique](/windows/desktop/Midl/unique)\] or \[**in**, **out**, [ptr](/windows/desktop/Midl/ptr)\] pointer parameter, the server side of the application can change the value of the pointer parameter to null.</span></span> <span data-ttu-id="4a790-105">Quand le serveur retourne par la suite la valeur null au client, la mémoire référencée par le pointeur avant l’appel de procédure distante est toujours présente côté client, mais n’est plus accessible à partir de ce pointeur (sauf dans le cas d’un pointeur complet avec alias).</span><span class="sxs-lookup"><span data-stu-id="4a790-105">When the server subsequently returns the null value to the client, memory referenced by the pointer before the remote procedure call is still present on the client side, but is no longer accessible from that pointer (except in the case of an aliased full pointer).</span></span> <span data-ttu-id="4a790-106">Cette mémoire est dite *orpheline*.</span><span class="sxs-lookup"><span data-stu-id="4a790-106">This memory is said to be *orphaned*.</span></span> <span data-ttu-id="4a790-107">Il s’agit également d’une *fuite de mémoire*.</span><span class="sxs-lookup"><span data-stu-id="4a790-107">This is also termed a *memory leak*.</span></span> <span data-ttu-id="4a790-108">L’orpheline de la mémoire sur le client entraîne l’insuffisance des ressources mémoire disponibles sur le client.</span><span class="sxs-lookup"><span data-stu-id="4a790-108">Repeated orphaning of memory on the client causes the client to run out of available memory resources.</span></span>

<span data-ttu-id="4a790-109">La mémoire peut également être orpheline chaque fois que le serveur fait passer un pointeur incorporé à une valeur null.</span><span class="sxs-lookup"><span data-stu-id="4a790-109">Memory can also be orphaned whenever the server changes an embedded pointer to a null value.</span></span> <span data-ttu-id="4a790-110">Par exemple, si le paramètre pointe vers une structure de données complexe telle qu’une arborescence, le côté serveur de l’application peut supprimer des nœuds de l’arborescence et définir des pointeurs à l’intérieur de l’arborescence sur la valeur null.</span><span class="sxs-lookup"><span data-stu-id="4a790-110">For example, if the parameter points to a complex data structure such as a tree, the server side of the application can delete nodes of the tree and set pointers inside the tree to null.</span></span>

<span data-ttu-id="4a790-111">Une autre situation qui peut entraîner une fuite de mémoire implique des tableaux conformes, variables et ouverts contenant des pointeurs.</span><span class="sxs-lookup"><span data-stu-id="4a790-111">Another situation that can lead to a memory leak involves conformant, varying, and open arrays containing pointers.</span></span> <span data-ttu-id="4a790-112">Lorsque l’application serveur modifie le paramètre qui spécifie la taille du tableau ou la plage transmise afin qu’elle représente une valeur inférieure, les stubs utilisent la ou les plus petites valeurs pour libérer de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="4a790-112">When the server application modifies the parameter that specifies the array size or transmitted range so that it represents a smaller value, the stubs use the smaller value(s) to free memory.</span></span> <span data-ttu-id="4a790-113">Les éléments de tableau avec des index supérieurs au paramètre de taille sont orphelins.</span><span class="sxs-lookup"><span data-stu-id="4a790-113">The array elements with indices larger than the size parameter are orphaned.</span></span> <span data-ttu-id="4a790-114">Votre application doit libérer des éléments en dehors de la plage transmise.</span><span class="sxs-lookup"><span data-stu-id="4a790-114">Your application must free elements outside the transmitted range.</span></span>

 

 