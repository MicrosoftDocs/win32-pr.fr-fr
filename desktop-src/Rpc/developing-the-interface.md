---
title: Développement de l’interface
description: Une interface RPC décrit les fonctions distantes implémentées par le programme serveur.
ms.assetid: f0dfe9d1-fe84-461c-8684-147fbd0bdefe
keywords:
- Appel de procédure distante RPC, tâches, développement de l’interface
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 68b6f720bcd492e784ad07fe20e221ac54951680
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104102100"
---
# <a name="developing-the-interface"></a><span data-ttu-id="47c9a-104">Développement de l’interface</span><span class="sxs-lookup"><span data-stu-id="47c9a-104">Developing the Interface</span></span>

<span data-ttu-id="47c9a-105">Une interface RPC décrit les fonctions distantes implémentées par le programme serveur.</span><span class="sxs-lookup"><span data-stu-id="47c9a-105">An RPC interface describes the remote functions that the server program implements.</span></span> <span data-ttu-id="47c9a-106">L’interface garantit que le client et le serveur communiquent à l’aide des mêmes règles lorsque le client appelle une procédure distante offerte par le serveur.</span><span class="sxs-lookup"><span data-stu-id="47c9a-106">The interface ensures that the client and server communicate using the same rules when the client invokes a remote procedure that the server offers.</span></span> <span data-ttu-id="47c9a-107">Une interface se compose d’un nom d’interface, de certains attributs, de définitions de type ou de constante facultatives et d’un ensemble de déclarations de procédure.</span><span class="sxs-lookup"><span data-stu-id="47c9a-107">An interface consists of an interface name, some attributes, optional type or constant definitions, and a set of procedure declarations.</span></span> <span data-ttu-id="47c9a-108">Chaque déclaration de procédure doit contenir un nom de procédure, un type de retour et une liste de paramètres.</span><span class="sxs-lookup"><span data-stu-id="47c9a-108">Each procedure declaration must contain a procedure name, return type, and parameter list.</span></span>

<span data-ttu-id="47c9a-109">Les interfaces sont définies dans le Microsoft Interface Definition Language (MIDL).</span><span class="sxs-lookup"><span data-stu-id="47c9a-109">Interfaces are defined in the Microsoft Interface Definition Language (MIDL).</span></span> <span data-ttu-id="47c9a-110">Si vous êtes familiarisé avec C ou C++, les définitions d’interface MIDL vont paraître relativement simples.</span><span class="sxs-lookup"><span data-stu-id="47c9a-110">If you are familiar with C or C++, MIDL interface definitions will seem fairly straightforward.</span></span> <span data-ttu-id="47c9a-111">MIDL ressemble à C et C++ de nombreuses façons.</span><span class="sxs-lookup"><span data-stu-id="47c9a-111">MIDL resembles C and C++ in many ways.</span></span>

<span data-ttu-id="47c9a-112">Lors du développement d’une application RPC, un éditeur de texte est utilisé pour définir l’interface et la stocker dans un fichier texte avec une extension. idl.</span><span class="sxs-lookup"><span data-stu-id="47c9a-112">When developing an RPC application, a text editor is used to define the interface and store it in a text file with an .idl extension.</span></span> <span data-ttu-id="47c9a-113">Pour plus d’informations, consultez [les fichiers IDL et ACF](the-idl-and-acf-files.md).</span><span class="sxs-lookup"><span data-stu-id="47c9a-113">For more information, see [The IDL and ACF Files](the-idl-and-acf-files.md).</span></span> <span data-ttu-id="47c9a-114">Le compilateur MIDL génère un fichier d’en-tête que votre programme inclue dans les fichiers sources du client et du serveur.</span><span class="sxs-lookup"><span data-stu-id="47c9a-114">The MIDL compiler generates a header file that your program includes in the client and server source files.</span></span> <span data-ttu-id="47c9a-115">Le compilateur MIDL génère également deux fichiers sources C.</span><span class="sxs-lookup"><span data-stu-id="47c9a-115">The MIDL compiler also generates two C source files.</span></span> <span data-ttu-id="47c9a-116">Vous compilez et liez l’une d’entre elles à votre programme client et l’autre à votre programme serveur.</span><span class="sxs-lookup"><span data-stu-id="47c9a-116">You compile and link one of these to your client program, and the other to your server program.</span></span> <span data-ttu-id="47c9a-117">Ces deux fichiers sources C sont les stubs du client et du serveur.</span><span class="sxs-lookup"><span data-stu-id="47c9a-117">These two C source files are the client and server stubs.</span></span> <span data-ttu-id="47c9a-118">Pour obtenir une vue d’ensemble des stubs client et serveur, consultez fonctionnement de [RPC](how-rpc-works.md).</span><span class="sxs-lookup"><span data-stu-id="47c9a-118">For an overview of the client and server stubs, see [How RPC Works](how-rpc-works.md).</span></span> <span data-ttu-id="47c9a-119">Pour obtenir une vue d’ensemble du compilateur MIDL, consultez [compilation d’un fichier MIDL](using-midl.md).</span><span class="sxs-lookup"><span data-stu-id="47c9a-119">For an overview on the MIDL compiler, see [Compiling a MIDL File](using-midl.md).</span></span>

<span data-ttu-id="47c9a-120">Par défaut, le stub client et serveur portent le même nom, ce qui peut poser des problèmes si le client est lié au stub serveur, ou vice versa.</span><span class="sxs-lookup"><span data-stu-id="47c9a-120">By default, the client and server stub have the same name, which can cause problems if the client links with the server stub, or vice-versa.</span></span> <span data-ttu-id="47c9a-121">L’utilisation de l’option [**/prefix**](/windows/desktop/Midl/-prefix) MIDL empêche l’apparition de cette erreur courante.</span><span class="sxs-lookup"><span data-stu-id="47c9a-121">Using the MIDL [**/prefix**](/windows/desktop/Midl/-prefix) option prevents this common error from occurring.</span></span>

<span data-ttu-id="47c9a-122">L’illustration suivante montre le processus de création d’une interface.</span><span class="sxs-lookup"><span data-stu-id="47c9a-122">The following illustration shows the process of creating an interface.</span></span>

![la création de stubs client et serveur avec l’option/prefix empêche les problèmes de compilation accidentels](images/idldev.png)

<span data-ttu-id="47c9a-124">Il est possible que vous deviez également spécifier un fichier de configuration d’application (ACF) pour l’entrée dans le compilateur MIDL.</span><span class="sxs-lookup"><span data-stu-id="47c9a-124">It is possible that you will also need to specify an application configuration file (ACF) for input to the MIDL compiler as well.</span></span> <span data-ttu-id="47c9a-125">Pour plus d’informations sur les fichiers de configuration de l’application, consultez [les fichiers IDL et ACF](the-idl-and-acf-files.md).</span><span class="sxs-lookup"><span data-stu-id="47c9a-125">For more information on application configuration files, see [The IDL and ACF Files](the-idl-and-acf-files.md).</span></span>

<span data-ttu-id="47c9a-126">En plus du compilateur MIDL, vous devez généralement utiliser l’utilitaire uuidgen pour générer un identificateur unique universel (UUID, interchangeable avec le terme GUID).</span><span class="sxs-lookup"><span data-stu-id="47c9a-126">In addition to the MIDL compiler, you will typically need to use the Uuidgen utility to generate a Universal Unique Identifier (UUID, interchangeable with the term GUID).</span></span> <span data-ttu-id="47c9a-127">Cette section contient des informations sur ces deux outils, répartis dans les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="47c9a-127">This section presents information on both of these tools, divided into the following topics:</span></span>

-   [<span data-ttu-id="47c9a-128">Génération d’UUID d’interface</span><span class="sxs-lookup"><span data-stu-id="47c9a-128">Generating Interface UUIDs</span></span>](generating-interface-uuids.md)
-   [<span data-ttu-id="47c9a-129">Utilisation de MIDL</span><span class="sxs-lookup"><span data-stu-id="47c9a-129">Using MIDL</span></span>](using-midl.md)

 

 