---
title: Développement du client
description: Le développement d’un programme client RPC est semblable au développement du programme serveur. Pour plus d’informations sur le développement d’un programme serveur RPC, consultez développement du serveur.
ms.assetid: 92276326-d478-479e-8fa4-02a2fce58eb6
keywords:
- Appel de procédure distante RPC, tâches, développement du client
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 10ceddedc4ccfd1d068e3452b64ed8c6b54a621d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103941271"
---
# <a name="developing-the-client"></a><span data-ttu-id="8e8e7-105">Développement du client</span><span class="sxs-lookup"><span data-stu-id="8e8e7-105">Developing the Client</span></span>

<span data-ttu-id="8e8e7-106">Le développement d’un programme client RPC est semblable au développement du programme serveur.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-106">Developing an RPC client program is similar to developing the server program.</span></span> <span data-ttu-id="8e8e7-107">Pour plus d’informations sur le développement d’un programme serveur RPC, consultez [développement du serveur](developing-the-server.md).</span><span class="sxs-lookup"><span data-stu-id="8e8e7-107">For information on developing an RPC server program, see [Developing the Server](developing-the-server.md).</span></span>

<span data-ttu-id="8e8e7-108">Comme dans le développement de serveur, votre programme client doit inclure le fichier d’en-tête que le compilateur MIDL génère à partir de votre fichier. idl.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-108">As in server development, your client program must include the header file that the MIDL compiler generates from your .idl file.</span></span> <span data-ttu-id="8e8e7-109">Le compilateur MIDL génère également un fichier source C contenant le stub client.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-109">The MIDL compiler also generates a C source file containing the client stub.</span></span> <span data-ttu-id="8e8e7-110">Vous devez compiler ce fichier source C et le lier à votre programme client.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-110">You must compile this C source file and link it to your client program.</span></span> <span data-ttu-id="8e8e7-111">(En outre, le compilateur MIDL génère un fichier source C contenant le stub du serveur, mais cela ne s’applique pas à cette discussion.)</span><span class="sxs-lookup"><span data-stu-id="8e8e7-111">(In addition, the MIDL compiler generates a C source file containing the server stub, but that is not relevant to this discussion.)</span></span>

<span data-ttu-id="8e8e7-112">Outre la compilation et la liaison du stub client avec vos fichiers programme, vous devez lier la bibliothèque d’importation (et toutes les autres bibliothèques dont votre programme client a besoin) à votre programme client.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-112">In addition to compiling and linking the client stub with your program files, you must link the import library (and any other libraries your client program needs) to your client program.</span></span> <span data-ttu-id="8e8e7-113">Le processus de création d’un programme client RPC est illustré dans le diagramme suivant.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-113">The process of creating an RPC client program is illustrated in the following diagram.</span></span>

![processus de création d’un programme client pour une application distribuée](images/clntdev.png)

<span data-ttu-id="8e8e7-115">L’exemple de l’illustration précédente illustre la création d’un programme client RPC appelé MyClnt.exe.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-115">The example in the preceding illustration demonstrates the creation of an RPC client program called MyClnt.exe.</span></span> <span data-ttu-id="8e8e7-116">La première étape consiste à définir l’interface dans le fichier MyApp. idl.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-116">The first step is to define the interface in the file MyApp.idl.</span></span> <span data-ttu-id="8e8e7-117">Le compilateur MIDL utilise MyApp. idl pour générer le fichier MyApp \_ c. c, qui contient le stub client.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-117">The MIDL compiler uses MyApp.idl to generate the file MyApp\_c.c, which contains the client stub.</span></span> <span data-ttu-id="8e8e7-118">Il génère également le fichier MyApp. h, que le programme client doit inclure.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-118">It also generates the file MyApp.h, which the client program must include.</span></span> <span data-ttu-id="8e8e7-119">Le programme client doit également inclure les fichiers RPC. h et RPCNDR. h.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-119">The client program will also need to include the files RPC.h and RPCNDR.h.</span></span>

<span data-ttu-id="8e8e7-120">Le programme client lui-même est créé dans le fichier MyClnt. c.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-120">The client program itself is created in the file MyClnt.c.</span></span> <span data-ttu-id="8e8e7-121">Dans un projet réel, le programme client se compose généralement de plusieurs fichiers sources C.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-121">In a real project, the client program would typically be composed of several C source files.</span></span> <span data-ttu-id="8e8e7-122">Tous doivent être compilés et liés ensemble.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-122">All of them would need to be compiled and linked together.</span></span> <span data-ttu-id="8e8e7-123">Toutefois, cet exemple utilise un seul fichier pour des raisons de simplicité.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-123">However, this example uses only one file for simplicity.</span></span>

<span data-ttu-id="8e8e7-124">Les fichiers MyClnt. c et MyApp \_ c. c sont compilés et liés avec la bibliothèque Runtime RPC et toutes les autres bibliothèques dont le programme client a besoin.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-124">The files MyClnt.c and MyApp\_c.c are compiled and linked together with the RPC run-time library, and any other libraries that the client program needs.</span></span> <span data-ttu-id="8e8e7-125">Le résultat est un programme client exécutable nommé MyClnt.exe.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-125">The result is an executable client program named MyClnt.exe.</span></span>

<span data-ttu-id="8e8e7-126">Si vous ne compilez pas votre fichier IDL en mode de compatibilité OSF ([**/OSF**](/windows/desktop/Midl/-osf)), votre programme client doit fournir une fonction pour allouer de la mémoire et une fonction pour le libérer.</span><span class="sxs-lookup"><span data-stu-id="8e8e7-126">If you do not compile your IDL file in OSF compatibility mode ([**/osf**](/windows/desktop/Midl/-osf)), your client program must provide a function for allocating memory and a function for deallocating it.</span></span> <span data-ttu-id="8e8e7-127">Pour Windows 2000 et versions ultérieures, le mode recommandé est [**/Oicf**](/windows/desktop/Midl/-oi).</span><span class="sxs-lookup"><span data-stu-id="8e8e7-127">For Windows 2000 and later versions, the recommended mode is [**/Oicf**](/windows/desktop/Midl/-oi).</span></span> <span data-ttu-id="8e8e7-128">Pour plus d’informations, consultez [Comment la mémoire est allouée et désallouée](how-memory-is-allocated-and-deallocated.md), ainsi que les [pointeurs et l’allocation de mémoire](pointers-and-memory-allocation.md).</span><span class="sxs-lookup"><span data-stu-id="8e8e7-128">For details, see [How Memory Is Allocated and Deallocated](how-memory-is-allocated-and-deallocated.md), and [Pointers and Memory Allocation](pointers-and-memory-allocation.md).</span></span>

 

 