---
title: Considérations relatives à la programmation des boîtes de dialogue
description: Cette vue d’ensemble décrit quelques considérations relatives à la programmation concernant les boîtes de dialogue.
ms.assetid: 49024a0f-ea92-4d56-b063-8e5fcdbd884a
keywords:
- Interface utilisateur Windows, fenêtrage
- Interface utilisateur Windows, boîtes de dialogue
- fenêtrage, boîtes de dialogue
- boîtes de dialogue, à propos de
- procédures de boîte de dialogue
- boîtes de dialogue, procédures
- Message WM_INITDIALOG
- Message WM_COMMAND
- Message WM_PARENTNOTIFY
- messages de couleur de contrôle
- boîtes de dialogue, traitement des messages
- boîtes de dialogue, interface clavier
- boîtes de dialogue, mnémoniques
- boîtes de dialogue, personnalisées
- boîtes de dialogue personnalisées
- boîtes de dialogue, paramètres
ms.topic: article
ms.date: 08/25/2020
ms.openlocfilehash: 790abe7c76cdb99f86b2a90a133b15faae721e0e
ms.sourcegitcommit: f7cf41ffc79d1ffead9de2fc61677201f94b423a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/26/2020
ms.locfileid: "106510712"
---
# <a name="dialog-box-programming-considerations"></a><span data-ttu-id="3d389-119">Considérations relatives à la programmation des boîtes de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-119">Dialog Box Programming Considerations</span></span>

<span data-ttu-id="3d389-120">Cette vue d’ensemble décrit quelques considérations relatives à la programmation concernant les boîtes de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-120">This overview discusses some programming considerations concerning dialog boxes.</span></span>

<span data-ttu-id="3d389-121">La vue d’ensemble comprend les rubriques suivantes.</span><span class="sxs-lookup"><span data-stu-id="3d389-121">The overview includes the following topics.</span></span>

-   [<span data-ttu-id="3d389-122">Procédures de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-122">Dialog Box Procedures</span></span>](#dialog-box-procedures)
    -   [<span data-ttu-id="3d389-123">Message WM \_ INITDIALOG</span><span class="sxs-lookup"><span data-stu-id="3d389-123">The WM\_INITDIALOG Message</span></span>](wm-initdialog.md)
    -   [<span data-ttu-id="3d389-124">Message de \_ commande WM</span><span class="sxs-lookup"><span data-stu-id="3d389-124">The WM\_COMMAND Message</span></span>](/windows/desktop/menurc/wm-command)
    -   [<span data-ttu-id="3d389-125">Message WM \_ PARENTNOTIFY</span><span class="sxs-lookup"><span data-stu-id="3d389-125">The WM\_PARENTNOTIFY Message</span></span>](/previous-versions/windows/desktop/inputmsg/wm-parentnotify)
    -   [<span data-ttu-id="3d389-126">Messages de couleur de contrôle</span><span class="sxs-lookup"><span data-stu-id="3d389-126">Control-Color Messages</span></span>](#control-color-messages)
    -   [<span data-ttu-id="3d389-127">Traitement du message par défaut de la boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-127">Dialog Box Default Message Processing</span></span>](#dialog-box-default-message-processing)
-   [<span data-ttu-id="3d389-128">Interface clavier de la boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-128">Dialog Box Keyboard Interface</span></span>](#dialog-box-keyboard-interface)
    -   [<span data-ttu-id="3d389-129">Le \_ style WS TABSTOP</span><span class="sxs-lookup"><span data-stu-id="3d389-129">The WS\_TABSTOP Style</span></span>](/windows/desktop/winmsg/window-styles)
    -   [<span data-ttu-id="3d389-130">Le \_ style de groupe WS</span><span class="sxs-lookup"><span data-stu-id="3d389-130">The WS\_GROUP Style</span></span>](/windows/desktop/winmsg/window-styles)
    -   [<span data-ttu-id="3d389-131">Les mnémoniques</span><span class="sxs-lookup"><span data-stu-id="3d389-131">Mnemonics</span></span>](#mnemonics)
-   [<span data-ttu-id="3d389-132">Paramètres de la boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-132">Dialog Box Settings</span></span>](#dialog-box-settings)
    -   [<span data-ttu-id="3d389-133">Cases d’option et cases à cocher</span><span class="sxs-lookup"><span data-stu-id="3d389-133">Radio Buttons and Check Boxes</span></span>](#radio-buttons-and-check-boxes)
    -   [<span data-ttu-id="3d389-134">Boîte de dialogue Modifier les contrôles</span><span class="sxs-lookup"><span data-stu-id="3d389-134">Dialog Box Edit Controls</span></span>](#dialog-box-edit-controls)
    -   [<span data-ttu-id="3d389-135">Zones de liste, zones de liste modifiable et listes de répertoires</span><span class="sxs-lookup"><span data-stu-id="3d389-135">List Boxes, Combo Boxes, and Directory Listings</span></span>](#list-boxes-combo-boxes-and-directory-listings)
    -   [<span data-ttu-id="3d389-136">Messages de contrôle de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-136">Dialog Box Control Messages</span></span>](#dialog-box-control-messages)
-   [<span data-ttu-id="3d389-137">Boîtes de dialogue personnalisées</span><span class="sxs-lookup"><span data-stu-id="3d389-137">Custom Dialog Boxes</span></span>](#custom-dialog-boxes)

## <a name="dialog-box-procedures"></a><span data-ttu-id="3d389-138">Procédures de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-138">Dialog Box Procedures</span></span>

<span data-ttu-id="3d389-139">Une procédure de boîte de dialogue est similaire à une procédure de fenêtre en ce que le système envoie des messages à la procédure lorsqu’elle contient des informations à fournir ou à des tâches à effectuer. Contrairement à une procédure de fenêtre, une procédure de boîte de dialogue n’appelle jamais la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .</span><span class="sxs-lookup"><span data-stu-id="3d389-139">A dialog box procedure is similar to a window procedure in that the system sends messages to the procedure when it has information to give or tasks to carry out. Unlike a window procedure, a dialog box procedure never calls the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span> <span data-ttu-id="3d389-140">Au lieu de cela, elle retourne **true** si elle traite un message ou **false** dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="3d389-140">Instead, it returns **TRUE** if it processes a message or **FALSE** if it does not.</span></span>

<span data-ttu-id="3d389-141">Chaque procédure de la boîte de dialogue se présente sous la forme suivante :</span><span class="sxs-lookup"><span data-stu-id="3d389-141">Every dialog box procedure has the following form:</span></span>

```cpp
BOOL CALLBACK DlgProc(HWND hwndDlg, UINT message, WPARAM wParam, LPARAM lParam) 
{ 
    switch (message) 
    { 
 
        // Place message cases here. 
 
        default: 
            return FALSE; 
    } 
}
```

<span data-ttu-id="3d389-142">Les paramètres de procédure remplissent le même objectif que dans une procédure de fenêtre, avec le paramètre *hwndDlg* qui reçoit le handle de fenêtre de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-142">The procedure parameters serve the same purpose as in a window procedure, with the *hwndDlg* parameter receiving the window handle of the dialog box.</span></span>

<span data-ttu-id="3d389-143">La plupart des procédures de boîte de dialogue traitent le message [**WM \_ INITDIALOG**](wm-initdialog.md) et les messages de [**\_ commande WM**](/windows/desktop/menurc/wm-command) envoyés par les contrôles, mais traitent uniquement les autres messages.</span><span class="sxs-lookup"><span data-stu-id="3d389-143">Most dialog box procedures process the [**WM\_INITDIALOG**](wm-initdialog.md) message and the [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) messages sent by the controls, but process few if any other messages.</span></span> <span data-ttu-id="3d389-144">Si une procédure de boîte de dialogue ne traite pas de message, elle doit retourner la **valeur false** pour indiquer au système de traiter les messages en interne.</span><span class="sxs-lookup"><span data-stu-id="3d389-144">If a dialog box procedure does not process a message, it must return **FALSE** to direct the system to process the messages internally.</span></span> <span data-ttu-id="3d389-145">La seule exception à cette règle est le message **WM \_ INITDIALOG** .</span><span class="sxs-lookup"><span data-stu-id="3d389-145">The only exception to this rule is the **WM\_INITDIALOG** message.</span></span> <span data-ttu-id="3d389-146">La procédure de la boîte de dialogue doit retourner **true** pour demander au système de traiter davantage le message **WM \_ INITDIALOG** .</span><span class="sxs-lookup"><span data-stu-id="3d389-146">The dialog box procedure must return **TRUE** to direct the system to further process the **WM\_INITDIALOG** message.</span></span> <span data-ttu-id="3d389-147">Dans tous les cas, la procédure ne doit pas appeler [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="3d389-147">In any case, the procedure must not call [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span>

- [<span data-ttu-id="3d389-148">Message WM \_ INITDIALOG</span><span class="sxs-lookup"><span data-stu-id="3d389-148">The WM\_INITDIALOG Message</span></span>](#the-wm_initdialog-message)
- [<span data-ttu-id="3d389-149">Message de \_ commande WM</span><span class="sxs-lookup"><span data-stu-id="3d389-149">The WM\_COMMAND Message</span></span>](#the-wm_command-message)
- [<span data-ttu-id="3d389-150">Message WM \_ PARENTNOTIFY</span><span class="sxs-lookup"><span data-stu-id="3d389-150">The WM\_PARENTNOTIFY Message</span></span>](#the-wm_parentnotify-message)
- [<span data-ttu-id="3d389-151">Messages de couleur de contrôle</span><span class="sxs-lookup"><span data-stu-id="3d389-151">Control-Color Messages</span></span>](#control-color-messages)
- [<span data-ttu-id="3d389-152">Traitement du message par défaut de la boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-152">Dialog Box Default Message Processing</span></span>](#dialog-box-default-message-processing)

### <a name="the-wm_initdialog-message"></a><span data-ttu-id="3d389-153">Message WM \_ INITDIALOG</span><span class="sxs-lookup"><span data-stu-id="3d389-153">The WM\_INITDIALOG Message</span></span>

<span data-ttu-id="3d389-154">Le système n’envoie pas de message [**WM \_ Create**](/windows/desktop/winmsg/wm-create) à la procédure de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-154">The system does not send a [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) message to the dialog box procedure.</span></span> <span data-ttu-id="3d389-155">Au lieu de cela, il envoie un message [**WM \_ INITDIALOG**](wm-initdialog.md) lorsqu’il crée la boîte de dialogue et tous ses contrôles, mais avant d’afficher la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-155">Instead, it sends a [**WM\_INITDIALOG**](wm-initdialog.md) message when it creates the dialog box and all its controls but before it displays the dialog box.</span></span> <span data-ttu-id="3d389-156">La procédure doit effectuer toute initialisation requise pour s’assurer que la boîte de dialogue affiche les paramètres actuels associés à la tâche.</span><span class="sxs-lookup"><span data-stu-id="3d389-156">The procedure should carry out any initialization required to ensure that the dialog box displays the current settings associated with the task.</span></span> <span data-ttu-id="3d389-157">Par exemple, lorsqu’une boîte de dialogue contient un contrôle pour afficher le lecteur et le répertoire actifs, la procédure doit déterminer le lecteur et le répertoire en cours et définir cette valeur pour le contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-157">For example, when a dialog box contains a control to show the current drive and directory, the procedure must determine the current drive and directory and set the control to that value.</span></span>

<span data-ttu-id="3d389-158">La procédure peut initialiser des contrôles à l’aide de fonctions telles que [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) et [**CheckDlgButton**](https://msdn.microsoft.com/library/Cc410649(v=MSDN.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="3d389-158">The procedure can initialize controls by using functions such as [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) and [**CheckDlgButton**](https://msdn.microsoft.com/library/Cc410649(v=MSDN.10).aspx).</span></span> <span data-ttu-id="3d389-159">Étant donné que les contrôles sont Windows, la procédure peut également les manipuler à l’aide de fonctions de gestion de fenêtre telles que [**EnableWindow**](/windows/desktop/api/winuser/nf-winuser-enablewindow) et [**SetFocus**](/windows/desktop/api/winuser/nf-winuser-setfocus).</span><span class="sxs-lookup"><span data-stu-id="3d389-159">Because controls are windows, the procedure can also manipulate them by using window-management functions such as [**EnableWindow**](/windows/desktop/api/winuser/nf-winuser-enablewindow) and [**SetFocus**](/windows/desktop/api/winuser/nf-winuser-setfocus).</span></span> <span data-ttu-id="3d389-160">La procédure peut récupérer le handle de fenêtre d’un contrôle à l’aide de la fonction [**GetDlgItem**](/windows/desktop/api/Winuser/nf-winuser-getdlgitem) .</span><span class="sxs-lookup"><span data-stu-id="3d389-160">The procedure can retrieve the window handle to a control by using the [**GetDlgItem**](/windows/desktop/api/Winuser/nf-winuser-getdlgitem) function.</span></span>

<span data-ttu-id="3d389-161">La procédure de boîte de dialogue peut modifier le contenu, l’État et la position de n’importe quel contrôle, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="3d389-161">The dialog box procedure can change the contents, state, and position of any control as needed.</span></span> <span data-ttu-id="3d389-162">Par exemple, dans une boîte de dialogue qui contient une zone de liste de noms de fichiers et un bouton **ouvrir** , la procédure peut désactiver le bouton **ouvrir** jusqu’à ce que l’utilisateur sélectionne un fichier dans la liste.</span><span class="sxs-lookup"><span data-stu-id="3d389-162">For example, in a dialog box that contains a list box of filenames and an **Open** button, the procedure can disable the **Open** button until the user selects a file from the list.</span></span> <span data-ttu-id="3d389-163">Dans cet exemple, le modèle de boîte de dialogue spécifie le style [**WS \_ Disabled**](/windows/desktop/winmsg/window-styles) pour le bouton **ouvrir** et le système désactive automatiquement le bouton lors de sa création.</span><span class="sxs-lookup"><span data-stu-id="3d389-163">In this example, the dialog box template specifies the [**WS\_DISABLED**](/windows/desktop/winmsg/window-styles) style for the **Open** button and the system automatically disables the button when creating it.</span></span> <span data-ttu-id="3d389-164">Lorsque la procédure de boîte de dialogue reçoit un message de notification de la zone de liste indiquant que l’utilisateur a sélectionné un fichier, la procédure appelle la fonction [**EnableWindow**](/windows/desktop/api/winuser/nf-winuser-enablewindow) pour activer le bouton **ouvrir** .</span><span class="sxs-lookup"><span data-stu-id="3d389-164">When the dialog box procedure receives a notification message from the list box indicating that the user has selected a file, the procedure calls the [**EnableWindow**](/windows/desktop/api/winuser/nf-winuser-enablewindow) function to enable the **Open** button.</span></span>

<span data-ttu-id="3d389-165">Pour afficher une icône personnalisée dans la barre de légende de la boîte de dialogue, votre gestionnaire [**WM \_ INITDIALOG**](wm-initdialog.md) peut envoyer le message [**WM \_ SETICON**](/windows/desktop/winmsg/wm-seticon) à la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-165">To display a custom icon on the caption bar of the dialog box, your [**WM\_INITDIALOG**](wm-initdialog.md) handler can send the [**WM\_SETICON**](/windows/desktop/winmsg/wm-seticon) message to the dialog box.</span></span>

<span data-ttu-id="3d389-166">Si l’application crée la boîte de dialogue à l’aide de l’une des fonctions [**DialogBoxParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxparama), [**DialogBoxIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirectparama), [**CreateDialogParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogparama)ou [**CreateDialogIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirectparama), le paramètre *lParam* du message [**WM \_ INITDIALOG**](wm-initdialog.md) contient le paramètre supplémentaire transmis à la fonction.</span><span class="sxs-lookup"><span data-stu-id="3d389-166">If the application creates the dialog box by using one of the functions [**DialogBoxParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxparama), [**DialogBoxIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirectparama), [**CreateDialogParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogparama), or [**CreateDialogIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirectparama), the *lParam* parameter for the [**WM\_INITDIALOG**](wm-initdialog.md) message contains the extra parameter passed to the function.</span></span> <span data-ttu-id="3d389-167">Les applications utilisent généralement ce paramètre supplémentaire pour passer un pointeur vers des informations d’initialisation supplémentaires à la procédure de boîte de dialogue, mais la procédure de la boîte de dialogue doit déterminer la signification du paramètre.</span><span class="sxs-lookup"><span data-stu-id="3d389-167">Applications typically use this extra parameter to pass a pointer to additional initialization information to the dialog box procedure, but the dialog box procedure must determine the meaning of the parameter.</span></span> <span data-ttu-id="3d389-168">Si l’application utilise une autre fonction pour créer la boîte de dialogue, le système définit le paramètre *lParam* sur la **valeur null**.</span><span class="sxs-lookup"><span data-stu-id="3d389-168">If the application uses another function to create the dialog box, the system sets the *lParam* parameter to **NULL**.</span></span>

<span data-ttu-id="3d389-169">Avant de retourner le message [**WM \_ INITDIALOG**](wm-initdialog.md) , la procédure doit déterminer s’il doit définir le focus d’entrée sur un contrôle spécifié.</span><span class="sxs-lookup"><span data-stu-id="3d389-169">Before returning from the [**WM\_INITDIALOG**](wm-initdialog.md) message, the procedure should determine whether it should set the input focus to a specified control.</span></span> <span data-ttu-id="3d389-170">Si la procédure de boîte de dialogue retourne la **valeur true**, le système définit automatiquement le focus d’entrée sur le contrôle dont le handle de fenêtre est dans le paramètre *wParam* .</span><span class="sxs-lookup"><span data-stu-id="3d389-170">If the dialog box procedure returns **TRUE**, the system automatically sets the input focus to the control whose window handle is in the *wParam* parameter.</span></span> <span data-ttu-id="3d389-171">Si le contrôle qui reçoit le focus par défaut n’est pas approprié, il peut définir le focus sur le contrôle approprié à l’aide de la fonction [**SetFocus**](/windows/desktop/api/winuser/nf-winuser-setfocus) .</span><span class="sxs-lookup"><span data-stu-id="3d389-171">If the control receiving the default focus is not appropriate, it can set the focus to the appropriate control by using the [**SetFocus**](/windows/desktop/api/winuser/nf-winuser-setfocus) function.</span></span> <span data-ttu-id="3d389-172">Si la procédure définit le focus d’entrée, elle doit retourner **false** pour empêcher le système de définir le focus par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-172">If the procedure sets the input focus, it must return **FALSE** to prevent the system from setting the default focus.</span></span> <span data-ttu-id="3d389-173">Le contrôle recevant le focus d’entrée par défaut est toujours le premier contrôle spécifié dans le modèle qui est visible, et non désactivé, et possède le style [WS \_ TABSTOP](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="3d389-173">The control receiving the default input focus is always the first control specified in the template that is visible, not disabled, and has the [WS\_TABSTOP](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="3d389-174">Si aucun contrôle n’existe, le système définit le focus d’entrée par défaut sur le premier contrôle du modèle.</span><span class="sxs-lookup"><span data-stu-id="3d389-174">If no such control exists, the system sets the default input focus to the first control in the template.</span></span>

### <a name="the-wm_command-message"></a><span data-ttu-id="3d389-175">Message de \_ commande WM</span><span class="sxs-lookup"><span data-stu-id="3d389-175">The WM\_COMMAND Message</span></span>

<span data-ttu-id="3d389-176">Un contrôle peut envoyer un message de [**\_ commande WM**](/windows/desktop/menurc/wm-command) à la procédure de boîte de dialogue lorsque l’utilisateur effectue une action dans le contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-176">A control can send a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message to the dialog box procedure when the user carries out an action in the control.</span></span> <span data-ttu-id="3d389-177">Ces messages, appelés messages de notification, informent la procédure de l’entrée utilisateur et lui permettent d’effectuer les réponses appropriées.</span><span class="sxs-lookup"><span data-stu-id="3d389-177">These messages, called notification messages, inform the procedure of user input and permit it to carry out appropriate responses.</span></span>

<span data-ttu-id="3d389-178">Tous les contrôles prédéfinis, à l’exception des contrôles statiques, envoient des messages de notification pour les actions utilisateur sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="3d389-178">All predefined controls, except static controls, send notification messages for selected user actions.</span></span> <span data-ttu-id="3d389-179">Par exemple, un bouton de commande envoie le message de notification sur lequel l’utilisateur a [**\_ cliqué**](../controls/bn-clicked.md) chaque fois que l’utilisateur clique sur le bouton.</span><span class="sxs-lookup"><span data-stu-id="3d389-179">For example, a push button sends the [**BN\_CLICKED**](../controls/bn-clicked.md) notification message whenever the user clicks the button.</span></span> <span data-ttu-id="3d389-180">Dans tous les cas, le mot de poids faible du paramètre *wParam* contient l’identificateur de contrôle, le mot de poids fort de *wParam* contient le code de notification et le paramètre *lParam* contient le handle de fenêtre de contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-180">In all cases, the low-order word of the *wParam* parameter contains the control identifier, the high-order word of *wParam* contains the notification code, and the *lParam* parameter contains the control window handle.</span></span>

<span data-ttu-id="3d389-181">La procédure de la boîte de dialogue doit analyser et traiter les messages de notification.</span><span class="sxs-lookup"><span data-stu-id="3d389-181">The dialog box procedure should monitor and process notification messages.</span></span> <span data-ttu-id="3d389-182">En particulier, la procédure doit traiter des messages ayant les identificateurs IDOK ou IDCANCEL ; ces messages représentent une demande de fermeture de la boîte de dialogue par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3d389-182">In particular, the procedure must process messages having the IDOK or IDCANCEL identifiers; these messages represent a request by the user to close the dialog box.</span></span> <span data-ttu-id="3d389-183">La procédure doit fermer la boîte de dialogue à l’aide de la fonction [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) pour les boîtes de dialogue modales et de la fonction [**DestroyWindow**](/windows/desktop/api/winuser/nf-winuser-destroywindow) pour les boîtes de dialogue non modales.</span><span class="sxs-lookup"><span data-stu-id="3d389-183">The procedure should close the dialog box by using the [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) function for modal dialog boxes and the [**DestroyWindow**](/windows/desktop/api/winuser/nf-winuser-destroywindow) function for modeless dialog boxes.</span></span>

<span data-ttu-id="3d389-184">Le système envoie également des messages de [**\_ commande WM**](/windows/desktop/menurc/wm-command) à la procédure de boîte de dialogue si la boîte de dialogue a un menu, tel que le menu **fenêtre** , et que l’utilisateur clique sur un élément de menu.</span><span class="sxs-lookup"><span data-stu-id="3d389-184">The system also sends [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) messages to the dialog box procedure if the dialog box has a menu, such as the **window** menu, and the user clicks a menu item.</span></span> <span data-ttu-id="3d389-185">En particulier, le système envoie un message de **\_ commande WM** avec le paramètre *wParam* défini sur **IDCANCEL** chaque fois que l’utilisateur clique sur **Fermer** dans le menu fenêtre de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-185">In particular, the system sends a **WM\_COMMAND** message with the *wParam* parameter set to **IDCANCEL** whenever the user clicks **Close** in the dialog box's window menu.</span></span> <span data-ttu-id="3d389-186">Le message est quasiment identique au message de notification envoyé par le bouton **Annuler** et doit être traité exactement de la même façon.</span><span class="sxs-lookup"><span data-stu-id="3d389-186">The message is nearly identical to the notification message sent by the **Cancel** button and should be processed in exactly the same way.</span></span>

### <a name="the-wm_parentnotify-message"></a><span data-ttu-id="3d389-187">Message WM \_ PARENTNOTIFY</span><span class="sxs-lookup"><span data-stu-id="3d389-187">The WM\_PARENTNOTIFY Message</span></span>

<span data-ttu-id="3d389-188">Un contrôle envoie un message [**WM \_ PARENTNOTIFY**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) chaque fois que l’utilisateur appuie sur un bouton de la souris tout en pointant sur le contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-188">A control sends a [**WM\_PARENTNOTIFY**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) message whenever the user presses a mouse button while pointing to the control.</span></span> <span data-ttu-id="3d389-189">Certaines applications interprètent ce message comme un signal permettant d’effectuer une action liée au contrôle, par exemple l’affichage d’une ligne de texte décrivant l’objectif du contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-189">Some applications interpret this message as a signal to carry out an action related to the control, such as displaying a line of text describing the purpose of the control.</span></span>

<span data-ttu-id="3d389-190">Le système envoie également des messages [**WM \_ PARENTNOTIFY**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) lorsqu’il crée et détruit une fenêtre, mais pas pour les contrôles créés à partir d’un modèle de boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-190">The system also sends [**WM\_PARENTNOTIFY**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) messages when it creates and destroys a window, but not for controls created from a dialog box template.</span></span> <span data-ttu-id="3d389-191">Le système empêche ces messages en spécifiant le style **WS \_ ex \_ NOPARENTNOTIFY** lors de la création des contrôles.</span><span class="sxs-lookup"><span data-stu-id="3d389-191">The system prevents these messages by specifying the **WS\_EX\_NOPARENTNOTIFY** style when creating the controls.</span></span> <span data-ttu-id="3d389-192">Une application ne peut pas substituer ce comportement par défaut, sauf si elle crée ses propres contrôles pour la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-192">An application cannot override this default behavior unless it creates its own controls for the dialog box.</span></span>

### <a name="control-color-messages"></a><span data-ttu-id="3d389-193">Messages Control-Color</span><span class="sxs-lookup"><span data-stu-id="3d389-193">Control-Color Messages</span></span>

<span data-ttu-id="3d389-194">Les contrôles et le système peuvent envoyer des messages de couleur de contrôle lorsqu’ils souhaitent que la procédure de boîte de dialogue dessine l’arrière-plan d’un contrôle ou d’une autre fenêtre à l’aide d’un pinceau et de couleurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="3d389-194">Controls and the system can send control-color messages when they want the dialog box procedure to paint the background of a control or other window by using a specific brush and colors.</span></span> <span data-ttu-id="3d389-195">Cela peut être utile lorsque les applications remplacent les couleurs par défaut utilisées dans les boîtes de dialogue et leurs contrôles.</span><span class="sxs-lookup"><span data-stu-id="3d389-195">This can be useful when applications override the default colors used in dialog boxes and their controls.</span></span> <span data-ttu-id="3d389-196">Voici les messages de couleur de contrôle qui ont remplacé le message **WM \_ CTLCOLOR** .</span><span class="sxs-lookup"><span data-stu-id="3d389-196">Following are the control-color messages, which have replaced the **WM\_CTLCOLOR** message.</span></span>

-   [<span data-ttu-id="3d389-197">**\_CTLCOLORBTN WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-197">**WM\_CTLCOLORBTN**</span></span>](../controls/wm-ctlcolorbtn.md)
-   [<span data-ttu-id="3d389-198">**\_CTLCOLORDLG WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-198">**WM\_CTLCOLORDLG**</span></span>](wm-ctlcolordlg.md)
-   [<span data-ttu-id="3d389-199">**\_CTLCOLOREDIT WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-199">**WM\_CTLCOLOREDIT**</span></span>](../controls/wm-ctlcoloredit.md)
-   [<span data-ttu-id="3d389-200">**\_CTLCOLORLISTBOX WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-200">**WM\_CTLCOLORLISTBOX**</span></span>](../controls/wm-ctlcolorlistbox.md)
-   [<span data-ttu-id="3d389-201">**\_CTLCOLORSCROLLBAR WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-201">**WM\_CTLCOLORSCROLLBAR**</span></span>](../controls/wm-ctlcolorscrollbar.md)
-   [<span data-ttu-id="3d389-202">**\_CTLCOLORSTATIC WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-202">**WM\_CTLCOLORSTATIC**</span></span>](../controls/wm-ctlcolorstatic.md)

<span data-ttu-id="3d389-203">Un contrôle envoie un message de couleur de contrôle à la procédure de boîte de dialogue juste avant de peindre son propre arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="3d389-203">A control sends a control-color message to the dialog box procedure just before it paints its own background.</span></span> <span data-ttu-id="3d389-204">Le message permet à la procédure de spécifier le pinceau à utiliser et de définir les couleurs d’arrière-plan et de premier plan.</span><span class="sxs-lookup"><span data-stu-id="3d389-204">The message allows the procedure to specify which brush to use and to set the background and foreground colors.</span></span> <span data-ttu-id="3d389-205">La procédure spécifie un pinceau en retournant la poignée de pinceau.</span><span class="sxs-lookup"><span data-stu-id="3d389-205">The procedure specifies a brush by returning the brush handle.</span></span> <span data-ttu-id="3d389-206">Pour définir les couleurs d’arrière-plan et de premier plan, la procédure utilise les fonctions [**SetBkColor**](/windows/desktop/api/wingdi/nf-wingdi-setbkcolor) et [**SetTextColor**](/windows/desktop/api/wingdi/nf-wingdi-settextcolor) avec le contexte de périphérique d’affichage du contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-206">To set the background and foreground colors, the procedure uses the [**SetBkColor**](/windows/desktop/api/wingdi/nf-wingdi-setbkcolor) and [**SetTextColor**](/windows/desktop/api/wingdi/nf-wingdi-settextcolor) functions with the control's display device context.</span></span> <span data-ttu-id="3d389-207">Le message de couleur de contrôle passe un handle au contexte de périphérique d’affichage à la procédure dans le paramètre *wParam* du message.</span><span class="sxs-lookup"><span data-stu-id="3d389-207">The control-color message passes a handle to the display device context to the procedure in the message's *wParam* parameter.</span></span>

<span data-ttu-id="3d389-208">Le système envoie un message [**WM \_ CTLCOLORDLG**](wm-ctlcolordlg.md) à la procédure de boîte de dialogue si la procédure ne traite pas le message [**WM \_ ERASEBKGND**](/windows/desktop/winmsg/wm-erasebkgnd) .</span><span class="sxs-lookup"><span data-stu-id="3d389-208">The system sends a [**WM\_CTLCOLORDLG**](wm-ctlcolordlg.md) message to the dialog box procedure if the procedure does not process the [**WM\_ERASEBKGND**](/windows/desktop/winmsg/wm-erasebkgnd) message.</span></span> <span data-ttu-id="3d389-209">La classe de boîte de dialogue prédéfinie n’ayant pas de pinceau d’arrière-plan de classe, ce message permet à la procédure de définir son propre arrière-plan sans avoir à inclure le code pour effectuer le travail.</span><span class="sxs-lookup"><span data-stu-id="3d389-209">The predefined dialog box class does not have a class background brush, so this message lets the procedure define its own background without having to include the code to carry out the work.</span></span>

<span data-ttu-id="3d389-210">Dans tous les cas, lorsqu’une procédure de boîte de dialogue ne traite pas un message de couleur de contrôle, le système utilise un pinceau avec la couleur de fenêtre par défaut pour peindre l’arrière-plan pour tous les contrôles et les fenêtres à l’exception des barres de défilement.</span><span class="sxs-lookup"><span data-stu-id="3d389-210">In any case, when a dialog box procedure does not process a control-color message, the system uses a brush with the default window color to paint the background for all controls and windows except scroll bars.</span></span> <span data-ttu-id="3d389-211">Une application peut récupérer la couleur de fenêtre par défaut en passant la valeur de la **\_ fenêtre couleur** à la fonction [**GetSysColor**](/windows/desktop/api/winuser/nf-winuser-getsyscolor) .</span><span class="sxs-lookup"><span data-stu-id="3d389-211">An application can retrieve the default window color by passing the **COLOR\_WINDOW** value to the [**GetSysColor**](/windows/desktop/api/winuser/nf-winuser-getsyscolor) function.</span></span> <span data-ttu-id="3d389-212">Pendant que l’arrière-plan est peint, la couleur de premier plan du contexte de périphérique d’affichage est définie sur la couleur de texte par défaut (**couleur \_ WINDOWTEXT**).</span><span class="sxs-lookup"><span data-stu-id="3d389-212">While the background is painted, the foreground color for the display device context is set to the default text color (**COLOR\_WINDOWTEXT**).</span></span> <span data-ttu-id="3d389-213">Pour les barres de défilement, le système utilise un pinceau avec la couleur de barre de défilement par défaut (**\_ ScrollBar de couleur**).</span><span class="sxs-lookup"><span data-stu-id="3d389-213">For scroll bars, the system uses a brush having the default scroll bar color (**COLOR\_SCROLLBAR**).</span></span> <span data-ttu-id="3d389-214">Dans ce cas, les couleurs d’arrière-plan et de premier plan du contexte de périphérique d’affichage sont définies sur blanc et noir, respectivement.</span><span class="sxs-lookup"><span data-stu-id="3d389-214">In this case, the background and foreground colors for the display device context are set to white and black, respectively.</span></span>

### <a name="dialog-box-default-message-processing"></a><span data-ttu-id="3d389-215">Traitement du message par défaut de la boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-215">Dialog Box Default Message Processing</span></span>

<span data-ttu-id="3d389-216">La procédure de fenêtre pour la classe de boîte de dialogue prédéfinie effectue le traitement par défaut pour tous les messages que la procédure de boîte de dialogue ne traite pas.</span><span class="sxs-lookup"><span data-stu-id="3d389-216">The window procedure for the predefined dialog box class carries out default processing for all messages that the dialog box procedure does not process.</span></span> <span data-ttu-id="3d389-217">Lorsque la procédure de la boîte de dialogue retourne la **valeur false** pour un message, la procédure de fenêtre prédéfinie vérifie les messages et effectue les actions par défaut suivantes :</span><span class="sxs-lookup"><span data-stu-id="3d389-217">When the dialog box procedure returns **FALSE** for any message, the predefined window procedure checks the messages and carries out the following default actions:</span></span>



| <span data-ttu-id="3d389-218">Message</span><span class="sxs-lookup"><span data-stu-id="3d389-218">Message</span></span>                                            | <span data-ttu-id="3d389-219">Action par défaut</span><span class="sxs-lookup"><span data-stu-id="3d389-219">Default action</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="3d389-220">**DM \_ GETDEFID**</span><span class="sxs-lookup"><span data-stu-id="3d389-220">**DM\_GETDEFID**</span></span>](dm-getdefid.md)                | <span data-ttu-id="3d389-221">Vous pouvez envoyer ce message à une boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-221">You can send this message to a dialog box.</span></span> <span data-ttu-id="3d389-222">La boîte de dialogue retourne l’identificateur du contrôle du bouton de commande par défaut, si la boîte de dialogue en possède un ; Sinon, elle retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="3d389-222">The dialog box returns the control identifier of the default push button, if the dialog box has one; otherwise, it returns zero.</span></span>                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="3d389-223">**repositionnement DM \_**</span><span class="sxs-lookup"><span data-stu-id="3d389-223">**DM\_REPOSITION**</span></span>](dm-reposition.md)            | <span data-ttu-id="3d389-224">Vous pouvez envoyer ce message à une boîte de dialogue de niveau supérieur.</span><span class="sxs-lookup"><span data-stu-id="3d389-224">You can send this message to a top-level dialog box.</span></span> <span data-ttu-id="3d389-225">La boîte de dialogue se repositionne pour s’ajuster à la zone du bureau.</span><span class="sxs-lookup"><span data-stu-id="3d389-225">The dialog box repositions itself so it fits within the desktop area.</span></span>                                                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="3d389-226">**DM \_ SETDEFID**</span><span class="sxs-lookup"><span data-stu-id="3d389-226">**DM\_SETDEFID**</span></span>](dm-setdefid.md)                | <span data-ttu-id="3d389-227">Vous pouvez envoyer ce message à une boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-227">You can send this message to a dialog box.</span></span> <span data-ttu-id="3d389-228">La boîte de dialogue définit le bouton de commande par défaut sur le contrôle spécifié par l’identificateur de contrôle dans le paramètre *wParam* .</span><span class="sxs-lookup"><span data-stu-id="3d389-228">The dialog box sets the default push button to the control specified by the control identifier in the *wParam* parameter.</span></span>                                                                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="3d389-229">**activation de WM \_**</span><span class="sxs-lookup"><span data-stu-id="3d389-229">**WM\_ACTIVATE**</span></span>](/windows/desktop/inputdev/wm-activate)           | <span data-ttu-id="3d389-230">Restaure le focus d’entrée sur le contrôle identifié par le handle précédemment enregistré si la boîte de dialogue est activée.</span><span class="sxs-lookup"><span data-stu-id="3d389-230">Restores the input focus to the control identified by the previously saved handle if the dialog box is activated.</span></span> <span data-ttu-id="3d389-231">Dans le cas contraire, la procédure enregistre le handle dans le contrôle ayant le focus d’entrée.</span><span class="sxs-lookup"><span data-stu-id="3d389-231">Otherwise, the procedure saves the handle to the control having the input focus.</span></span>                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="3d389-232">**\_CHARTOITEM WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-232">**WM\_CHARTOITEM**</span></span>](../controls/wm-chartoitem.md)         | <span data-ttu-id="3d389-233">Retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="3d389-233">Returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="3d389-234">**\_Fermer WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-234">**WM\_CLOSE**</span></span>](/windows/desktop/winmsg/wm-close)                   | <span data-ttu-id="3d389-235">Publie le message de notification de l' [**\_ utilisateur**](../controls/bn-clicked.md) dans la boîte de dialogue, en spécifiant **IDCANCEL** comme identificateur de contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-235">Posts the [**BN\_CLICKED**](../controls/bn-clicked.md) notification message to the dialog box, specifying **IDCANCEL** as the control identifier.</span></span> <span data-ttu-id="3d389-236">Si la boîte de dialogue a un identificateur de contrôle IDCANCEL et que le contrôle est actuellement désactivé, la procédure émet un avertissement et ne publie pas le message.</span><span class="sxs-lookup"><span data-stu-id="3d389-236">If the dialog box has an IDCANCEL control identifier and the control is currently disabled, the procedure sounds a warning and does not post the message.</span></span>                                                                                                                                                                                              |
| [<span data-ttu-id="3d389-237">**\_COMPAREITEM WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-237">**WM\_COMPAREITEM**</span></span>](../controls/wm-compareitem.md)       | <span data-ttu-id="3d389-238">Retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="3d389-238">Returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="3d389-239">**\_ERASEBKGND WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-239">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="3d389-240">Remplit la zone cliente de la boîte de dialogue à l’aide du pinceau retourné à partir du message [**WM \_ CTLCOLORDLG**](wm-ctlcolordlg.md) ou de la couleur de la fenêtre par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-240">Fills the dialog box client area by using either the brush returned from the [**WM\_CTLCOLORDLG**](wm-ctlcolordlg.md) message or with the default window color.</span></span>                                                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="3d389-241">**WM \_ GETFONT**</span><span class="sxs-lookup"><span data-stu-id="3d389-241">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="3d389-242">Retourne un handle vers la police de la boîte de dialogue définie par l’application.</span><span class="sxs-lookup"><span data-stu-id="3d389-242">Returns a handle to the application-defined dialog box font.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="3d389-243">**\_INITDIALOG WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-243">**WM\_INITDIALOG**</span></span>](wm-initdialog.md)            | <span data-ttu-id="3d389-244">Retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="3d389-244">Returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="3d389-245">**\_LBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-245">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="3d389-246">Envoie un [**message \_ SHOWDROPDOWN CB**](../controls/cb-showdropdown.md) à la zone de liste déroulante ayant le focus d’entrée, en dirigeant le contrôle pour masquer sa zone de liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="3d389-246">Sends a [**CB\_SHOWDROPDOWN**](../controls/cb-showdropdown.md) message to the combo box having the input focus, directing the control to hide its drop-down list box.</span></span> <span data-ttu-id="3d389-247">La procédure appelle [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) pour terminer l’action par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-247">The procedure calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) to complete the default action.</span></span>                                                                                                                                                                                                                                      |
| [<span data-ttu-id="3d389-248">**\_NCDESTROY WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-248">**WM\_NCDESTROY**</span></span>](/windows/desktop/winmsg/wm-ncdestroy)           | <span data-ttu-id="3d389-249">Libère la mémoire globale allouée pour les contrôles d’édition dans la boîte de dialogue (s’applique aux boîtes de dialogue qui spécifient le style [**DS \_ LOCALEDIT**](dialog-box-styles.md) ) et libère toute police définie par l’application (s’applique aux boîtes de dialogue qui spécifient le style DS [**\_ SetFont**](dialog-box-styles.md) ou [**DS \_ SHELLFONT**](dialog-box-styles.md) ).</span><span class="sxs-lookup"><span data-stu-id="3d389-249">Releases global memory allocated for edit controls in the dialog box (applies to dialog boxes that specify the [**DS\_LOCALEDIT**](dialog-box-styles.md) style) and frees any application-defined font (applies to dialog boxes that specify the [**DS\_SETFONT**](dialog-box-styles.md) or [**DS\_SHELLFONT**](dialog-box-styles.md) style).</span></span> <span data-ttu-id="3d389-250">La procédure appelle la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) pour terminer l’action par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-250">The procedure calls the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function to complete the default action.</span></span> |
| [<span data-ttu-id="3d389-251">**\_NCLBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-251">**WM\_NCLBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-nclbuttondown) | <span data-ttu-id="3d389-252">Envoie un [**message \_ SHOWDROPDOWN CB**](../controls/cb-showdropdown.md) à la zone de liste déroulante ayant le focus d’entrée, en dirigeant le contrôle pour masquer sa zone de liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="3d389-252">Sends a [**CB\_SHOWDROPDOWN**](../controls/cb-showdropdown.md) message to the combo box having the input focus, directing the control to hide its drop-down list box.</span></span> <span data-ttu-id="3d389-253">La procédure appelle [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) pour terminer l’action par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-253">The procedure calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) to complete the default action.</span></span>                                                                                                                                                                                                                                      |
| [<span data-ttu-id="3d389-254">**\_NEXTDLGCTL WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-254">**WM\_NEXTDLGCTL**</span></span>](wm-nextdlgctl.md)            | <span data-ttu-id="3d389-255">Définit le focus d’entrée sur le contrôle suivant ou précédent dans la boîte de dialogue, sur le contrôle identifié par le handle dans le paramètre *wParam* , ou sur le premier contrôle dans la boîte de dialogue qui est visible, et non désactivé, et qui a le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="3d389-255">Sets the input focus to the next or previous control in the dialog box, to the control identified by the handle in the *wParam* parameter, or to the first control in the dialog box that is visible, not disabled, and has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="3d389-256">La procédure ignore ce message si la fenêtre active avec le focus d’entrée n’est pas un contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-256">The procedure ignores this message if the current window with the input focus is not a control.</span></span>                                                                                                                  |
| [<span data-ttu-id="3d389-257">**WM \_ SetFocus**</span><span class="sxs-lookup"><span data-stu-id="3d389-257">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)           | <span data-ttu-id="3d389-258">Définit le focus d’entrée sur le contrôle identifié par un handle de fenêtre de contrôle précédemment enregistré.</span><span class="sxs-lookup"><span data-stu-id="3d389-258">Sets the input focus to the control identified by a previously saved control window handle.</span></span> <span data-ttu-id="3d389-259">Si aucun descripteur de ce type n’existe, la procédure définit le focus d’entrée sur le premier contrôle du modèle de boîte de dialogue qui est visible, et non désactivé, et qui a le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="3d389-259">If no such handle exists, the procedure sets the input focus to the first control in the dialog box template that is visible, not disabled, and has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="3d389-260">Si aucun contrôle n’existe, la procédure définit le focus d’entrée sur le premier contrôle du modèle.</span><span class="sxs-lookup"><span data-stu-id="3d389-260">If no such control exists, the procedure sets the input focus to the first control in the template.</span></span>                                                                                          |
| [<span data-ttu-id="3d389-261">**WM \_ ShowWindow**</span><span class="sxs-lookup"><span data-stu-id="3d389-261">**WM\_SHOWWINDOW**</span></span>](/windows/desktop/winmsg/wm-showwindow)         | <span data-ttu-id="3d389-262">Enregistre un handle sur le contrôle ayant le focus d’entrée si la boîte de dialogue est masquée, puis appelle [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) pour terminer l’action par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-262">Saves a handle to the control having the input focus if the dialog box is being hidden, then calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) to complete the default action.</span></span>                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="3d389-263">**\_SYSCOMMAND WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-263">**WM\_SYSCOMMAND**</span></span>](/windows/desktop/menurc/wm-syscommand)         | <span data-ttu-id="3d389-264">Enregistre un handle sur le contrôle ayant le focus d’entrée si la boîte de dialogue est réduite, puis appelle [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) pour terminer l’action par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-264">Saves a handle to the control having the input focus if the dialog box is being minimized, then calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) to complete the default action.</span></span>                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="3d389-265">**\_VKEYTOITEM WM**</span><span class="sxs-lookup"><span data-stu-id="3d389-265">**WM\_VKEYTOITEM**</span></span>](../controls/wm-vkeytoitem.md)         | <span data-ttu-id="3d389-266">Retourne zéro.</span><span class="sxs-lookup"><span data-stu-id="3d389-266">Returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

<span data-ttu-id="3d389-267">La procédure de fenêtre prédéfinie transmet tous les autres messages à [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) pour le traitement par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-267">The predefined window procedure passes all other messages to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) for default processing.</span></span>

## <a name="dialog-box-keyboard-interface"></a><span data-ttu-id="3d389-268">Interface clavier de la boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-268">Dialog Box Keyboard Interface</span></span>

<span data-ttu-id="3d389-269">Le système fournit une interface clavier spéciale pour les boîtes de dialogue qui exécutent un traitement spécial pour plusieurs clés.</span><span class="sxs-lookup"><span data-stu-id="3d389-269">The system provides a special keyboard interface for dialog boxes that carries out special processing for several keys.</span></span> <span data-ttu-id="3d389-270">L’interface génère des messages qui correspondent à certains boutons dans la boîte de dialogue ou modifie le focus d’entrée d’un contrôle à un autre.</span><span class="sxs-lookup"><span data-stu-id="3d389-270">The interface generates messages that correspond to certain buttons in the dialog box or changes the input focus from one control to another.</span></span> <span data-ttu-id="3d389-271">Voici les clés utilisées dans cette interface et leurs actions respectives.</span><span class="sxs-lookup"><span data-stu-id="3d389-271">Following are the keys used in this interface and their respective actions.</span></span>


| <span data-ttu-id="3d389-272">Clé</span><span class="sxs-lookup"><span data-stu-id="3d389-272">Key</span></span>            | <span data-ttu-id="3d389-273">Action</span><span class="sxs-lookup"><span data-stu-id="3d389-273">Action</span></span>                                                                                                                                                                    |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="3d389-274">ALT +*mnémonique*</span><span class="sxs-lookup"><span data-stu-id="3d389-274">ALT+*mnemonic*</span></span> | <span data-ttu-id="3d389-275">Déplace le focus d’entrée vers le premier contrôle (avec le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) ) après le contrôle statique contenant le mnémonique spécifié.</span><span class="sxs-lookup"><span data-stu-id="3d389-275">Moves the input focus to the first control (having the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style) after the static control containing the specified mnemonic.</span></span>        |
| <span data-ttu-id="3d389-276">INACTIF</span><span class="sxs-lookup"><span data-stu-id="3d389-276">DOWN</span></span>           | <span data-ttu-id="3d389-277">Déplace le focus d’entrée vers le contrôle suivant dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="3d389-277">Moves the input focus to the next control in the group.</span></span>                                                                                                                   |
| <span data-ttu-id="3d389-278">ENTRÉE</span><span class="sxs-lookup"><span data-stu-id="3d389-278">ENTER</span></span>          | <span data-ttu-id="3d389-279">Envoie un message de [**\_ commande WM**](/windows/desktop/menurc/wm-command) à la procédure de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-279">Sends a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message to the dialog box procedure.</span></span> <span data-ttu-id="3d389-280">Le paramètre *wParam* est défini sur IDOK ou sur l’identificateur de contrôle du bouton de commande par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-280">The *wParam* parameter is set to IDOK or control identifier of the default push button.</span></span> |
| <span data-ttu-id="3d389-281">ÉCHAP</span><span class="sxs-lookup"><span data-stu-id="3d389-281">ESC</span></span>            | <span data-ttu-id="3d389-282">Envoie un message de [**\_ commande WM**](/windows/desktop/menurc/wm-command) à la procédure de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-282">Sends a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message to the dialog box procedure.</span></span> <span data-ttu-id="3d389-283">Le paramètre *wParam* est défini sur IDCANCEL.</span><span class="sxs-lookup"><span data-stu-id="3d389-283">The *wParam* parameter is set to IDCANCEL.</span></span>                                              |
| <span data-ttu-id="3d389-284">LEFT</span><span class="sxs-lookup"><span data-stu-id="3d389-284">LEFT</span></span>           | <span data-ttu-id="3d389-285">Déplace le focus d’entrée vers le contrôle précédent dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="3d389-285">Moves the input focus to the previous control in the group.</span></span>                                                                                                               |
| <span data-ttu-id="3d389-286">*mnémotechniques*</span><span class="sxs-lookup"><span data-stu-id="3d389-286">*mnemonic*</span></span>     | <span data-ttu-id="3d389-287">Déplace le focus d’entrée vers le premier contrôle (avec le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) ) après le contrôle statique contenant le mnémonique spécifié.</span><span class="sxs-lookup"><span data-stu-id="3d389-287">Moves the input focus to the first control (having the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style) after the static control containing the specified mnemonic.</span></span>        |
| <span data-ttu-id="3d389-288">RIGHT</span><span class="sxs-lookup"><span data-stu-id="3d389-288">RIGHT</span></span>          | <span data-ttu-id="3d389-289">Déplace le focus d’entrée vers le contrôle suivant dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="3d389-289">Moves the input focus to the next control in the group.</span></span>                                                                                                                   |
| <span data-ttu-id="3d389-290">Maj+Tab</span><span class="sxs-lookup"><span data-stu-id="3d389-290">SHIFT+TAB</span></span>      | <span data-ttu-id="3d389-291">Déplace le focus d’entrée vers le contrôle précédent qui a le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="3d389-291">Moves the input focus to the previous control that has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span>                                                                |
| <span data-ttu-id="3d389-292">Tab</span><span class="sxs-lookup"><span data-stu-id="3d389-292">TAB</span></span>            | <span data-ttu-id="3d389-293">Déplace le focus d’entrée vers le contrôle suivant qui a le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="3d389-293">Moves the input focus to the next control that has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span>                                                                    |
| <span data-ttu-id="3d389-294">UP</span><span class="sxs-lookup"><span data-stu-id="3d389-294">UP</span></span>             | <span data-ttu-id="3d389-295">Déplace le focus d’entrée vers le contrôle précédent dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="3d389-295">Moves the input focus to the previous control in the group.</span></span>                                                                                                               |

<span data-ttu-id="3d389-296">Le système fournit automatiquement l’interface clavier pour toutes les boîtes de dialogue modales.</span><span class="sxs-lookup"><span data-stu-id="3d389-296">The system automatically provides the keyboard interface for all modal dialog boxes.</span></span> <span data-ttu-id="3d389-297">Elle ne fournit pas l’interface pour les boîtes de dialogue non modales, sauf si l’application appelle la fonction [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) pour filtrer les messages dans sa boucle de message principale.</span><span class="sxs-lookup"><span data-stu-id="3d389-297">It does not provide the interface for modeless dialog boxes unless the application calls the [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) function to filter messages in its main message loop.</span></span> <span data-ttu-id="3d389-298">Cela signifie que l’application doit transmettre le message à **IsDialogMessage** immédiatement après avoir récupéré le message de la file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="3d389-298">This means that the application must pass the message to **IsDialogMessage** immediately after retrieving the message from the message queue.</span></span> <span data-ttu-id="3d389-299">La fonction traite les messages s’il s’agit de la boîte de dialogue et retourne une valeur différente de zéro pour indiquer que le message a été traité et ne doit pas être transmis à la fonction [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) ou [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) .</span><span class="sxs-lookup"><span data-stu-id="3d389-299">The function processes the messages if it is for the dialog box and returns a nonzero value to indicate that the message has been processed and must not be passed to the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) or [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) function.</span></span>

<span data-ttu-id="3d389-300">Étant donné que l’interface de clavier de la boîte de dialogue utilise des touches de direction pour se déplacer entre les contrôles d’une boîte de dialogue, une application ne peut pas utiliser ces clés pour faire défiler le contenu d’une boîte de dialogue modale ou d’une boîte de dialogue non modale pour laquelle [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) est appelé.</span><span class="sxs-lookup"><span data-stu-id="3d389-300">Because the dialog box keyboard interface uses direction keys to move between controls in a dialog box, an application cannot use these keys to scroll the contents of any modal dialog box or any modeless dialog box for which [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) is called.</span></span> <span data-ttu-id="3d389-301">Quand une boîte de dialogue comporte des barres de défilement, l’application doit fournir une autre interface clavier pour les barres de défilement.</span><span class="sxs-lookup"><span data-stu-id="3d389-301">When a dialog box has scroll bars, the application must provide an alternate keyboard interface for the scroll bars.</span></span> <span data-ttu-id="3d389-302">Notez que l’interface de la souris pour le défilement est disponible lorsque le système comprend une souris.</span><span class="sxs-lookup"><span data-stu-id="3d389-302">Note that the mouse interface for scrolling is available when the system includes a mouse.</span></span>

### <a name="the-ws_tabstop-style"></a><span data-ttu-id="3d389-303">Le \_ style WS TABSTOP</span><span class="sxs-lookup"><span data-stu-id="3d389-303">The WS\_TABSTOP Style</span></span>

<span data-ttu-id="3d389-304">Le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) spécifie les contrôles que l’utilisateur peut déplacer en appuyant sur la touche Tab ou sur les touches Maj + Tab.</span><span class="sxs-lookup"><span data-stu-id="3d389-304">The [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style specifies the controls to which the user can move by pressing the TAB key or SHIFT+TAB keys.</span></span>

<span data-ttu-id="3d389-305">Quand l’utilisateur appuie sur TAB ou sur MAJ + TAB, le système détermine d’abord si ces clés sont traitées par le contrôle qui a actuellement le focus d’entrée.</span><span class="sxs-lookup"><span data-stu-id="3d389-305">When the user presses TAB or SHIFT+TAB, the system first determines whether these keys are processed by the control that currently has the input focus.</span></span> <span data-ttu-id="3d389-306">Elle envoie au contrôle un message [**WM \_ GETDLGCODE**](wm-getdlgcode.md) et, si le contrôle retourne DLGC \_ WANTTAB, le système passe les clés au contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-306">It sends the control a [**WM\_GETDLGCODE**](wm-getdlgcode.md) message, and if the control returns DLGC\_WANTTAB, the system passes the keys to the control.</span></span> <span data-ttu-id="3d389-307">Dans le cas contraire, le système utilise la fonction [**GetNextDlgTabItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlgtabitem) pour localiser le contrôle suivant qui est visible, et non désactivé, et qui a le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="3d389-307">Otherwise, the system uses the [**GetNextDlgTabItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlgtabitem) function to locate the next control that is visible, not disabled, and that has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="3d389-308">La recherche commence par le contrôle qui possède actuellement le focus d’entrée et continue dans l’ordre dans lequel les contrôles ont été créés, c’est-à-dire l’ordre dans lequel ils sont définis dans le modèle de boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-308">The search starts with the control currently having the input focus and proceeds in the order in which the controls were created—that is, the order in which they are defined in the dialog box template.</span></span> <span data-ttu-id="3d389-309">Lorsque le système localise un contrôle ayant les caractéristiques requises, le système y déplace le focus d’entrée.</span><span class="sxs-lookup"><span data-stu-id="3d389-309">When the system locates a control having the required characteristics, the system moves the input focus to it.</span></span>

<span data-ttu-id="3d389-310">Si la recherche du contrôle suivant avec le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) rencontre une fenêtre avec le style **WS \_ ex \_ CONTROLPARENT** , le système recherche de manière récursive les enfants de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="3d389-310">If the search for the next control with the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style encounters a window with the **WS\_EX\_CONTROLPARENT** style, the system recursively searches the window's children.</span></span>

<span data-ttu-id="3d389-311">Une application peut également utiliser [**GetNextDlgTabItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlgtabitem) pour localiser des contrôles avec le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="3d389-311">An application can also use [**GetNextDlgTabItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlgtabitem) to locate controls having the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="3d389-312">La fonction récupère le handle de fenêtre du contrôle suivant ou précédent avec le style **WS \_ TABSTOP** sans déplacer le focus d’entrée.</span><span class="sxs-lookup"><span data-stu-id="3d389-312">The function retrieves the window handle of the next or previous control having the **WS\_TABSTOP** style without moving the input focus.</span></span>

### <a name="the-ws_group-style"></a><span data-ttu-id="3d389-313">Le \_ style de groupe WS</span><span class="sxs-lookup"><span data-stu-id="3d389-313">The WS\_GROUP Style</span></span>

<span data-ttu-id="3d389-314">Par défaut, le système déplace le focus d’entrée vers le contrôle suivant ou précédent chaque fois que l’utilisateur appuie sur une touche de direction.</span><span class="sxs-lookup"><span data-stu-id="3d389-314">By default, the system moves the input focus to the next or previous control whenever the user presses a direction key.</span></span> <span data-ttu-id="3d389-315">Tant que le contrôle actuel avec le focus d’entrée ne traite pas ces clés et que le contrôle suivant ou précédent n’est pas un contrôle statique, le système continue de déplacer le focus d’entrée sur tous les contrôles dans la boîte de dialogue lorsque l’utilisateur continue à appuyer sur les touches de direction.</span><span class="sxs-lookup"><span data-stu-id="3d389-315">As long as the current control with the input focus does not process these keys and the next or previous control is not a static control, the system continues to move the input focus through all controls in the dialog box as the user continues to press the direction keys.</span></span>

<span data-ttu-id="3d389-316">Une application peut utiliser le style de [**\_ groupe WS**](/windows/desktop/winmsg/window-styles) pour modifier ce comportement par défaut.</span><span class="sxs-lookup"><span data-stu-id="3d389-316">An application can use the [**WS\_GROUP**](/windows/desktop/winmsg/window-styles) style to modify this default behavior.</span></span> <span data-ttu-id="3d389-317">Le style marque le début d’un groupe de contrôles.</span><span class="sxs-lookup"><span data-stu-id="3d389-317">The style marks the beginning of a group of controls.</span></span> <span data-ttu-id="3d389-318">Si un contrôle du groupe a le focus d’entrée lorsque l’utilisateur commence à appuyer sur les touches de direction, le focus reste dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="3d389-318">If a control in the group has the input focus when the user begins pressing direction keys, the focus remains in the group.</span></span> <span data-ttu-id="3d389-319">En général, le premier contrôle d’un groupe doit avoir le style de **\_ groupe WS** et tous les autres contrôles du groupe ne doivent pas avoir ce style.</span><span class="sxs-lookup"><span data-stu-id="3d389-319">In general, the first control in a group must have the **WS\_GROUP** style and all other controls in the group must not have this style.</span></span> <span data-ttu-id="3d389-320">Tous les contrôles du groupe doivent être contigus, c’est-à-dire qu’ils doivent avoir été créés consécutivement sans contrôles intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="3d389-320">All controls in the group must be contiguous—that is, they must have been created consecutively with no intervening controls.</span></span>

<span data-ttu-id="3d389-321">Quand l’utilisateur appuie sur une touche de direction, le système détermine d’abord si le contrôle actuel ayant le focus d’entrée traite les touches de direction.</span><span class="sxs-lookup"><span data-stu-id="3d389-321">When the user presses a direction key, the system first determines whether the current control having the input focus processes the direction keys.</span></span> <span data-ttu-id="3d389-322">Le système envoie un message [**WM \_ GETDLGCODE**](wm-getdlgcode.md) au contrôle et si le contrôle retourne la valeur **\_ WANTARROWS DLGC** , passe la clé au contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-322">The system sends a [**WM\_GETDLGCODE**](wm-getdlgcode.md) message to the control and if the control returns the **DLGC\_WANTARROWS** value, passes the key to the control.</span></span> <span data-ttu-id="3d389-323">Dans le cas contraire, le système utilise la fonction [**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) pour déterminer le contrôle suivant dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="3d389-323">Otherwise, the system uses the [**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) function to determine the next control in the group.</span></span>

<span data-ttu-id="3d389-324">[**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) recherche dans l’ordre (ou dans l’ordre inverse) les contrôles qui ont été créés.</span><span class="sxs-lookup"><span data-stu-id="3d389-324">[**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) searches controls in the order (or reverse order) they were created.</span></span> <span data-ttu-id="3d389-325">Si l’utilisateur appuie sur la touche droite ou enfoncée, **GetNextDlgGroupItem** retourne le contrôle suivant si ce contrôle n’a pas le style de [**\_ groupe WS**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="3d389-325">If the user presses the RIGHT or DOWN key, **GetNextDlgGroupItem** returns the next control if that control does not have the [**WS\_GROUP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="3d389-326">Dans le cas contraire, la fonction inverse l’ordre de la recherche et retourne le premier contrôle avec le style de **\_ groupe WS** .</span><span class="sxs-lookup"><span data-stu-id="3d389-326">Otherwise, the function reverses the order of the search and returns the first control that has the **WS\_GROUP** style.</span></span> <span data-ttu-id="3d389-327">Si l’utilisateur appuie sur la touche gauche ou haut, la fonction retourne le contrôle précédent, sauf si le contrôle actuel a déjà le style de **\_ groupe WS** .</span><span class="sxs-lookup"><span data-stu-id="3d389-327">If the user presses the LEFT or UP key, the function returns the previous control unless the current control already has the **WS\_GROUP** style.</span></span> <span data-ttu-id="3d389-328">Si le contrôle actuel a ce style, la fonction inverse l’ordre de la recherche, localise le premier contrôle ayant le style **de \_ groupe WS** et retourne le contrôle qui précède immédiatement le contrôle localisé.</span><span class="sxs-lookup"><span data-stu-id="3d389-328">If the current control has this style, the function reverses the order of the search, locates the first control having the **WS\_GROUP** style, and returns the control that immediately precedes the located control.</span></span>

<span data-ttu-id="3d389-329">Si la recherche du contrôle suivant dans le groupe rencontre une fenêtre avec le style **WS \_ ex \_ CONTROLPARENT** , le système recherche de manière récursive les enfants de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="3d389-329">If the search for the next control in the group encounters a window with the **WS\_EX\_CONTROLPARENT** style, the system recursively searches the window's children.</span></span>

<span data-ttu-id="3d389-330">Une fois que le système a le contrôle suivant ou précédent, il envoie un message [**WM \_ GETDLGCODE**](wm-getdlgcode.md) au contrôle pour déterminer le type de contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-330">After the system has the next or previous control, it sends a [**WM\_GETDLGCODE**](wm-getdlgcode.md) message to the control to determine the control type.</span></span> <span data-ttu-id="3d389-331">Le système déplace ensuite le focus d’entrée pour contrôler s’il ne s’agit pas d’un contrôle statique.</span><span class="sxs-lookup"><span data-stu-id="3d389-331">The system then moves the input focus to control if it is not a static control.</span></span> <span data-ttu-id="3d389-332">Si le contrôle est une case d’option automatique, le système lui envoie un message de [**\_ clic sur BM**](../controls/bm-click.md) .</span><span class="sxs-lookup"><span data-stu-id="3d389-332">If the control is an automatic radio button, the system sends a [**BM\_CLICK**](../controls/bm-click.md) message to it.</span></span> <span data-ttu-id="3d389-333">Une application peut également utiliser [**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) pour localiser des contrôles dans un groupe.</span><span class="sxs-lookup"><span data-stu-id="3d389-333">An application can also use [**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) to locate controls in a group.</span></span>

<span data-ttu-id="3d389-334">En règle générale, le premier contrôle du groupe combine les styles [**WS \_ Group**](/windows/desktop/winmsg/window-styles) et [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) afin que l’utilisateur puisse se déplacer d’un groupe à un groupe à l’aide de la touche Tab.</span><span class="sxs-lookup"><span data-stu-id="3d389-334">Generally, the first control in the group combines the [**WS\_GROUP**](/windows/desktop/winmsg/window-styles) and [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) styles so that the user can move from group to group by using the TAB key.</span></span> <span data-ttu-id="3d389-335">Si le groupe contient des cases d’option, l’application doit appliquer le style **WS \_ TABSTOP** uniquement au premier contrôle du groupe.</span><span class="sxs-lookup"><span data-stu-id="3d389-335">If the group contains radio buttons, the application should apply the **WS\_TABSTOP** style only to the first control in the group.</span></span> <span data-ttu-id="3d389-336">Le système déplace automatiquement le style lorsque l’utilisateur passe d’un contrôle à l’autre dans le groupe.</span><span class="sxs-lookup"><span data-stu-id="3d389-336">The system automatically moves the style when the user moves between controls in the group.</span></span> <span data-ttu-id="3d389-337">Cela garantit que le focus d’entrée sera toujours sur le contrôle le plus récemment sélectionné lorsque l’utilisateur se déplace vers le groupe à l’aide de la touche TAB.</span><span class="sxs-lookup"><span data-stu-id="3d389-337">This ensures that the input focus will always be on the most recently selected control when the user moves to the group using the TAB key.</span></span>

### <a name="mnemonics"></a><span data-ttu-id="3d389-338">Les mnémoniques</span><span class="sxs-lookup"><span data-stu-id="3d389-338">Mnemonics</span></span>

<span data-ttu-id="3d389-339">Un mnémonique est une lettre ou un chiffre sélectionné dans l’étiquette d’un bouton ou dans le texte d’un contrôle statique.</span><span class="sxs-lookup"><span data-stu-id="3d389-339">A mnemonic is a selected letter or digit in the label of a button or in the text of a static control.</span></span> <span data-ttu-id="3d389-340">Le système déplace le focus d’entrée vers le contrôle associé au mnémonique chaque fois que l’utilisateur appuie sur la touche qui correspond au mnémonique ou appuie sur cette touche et la touche ALT en combinaison.</span><span class="sxs-lookup"><span data-stu-id="3d389-340">The system moves the input focus to the control associated with the mnemonic whenever the user either presses the key that corresponds to the mnemonic or presses this key and the ALT key in combination.</span></span> <span data-ttu-id="3d389-341">Les mnémoniques permettent à l’utilisateur de passer rapidement à un contrôle spécifié à l’aide du clavier.</span><span class="sxs-lookup"><span data-stu-id="3d389-341">Mnemonics provide a quick way for the user to move to a specified control by using the keyboard.</span></span>

<span data-ttu-id="3d389-342">Une application crée un mnémonique pour un contrôle en insérant la esperluette (&) juste avant la lettre ou le chiffre sélectionné dans l’étiquette ou le texte du contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-342">An application creates a mnemonic for a control by inserting the ampersand (&) immediately before the selected letter or digit in the label or text for the control.</span></span> <span data-ttu-id="3d389-343">Dans la plupart des cas, la chaîne se terminant par un caractère null fournie avec le contrôle dans le modèle de boîte de dialogue contient l’esperluette.</span><span class="sxs-lookup"><span data-stu-id="3d389-343">In most cases, the null-terminated string provided with the control in the dialog box template contains the ampersand.</span></span> <span data-ttu-id="3d389-344">Toutefois, une application peut créer un mnémonique à tout moment en remplaçant l’étiquette ou le texte existant d’un contrôle à l’aide de la fonction [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) .</span><span class="sxs-lookup"><span data-stu-id="3d389-344">However, an application can create a mnemonic at any time by replacing a control's existing label or text by using the [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) function.</span></span> <span data-ttu-id="3d389-345">Un seul mnémonique peut être spécifié pour chaque contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-345">Only one mnemonic can be specified for each control.</span></span> <span data-ttu-id="3d389-346">Bien qu’il soit recommandé, les mnémoniques dans une boîte de dialogue ne sont pas nécessairement uniques.</span><span class="sxs-lookup"><span data-stu-id="3d389-346">Although it is recommended, mnemonics in a dialog box need not be unique.</span></span>

<span data-ttu-id="3d389-347">Quand l’utilisateur appuie sur une touche de lettre ou de chiffre, le système détermine d’abord si le contrôle actuel ayant le focus d’entrée traite la clé.</span><span class="sxs-lookup"><span data-stu-id="3d389-347">When the user presses a letter or digit key, the system first determines whether the current control having the input focus processes the key.</span></span> <span data-ttu-id="3d389-348">Le système envoie un message [**WM \_ GETDLGCODE**](wm-getdlgcode.md) au contrôle et, si le contrôle retourne la valeur **DLGC \_ WANTALLKEYS** ou **DLG \_ WANTMESSAGE** , le système passe la clé au contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-348">The system sends a [**WM\_GETDLGCODE**](wm-getdlgcode.md) message to the control, and if the control returns the **DLGC\_WANTALLKEYS** or **DLG\_WANTMESSAGE** value, the system passes the key to the control.</span></span> <span data-ttu-id="3d389-349">Dans le cas contraire, il recherche un contrôle dont le mnémonique correspond à la lettre ou au chiffre spécifié.</span><span class="sxs-lookup"><span data-stu-id="3d389-349">Otherwise, it searches for a control whose mnemonic matches the specified letter or digit.</span></span> <span data-ttu-id="3d389-350">Elle poursuit la recherche jusqu’à ce qu’elle trouve un contrôle ou ait examiné tous les contrôles.</span><span class="sxs-lookup"><span data-stu-id="3d389-350">It continues to search until it locates a control or has examined all controls.</span></span> <span data-ttu-id="3d389-351">Au cours de la recherche, elle ignore tous les contrôles statiques qui ont le style [**SS \_ NoPrefix**](../controls/static-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="3d389-351">During the search, it skips any static controls that have the [**SS\_NOPREFIX**](../controls/static-control-styles.md) style.</span></span>

<span data-ttu-id="3d389-352">Si la recherche d’un contrôle avec un mnémonique correspondant rencontre une fenêtre avec le style **WS \_ ex \_ CONTROLPARENT** , le système recherche de manière récursive les enfants de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="3d389-352">If the search for a control with a matching mnemonic encounters a window with the **WS\_EX\_CONTROLPARENT** style, the system recursively searches the window's children.</span></span>

<span data-ttu-id="3d389-353">Si le système localise un contrôle statique et que le contrôle n’est pas désactivé, le système déplace le focus d’entrée vers le premier contrôle après le contrôle statique qui est visible, et non désactivé, et qui a le style [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="3d389-353">If the system locates a static control and the control is not disabled, the system moves the input focus to the first control after the static control that is visible, not disabled, and that has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="3d389-354">Si le système localise un autre contrôle qui a un mnémonique correspondant, il déplace le focus d’entrée vers ce contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-354">If the system locates some other control that has a matching mnemonic, it moves the input focus to that control.</span></span> <span data-ttu-id="3d389-355">Si le contrôle est un bouton de commande par défaut, le système envoie un message de notification sur lequel l' [**\_ utilisateur a cliqué**](../controls/bn-clicked.md) dans la procédure de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-355">If the control is a default push button, the system sends a [**BN\_CLICKED**](../controls/bn-clicked.md) notification message to the dialog box procedure.</span></span> <span data-ttu-id="3d389-356">Si le contrôle est un autre style de bouton et qu’aucun autre contrôle dans la boîte de dialogue n’a le même mnémonique, le système envoie le message de [**\_ clic BM**](../controls/bm-click.md) au contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-356">If the control is another style of button and there is no other control in the dialog box having the same mnemonic, the system sends the [**BM\_CLICK**](../controls/bm-click.md) message to the control.</span></span>

## <a name="dialog-box-settings"></a><span data-ttu-id="3d389-357">Paramètres de la boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-357">Dialog Box Settings</span></span>

<span data-ttu-id="3d389-358">Les paramètres de la boîte de dialogue sont les sélections et les valeurs actuelles pour les contrôles de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-358">The dialog box settings are the current selections and values for the controls in the dialog box.</span></span> <span data-ttu-id="3d389-359">La procédure de boîte de dialogue est chargée d’initialiser les contrôles à ces paramètres lors de la création de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-359">The dialog box procedure is responsible for initializing the controls to these settings when creating the dialog box.</span></span> <span data-ttu-id="3d389-360">Il est également chargé de récupérer les paramètres actuels des contrôles avant de détruire la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-360">It is also responsible for retrieving the current settings from the controls before destroying the dialog box.</span></span> <span data-ttu-id="3d389-361">Les méthodes utilisées pour initialiser et récupérer les paramètres dépendent du type de contrôle.</span><span class="sxs-lookup"><span data-stu-id="3d389-361">The methods used to initialize and retrieve settings depend on the type of control.</span></span>

<span data-ttu-id="3d389-362">Pour plus d'informations, voir les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="3d389-362">For more information, see the following topics:</span></span>

-   [<span data-ttu-id="3d389-363">Cases d’option et cases à cocher</span><span class="sxs-lookup"><span data-stu-id="3d389-363">Radio Buttons and Check Boxes</span></span>](#radio-buttons-and-check-boxes)
-   [<span data-ttu-id="3d389-364">Boîte de dialogue Modifier les contrôles</span><span class="sxs-lookup"><span data-stu-id="3d389-364">Dialog Box Edit Controls</span></span>](#dialog-box-edit-controls)
-   [<span data-ttu-id="3d389-365">Zones de liste, zones de liste modifiable et listes de répertoires</span><span class="sxs-lookup"><span data-stu-id="3d389-365">List Boxes, Combo Boxes, and Directory Listings</span></span>](#list-boxes-combo-boxes-and-directory-listings)
-   [<span data-ttu-id="3d389-366">Messages de contrôle de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-366">Dialog Box Control Messages</span></span>](#dialog-box-control-messages)

### <a name="radio-buttons-and-check-boxes"></a><span data-ttu-id="3d389-367">Cases d’option et cases à cocher</span><span class="sxs-lookup"><span data-stu-id="3d389-367">Radio Buttons and Check Boxes</span></span>

<span data-ttu-id="3d389-368">Les boîtes de dialogue utilisent des cases d’option et des cases à cocher pour permettre à l’utilisateur de choisir parmi une liste d’options.</span><span class="sxs-lookup"><span data-stu-id="3d389-368">Dialog boxes use radio buttons and check boxes to let the user choose from a list of options.</span></span> <span data-ttu-id="3d389-369">Les cases d’option permettent à l’utilisateur de choisir parmi des options qui s’excluent mutuellement ; les cases à cocher permettent à l’utilisateur de choisir une combinaison d’options.</span><span class="sxs-lookup"><span data-stu-id="3d389-369">Radio buttons let the user choose from mutually exclusive options; check boxes let the user pick a combination of options.</span></span>

<span data-ttu-id="3d389-370">La procédure de boîte de dialogue peut définir l’état initial d’une case à cocher à l’aide de la fonction [**CheckDlgButton**](https://msdn.microsoft.com/library/Cc410649(v=MSDN.10).aspx) , qui active ou désactive la case à cocher.</span><span class="sxs-lookup"><span data-stu-id="3d389-370">The dialog box procedure can set the initial state of a check box by using the [**CheckDlgButton**](https://msdn.microsoft.com/library/Cc410649(v=MSDN.10).aspx) function, which sets or clears the check box.</span></span> <span data-ttu-id="3d389-371">Pour les cases d’option d’un groupe de cases d’option mutuellement exclusives, la procédure de boîte de dialogue peut utiliser la fonction [**CheckRadioButton**](https://msdn.microsoft.com/library/Cc410654(v=MSDN.10).aspx) pour définir la case d’option appropriée et effacer automatiquement toute autre case d’option.</span><span class="sxs-lookup"><span data-stu-id="3d389-371">For radio buttons in a group of mutually exclusive radio buttons, the dialog box procedure can use the [**CheckRadioButton**](https://msdn.microsoft.com/library/Cc410654(v=MSDN.10).aspx) function to set the appropriate radio button and automatically clear any other radio button.</span></span>

<span data-ttu-id="3d389-372">Avant qu’une boîte de dialogue ne se termine, la procédure de la boîte de dialogue peut vérifier l’état de chaque case d’option et case à cocher à l’aide de la fonction [**IsDlgButtonChecked**](https://msdn.microsoft.com/library/Cc364806(v=MSDN.10).aspx) , qui retourne l’état actuel du bouton.</span><span class="sxs-lookup"><span data-stu-id="3d389-372">Before a dialog box terminates, the dialog box procedure can check the state of each radio button and check box by using the [**IsDlgButtonChecked**](https://msdn.microsoft.com/library/Cc364806(v=MSDN.10).aspx) function, which returns the current state of the button.</span></span> <span data-ttu-id="3d389-373">En général, une boîte de dialogue enregistre ces informations pour initialiser les boutons la prochaine fois qu’elle crée la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-373">A dialog box typically saves this information to initialize the buttons the next time it creates the dialog box.</span></span>

### <a name="dialog-box-edit-controls"></a><span data-ttu-id="3d389-374">Boîte de dialogue Modifier les contrôles</span><span class="sxs-lookup"><span data-stu-id="3d389-374">Dialog Box Edit Controls</span></span>

<span data-ttu-id="3d389-375">De nombreuses boîtes de dialogue possèdent des contrôles d’édition qui permettent à l’utilisateur d’entrer du texte comme entrée.</span><span class="sxs-lookup"><span data-stu-id="3d389-375">Many dialog boxes have edit controls that let the user supply text as input.</span></span> <span data-ttu-id="3d389-376">La plupart des procédures de boîte de dialogue initialisent un contrôle d’édition lors du premier démarrage de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-376">Most dialog box procedures initialize an edit control when the dialog box first starts.</span></span> <span data-ttu-id="3d389-377">Par exemple, la procédure de boîte de dialogue peut placer un nom de fichier proposé dans le contrôle que l’utilisateur peut ensuite sélectionner, modifier ou remplacer.</span><span class="sxs-lookup"><span data-stu-id="3d389-377">For example, the dialog box procedure may place a proposed filename in the control that the user can then select, modify, or replace.</span></span> <span data-ttu-id="3d389-378">La procédure de boîte de dialogue peut définir le texte dans un contrôle d’édition à l’aide de la fonction [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) , qui copie le texte d’une mémoire tampon spécifiée dans le contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="3d389-378">The dialog box procedure can set the text in an edit control by using the [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) function, which copies text from a specified buffer to the edit control.</span></span> <span data-ttu-id="3d389-379">Lorsque le contrôle d’édition reçoit le focus d’entrée, il sélectionne automatiquement le texte complet pour modification.</span><span class="sxs-lookup"><span data-stu-id="3d389-379">When the edit control receives the input focus, it automatically selects the complete text for editing.</span></span>

<span data-ttu-id="3d389-380">Étant donné que les contrôles d’édition ne retournent pas automatiquement leur texte dans la boîte de dialogue, la procédure de la boîte de dialogue doit récupérer le texte avant qu’il ne se termine.</span><span class="sxs-lookup"><span data-stu-id="3d389-380">Because edit controls do not automatically return their text to the dialog box, the dialog box procedure must retrieve the text before it terminates.</span></span> <span data-ttu-id="3d389-381">Il peut récupérer le texte à l’aide de la fonction [**GetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-getdlgitemtexta) , qui copie le texte du contrôle d’édition dans une mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="3d389-381">It can retrieve the text by using the [**GetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-getdlgitemtexta) function, which copies the edit control text to a buffer.</span></span> <span data-ttu-id="3d389-382">La procédure de boîte de dialogue enregistre généralement ce texte pour initialiser le contrôle d’édition ultérieurement ou le transmet à la fenêtre parente pour traitement.</span><span class="sxs-lookup"><span data-stu-id="3d389-382">The dialog box procedure typically saves this text to initialize the edit control later or passes it on to the parent window for processing.</span></span>

<span data-ttu-id="3d389-383">Certaines boîtes de dialogue utilisent des contrôles d’édition qui permettent à l’utilisateur d’entrer des nombres.</span><span class="sxs-lookup"><span data-stu-id="3d389-383">Some dialog boxes use edit controls that let the user enter numbers.</span></span> <span data-ttu-id="3d389-384">La procédure de boîte de dialogue peut récupérer un nombre à partir d’un contrôle d’édition à l’aide de la fonction [**GetDlgItemInt**](/windows/desktop/api/Winuser/nf-winuser-getdlgitemint) , qui récupère le texte du contrôle d’édition et convertit le texte en valeur décimale.</span><span class="sxs-lookup"><span data-stu-id="3d389-384">The dialog box procedure can retrieve a number from an edit control by using the [**GetDlgItemInt**](/windows/desktop/api/Winuser/nf-winuser-getdlgitemint) function, which retrieves the text from the edit control and converts the text to a decimal value.</span></span> <span data-ttu-id="3d389-385">L’utilisateur tape le nombre en chiffres décimaux.</span><span class="sxs-lookup"><span data-stu-id="3d389-385">The user types the number in decimal digits.</span></span> <span data-ttu-id="3d389-386">Il peut être signé ou non signé.</span><span class="sxs-lookup"><span data-stu-id="3d389-386">It can be either signed or unsigned.</span></span> <span data-ttu-id="3d389-387">La procédure de boîte de dialogue peut afficher un entier à l’aide de la fonction [**SetDlgItemInt**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemint) .</span><span class="sxs-lookup"><span data-stu-id="3d389-387">The dialog box procedure can display an integer by using the [**SetDlgItemInt**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemint) function.</span></span> <span data-ttu-id="3d389-388">**SetDlgItemInt** convertit un entier signé ou non signé en une chaîne de chiffres décimaux.</span><span class="sxs-lookup"><span data-stu-id="3d389-388">**SetDlgItemInt** converts a signed or unsigned integer to a string of decimal digits.</span></span>

### <a name="list-boxes-combo-boxes-and-directory-listings"></a><span data-ttu-id="3d389-389">Zones de liste, zones de liste modifiable et listes de répertoires</span><span class="sxs-lookup"><span data-stu-id="3d389-389">List Boxes, Combo Boxes, and Directory Listings</span></span>

<span data-ttu-id="3d389-390">Certaines boîtes de dialogue affichent des listes de noms à partir desquels l’utilisateur peut sélectionner un ou plusieurs noms.</span><span class="sxs-lookup"><span data-stu-id="3d389-390">Some dialog boxes display lists of names from which the user can select one or more names.</span></span> <span data-ttu-id="3d389-391">Pour afficher une liste de noms de fichiers, par exemple, une boîte de dialogue utilise généralement une zone de liste et les fonctions [**DlgDirList**](https://msdn.microsoft.com/library/Cc410788(v=MSDN.10).aspx) et [**DlgDirSelectEx**](https://msdn.microsoft.com/library/Cc410769(v=MSDN.10).aspx) .</span><span class="sxs-lookup"><span data-stu-id="3d389-391">To display a list of filenames, for example, a dialog box typically uses a list box and the [**DlgDirList**](https://msdn.microsoft.com/library/Cc410788(v=MSDN.10).aspx) and [**DlgDirSelectEx**](https://msdn.microsoft.com/library/Cc410769(v=MSDN.10).aspx) functions.</span></span> <span data-ttu-id="3d389-392">La fonction **DlgDirList** remplit automatiquement une zone de liste avec les noms de fichiers dans le répertoire actif.</span><span class="sxs-lookup"><span data-stu-id="3d389-392">The **DlgDirList** function automatically fills a list box with the filenames in the current directory.</span></span> <span data-ttu-id="3d389-393">La fonction **DlgDirSelect** récupère le nom de fichier sélectionné dans la zone de liste.</span><span class="sxs-lookup"><span data-stu-id="3d389-393">The **DlgDirSelect** function retrieves the selected filename from the list box.</span></span> <span data-ttu-id="3d389-394">Ensemble, ces deux fonctions offrent un moyen pratique pour une boîte de dialogue d’afficher une liste de répertoires afin que l’utilisateur puisse sélectionner un fichier sans avoir à taper son nom et son emplacement.</span><span class="sxs-lookup"><span data-stu-id="3d389-394">Together, these two functions provide a convenient way for a dialog box to display a directory listing so the user can select a file without having to type its name and location.</span></span>

<span data-ttu-id="3d389-395">Une boîte de dialogue peut également utiliser une zone de liste déroulante pour afficher une liste de noms de fichiers.</span><span class="sxs-lookup"><span data-stu-id="3d389-395">A dialog box can also use a combo box to display a list of filenames.</span></span> <span data-ttu-id="3d389-396">La fonction [**DlgDirListComboBox**](https://msdn.microsoft.com/library/Cc410798(v=MSDN.10).aspx) remplit automatiquement une partie zone de liste de la zone de liste déroulante avec les noms de fichiers dans le répertoire actif.</span><span class="sxs-lookup"><span data-stu-id="3d389-396">The [**DlgDirListComboBox**](https://msdn.microsoft.com/library/Cc410798(v=MSDN.10).aspx) function automatically fills a list box portion of the combo box with the filenames in the current directory.</span></span> <span data-ttu-id="3d389-397">La fonction [**DlgDirSelectComboBoxEx**](https://msdn.microsoft.com/library/Cc410768(v=MSDN.10).aspx) récupère un nom de fichier sélectionné à partir de la partie zone de liste.</span><span class="sxs-lookup"><span data-stu-id="3d389-397">The [**DlgDirSelectComboBoxEx**](https://msdn.microsoft.com/library/Cc410768(v=MSDN.10).aspx) function retrieves a selected filename from the list box portion.</span></span>

### <a name="dialog-box-control-messages"></a><span data-ttu-id="3d389-398">Messages de contrôle de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="3d389-398">Dialog Box Control Messages</span></span>

<span data-ttu-id="3d389-399">De nombreux contrôles reconnaissent des messages prédéfinis qui, lorsqu’ils sont reçus par des contrôles, les obligent à exécuter une action.</span><span class="sxs-lookup"><span data-stu-id="3d389-399">Many controls recognize predefined messages that, when received by controls, cause them to carry out some action.</span></span> <span data-ttu-id="3d389-400">Par exemple, le message [**BM \_ SETCHECK**](../controls/bm-setcheck.md) définit la vérification dans une case à cocher et le message [**em \_ GETSEL**](../controls/em-getsel.md) récupère la partie du texte du contrôle qui est actuellement sélectionné.</span><span class="sxs-lookup"><span data-stu-id="3d389-400">For example, the [**BM\_SETCHECK**](../controls/bm-setcheck.md) message sets the check in a check box and the [**EM\_GETSEL**](../controls/em-getsel.md) message retrieves the portion of the control's text that is currently selected.</span></span> <span data-ttu-id="3d389-401">Les messages de contrôle offrent à une procédure de dialogue un accès plus souple et plus flexible aux contrôles que les fonctions standard. ils sont donc souvent utilisés lorsque la boîte de dialogue nécessite des interactions complexes avec l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3d389-401">The control messages give a dialog procedure greater and more flexible access to the controls than the standard functions, so they are often used when the dialog box requires complex interactions with the user.</span></span>

<span data-ttu-id="3d389-402">Une procédure de boîte de dialogue peut envoyer un message à un contrôle en fournissant l’identificateur de contrôle et à l’aide de la fonction [**SendDlgItemMessage**](/windows/desktop/api/Winuser/nf-winuser-senddlgitemmessagea) , qui est identique à la fonction [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) , sauf qu’elle utilise un identificateur de contrôle au lieu d’un handle de fenêtre pour identifier le contrôle qui doit recevoir le message.</span><span class="sxs-lookup"><span data-stu-id="3d389-402">A dialog box procedure can send a message to a control by supplying the control identifier and using the [**SendDlgItemMessage**](/windows/desktop/api/Winuser/nf-winuser-senddlgitemmessagea) function, which is identical to the [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) function, except that it uses a control identifier instead of a window handle to identify the control that is to receive the message.</span></span> <span data-ttu-id="3d389-403">Un message spécifié peut exiger que la procédure de dialogue envoie des paramètres avec le message et que le message puisse avoir des valeurs de retour correspondantes.</span><span class="sxs-lookup"><span data-stu-id="3d389-403">A specified message may require that the dialog procedure send parameters with the message, and the message may have corresponding return values.</span></span> <span data-ttu-id="3d389-404">L’opération et les exigences de chaque message de contrôle dépendent de l’objectif du message et du contrôle qui le traite.</span><span class="sxs-lookup"><span data-stu-id="3d389-404">The operation and requirements of each control message depends on the purpose of the message and the control that processes it.</span></span>

<span data-ttu-id="3d389-405">Pour plus d’informations sur les messages de contrôle, consultez [contrôles Windows](../controls/window-controls.md).</span><span class="sxs-lookup"><span data-stu-id="3d389-405">For more information about the control messages, see [Windows Controls](../controls/window-controls.md).</span></span>

## <a name="custom-dialog-boxes"></a><span data-ttu-id="3d389-406">Boîtes de dialogue personnalisées</span><span class="sxs-lookup"><span data-stu-id="3d389-406">Custom Dialog Boxes</span></span>

<span data-ttu-id="3d389-407">Une application peut créer des boîtes de dialogue personnalisées en utilisant une classe de fenêtre définie par l’application pour les boîtes de dialogue au lieu d’utiliser la classe de boîte de dialogue prédéfinie.</span><span class="sxs-lookup"><span data-stu-id="3d389-407">An application can create custom dialog boxes by using an application-defined window class for the dialog boxes instead of using the predefined dialog box class.</span></span> <span data-ttu-id="3d389-408">Les applications utilisent généralement cette méthode lorsqu’une boîte de dialogue est la fenêtre principale, mais elle est également utile pour créer des boîtes de dialogue modales et non modales pour les applications qui ont des fenêtres qui se chevauchent standard.</span><span class="sxs-lookup"><span data-stu-id="3d389-408">Applications typically use this method when a dialog box is their main window, but it is also useful for creating modal and modeless dialog boxes for applications that have standard overlapping windows.</span></span>

<span data-ttu-id="3d389-409">La classe de fenêtre définie par l’application permet à l’application de définir une procédure de fenêtre pour la boîte de dialogue et de traiter les messages avant de les envoyer à la procédure de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-409">The application-defined window class allows the application to define a window procedure for the dialog box and process messages before sending them to the dialog box procedure.</span></span> <span data-ttu-id="3d389-410">Il permet également à l’application de définir une icône de classe, un pinceau d’arrière-plan de classe et un menu de classe pour la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-410">It also lets the application define a class icon, a class background brush, and a class menu for the dialog box.</span></span> <span data-ttu-id="3d389-411">L’application doit inscrire la classe de fenêtre avant de tenter de créer une boîte de dialogue et doit fournir le modèle de boîte de dialogue avec la valeur Atom ou le nom de la classe de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="3d389-411">The application must register the window class before attempting to create a dialog box and must provide the dialog box template with the atom value or name of the window class.</span></span>

<span data-ttu-id="3d389-412">De nombreuses applications créent une nouvelle classe de boîte de dialogue en extrayant d’abord les informations de classe pour la classe de boîte de dialogue prédéfinie et en la passant à la fonction [**GetClassinfo**](/windows/desktop/api/winuser/nf-winuser-getclassinfoa) , qui remplit une structure [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) avec les informations.</span><span class="sxs-lookup"><span data-stu-id="3d389-412">Many applications create a new dialog box class by first retrieving the class information for the predefined dialog box class, and passing it to the [**GetClassInfo**](/windows/desktop/api/winuser/nf-winuser-getclassinfoa) function, which fills a [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure with the information.</span></span> <span data-ttu-id="3d389-413">L’application modifie les membres individuels de la structure, tels que le nom de la classe, le pinceau et l’icône, puis inscrit la nouvelle classe à l’aide de la fonction [**registerClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) .</span><span class="sxs-lookup"><span data-stu-id="3d389-413">The application modifies individual members of the structure, such as the class name, brush, and icon, then registers the new class by using the [**RegisterClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) function.</span></span> <span data-ttu-id="3d389-414">Si une application remplit la structure **WNDCLASS** seule, elle doit définir le membre **CbWndExtra** sur le **DLGWINDOWEXTRA**, qui est le nombre d’octets supplémentaires requis par le système pour chaque boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-414">If an application fills the **WNDCLASS** structure on its own, it must set the **cbWndExtra** member to the **DLGWINDOWEXTRA**, which is the number of extra bytes the system requires for each dialog box.</span></span> <span data-ttu-id="3d389-415">Si une application utilise également des octets supplémentaires pour chaque boîte de dialogue, ceux-ci doivent dépasser les octets supplémentaires requis par le système.</span><span class="sxs-lookup"><span data-stu-id="3d389-415">If an application also uses extra bytes for each dialog box, they must be beyond the extra bytes required by the system.</span></span>

<span data-ttu-id="3d389-416">La procédure de fenêtre de la boîte de dialogue personnalisée a les mêmes paramètres et exigences que toute autre procédure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="3d389-416">The window procedure for the custom dialog box has the same parameters and requirements as any other window procedure.</span></span> <span data-ttu-id="3d389-417">Contrairement à d’autres procédures de fenêtre, toutefois, la procédure de fenêtre pour cette boîte de dialogue doit appeler la fonction [**DefDlgProc**](/windows/desktop/api/Winuser/nf-winuser-defdlgprocw) à la place de la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) pour tous les messages qu’elle ne traite pas.</span><span class="sxs-lookup"><span data-stu-id="3d389-417">Unlike other window procedures, however, the window procedure for this dialog box should call the [**DefDlgProc**](/windows/desktop/api/Winuser/nf-winuser-defdlgprocw) function instead of the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for any messages it does not process.</span></span> <span data-ttu-id="3d389-418">**DefDlgProc** effectue le même traitement par défaut des messages que la procédure de fenêtre pour la boîte de dialogue prédéfinie, qui inclut l’appel de la procédure de boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-418">**DefDlgProc** carries out the same default message processing as the window procedure for the predefined dialog box, which includes calling the dialog box procedure.</span></span>

<span data-ttu-id="3d389-419">Une application peut également créer des boîtes de dialogue personnalisées en sous-classant la procédure de fenêtre de la boîte de dialogue prédéfinie.</span><span class="sxs-lookup"><span data-stu-id="3d389-419">An application can also create custom dialog boxes by subclassing the window procedure of the predefined dialog box.</span></span> <span data-ttu-id="3d389-420">La fonction [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) permet à une application de spécifier la procédure de fenêtre pour une fenêtre spécifiée.</span><span class="sxs-lookup"><span data-stu-id="3d389-420">The [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) function lets an application specify the window procedure for a specified window.</span></span> <span data-ttu-id="3d389-421">L’application peut également tenter d’effectuer une sous-classe à l’aide de la fonction [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) , mais cela affecte toutes les boîtes de dialogue du système, pas seulement celles qui appartiennent à l’application.</span><span class="sxs-lookup"><span data-stu-id="3d389-421">The application may also attempt to subclass by using the [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) function, but doing so affects all dialog boxes in the system, not just those belonging to the application.</span></span>

<span data-ttu-id="3d389-422">Les applications qui créent des boîtes de dialogue personnalisées fournissent parfois une autre interface clavier pour les boîtes de dialogue.</span><span class="sxs-lookup"><span data-stu-id="3d389-422">Applications that create custom dialog boxes sometimes provide an alternate keyboard interface for the dialog boxes.</span></span> <span data-ttu-id="3d389-423">Pour les boîtes de dialogue non modales, cela peut signifier que l’application n’appelle pas la fonction [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) et traite à la place toutes les entrées au clavier dans la procédure de fenêtre personnalisée.</span><span class="sxs-lookup"><span data-stu-id="3d389-423">For modeless dialog boxes, this may mean the application does not call the [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) function and instead processes all keyboard input in the custom window procedure.</span></span> <span data-ttu-id="3d389-424">Dans ce cas, l’application peut utiliser le message [**WM \_ NEXTDLGCTL**](wm-nextdlgctl.md) pour réduire le code nécessaire pour déplacer le focus d’entrée d’un contrôle à un autre.</span><span class="sxs-lookup"><span data-stu-id="3d389-424">In such cases, the application can use the [**WM\_NEXTDLGCTL**](wm-nextdlgctl.md) message to minimize the code needed to move the input focus from one control to another.</span></span> <span data-ttu-id="3d389-425">Ce message, lorsqu’il est passé à [**DefDlgProc**](/windows/desktop/api/Winuser/nf-winuser-defdlgprocw), déplace le focus d’entrée vers un contrôle spécifié et met à jour l’apparence des contrôles, tels que le déplacement de la bordure du bouton de commande par défaut ou la définition d’une case d’option automatique.</span><span class="sxs-lookup"><span data-stu-id="3d389-425">This message, when passed to [**DefDlgProc**](/windows/desktop/api/Winuser/nf-winuser-defdlgprocw), moves the input focus to a specified control and updates the appearance of the controls, such as moving the default push button border or setting an automatic radio button.</span></span>
