---
title: Personnalisation des boîtes de dialogue courantes
description: Cette rubrique explique comment utiliser les boîtes de dialogue courantes.
ms.assetid: 31ba9deb-32e6-455c-be0e-ff8bcc691c80
keywords:
- Bibliothèque de boîtes de dialogue communes, personnalisation
- boîtes de dialogue communes, personnalisation
- personnalisation des boîtes de dialogue courantes
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b7eaa71c4f6fc6aa038ef150eb53935f6b3ec280
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104382647"
---
# <a name="customizing-common-dialog-boxes"></a><span data-ttu-id="0ab2e-106">Personnalisation des boîtes de dialogue courantes</span><span class="sxs-lookup"><span data-stu-id="0ab2e-106">Customizing Common Dialog Boxes</span></span>

<span data-ttu-id="0ab2e-107">Vous pouvez utiliser les boîtes de dialogue communes dans leur forme standard, ou vous pouvez les personnaliser.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-107">You can use the common dialog boxes in their standard form, or you can customize them.</span></span> <span data-ttu-id="0ab2e-108">Du point de vue de l’utilisateur, le principal avantage de la boîte de dialogue commune est son apparence et sa fonctionnalité cohérentes de l’application à l’application.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-108">From the user's perspective, the chief benefit of the common dialog box is its consistent appearance and functionality from application to application.</span></span> <span data-ttu-id="0ab2e-109">Par conséquent, il est important de personnaliser une boîte de dialogue courante uniquement lorsqu’elle est absolument nécessaire pour une application.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-109">Therefore, it is important that you customize a common dialog box only when it is absolutely necessary for an application.</span></span> <span data-ttu-id="0ab2e-110">Dans le cas contraire, l’apparence cohérente et l’interface de codage simple sont perdues.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-110">Otherwise, the consistent appearance and simple coding interface are lost.</span></span> <span data-ttu-id="0ab2e-111">Les personnalisations appropriées laissent intacts autant de contrôles originaux que possible.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-111">Appropriate customizations leave intact as many of the original controls as possible.</span></span> <span data-ttu-id="0ab2e-112">L’augmentation de la taille de la boîte de dialogue ou l’ajout de nouveaux contrôles dans l’espace déjà disponible dans la boîte de dialogue est une personnalisation appropriée.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-112">Increasing the size of the dialog box or adding new controls in the space already available in the dialog box is an appropriate customization.</span></span> <span data-ttu-id="0ab2e-113">Le masquage des contrôles d’origine ou la modification de la fonctionnalité prévue des contrôles d’origine est une personnalisation moins appropriée.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-113">Hiding original controls or otherwise changing the intended functionality of the original controls is a less appropriate customization.</span></span>

<span data-ttu-id="0ab2e-114">Cette section décrit les méthodes suivantes pour personnaliser une boîte de dialogue commune :</span><span class="sxs-lookup"><span data-stu-id="0ab2e-114">This section discusses the following methods for customizing a common dialog box:</span></span>

-   [<span data-ttu-id="0ab2e-115">Modèles personnalisés</span><span class="sxs-lookup"><span data-stu-id="0ab2e-115">Custom Templates</span></span>](#custom-templates)
-   [<span data-ttu-id="0ab2e-116">Procédures de Hook pour les boîtes de dialogue communes</span><span class="sxs-lookup"><span data-stu-id="0ab2e-116">Hook Procedures for Common Dialog Boxes</span></span>](#hook-procedures-for-common-dialog-boxes)
-   [<span data-ttu-id="0ab2e-117">Messages de boîte de dialogue communs</span><span class="sxs-lookup"><span data-stu-id="0ab2e-117">Common Dialog Messages</span></span>](#common-dialog-messages)
-   [<span data-ttu-id="0ab2e-118">Support technique</span><span class="sxs-lookup"><span data-stu-id="0ab2e-118">Help Support</span></span>](#help-support)
    -   [<span data-ttu-id="0ab2e-119">Aide contextuelle</span><span class="sxs-lookup"><span data-stu-id="0ab2e-119">Context-Sensitive Help</span></span>](#context-sensitive-help)
    -   [<span data-ttu-id="0ab2e-120">Bouton d'aide</span><span class="sxs-lookup"><span data-stu-id="0ab2e-120">The Help Button</span></span>](#the-help-button)

## <a name="custom-templates"></a><span data-ttu-id="0ab2e-121">Modèles personnalisés</span><span class="sxs-lookup"><span data-stu-id="0ab2e-121">Custom Templates</span></span>

<span data-ttu-id="0ab2e-122">Les boîtes de dialogue communes possèdent des modèles par défaut qui définissent le nombre, le type et la position des contrôles standard dans la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-122">Common dialog boxes have default templates that define the number, type, and position of the standard controls in the dialog box.</span></span> <span data-ttu-id="0ab2e-123">Vous pouvez définir un modèle personnalisé pour permettre aux utilisateurs d’accéder à des contrôles supplémentaires qui sont propres à votre application.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-123">You can define a custom template to give users access to additional controls that are unique to your application.</span></span>

<span data-ttu-id="0ab2e-124">Pour toutes les boîtes de dialogue courantes, à l’exception des boîtes de dialogue **ouvrir** et **Enregistrer sous** de style Explorateur, vous modifiez le modèle par défaut pour créer un modèle personnalisé qui remplace le modèle par défaut.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-124">For all common dialog boxes except the Explorer-style **Open** and **Save As** dialog boxes, you modify the default template to create a custom template that replaces the default template.</span></span> <span data-ttu-id="0ab2e-125">Le modèle personnalisé définit le type et la position des contrôles standard, ainsi que des contrôles supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-125">The custom template defines the type and position of the standard controls as well as any additional controls.</span></span>

<span data-ttu-id="0ab2e-126">Quand vous créez un modèle de boîte de dialogue personnalisé en modifiant le modèle de boîte de dialogue par défaut, assurez-vous que les identificateurs de tous les contrôles ajoutés sont uniques et n’entrent pas en conflit avec les identificateurs des contrôles standard.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-126">When you create a custom dialog box template by modifying the default dialog box template, make sure the identifiers for any added controls are unique and do not conflict with the identifiers of the standard controls.</span></span> <span data-ttu-id="0ab2e-127">Le tableau suivant répertorie le nom du fichier de modèle par défaut et le fichier include pour chacun des types de boîtes de dialogue courantes.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-127">The following table lists the name of the default template file and include file for each of the common dialog box types.</span></span>



| <span data-ttu-id="0ab2e-128">Type de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="0ab2e-128">Dialog box type</span></span>               | <span data-ttu-id="0ab2e-129">Fichier de modèle</span><span class="sxs-lookup"><span data-stu-id="0ab2e-129">Template file</span></span> | <span data-ttu-id="0ab2e-130">Fichier include</span><span class="sxs-lookup"><span data-stu-id="0ab2e-130">Include file</span></span> |
|-------------------------------|---------------|--------------|
| <span data-ttu-id="0ab2e-131">**Color**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-131">**Color**</span></span>                     | <span data-ttu-id="0ab2e-132">Color. DLG</span><span class="sxs-lookup"><span data-stu-id="0ab2e-132">Color.dlg</span></span>     | <span data-ttu-id="0ab2e-133">ColorDlg. h</span><span class="sxs-lookup"><span data-stu-id="0ab2e-133">ColorDlg.h</span></span>   |
| <span data-ttu-id="0ab2e-134">**Trouver**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-134">**Find**</span></span>                      | <span data-ttu-id="0ab2e-135">FindText. DLG</span><span class="sxs-lookup"><span data-stu-id="0ab2e-135">Findtext.dlg</span></span>  | <span data-ttu-id="0ab2e-136">Dlgs. h</span><span class="sxs-lookup"><span data-stu-id="0ab2e-136">Dlgs.h</span></span>       |
| <span data-ttu-id="0ab2e-137">**Police**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-137">**Font**</span></span>                      | <span data-ttu-id="0ab2e-138">Font. DLG</span><span class="sxs-lookup"><span data-stu-id="0ab2e-138">Font.dlg</span></span>      | <span data-ttu-id="0ab2e-139">Dlgs. h</span><span class="sxs-lookup"><span data-stu-id="0ab2e-139">Dlgs.h</span></span>       |
| <span data-ttu-id="0ab2e-140">**Ouvrir** (sélection multiple)</span><span class="sxs-lookup"><span data-stu-id="0ab2e-140">**Open** (multiple selection)</span></span> | <span data-ttu-id="0ab2e-141">FileOpen. DLG</span><span class="sxs-lookup"><span data-stu-id="0ab2e-141">Fileopen.dlg</span></span>  | <span data-ttu-id="0ab2e-142">Dlgs. h</span><span class="sxs-lookup"><span data-stu-id="0ab2e-142">Dlgs.h</span></span>       |
| <span data-ttu-id="0ab2e-143">**Ouvrir** (sélection unique)</span><span class="sxs-lookup"><span data-stu-id="0ab2e-143">**Open** (single selection)</span></span>   | <span data-ttu-id="0ab2e-144">FileOpen. DLG</span><span class="sxs-lookup"><span data-stu-id="0ab2e-144">Fileopen.dlg</span></span>  | <span data-ttu-id="0ab2e-145">Dlgs. h</span><span class="sxs-lookup"><span data-stu-id="0ab2e-145">Dlgs.h</span></span>       |
| <span data-ttu-id="0ab2e-146">**Mise en page**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-146">**Page Setup**</span></span>                | <span data-ttu-id="0ab2e-147">Prnsetup. DLG</span><span class="sxs-lookup"><span data-stu-id="0ab2e-147">Prnsetup.dlg</span></span>  | <span data-ttu-id="0ab2e-148">Dlgs. h</span><span class="sxs-lookup"><span data-stu-id="0ab2e-148">Dlgs.h</span></span>       |
| <span data-ttu-id="0ab2e-149">**Imprimer**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-149">**Print**</span></span>                     | <span data-ttu-id="0ab2e-150">Prnsetup. DLG</span><span class="sxs-lookup"><span data-stu-id="0ab2e-150">Prnsetup.dlg</span></span>  | <span data-ttu-id="0ab2e-151">Dlgs. h</span><span class="sxs-lookup"><span data-stu-id="0ab2e-151">Dlgs.h</span></span>       |
| <span data-ttu-id="0ab2e-152">**Configuration** de l’impression (obsolète)</span><span class="sxs-lookup"><span data-stu-id="0ab2e-152">**Print Setup** (obsolete)</span></span>    | <span data-ttu-id="0ab2e-153">Prnsetup. DLG</span><span class="sxs-lookup"><span data-stu-id="0ab2e-153">Prnsetup.dlg</span></span>  | <span data-ttu-id="0ab2e-154">Dlgs. h</span><span class="sxs-lookup"><span data-stu-id="0ab2e-154">Dlgs.h</span></span>       |
| <span data-ttu-id="0ab2e-155">**Replace**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-155">**Replace**</span></span>                   | <span data-ttu-id="0ab2e-156">FindText. DLG</span><span class="sxs-lookup"><span data-stu-id="0ab2e-156">Findtext.dlg</span></span>  | <span data-ttu-id="0ab2e-157">Dlgs. h</span><span class="sxs-lookup"><span data-stu-id="0ab2e-157">Dlgs.h</span></span>       |



 

<span data-ttu-id="0ab2e-158">Pour activer un modèle personnalisé, vous devez définir un indicateur dans le membre **Flags** de la structure correspondante de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-158">To enable a custom template, you must set a flag in the **Flags** member of the corresponding structure for the dialog box.</span></span> <span data-ttu-id="0ab2e-159">Si le modèle est une ressource d’une application ou d’une bibliothèque de liens dynamiques, définissez un indicateur **ENABLETEMPLATE** dans le membre **Flags** et utilisez les membres **HINSTANCE** et **lpTemplateName** de la structure pour identifier le nom du module et de la ressource.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-159">If the template is a resource in an application or dynamic-link library, set an **ENABLETEMPLATE** flag in the **Flags** member, and use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span> <span data-ttu-id="0ab2e-160">Si le modèle est déjà en mémoire, définissez un indicateur **ENABLETEMPLATEHANDLE** dans le membre **Flags** et utilisez le membre **HINSTANCE** pour identifier l’objet mémoire qui contient le modèle.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-160">If the template is already in memory, set an **ENABLETEMPLATEHANDLE** flag in the **Flags** member, and use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="0ab2e-161">Dans la plupart des cas, vous devez également activer une procédure de Hook pour que la boîte de dialogue prenne en charge et traite les entrées pour les contrôles supplémentaires dans votre modèle personnalisé.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-161">In most cases, you must also enable a hook procedure for the dialog box to support and process input for the additional controls in your custom template.</span></span>

<span data-ttu-id="0ab2e-162">Pour les boîtes de dialogue **ouvrir** et **Enregistrer sous** de type Explorateur, les modèles par défaut ne peuvent pas être modifiés.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-162">For the Explorer-style **Open** and **Save As** dialog boxes, the default templates are not available for modification.</span></span> <span data-ttu-id="0ab2e-163">Au lieu de cela, votre modèle personnalisé définit une boîte de dialogue enfant qui comprend uniquement les éléments à ajouter à la boîte de dialogue standard.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-163">Instead, your custom template defines a child dialog box that includes only the items to be added to the standard dialog box.</span></span> <span data-ttu-id="0ab2e-164">Le modèle personnalisé peut également définir un contrôle statique qui spécifie l’emplacement du cluster de contrôles standard dans la boîte de dialogue enfant.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-164">The custom template can also define a static control that specifies the location of the cluster of standard controls in the child dialog box.</span></span> <span data-ttu-id="0ab2e-165">Pour plus d’informations, consultez [modèles personnalisés de style Explorateur](open-and-save-as-dialog-boxes.md).</span><span class="sxs-lookup"><span data-stu-id="0ab2e-165">For more information, see [Explorer-Style Custom Templates](open-and-save-as-dialog-boxes.md).</span></span>

## <a name="hook-procedures-for-common-dialog-boxes"></a><span data-ttu-id="0ab2e-166">Procédures de Hook pour les boîtes de dialogue communes</span><span class="sxs-lookup"><span data-stu-id="0ab2e-166">Hook Procedures for Common Dialog Boxes</span></span>

<span data-ttu-id="0ab2e-167">Pour chacune des boîtes de dialogue courantes, vous pouvez activer une procédure de Hook pour traiter les messages à partir de la procédure de la boîte de dialogue par défaut.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-167">For each of the common dialog boxes, you can enable a hook procedure to process messages from the default dialog box procedure.</span></span> <span data-ttu-id="0ab2e-168">Il existe deux types généraux de procédures de hook de dialogue courantes :</span><span class="sxs-lookup"><span data-stu-id="0ab2e-168">There are two general types of common dialog hook procedures:</span></span>

-   <span data-ttu-id="0ab2e-169">Procédure de raccordement standard utilisée avec les boîtes de dialogue les plus courantes</span><span class="sxs-lookup"><span data-stu-id="0ab2e-169">The standard hook procedure used with most common dialog boxes</span></span>
-   <span data-ttu-id="0ab2e-170">Procédure de raccordement de style Explorateur prise en charge par les boîtes de dialogue **ouvrir** et **Enregistrer sous**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-170">The Explorer-style hook procedure supported by the **Open** and **Save As** dialog boxes</span></span>

<span data-ttu-id="0ab2e-171">Lorsque vous fournissez une procédure de raccordement standard pour l’une des boîtes de dialogue courantes, la procédure de boîte de dialogue par défaut gère ses messages comme suit.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-171">When you provide a standard hook procedure for one of the common dialog boxes, the default dialog box procedure handles its messages as follows.</span></span>



| <span data-ttu-id="0ab2e-172">Message</span><span class="sxs-lookup"><span data-stu-id="0ab2e-172">Message</span></span>                                 | <span data-ttu-id="0ab2e-173">Gestion</span><span class="sxs-lookup"><span data-stu-id="0ab2e-173">Handling</span></span>                                                                                                                                                                                                             |
|-----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="0ab2e-174">**\_INITDIALOG WM**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-174">**WM\_INITDIALOG**</span></span>](wm-initdialog.md) | <span data-ttu-id="0ab2e-175">La procédure de boîte de dialogue par défaut traite le message avant de le passer à la procédure de raccordement.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-175">The default dialog box procedure processes the message before passing it to the hook procedure.</span></span> <span data-ttu-id="0ab2e-176">Le paramètre *lParam* du message est un pointeur vers la structure d’initialisation spécifiée lors de la création de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-176">The message's *lParam* parameter is a pointer to the initialization structure specified when the dialog was created.</span></span> |
| <span data-ttu-id="0ab2e-177">Tous les autres messages</span><span class="sxs-lookup"><span data-stu-id="0ab2e-177">All other messages</span></span>                      | <span data-ttu-id="0ab2e-178">La procédure de hook reçoit d’abord le message.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-178">The hook procedure receives the message first.</span></span> <span data-ttu-id="0ab2e-179">Ensuite, la valeur de retour de la procédure de raccordement détermine si la procédure de dialogue par défaut traite le message ou l’ignore.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-179">Then, the return value of the hook procedure determines whether the default dialog procedure processes the message or ignores it.</span></span>                                     |



 

<span data-ttu-id="0ab2e-180">Pour les boîtes de dialogue **ouvrir** et **Enregistrer sous** de type Explorateur, la procédure de hook ne reçoit pas les messages destinés aux contrôles standard de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-180">For the Explorer-style **Open** and **Save As** dialog boxes, the hook procedure does not receive messages intended for the standard controls in the dialog box.</span></span> <span data-ttu-id="0ab2e-181">Au lieu de cela, elle reçoit des messages de notification de la boîte de dialogue et des messages pour tous les contrôles supplémentaires que vous avez définis dans un modèle personnalisé.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-181">Instead, it receives notification messages from the dialog box and messages for any additional controls that you defined in a custom template.</span></span> <span data-ttu-id="0ab2e-182">Pour plus d’informations, consultez [procédures de raccordement de style Explorateur](open-and-save-as-dialog-boxes.md).</span><span class="sxs-lookup"><span data-stu-id="0ab2e-182">For more information, see [Explorer-Style Hook Procedures](open-and-save-as-dialog-boxes.md).</span></span>

<span data-ttu-id="0ab2e-183">Pour activer une procédure de Hook, définissez une valeur **ENABLEHOOK** dans le membre **Flags** de la structure correspondante de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-183">To enable a hook procedure, set an **ENABLEHOOK** value in the **Flags** member of the corresponding structure for the dialog box.</span></span> <span data-ttu-id="0ab2e-184">Si un indicateur **ENABLEHOOK** est défini, un membre **lpfnHook** de la structure doit spécifier l’adresse de la procédure de raccordement.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-184">If an **ENABLEHOOK** flag is set, an **lpfnHook** member of the structure must specify the address of the hook procedure.</span></span>

<span data-ttu-id="0ab2e-185">Le tableau suivant indique le type de procédure de raccordement à fournir pour chacune des boîtes de dialogue courantes.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-185">The following table shows the type of hook procedure to provide for each of the common dialog boxes.</span></span>



| <span data-ttu-id="0ab2e-186">Type de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="0ab2e-186">Dialog box type</span></span>                          | <span data-ttu-id="0ab2e-187">Procédure de Hook</span><span class="sxs-lookup"><span data-stu-id="0ab2e-187">Hook procedure</span></span>                                      |
|------------------------------------------|-----------------------------------------------------|
| <span data-ttu-id="0ab2e-188">**Color**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-188">**Color**</span></span>                                | [<span data-ttu-id="0ab2e-189">*CCHookProc*</span><span class="sxs-lookup"><span data-stu-id="0ab2e-189">*CCHookProc*</span></span>](/windows/win32/api/commdlg/nc-commdlg-lpcchookproc)                      |
| <span data-ttu-id="0ab2e-190">**Rechercher** ou **remplacer**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-190">**Find** or **Replace**</span></span>                  | [<span data-ttu-id="0ab2e-191">*FRHookProc*</span><span class="sxs-lookup"><span data-stu-id="0ab2e-191">*FRHookProc*</span></span>](/windows/win32/api/commdlg/nc-commdlg-lpfrhookproc)                      |
| <span data-ttu-id="0ab2e-192">**Police**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-192">**Font**</span></span>                                 | [<span data-ttu-id="0ab2e-193">*CFHookProc*</span><span class="sxs-lookup"><span data-stu-id="0ab2e-193">*CFHookProc*</span></span>](/windows/win32/api/commdlg/nc-commdlg-lpcfhookproc)                      |
| <span data-ttu-id="0ab2e-194">**Ouvrir** ou **Enregistrer sous** (style Explorateur)</span><span class="sxs-lookup"><span data-stu-id="0ab2e-194">**Open** or **Save As** (Explorer-style)</span></span> | [<span data-ttu-id="0ab2e-195">*OFNHookProc*</span><span class="sxs-lookup"><span data-stu-id="0ab2e-195">*OFNHookProc*</span></span>](/windows/win32/api/commdlg/nc-commdlg-lpofnhookproc)                    |
| <span data-ttu-id="0ab2e-196">**Ouvrir** ou **Enregistrer sous** (ancien style)</span><span class="sxs-lookup"><span data-stu-id="0ab2e-196">**Open** or **Save As** (Old-style)</span></span>      | <span data-ttu-id="0ab2e-197">[*OFNHookProcOldStyle*](/previous-versions/windows/desktop/legacy/ms646932(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="0ab2e-197">[*OFNHookProcOldStyle*](/previous-versions/windows/desktop/legacy/ms646932(v=vs.85))</span></span> |
| <span data-ttu-id="0ab2e-198">**Imprimer**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-198">**Print**</span></span>                                | [<span data-ttu-id="0ab2e-199">*PrintHookProc*</span><span class="sxs-lookup"><span data-stu-id="0ab2e-199">*PrintHookProc*</span></span>](/windows/win32/api/commdlg/nc-commdlg-lpprinthookproc)                |
| <span data-ttu-id="0ab2e-200">**Mise en page**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-200">**Page Setup**</span></span>                           | [<span data-ttu-id="0ab2e-201">*PageSetupHook*</span><span class="sxs-lookup"><span data-stu-id="0ab2e-201">*PageSetupHook*</span></span>](/windows/win32/api/commdlg/nc-commdlg-lppagesetuphook)                |



 

<span data-ttu-id="0ab2e-202">Pour la boîte de dialogue **mise en page** , vous pouvez également spécifier une procédure de hook [*PagePaintHook*](/windows/win32/api/commdlg/nc-commdlg-lppagepainthook) .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-202">For the **Page Setup** dialog box, you can also specify a [*PagePaintHook*](/windows/win32/api/commdlg/nc-commdlg-lppagepainthook) hook procedure.</span></span> <span data-ttu-id="0ab2e-203">Il s’agit d’une procédure de raccordement spéciale que vous pouvez utiliser pour personnaliser l’apparence de la page d’exemple affichée par la boîte de dialogue **mise en page** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-203">This is a special hook procedure that you can use to customize the appearance of the sample page displayed by the **Page Setup** dialog box.</span></span>

> [!Note]  
> <span data-ttu-id="0ab2e-204">La boîte de dialogue Configuration de l' **impression** a été remplacée par la boîte de dialogue **mise en page** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-204">The **Print Setup** dialog box has been superseded by the **Page Setup** dialog box.</span></span> <span data-ttu-id="0ab2e-205">Les applications doivent utiliser la boîte de dialogue **mise en page** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-205">Applications should use the **Page Setup** dialog box.</span></span> <span data-ttu-id="0ab2e-206">Toutefois, pour des cas de compatibilité, la fonction [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) continue de prendre en charge l’affichage de la boîte de dialogue Configuration de l' **impression** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-206">However, for compatibility, the [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) function continues to support display of the **Print Setup** dialog box.</span></span> <span data-ttu-id="0ab2e-207">Vous pouvez fournir une procédure de hook [*SetupHookProc*](/windows/win32/api/commdlg/nc-commdlg-lpsetuphookproc) pour la boîte de dialogue Configuration de l' **impression** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-207">You can provide a [*SetupHookProc*](/windows/win32/api/commdlg/nc-commdlg-lpsetuphookproc) hook procedure for the **Print Setup** dialog box.</span></span>

 

## <a name="common-dialog-messages"></a><span data-ttu-id="0ab2e-208">Messages de boîte de dialogue communs</span><span class="sxs-lookup"><span data-stu-id="0ab2e-208">Common Dialog Messages</span></span>

<span data-ttu-id="0ab2e-209">Les boîtes de dialogue courantes utilisent des messages pour notifier votre procédure de fenêtre ou votre procédure de hook lorsque certains événements se produisent.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-209">Common dialog boxes use messages to notify your window procedure or hook procedure when certain events occur.</span></span> <span data-ttu-id="0ab2e-210">En outre, il existe des messages que vous pouvez envoyer à une boîte de dialogue commune pour récupérer des informations ou pour contrôler le comportement ou l’apparence de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-210">In addition, there are messages that you can send to a common dialog box to retrieve information or to control the behavior or appearance of the dialog box.</span></span> <span data-ttu-id="0ab2e-211">Cette section décrit les messages de boîte de dialogue communs inscrits par la fonction [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) , les messages utilisés par la boîte de dialogue **police** et la boîte de dialogue **mise en page** , ainsi que les messages utilisés par les boîtes de dialogue **ouvrir** et **Enregistrer sous** de style Explorateur.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-211">This section describes the common dialog messages registered by the [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) function, messages used by the **Font** dialog box and **Page Setup** dialog box, and messages used by the Explorer-style **Open** and **Save As** dialog boxes.</span></span>

<span data-ttu-id="0ab2e-212">La bibliothèque de boîtes de dialogue communes définit un ensemble de chaînes de message.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-212">The Common Dialog Box Library defines a set of message strings.</span></span> <span data-ttu-id="0ab2e-213">Vous pouvez transmettre une constante associée à l’une de ces chaînes de message à [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) pour obtenir un identificateur de message.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-213">You can pass a constant associated with one of these message strings to [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) to get a message identifier.</span></span> <span data-ttu-id="0ab2e-214">Vous pouvez ensuite utiliser l’identificateur pour détecter et traiter les messages envoyés à partir d’une boîte de dialogue commune, ou pour envoyer des messages à une boîte de dialogue commune.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-214">You can then use the identifier to detect and process messages sent from a common dialog box, or to send messages to a common dialog box.</span></span> <span data-ttu-id="0ab2e-215">Le tableau suivant présente les constantes de message et décrit leur utilisation.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-215">The following table shows the message constants and describes their use.</span></span>



| <span data-ttu-id="0ab2e-216">Constantes</span><span class="sxs-lookup"><span data-stu-id="0ab2e-216">Contants</span></span>                               | <span data-ttu-id="0ab2e-217">Utilisation</span><span class="sxs-lookup"><span data-stu-id="0ab2e-217">Use</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                    |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="0ab2e-218">**COLOROKSTRING**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-218">**COLOROKSTRING**</span></span>](colorokstring.md) | <span data-ttu-id="0ab2e-219">Une boîte de dialogue de **couleur** envoie ce message à la procédure de hook lorsque l’utilisateur sélectionne une couleur et clique sur le bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-219">A **Color** dialog box sends this message to the hook procedure when the user selects a color and clicks the **OK** button.</span></span> <span data-ttu-id="0ab2e-220">La procédure de raccordement peut accepter la couleur ou la rejeter et forcer la boîte de dialogue à rester ouverte.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-220">The hook procedure can accept the color, or reject it and force the dialog box to remain open.</span></span>                                                                                                                                                                                             |
| [<span data-ttu-id="0ab2e-221">**FILEOKSTRING**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-221">**FILEOKSTRING**</span></span>](fileokstring.md)   | <span data-ttu-id="0ab2e-222">Une boîte de dialogue **ouvrir** ou **Enregistrer sous** envoie ce message à la procédure de hook lorsque l’utilisateur sélectionne un nom de fichier et clique sur le bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-222">An **Open** or **Save As** dialog box sends this message to the hook procedure when the user selects a file name and clicks the **OK** button.</span></span> <span data-ttu-id="0ab2e-223">La procédure de raccordement peut accepter le nom de fichier ou la rejeter et forcer la boîte de dialogue à rester ouverte.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-223">The hook procedure can accept the file name, or reject it and force the dialog box to remain open.</span></span> <span data-ttu-id="0ab2e-224">Pour les boîtes de dialogue **ouvrir** et **Enregistrer sous** d’un navigateur, ce message a été remplacé par le message de notification [**CDN \_ FILEOK**](cdn-fileok.md) .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-224">For Explorer-style **Open** and **Save As** dialog boxes, this message has been superseded by the [**CDN\_FILEOK**](cdn-fileok.md) notification message.</span></span><br/> |
| [<span data-ttu-id="0ab2e-225">**FINDMSGSTRING**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-225">**FINDMSGSTRING**</span></span>](findmsgstring.md) | <span data-ttu-id="0ab2e-226">Une boîte de dialogue **Rechercher** ou **remplacer** envoie ce message à la procédure de fenêtre de sa fenêtre parente lorsque l’utilisateur clique sur **Rechercher suivant**, **remplacer** ou **remplacer tout**, ou ferme la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-226">A **Find** or **Replace** dialog box sends this message to the window procedure of its parent window when the user clicks the **Find Next**, **Replace**, or **Replace All**, or closes the dialog box.</span></span> <span data-ttu-id="0ab2e-227">Le paramètre *lParam* du message est un pointeur vers une structure [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) contenant l’entrée de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-227">The message's *lParam* parameter is a pointer to a [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure containing the user's input.</span></span>                                                                               |
| [<span data-ttu-id="0ab2e-228">**HELPMSGSTRING**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-228">**HELPMSGSTRING**</span></span>](helpmsgstring.md) | <span data-ttu-id="0ab2e-229">Toutes les boîtes de dialogue courantes envoient ce message à la procédure de fenêtre de la fenêtre parente quand l’utilisateur clique sur le bouton **aide** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-229">All common dialog boxes send this message to the window procedure of their parent window when the user clicks the **Help** button.</span></span> <span data-ttu-id="0ab2e-230">Pour les boîtes de dialogue **ouvrir** et **Enregistrer sous** d’un navigateur, ce message a été remplacé par le message de notification [**\_ d’aide CDN**](cdn-help.md) .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-230">For Explorer-style **Open** and **Save As** dialog boxes, this message has been superseded by the [**CDN\_HELP**](cdn-help.md) notification message.</span></span><br/>                                                                                                                    |
| [<span data-ttu-id="0ab2e-231">**LBSELCHSTRING**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-231">**LBSELCHSTRING**</span></span>](lbselchstring.md) | <span data-ttu-id="0ab2e-232">Une boîte de dialogue **ouvrir** ou **Enregistrer sous** envoie ce message à la procédure de hook lorsque l’utilisateur modifie la sélection dans la zone de liste **nom de fichier** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-232">An **Open** or **Save As** dialog box sends this message to the hook procedure when the user changes the selection in the **File Name** list box.</span></span> <span data-ttu-id="0ab2e-233">Pour les boîtes de dialogue **ouvrir** et **Enregistrer sous** d’un navigateur, ce message a été remplacé par le message de notification [**CDN \_ selChange**](cdn-selchange.md) .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-233">For Explorer-style **Open** and **Save As** dialog boxes, this message has been superseded by the [**CDN\_SELCHANGE**](cdn-selchange.md) notification message.</span></span><br/>                                                                                           |
| [<span data-ttu-id="0ab2e-234">**SETRGBSTRING**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-234">**SETRGBSTRING**</span></span>](setrgbstring.md)   | <span data-ttu-id="0ab2e-235">Une procédure de raccordement peut envoyer ce message à une boîte de dialogue de **couleur** pour définir la sélection de couleur actuelle.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-235">A hook procedure can send this message to a **Color** dialog box to set the current color selection.</span></span>                                                                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="0ab2e-236">**SHAREVISTRING**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-236">**SHAREVISTRING**</span></span>](sharevistring.md) | <span data-ttu-id="0ab2e-237">Une boîte de dialogue **ouvrir** ou **Enregistrer sous** envoie ce message à la procédure de hook si une violation de partage se produit pour le fichier sélectionné quand l’utilisateur clique sur le bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-237">An **Open** or **Save As** dialog box sends this message to the hook procedure if a sharing violation occurs for the selected file when the user clicks the **OK** button.</span></span> <span data-ttu-id="0ab2e-238">Pour les boîtes de dialogue **ouvrir** et **Enregistrer sous** d’un navigateur, ce message a été remplacé par le message de notification [**CDN \_ SHAREVIOLATION**](cdn-shareviolation.md) .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-238">For Explorer-style **Open** and **Save As** dialog boxes, this message has been superseded by the [**CDN\_SHAREVIOLATION**](cdn-shareviolation.md) notification message.</span></span><br/>                                                        |



 

<span data-ttu-id="0ab2e-239">Certaines boîtes de dialogue courantes envoient et reçoivent d’autres messages de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-239">Some common dialog boxes send and receive other window messages.</span></span> <span data-ttu-id="0ab2e-240">La procédure de raccordement d’une boîte de dialogue de **police** peut envoyer n’importe quel message **WM \_ \_ \* CHOOSEFONT** à la boîte de dialogue **police** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-240">The hook procedure for a **Font** dialog box can send any of the **WM\_CHOOSEFONT\_\*** messages to the **Font** dialog box.</span></span> <span data-ttu-id="0ab2e-241">Pour plus d’informations, consultez [boîte de dialogue police](font-dialog-box.md).</span><span class="sxs-lookup"><span data-stu-id="0ab2e-241">For more information, see [Font Dialog Box](font-dialog-box.md).</span></span> <span data-ttu-id="0ab2e-242">La boîte de dialogue **mise en page** envoie les messages **\_ \_ \* WM** , si vous avez activé une procédure de hook [*PagePaintHook*](/windows/win32/api/commdlg/nc-commdlg-lppagepainthook) .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-242">The **Page Setup** dialog box sends the **WM\_PSD\_\*** messages if you have enabled a [*PagePaintHook*](/windows/win32/api/commdlg/nc-commdlg-lppagepainthook) hook procedure.</span></span> <span data-ttu-id="0ab2e-243">Pour plus d’informations, consultez [boîte de dialogue mise en page](page-setup-dialog-box.md).</span><span class="sxs-lookup"><span data-stu-id="0ab2e-243">For more information, see [Page Setup Dialog Box](page-setup-dialog-box.md).</span></span>

<span data-ttu-id="0ab2e-244">Les boîtes de dialogue **ouvrir** et **Enregistrer sous** de style Explorateur prennent en charge un ensemble de messages prédéfinis.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-244">The Explorer-style **Open** and **Save As** dialog boxes support a set of predefined messages.</span></span> <span data-ttu-id="0ab2e-245">Celles-ci incluent les messages de notification envoyés sous la forme d’un message [**WM \_ Notify**](../controls/wm-notify.md) à votre procédure de raccordement, ainsi que les messages que votre procédure de raccordement peut envoyer à la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-245">These include notification messages sent in the form of a [**WM\_NOTIFY**](../controls/wm-notify.md) message to your hook procedure, and messages that your hook procedure can send to the dialog box.</span></span> <span data-ttu-id="0ab2e-246">Pour obtenir la liste complète de ces messages, consultez [procédures de hook de style Explorateur](open-and-save-as-dialog-boxes.md).</span><span class="sxs-lookup"><span data-stu-id="0ab2e-246">For a complete list of these messages, see [Explorer-Style Hook Procedures](open-and-save-as-dialog-boxes.md).</span></span>

## <a name="help-support"></a><span data-ttu-id="0ab2e-247">Support technique</span><span class="sxs-lookup"><span data-stu-id="0ab2e-247">Help Support</span></span>

<span data-ttu-id="0ab2e-248">Les boîtes de dialogue courantes fournissent une aide contextuelle pour les contrôles standard de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-248">Common dialog boxes provide context-sensitive help for the standard controls of the dialog box.</span></span> <span data-ttu-id="0ab2e-249">Pour fournir une aide supplémentaire pour une boîte de dialogue commune, vous pouvez afficher un bouton **aide** et traiter les messages générés lorsque l’utilisateur clique sur le bouton.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-249">To provide additional help for a common dialog box, you can display a **Help** button and process messages generated when the user clicks the button.</span></span> <span data-ttu-id="0ab2e-250">Le bouton **aide** est un complément de l’aide contextuelle par défaut.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-250">The **Help** button is a supplement to the default context-sensitive help.</span></span> <span data-ttu-id="0ab2e-251">Le bouton **aide** est utile pour décrire l’usage général de la boîte de dialogue telle qu’elle s’applique à votre application.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-251">The **Help** button is useful for describing the general purpose of the dialog box as it applies to your application.</span></span>

-   [<span data-ttu-id="0ab2e-252">Aide contextuelle</span><span class="sxs-lookup"><span data-stu-id="0ab2e-252">Context-Sensitive Help</span></span>](#context-sensitive-help)
-   [<span data-ttu-id="0ab2e-253">Bouton d'aide</span><span class="sxs-lookup"><span data-stu-id="0ab2e-253">The Help Button</span></span>](#the-help-button)

### <a name="context-sensitive-help"></a><span data-ttu-id="0ab2e-254">Aide Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="0ab2e-254">Context-Sensitive Help</span></span>

<span data-ttu-id="0ab2e-255">Toutes les boîtes de dialogue courantes fournissent une aide contextuelle pour les contrôles standard de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-255">All common dialog boxes provide context-sensitive help for the standard controls of the dialog box.</span></span> <span data-ttu-id="0ab2e-256">L’utilisateur peut afficher l’aide pour des contrôles individuels à l’aide de l’une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="0ab2e-256">The user can display help for individual controls by any of the following methods:</span></span>

-   <span data-ttu-id="0ab2e-257">Sélectionnant le contrôle et en appuyant sur la touche F1.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-257">Selecting the control and pressing the F1 key.</span></span>
-   <span data-ttu-id="0ab2e-258">Cliquant sur le bouton **?**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-258">Clicking the **?**</span></span> <span data-ttu-id="0ab2e-259">dans la barre de titre et en cliquant ensuite sur un contrôle.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-259">button in the title bar and subsequently clicking on a control.</span></span>
-   <span data-ttu-id="0ab2e-260">Cliquer sur le bouton droit de la souris sur un contrôle.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-260">Clicking the right mouse button over a control.</span></span>

<span data-ttu-id="0ab2e-261">Si vous personnalisez une boîte de dialogue en ajoutant de nouveaux contrôles, vous devez également étendre la prise en charge de l’aide pour ces contrôles en traitant les demandes d’aide dans la procédure de raccordement.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-261">If you customize a dialog box by adding new controls, you must also extend help support for these controls by processing requests for help in the hook procedure.</span></span> <span data-ttu-id="0ab2e-262">La procédure de raccordement reçoit les messages suivants lorsque l’utilisateur demande de l’aide.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-262">The hook procedure receives the following messages when the user requests help.</span></span>



| <span data-ttu-id="0ab2e-263">Action requise</span><span class="sxs-lookup"><span data-stu-id="0ab2e-263">User action</span></span>                                                           | <span data-ttu-id="0ab2e-264">Message</span><span class="sxs-lookup"><span data-stu-id="0ab2e-264">Message</span></span>                                      |
|-----------------------------------------------------------------------|----------------------------------------------|
| <span data-ttu-id="0ab2e-265">Cliquez avec le bouton droit de la souris sur un contrôle.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-265">Click the right mouse button over a control.</span></span>                          | [<span data-ttu-id="0ab2e-266">**WM \_ CONTEXTMENU**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-266">**WM\_CONTEXTMENU**</span></span>](/windows/desktop/menurc/wm-contextmenu) |
| <span data-ttu-id="0ab2e-267">Appuyez sur la touche F1.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-267">Pressed the F1 key.</span></span>                                                   | [<span data-ttu-id="0ab2e-268">**\_aide WM**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-268">**WM\_HELP**</span></span>](../shell/wm-help.md)               |
| <span data-ttu-id="0ab2e-269">Vous avez cliqué sur le **?**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-269">Clicked the **?**</span></span> <span data-ttu-id="0ab2e-270">sur la barre de titre, puis sur un contrôle.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-270">button on the title bar and then clicked a control.</span></span> | [<span data-ttu-id="0ab2e-271">**\_aide WM**</span><span class="sxs-lookup"><span data-stu-id="0ab2e-271">**WM\_HELP**</span></span>](../shell/wm-help.md)               |



 

<span data-ttu-id="0ab2e-272">Vous devez traiter ces messages pour les contrôles que vous avez ajoutés, mais laisser la procédure de boîte de dialogue par défaut traitera les messages pour les contrôles standard.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-272">You should process these messages for the controls you have added, but let the default dialog box procedure process the messages for the standard controls.</span></span> <span data-ttu-id="0ab2e-273">Pour plus d’informations sur le traitement de ces messages, consultez [l’aide](/previous-versions/windows/desktop/legacy/bb776786(v=vs.85))de.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-273">For more information about how to process these messages, see [Help](/previous-versions/windows/desktop/legacy/bb776786(v=vs.85)).</span></span>

### <a name="the-help-button"></a><span data-ttu-id="0ab2e-274">Bouton d'aide</span><span class="sxs-lookup"><span data-stu-id="0ab2e-274">The Help Button</span></span>

<span data-ttu-id="0ab2e-275">Vous pouvez afficher un bouton d' **aide** dans toutes les boîtes de dialogue courantes en définissant une valeur **SHOWHELP** dans le membre **Flags** de la structure d’initialisation de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-275">You can display a **Help** button in any of the common dialog boxes by setting a **SHOWHELP** value in the **Flags** member of the initialization structure for the dialog box.</span></span> <span data-ttu-id="0ab2e-276">Si vous affichez le bouton **aide** , vous devez traiter la demande d’aide de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-276">If you display the **Help** button, you must process the user's request for help.</span></span> <span data-ttu-id="0ab2e-277">Le traitement peut être effectué dans l’une des procédures de fenêtre de votre application ou dans une procédure de Hook pour la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-277">The processing can be done either in one of your application's window procedures or in a hook procedure for the dialog box.</span></span> <span data-ttu-id="0ab2e-278">En règle générale, vous devez traiter la demande d’aide en appelant la fonction [**WinHelp**](/windows/win32/api/winuser/nf-winuser-winhelpa) .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-278">Typically, you would process the request for help by calling the [**WinHelp**](/windows/win32/api/winuser/nf-winuser-winhelpa) function.</span></span>

<span data-ttu-id="0ab2e-279">Pour traiter les messages d’aide dans l’une de vos procédures de fenêtre, vous devez obtenir un identificateur de message pour la chaîne définie par la valeur [**HELPMSGSTRING**](helpmsgstring.md) et identifier la fenêtre de réception des messages.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-279">To process help messages in one of your window procedures, you must get a message identifier for the string defined by the [**HELPMSGSTRING**](helpmsgstring.md) value and identify the window to receive messages.</span></span> <span data-ttu-id="0ab2e-280">Pour obtenir l’identificateur de message, spécifiez **HELPMSGSTRING** en tant que paramètre dans un appel à la fonction [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-280">To get the message identifier, specify **HELPMSGSTRING** as the parameter in a call to the [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) function.</span></span> <span data-ttu-id="0ab2e-281">Lorsque vous créez la boîte de dialogue, utilisez le membre **hwndOwner** de la structure d’initialisation de la boîte de dialogue pour identifier la fenêtre qui doit recevoir les messages.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-281">When you create the dialog box, use the **hwndOwner** member of the dialog box initialization structure to identify the window that is to receive the messages.</span></span> <span data-ttu-id="0ab2e-282">La procédure de boîte de dialogue envoie le message à la procédure de fenêtre chaque fois que l’utilisateur clique sur le bouton **aide** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-282">The dialog box procedure sends the message to the window procedure whenever the user clicks the **Help** button.</span></span>

<span data-ttu-id="0ab2e-283">Pour traiter les messages d’aide dans une procédure de Hook, vous devez traiter le message de [**\_ commande WM**](/windows/desktop/menurc/wm-command) .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-283">To process help messages in a hook procedure, you should process the [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message.</span></span> <span data-ttu-id="0ab2e-284">La procédure de raccordement fournit de l’aide si le paramètre *wParam* de ce message indique que l’utilisateur a cliqué sur le bouton **aide** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-284">The hook procedure provides help if the *wParam* parameter of this message indicates that the user clicked the **Help** button.</span></span> <span data-ttu-id="0ab2e-285">L’identificateur du bouton **d’aide** est la constante **pshHelp** définie dans le fichier Dlgs. h.</span><span class="sxs-lookup"><span data-stu-id="0ab2e-285">The identifier of the **Help** button is the **pshHelp** constant defined in the Dlgs.h file.</span></span>

<span data-ttu-id="0ab2e-286">Les procédures de Hook pour les boîtes de dialogue **ouvrir** et **Enregistrer sous** de type Explorateur ne reçoivent pas les messages de [**\_ commande WM**](/windows/desktop/menurc/wm-command) pour le bouton **aide** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-286">Hook procedures for the Explorer-style **Open** and **Save As** dialog boxes do not receive [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) messages for the **Help** button.</span></span> <span data-ttu-id="0ab2e-287">Au lieu de cela, la boîte de dialogue envoie un message de notification [**\_ d’aide CDN**](cdn-help.md) à la procédure de hook lorsque l’utilisateur clique sur le bouton **aide** .</span><span class="sxs-lookup"><span data-stu-id="0ab2e-287">Instead, the dialog box sends a [**CDN\_HELP**](cdn-help.md) notification message to the hook procedure when the **Help** button is clicked.</span></span>

 

