---
title: Configuration de flux
description: Configuration de flux
ms.assetid: d119362f-e23c-4985-aff5-8c084106df30
keywords:
- Windows Media Format SDK, flux
- profils, flux
- flux, configuration
- codecs, configuration des flux
- profils, interface IWMStreamConfig
- flux, interface IWMStreamConfig
- IWMStreamConfig
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6bc159fbd5390eb430e035db676685153d0cf174
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104463151"
---
# <a name="configuring-streams"></a><span data-ttu-id="2faab-110">Configuration de flux</span><span class="sxs-lookup"><span data-stu-id="2faab-110">Configuring Streams</span></span>

<span data-ttu-id="2faab-111">La seule chose requise dans un profil est d’au moins un flux.</span><span class="sxs-lookup"><span data-stu-id="2faab-111">The only thing that is required in a profile is at least one stream.</span></span> <span data-ttu-id="2faab-112">Les autres options permettent d’accéder à des fonctionnalités plus avancées, mais avec au minimum un flux, vous pouvez créer un fichier ASF.</span><span class="sxs-lookup"><span data-stu-id="2faab-112">The other options provide access to more advanced features, but with the minimum of one stream you can make an ASF file.</span></span> <span data-ttu-id="2faab-113">Il est essentiel que vous compreniez comment configurer des flux avant de créer des profils complexes.</span><span class="sxs-lookup"><span data-stu-id="2faab-113">It is essential that you understand how to configure streams before creating complex profiles.</span></span>

<span data-ttu-id="2faab-114">Dans le cadre des profils, les flux peuvent être divisés en deux types : ceux qui sont compressés avec des codecs Windows Media et des flux arbitraires qui ne sont pas traités avec des codecs.</span><span class="sxs-lookup"><span data-stu-id="2faab-114">For the purpose of profiles, streams can be divided into two types: those that are compressed with Windows Media codecs and arbitrary streams that are not processed with any codecs.</span></span> <span data-ttu-id="2faab-115">Les flux audio et vidéo sont les types qui utilisent les codecs Windows Media.</span><span class="sxs-lookup"><span data-stu-id="2faab-115">Audio streams and video streams are the types that use the Windows Media codecs.</span></span> <span data-ttu-id="2faab-116">Bien entendu, les flux peuvent contenir des fichiers audio ou vidéo compressés avec un codec tiers, mais le processus de configuration d’un tel flux est un cas particulier.</span><span class="sxs-lookup"><span data-stu-id="2faab-116">Of course, streams can contain audio or video compressed with a third-party codec, but the process of configuring such a stream is a special case.</span></span> <span data-ttu-id="2faab-117">Pour plus d’informations, consultez [pour créer des fichiers ASF à l’aide de codecs tiers](to-create-asf-files-using-third-party-codecs.md).</span><span class="sxs-lookup"><span data-stu-id="2faab-117">For more information, see [To Create ASF Files Using Third-Party Codecs](to-create-asf-files-using-third-party-codecs.md).</span></span>

<span data-ttu-id="2faab-118">La liste suivante résume le processus de configuration d’un flux.</span><span class="sxs-lookup"><span data-stu-id="2faab-118">The following list summarizes the process of configuring a stream.</span></span>

1.  <span data-ttu-id="2faab-119">Obtenez un objet de configuration de flux pour le flux.</span><span class="sxs-lookup"><span data-stu-id="2faab-119">Obtain a stream configuration object for the stream.</span></span>
    -   <span data-ttu-id="2faab-120">Si vous créez un flux à l’aide de l’un des codecs Windows Media, vous devez obtenir l’objet de configuration de flux en tant que format de codec à l’aide des méthodes de [**IWMCodecInfo3**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmcodecinfo3).</span><span class="sxs-lookup"><span data-stu-id="2faab-120">If you are creating a stream using one of the Windows Media codecs, you must obtain the stream configuration object as a codec format using the methods of [**IWMCodecInfo3**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmcodecinfo3).</span></span>
    -   <span data-ttu-id="2faab-121">Si le flux est un type arbitraire, récupérez un objet de configuration de flux vide à l’aide de [**IWMProfile :: CreateNewStream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-createnewstream).</span><span class="sxs-lookup"><span data-stu-id="2faab-121">If the stream is an arbitrary type, get an empty stream configuration object using [**IWMProfile::CreateNewStream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-createnewstream).</span></span>
2.  <span data-ttu-id="2faab-122">Configurez le flux pour répondre à vos besoins.</span><span class="sxs-lookup"><span data-stu-id="2faab-122">Configure the stream to meet your needs.</span></span>
    -   <span data-ttu-id="2faab-123">Les flux de tous les types doivent être affectés d’un nom, d’un nom de connexion et d’un numéro de flux.</span><span class="sxs-lookup"><span data-stu-id="2faab-123">Streams of all types should be assigned a name, connection name, and stream number.</span></span>
    -   <span data-ttu-id="2faab-124">Les flux utilisant les codecs Windows Media ne doivent être modifiés que dans des formats prédéfinis à partir du format de codec.</span><span class="sxs-lookup"><span data-stu-id="2faab-124">Streams using Windows Media codecs should be altered only in predefined ways from the codec format.</span></span> <span data-ttu-id="2faab-125">Pour les flux audio, seuls les paramètres de vitesse de transmission variable (VBR) pour le VBR en deux passes doivent être modifiés.</span><span class="sxs-lookup"><span data-stu-id="2faab-125">For audio streams, only variable bit rate (VBR) settings for two-pass VBR should be changed.</span></span> <span data-ttu-id="2faab-126">Les flux vidéo doivent être configurés avec les propriétés de frame souhaitées.</span><span class="sxs-lookup"><span data-stu-id="2faab-126">Video streams need to be configured with the desired frame properties.</span></span>
    -   <span data-ttu-id="2faab-127">Les flux arbitraires ont des exigences de configuration variables par type.</span><span class="sxs-lookup"><span data-stu-id="2faab-127">Arbitrary streams have varying configuration requirements by type.</span></span> <span data-ttu-id="2faab-128">Tous requièrent une vitesse de transmission et une fenêtre de mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="2faab-128">All require a bit rate and buffer window.</span></span>
3.  <span data-ttu-id="2faab-129">Ajoutez le flux au profil en appelant [**IWMProfile :: AddStream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-addstream).</span><span class="sxs-lookup"><span data-stu-id="2faab-129">Add the stream to the profile by calling [**IWMProfile::AddStream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-addstream).</span></span>

<span data-ttu-id="2faab-130">Tous les flux sont définis à l’aide d’objets de configuration de flux.</span><span class="sxs-lookup"><span data-stu-id="2faab-130">All streams are defined using stream configuration objects.</span></span> <span data-ttu-id="2faab-131">L’interface principale d’un objet de configuration de flux est [**IWMStreamConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig), qui fournit des méthodes pour définir les paramètres de base d’un flux, tels que le numéro de flux, la vitesse de transmission, etc.</span><span class="sxs-lookup"><span data-stu-id="2faab-131">The main interface for a stream configuration object is [**IWMStreamConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig), which provides methods for setting the basic settings of a stream, such as the stream number, bit rate, and so on.</span></span> <span data-ttu-id="2faab-132">**IWMStreamConfig** est héritée par les interfaces plus récentes, [**IWMStreamConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig2) et [**IWMStreamConfig3**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig3).</span><span class="sxs-lookup"><span data-stu-id="2faab-132">**IWMStreamConfig** is inherited by the newer interfaces, [**IWMStreamConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig2) and [**IWMStreamConfig3**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig3).</span></span> <span data-ttu-id="2faab-133">Comme pour toutes les révisions d’interface numérotées, vous devez toujours récupérer la version la plus récente à l’aide de la méthode **QueryInterface** .</span><span class="sxs-lookup"><span data-stu-id="2faab-133">As with all numbered interface revisions, you should always retrieve the most recent version using the **QueryInterface** method.</span></span>

<span data-ttu-id="2faab-134">La plupart des paramètres d’un flux sont accessibles par le biais de [**IWMMediaProps**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmmediaprops).</span><span class="sxs-lookup"><span data-stu-id="2faab-134">Most settings in a stream are accessed through [**IWMMediaProps**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmmediaprops).</span></span> <span data-ttu-id="2faab-135">Ces paramètres sont encapsulés dans une structure de [**\_ \_ type de média WM**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wm_media_type) .</span><span class="sxs-lookup"><span data-stu-id="2faab-135">These settings are encapsulated in a [**WM\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wm_media_type) structure.</span></span> <span data-ttu-id="2faab-136">Pour l’audio et la vidéo, la structure du **\_ \_ type de média WM** pointe vers une autre structure avec des informations supplémentaires spécifiques au type de média.</span><span class="sxs-lookup"><span data-stu-id="2faab-136">For audio and video, the **WM\_MEDIA\_TYPE** structure points to another structure with further information specific to the type of media.</span></span> <span data-ttu-id="2faab-137">Cette structure secondaire est généralement [**WAVEFORMATEX**](/previous-versions/windows/desktop/legacy/dd757720(v=vs.85)) pour l’audio et la [**WMVIDEOINFOHEADER**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wmvideoinfoheader) pour la vidéo.</span><span class="sxs-lookup"><span data-stu-id="2faab-137">This secondary structure is typically [**WAVEFORMATEX**](/previous-versions/windows/desktop/legacy/dd757720(v=vs.85)) for audio and [**WMVIDEOINFOHEADER**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wmvideoinfoheader) for video.</span></span> <span data-ttu-id="2faab-138">En outre, les flux vidéo ont une structure tertiaire, **BITMAPINFOHEADER**, qui décrit les caractéristiques d’un cadre de vidéo individuel.</span><span class="sxs-lookup"><span data-stu-id="2faab-138">In addition, video streams have a tertiary structure, **BITMAPINFOHEADER**, which describes the characteristics of an individual frame of video.</span></span> <span data-ttu-id="2faab-139">**BITMAPINFOHEADER** est une structure commune et se trouve dans la section Graphics Device Interface (GDI) du kit de développement logiciel (SDK) de plateforme.</span><span class="sxs-lookup"><span data-stu-id="2faab-139">**BITMAPINFOHEADER** is a common structure and can be found in the Graphics Device Interface (GDI) section of the Platform SDK.</span></span>

<span data-ttu-id="2faab-140">Les sections suivantes décrivent comment configurer des flux.</span><span class="sxs-lookup"><span data-stu-id="2faab-140">The following sections describe how to configure streams.</span></span>



| <span data-ttu-id="2faab-141">Section</span><span class="sxs-lookup"><span data-stu-id="2faab-141">Section</span></span>                                                                                                          | <span data-ttu-id="2faab-142">Description</span><span class="sxs-lookup"><span data-stu-id="2faab-142">Description</span></span>                                                                                                                                                     |
|------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="2faab-143">Configuration commune à tous les flux</span><span class="sxs-lookup"><span data-stu-id="2faab-143">Configuration Common to All Streams</span></span>](configuration-common-to-all-streams.md)                                   | <span data-ttu-id="2faab-144">Décrit la configuration de flux de base commune à tous les types de flux.</span><span class="sxs-lookup"><span data-stu-id="2faab-144">Describes the basic stream configuration common to all types of streams.</span></span>                                                                                        |
| [<span data-ttu-id="2faab-145">Obtention d’informations de configuration de flux à partir de codecs</span><span class="sxs-lookup"><span data-stu-id="2faab-145">Getting Stream Configuration Information from Codecs</span></span>](getting-stream-configuration-information-from-codecs.md) | <span data-ttu-id="2faab-146">Décrit comment obtenir des informations de configuration de flux à partir des codecs pour garantir une configuration correcte des flux à l’aide des codecs Windows Media Audio et vidéo.</span><span class="sxs-lookup"><span data-stu-id="2faab-146">Describes how to get stream configuration information from the codecs to ensure proper configuration of streams using the Windows Media Audio and Video codecs.</span></span> |
| [<span data-ttu-id="2faab-147">Configuration de flux audio</span><span class="sxs-lookup"><span data-stu-id="2faab-147">Configuring Audio Streams</span></span>](configuring-audio-streams.md)                                                       | <span data-ttu-id="2faab-148">Décrit comment configurer des flux audio.</span><span class="sxs-lookup"><span data-stu-id="2faab-148">Describes how to configure audio streams.</span></span>                                                                                                                       |
| [<span data-ttu-id="2faab-149">Configuration de flux vidéo</span><span class="sxs-lookup"><span data-stu-id="2faab-149">Configuring Video Streams</span></span>](configuring-video-streams.md)                                                       | <span data-ttu-id="2faab-150">Décrit comment configurer les flux vidéo.</span><span class="sxs-lookup"><span data-stu-id="2faab-150">Describes how to configure video streams.</span></span>                                                                                                                       |
| [<span data-ttu-id="2faab-151">Configuration de flux vidéo pour la recherche de performances</span><span class="sxs-lookup"><span data-stu-id="2faab-151">Configuring Video Streams for Seeking Performance</span></span>](configuring-video-streams-for-seeking-performance.md)       | <span data-ttu-id="2faab-152">Décrit comment configurer des flux vidéo pour lesquels une recherche efficace est importante.</span><span class="sxs-lookup"><span data-stu-id="2faab-152">Describes how to configure video streams for which efficient seeking is important.</span></span>                                                                              |
| [<span data-ttu-id="2faab-153">Configuration de flux de capture d’écran</span><span class="sxs-lookup"><span data-stu-id="2faab-153">Configuring Screen Capture Streams</span></span>](configuring-screen-capture-streams.md)                                     | <span data-ttu-id="2faab-154">Décrit comment configurer des flux vidéo pour la capture d’écran.</span><span class="sxs-lookup"><span data-stu-id="2faab-154">Describes how to configure video streams for screen capture.</span></span>                                                                                                    |
| [<span data-ttu-id="2faab-155">Configuration de flux d’images</span><span class="sxs-lookup"><span data-stu-id="2faab-155">Configuring Image Streams</span></span>](configuring-image-streams.md)                                                       | <span data-ttu-id="2faab-156">Décrit comment configurer des flux d’images.</span><span class="sxs-lookup"><span data-stu-id="2faab-156">Describes how to configure image streams.</span></span>                                                                                                                       |
| [<span data-ttu-id="2faab-157">Utilisation de flux audio et vidéo non compressés</span><span class="sxs-lookup"><span data-stu-id="2faab-157">Using Uncompressed Audio and Video Streams</span></span>](using-uncompressed-audio-and-video-streams.md)                     | <span data-ttu-id="2faab-158">Décrit comment configurer un flux audio ou vidéo non compressé.</span><span class="sxs-lookup"><span data-stu-id="2faab-158">Describes how to set up an uncompressed audio or video stream.</span></span>                                                                                                  |
| [<span data-ttu-id="2faab-159">Configuration de types de flux arbitraires</span><span class="sxs-lookup"><span data-stu-id="2faab-159">Configuring Arbitrary Stream Types</span></span>](configuring-arbitrary-stream-types.md)                                     | <span data-ttu-id="2faab-160">Décrit comment configurer des flux pour utiliser les types de flux arbitraires prédéfinis.</span><span class="sxs-lookup"><span data-stu-id="2faab-160">Describes how to configure streams to use the predefined arbitrary stream types.</span></span>                                                                                |
| [<span data-ttu-id="2faab-161">Configuration de flux VBR</span><span class="sxs-lookup"><span data-stu-id="2faab-161">Configuring VBR Streams</span></span>](configuring-vbr-streams.md)                                                           | <span data-ttu-id="2faab-162">Décrit comment configurer des flux pour utiliser le codage à vitesse de transmission variable (VBR).</span><span class="sxs-lookup"><span data-stu-id="2faab-162">Describes how to configure streams to use variable bit rate encoding (VBR).</span></span>                                                                                     |
| [<span data-ttu-id="2faab-163">Configuration d’extensions d’unité de données</span><span class="sxs-lookup"><span data-stu-id="2faab-163">Configuring Data Unit Extensions</span></span>](configuring-data-unit-extensions.md)                                         | <span data-ttu-id="2faab-164">Décrit comment configurer un flux afin que les extensions d’unité de données puissent être jointes lors de l’écriture du fichier.</span><span class="sxs-lookup"><span data-stu-id="2faab-164">Describes how to configure a stream so that data unit extensions can be attached when the file is written.</span></span>                                                      |
| [<span data-ttu-id="2faab-165">Réutilisation des configurations de flux</span><span class="sxs-lookup"><span data-stu-id="2faab-165">Reusing Stream Configurations</span></span>](reusing-stream-configurations.md)                                               | <span data-ttu-id="2faab-166">Décrit la façon dont vous pouvez utiliser des objets de configuration de flux à partir de profils existants pour créer de nouveaux profils.</span><span class="sxs-lookup"><span data-stu-id="2faab-166">Describes the ways in which you can use stream configuration objects from existing profiles to make new profiles.</span></span>                                               |



 

## <a name="related-topics"></a><span data-ttu-id="2faab-167">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="2faab-167">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2faab-168">**Entrées, flux et sorties**</span><span class="sxs-lookup"><span data-stu-id="2faab-168">**Inputs, Streams and Outputs**</span></span>](inputs-streams-and-outputs.md)
</dt> <dt>

[<span data-ttu-id="2faab-169">**Utilisation des profils**</span><span class="sxs-lookup"><span data-stu-id="2faab-169">**Working with Profiles**</span></span>](working-with-profiles.md)
</dt> </dl>

 

 