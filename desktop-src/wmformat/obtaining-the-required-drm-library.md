---
title: Obtention de la bibliothèque DRM requise
description: Obtention de la bibliothèque DRM requise
ms.assetid: 7bd13b77-439e-40cf-99e8-b359247da74d
keywords:
- Windows Media Format SDK, obtention des bibliothèques DRM requises
- ASF (Advanced Systems Format), obtention des bibliothèques DRM requises
- ASF (Advanced Systems Format), obtention des bibliothèques DRM requises
- gestion des droits numériques (DRM), obtention des bibliothèques requises
- DRM (Digital Rights Management), obtention des bibliothèques requises
- gestion des droits numériques (DRM), informations de build
- DRM (gestion des droits numériques), informations de build
- gestion des droits numériques (DRM), informations de débogage
- DRM (gestion des droits numériques), informations de débogage
- débogage DRM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f5c124c1e7edf0bba736b9dd392e852aac97e96
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/09/2020
ms.locfileid: "104383131"
---
# <a name="obtaining-the-required-drm-library"></a><span data-ttu-id="0b5ac-113">Obtention de la bibliothèque DRM requise</span><span class="sxs-lookup"><span data-stu-id="0b5ac-113">Obtaining the Required DRM Library</span></span>

<span data-ttu-id="0b5ac-114">Pour créer ou lire des fichiers multimédias numériques protégés par DRM, votre application doit être liée à une bibliothèque statique qui est fournie sous forme binaire par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-114">To create or play DRM-protected digital media files, your application must link to a static library that is provided in binary form by Microsoft.</span></span> <span data-ttu-id="0b5ac-115">Cette bibliothèque est parfois appelée bibliothèque stub ou « stublib » et identifie de manière unique votre application.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-115">This library is sometimes called a stub library or "stublib" and it uniquely identifies your application.</span></span>

<span data-ttu-id="0b5ac-116">Dans cette documentation, la bibliothèque DRM est appelée « WMStubDRM. lib ».</span><span class="sxs-lookup"><span data-stu-id="0b5ac-116">In this documentation, the DRM library is referred to as "WMStubDRM.lib".</span></span> <span data-ttu-id="0b5ac-117">Le nom de la bibliothèque que vous recevez comportera un numéro d’identification.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-117">The name of the library you receive will include an identifying number.</span></span> <span data-ttu-id="0b5ac-118">Pour obtenir cette bibliothèque, vous devez signer un contrat de licence auprès de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-118">To obtain this library, you must sign a license agreement with Microsoft.</span></span> <span data-ttu-id="0b5ac-119">Les termes du contrat peuvent varier selon que vous demandez une licence d’évaluation ou une licence de production.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-119">The terms of the agreement may differ depending on whether you request an evaluation license or a production license.</span></span> <span data-ttu-id="0b5ac-120">Pour plus d’informations sur le processus de gestion de licences DRM, consultez le formulaire Windows Media Licensing sur le [site Web de Microsoft](https://www.microsoft.com/licensing/default).</span><span class="sxs-lookup"><span data-stu-id="0b5ac-120">For more information on the DRM licensing process, see the Windows Media Licensing Form at the [Microsoft Web site](https://www.microsoft.com/licensing/default).</span></span>

<span data-ttu-id="0b5ac-121">La bibliothèque que vous recevez a un niveau de sécurité DRM qui dépend du type de contrat de licence que vous entrez.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-121">The library that you receive has a DRM security level that depends on the type of license agreement you enter into.</span></span> <span data-ttu-id="0b5ac-122">Une licence DRM peut restreindre l’accès au contenu des fichiers aux applications avec des composants DRM situés sous un niveau de sécurité spécifié.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-122">A DRM license can restrict applications with DRM components below a specified security level from accessing the file contents.</span></span> <span data-ttu-id="0b5ac-123">Ce niveau de sécurité n’est pas le même que le niveau de individualisation DRM, et n’est pas lié aux valeurs numériques des niveaux de protection de sortie (OPLs).</span><span class="sxs-lookup"><span data-stu-id="0b5ac-123">This security level is not the same as the DRM individualization level, nor is it related to any of the numerical values of output protection levels (OPLs).</span></span> <span data-ttu-id="0b5ac-124">Le tableau suivant présente des exemples de niveaux de sécurité DRM pour différents lecteurs et périphériques portables.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-124">The following table shows examples of DRM security levels for different players and portable devices.</span></span>



| <span data-ttu-id="0b5ac-125">Niveau de sécurité</span><span class="sxs-lookup"><span data-stu-id="0b5ac-125">Security level</span></span> | <span data-ttu-id="0b5ac-126">Lecteurs et appareils mobiles</span><span class="sxs-lookup"><span data-stu-id="0b5ac-126">Players and portable devices</span></span>                                                                                                                                                                                                                                                                                                   | <span data-ttu-id="0b5ac-127">Exemple</span><span class="sxs-lookup"><span data-stu-id="0b5ac-127">Example</span></span>                                                                                                                                                                                          |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0b5ac-128">150</span><span class="sxs-lookup"><span data-stu-id="0b5ac-128">150</span></span>            | <span data-ttu-id="0b5ac-129">Appareils qui ne prennent pas en charge Windows Media DRM.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-129">Devices that do not support Windows Media DRM.</span></span> <span data-ttu-id="0b5ac-130">La protection DRM est supprimée lorsque le contenu est transféré vers un tel appareil.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-130">DRM protection is removed when content is transferred to such a device.</span></span>                                                                                                                                                                                                         | <span data-ttu-id="0b5ac-131">Appareils qui prennent en charge le contenu Windows Media mais pas le contenu protégé</span><span class="sxs-lookup"><span data-stu-id="0b5ac-131">Devices that support Windows Media-based content but not protected content</span></span>                                                                                                                       |
| <span data-ttu-id="0b5ac-132">1 000</span><span class="sxs-lookup"><span data-stu-id="0b5ac-132">1,000</span></span>          | <span data-ttu-id="0b5ac-133">Applications de lecteur basées sur le kit de développement logiciel (SDK) Windows Media Format 9,5 ou version antérieure qui ne répondent pas à des exigences supplémentaires pour le niveau 2000. appareils basés sur le périphérique portable Windows Media DRM v1.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-133">Player applications based on the Windows Media Format 9.5 SDK or earlier that do not meet additional requirements for level 2000.Devices based on Windows Media Portable Device DRM v1.</span></span><br/> <span data-ttu-id="0b5ac-134">Appareils basés sur Windows CE 4,2 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-134">Devices based on Windows CE 4.2 and later.</span></span><br/>                                                                       | <span data-ttu-id="0b5ac-135">Lecteur Windows Media 6,4, lecteur Windows Media 7Portable les appareils multimédias qui prennent en charge Windows Media Mobile Device DRM v1.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-135">Windows Media Player 6.4, Windows Media Player 7Portable media devices that support Windows Media Portable Device DRM v1.</span></span><br/>                                                             |
| <span data-ttu-id="0b5ac-136">2 000</span><span class="sxs-lookup"><span data-stu-id="0b5ac-136">2,000</span></span>          | <span data-ttu-id="0b5ac-137">Applications de lecteur basées sur le kit de développement logiciel (SDK) Windows Media Format 9 Series ou version ultérieure, et qui suivent un ensemble plus strict d’instructions de protection du contenu que les applications au niveau 1 000. appareils basés sur Windows Media DRM 10 pour appareils mobiles.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-137">Player applications that are based on Windows Media Format 9 Series SDK or later, and that follow a stricter set of content protection guidelines than applications at level 1000.Devices based on Windows Media DRM 10 for Portable Devices.</span></span><br/> <span data-ttu-id="0b5ac-138">Appareils basés sur Windows Media DRM 10 pour les périphériques réseau.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-138">Devices based on Windows Media DRM 10 for Network Devices.</span></span><br/> | <span data-ttu-id="0b5ac-139">Appareils Windows Media Player 9 Series et laterPortable Media qui prennent en charge Windows Media DRM 10 pour les appareils mobiles</span><span class="sxs-lookup"><span data-stu-id="0b5ac-139">Windows Media Player 9 Series and laterPortable media devices that support Windows Media DRM 10 for Portable Devices</span></span><br/> <span data-ttu-id="0b5ac-140">Appareils Media Center portables basés sur Windows Mobile</span><span class="sxs-lookup"><span data-stu-id="0b5ac-140">Portable Media Center devices based on Windows Mobile</span></span><br/> |



 

## <a name="build-and-debugging-information"></a><span data-ttu-id="0b5ac-141">Informations de génération et de débogage</span><span class="sxs-lookup"><span data-stu-id="0b5ac-141">Build and Debugging Information</span></span>

<span data-ttu-id="0b5ac-142">Lorsque vous effectuez un lien vers WMStubDRM. lib, ne liez pas à wmvcore. lib.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-142">When you link to WMStubDRM.lib, do NOT link to wmvcore.lib.</span></span> <span data-ttu-id="0b5ac-143">Le composant DRM ne fonctionnera pas correctement si l’application est liée aux deux bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-143">The DRM component will not work properly if the application links to both libraries.</span></span>

<span data-ttu-id="0b5ac-144">Un point d’arrêt de l’utilisateur dans le composant DRM empêche à la fois les versions Debug et Release des applications d’accéder au contenu protégé lors de l’exécution à l’intérieur du débogueur.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-144">A user breakpoint in the DRM component will prevent both debug and release versions of applications from accessing protected content when running inside the debugger.</span></span> <span data-ttu-id="0b5ac-145">Pour résoudre les problèmes liés aux fonctions DRM dans votre application, vous devez écrire vos propres routines de suivi qui enregistrent des informations telles que des valeurs **HRESULT** à un emplacement tel qu’un fichier journal.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-145">To troubleshoot DRM-related functions in your application, you must write your own trace routines that save information such as **HRESULT** values to some location such as a log file.</span></span>

<span data-ttu-id="0b5ac-146">Si vous tentez d’exécuter une version Release d’une application sur un système avec une version de débogage du kit de développement logiciel (SDK) installé (ou l’inverse), vous rencontrerez des erreurs de segment de mémoire lors de la lecture du contenu DRM version 7.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-146">If you attempt to run a release version of an application on a system with a debug version of the SDK bits installed (or the other way around), you will encounter heap errors during playback of DRM version 7 content.</span></span> <span data-ttu-id="0b5ac-147">Veillez à exécuter des applications de débogage sur les bits du SDK de débogage et à publier des applications sur les bits de version.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-147">Be sure to run debug applications over debug SDK bits, and release applications over release bits.</span></span> <span data-ttu-id="0b5ac-148">Le même problème se produit si vous exécutez une version de débogage du kit de développement logiciel (SDK) avec un composant DRM individualisé (qui est toujours une version Release).</span><span class="sxs-lookup"><span data-stu-id="0b5ac-148">The same problem will occur if you run a debug version of the SDK with an individualized DRM component (which is always a release build).</span></span>

<span data-ttu-id="0b5ac-149">**Notes** DRM n’est pas pris en charge par la version x64 de ce kit de développement logiciel (SDK).</span><span class="sxs-lookup"><span data-stu-id="0b5ac-149">**Notes** DRM is not supported by the x64-based version of this SDK.</span></span>

<span data-ttu-id="0b5ac-150">Les fichiers WMStubDRM. lib associés au kit de développement logiciel (SDK) Windows Media Format 9,5 peuvent être utilisés uniquement avec les composants de Microsoft Visual Studio .NET 2003.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-150">The WMStubDRM.lib files that are associated with the Windows Media Format 9.5 SDK can be used only with the components of Microsoft Visual Studio  .NET 2003.</span></span> <span data-ttu-id="0b5ac-151">Si vous utilisez une version antérieure de la bibliothèque stub, il n’existe aucune nouvelle restriction pour son utilisation.</span><span class="sxs-lookup"><span data-stu-id="0b5ac-151">If you are using an older version of the stub library, there are no new restrictions for its use.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0b5ac-152">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="0b5ac-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0b5ac-153">**Activation de la prise en charge de DRM**</span><span class="sxs-lookup"><span data-stu-id="0b5ac-153">**Enabling DRM Support**</span></span>](enabling-drm-support.md)
</dt> </dl>

 

 





