---
description: Les services HTTP Microsoft Windows (WinHTTP) offrent une interface de haut niveau prise en charge par le serveur aux protocoles HTTP/2 et 1,1 Internet.
ms.assetid: 8337f699-3ec0-4397-acc2-6dc813f7542d
title: À propos de WinHTTP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 150c829410a1601a3ede7f115f4594276af7fead
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106524315"
---
# <a name="about-winhttp"></a><span data-ttu-id="bad26-103">À propos de WinHTTP</span><span class="sxs-lookup"><span data-stu-id="bad26-103">About WinHTTP</span></span>

> [!NOTE]
> <span data-ttu-id="bad26-104">Pour les conteneurs d’applications et les services système depuis Windows 10, version 1709, HTTP/2 (voir [RFC7540](https://tools.ietf.org/html/rfc7540)) est activé par défaut.</span><span class="sxs-lookup"><span data-stu-id="bad26-104">For app containers and system services since Windows 10, version 1709, HTTP/2 (see [RFC7540](https://tools.ietf.org/html/rfc7540)) is on by default.</span></span>

<span data-ttu-id="bad26-105">Les services HTTP Microsoft Windows (WinHTTP) offrent une interface de haut niveau prise en charge par le serveur aux protocoles HTTP/2 et 1,1 Internet.</span><span class="sxs-lookup"><span data-stu-id="bad26-105">Microsoft Windows HTTP Services (WinHTTP) provides you with a server-supported, high-level interface to the HTTP/2 and 1.1 Internet protocols.</span></span> <span data-ttu-id="bad26-106">WinHTTP est conçu pour être utilisé principalement dans les scénarios basés sur le serveur par les applications serveur qui communiquent avec les serveurs HTTP.</span><span class="sxs-lookup"><span data-stu-id="bad26-106">WinHTTP is designed to be used primarily in server-based scenarios by server applications that communicate with HTTP servers.</span></span>

<span data-ttu-id="bad26-107">[WinInet](/windows/desktop/WinInet/portal) a été conçu comme une plateforme cliente http pour les applications de bureau interactives.</span><span class="sxs-lookup"><span data-stu-id="bad26-107">[WinINet](/windows/desktop/WinInet/portal) was designed as an HTTP client platform for interactive desktop applications.</span></span> <span data-ttu-id="bad26-108">WinINet affiche une interface utilisateur pour certaines opérations, telles que la collecte des informations d’identification de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="bad26-108">WinINet displays a user interface for some operations such as collecting user credentials.</span></span> <span data-ttu-id="bad26-109">Toutefois, WinHTTP gère ces opérations par programme.</span><span class="sxs-lookup"><span data-stu-id="bad26-109">WinHTTP, however, handles these operations programmatically.</span></span> <span data-ttu-id="bad26-110">Les applications serveur qui requièrent des services clients HTTP doivent utiliser WinHTTP au lieu de WinINet.</span><span class="sxs-lookup"><span data-stu-id="bad26-110">Server applications that require HTTP client services should use WinHTTP instead of WinINet.</span></span> <span data-ttu-id="bad26-111">Pour plus d’informations, consultez [Portage d’applications WinInet vers WinHTTP](porting-wininet-applications-to-winhttp.md).</span><span class="sxs-lookup"><span data-stu-id="bad26-111">For more information, see [Porting WinINet Applications to WinHTTP](porting-wininet-applications-to-winhttp.md).</span></span>

<span data-ttu-id="bad26-112">WinHTTP est également conçu pour être utilisé dans les services système et les applications clientes basées sur HTTP.</span><span class="sxs-lookup"><span data-stu-id="bad26-112">WinHTTP is also designed for use in system services and HTTP-based client applications.</span></span> <span data-ttu-id="bad26-113">Toutefois, les [applications à utilisateur](/windows/desktop/WinInet/portal)unique qui requièrent des fonctionnalités de protocole FTP, la persistance des cookies, la mise en cache, la gestion automatique des boîtes de dialogue des informations d’identification, la compatibilité d’Internet Explorer ou la prise en charge des plateformes de niveau inférieur,</span><span class="sxs-lookup"><span data-stu-id="bad26-113">However, single-user applications that require FTP protocol functionality, cookie persistence, caching, automatic credential dialog handling, Internet Explorer compatibility, or downlevel platform support should consider using [WinINet](/windows/desktop/WinInet/portal).</span></span>

<span data-ttu-id="bad26-114">Cette interface est accessible à partir de C/C++ à l’aide de l’interface de programmation d’applications (API) WinHTTP, ou à l’aide des interfaces [**IWinHttpRequest**](iwinhttprequest-interface.md) et [**IWinHttpRequestEvents**](iwinhttprequestevents-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="bad26-114">This interface is accessible from C/C++ by using either the WinHTTP application programming interface (API), or by using the [**IWinHttpRequest**](iwinhttprequest-interface.md) and [**IWinHttpRequestEvents**](iwinhttprequestevents-interface.md) interfaces.</span></span> <span data-ttu-id="bad26-115">WinHTTP est également accessible à partir de script et Microsoft Visual Basic par le biais de l’objet WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="bad26-115">WinHTTP is also accessible from script and Microsoft Visual Basic through the WinHTTP object.</span></span> <span data-ttu-id="bad26-116">Pour plus d’informations et pour obtenir une description des différentes fonctions, consultez la référence des fonctions WinHTTP pour le langage spécifique.</span><span class="sxs-lookup"><span data-stu-id="bad26-116">For more information and descriptions of the individual functions, see the WinHTTP functions reference for the specific language.</span></span>

<span data-ttu-id="bad26-117">À compter de Windows 8, WinHTTP fournit des API pour activer les connexions à l’aide du [protocole WebSocket](https://tools.ietf.org/html/rfc6455)l, par exemple [**WinHttpWebSocketSend**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketsend) et [**WinHttpWebSocketReceive**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketreceive).</span><span class="sxs-lookup"><span data-stu-id="bad26-117">Starting with Windows 8, WinHTTP provides APIs to enable connections using the [WebSocket Protocol](https://tools.ietf.org/html/rfc6455)l, such as [**WinHttpWebSocketSend**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketsend) and [**WinHttpWebSocketReceive**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketreceive).</span></span>

> [!Caution]  
> <span data-ttu-id="bad26-118">WinHTTP n’est pas réentrant, sauf pendant le rappel d’achèvement asynchrone.</span><span class="sxs-lookup"><span data-stu-id="bad26-118">WinHTTP is not reentrant except during asynchronous completion callback.</span></span> <span data-ttu-id="bad26-119">Autrement dit, lorsqu’un thread a un appel en attente pour l’une des fonctions WinHTTP telles que WinHttpSendRequest, WinHttpReceiveResponse, WinHttpQueryDataAvailable, WinHttpSendData ou WinHttpWriteData, il ne doit jamais appeler WinHTTP une deuxième fois jusqu’à ce que le premier appel soit terminé.</span><span class="sxs-lookup"><span data-stu-id="bad26-119">That is, while a thread has a call pending to one of the WinHTTP functions such as WinHttpSendRequest, WinHttpReceiveResponse, WinHttpQueryDataAvailable, WinHttpSendData, or WinHttpWriteData, it must never call WinHTTP a second time until the first call has completed.</span></span> <span data-ttu-id="bad26-120">Un autre scénario sous lequel un deuxième appel peut se produire est le suivant : si une application met en file d’attente un appel de procédure asynchrone (APC) vers le thread qui appelle WinHTTP, et si WinHTTP exécute une attente alertable en interne, l’APC peut s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="bad26-120">One scenario under which a second call could occur is as follows: If an application queues an Asynchronous Procedure Call (APC) to the thread that calls into WinHTTP, and if WinHTTP performs an alertable wait internally, the APC can run.</span></span> <span data-ttu-id="bad26-121">Si la routine APC se produit également pour appeler WinHTTP, elle réentre l’API WinHTTP et l’état interne de WinHTTP peut être endommagé.</span><span class="sxs-lookup"><span data-stu-id="bad26-121">If the APC routine happens also to call WinHTTP, it reenters the WinHTTP API, and the internal state of WinHTTP can be corrupted.</span></span>

## <a name="winhttp-51-features"></a><span data-ttu-id="bad26-122">Fonctionnalités WinHTTP 5,1</span><span class="sxs-lookup"><span data-stu-id="bad26-122">WinHTTP 5.1 Features</span></span>

<span data-ttu-id="bad26-123">Les fonctionnalités suivantes ont été ajoutées à la version 5,1 de WinHTTP :</span><span class="sxs-lookup"><span data-stu-id="bad26-123">The following features were added in version 5.1 of WinHTTP:</span></span>

-   <span data-ttu-id="bad26-124">Prise en charge D’ipv6.</span><span class="sxs-lookup"><span data-stu-id="bad26-124">IPv6 support.</span></span>
-   <span data-ttu-id="bad26-125">Fonctionnalités du proxy.</span><span class="sxs-lookup"><span data-stu-id="bad26-125">AutoProxy capabilities.</span></span>
-   <span data-ttu-id="bad26-126">Protocole HTTP/1.0, y compris la prise en charge des connexions Keep-Alive (persistant) et des cookies de session.</span><span class="sxs-lookup"><span data-stu-id="bad26-126">HTTP/1.0 protocol, including support for keep-alive (persistent) connections and session cookies.</span></span>
-   <span data-ttu-id="bad26-127">Prise en charge du transfert mémorisé en bloc HTTP/1.1 pour les réponses HTTP.</span><span class="sxs-lookup"><span data-stu-id="bad26-127">HTTP/1.1 chunked transfer support for HTTP responses.</span></span>
-   <span data-ttu-id="bad26-128">Regroupement persistant des connexions anonymes entre les sessions.</span><span class="sxs-lookup"><span data-stu-id="bad26-128">Keep-alive pooling of anonymous connections across sessions.</span></span>
-   <span data-ttu-id="bad26-129">Fonctionnalité SSL (Secure Sockets Layer) (SSL), y compris les certificats clients.</span><span class="sxs-lookup"><span data-stu-id="bad26-129">Secure Sockets Layer (SSL) functionality, including client certificates.</span></span> <span data-ttu-id="bad26-130">Les protocoles SSL pris en charge sont les suivants : SSL 2,0, SSL 3,0 et TLS (Transport Layer Security) 1,0.</span><span class="sxs-lookup"><span data-stu-id="bad26-130">Supported SSL protocols include the following: SSL 2.0, SSL 3.0, and Transport Layer Security (TLS) 1.0.</span></span>
-   <span data-ttu-id="bad26-131">Prise en charge de l’authentification serveur et proxy, y compris la prise en charge intégrée de Microsoft Passport 1,4 et du package Negotiate/ [Kerberos](../com/kerberos-v5-protocol.md) .</span><span class="sxs-lookup"><span data-stu-id="bad26-131">Support for server and proxy authentication, including integrated support for Microsoft Passport 1.4 and the Negotiate/ [Kerberos](../com/kerberos-v5-protocol.md) package.</span></span>
-   <span data-ttu-id="bad26-132">Gestion automatique des redirections, sauf si elles sont supprimées.</span><span class="sxs-lookup"><span data-stu-id="bad26-132">Automatic handling of redirects unless suppressed.</span></span>
-   <span data-ttu-id="bad26-133">Interface scriptable en plus de l’API.</span><span class="sxs-lookup"><span data-stu-id="bad26-133">Scriptable interface in addition to the API.</span></span>
-   <span data-ttu-id="bad26-134">Utilitaire de suivi pour aider à résoudre les problèmes.</span><span class="sxs-lookup"><span data-stu-id="bad26-134">Trace utility to help troubleshoot problems.</span></span>

<span data-ttu-id="bad26-135">Un certain nombre de fonctionnalités [WinInet](/windows/desktop/WinInet/portal) ne sont pas prises en charge dans WinHTTP, notamment la mise en cache des URL et les cookies persistants, le proxy automatique, la numérotation automatique, la prise en charge hors connexion et le protocole FTP (FTP).</span><span class="sxs-lookup"><span data-stu-id="bad26-135">A number of [WinINet](/windows/desktop/WinInet/portal) features are not supported in WinHTTP, including URL caching and persistent cookies, autoproxy, autodialing, offline support, and File Transfer Protocol (FTP).</span></span>

<span data-ttu-id="bad26-136">Pour plus d’informations sur les modifications introduites dans la version 5,1, voir [What’s New in WinHTTP 5,1](what-s-new-in-winhttp-5-1.md).</span><span class="sxs-lookup"><span data-stu-id="bad26-136">For more information about changes introduced in version 5.1, see [What's New in WinHTTP 5.1](what-s-new-in-winhttp-5-1.md).</span></span>

## <a name="getting-started-with-winhttp"></a><span data-ttu-id="bad26-137">Prise en main avec WinHTTP</span><span class="sxs-lookup"><span data-stu-id="bad26-137">Getting Started with WinHTTP</span></span>

<span data-ttu-id="bad26-138">Pour plus d’informations sur WinHTTP, consultez les rubriques suivantes.</span><span class="sxs-lookup"><span data-stu-id="bad26-138">For more information about WinHTTP, see the following topics.</span></span>

* <span data-ttu-id="bad26-139">[WinInet et WinHTTP](/windows/desktop/wininet/wininet-vs-winhttp) comparent les deux technologies pour accéder à http.</span><span class="sxs-lookup"><span data-stu-id="bad26-139">[WinINet vs. WinHTTP](/windows/desktop/wininet/wininet-vs-winhttp) compares the two technologies for accessing HTTP.</span></span>
* <span data-ttu-id="bad26-140">Les [versions WinHTTP](winhttp-versions.md) décrivent l’historique des versions de WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="bad26-140">[WinHTTP Versions](winhttp-versions.md) describes the version history of WinHTTP.</span></span>
* <span data-ttu-id="bad26-141">[Nouveautés de winhttp 5,1](what-s-new-in-winhttp-5-1.md) décrit les modifications et les nouvelles fonctionnalités de WinHTTP 5,1.</span><span class="sxs-lookup"><span data-stu-id="bad26-141">[What's New in WinHTTP 5.1](what-s-new-in-winhttp-5-1.md) describes changes and new features in WinHTTP 5.1.</span></span>
* <span data-ttu-id="bad26-142">La [terminologie réseau](network-terminology.md) décrit des concepts et une terminologie utiles relatifs à la mise en réseau en général et au protocole http en particulier.</span><span class="sxs-lookup"><span data-stu-id="bad26-142">[Network Terminology](network-terminology.md) describes useful concepts and terminology relating to networking in general and the HTTP protocol in particular.</span></span>
* <span data-ttu-id="bad26-143">Le [choix d’une interface WinHTTP](choosing-a-winhttp-interface.md) décrit l’API C/C++ et l’interface com pour WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="bad26-143">[Choosing a WinHTTP Interface](choosing-a-winhttp-interface.md) describes the C/C++ API and the COM interface for WinHTTP.</span></span>
* <span data-ttu-id="bad26-144">[Considérations sur la sécurité WinHTTP](winhttp-security-considerations.md) décrit les problèmes de sécurité à prendre en compte lors de l’utilisation de WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="bad26-144">[WinHTTP Security Considerations](winhttp-security-considerations.md) describes security issues to be aware of when using WinHTTP.</span></span>
* <span data-ttu-id="bad26-145">[Portage d’applications WinInet vers WinHTTP](porting-wininet-applications-to-winhttp.md) décrit comment modifier vos applications [WinInet](/windows/desktop/WinInet/portal) existantes pour utiliser l’API WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="bad26-145">[Porting WinINet Applications to WinHTTP](porting-wininet-applications-to-winhttp.md) describes how to modify your existing [WinINet](/windows/desktop/WinInet/portal) applications to use the WinHTTP API.</span></span>
