---
description: À compter de Windows Server 2008 et Windows Vista, l’API WinHTTP a été améliorée pour inclure les fonctionnalités suivantes.
ms.assetid: b47a2e38-67bd-4d43-936c-8781641cb7f6
title: Nouveautés de Windows Server 2008 et Windows Vista
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fac0f274b45e1db79fb79340b7f490de96f57e8f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104484993"
---
# <a name="whats-new-in-windows-server-2008-and-windows-vista"></a><span data-ttu-id="d0333-103">Nouveautés de Windows Server 2008 et Windows Vista</span><span class="sxs-lookup"><span data-stu-id="d0333-103">What's New in Windows Server 2008 and Windows Vista</span></span>

<span data-ttu-id="d0333-104">À compter de Windows Server 2008 et Windows Vista, l’API WinHTTP a été améliorée pour inclure les fonctionnalités suivantes.</span><span class="sxs-lookup"><span data-stu-id="d0333-104">Starting in Windows Server 2008 and Windows Vista, the WinHTTP API has been enhanced to include the following features.</span></span>

## <a name="greater-than-4-gb-upload"></a><span data-ttu-id="d0333-105">Téléchargement supérieur à 4 Go.</span><span class="sxs-lookup"><span data-stu-id="d0333-105">Greater Than 4-GB Upload.</span></span>

<span data-ttu-id="d0333-106">[**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) peut envoyer uniquement 4 Go de données en raison des limitations de la taille du paramètre de longueur totale DWORD.</span><span class="sxs-lookup"><span data-stu-id="d0333-106">[**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) can send only 4 GB of data because of limitations in the size of the DWORD total length parameter.</span></span> <span data-ttu-id="d0333-107">Pour permettre aux applications d’envoyer plus de 4 Go de données, l’en-tête Content-Length est ajouté à la demande en spécifiant des données aussi volumineuses qu’un grand \_ entier (2 ^ 64 octets).</span><span class="sxs-lookup"><span data-stu-id="d0333-107">To enable applications to send more than 4 GB of data, the Content-Length header is added to the request specifying data as large as a LARGE\_INTEGER (2^64 bytes).</span></span> <span data-ttu-id="d0333-108">Pour plus d’informations, consultez **WinHttpSendRequest**.</span><span class="sxs-lookup"><span data-stu-id="d0333-108">For more information, see **WinHttpSendRequest**.</span></span> <span data-ttu-id="d0333-109">Cette fonctionnalité n’est pas prise en charge sur l’objet com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="d0333-109">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="transfer-encoding-header"></a><span data-ttu-id="d0333-110">En-tête Transfer-Encoding</span><span class="sxs-lookup"><span data-stu-id="d0333-110">Transfer-Encoding Header</span></span>

<span data-ttu-id="d0333-111">L’en-tête Transfer-Encoding permet aux applications d’envoyer des données segmentées au serveur.</span><span class="sxs-lookup"><span data-stu-id="d0333-111">The Transfer-Encoding header enables applications to send chunked data to the server.</span></span> <span data-ttu-id="d0333-112">Lorsque l’en-tête Transfer-Encoding est présent dans la demande, l’application envoie la demande avec un corps d’entité de longueur égale à zéro dans l’appel à [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest).</span><span class="sxs-lookup"><span data-stu-id="d0333-112">When the Transfer-Encoding header is present on the request, the application sends the request with a zero length entity body in the call to [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest).</span></span> <span data-ttu-id="d0333-113">Le corps d’entité est envoyé dans les appels suivants à [**WinHttpWriteData**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpwritedata).</span><span class="sxs-lookup"><span data-stu-id="d0333-113">The entity body is sent in subsequent calls to [**WinHttpWriteData**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpwritedata).</span></span> <span data-ttu-id="d0333-114">Cette fonctionnalité n’est pas prise en charge sur l’objet com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="d0333-114">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="ssl-client-certificate-issuer-list-retrieval"></a><span data-ttu-id="d0333-115">Récupération de la liste des émetteurs de certificats clients SSL</span><span class="sxs-lookup"><span data-stu-id="d0333-115">SSL Client Certificate Issuer List Retrieval</span></span>

<span data-ttu-id="d0333-116">L’application peut récupérer la liste d’émetteurs de certificats client SSL lorsque [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) échoue avec un **certificat d’authentification de \_ \_ client WinHTTP \_ \_ \_ nécessaire**.</span><span class="sxs-lookup"><span data-stu-id="d0333-116">The application can retrieve the SSL client certificate Issuer List when [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) fails with an **ERROR\_WINHTTP\_CLIENT\_AUTH\_CERT\_NEEDED**.</span></span> <span data-ttu-id="d0333-117">Une nouvelle option, **l' \_ option \_ WinHTTP \_ \_ \_ liste d’émetteurs de certificats client**, permet aux applications de récupérer la liste d’émetteurs de certificats et de filtrer la liste pour le certificat optimal.</span><span class="sxs-lookup"><span data-stu-id="d0333-117">A new option, **WINHTTP\_OPTION\_CLIENT\_CERT\_ISSUER\_LIST**, allows applications to retrieve the certificate Issuer List and filter the list for the optimal certificate.</span></span> <span data-ttu-id="d0333-118">Pour plus d’informations, consultez les rubriques [**indicateurs d’option**](option-flags.md) et [récupération de la liste d’émetteurs pour l’authentification du client SSL](ssl-in-winhttp.md) .</span><span class="sxs-lookup"><span data-stu-id="d0333-118">For more information, see the [**Option Flags**](option-flags.md) and [Issuer List Retrieval for SSL Client Authentication](ssl-in-winhttp.md) topics.</span></span> <span data-ttu-id="d0333-119">Cette fonctionnalité n’est pas prise en charge sur l’objet com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="d0333-119">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="optional-client-certificates"></a><span data-ttu-id="d0333-120">Certificats clients facultatifs</span><span class="sxs-lookup"><span data-stu-id="d0333-120">Optional Client Certificates</span></span>

<span data-ttu-id="d0333-121">Lorsque [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) échoue avec une erreur que le certificat d' **\_ authentification du client WinHTTP a \_ \_ \_ \_ requis**, le serveur n’a peut-être pas besoin du certificat client SSL.</span><span class="sxs-lookup"><span data-stu-id="d0333-121">When [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) fails with an **ERROR\_WINHTTP\_CLIENT\_AUTH\_CERT\_NEEDED**, the server may not require the SSL client certificate.</span></span> <span data-ttu-id="d0333-122">Le serveur peut être en mesure de rétablir une autre forme d’authentification ou d’autoriser le client à poursuivre l’accès anonyme.</span><span class="sxs-lookup"><span data-stu-id="d0333-122">The server may be able to revert to another form of authentication, or allow the client to proceed with anonymous access.</span></span> <span data-ttu-id="d0333-123">L’application définit l’option de **\_ \_ \_ \_ contexte de certificat client de l’option WinHTTP** et spécifie une macro que WinHTTP utilise pour déterminer si le certificat client est requis.</span><span class="sxs-lookup"><span data-stu-id="d0333-123">The application sets the **WINHTTP\_OPTION\_CLIENT\_CERT\_CONTEXT** option and specifies a macro that WinHttp uses to determine if the client certificate is required.</span></span> <span data-ttu-id="d0333-124">Pour plus d’informations, consultez [**indicateurs d’option**](option-flags.md).</span><span class="sxs-lookup"><span data-stu-id="d0333-124">For more information, see [**Option Flags**](option-flags.md).</span></span> <span data-ttu-id="d0333-125">Cette fonctionnalité n’est pas prise en charge sur l’objet com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="d0333-125">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="source-and-destination-ip-addresses"></a><span data-ttu-id="d0333-126">Adresses IP source et de destination</span><span class="sxs-lookup"><span data-stu-id="d0333-126">Source and Destination IP Addresses</span></span>

<span data-ttu-id="d0333-127">Quand [**WinHttpReceiveResponse**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpreceiveresponse) se termine, l’application peut récupérer l’adresse IP et le port source et de destination de la demande qui a généré la réponse.</span><span class="sxs-lookup"><span data-stu-id="d0333-127">When [**WinHttpReceiveResponse**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpreceiveresponse) completes, the application can retrieve the source and destination IP address and port of the request that generated the response.</span></span> <span data-ttu-id="d0333-128">Une nouvelle structure est fournie pour recevoir les adresses source et de destination lorsque l’option d’informations de connexion de l' **\_ option \_ \_ WinHTTP** est définie.</span><span class="sxs-lookup"><span data-stu-id="d0333-128">A new structure is provided to receive the source and destination addresses when the **WINHTTP\_OPTION\_CONNECTION\_INFO** option is set.</span></span> <span data-ttu-id="d0333-129">Pour plus d’informations, consultez [**indicateurs d’option**](option-flags.md).</span><span class="sxs-lookup"><span data-stu-id="d0333-129">For more information, see [**Option Flags**](option-flags.md).</span></span> <span data-ttu-id="d0333-130">Cette fonctionnalité n’est pas prise en charge sur l’objet com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="d0333-130">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="additional-ssl-client-authentication-errors"></a><span data-ttu-id="d0333-131">Erreurs d’authentification du client SSL supplémentaires</span><span class="sxs-lookup"><span data-stu-id="d0333-131">Additional SSL Client Authentication Errors</span></span>

<span data-ttu-id="d0333-132">Des erreurs d’authentification du client SSL supplémentaires fournissent des informations supplémentaires sur le certificat client SSL.</span><span class="sxs-lookup"><span data-stu-id="d0333-132">Additional SSL client authentication errors provide more information about the SSL Client certificate.</span></span> <span data-ttu-id="d0333-133">**Erreur \_ Le certificat du \_ client WinHTTP \_ \_ aucune \_ \_ clé privée** et erreur le certificat WinHTTP certificat du client de **\_ \_ \_ \_ \_ \_ clé privée d’accès** n’est pas une nouveauté pour Windows Server 2008 et Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="d0333-133">**ERROR\_WINHTTP\_CLIENT\_CERT\_NO\_PRIVATE\_KEY** and **ERROR\_WINHTTP\_CERT\_NO\_ACCESS\_PRIVATE\_KEY** client certificate errors are new for Windows Server 2008 and Windows Vista.</span></span> <span data-ttu-id="d0333-134">L’objet com [**IWinHttpRequest**](iwinhttprequest-interface.md) retourne ces erreurs dans un HRESULT.</span><span class="sxs-lookup"><span data-stu-id="d0333-134">The [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object returns these errors in an HRESULT.</span></span>

 

 



