---
description: Gestion des erreurs dans WinHTTP
ms.assetid: 96bceda2-ca96-4f88-ab38-35021889c2dd
title: Gestion des erreurs dans WinHTTP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bbf234220d0973e86c830063e4ecc25312fa2d77
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106530678"
---
# <a name="error-handling-in-winhttp"></a><span data-ttu-id="2bda6-103">Gestion des erreurs dans WinHTTP</span><span class="sxs-lookup"><span data-stu-id="2bda6-103">Error Handling in WinHTTP</span></span>

<span data-ttu-id="2bda6-104">Toutes les fonctions de l’API WinHTTP ne signalent pas les erreurs de la même façon.</span><span class="sxs-lookup"><span data-stu-id="2bda6-104">Not all WinHTTP API functions report errors in the same way.</span></span>

<span data-ttu-id="2bda6-105">Certaines fonctions, telles que [**WinHttpSetTimeouts**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsettimeouts), retournent une valeur **booléenne** qui indique un échec lorsque la **valeur est false**.</span><span class="sxs-lookup"><span data-stu-id="2bda6-105">Some functions, such as [**WinHttpSetTimeouts**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsettimeouts), return a **BOOL** that indicates failure when **FALSE**.</span></span> <span data-ttu-id="2bda6-106">Si la **valeur false** est retournée, les appelants intéressés par l’erreur doivent appeler [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror).</span><span class="sxs-lookup"><span data-stu-id="2bda6-106">If **FALSE** is returned, callers interested in the error should call [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror).</span></span> <span data-ttu-id="2bda6-107">Si **GetLastError** est appelé lorsque la fonction succès (retournée n’importe quoi mais **false**), la valeur retournée est imprévisible et peut changer entre les versions de Windows, les service packs ou même entre les appels à la même fonction.</span><span class="sxs-lookup"><span data-stu-id="2bda6-107">If **GetLastError** is called when the function succeded (returned anything but **FALSE**), the returned value is unpredictable and may change between Windows versions, Service Packs, or even between calls to the same function.</span></span>

<span data-ttu-id="2bda6-108">Certaines fonctions, telles que [**WinHttpConnect**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpconnect), retournent un pseudo-handle [HINTERNET](hinternet-handles-in-winhttp.md) .</span><span class="sxs-lookup"><span data-stu-id="2bda6-108">Some functions, such as [**WinHttpConnect**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpconnect), return an [HINTERNET](hinternet-handles-in-winhttp.md) pseudo handle.</span></span> <span data-ttu-id="2bda6-109">Ces fonctions sont exactement les mêmes, sauf que l’échec est indiqué en retournant la **valeur null**.</span><span class="sxs-lookup"><span data-stu-id="2bda6-109">These functions are exactly the same, except failure is indicated by returning **NULL**.</span></span> <span data-ttu-id="2bda6-110">Si la **valeur null** est retournée, les appelants intéressés par l’erreur doivent appeler [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror).</span><span class="sxs-lookup"><span data-stu-id="2bda6-110">If **NULL** is returned, callers interested in the error should call [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror).</span></span> <span data-ttu-id="2bda6-111">Si **GetLastError** est appelé lorsque la fonction succès (retournée n’importe quoi mais **null**), la valeur retournée est imprévisible et peut changer entre les versions de Windows, les service packs ou même entre les appels à la même fonction.</span><span class="sxs-lookup"><span data-stu-id="2bda6-111">If **GetLastError** is called when the function succeded (returned anything but **NULL**), the returned value is unpredictable and may change between Windows versions, Service Packs, or even between calls to the same function.</span></span>

<span data-ttu-id="2bda6-112">Certaines fonctions, telles que [**WinHttpGetProxyResult**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetproxyresult), retournent un code d’erreur **DWORD** et il n’est pas nécessaire d’appeler d’autres fonctions pour obtenir plus d’informations sur l’erreur.</span><span class="sxs-lookup"><span data-stu-id="2bda6-112">Some functions, such as [**WinHttpGetProxyResult**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetproxyresult), return a **DWORD** error code and there is no need to call any other functions for more error information.</span></span> <span data-ttu-id="2bda6-113">Pour ces fonctions, [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) ne doit pas être appelé.</span><span class="sxs-lookup"><span data-stu-id="2bda6-113">For these functions, [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) should not be called.</span></span> <span data-ttu-id="2bda6-114">Si **GetLastError** est appelé, indépendamment de la réussite ou de l’échec de la fonction, la valeur retournée est imprévisible et peut changer entre les versions de Windows, les service packs ou même entre les appels à la même fonction.</span><span class="sxs-lookup"><span data-stu-id="2bda6-114">If **GetLastError** is called, regardless of the success or failure of the function, the returned value is unpredictable and may change between Windows versions, Service Packs, or even between calls to the same function.</span></span>

 

 
