---
description: À propos des filtres DirectShow
ms.assetid: 57b7d32e-2073-46a2-91ec-a34072134489
title: À propos des filtres DirectShow
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 11ddfb5dda550bee88c42ef70347c95ba7a2b003
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104571204"
---
# <a name="about-directshow-filters"></a><span data-ttu-id="57ed8-103">À propos des filtres DirectShow</span><span class="sxs-lookup"><span data-stu-id="57ed8-103">About DirectShow Filters</span></span>

<span data-ttu-id="57ed8-104">DirectShow utilise une architecture modulaire, où chaque étape de traitement est effectuée par un objet COM appelé filtre.</span><span class="sxs-lookup"><span data-stu-id="57ed8-104">DirectShow uses a modular architecture, where each stage of processing is done by a COM object called a filter.</span></span> <span data-ttu-id="57ed8-105">DirectShow fournit un ensemble de filtres standard pour les applications à utiliser, et les développeurs peuvent écrire leurs propres filtres personnalisés qui étendent les fonctionnalités de DirectShow.</span><span class="sxs-lookup"><span data-stu-id="57ed8-105">DirectShow provides a set of standard filters for applications to use, and developers can write their own custom filters that extend the functionality of DirectShow.</span></span> <span data-ttu-id="57ed8-106">Pour illustrer ce point, Voici les étapes nécessaires pour lire un fichier vidéo AVI, ainsi que les filtres qui effectuent chaque étape :</span><span class="sxs-lookup"><span data-stu-id="57ed8-106">To illustrate, here are the steps needed to play an AVI video file, along with the filters that perform each step:</span></span>

-   <span data-ttu-id="57ed8-107">Lit les données brutes du fichier sous la forme d’un flux d’octets (filtre de source de fichier).</span><span class="sxs-lookup"><span data-stu-id="57ed8-107">Read the raw data from the file as a byte stream (File Source filter).</span></span>
-   <span data-ttu-id="57ed8-108">Examinez les en-têtes AVI, puis analysez le flux d’octets dans des images vidéo et des échantillons audio distincts (filtre de séparateur AVI).</span><span class="sxs-lookup"><span data-stu-id="57ed8-108">Examine the AVI headers, and parse the byte stream into separate video frames and audio samples (AVI Splitter filter).</span></span>
-   <span data-ttu-id="57ed8-109">Décodez les images vidéo (différents filtres de décodeur, selon le format de compression).</span><span class="sxs-lookup"><span data-stu-id="57ed8-109">Decode the video frames (various decoder filters, depending on the compression format).</span></span>
-   <span data-ttu-id="57ed8-110">Dessinez les images vidéo (filtre de convertisseur vidéo).</span><span class="sxs-lookup"><span data-stu-id="57ed8-110">Draw the video frames (Video Renderer filter).</span></span>
-   <span data-ttu-id="57ed8-111">Envoyez les exemples audio à la carte son (filtre de périphérique DirectSound par défaut).</span><span class="sxs-lookup"><span data-stu-id="57ed8-111">Send the audio samples to the sound card (Default DirectSound Device filter).</span></span>

<span data-ttu-id="57ed8-112">Ces filtres sont présentés dans le diagramme suivant.</span><span class="sxs-lookup"><span data-stu-id="57ed8-112">These filters are shown in the following diagram.</span></span>

![graphique de filtre pour lire un fichier AVI avec une vidéo compressée](images/avi-filter-graph.png)

<span data-ttu-id="57ed8-114">Comme le montre le diagramme, chaque filtre est connecté à un ou plusieurs autres filtres.</span><span class="sxs-lookup"><span data-stu-id="57ed8-114">As the diagram shows, each filter is connected to one or more other filters.</span></span> <span data-ttu-id="57ed8-115">Les points de connexion sont également des objets COM, appelés *codes PIN*.</span><span class="sxs-lookup"><span data-stu-id="57ed8-115">The connection points are also COM objects, called *pins*.</span></span> <span data-ttu-id="57ed8-116">Les filtres utilisent des broches pour déplacer les données d’un filtre à l’autre.</span><span class="sxs-lookup"><span data-stu-id="57ed8-116">Filters use pins to move data from one filter the next.</span></span> <span data-ttu-id="57ed8-117">Les flèches dans le diagramme indiquent la direction dans laquelle les données transitent.</span><span class="sxs-lookup"><span data-stu-id="57ed8-117">The arrows in the diagram show the direction in which the data travels.</span></span> <span data-ttu-id="57ed8-118">Dans DirectShow, un ensemble de filtres est appelé un *graphique de filtre*.</span><span class="sxs-lookup"><span data-stu-id="57ed8-118">In DirectShow, a set of filters is called a *filter graph*.</span></span>

<span data-ttu-id="57ed8-119">Les filtres ont trois États possibles : en cours d’exécution, arrêté et suspendu.</span><span class="sxs-lookup"><span data-stu-id="57ed8-119">Filters have three possible states: running, stopped, and paused.</span></span> <span data-ttu-id="57ed8-120">Lorsqu’un filtre est en cours d’exécution, il traite les données multimédias.</span><span class="sxs-lookup"><span data-stu-id="57ed8-120">When a filter is running, it processes media data.</span></span> <span data-ttu-id="57ed8-121">Lorsqu’il est arrêté, il arrête le traitement des données.</span><span class="sxs-lookup"><span data-stu-id="57ed8-121">When it is stopped, it stops processing data.</span></span> <span data-ttu-id="57ed8-122">L’état suspendu est utilisé pour signaler des données avant de s’exécuter ; la section [Data Flow dans le graphique de filtre](data-flow-in-the-filter-graph.md) décrit ce concept plus en détail.</span><span class="sxs-lookup"><span data-stu-id="57ed8-122">The paused state is used to cue data before running; the section [Data Flow in the Filter Graph](data-flow-in-the-filter-graph.md) describes this concept in more detail.</span></span> <span data-ttu-id="57ed8-123">À de rares exceptions près, les modifications d’État sont coordonnées dans tout le graphique de filtre ; tous les filtres du graphique basculent entre les États.</span><span class="sxs-lookup"><span data-stu-id="57ed8-123">With very rare exceptions, state changes are coordinated throughout the entire filter graph; all the filters in the graph switch states in unison.</span></span> <span data-ttu-id="57ed8-124">Ainsi, l’ensemble du graphique de filtre est également dit en cours d’exécution, arrêté ou suspendu.</span><span class="sxs-lookup"><span data-stu-id="57ed8-124">Thus, the entire filter graph is also said to be running, stopped, or paused.</span></span>

<span data-ttu-id="57ed8-125">Les filtres peuvent être regroupés en plusieurs grandes catégories :</span><span class="sxs-lookup"><span data-stu-id="57ed8-125">Filters can be grouped into several broad categories:</span></span>

-   <span data-ttu-id="57ed8-126">Un filtre *source* introduit des données dans le graphique.</span><span class="sxs-lookup"><span data-stu-id="57ed8-126">A *source* filter introduces data into the graph.</span></span> <span data-ttu-id="57ed8-127">Les données peuvent provenir d’un fichier, d’un réseau, d’un appareil photo ou de tout autre emplacement.</span><span class="sxs-lookup"><span data-stu-id="57ed8-127">The data might come from a file, a network, a camera, or anywhere else.</span></span> <span data-ttu-id="57ed8-128">Chaque filtre source gère un type de source de données différent.</span><span class="sxs-lookup"><span data-stu-id="57ed8-128">Each source filter handles a different type of data source.</span></span>
-   <span data-ttu-id="57ed8-129">Un filtre de *transformation* prend un flux d’entrée, traite les données et crée un flux de sortie.</span><span class="sxs-lookup"><span data-stu-id="57ed8-129">A *transform* filter takes an input stream, processes the data, and creates an output stream.</span></span> <span data-ttu-id="57ed8-130">Les encodeurs et les décodeurs sont des exemples de filtres de transformation.</span><span class="sxs-lookup"><span data-stu-id="57ed8-130">Encoders and decoders are examples of transform filters.</span></span>
-   <span data-ttu-id="57ed8-131">Les filtres de *convertisseur* se trouvent à la fin de la chaîne.</span><span class="sxs-lookup"><span data-stu-id="57ed8-131">*Renderer* filters sit at the end of the chain.</span></span> <span data-ttu-id="57ed8-132">Ils reçoivent des données et les présentent à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="57ed8-132">They receive data and present it to the user.</span></span> <span data-ttu-id="57ed8-133">Par exemple, un convertisseur vidéo dessine des images vidéo sur l’écran. un convertisseur audio envoie des données audio à la carte son. et un filtre d’écriture de fichier écrit des données dans un fichier.</span><span class="sxs-lookup"><span data-stu-id="57ed8-133">For example, a video renderer draws video frames on the display; an audio renderer sends audio data to the sound card; and a file-writer filter writes data to a file.</span></span>
-   <span data-ttu-id="57ed8-134">Un filtre *Splitter* fractionne un flux d’entrée en deux sorties ou plus, en analysant généralement le flux d’entrée en cours de route.</span><span class="sxs-lookup"><span data-stu-id="57ed8-134">A *splitter* filter splits an input stream into two or more outputs, typically parsing the input stream along the way.</span></span> <span data-ttu-id="57ed8-135">Par exemple, le séparateur AVI analyse un flux d’octets dans des flux vidéo et audio distincts.</span><span class="sxs-lookup"><span data-stu-id="57ed8-135">For example, the AVI Splitter parses a byte stream into separate video and audio streams.</span></span>
-   <span data-ttu-id="57ed8-136">Un filtre *MUX* prend plusieurs entrées et les combine en un seul flux.</span><span class="sxs-lookup"><span data-stu-id="57ed8-136">A *mux* filter takes multiple inputs and combines them into a single stream.</span></span> <span data-ttu-id="57ed8-137">Par exemple, le multiplexeur de multiplexage (AVI) effectue l’opération inverse du séparateur AVI.</span><span class="sxs-lookup"><span data-stu-id="57ed8-137">For example, the AVI Mux performs the inverse operation of the AVI Splitter.</span></span> <span data-ttu-id="57ed8-138">Elle prend des flux audio et vidéo et produit un flux d’octets au format AVI.</span><span class="sxs-lookup"><span data-stu-id="57ed8-138">It takes audio and video streams and produces an AVI-formatted byte stream.</span></span>

<span data-ttu-id="57ed8-139">Les différences entre ces catégories ne sont pas absolues.</span><span class="sxs-lookup"><span data-stu-id="57ed8-139">The distinctions between these categories are not absolute.</span></span> <span data-ttu-id="57ed8-140">Par exemple, le filtre de lecteur ASF agit à la fois comme un filtre source et un filtre de séparateur.</span><span class="sxs-lookup"><span data-stu-id="57ed8-140">For example, the ASF Reader filter acts as both a source filter and a splitter filter.</span></span>

<span data-ttu-id="57ed8-141">Tous les filtres DirectShow exposent l’interface [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter) , et tous les codes confidentiels exposent l’interface [**IPIN**](/windows/desktop/api/Strmif/nn-strmif-ipin) .</span><span class="sxs-lookup"><span data-stu-id="57ed8-141">All DirectShow filters expose the [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter) interface, and all pins expose the [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin) interface.</span></span> <span data-ttu-id="57ed8-142">DirectShow définit également de nombreuses autres interfaces qui prennent en charge des fonctionnalités plus spécifiques.</span><span class="sxs-lookup"><span data-stu-id="57ed8-142">DirectShow also defines many other interfaces that support more specific functionality.</span></span>

## <a name="related-topics"></a><span data-ttu-id="57ed8-143">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="57ed8-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="57ed8-144">À propos du gestionnaire de graphique de filtre</span><span class="sxs-lookup"><span data-stu-id="57ed8-144">About the Filter Graph Manager</span></span>](about-the-filter-graph-manager.md)
</dt> <dt>

[<span data-ttu-id="57ed8-145">Data Flow dans le graphique de filtre</span><span class="sxs-lookup"><span data-stu-id="57ed8-145">Data Flow in the Filter Graph</span></span>](data-flow-in-the-filter-graph.md)
</dt> <dt>

[<span data-ttu-id="57ed8-146">Filtres DirectShow</span><span class="sxs-lookup"><span data-stu-id="57ed8-146">DirectShow Filters</span></span>](directshow-filters.md)
</dt> </dl>

 

 



