---
description: Configuration des broches de sortie demux
ms.assetid: c53f3fe6-5588-4faf-ba5c-6a6cf7e16f3a
title: Configuration des broches de sortie demux
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b56a24af3f49f26efe4ff6afad075a3cef61fcd1
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104109415"
---
# <a name="configuring-the-demux-output-pins"></a><span data-ttu-id="2184f-103">Configuration des broches de sortie demux</span><span class="sxs-lookup"><span data-stu-id="2184f-103">Configuring the Demux Output Pins</span></span>

<span data-ttu-id="2184f-104">Lorsque le demux MPEG-2 reçoit un paquet de données, il doit déterminer quelle broche de sortie doit analyser et remettre les données.</span><span class="sxs-lookup"><span data-stu-id="2184f-104">When the MPEG-2 demux receives a packet of data, it must determine which output pin should parse and deliver the data.</span></span> <span data-ttu-id="2184f-105">En mode de flux de programme, le demux mappe des ID de flux à des broches de sortie.</span><span class="sxs-lookup"><span data-stu-id="2184f-105">In program stream mode, the demux maps stream IDs to output pins.</span></span> <span data-ttu-id="2184f-106">En mode de flux de transport, il mappe les PID aux broches de sortie.</span><span class="sxs-lookup"><span data-stu-id="2184f-106">In transport stream mode, it maps PIDs to output pins.</span></span> <span data-ttu-id="2184f-107">Par exemple, en mode de flux de transport, si PID 0x31 est mappé à la broche 0, chaque paquet TS avec ce numéro PID est routé vers la broche de sortie 0.</span><span class="sxs-lookup"><span data-stu-id="2184f-107">For example, in transport stream mode, if PID 0x31 is mapped to pin 0, then every TS packet with that PID number is routed to output pin 0.</span></span> <span data-ttu-id="2184f-108">Si le demux reçoit un paquet dont l’ID de flux ou le PID n’est mappé à aucune broche de sortie, il ignore simplement le paquet.</span><span class="sxs-lookup"><span data-stu-id="2184f-108">If the demux receives a packet whose stream ID or PID is not mapped to any output pin, it simply discards the packet.</span></span>

<span data-ttu-id="2184f-109">En mode par extraction, le demux crée automatiquement des broches de sortie pour les flux audio et vidéo dans le fichier, et mappe les ID de flux aux broches.</span><span class="sxs-lookup"><span data-stu-id="2184f-109">In pull mode, the demux automatically creates output pins for the audio and video streams in the file, and maps the stream IDs to the pins.</span></span>

<span data-ttu-id="2184f-110">En mode push, les broches de sortie doivent être configurées par l’application ou par un autre filtre.</span><span class="sxs-lookup"><span data-stu-id="2184f-110">In push mode, the output pins must be configured by the application or by another filter.</span></span> <span data-ttu-id="2184f-111">Pour les sources de télévision numérique utilisant l’architecture de pilote de diffusion (BDA), le filtre de fournisseur de réseau fonctionne avec le filtre TIF pour configurer demux.</span><span class="sxs-lookup"><span data-stu-id="2184f-111">For digital television sources using the Broadcast Driver Architecture (BDA), the network provider filter works with the TIF filter to configure the demux.</span></span> <span data-ttu-id="2184f-112">L’application n’a rien à faire.</span><span class="sxs-lookup"><span data-stu-id="2184f-112">The application does not have to do anything.</span></span> <span data-ttu-id="2184f-113">Dans d’autres scénarios, l’application doit configurer les broches de sortie.</span><span class="sxs-lookup"><span data-stu-id="2184f-113">In other scenarios, the application must configure the output pins.</span></span>

<span data-ttu-id="2184f-114">Le demux démarre sans broches de sortie.</span><span class="sxs-lookup"><span data-stu-id="2184f-114">The demux starts with no output pins.</span></span> <span data-ttu-id="2184f-115">Pour créer une broche de sortie, appelez la méthode [**IMpeg2Demultiplexer :: CreateOutputPin**](/windows/desktop/api/Strmif/nf-strmif-impeg2demultiplexer-createoutputpin) sur le filtre.</span><span class="sxs-lookup"><span data-stu-id="2184f-115">To create an output pin, call the [**IMpeg2Demultiplexer::CreateOutputPin**](/windows/desktop/api/Strmif/nf-strmif-impeg2demultiplexer-createoutputpin) method on the filter.</span></span> <span data-ttu-id="2184f-116">Cette méthode prend un type de média et un nom de code confidentiel, et retourne un pointeur **IPIN** .</span><span class="sxs-lookup"><span data-stu-id="2184f-116">This method takes a media type and a pin name, and returns an **IPin** pointer.</span></span> <span data-ttu-id="2184f-117">Le type de média est utilisé lorsque le code confidentiel se connecte à un autre filtre, en général un décodeur. un exemple est donné à la section [utilisation de demux avec des flux élémentaires](using-the-demux-with-elementary-streams.md).</span><span class="sxs-lookup"><span data-stu-id="2184f-117">The media type is used when the pin connects to another filter, typically a decoder—an example is given the section [Using the Demux with Elementary Streams](using-the-demux-with-elementary-streams.md).</span></span> <span data-ttu-id="2184f-118">Le nom du code confidentiel peut être tout ce que vous aimez, sauf que les noms de code confidentiel en double ne sont pas autorisés.</span><span class="sxs-lookup"><span data-stu-id="2184f-118">The pin name can be anything you like, except that duplicate pin names are not allowed.</span></span>

<span data-ttu-id="2184f-119">Ensuite, attribuez un ou plusieurs ID de flux ou PID à la nouvelle broche de sortie.</span><span class="sxs-lookup"><span data-stu-id="2184f-119">Next, assign one or more stream IDs or PIDs to the new output pin.</span></span> <span data-ttu-id="2184f-120">Pour les flux de programme, interrogez le code PIN pour **IMPEG2StreamIdMap** et appelez [**IMPEG2StreamIdMap :: MapStreamId**](/windows/desktop/api/Strmif/nf-strmif-impeg2streamidmap-mapstreamid).</span><span class="sxs-lookup"><span data-stu-id="2184f-120">For program streams, query the pin for **IMPEG2StreamIdMap** and call [**IMPEG2StreamIdMap::MapStreamId**](/windows/desktop/api/Strmif/nf-strmif-impeg2streamidmap-mapstreamid).</span></span> <span data-ttu-id="2184f-121">Pour les flux de transport, interrogez le code PIN pour **IMPEG2PIDMap** et appelez [**IMPEG2PIDMap :: MapPID**](/previous-versions/windows/desktop/api/Bdaiface/nf-bdaiface-impeg2pidmap-mappid).</span><span class="sxs-lookup"><span data-stu-id="2184f-121">For transport streams, query the pin for **IMPEG2PIDMap** and call [**IMPEG2PIDMap::MapPID**](/previous-versions/windows/desktop/api/Bdaiface/nf-bdaiface-impeg2pidmap-mappid).</span></span>

<span data-ttu-id="2184f-122">Le demux peut analyser des paquets TS de plusieurs façons.</span><span class="sxs-lookup"><span data-stu-id="2184f-122">There are several ways that the demux can parse TS packets.</span></span> <span data-ttu-id="2184f-123">Pour chaque broche de sortie, la méthode d’analyse est déterminée par le paramètre *MediaSampleContent* de la méthode **MapPID** .</span><span class="sxs-lookup"><span data-stu-id="2184f-123">For each output pin, the parsing method is determined by the *MediaSampleContent* parameter to the **MapPID** method.</span></span>



| <span data-ttu-id="2184f-124">Valeur</span><span class="sxs-lookup"><span data-stu-id="2184f-124">Value</span></span>                     | <span data-ttu-id="2184f-125">Description</span><span class="sxs-lookup"><span data-stu-id="2184f-125">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="2184f-126">\_flux élémentaire du média \_</span><span class="sxs-lookup"><span data-stu-id="2184f-126">MEDIA\_ELEMENTARY\_STREAM</span></span> | <span data-ttu-id="2184f-127">Le filtre remet les charges utiles PES.</span><span class="sxs-lookup"><span data-stu-id="2184f-127">The filter delivers PES payloads.</span></span> <span data-ttu-id="2184f-128">Dans ce mode, le filtre depacketizes les paquets PES, de sorte que le filtre en aval reçoit le flux ES octets, sans les en-têtes de paquets PES.</span><span class="sxs-lookup"><span data-stu-id="2184f-128">In this mode, the filter depacketizes the PES packets, so the downstream filter receives the ES byte stream, without the PES packet headers.</span></span> <span data-ttu-id="2184f-129">(Flux audio et vidéo uniquement.)</span><span class="sxs-lookup"><span data-stu-id="2184f-129">(Audio and video streams only.)</span></span>                                                                                                                                                     |
| <span data-ttu-id="2184f-130">MEDIA \_ MPEG2 \_ psi</span><span class="sxs-lookup"><span data-stu-id="2184f-130">MEDIA\_MPEG2\_PSI</span></span>         | <span data-ttu-id="2184f-131">Le filtre fournit des sections PSI complètes, telles que les tables PAT, les tables VPM, les tables CAT, etc.</span><span class="sxs-lookup"><span data-stu-id="2184f-131">The filter delivers complete PSI sections, such as PAT tables, PMT tables, CAT tables, and so forth.</span></span>                                                                                                                                                                                                                                                               |
| <span data-ttu-id="2184f-132">\_charge utile de transport multimédia \_</span><span class="sxs-lookup"><span data-stu-id="2184f-132">MEDIA\_TRANSPORT\_PAYLOAD</span></span> | <span data-ttu-id="2184f-133">Le filtre extrait les charges utiles des paquets TS et les remet sans analyse supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="2184f-133">The filter extracts the payloads from the TS packets and delivers them without further parsing.</span></span> <span data-ttu-id="2184f-134">Pour les flux élémentaires, cela signifie que le demux fournira des paquets PES complets, y compris les en-têtes de paquets PES.</span><span class="sxs-lookup"><span data-stu-id="2184f-134">For elementary streams, this means the demux will deliver entire PES packets, including the PES packet headers.</span></span>                                                                                                                                                    |
| <span data-ttu-id="2184f-135">\_paquet de transport multimédia \_</span><span class="sxs-lookup"><span data-stu-id="2184f-135">MEDIA\_TRANSPORT\_PACKET</span></span>  | <span data-ttu-id="2184f-136">Le filtre fournit des paquets TS complets.</span><span class="sxs-lookup"><span data-stu-id="2184f-136">The filter delivers entire TS packets.</span></span> <span data-ttu-id="2184f-137">Le demux route les paquets TS en fonction de leurs PID, mais n’examine pas et ne traite pas les paquets.</span><span class="sxs-lookup"><span data-stu-id="2184f-137">The demux routes the TS packets according to their PIDs, but does not otherwise examine or process the packets.</span></span> <span data-ttu-id="2184f-138">Les paquets comportant des erreurs ne sont pas filtrés. Le demux ne remultiplexe pas les paquets, et le flux de sortie obtenu n’est pas un flux de transport MPEG-2 conforme.</span><span class="sxs-lookup"><span data-stu-id="2184f-138">Packets with errors are not filtered out. The demux does not re-multiplex the packets, and the resulting output stream is not a compliant MPEG-2 transport stream.</span></span> <span data-ttu-id="2184f-139">Ce mode est appelé mode *passe* .</span><span class="sxs-lookup"><span data-stu-id="2184f-139">This mode is called *pass through* mode.</span></span> |



 

<span data-ttu-id="2184f-140">Pour les flux de programme, le demux fournit toujours des charges utiles PES.</span><span class="sxs-lookup"><span data-stu-id="2184f-140">For program streams, the demux always delivers PES payloads.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2184f-141">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="2184f-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2184f-142">Utilisation du démultiplexeur MPEG-2</span><span class="sxs-lookup"><span data-stu-id="2184f-142">Using the MPEG-2 Demultiplexer</span></span>](using-the-mpeg-2-demultiplexer.md)
</dt> </dl>

 

 



