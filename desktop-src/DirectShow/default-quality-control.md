---
description: Contrôle qualité par défaut
ms.assetid: 91c4b8cf-3d24-4a11-b19c-b0297734e52b
title: Contrôle qualité par défaut
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 864cd187df71c56441edcfd00fcd6785d96afe84
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104033377"
---
# <a name="default-quality-control"></a><span data-ttu-id="a8378-103">Contrôle qualité par défaut</span><span class="sxs-lookup"><span data-stu-id="a8378-103">Default Quality Control</span></span>

<span data-ttu-id="a8378-104">Les [classes de base DirectShow](directshow-base-classes.md) implémentent des comportements par défaut pour le contrôle de la qualité vidéo.</span><span class="sxs-lookup"><span data-stu-id="a8378-104">The [DirectShow Base Classes](directshow-base-classes.md) implement some default behaviors for video quality control.</span></span>

<span data-ttu-id="a8378-105">Les messages de qualité démarrent au niveau du convertisseur.</span><span class="sxs-lookup"><span data-stu-id="a8378-105">Quality messages start at the renderer.</span></span> <span data-ttu-id="a8378-106">La classe de base pour les convertisseurs vidéo est [**CBaseVideoRenderer**](cbasevideorenderer.md), qui a le comportement suivant :</span><span class="sxs-lookup"><span data-stu-id="a8378-106">The base class for video renderers is [**CBaseVideoRenderer**](cbasevideorenderer.md), which has the following behavior:</span></span>

1.  <span data-ttu-id="a8378-107">Quand le convertisseur vidéo reçoit un échantillon, il compare l’horodatage de l’échantillon avec le temps de référence actuel.</span><span class="sxs-lookup"><span data-stu-id="a8378-107">When the video renderer receives a sample, it compares the time stamp on the sample with the current reference time.</span></span>
2.  <span data-ttu-id="a8378-108">Le convertisseur vidéo génère un message de qualité.</span><span class="sxs-lookup"><span data-stu-id="a8378-108">The video renderer generates a quality message.</span></span> <span data-ttu-id="a8378-109">Dans la classe de base, la **proportion** de membres du message de qualité est limitée à une plage de 500 (50%) à 2000 (200%).</span><span class="sxs-lookup"><span data-stu-id="a8378-109">In the base class, the **Proportion** member of the quality message is limited to a range of 500 (50%) to 2000 (200%).</span></span> <span data-ttu-id="a8378-110">Les valeurs en dehors de cette plage peuvent entraîner des modifications de qualité brusques.</span><span class="sxs-lookup"><span data-stu-id="a8378-110">Values outside this range could result in abrupt quality changes.</span></span>
3.  <span data-ttu-id="a8378-111">Par défaut, le convertisseur vidéo envoie le message de qualité à la broche de sortie en amont (le code confidentiel connecté à sa broche d’entrée).</span><span class="sxs-lookup"><span data-stu-id="a8378-111">By default, the video renderer sends the quality message to the upstream output pin (the pin connected to its input pin).</span></span> <span data-ttu-id="a8378-112">Les applications peuvent substituer ce comportement en appelant la méthode **SetSink** .</span><span class="sxs-lookup"><span data-stu-id="a8378-112">Applications can override this behavior by calling the **SetSink** method.</span></span>

<span data-ttu-id="a8378-113">Ce qui se passe ensuite dépend du filtre en amont.</span><span class="sxs-lookup"><span data-stu-id="a8378-113">What happens next depends on the upstream filter.</span></span> <span data-ttu-id="a8378-114">En règle générale, il s’agit d’un filtre de transformation.</span><span class="sxs-lookup"><span data-stu-id="a8378-114">Typically, this is a transform filter.</span></span> <span data-ttu-id="a8378-115">La classe de base pour les filtres de transformation est [**CTransformFilter**](ctransformfilter.md), qui utilise les classes [**CTransformInputPin**](ctransforminputpin.md) et [**CTransformOutputPin**](ctransformoutputpin.md) pour implémenter les broches d’entrée et de sortie.</span><span class="sxs-lookup"><span data-stu-id="a8378-115">The base class for transform filters is [**CTransformFilter**](ctransformfilter.md), which uses the [**CTransformInputPin**](ctransforminputpin.md) and [**CTransformOutputPin**](ctransformoutputpin.md) classes to implement input and output pins.</span></span> <span data-ttu-id="a8378-116">Ensemble, ces classes ont le comportement suivant :</span><span class="sxs-lookup"><span data-stu-id="a8378-116">Together, these classes have the following behavior:</span></span>

1.  <span data-ttu-id="a8378-117">La méthode [**CTransformOutputPin :: Notify**](ctransformoutputpin-notify.md) appelle [**CTransformFilter :: AlterQuality**](ctransformfilter-alterquality.md), une méthode privée sur la classe de base de filtre.</span><span class="sxs-lookup"><span data-stu-id="a8378-117">The [**CTransformOutputPin::Notify**](ctransformoutputpin-notify.md) method calls [**CTransformFilter::AlterQuality**](ctransformfilter-alterquality.md), a private method on the filter base class.</span></span>
2.  <span data-ttu-id="a8378-118">Les filtres dérivés peuvent remplacer **AlterQuality** pour gérer le message de qualité.</span><span class="sxs-lookup"><span data-stu-id="a8378-118">Derived filters can override **AlterQuality** to handle the quality message.</span></span> <span data-ttu-id="a8378-119">Par défaut, **AlterQuality** ignore le message de qualité.</span><span class="sxs-lookup"><span data-stu-id="a8378-119">By default, **AlterQuality** ignores the quality message.</span></span>
3.  <span data-ttu-id="a8378-120">Si **AlterQuality** ne gère pas le message de qualité, la broche de sortie appelle [**CBaseInputPin ::P assnotify**](cbaseinputpin-passnotify.md), une méthode privée sur la broche d’entrée du filtre.</span><span class="sxs-lookup"><span data-stu-id="a8378-120">If **AlterQuality** does not handle the quality message, the output pin calls [**CBaseInputPin::PassNotify**](cbaseinputpin-passnotify.md), a private method on the filter's input pin.</span></span>
4.  <span data-ttu-id="a8378-121">**PassNotify** transmet le message de qualité à l’emplacement approprié (la broche de sortie en amont suivante ou un gestionnaire de qualité personnalisé).</span><span class="sxs-lookup"><span data-stu-id="a8378-121">**PassNotify** passes the quality message to the appropriate place—the next upstream output pin, or a custom quality manager.</span></span>

<span data-ttu-id="a8378-122">En supposant qu’aucun filtre de transformation ne gère le message de qualité, le message finit par atteindre la broche de sortie sur le filtre source.</span><span class="sxs-lookup"><span data-stu-id="a8378-122">Assuming that no transform filter handles the quality message, the message eventually reaches the output pin on the source filter.</span></span> <span data-ttu-id="a8378-123">Dans les classes de base, [**CBasePin :: Notify**](cbasepin-notify.md) retourne E \_ NOTIMPL.</span><span class="sxs-lookup"><span data-stu-id="a8378-123">In the base classes, [**CBasePin::Notify**](cbasepin-notify.md) returns E\_NOTIMPL.</span></span> <span data-ttu-id="a8378-124">La façon dont un filtre source particulier gère les messages de qualité dépend de la nature de la source.</span><span class="sxs-lookup"><span data-stu-id="a8378-124">How a particular source filter handles quality messages depends on the nature of the source.</span></span> <span data-ttu-id="a8378-125">Certaines sources, telles que Live Video capture, ne peuvent pas effectuer un contrôle de qualité significatif.</span><span class="sxs-lookup"><span data-stu-id="a8378-125">Some sources, such as live video capture, cannot perform meaningful quality control.</span></span> <span data-ttu-id="a8378-126">D’autres sources peuvent ajuster la vitesse à laquelle elles fournissent des exemples.</span><span class="sxs-lookup"><span data-stu-id="a8378-126">Other sources can adjust the rate at which they deliver samples.</span></span>

<span data-ttu-id="a8378-127">Le diagramme suivant illustre le comportement par défaut.</span><span class="sxs-lookup"><span data-stu-id="a8378-127">The following diagram illustrates the default behavior.</span></span>

![contrôle de qualité dans les classes de base](images/quality-control.png)

<span data-ttu-id="a8378-129">Le convertisseur vidéo de base implémente **IQualityControl :: Notify**, ce qui signifie que vous pouvez passer des messages de qualité au convertisseur lui-même.</span><span class="sxs-lookup"><span data-stu-id="a8378-129">The base video renderer implements **IQualityControl::Notify**, which means you can pass quality messages to the renderer itself.</span></span> <span data-ttu-id="a8378-130">Si vous définissez le membre **proportion** sur une valeur inférieure à 1000, le convertisseur vidéo insère un délai d’attente entre chaque frame qu’il restitue, ce qui ralentit le convertisseur.</span><span class="sxs-lookup"><span data-stu-id="a8378-130">If you set the **Proportion** member to a value less than 1000, the video renderer inserts a wait period between each frame that it renders, in effect slowing down the renderer.</span></span> <span data-ttu-id="a8378-131">(Vous pouvez le faire pour réduire l’utilisation du système, par exemple). Pour plus d’informations, consultez [**CBaseVideoRenderer :: ThrottleWait**](cbasevideorenderer-throttlewait.md).</span><span class="sxs-lookup"><span data-stu-id="a8378-131">(You might do this to reduce system usage, for example.) For more information, see [**CBaseVideoRenderer::ThrottleWait**](cbasevideorenderer-throttlewait.md).</span></span> <span data-ttu-id="a8378-132">La définition du membre de **proportion** sur une valeur supérieure à 1000 n’a aucun effet.</span><span class="sxs-lookup"><span data-stu-id="a8378-132">Setting the **Proportion** member to a value greater than 1000 has no effect.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a8378-133">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="a8378-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a8378-134">Gestion du contrôle de la qualité</span><span class="sxs-lookup"><span data-stu-id="a8378-134">Quality-Control Management</span></span>](quality-control-management.md)
</dt> </dl>

 

 



