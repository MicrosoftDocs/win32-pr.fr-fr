---
description: Pilote MSDV
ms.assetid: 146ca753-fe41-49d3-8b1c-077e10a28192
title: Pilote MSDV
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6b7c1bda24980abe84a11613126476ccfe35380d
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104385556"
---
# <a name="msdv-driver"></a><span data-ttu-id="719f0-103">Pilote MSDV</span><span class="sxs-lookup"><span data-stu-id="719f0-103">MSDV Driver</span></span>

<span data-ttu-id="719f0-104">MSDV est le pilote WDM (Microsoft Windows Driver Model) pour les caméscopes DV.</span><span class="sxs-lookup"><span data-stu-id="719f0-104">MSDV is the Microsoft Windows Driver Model (WDM) driver for DV camcorders.</span></span> <span data-ttu-id="719f0-105">Le pilote apparaît comme un filtre DirectShow lorsque l’appareil est branché.</span><span class="sxs-lookup"><span data-stu-id="719f0-105">The driver appears as a DirectShow filter when the device is plugged in.</span></span> <span data-ttu-id="719f0-106">Elle est énumérée dans deux catégories de filtre :</span><span class="sxs-lookup"><span data-stu-id="719f0-106">It is enumerated in two filter categories:</span></span>

-   <span data-ttu-id="719f0-107">CLSID \_ VideoInputDeviceCategory ("Video capture sources")</span><span class="sxs-lookup"><span data-stu-id="719f0-107">CLSID\_VideoInputDeviceCategory ("Video Capture Sources")</span></span>
-   <span data-ttu-id="719f0-108">AM \_ KSCATEGORY \_ Render (« périphériques de rendu de streaming WDM »)</span><span class="sxs-lookup"><span data-stu-id="719f0-108">AM\_KSCATEGORY\_RENDER ("WDM Streaming Rendering Devices")</span></span>

<span data-ttu-id="719f0-109">Le nom convivial du filtre est `Microsoft DV Camera and VCR` , ou un équivalent localisé.</span><span class="sxs-lookup"><span data-stu-id="719f0-109">The filter's friendly name is `Microsoft DV Camera and VCR`, or a localized equivalent.</span></span> <span data-ttu-id="719f0-110">Dans certains appareils, la propriété **Description** contient une description du modèle spécifique, qui peut être utilisée à la place du nom convivial générique.</span><span class="sxs-lookup"><span data-stu-id="719f0-110">In some devices, the **Description** property contains a description of the specific model, which can be used instead of the generic friendly name.</span></span> <span data-ttu-id="719f0-111">Pour plus d’informations, consultez [sélection d’un périphérique de capture](selecting-a-capture-device.md).</span><span class="sxs-lookup"><span data-stu-id="719f0-111">For more information, see [Selecting a Capture Device](selecting-a-capture-device.md).</span></span>

<span data-ttu-id="719f0-112">MSDV a deux broches de sortie.</span><span class="sxs-lookup"><span data-stu-id="719f0-112">MSDV has two output pins.</span></span> <span data-ttu-id="719f0-113">Un code confidentiel fournit des images DV qui contiennent des données audio et vidéo entrelacées.</span><span class="sxs-lookup"><span data-stu-id="719f0-113">One pin delivers DV frames that contain interleaved audio and video data.</span></span> <span data-ttu-id="719f0-114">L’autre code PIN fournit des images vidéo uniquement sans audio.</span><span class="sxs-lookup"><span data-stu-id="719f0-114">The other pin delivers video-only frames with no audio.</span></span> <span data-ttu-id="719f0-115">MSDV ne peut pas diffuser en continu à partir des deux broches en même temps, de sorte qu’une seule broche de sortie peut être connectée à la fois.</span><span class="sxs-lookup"><span data-stu-id="719f0-115">MSDV cannot stream from both pins at once, so only one output pin can be connected at a time.</span></span> <span data-ttu-id="719f0-116">Pour plus d’informations sur la capture de vidéos à partir d’un périphérique DV, consultez la section [capture DV dans un fichier](capture-dv-to-file.md).</span><span class="sxs-lookup"><span data-stu-id="719f0-116">For more information about capturing video from a DV device, see [Capture DV to File](capture-dv-to-file.md).</span></span>

![capture de données DV à partir de l’appareil](images/dv-filters4.png)

<span data-ttu-id="719f0-118">La plupart des caméscopes DV disposent d’une sous-unité d’enregistreur vidéo (magnétoscope), qui peut transmettre des données de la bande à l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="719f0-118">Most DV camcorders have a video tape recorder (VTR) subunit, which can transmit data from tape to the computer.</span></span> <span data-ttu-id="719f0-119">Pour l’application, la capture à partir d’une bande fonctionne de la même façon que la capture vidéo en direct.</span><span class="sxs-lookup"><span data-stu-id="719f0-119">For the application, capturing from tape works the same as capturing live video.</span></span> <span data-ttu-id="719f0-120">La seule différence est que l’application doit contrôler le transport de bande externe : Démarrer et arrêter la bande, rembobiner, etc.</span><span class="sxs-lookup"><span data-stu-id="719f0-120">The only difference is that the application must control the external tape transport — start and stop the tape, rewind, and so forth.</span></span> <span data-ttu-id="719f0-121">À cet effet, MSDV expose les interfaces [**IAMExtDevice**](/windows/desktop/api/Strmif/nn-strmif-iamextdevice), [**IAMExtTransport**](/windows/desktop/api/Strmif/nn-strmif-iamexttransport)et [**IAMTimecodeReader**](/windows/desktop/api/Strmif/nn-strmif-iamtimecodereader) .</span><span class="sxs-lookup"><span data-stu-id="719f0-121">For this purpose, MSDV exposes the [**IAMExtDevice**](/windows/desktop/api/Strmif/nn-strmif-iamextdevice), [**IAMExtTransport**](/windows/desktop/api/Strmif/nn-strmif-iamexttransport), and [**IAMTimecodeReader**](/windows/desktop/api/Strmif/nn-strmif-iamtimecodereader) interfaces.</span></span> <span data-ttu-id="719f0-122">Pour plus d’informations sur le contrôle d’un magnétoscope, consultez [contrôle d’un caméscope DV](controlling-a-dv-camcorder.md).</span><span class="sxs-lookup"><span data-stu-id="719f0-122">For more information about controlling a VTR, see [Controlling a DV Camcorder](controlling-a-dv-camcorder.md).</span></span>

<span data-ttu-id="719f0-123">Vous pouvez également transmettre le DV de l’ordinateur au caméscope.</span><span class="sxs-lookup"><span data-stu-id="719f0-123">You can also transmit DV from the computer to the camcorder.</span></span> <span data-ttu-id="719f0-124">La vidéo peut ensuite être affichée sur l’écran intégré du caméscope ou enregistrée sur bande.</span><span class="sxs-lookup"><span data-stu-id="719f0-124">The video can then be viewed in the camcorder's onboard screen, or recorded to tape.</span></span> <span data-ttu-id="719f0-125">Pour prendre en charge cette fonctionnalité, MSDV a une broche d’entrée qui peut recevoir un flux DV entrelacé.</span><span class="sxs-lookup"><span data-stu-id="719f0-125">To support this functionality, MSDV has an input pin that can receive an interleaved DV stream.</span></span> <span data-ttu-id="719f0-126">Lorsque la broche d’entrée est connectée, MSDV agit comme un filtre de convertisseur à la place d’un filtre de capture.</span><span class="sxs-lookup"><span data-stu-id="719f0-126">When the input pin is connected, MSDV acts as a renderer filter instead of a capture filter.</span></span> <span data-ttu-id="719f0-127">MSDV ne prend pas en charge la recherche dans ce mode.</span><span class="sxs-lookup"><span data-stu-id="719f0-127">MSDV does not support seeking in this mode.</span></span> <span data-ttu-id="719f0-128">Pour plus d’informations sur l’envoi de données DV à l’appareil, consultez [transmettre le fichier DV du fichier à la bande](transmit-dv-from-file-to-tape.md).</span><span class="sxs-lookup"><span data-stu-id="719f0-128">For more information about sending DV to the device, see [Transmit DV from File to Tape](transmit-dv-from-file-to-tape.md).</span></span>

![transmission de données DV à l’appareil](images/dv-filters5.png)

<span data-ttu-id="719f0-130">Notez que les broches d’entrée et de sortie ne peuvent pas être connectées en même temps, car l’appareil ne peut pas diffuser les deux sens en même temps.</span><span class="sxs-lookup"><span data-stu-id="719f0-130">Note that the input and output pins cannot be connected at the same time, because the device cannot stream in both directions at the same time.</span></span>

<span data-ttu-id="719f0-131">Dans de nombreux caméscopes, le basculement entre le mode VTR et le mode caméra provoque la désactivation de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="719f0-131">In many camcorders, switching between VTR mode and camera mode causes the device to switch off.</span></span> <span data-ttu-id="719f0-132">Par conséquent, DirectShow peut perdre l’appareil quand l’utilisateur change de mode.</span><span class="sxs-lookup"><span data-stu-id="719f0-132">Therefore, DirectShow may lose the device when the user switches modes.</span></span> <span data-ttu-id="719f0-133">Pour plus d’informations sur les événements de suppression d’appareils, consultez [notification de suppression d’appareil](device-removal-notification.md).</span><span class="sxs-lookup"><span data-stu-id="719f0-133">For information about device removal events, see [Device Removal Notification](device-removal-notification.md).</span></span>

## <a name="remarks"></a><span data-ttu-id="719f0-134">Notes</span><span class="sxs-lookup"><span data-stu-id="719f0-134">Remarks</span></span>

<span data-ttu-id="719f0-135">Pour plus d’informations sur les formats DV pris en charge par le pilote MSDV, consultez la page relative aux [**sous-types vidéo DV**](dv-video-subtypes.md).</span><span class="sxs-lookup"><span data-stu-id="719f0-135">For information about which DV formats are supported by the MSDV driver, see [**DV Video Subtypes**](dv-video-subtypes.md).</span></span>

<span data-ttu-id="719f0-136">Quelques conseils sur la création de graphiques de filtre avec MSDV :</span><span class="sxs-lookup"><span data-stu-id="719f0-136">Some tips on building filter graphs with MSDV:</span></span>

-   <span data-ttu-id="719f0-137">Vous ne pouvez pas utiliser [**IGraphBuilder :: Render**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render) pour restituer une broche de sortie sur MSDV.</span><span class="sxs-lookup"><span data-stu-id="719f0-137">You cannot use [**IGraphBuilder::Render**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render) to render an output pin on MSDV.</span></span> <span data-ttu-id="719f0-138">(Le gestionnaire de graphe de filtre tente de connecter la broche de sortie à la broche d’entrée de MSDV, qui échoue.) Utilisez plutôt [**IGraphBuilder :: Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) ou [**ICaptureGraphBuilder2 :: RenderStream**](/windows/desktop/api/Strmif/nf-strmif-icapturegraphbuilder2-renderstream).</span><span class="sxs-lookup"><span data-stu-id="719f0-138">(The Filter Graph Manager tries to connect the output pin to MSDV's input pin, which fails.) Instead, use [**IGraphBuilder::Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) or [**ICaptureGraphBuilder2::RenderStream**](/windows/desktop/api/Strmif/nf-strmif-icapturegraphbuilder2-renderstream).</span></span>
-   <span data-ttu-id="719f0-139">Lorsqu’un graphique de filtre contient MSDV, MSDV doit fournir l’horloge de référence pour le graphique.</span><span class="sxs-lookup"><span data-stu-id="719f0-139">When a filter graph contains MSDV, MSDV should supply the reference clock for the graph.</span></span> <span data-ttu-id="719f0-140">À partir de DirectX 8,0, le gestionnaire de graphique de filtre choisit automatiquement MSDV comme horloge de référence.</span><span class="sxs-lookup"><span data-stu-id="719f0-140">As of DirectX 8.0, the Filter Graph Manager will automatically choose MSDV as the reference clock.</span></span> <span data-ttu-id="719f0-141">Avec les versions antérieures, vous devez appeler la méthode [**IMediaFilter :: SetSyncSource**](/windows/desktop/api/Strmif/nf-strmif-imediafilter-setsyncsource) sur le gestionnaire de graphique de filtre.</span><span class="sxs-lookup"><span data-stu-id="719f0-141">With earlier versions, you should call the [**IMediaFilter::SetSyncSource**](/windows/desktop/api/Strmif/nf-strmif-imediafilter-setsyncsource) method on the Filter Graph Manager.</span></span> <span data-ttu-id="719f0-142">Pour plus d’informations sur les horloges, consultez [temps et horloges dans DirectShow](time-and-clocks-in-directshow.md).</span><span class="sxs-lookup"><span data-stu-id="719f0-142">For more information about clocks, see [Time and Clocks in DirectShow](time-and-clocks-in-directshow.md).</span></span>
-   <span data-ttu-id="719f0-143">En fonction de l’appareil, certaines méthodes de **IAMExtDevice**, **IAMExtTransport** et **IAMTimeCodeReader** peuvent retourner des codes d’erreur Windows au lieu de valeurs **HRESULT** .</span><span class="sxs-lookup"><span data-stu-id="719f0-143">Depending on the device, some methods in **IAMExtDevice**, **IAMExtTransport**, and **IAMTimeCodeReader** might return Windows error codes instead of **HRESULT** values.</span></span> <span data-ttu-id="719f0-144">Les codes d’erreur possibles sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="719f0-144">Possible error codes include the following.</span></span>

    | <span data-ttu-id="719f0-145">Code d'erreur</span><span class="sxs-lookup"><span data-stu-id="719f0-145">Error Code</span></span>              | <span data-ttu-id="719f0-146">Description</span><span class="sxs-lookup"><span data-stu-id="719f0-146">Description</span></span>                                                                                      |
    |-------------------------|--------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="719f0-147">\_délai d’erreur</span><span class="sxs-lookup"><span data-stu-id="719f0-147">ERROR\_TIMEOUT</span></span>          | <span data-ttu-id="719f0-148">Une commande d’appareil externe a dépassé le délai d’attente.</span><span class="sxs-lookup"><span data-stu-id="719f0-148">An external device command has timed out.</span></span>                                                        |
    | <span data-ttu-id="719f0-149">ERREUR \_ req \_ non \_ ACCEP</span><span class="sxs-lookup"><span data-stu-id="719f0-149">ERROR\_REQ\_NOT\_ACCEP</span></span>  | <span data-ttu-id="719f0-150">L’appareil n’a pas accepté cette commande de périphérique externe.</span><span class="sxs-lookup"><span data-stu-id="719f0-150">The device did not accept this external device command.</span></span>                                          |
    | <span data-ttu-id="719f0-151">ERREUR \_ non \_ prise en charge</span><span class="sxs-lookup"><span data-stu-id="719f0-151">ERROR\_NOT\_SUPPORTED</span></span>   | <span data-ttu-id="719f0-152">L’appareil ne prend pas en charge cette commande d’appareil externe.</span><span class="sxs-lookup"><span data-stu-id="719f0-152">The device does not support this external device command.</span></span>                                        |
    | <span data-ttu-id="719f0-153">demande d’erreur \_ \_ abandonnée</span><span class="sxs-lookup"><span data-stu-id="719f0-153">ERROR\_REQUEST\_ABORTED</span></span> | <span data-ttu-id="719f0-154">Une commande d’appareil externe a été abandonnée.</span><span class="sxs-lookup"><span data-stu-id="719f0-154">An external device command was aborted.</span></span> <span data-ttu-id="719f0-155">L’appareil a peut-être été supprimé ou la réinitialisation du bus s’est produite.</span><span class="sxs-lookup"><span data-stu-id="719f0-155">Possibly the device was removed or a bus reset occurred.</span></span> |

    

     

### <a name="device-information"></a><span data-ttu-id="719f0-156">Informations sur l'appareil</span><span class="sxs-lookup"><span data-stu-id="719f0-156">Device Information</span></span>

<span data-ttu-id="719f0-157">Dans Windows Millennium Edition et Windows XP, le moniker de l’appareil du filtre DV prend en charge une propriété **Description** en plus de la propriété **FriendlyName** .</span><span class="sxs-lookup"><span data-stu-id="719f0-157">In Windows Millennium Edition and Windows XP, the DV filter's device moniker supports a **Description** property in addition to the **FriendlyName** property.</span></span> <span data-ttu-id="719f0-158">Cette propriété renvoie une description de l’appareil, extraite du fichier INF, qui contient généralement le nom de la personnalisation de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="719f0-158">This property returns a description of the device, taken from the INF file, which usually contains the brand name of the device.</span></span> <span data-ttu-id="719f0-159">Toutefois, cette propriété n’est pas prise en charge pour tous les modèles d’appareil.</span><span class="sxs-lookup"><span data-stu-id="719f0-159">This property is not supported for all device models, however.</span></span>

<span data-ttu-id="719f0-160">Pour plus d’informations sur les monikers de périphérique, consultez [utilisation de l’énumérateur de périphérique système](using-the-system-device-enumerator.md).</span><span class="sxs-lookup"><span data-stu-id="719f0-160">For more information about device monikers, see [Using the System Device Enumerator](using-the-system-device-enumerator.md).</span></span>

### <a name="clock-times"></a><span data-ttu-id="719f0-161">Heures d’horloge</span><span class="sxs-lookup"><span data-stu-id="719f0-161">Clock Times</span></span>

<span data-ttu-id="719f0-162">Le pilote MSDV utilise l’horloge 1394 Bus contenue dans les paquets de données 1394 pour dériver l’horloge.</span><span class="sxs-lookup"><span data-stu-id="719f0-162">The MSDV driver uses the 1394 bus clock that is contained in the 1394 data packets to derive the clock.</span></span> <span data-ttu-id="719f0-163">Il utilise ces valeurs pour horodater les exemples de média DV.</span><span class="sxs-lookup"><span data-stu-id="719f0-163">It uses these values to time stamp the DV media samples.</span></span> <span data-ttu-id="719f0-164">Étant donné que cette horloge source n’est pas l’horloge système de l’ordinateur, les heures finissent par se dépasser de l’horloge système de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="719f0-164">Because this source clock is not the computer system clock, the times will eventually drift from the computer system clock.</span></span> <span data-ttu-id="719f0-165">Comme indiqué ci-dessus, toutefois, par défaut, le gestionnaire de graphique de filtre sélectionne MSDV comme horloge de référence du graphique.</span><span class="sxs-lookup"><span data-stu-id="719f0-165">As noted above, however, by default the Filter Graph Manager will select MSDV as the graph reference clock.</span></span>

<span data-ttu-id="719f0-166">L’interface [**IAMDroppedFrames**](/windows/desktop/api/Strmif/nn-strmif-iamdroppedframes) signale la mesure actuelle du pilote des frames supprimés. Cette valeur peut ne pas être parfaitement synchronisée avec le nombre réel d’images supprimées à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="719f0-166">The [**IAMDroppedFrames**](/windows/desktop/api/Strmif/nn-strmif-iamdroppedframes) interface reports the driver's current measure of dropped frames; this value may not be perfectly synchronized with the actual number of dropped frames at a given time.</span></span> <span data-ttu-id="719f0-167">Si des frames sont supprimés, cela indique que le système n’est pas équilibré (la production des données dépasse la consommation des données).</span><span class="sxs-lookup"><span data-stu-id="719f0-167">If frames are dropped, it indicates that the system is not balanced (data production exceeds data consumption).</span></span> <span data-ttu-id="719f0-168">Par exemple, le disque dur de l’utilisateur peut ne pas être suffisamment rapide pour prendre en charge les taux de capture DV.</span><span class="sxs-lookup"><span data-stu-id="719f0-168">For example, the user's hard disk may not be fast enough to support DV capture rates.</span></span>

## <a name="related-topics"></a><span data-ttu-id="719f0-169">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="719f0-169">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="719f0-170">Filtres DirectShow</span><span class="sxs-lookup"><span data-stu-id="719f0-170">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="719f0-171">Vidéo numérique dans DirectShow</span><span class="sxs-lookup"><span data-stu-id="719f0-171">Digital Video in DirectShow</span></span>](digital-video-in-directshow.md)
</dt> </dl>

 

 



