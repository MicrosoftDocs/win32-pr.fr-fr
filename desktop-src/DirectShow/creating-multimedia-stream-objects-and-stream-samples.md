---
description: Création d’objets de flux multimédia et d’exemples de flux
ms.assetid: 1aecdd39-f1b3-490b-b092-86d51439be02
title: Création d’objets de flux multimédia et d’exemples de flux
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 49cdc30129591bf1c67609ad6d15e8fd8286ae23
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/03/2021
ms.locfileid: "103953414"
---
# <a name="creating-multimedia-stream-objects-and-stream-samples"></a><span data-ttu-id="1a5f0-103">Création d’objets de flux multimédia et d’exemples de flux</span><span class="sxs-lookup"><span data-stu-id="1a5f0-103">Creating Multimedia Stream Objects and Stream Samples</span></span>

> [!Note]  
> <span data-ttu-id="1a5f0-104">Ces API sont déconseillées.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-104">These APIs are deprecated.</span></span> <span data-ttu-id="1a5f0-105">Les applications doivent utiliser le filtre d' [**accrochage d’exemple**](sample-grabber-filter.md) ou implémenter un filtre personnalisé pour obtenir des données à partir d’un graphique de filtre DirectShow.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-105">Applications should use the [**Sample Grabber**](sample-grabber-filter.md) filter or implement a custom filter to get data from a DirectShow filter graph.</span></span>

 

<span data-ttu-id="1a5f0-106">Les objets qui prennent en charge l’interface [**IMultiMediaStream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imultimediastream) sont les conteneurs de base pour les flux de données multimédias.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-106">Objects that support the [**IMultiMediaStream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imultimediastream) interface are the basic containers for multimedia data streams.</span></span> <span data-ttu-id="1a5f0-107">L’interface **IMultiMediaStream** comprend des méthodes qui énumèrent les flux de données de l’objet ; ces flux sont généralement des données audio et vidéo, mais peuvent inclure des données de n’importe quel format, telles que des sous-titres, du texte brut ou du code temporel SMPTE.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-107">The **IMultiMediaStream** interface includes methods that enumerate the object's data streams; these streams are typically video and audio data, but can include data of any format, such as closed-captioning, plain text, or SMPTE timecode.</span></span> <span data-ttu-id="1a5f0-108">L’interface **IMultiMediaStream** est un conteneur générique ; Toutefois, les développeurs peuvent créer d’autres versions de l’interface qui prennent en charge des formats de données spécifiques.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-108">The **IMultiMediaStream** interface is a generic container, however; developers can create other versions of the interface that support specific data formats.</span></span> <span data-ttu-id="1a5f0-109">Les objets qui implémentent l’interface [**IAMMultiMediaStream**](/previous-versions/windows/desktop/api/amstream/nn-amstream-iammultimediastream) peuvent, par exemple, énumérer et contrôler des flux de tout format de données DirectShow.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-109">Objects that implement the [**IAMMultiMediaStream**](/previous-versions/windows/desktop/api/amstream/nn-amstream-iammultimediastream) interface, for example, can enumerate and control streams of any DirectShow data format.</span></span> <span data-ttu-id="1a5f0-110">Étant donné que les flux de données individuels sont spécifiques au format, ils prennent en charge au moins deux interfaces différentes : un générique et un spécifique aux données.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-110">Because individual data streams are format specific, they support at least two different interfaces: one generic and one data-specific.</span></span> <span data-ttu-id="1a5f0-111">Chaque flux prend en charge l’interface [**IMediaStream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imediastream) , qui fournit des méthodes pour récupérer son format et un pointeur vers le flux lui-même.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-111">Every stream supports the [**IMediaStream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imediastream) interface, which provides methods to retrieve its format and a pointer to the stream itself.</span></span> <span data-ttu-id="1a5f0-112">L’interface [**IDirectDrawMediaStream**](/previous-versions/windows/desktop/api/ddstream/nn-ddstream-idirectdrawmediastream) , en revanche, a des méthodes qui traitent spécifiquement du rendu des données vidéo.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-112">The [**IDirectDrawMediaStream**](/previous-versions/windows/desktop/api/ddstream/nn-ddstream-idirectdrawmediastream) interface, on the other hand, has methods that deal specifically with rendering video data.</span></span> <span data-ttu-id="1a5f0-113">Toute interface dérivée de **IMultiMediaStream** prend également en charge la création d’exemples de flux, les unités de base des données de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-113">Any interface derived from **IMultiMediaStream** also supports the creation of stream samples, the basic units of streaming data.</span></span>

<span data-ttu-id="1a5f0-114">Un exemple multimédia est une référence à un objet contenant les données multimédias.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-114">A multimedia sample is a reference to an object containing the media data.</span></span> <span data-ttu-id="1a5f0-115">Pour une image vidéo, il s’agit d’une surface DirectDraw.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-115">For a video image, this is a DirectDraw surface.</span></span> <span data-ttu-id="1a5f0-116">Le contenu exact de l’exemple varie selon le type de média (son, texte, etc.).</span><span class="sxs-lookup"><span data-stu-id="1a5f0-116">The sample's exact content varies, depending on the type of media (sound, text, and so on).</span></span> <span data-ttu-id="1a5f0-117">Étant donné qu’un exemple n’est qu’une référence à l’objet de données, un nombre quelconque d’exemples de flux peuvent faire référence au même objet.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-117">Because a sample is only a reference to the data object, any number of stream samples can refer to the same object.</span></span> <span data-ttu-id="1a5f0-118">L’interface [**IStreamSample**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-istreamsample) fournit des méthodes qui obtiennent et définissent les caractéristiques d’un exemple, telles que l’heure de début et d’arrêt, l’État et l’Association de flux.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-118">The [**IStreamSample**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-istreamsample) interface provides methods that get and set a sample's characteristics, such as its start and stop time, status, and stream association.</span></span> <span data-ttu-id="1a5f0-119">La méthode [**IStreamSample :: Update**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-istreamsample-update) actualise les données de l’exemple dans le cas de flux lisibles.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-119">The [**IStreamSample::Update**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-istreamsample-update) method refreshes the sample's data in the case of readable streams.</span></span> <span data-ttu-id="1a5f0-120">Pour les flux accessibles en écriture, les données de l’exemple sont écrites dans le flux.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-120">For writable streams, it will write the sample's data to the stream.</span></span> <span data-ttu-id="1a5f0-121">En règle générale, vous utilisez la méthode **Update** dans une boucle qui restitue, transfère ou stocke les données de streaming.</span><span class="sxs-lookup"><span data-stu-id="1a5f0-121">Typically, you use the **Update** method in a loop that renders, transfers, or stores streaming data.</span></span>

## <a name="related-topics"></a><span data-ttu-id="1a5f0-122">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="1a5f0-122">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1a5f0-123">À propos de l’architecture de diffusion multimédia en continu</span><span class="sxs-lookup"><span data-stu-id="1a5f0-123">About the Multimedia Streaming Architecture</span></span>](about-the-multimedia-streaming-architecture.md)
</dt> </dl>

 

 



