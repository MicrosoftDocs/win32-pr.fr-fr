---
description: Présentation des classes de base de filtre
ms.assetid: db6324d7-1914-44a8-a202-dff752b61c1a
title: Présentation des classes de base de filtre
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f44c104d8fe155a7c9f0edba72770a508c8ec43d
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104385508"
---
# <a name="introduction-to-the-filter-base-classes"></a><span data-ttu-id="aec1d-103">Présentation des classes de base de filtre</span><span class="sxs-lookup"><span data-stu-id="aec1d-103">Introduction to the Filter Base Classes</span></span>

<span data-ttu-id="aec1d-104">Cet article décrit la bibliothèque de classes de base Microsoft DirectShow.</span><span class="sxs-lookup"><span data-stu-id="aec1d-104">This article describes the Microsoft DirectShow base class library.</span></span> <span data-ttu-id="aec1d-105">Cette bibliothèque est destinée aux développeurs de filtres, mais les créateurs d’applications peuvent trouver des classes d’assistance et des utilitaires de débogage utiles.</span><span class="sxs-lookup"><span data-stu-id="aec1d-105">This library is intended for filter developers, but application writers might find some of the helper classes and debugging utilities useful.</span></span> <span data-ttu-id="aec1d-106">Toutefois, la bibliothèque de classes de base n’est pas requise pour la programmation DirectShow.</span><span class="sxs-lookup"><span data-stu-id="aec1d-106">The base class library is not required for DirectShow programming, however.</span></span>

<span data-ttu-id="aec1d-107">Les sections suivantes résument les classes de base les plus importantes dans la bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="aec1d-107">The following sections summarize the most important base classes in the library.</span></span>

<span data-ttu-id="aec1d-108">**Classes d’objets COM**</span><span class="sxs-lookup"><span data-stu-id="aec1d-108">**COM Object Classes**</span></span>

<span data-ttu-id="aec1d-109">Les classes suivantes prennent en charge la création d’objets COM :</span><span class="sxs-lookup"><span data-stu-id="aec1d-109">The following classes support the creation of COM objects:</span></span>



| <span data-ttu-id="aec1d-110">Classe</span><span class="sxs-lookup"><span data-stu-id="aec1d-110">Class</span></span>                              | <span data-ttu-id="aec1d-111">Description</span><span class="sxs-lookup"><span data-stu-id="aec1d-111">Description</span></span>                            |
|------------------------------------|----------------------------------------|
| [<span data-ttu-id="aec1d-112">**CBaseObject**</span><span class="sxs-lookup"><span data-stu-id="aec1d-112">**CBaseObject**</span></span>](cbaseobject.md) | <span data-ttu-id="aec1d-113">Classe d’objet de base.</span><span class="sxs-lookup"><span data-stu-id="aec1d-113">Base object class.</span></span>                     |
| [<span data-ttu-id="aec1d-114">**CUnknown**</span><span class="sxs-lookup"><span data-stu-id="aec1d-114">**CUnknown**</span></span>](cunknown.md)       | <span data-ttu-id="aec1d-115">Implémente l’interface **IUnknown** .</span><span class="sxs-lookup"><span data-stu-id="aec1d-115">Implements the **IUnknown** interface.</span></span> |



 

<span data-ttu-id="aec1d-116">La plupart des classes DirectShow dérivent de **CBaseObject**.</span><span class="sxs-lookup"><span data-stu-id="aec1d-116">Most of the DirectShow classes derive from **CBaseObject**.</span></span> <span data-ttu-id="aec1d-117">Cette classe fournit une assistance de débogage en conservant le décompte de tous les objets actifs dans la DLL au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="aec1d-117">This class provides debugging assistance by keeping a count of all the active objects in the DLL at run time.</span></span> <span data-ttu-id="aec1d-118">Dans les versions Debug, la DLL déclare si elle est déchargée alors que le nombre d’objets est supérieur à zéro.</span><span class="sxs-lookup"><span data-stu-id="aec1d-118">In debug builds, the DLL asserts if it is unloaded while the object count is greater than zero.</span></span> <span data-ttu-id="aec1d-119">Cela facilite le suivi des fuites provoquées par des problèmes de comptage des références.</span><span class="sxs-lookup"><span data-stu-id="aec1d-119">This makes it easier to track down leaks caused by reference-counting problems.</span></span>

<span data-ttu-id="aec1d-120">Toutes les classes de base qui prennent en charge les interfaces COM dérivent de **CUnknown**, qui hérite de **CBaseObject**.</span><span class="sxs-lookup"><span data-stu-id="aec1d-120">All of the base classes that support COM interfaces derive from **CUnknown**, which inherits **CBaseObject**.</span></span> <span data-ttu-id="aec1d-121">La classe **CUnknown** prend en charge le décompte de références, **QueryInterface** et agrégation.</span><span class="sxs-lookup"><span data-stu-id="aec1d-121">The **CUnknown** class supports reference counting, **QueryInterface**, and aggregration.</span></span> <span data-ttu-id="aec1d-122">Pour plus d’informations, consultez [comment implémenter IUnknown](how-to-implement-iunknown.md).</span><span class="sxs-lookup"><span data-stu-id="aec1d-122">For more information, see [How to Implement IUnknown](how-to-implement-iunknown.md).</span></span>

<span data-ttu-id="aec1d-123">**Filtrer et épingler des classes**</span><span class="sxs-lookup"><span data-stu-id="aec1d-123">**Filter and Pin Classes**</span></span>

<span data-ttu-id="aec1d-124">Les classes suivantes prennent en charge la création d’objets de filtre et d’épingle DirectShow :</span><span class="sxs-lookup"><span data-stu-id="aec1d-124">The following classes support the creation of DirectShow filter and pin objects:</span></span>



| <span data-ttu-id="aec1d-125">Classe</span><span class="sxs-lookup"><span data-stu-id="aec1d-125">Class</span></span>                                    | <span data-ttu-id="aec1d-126">Description</span><span class="sxs-lookup"><span data-stu-id="aec1d-126">Description</span></span>                                                                                                                                                     |
|------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="aec1d-127">**CBaseFilter**</span><span class="sxs-lookup"><span data-stu-id="aec1d-127">**CBaseFilter**</span></span>](cbasefilter.md)       | <span data-ttu-id="aec1d-128">Classe de base pour les filtres.</span><span class="sxs-lookup"><span data-stu-id="aec1d-128">Base class for filters.</span></span> <span data-ttu-id="aec1d-129">Implémente l’interface [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-129">Implements the [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter) interface.</span></span>                                                                            |
| [<span data-ttu-id="aec1d-130">**CBasePin**</span><span class="sxs-lookup"><span data-stu-id="aec1d-130">**CBasePin**</span></span>](cbasepin.md)             | <span data-ttu-id="aec1d-131">Classe de base pour les codes confidentiels.</span><span class="sxs-lookup"><span data-stu-id="aec1d-131">Base class for pins.</span></span> <span data-ttu-id="aec1d-132">Implémente les interfaces [**IPIN**](/windows/desktop/api/Strmif/nn-strmif-ipin) et [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-132">Implements the [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin) and [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol) interfaces.</span></span>                                             |
| [<span data-ttu-id="aec1d-133">**CBaseInputPin**</span><span class="sxs-lookup"><span data-stu-id="aec1d-133">**CBaseInputPin**</span></span>](cbaseinputpin.md)   | <span data-ttu-id="aec1d-134">Classe de base pour les broches d’entrée qui utilisent le transport de mémoire locale.</span><span class="sxs-lookup"><span data-stu-id="aec1d-134">Base class for input pins that use local memory transport.</span></span> <span data-ttu-id="aec1d-135">Implémente l’interface [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-135">Implements the [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin) interface.</span></span> <span data-ttu-id="aec1d-136">Cette classe dérive de **CBasePin**.</span><span class="sxs-lookup"><span data-stu-id="aec1d-136">This class derives from **CBasePin**.</span></span> |
| [<span data-ttu-id="aec1d-137">**CBaseOutputPin**</span><span class="sxs-lookup"><span data-stu-id="aec1d-137">**CBaseOutputPin**</span></span>](cbaseoutputpin.md) | <span data-ttu-id="aec1d-138">Classe de base pour les broches de sortie qui utilisent des connexions **IMemInputPin** .</span><span class="sxs-lookup"><span data-stu-id="aec1d-138">Base class for output pins that use **IMemInputPin** connections.</span></span> <span data-ttu-id="aec1d-139">Cette classe dérive de **CBasePin**.</span><span class="sxs-lookup"><span data-stu-id="aec1d-139">This class derives from **CBasePin**.</span></span>                                                         |



 

<span data-ttu-id="aec1d-140">Les classes suivantes sont utiles pour créer des types de filtres plus spécialisés :</span><span class="sxs-lookup"><span data-stu-id="aec1d-140">The following classes are useful for creating more specialized types of filters:</span></span>



| <span data-ttu-id="aec1d-141">Classe</span><span class="sxs-lookup"><span data-stu-id="aec1d-141">Class</span></span>                                                  | <span data-ttu-id="aec1d-142">Description</span><span class="sxs-lookup"><span data-stu-id="aec1d-142">Description</span></span>                                                                                                                                                                                                                                                                                               |
|--------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="aec1d-143">**CSource**</span><span class="sxs-lookup"><span data-stu-id="aec1d-143">**CSource**</span></span>](csource.md)                             | <span data-ttu-id="aec1d-144">Classe de base pour les filtres sources.</span><span class="sxs-lookup"><span data-stu-id="aec1d-144">Base class for source filters.</span></span> <span data-ttu-id="aec1d-145">Cette classe est conçue pour la création de sources push.</span><span class="sxs-lookup"><span data-stu-id="aec1d-145">This class is designed for creating push sources.</span></span> <span data-ttu-id="aec1d-146">Elle n’est pas adaptée aux sources d’extraction, telles que les lecteurs de fichiers.</span><span class="sxs-lookup"><span data-stu-id="aec1d-146">It is not suitable for pull sources, such as file readers.</span></span> <span data-ttu-id="aec1d-147">Pour créer des broches de sortie pour cette classe, utilisez la classe [**CSourceStream**](csourcestream.md) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-147">To create output pins for this class, use the [**CSourceStream**](csourcestream.md) class.</span></span>                                                                   |
| [<span data-ttu-id="aec1d-148">**CTransformFilter**</span><span class="sxs-lookup"><span data-stu-id="aec1d-148">**CTransformFilter**</span></span>](ctransformfilter.md)           | <span data-ttu-id="aec1d-149">Classe de base pour les filtres de transformation.</span><span class="sxs-lookup"><span data-stu-id="aec1d-149">Base class for transform filters.</span></span> <span data-ttu-id="aec1d-150">Cette classe effectue une copie sur les données.</span><span class="sxs-lookup"><span data-stu-id="aec1d-150">This class performs a copy on the data.</span></span> <span data-ttu-id="aec1d-151">Les codes confidentiels pour cette classe sont [**CTransformInputPin**](ctransforminputpin.md) et [**CTransformOutputPin**](ctransformoutputpin.md).</span><span class="sxs-lookup"><span data-stu-id="aec1d-151">The pins for this class are [**CTransformInputPin**](ctransforminputpin.md) and [**CTransformOutputPin**](ctransformoutputpin.md).</span></span>                                                                                            |
| [<span data-ttu-id="aec1d-152">**CTransInPlaceFilter**</span><span class="sxs-lookup"><span data-stu-id="aec1d-152">**CTransInPlaceFilter**</span></span>](ctransinplacefilter.md)     | <span data-ttu-id="aec1d-153">Classe de base pour les filtres de transformation qui ne copient pas de données.</span><span class="sxs-lookup"><span data-stu-id="aec1d-153">Base class for transform filters that do not copy data.</span></span> <span data-ttu-id="aec1d-154">Cette classe effectue le traitement des données directement sur les données d’entrée avant de la passer en aval.</span><span class="sxs-lookup"><span data-stu-id="aec1d-154">This class performs the data processing directly on the input data before passing it downstream.</span></span> <span data-ttu-id="aec1d-155">Les codes confidentiels pour cette classe sont [**CTransInPlaceInputPin**](ctransinplaceinputpin.md) et [**CTransInPlaceOutputPin**](ctransinplaceoutputpin.md).</span><span class="sxs-lookup"><span data-stu-id="aec1d-155">The pins for this class are [**CTransInPlaceInputPin**](ctransinplaceinputpin.md) and [**CTransInPlaceOutputPin**](ctransinplaceoutputpin.md).</span></span> |
| [<span data-ttu-id="aec1d-156">**CVideoTransformFilter**</span><span class="sxs-lookup"><span data-stu-id="aec1d-156">**CVideoTransformFilter**</span></span>](cvideotransformfilter.md) | <span data-ttu-id="aec1d-157">Classe de base pour les filtres de transformation vidéo.</span><span class="sxs-lookup"><span data-stu-id="aec1d-157">Base class for video transform filters.</span></span> <span data-ttu-id="aec1d-158">Cette classe dérive de **CTransformFilter** et ajoute la prise en charge du contrôle de qualité.</span><span class="sxs-lookup"><span data-stu-id="aec1d-158">This class derives from **CTransformFilter** and adds support for quality control.</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="aec1d-159">**CBaseRenderer**</span><span class="sxs-lookup"><span data-stu-id="aec1d-159">**CBaseRenderer**</span></span>](cbaserenderer.md)                 | <span data-ttu-id="aec1d-160">Classe de base pour les filtres de convertisseur.</span><span class="sxs-lookup"><span data-stu-id="aec1d-160">Base class for renderer filters.</span></span> <span data-ttu-id="aec1d-161">La broche d’entrée pour cette classe est [**CRendererInputPin**](crendererinputpin.md).</span><span class="sxs-lookup"><span data-stu-id="aec1d-161">The input pin for this class is [**CRendererInputPin**](crendererinputpin.md).</span></span>                                                                                                                                                                                          |
| [<span data-ttu-id="aec1d-162">**CBaseVideoRenderer**</span><span class="sxs-lookup"><span data-stu-id="aec1d-162">**CBaseVideoRenderer**</span></span>](cbasevideorenderer.md)       | <span data-ttu-id="aec1d-163">Classe de base pour les convertisseurs vidéo.</span><span class="sxs-lookup"><span data-stu-id="aec1d-163">Base class for video renderers.</span></span> <span data-ttu-id="aec1d-164">Cette classe dérive de **CBaseRenderer**.</span><span class="sxs-lookup"><span data-stu-id="aec1d-164">This class derives from **CBaseRenderer**.</span></span>                                                                                                                                                                                                                                |



 

<span data-ttu-id="aec1d-165">Pour utiliser ces classes, vous devez dériver votre propre classe et écrire du code pour prendre en charge les fonctionnalités spécifiques à votre filtre.</span><span class="sxs-lookup"><span data-stu-id="aec1d-165">To use these classes, you must derive your own class and write code to support the functionality that is specific to your filter.</span></span> <span data-ttu-id="aec1d-166">Plus la classe de base est spécialisée, moins vous aurez besoin d’écrire du code dans votre classe dérivée.</span><span class="sxs-lookup"><span data-stu-id="aec1d-166">The more specialized the base class, the less code you will need to write in your derived class.</span></span>

<span data-ttu-id="aec1d-167">**Objets d’assistance**</span><span class="sxs-lookup"><span data-stu-id="aec1d-167">**Helper Objects**</span></span>

<span data-ttu-id="aec1d-168">Les classes suivantes implémentent des objets d’assistance utilisés par les filtres et les codes confidentiels.</span><span class="sxs-lookup"><span data-stu-id="aec1d-168">The following classes implement helper objects that are used by filters and pins.</span></span> <span data-ttu-id="aec1d-169">La plupart de ces classes peuvent être utilisées sans dériver de nouvelles classes à partir de celles-ci :</span><span class="sxs-lookup"><span data-stu-id="aec1d-169">Most of these classes can be used without deriving new classes from them:</span></span>



| <span data-ttu-id="aec1d-170">Classe</span><span class="sxs-lookup"><span data-stu-id="aec1d-170">Class</span></span>                                              | <span data-ttu-id="aec1d-171">Description</span><span class="sxs-lookup"><span data-stu-id="aec1d-171">Description</span></span>                                                                                                                                                        |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="aec1d-172">**CPullPin**</span><span class="sxs-lookup"><span data-stu-id="aec1d-172">**CPullPin**</span></span>](cpullpin.md)                       | <span data-ttu-id="aec1d-173">Objet d’assistance pour les broches d’entrée sur les filtres de l’analyseur.</span><span class="sxs-lookup"><span data-stu-id="aec1d-173">Helper object for input pins on parser filters.</span></span> <span data-ttu-id="aec1d-174">Prend en charge les connexions [**IAsyncReader**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) avec des sources d’extraction.</span><span class="sxs-lookup"><span data-stu-id="aec1d-174">Supports [**IAsyncReader**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) connections with pull sources.</span></span>                                       |
| [<span data-ttu-id="aec1d-175">**COutputQueue**</span><span class="sxs-lookup"><span data-stu-id="aec1d-175">**COutputQueue**</span></span>](coutputqueue.md)               | <span data-ttu-id="aec1d-176">Objet d’assistance pour les codes confidentiels de sortie qui met en file d’attente des exemples à remettre sur un thread de travail.</span><span class="sxs-lookup"><span data-stu-id="aec1d-176">Helper object for output pins that queue samples for delivery on a worker thread.</span></span>                                                                                  |
| [<span data-ttu-id="aec1d-177">**CSourceSeeking**</span><span class="sxs-lookup"><span data-stu-id="aec1d-177">**CSourceSeeking**</span></span>](csourceseeking.md)           | <span data-ttu-id="aec1d-178">Objet d’aide pour l’implémentation de la recherche sur un filtre source avec exactement une broche de sortie.</span><span class="sxs-lookup"><span data-stu-id="aec1d-178">Help object for implementing seeking on a source filter with exactly one output pin.</span></span> <span data-ttu-id="aec1d-179">(Cette classe n’est pas conçue pour les filtres avec plusieurs codes confidentiels, tels que les analyseurs.)</span><span class="sxs-lookup"><span data-stu-id="aec1d-179">(This class is not designed for filters with multiple pins, such as parsers.)</span></span> |
| [<span data-ttu-id="aec1d-180">**CEnumPins**</span><span class="sxs-lookup"><span data-stu-id="aec1d-180">**CEnumPins**</span></span>](cenumpins.md)                     | <span data-ttu-id="aec1d-181">Objet énumérateur pour l’énumération des broches sur un filtre.</span><span class="sxs-lookup"><span data-stu-id="aec1d-181">Enumerator object for enumerating pins on a filter.</span></span> <span data-ttu-id="aec1d-182">Implémente l’interface [**IEnumPins**](/windows/desktop/api/Strmif/nn-strmif-ienumpins) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-182">Implements the [**IEnumPins**](/windows/desktop/api/Strmif/nn-strmif-ienumpins) interface.</span></span>                                                       |
| [<span data-ttu-id="aec1d-183">**CEnumMediaTypes**</span><span class="sxs-lookup"><span data-stu-id="aec1d-183">**CEnumMediaTypes**</span></span>](cenummediatypes.md)         | <span data-ttu-id="aec1d-184">Objet énumérateur pour l’énumération des types de média préférés sur un code confidentiel.</span><span class="sxs-lookup"><span data-stu-id="aec1d-184">Enumerator object for enumerating preferred media types on a pin.</span></span> <span data-ttu-id="aec1d-185">Implémente l’interface [**IEnumMediaTypes**](/windows/desktop/api/Strmif/nn-strmif-ienummediatypes) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-185">Implements the [**IEnumMediaTypes**](/windows/desktop/api/Strmif/nn-strmif-ienummediatypes) interface.</span></span>                             |
| [<span data-ttu-id="aec1d-186">**CMemAllocator**</span><span class="sxs-lookup"><span data-stu-id="aec1d-186">**CMemAllocator**</span></span>](cmemallocator.md)             | <span data-ttu-id="aec1d-187">Objet allocateur de mémoire.</span><span class="sxs-lookup"><span data-stu-id="aec1d-187">Memory allocator object.</span></span> <span data-ttu-id="aec1d-188">Implémente l’interface [**IMemAllocator**](/windows/desktop/api/Strmif/nn-strmif-imemallocator) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-188">Implements the [**IMemAllocator**](/windows/desktop/api/Strmif/nn-strmif-imemallocator) interface.</span></span>                                                                          |
| [<span data-ttu-id="aec1d-189">**CMediaSample**</span><span class="sxs-lookup"><span data-stu-id="aec1d-189">**CMediaSample**</span></span>](cmediasample.md)               | <span data-ttu-id="aec1d-190">Exemple d’objet de média.</span><span class="sxs-lookup"><span data-stu-id="aec1d-190">Media sample object.</span></span> <span data-ttu-id="aec1d-191">Implémente l’interface [**IMediaSample2**](/windows/desktop/api/Strmif/nn-strmif-imediasample2) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-191">Implements the [**IMediaSample2**](/windows/desktop/api/Strmif/nn-strmif-imediasample2) interface.</span></span>                                                                              |
| [<span data-ttu-id="aec1d-192">**CBaseReferenceClock**</span><span class="sxs-lookup"><span data-stu-id="aec1d-192">**CBaseReferenceClock**</span></span>](cbasereferenceclock.md) | <span data-ttu-id="aec1d-193">Classe de base pour les horloges de référence.</span><span class="sxs-lookup"><span data-stu-id="aec1d-193">Base class for reference clocks.</span></span> <span data-ttu-id="aec1d-194">Implémente l’interface [**IReferenceClock**](/windows/desktop/api/Strmif/nn-strmif-ireferenceclock) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-194">Implements the [**IReferenceClock**](/windows/desktop/api/Strmif/nn-strmif-ireferenceclock) interface.</span></span>                                                              |
| [<span data-ttu-id="aec1d-195">**CMediaType**</span><span class="sxs-lookup"><span data-stu-id="aec1d-195">**CMediaType**</span></span>](cmediatype.md)                   | <span data-ttu-id="aec1d-196">Objet d’assistance pour la manipulation des structures de [**\_ \_ type de média am**](/windows/win32/api/strmif/ns-strmif-am_media_type) .</span><span class="sxs-lookup"><span data-stu-id="aec1d-196">Helper object for manipulating [**AM\_MEDIA\_TYPE**](/windows/win32/api/strmif/ns-strmif-am_media_type) structures.</span></span>                                                                                |



 

 

 



