---
description: Correspondance opérationnelle avec le pilote de périphérique de compensation de mouvement
ms.assetid: bd92a0f4-98d9-497a-99b9-0cf432347daf
title: Correspondance opérationnelle avec le pilote de périphérique de compensation de mouvement
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5cca960ed8cbdae212bbe5e9f3b25316125a7456
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104200706"
---
# <a name="operational-correspondence-with-motion-compensation-device-driver"></a><span data-ttu-id="55f4c-103">Correspondance opérationnelle avec le pilote de périphérique de compensation de mouvement</span><span class="sxs-lookup"><span data-stu-id="55f4c-103">Operational Correspondence with Motion Compensation Device Driver</span></span>

<span data-ttu-id="55f4c-104">Cette section contient une description du côté pilote de périphérique de compensation de mouvement de l’interface DirectX VA.</span><span class="sxs-lookup"><span data-stu-id="55f4c-104">This section contains a description of the Motion Compensation device driver side of the DirectX VA interface.</span></span> <span data-ttu-id="55f4c-105">(Référence : Windows 2000 DDK-pilotes graphiques-Guide de conception-3,0 DirectDraw DDI-3,12 Motion compensation.</span><span class="sxs-lookup"><span data-stu-id="55f4c-105">(Reference:Windows 2000 DDK - Graphics Drivers - Design Guide - 3.0 DirectDraw DDI - 3.12 Motion Compensation.</span></span> <span data-ttu-id="55f4c-106">Consultez le kit DDK Windows pour obtenir de la documentation sur les structures en caractères gras.)</span><span class="sxs-lookup"><span data-stu-id="55f4c-106">See the Windows DDK for documentation on the structures in boldface.)</span></span>

<span data-ttu-id="55f4c-107">Les éléments suivants font référence aux entrées accessibles via la structure **DD \_ MOTIONCOMPCALLBACKS** :</span><span class="sxs-lookup"><span data-stu-id="55f4c-107">The following items refer to entries accessed through the **DD\_MOTIONCOMPCALLBACKS** structure:</span></span>

1.  <span data-ttu-id="55f4c-108">Au début du traitement concerné, le **DdMoCompCreate** du pilote de périphérique est utilisé pour notifier au pilote que le décodeur logiciel va démarrer à l’aide d’un objet d’accélération vidéo.</span><span class="sxs-lookup"><span data-stu-id="55f4c-108">At the start of the relevant processing, the device driver's **DdMoCompCreate** is used to notify the driver that the software decoder will start using a video acceleration object.</span></span>
2.  <span data-ttu-id="55f4c-109">Les GUID reçus à partir de [**IAMVideoAccelerator :: GetVideoAcceleratorGUIDs**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getvideoacceleratorguids) proviennent du **DdMoCompGetGUIDs** du pilote de périphérique.</span><span class="sxs-lookup"><span data-stu-id="55f4c-109">GUIDs received from [**IAMVideoAccelerator::GetVideoAcceleratorGUIDs**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getvideoacceleratorguids) originate from the device driver's **DdMoCompGetGUIDs**.</span></span>
3.  <span data-ttu-id="55f4c-110">Un appel à la méthode [**IAMVideoAccelerator :: GetUncompFormatsSupported**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getuncompformatssupported) du pin d’entrée en aval retourne les données du **DdMoCompGetFormats** du pilote de périphérique.</span><span class="sxs-lookup"><span data-stu-id="55f4c-110">A call to the downstream input pin's [**IAMVideoAccelerator::GetUncompFormatsSupported**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getuncompformatssupported) returns data from the device driver's **DdMoCompGetFormats**.</span></span>
4.  <span data-ttu-id="55f4c-111">La \_ structure de données DXVA connectMode du décodeur [**IAMVideoAcceleratorNotify :: GetCreateVideoAcceleratorData**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getcreatevideoacceleratordata) est transmise au **DdMoCompCreate** du pilote de périphérique.</span><span class="sxs-lookup"><span data-stu-id="55f4c-111">The DXVA\_ConnectMode data structure from the decoder's [**IAMVideoAcceleratorNotify::GetCreateVideoAcceleratorData**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getcreatevideoacceleratordata) is passed to the device driver's **DdMoCompCreate**.</span></span>
5.  <span data-ttu-id="55f4c-112">Les données retournées par [**IAMVideoAccelerator :: GetCompBufferInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getcompbufferinfo) proviennent du **DdMoCompGetBuffInfo** du pilote de périphérique.</span><span class="sxs-lookup"><span data-stu-id="55f4c-112">Data returned from [**IAMVideoAccelerator::GetCompBufferInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getcompbufferinfo) originates from the device driver's **DdMoCompGetBuffInfo**.</span></span>
6.  <span data-ttu-id="55f4c-113">Les mémoires tampons envoyées à l’aide de [**IAMVideoAccelerator :: Execute**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-execute) sont reçues par le **DdMoCompRender** du pilote de périphérique.</span><span class="sxs-lookup"><span data-stu-id="55f4c-113">Buffers sent using [**IAMVideoAccelerator::Execute**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-execute) are received by the device driver's **DdMoCompRender**.</span></span>
7.  <span data-ttu-id="55f4c-114">L’utilisation de [**IAMVideoAccelerator :: QueryRenderStatus**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-queryrenderstatus) appelle le **DdMoCompQueryStatus** du pilote de périphérique.</span><span class="sxs-lookup"><span data-stu-id="55f4c-114">Use of [**IAMVideoAccelerator::QueryRenderStatus**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-queryrenderstatus) invokes the device driver's **DdMoCompQueryStatus**.</span></span> <span data-ttu-id="55f4c-115">Un code de retour de DDERR \_ WASSTILLDRAWING de DdMoCompQueryStatus sera vu par le décodeur hôte comme un code de retour E \_ en attente à partir de **IAMVideoAccelerator :: QueryRenderStatus**.</span><span class="sxs-lookup"><span data-stu-id="55f4c-115">A return code of DDERR\_WASSTILLDRAWING from DdMoCompQueryStatus will be seen by the host decoder as a return code of E\_PENDING from **IAMVideoAccelerator::QueryRenderStatus**.</span></span>
8.  <span data-ttu-id="55f4c-116">Les données envoyées à [**IAMVideoAccelerator :: BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) sont reçues par le **DdMoCompBeginFrame** du pilote de périphérique.</span><span class="sxs-lookup"><span data-stu-id="55f4c-116">Data sent to [**IAMVideoAccelerator::BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) are received by the device driver's **DdMoCompBeginFrame**.</span></span> <span data-ttu-id="55f4c-117">Un code de retour de E \_ en attente est nécessaire à partir de DdMoCompBeginFrame pour \_ que e soit visible par le décodeur hôte en réponse à **IAMVideoAccelerator :: BeginFrame**.</span><span class="sxs-lookup"><span data-stu-id="55f4c-117">A return code of E\_PENDING is needed from DdMoCompBeginFrame in order for E\_PENDING to be seen by the host decoder in response to **IAMVideoAccelerator::BeginFrame**.</span></span>
9.  <span data-ttu-id="55f4c-118">Les données envoyées à [**IAMVideoAccelerator :: EndFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) sont reçues par le **DdMoCompEndFrame** du pilote de périphérique.</span><span class="sxs-lookup"><span data-stu-id="55f4c-118">Data sent to [**IAMVideoAccelerator::EndFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) are received by the device driver's **DdMoCompEndFrame**.</span></span>
10. <span data-ttu-id="55f4c-119">À la fin du traitement approprié, le **DdMoCompDestroy** du pilote de périphérique est utilisé pour notifier au pilote que l’objet d’accélération vidéo actuel n’est plus utilisé, afin que le pilote puisse effectuer tout nettoyage nécessaire.</span><span class="sxs-lookup"><span data-stu-id="55f4c-119">At the end of the relevant processing, the device driver's **DdMoCompDestroy** is used to notify the driver that the current video acceleration object will no longer be used, so that the driver can perform any necessary cleanup.</span></span>

 

 



