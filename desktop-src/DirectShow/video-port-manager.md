---
description: Gestionnaire de port vidéo
ms.assetid: d70558a5-9820-432a-b4f3-ccf7bb2a34d5
title: Gestionnaire de port vidéo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b7ca884ff009584ef2904387d872733ddf8d53dd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103866437"
---
# <a name="video-port-manager"></a><span data-ttu-id="3790b-103">Gestionnaire de port vidéo</span><span class="sxs-lookup"><span data-stu-id="3790b-103">Video Port Manager</span></span>

<span data-ttu-id="3790b-104">Le filtre VPM (Video Port Manager Filter) permet au filtre de mélangeur vidéo 7 (VMR-7) de fonctionner avec les périphériques de capture vidéo ou les décodeurs matériels qui utilisent un port vidéo.</span><span class="sxs-lookup"><span data-stu-id="3790b-104">The Video Port Manager filter (VPM) enables the Video Mixing Renderer Filter 7 (VMR-7) to work with video capture devices or hardware decoders that use a video port.</span></span> <span data-ttu-id="3790b-105">Un port vidéo est une connexion matérielle directe à la puce graphique.</span><span class="sxs-lookup"><span data-stu-id="3790b-105">A video port is a direct hardware connection to the graphics chip.</span></span> <span data-ttu-id="3790b-106">Il permet de transférer la vidéo directement vers la puce graphique sans passer par le bus système.</span><span class="sxs-lookup"><span data-stu-id="3790b-106">It enables video to be transferred directly to the graphics chip without going over the system bus.</span></span>

> [!Note]  
> <span data-ttu-id="3790b-107">Le gestionnaire de port vidéo n’est pas compatible avec VMR-9, car VMR-9 ne prend pas en charge les ports vidéo.</span><span class="sxs-lookup"><span data-stu-id="3790b-107">The Video Port Manager is not compatible with the VMR-9, because the VMR-9 does not support video ports.</span></span>

 



|                                          |                                                                                                                                                                                                                      |
|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="3790b-108">Interfaces de filtre</span><span class="sxs-lookup"><span data-stu-id="3790b-108">Filter Interfaces</span></span>                        | <span data-ttu-id="3790b-109">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span><span class="sxs-lookup"><span data-stu-id="3790b-109">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span></span> |
| <span data-ttu-id="3790b-110">Types de média de broche d’entrée</span><span class="sxs-lookup"><span data-stu-id="3790b-110">Input Pin Media Types</span></span>                    | <span data-ttu-id="3790b-111">\_Vidéo MediaType, MEDIASUBTYPE \_ VPVIDEO ou MEDIASUBTYPE \_ VPVBI, format \_ aucun</span><span class="sxs-lookup"><span data-stu-id="3790b-111">MEDIATYPE\_Video, MEDIASUBTYPE\_VPVideo or MEDIASUBTYPE\_VPVBI, FORMAT\_None</span></span>                                                                                                                                         |
| <span data-ttu-id="3790b-112">Interfaces pin d’entrée</span><span class="sxs-lookup"><span data-stu-id="3790b-112">Input Pin Interfaces</span></span>                     | <span data-ttu-id="3790b-113">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IPIN**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="3790b-113">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span> |
| <span data-ttu-id="3790b-114">Types de média de broche de sortie</span><span class="sxs-lookup"><span data-stu-id="3790b-114">Output Pin Media Types</span></span>                   | <span data-ttu-id="3790b-115">\_Vidéo MediaType, format \_ VideoInfo2</span><span class="sxs-lookup"><span data-stu-id="3790b-115">MEDIATYPE\_Video, FORMAT\_VideoInfo2</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="3790b-116">Interfaces de broche de sortie</span><span class="sxs-lookup"><span data-stu-id="3790b-116">Output Pin Interfaces</span></span>                    | <span data-ttu-id="3790b-117">[**IPIN**](/windows/desktop/api/Strmif/nn-strmif-ipin), [ **IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="3790b-117">[**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span>                                                                                                                                                     |
| <span data-ttu-id="3790b-118">CLSID du filtre</span><span class="sxs-lookup"><span data-stu-id="3790b-118">Filter CLSID</span></span>                             | <span data-ttu-id="3790b-119">CLSID \_ VideoPortManager</span><span class="sxs-lookup"><span data-stu-id="3790b-119">CLSID\_VideoPortManager</span></span>                                                                                                                                                                                              |
| [<span data-ttu-id="3790b-120">Mérite</span><span class="sxs-lookup"><span data-stu-id="3790b-120">Merit</span></span>](merit.md)                       | <span data-ttu-id="3790b-121">MÉRITE \_ normal</span><span class="sxs-lookup"><span data-stu-id="3790b-121">MERIT\_NORMAL</span></span>                                                                                                                                                                                                        |
| [<span data-ttu-id="3790b-122">Catégorie de filtre</span><span class="sxs-lookup"><span data-stu-id="3790b-122">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="3790b-123">CLSID \_ LegacyAmFilterCategory</span><span class="sxs-lookup"><span data-stu-id="3790b-123">CLSID\_LegacyAmFilterCategory</span></span>                                                                                                                                                                                        |



 

## <a name="remarks"></a><span data-ttu-id="3790b-124">Notes</span><span class="sxs-lookup"><span data-stu-id="3790b-124">Remarks</span></span>

<span data-ttu-id="3790b-125">Le gestionnaire de port vidéo combine les fonctionnalités de port vidéo du [filtre de mixage de superposition](overlay-mixer-filter.md) et les fonctionnalités de l' [allocateur de surface VBI](vbi-surface-allocator.md).</span><span class="sxs-lookup"><span data-stu-id="3790b-125">The Video Port Manager combines the video port functionality of the [Overlay Mixer Filter](overlay-mixer-filter.md) and the functionality of the [VBI Surface Allocator](vbi-surface-allocator.md).</span></span> <span data-ttu-id="3790b-126">Le VPM alloue des ports vidéo et des surfaces, et synchronise la capture de données à partir du port vidéo.</span><span class="sxs-lookup"><span data-stu-id="3790b-126">The VPM allocates video ports and surfaces, and synchronizes data capture from the video port.</span></span> <span data-ttu-id="3790b-127">Il autorise la capture basée sur le port vidéo qui est indépendante du rendu.</span><span class="sxs-lookup"><span data-stu-id="3790b-127">It allows video port-based capture that is independent of rendering.</span></span> <span data-ttu-id="3790b-128">Si l’aperçu est souhaité, VPM coordonne avec VMR-7 pour afficher les données de port vidéo capturées.</span><span class="sxs-lookup"><span data-stu-id="3790b-128">If preview is desired, the VPM coordinates with the VMR-7 to display captured video port data.</span></span> <span data-ttu-id="3790b-129">Lorsqu’un port vidéo est présent sur le système, le filtre de capture requiert des mémoires tampons supplémentaires pour extraire les données VBI du flux vidéo.</span><span class="sxs-lookup"><span data-stu-id="3790b-129">When a video port is present on the system, the capture filter requires additional buffers to extract VBI data from the video stream.</span></span> <span data-ttu-id="3790b-130">Ces mémoires tampons sont fournies par VPM.</span><span class="sxs-lookup"><span data-stu-id="3790b-130">These buffers are provided by the VPM.</span></span> <span data-ttu-id="3790b-131">Une fois que le filtre de capture a extrait les données VBI, il les remet sur un code confidentiel distinct aux filtres tels que le décodeur CC.</span><span class="sxs-lookup"><span data-stu-id="3790b-131">Once the capture filter has extracted the VBI data, it delivers it on a separate pin to filters such as the CC Decoder.</span></span> <span data-ttu-id="3790b-132">L’illustration suivante montre le VPM et ses connexions dans un graphique de filtre.</span><span class="sxs-lookup"><span data-stu-id="3790b-132">The following illustration shows the VPM and its connections in a filter graph.</span></span>

![segment de graphique de filtre du gestionnaire de port vidéo](images/vpm.png)

<span data-ttu-id="3790b-134">Le générateur de graphiques de DVD ajoute automatiquement le VPM au graphique de filtre lorsqu’un port vidéo est détecté sur le système.</span><span class="sxs-lookup"><span data-stu-id="3790b-134">The DVD Graph Builder adds the VPM to the filter graph automatically when a video port is detected on the system.</span></span> <span data-ttu-id="3790b-135">Une fois ajouté au graphique, VPM utilise un objet DirectDraw fourni par le convertisseur de mixage vidéo pour allouer deux ou trois surfaces.</span><span class="sxs-lookup"><span data-stu-id="3790b-135">Once added to the graph, the VPM uses a DirectDraw object provided by the Video Mixing Renderer to allocate two or three surfaces.</span></span> <span data-ttu-id="3790b-136">Ces surfaces reçoivent les images numérisées du filtre de capture en amont.</span><span class="sxs-lookup"><span data-stu-id="3790b-136">These surfaces receive the digitized frames from the upstream capture filter.</span></span> <span data-ttu-id="3790b-137">En réponse aux notifications d’événements en mode utilisateur envoyées lorsque des données sont présentes dans la surface, VPM effectue un blit automatique sur une surface hors écran fournie par VMR.</span><span class="sxs-lookup"><span data-stu-id="3790b-137">In response to user-mode event notifications sent when data is present in the surface, the VPM performs an automatic blit to an offscreen surface provided by the VMR.</span></span>

<span data-ttu-id="3790b-138">Le fait que le VPM utilise plusieurs surfaces pour ses mémoires tampons d’entrée signifie qu’il nécessite plus de VRAM que l’implémentation précédente du port vidéo DirectShow.</span><span class="sxs-lookup"><span data-stu-id="3790b-138">The fact that the VPM uses multiple surfaces for its input buffers means that it requires more VRAM than the previous DirectShow video port implementation.</span></span> <span data-ttu-id="3790b-139">Le blit supplémentaire du VPM au VMR-7 nécessite une bande passante de mémoire vidéo supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="3790b-139">The extra blit from the VPM to the VMR-7 requires additional video memory bandwidth.</span></span> <span data-ttu-id="3790b-140">Et étant donné que le basculement automatique du matériel n’est plus utilisé, il existe un potentiel théorique pour les images supprimées, mais la preuve empirique suggère que cela ne se produit pas.</span><span class="sxs-lookup"><span data-stu-id="3790b-140">And since hardware auto-flipping is not used any longer, there is a theoretical potential for dropped frames, but the empirical evidence suggests that this does not occur.</span></span>

## <a name="related-topics"></a><span data-ttu-id="3790b-141">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="3790b-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3790b-142">Filtres DirectShow</span><span class="sxs-lookup"><span data-stu-id="3790b-142">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="3790b-143">**Interface IVPManager**</span><span class="sxs-lookup"><span data-stu-id="3790b-143">**IVPManager Interface**</span></span>](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)
</dt> </dl>

 

 



