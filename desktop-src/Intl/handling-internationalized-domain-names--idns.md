---
description: Cette rubrique décrit comment vous pouvez utiliser des noms de domaine internationaux (IDNs) dans vos applications.
ms.assetid: e0ca356e-f8c1-4845-ae1e-ce2ae8987515
title: Gestion des noms de domaine internationaux (IDNs)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 95e853f0ea3f62fc3e5ee848431417cc031eaa5a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104203785"
---
# <a name="handling-internationalized-domain-names-idns"></a><span data-ttu-id="48efc-103">Gestion des noms de domaine internationaux (IDNs)</span><span class="sxs-lookup"><span data-stu-id="48efc-103">Handling Internationalized Domain Names (IDNs)</span></span>

<span data-ttu-id="48efc-104">Cette rubrique décrit comment vous pouvez utiliser des noms de domaine internationaux (IDNs) dans vos applications.</span><span class="sxs-lookup"><span data-stu-id="48efc-104">This topic describes how you can work with internationalized domain names (IDNs) in your applications.</span></span> <span data-ttu-id="48efc-105">Les IDNs sont spécifiés par le groupe de travail réseau [RFC 3490 : internationalisation des noms de domaine dans les applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span><span class="sxs-lookup"><span data-stu-id="48efc-105">IDNs are specified by Network Working Group [RFC 3490: Internationalizing Domain Names in Applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span></span> <span data-ttu-id="48efc-106">Avant ce brouillon standard, les IDNs étaient limités aux caractères latins sans signes diacritiques.</span><span class="sxs-lookup"><span data-stu-id="48efc-106">Prior to this draft standard, IDNs were limited to Latin characters without diacritics.</span></span> <span data-ttu-id="48efc-107">IDNA permet à IDNs d’inclure des caractères latins avec des signes diacritiques, ainsi que des caractères de scripts non-latins, tels que cyrillique, arabe et chinois.</span><span class="sxs-lookup"><span data-stu-id="48efc-107">IDNA allows IDNs to include Latin characters with diacritics, along with characters from non-Latin scripts, such as Cyrillic, Arabic, and Chinese.</span></span> <span data-ttu-id="48efc-108">La norme établit également des règles pour le mappage des IDNs à des noms de domaine ASCII uniquement.</span><span class="sxs-lookup"><span data-stu-id="48efc-108">The standard also establishes rules for mapping IDNs to ASCII-only domain names.</span></span> <span data-ttu-id="48efc-109">Par conséquent, les problèmes IDNA peuvent être traités côté client, sans qu’il soit nécessaire de modifier le serveur de noms de domaine (DNS).</span><span class="sxs-lookup"><span data-stu-id="48efc-109">Thus, IDNA issues can be handled on the client side, without requiring any domain name server (DNS) changes.</span></span>

> [!Caution]  
> <span data-ttu-id="48efc-110">La norme RFC 3490 introduit un certain nombre de problèmes de sécurité liés à l’utilisation de IDNs.</span><span class="sxs-lookup"><span data-stu-id="48efc-110">RFC 3490 introduces a number of security issues related to the use of IDNs.</span></span> <span data-ttu-id="48efc-111">Pour plus d’informations, consultez la section relative aux considérations relatives à la [sécurité : fonctionnalités internationales](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="48efc-111">For more information see the related section of [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

> [!Note]  
> <span data-ttu-id="48efc-112">IDNA est actuellement basé sur Unicode 3,2.</span><span class="sxs-lookup"><span data-stu-id="48efc-112">IDNA is currently based on Unicode 3.2.</span></span>

 

## <a name="nls-api-functions-for-handling-idns"></a><span data-ttu-id="48efc-113">Fonctions de l’API NLS pour la gestion de IDNs</span><span class="sxs-lookup"><span data-stu-id="48efc-113">NLS API Functions for Handling IDNs</span></span>

<span data-ttu-id="48efc-114">NLS intègre les fonctions de conversion suivantes, que votre application peut utiliser pour convertir des IDN en représentations différentes.</span><span class="sxs-lookup"><span data-stu-id="48efc-114">NLS includes the following conversion functions that your application can use to convert an IDN to different representations.</span></span> <span data-ttu-id="48efc-115">Pour obtenir un exemple de l’utilisation de ces fonctions, consultez [nls : exemple de conversion IDN (Internationalized Domain Name)](nls--internationalized-domain-name--idn--conversion-sample.md).</span><span class="sxs-lookup"><span data-stu-id="48efc-115">For an example of the use of these functions, see [NLS: Internationalized Domain Name (IDN) Conversion Sample](nls--internationalized-domain-name--idn--conversion-sample.md).</span></span>

-   <span data-ttu-id="48efc-116">[**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii).</span><span class="sxs-lookup"><span data-stu-id="48efc-116">[**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii).</span></span> <span data-ttu-id="48efc-117">Convertit les IDN en Punycode.</span><span class="sxs-lookup"><span data-stu-id="48efc-117">Converts an IDN to Punycode.</span></span>
-   <span data-ttu-id="48efc-118">[**IdnToNameprepUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntonameprepunicode).</span><span class="sxs-lookup"><span data-stu-id="48efc-118">[**IdnToNameprepUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntonameprepunicode).</span></span> <span data-ttu-id="48efc-119">Exécute la partie NamePrep de la conversion d’IDN en un nom ASCII.</span><span class="sxs-lookup"><span data-stu-id="48efc-119">Performs the NamePrep portion of the conversion of an IDN to an ASCII name.</span></span> <span data-ttu-id="48efc-120">Cette fonction crée une représentation Unicode canonique d’une chaîne.</span><span class="sxs-lookup"><span data-stu-id="48efc-120">This function creates a canonical Unicode representation of a string.</span></span>
-   <span data-ttu-id="48efc-121">[**IdnToUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntounicode).</span><span class="sxs-lookup"><span data-stu-id="48efc-121">[**IdnToUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntounicode).</span></span> <span data-ttu-id="48efc-122">Convertit une chaîne Punycode en chaîne UTF-16 normale.</span><span class="sxs-lookup"><span data-stu-id="48efc-122">Converts a Punycode string to a normal UTF-16 string.</span></span>

<span data-ttu-id="48efc-123">NLS définit également plusieurs fonctions API qui peuvent être utilisées pour atténuer certains des risques de sécurité présentés par la technologie IDN.</span><span class="sxs-lookup"><span data-stu-id="48efc-123">NLS also defines several API functions that can be used to mitigate some of the security risks presented by the IDN technology.</span></span> <span data-ttu-id="48efc-124">Sur Windows Vista et versions ultérieures, les fonctions suivantes sont utilisées pour vérifier que les caractères d’un IDN donné sont entièrement dessinés à partir des scripts associés à des paramètres régionaux ou des paramètres régionaux spécifiques.</span><span class="sxs-lookup"><span data-stu-id="48efc-124">On Windows Vista and later, the following functions are used to verify that the characters in a given IDN are drawn entirely from the scripts associated with a particular locale or locales.</span></span> <span data-ttu-id="48efc-125">Pour obtenir un exemple de l’utilisation de ces fonctions, consultez l' [exemple d’atténuation NLS (Internationalized Domain Name)](nls--internationalized-domain-name--idn--mitigation-sample.md).</span><span class="sxs-lookup"><span data-stu-id="48efc-125">For an example of the use of these functions, see [NLS: Internationalized Domain Name (IDN) Mitigation Sample](nls--internationalized-domain-name--idn--mitigation-sample.md).</span></span>

-   <span data-ttu-id="48efc-126">[**GetStringScripts**](/windows/desktop/api/Winnls/nf-winnls-getstringscripts).</span><span class="sxs-lookup"><span data-stu-id="48efc-126">[**GetStringScripts**](/windows/desktop/api/Winnls/nf-winnls-getstringscripts).</span></span> <span data-ttu-id="48efc-127">Fournit la liste des scripts utilisés dans une chaîne particulière.</span><span class="sxs-lookup"><span data-stu-id="48efc-127">Provides a list of scripts used in a particular string.</span></span>
-   <span data-ttu-id="48efc-128">[**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa), [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex).</span><span class="sxs-lookup"><span data-stu-id="48efc-128">[**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa), [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex).</span></span> <span data-ttu-id="48efc-129">Récupérer les informations relatives aux paramètres régionaux.</span><span class="sxs-lookup"><span data-stu-id="48efc-129">Retrieve locale information.</span></span> <span data-ttu-id="48efc-130">L’utilisation des fonctions avec *LCTYPE* défini sur [locale \_ SSCRIPTS](locale-sscripts.md) fournit une liste de scripts normalement utilisés pour des paramètres régionaux particuliers.</span><span class="sxs-lookup"><span data-stu-id="48efc-130">Using the functions with *LCType* set to [LOCALE\_SSCRIPTS](locale-sscripts.md) provides a list of scripts normally used for a particular locale.</span></span>
-   <span data-ttu-id="48efc-131">[**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span><span class="sxs-lookup"><span data-stu-id="48efc-131">[**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span></span> <span data-ttu-id="48efc-132">Compare des listes de scripts.</span><span class="sxs-lookup"><span data-stu-id="48efc-132">Compares lists of scripts.</span></span> <span data-ttu-id="48efc-133">Pour effectuer une vérification par rapport à plusieurs paramètres régionaux, l’application peut effectuer plusieurs appels à [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) ou [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) et [**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span><span class="sxs-lookup"><span data-stu-id="48efc-133">To verify against multiple locales, the application can make multiple calls to [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) or [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) and [**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span></span>

<span data-ttu-id="48efc-134">Pour les applications qui s’exécutent sur Windows XP et Windows Server 2003, les fonctions [**DownlevelGetLocaleScripts**](downlevelgetlocalescripts.md), [**DownlevelGetStringScripts**](downlevelgetstringscripts.md)et [**DownlevelVerifyScripts**](downlevelverifyscripts.md) jouent un rôle similaire aux fonctions mentionnées ci-dessus pour réduire les risques de sécurité.</span><span class="sxs-lookup"><span data-stu-id="48efc-134">For applications that run on Windows XP and Windows Server 2003, the functions [**DownlevelGetLocaleScripts**](downlevelgetlocalescripts.md), [**DownlevelGetStringScripts**](downlevelgetstringscripts.md), and [**DownlevelVerifyScripts**](downlevelverifyscripts.md) play a similar role to the functions listed above in mitigating security risk.</span></span> <span data-ttu-id="48efc-135">Le téléchargement des [API d’atténuation du nom de domaine international Microsoft (IDN)](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) est disponible sur le [Centre de téléchargement MSDN](https://www.microsoft.com/?ref=go).</span><span class="sxs-lookup"><span data-stu-id="48efc-135">The ["Microsoft Internationalized Domain Name (IDN) Mitigation APIs"](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) download is available at the [MSDN Download Center](https://www.microsoft.com/?ref=go).</span></span>

## <a name="handle-unicode-strings"></a><span data-ttu-id="48efc-136">Gérer les chaînes Unicode</span><span class="sxs-lookup"><span data-stu-id="48efc-136">Handle Unicode Strings</span></span>

<span data-ttu-id="48efc-137">IDNA prend en charge la transformation de chaînes Unicode en étiquettes de nom d’hôte légitimes, à l’exception des chaînes contenant certains caractères interdits, tels que les caractères de contrôle, les caractères de la zone d’utilisation privée (PUA), etc.</span><span class="sxs-lookup"><span data-stu-id="48efc-137">IDNA supports the transformation of Unicode strings into legitimate host name labels, with the exception of strings containing certain prohibited characters, such as control characters, characters from the private use area (PUA), and the like.</span></span> <span data-ttu-id="48efc-138">Votre application peut utiliser l' \_ indicateur IDN use \_ STD3 \_ ASCII \_ Rules avec plusieurs fonctions de conversion nls pour forcer les fonctions à échouer si elles rencontrent des caractères ASCII autres que des lettres, des chiffres ou des traits d’Union-moins (-), ou si une chaîne commence ou se termine par le caractère de trait d’Union-moins.</span><span class="sxs-lookup"><span data-stu-id="48efc-138">Your application can use the IDN\_USE\_STD3\_ASCII\_RULES flag with several NLS conversion functions to force the functions to fail if they encounter ASCII characters other than letters, numbers, or the hyphen-minus (-) character, or if a string begins or ends with the hyphen-minus character.</span></span> <span data-ttu-id="48efc-139">L’utilisation de ces caractères n’est toujours pas autorisée dans les noms de domaine et reste interdite dans le brouillon standard.</span><span class="sxs-lookup"><span data-stu-id="48efc-139">These characters have always been prohibited from use in domain names, and remain prohibited in the draft standard.</span></span>

## <a name="handle-unassigned-code-points"></a><span data-ttu-id="48efc-140">Gérer les points de code non assignés</span><span class="sxs-lookup"><span data-stu-id="48efc-140">Handle Unassigned Code Points</span></span>

<span data-ttu-id="48efc-141">IDNs ne peut pas contenir de points de code non assignés.</span><span class="sxs-lookup"><span data-stu-id="48efc-141">IDNs cannot contain unassigned code points.</span></span> <span data-ttu-id="48efc-142">Par conséquent, les points de code qui ne sont pas associés à un caractère (« assigné ») à partir de l’Unicode 3,2 n’ont pas de mappages IDN définis, bien que l' \_ indicateur IDN autoriser non \_ assigné dans certaines fonctions de conversion les autorise à être mappé à Punycode.</span><span class="sxs-lookup"><span data-stu-id="48efc-142">Therefore, code points that are not associated with a character ("assigned") as of Unicode 3.2 do not have defined IDN mappings, even though the IDN\_ALLOW\_UNASSIGNED flag in certain conversion functions allows them to be mapped to Punycode.</span></span> <span data-ttu-id="48efc-143">Vous trouverez une liste de points de code non attribués dans le [document RFC 3454](http://www.faqs.org/rfcs/rfc3454.html).</span><span class="sxs-lookup"><span data-stu-id="48efc-143">You can find a list of unassigned code points in [RFC 3454](http://www.faqs.org/rfcs/rfc3454.html).</span></span>

> [!Caution]  
> <span data-ttu-id="48efc-144">Si votre application encode des points de code non assignés en tant que Punycode, les noms de domaine résultants doivent être illégaux.</span><span class="sxs-lookup"><span data-stu-id="48efc-144">If your application encodes unassigned code points as Punycode, the resulting domain names should be illegal.</span></span> <span data-ttu-id="48efc-145">La sécurité peut être compromise si une version ultérieure de IDNA rend ces noms légaux ou si l’application filtre les caractères non autorisés pour essayer de créer un nom de domaine légal.</span><span class="sxs-lookup"><span data-stu-id="48efc-145">Security can be compromised if a later version of IDNA makes these names legal or if the application filters out the illegal characters to try to create a legal domain name.</span></span>

 

<span data-ttu-id="48efc-146">Les points de code non assignés ne sont pas autorisés dans les chaînes stockées utilisées dans les identificateurs de protocole et les entités nommées, telles que les noms des certificats numériques et les parties du nom de domaine DNS.</span><span class="sxs-lookup"><span data-stu-id="48efc-146">Unassigned code points are not allowed in the stored strings used in protocol identifiers and named entities, such as names in digital certificates and DNS domain name parts.</span></span> <span data-ttu-id="48efc-147">Toutefois, les points de code sont autorisés dans les chaînes de requête, par exemple, les noms entrés par l’utilisateur pour les autorités de certification numériques et les recherches DNS, qui sont utilisées pour faire correspondre des identificateurs stockés.</span><span class="sxs-lookup"><span data-stu-id="48efc-147">However, the code points are allowed in query strings, for example, user-entered names for digital certificate authorities and DNS lookups, which are used to match against stored identifiers.</span></span>

> [!Caution]  
> <span data-ttu-id="48efc-148">Bien que les chaînes de requête puissent utiliser des points de code non assignés, vous ne devez pas les utiliser dans vos applications.</span><span class="sxs-lookup"><span data-stu-id="48efc-148">Although query strings can use unassigned code points, you should not use them in your applications.</span></span> <span data-ttu-id="48efc-149">Même une chaîne de requête fournie par l’utilisateur présente le risque d’une attaque d’usurpation d’identité.</span><span class="sxs-lookup"><span data-stu-id="48efc-149">Even a user-supplied query string presents a risk of a "spoofing" attack.</span></span> <span data-ttu-id="48efc-150">Dans ce type d’attaque, le site hôte non scrupuleux redirige les utilisateurs à partir du site qu’ils ont l’intention d’accéder à un autre site susceptible de fournir des informations sensibles à un tiers.</span><span class="sxs-lookup"><span data-stu-id="48efc-150">In this type of attack, the unscrupulous host site reroutes users from the site they intend to access to another site that might provide sensitive information to a third party.</span></span> <span data-ttu-id="48efc-151">Par exemple, la copie d’une chaîne à partir d’un courrier électronique entrant peut présenter les mêmes risques qu’un clic sur un lien dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="48efc-151">For example, copying a string from an incoming e-mail can present the same risks as clicking on a link in a browser.</span></span>

 

## <a name="convert-domain-names-to-ascii-names"></a><span data-ttu-id="48efc-152">Convertir les noms de domaine en noms ASCII</span><span class="sxs-lookup"><span data-stu-id="48efc-152">Convert Domain Names to ASCII Names</span></span>

<span data-ttu-id="48efc-153">Votre application peut utiliser la fonction [**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii) et certaines fonctions d’atténuation pour convertir IDNs en ASCII.</span><span class="sxs-lookup"><span data-stu-id="48efc-153">Your application can use the [**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii) function and certain mitigation functions to convert IDNs to ASCII.</span></span>

> [!Caution]  
> <span data-ttu-id="48efc-154">Étant donné que les chaînes avec des représentations binaires très différentes peuvent être comparées comme identiques, cette fonction peut soulever certains problèmes de sécurité.</span><span class="sxs-lookup"><span data-stu-id="48efc-154">Because strings with very different binary representations can compare as identical, this function can raise certain security concerns.</span></span> <span data-ttu-id="48efc-155">Pour plus d’informations, consultez la discussion sur les fonctions de comparaison dans considérations sur la [sécurité : fonctionnalités internationales](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="48efc-155">For more information, see the discussion of comparison functions in [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

## <a name="examples"></a><span data-ttu-id="48efc-156">Exemples</span><span class="sxs-lookup"><span data-stu-id="48efc-156">Examples</span></span>

<span data-ttu-id="48efc-157">[Nls : l’exemple de conversion IDN (Internationalized Domain Name)](nls--internationalized-domain-name--idn--conversion-sample.md) illustre l’utilisation des fonctions de conversion IDN.</span><span class="sxs-lookup"><span data-stu-id="48efc-157">[NLS: Internationalized Domain Name (IDN) Conversion Sample](nls--internationalized-domain-name--idn--conversion-sample.md) demonstrates the use of the IDN conversion functions.</span></span> <span data-ttu-id="48efc-158">[Nls : l’exemple d’atténuation des IDN (Internationalized Domain Name)](nls--internationalized-domain-name--idn--mitigation-sample.md) illustre l’utilisation des fonctions d’atténuation des IDN.</span><span class="sxs-lookup"><span data-stu-id="48efc-158">[NLS: Internationalized Domain Name (IDN) Mitigation Sample](nls--internationalized-domain-name--idn--mitigation-sample.md) demonstrates the use of the IDN mitigation functions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="48efc-159">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="48efc-159">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="48efc-160">Utilisation de la prise en charge linguistique nationale</span><span class="sxs-lookup"><span data-stu-id="48efc-160">Using National Language Support</span></span>](using-national-language-support.md)
</dt> <dt>

[<span data-ttu-id="48efc-161">Considérations relatives à la sécurité : fonctionnalités internationales</span><span class="sxs-lookup"><span data-stu-id="48efc-161">Security Considerations: International Features</span></span>](security-considerations--international-features.md)
</dt> </dl>

 

 



