---
description: Cette rubrique fournit des instructions pour la gestion des paramètres régionaux personnalisés dans vos applications.
ms.assetid: 2622e2b3-b952-4666-a440-85d73d11c5e0
title: Utilisation de paramètres régionaux personnalisés
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ab0e59446496ae2985860c0fd6b1bd5bddde084
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103951470"
---
# <a name="working-with-custom-locales"></a><span data-ttu-id="76b87-103">Utilisation de paramètres régionaux personnalisés</span><span class="sxs-lookup"><span data-stu-id="76b87-103">Working with Custom Locales</span></span>

<span data-ttu-id="76b87-104">Cette rubrique fournit des instructions pour la gestion des [paramètres régionaux personnalisés](custom-locales.md) dans vos applications.</span><span class="sxs-lookup"><span data-stu-id="76b87-104">This topic provides some instructions for handling [custom locales](custom-locales.md) in your applications.</span></span> <span data-ttu-id="76b87-105">Il est préférable de préparer l’ensemble de votre code source avec ces considérations à l’esprit, car votre application ne contrôle pas si les paramètres régionaux personnalisés sont installés sur le système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="76b87-105">It is best to prepare all your source code with these considerations in mind, as your application does not control whether custom locales are installed on the operating system.</span></span>

## <a name="handle-locale_stime-constant-correctly"></a><span data-ttu-id="76b87-106">Gérer correctement les paramètres régionaux \_ stime constant</span><span class="sxs-lookup"><span data-stu-id="76b87-106">Handle LOCALE\_STIME Constant Correctly</span></span>

<span data-ttu-id="76b87-107">Si vous disposez d’une application plus ancienne qui utilise [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) pour obtenir le séparateur d’heure obsolète indiqué par les [paramètres régionaux \_ stime](locale-stime-constants.md), l’application peut ne pas réussir à analyser le format d’heure.</span><span class="sxs-lookup"><span data-stu-id="76b87-107">If you have an older application that uses [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) to obtain the obsolete time separator indicated by [LOCALE\_STIME](locale-stime-constants.md), the application can fail to parse the time format.</span></span> <span data-ttu-id="76b87-108">N’oubliez pas que le caractère qui sépare les heures des minutes est différent du caractère qui sépare les minutes des secondes.</span><span class="sxs-lookup"><span data-stu-id="76b87-108">Remember that the character that separates hours from minutes is distinct from the character that separates minutes from seconds.</span></span>

> [!Note]  
> <span data-ttu-id="76b87-109">Lorsque vous programmez pour des paramètres régionaux personnalisés, n’oubliez pas qu’ils sont inhabituels.</span><span class="sxs-lookup"><span data-stu-id="76b87-109">When programming for custom locales, remember that they are unusual.</span></span> <span data-ttu-id="76b87-110">Pratiquement tous les champs disponibles dans NLS doivent faire face à un comportement inhabituel.</span><span class="sxs-lookup"><span data-stu-id="76b87-110">Virtually every field available to NLS has to cope with unusual behavior.</span></span> <span data-ttu-id="76b87-111">Par exemple, le format d’heure 12H34 « 12 » est légitime et généralement compréhensible.</span><span class="sxs-lookup"><span data-stu-id="76b87-111">For example, the time format 12H34'12'' is legitimate and generally understandable.</span></span> <span data-ttu-id="76b87-112">Pourtant, de nombreuses applications font des hypothèses sur les séparateurs de temps qui peuvent rompre les longueurs de mémoire tampon ou afficher les champs.</span><span class="sxs-lookup"><span data-stu-id="76b87-112">Yet many applications make assumptions about the time separators that can break buffer lengths or display fields.</span></span>

 

## <a name="distinguish-among-supplemental-locales"></a><span data-ttu-id="76b87-113">Faire la distinction entre les paramètres régionaux supplémentaires</span><span class="sxs-lookup"><span data-stu-id="76b87-113">Distinguish Among Supplemental Locales</span></span>

<span data-ttu-id="76b87-114">Tous les paramètres régionaux supplémentaires utilisent la constante [ \_ personnalisée \_ non spécifiée de paramètres régionaux](locale-custom-constants.md) pour l’identificateur de [paramètres régionaux](locale-identifiers.md).</span><span class="sxs-lookup"><span data-stu-id="76b87-114">All supplemental locales use the [LOCALE\_CUSTOM\_UNSPECIFIED](locale-custom-constants.md) constant for the [locale identifier](locale-identifiers.md).</span></span> <span data-ttu-id="76b87-115">En règle générale, [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) ne peut pas faire la distinction entre les paramètres régionaux supplémentaires, mais [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) peut être parce qu’il utilise des [noms de paramètres régionaux](locale-names.md) au lieu des identificateurs de paramètres régionaux.</span><span class="sxs-lookup"><span data-stu-id="76b87-115">As a rule, [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) cannot distinguish among supplemental locales, but [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) can because it uses [locale names](locale-names.md) instead of locale identifiers.</span></span> <span data-ttu-id="76b87-116">Votre application peut récupérer des informations sur un paramètre régional supplémentaire particulier uniquement lorsque ces paramètres régionaux sont les paramètres régionaux actuellement sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="76b87-116">Your application can retrieve information about a particular supplemental locale only when that locale is the currently selected user locale.</span></span> <span data-ttu-id="76b87-117">Ensuite, l’application peut appeler [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) et passer l' [utilisateur de paramètres régionaux constants \_ \_ par défaut](locale-user-default.md) comme identificateur de paramètres régionaux.</span><span class="sxs-lookup"><span data-stu-id="76b87-117">Then, the application can call [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) and pass the constant [LOCALE\_USER\_DEFAULT](locale-user-default.md) as the locale identifier.</span></span>

## <a name="handle-replacement-locales"></a><span data-ttu-id="76b87-118">Gérer les paramètres régionaux de remplacement</span><span class="sxs-lookup"><span data-stu-id="76b87-118">Handle Replacement Locales</span></span>

<span data-ttu-id="76b87-119">Pour préserver la fiabilité de Windows, n’oubliez pas qu’un paramètre régional de remplacement pris en charge par votre application ne peut pas modifier l’identificateur de paramètres régionaux des paramètres régionaux remplacés.</span><span class="sxs-lookup"><span data-stu-id="76b87-119">To preserve the reliability of Windows, remember that a replacement locale supported by your application cannot modify the locale identifier of the replaced locale.</span></span> <span data-ttu-id="76b87-120">Aucun des paramètres régionaux de remplacement ne peut modifier les propriétés de tri de Windows.</span><span class="sxs-lookup"><span data-stu-id="76b87-120">Neither can a replacement locale modify the sorting properties of Windows.</span></span>

<span data-ttu-id="76b87-121">Bien qu’un paramètre régional de remplacement puisse modifier le calendrier par défaut, il doit conserver la valeur par défaut d’origine dans la liste des calendriers disponibles.</span><span class="sxs-lookup"><span data-stu-id="76b87-121">Although a replacement locale can change the default calendar, it must retain the original default somewhere in the list of available calendars.</span></span> <span data-ttu-id="76b87-122">Par exemple, les paramètres régionaux thaï (Thaïlande) utilisent le calendrier thaï bouddhiste comme valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="76b87-122">For example, the Thai (Thailand) locale uses the Thai Buddhist calendar as the default.</span></span> <span data-ttu-id="76b87-123">Un administrateur peut créer des paramètres régionaux de remplacement qui utilisent le calendrier grégorien localisé.</span><span class="sxs-lookup"><span data-stu-id="76b87-123">An administrator can create a replacement locale that uses the Gregorian localized calendar.</span></span> <span data-ttu-id="76b87-124">Toutefois, la liste des calendriers disponibles continue à contenir une entrée pour le calendrier thaï bouddhiste.</span><span class="sxs-lookup"><span data-stu-id="76b87-124">However, the list of available calendars continues to contain an entry for the Thai Buddhist calendar.</span></span>

<span data-ttu-id="76b87-125">Pour les paramètres régionaux de remplacement, votre application doit généralement consulter les informations spécifiques aux paramètres régionaux au lieu de tenter un « raccourci » basé sur la connaissance d’un certain nombre de paramètres régionaux.</span><span class="sxs-lookup"><span data-stu-id="76b87-125">For replacement locales, your application should generally consult locale-specific information instead of attempting a "shortcut" based on knowledge of a certain locale.</span></span> <span data-ttu-id="76b87-126">Par exemple, lorsque [**GetThreadLocale**](/windows/desktop/api/Winnls/nf-winnls-getthreadlocale) récupère les paramètres régionaux actuels en anglais (États-Unis), il peut en fait s’agir de paramètres régionaux de remplacement qui doivent être autorisés à prendre effet.</span><span class="sxs-lookup"><span data-stu-id="76b87-126">For example, when [**GetThreadLocale**](/windows/desktop/api/Winnls/nf-winnls-getthreadlocale) retrieves the current locale as English (United States), it might actually be a replacement locale that should be allowed to take effect.</span></span>

## <a name="customize-calendars"></a><span data-ttu-id="76b87-127">Personnaliser les calendriers</span><span class="sxs-lookup"><span data-stu-id="76b87-127">Customize Calendars</span></span>

<span data-ttu-id="76b87-128">Vos applications peuvent personnaliser les noms des jours et des mois pour les calendriers grégoriens, mais pas pour les calendriers non grégoriens.</span><span class="sxs-lookup"><span data-stu-id="76b87-128">Your applications can customize day and month names for Gregorian calendars, but not for non-Gregorian calendars.</span></span> <span data-ttu-id="76b87-129">De même, NLS ne prend pas en charge la création de calendriers personnalisés définis par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="76b87-129">Similarly, NLS does not support creation of user-defined custom calendars.</span></span> <span data-ttu-id="76b87-130">Pour plus d’informations, consultez [date et calendrier](date-and-calendar.md).</span><span class="sxs-lookup"><span data-stu-id="76b87-130">For more information, see [Date and Calendar](date-and-calendar.md).</span></span>

## <a name="handle-sorting-sequences"></a><span data-ttu-id="76b87-131">Gérer les séquences de tri</span><span class="sxs-lookup"><span data-stu-id="76b87-131">Handle Sorting Sequences</span></span>

<span data-ttu-id="76b87-132">Les paramètres régionaux supplémentaires peuvent utiliser n’importe quelle séquence de tri définie par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="76b87-132">A supplemental locale can use any Microsoft-defined sorting sequence.</span></span> <span data-ttu-id="76b87-133">Les paramètres régionaux de remplacement doivent utiliser la même séquence de tri que les paramètres régionaux qu’il remplace.</span><span class="sxs-lookup"><span data-stu-id="76b87-133">A replacement locale must use the same sorting sequence as the locale it replaces.</span></span> <span data-ttu-id="76b87-134">NLS ne prend pas en charge la création de séquences de tri définies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="76b87-134">NLS does not support the creation of user-defined sorting sequences.</span></span> <span data-ttu-id="76b87-135">Pour plus d’informations, consultez [gestion du tri dans vos applications](handling-sorting-in-your-applications.md).</span><span class="sxs-lookup"><span data-stu-id="76b87-135">For more information, see [Handling Sorting in Your Applications](handling-sorting-in-your-applications.md).</span></span>

## <a name="localize-custom-locale-information"></a><span data-ttu-id="76b87-136">Localiser les informations de paramètres régionaux personnalisés</span><span class="sxs-lookup"><span data-stu-id="76b87-136">Localize Custom Locale Information</span></span>

<span data-ttu-id="76b87-137">NLS ne fournit pas de mécanisme pour localiser les informations de paramètres régionaux personnalisés.</span><span class="sxs-lookup"><span data-stu-id="76b87-137">NLS does not provide a mechanism for localizing custom locale information.</span></span> <span data-ttu-id="76b87-138">Ainsi, les paramètres [régionaux \_ SLANGUAGE](locale-slanguage.md) ou les [paramètres régionaux \_ SLOCALIZEDLANGUAGENAME](locale-slocalized-constants.md) utilisés comme identificateurs de paramètres régionaux pour les paramètres régionaux personnalisés récupèrent toujours les valeurs associées aux paramètres [régionaux \_ SNATIVELANGNAME](locale-snative-constants.md) ou [locale \_ SNATIVELANGUAGENAME](locale-snative-constants.md).</span><span class="sxs-lookup"><span data-stu-id="76b87-138">Thus the constant [LOCALE\_SLANGUAGE](locale-slanguage.md) or [LOCALE\_SLOCALIZEDLANGUAGENAME](locale-slocalized-constants.md) used as a locale identifier for a custom locale always retrieves values associated with [LOCALE\_SNATIVELANGNAME](locale-snative-constants.md) or [LOCALE\_SNATIVELANGUAGENAME](locale-snative-constants.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="76b87-139">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="76b87-139">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="76b87-140">Utilisation de la prise en charge linguistique nationale</span><span class="sxs-lookup"><span data-stu-id="76b87-140">Using National Language Support</span></span>](using-national-language-support.md)
</dt> <dt>

[<span data-ttu-id="76b87-141">Paramètres régionaux personnalisés</span><span class="sxs-lookup"><span data-stu-id="76b87-141">Custom Locales</span></span>](custom-locales.md)
</dt> <dt>

[<span data-ttu-id="76b87-142">Date et calendrier</span><span class="sxs-lookup"><span data-stu-id="76b87-142">Date and Calendar</span></span>](date-and-calendar.md)
</dt> <dt>

[<span data-ttu-id="76b87-143">Gestion du tri dans vos applications</span><span class="sxs-lookup"><span data-stu-id="76b87-143">Handling Sorting in Your Applications</span></span>](handling-sorting-in-your-applications.md)
</dt> </dl>

 

 



