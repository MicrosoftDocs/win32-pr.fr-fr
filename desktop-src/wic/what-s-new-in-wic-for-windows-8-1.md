---
description: Le composant WIC (Windows Imaging Component) a été mis à jour avec les nouvelles versions de Windows. Cette rubrique fournit une présentation rapide de ces nouvelles fonctionnalités.
ms.assetid: 710B71CE-6FCC-46DA-A65C-6E4FC6A04275
title: Nouveautés de WIC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 84b8b3783ac2fd8ef6a971f785cec80f868a6b80
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106522451"
---
# <a name="whats-new-in-wic"></a><span data-ttu-id="46d27-104">Nouveautés de WIC</span><span class="sxs-lookup"><span data-stu-id="46d27-104">What's New in WIC</span></span>

<span data-ttu-id="46d27-105">Le composant WIC (Windows Imaging Component) a été mis à jour avec les nouvelles versions de Windows.</span><span class="sxs-lookup"><span data-stu-id="46d27-105">Windows Imaging Component (WIC) has been updated with new releases of Windows.</span></span> <span data-ttu-id="46d27-106">Cette rubrique fournit une présentation rapide de ces nouvelles fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="46d27-106">This topic provides a quick introduction to these new features.</span></span>

## <a name="whats-new-for-windows-10-version-1507"></a><span data-ttu-id="46d27-107">Nouveautés de Windows 10, version 1507</span><span class="sxs-lookup"><span data-stu-id="46d27-107">What's new for Windows 10, version 1507</span></span>

### <a name="access-to-low-level-jpeg-data-for-wic-decoding-and-encoding"></a><span data-ttu-id="46d27-108">Accès aux données JPEG de bas niveau pour le décodage et l’encodage WIC</span><span class="sxs-lookup"><span data-stu-id="46d27-108">Access to low level JPEG data for WIC decoding and encoding</span></span>

<span data-ttu-id="46d27-109">À partir de Windows 10, la version 1507, WIC fournit l’accès aux structures de données JPEG de bas niveau, y compris les tables de Huffman et de quantification.</span><span class="sxs-lookup"><span data-stu-id="46d27-109">Starting in Windows 10, version 1507, WIC provides access to low level JPEG data structures, including Huffman and quantization tables.</span></span> <span data-ttu-id="46d27-110">Pour plus d'informations, voir les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="46d27-110">For more information, see the following topics:</span></span>

-   <span data-ttu-id="46d27-111">Interface [**IWICJpegFrameDecode**](/windows/win32/api/Wincodec/nn-wincodec-iwicjpegframedecode)</span><span class="sxs-lookup"><span data-stu-id="46d27-111">[**IWICJpegFrameDecode**](/windows/win32/api/Wincodec/nn-wincodec-iwicjpegframedecode) interface</span></span>
-   <span data-ttu-id="46d27-112">Interface [**IWICJpegFrameEncode**](/windows/win32/api/Wincodec/nn-wincodec-iwicjpegframeencode)</span><span class="sxs-lookup"><span data-stu-id="46d27-112">[**IWICJpegFrameEncode**](/windows/win32/api/Wincodec/nn-wincodec-iwicjpegframeencode) interface</span></span>

### <a name="jpeg-indexing"></a><span data-ttu-id="46d27-113">Indexation JPEG</span><span class="sxs-lookup"><span data-stu-id="46d27-113">JPEG indexing</span></span>

<span data-ttu-id="46d27-114">L’indexation JPEG est une technique qui améliore considérablement les performances de l’accès aléatoire aux petites sous-régions d’une grande image JPEG, au détriment de l’utilisation de la mémoire supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="46d27-114">JPEG indexing is a technique that significantly improves the performance of randomly accessing small sub regions of a large JPEG image, at the cost of some additional memory usage.</span></span> <span data-ttu-id="46d27-115">L’indexation JPEG peut être exploitée par n’importe quel appelant de WIC.</span><span class="sxs-lookup"><span data-stu-id="46d27-115">JPEG indexing can be leveraged by any caller of WIC.</span></span>

<span data-ttu-id="46d27-116">L’interface [**ID2D1ImageSourceFromWic**](/windows/win32/api/d2d1_3/nn-d2d1_3-id2d1imagesourcefromwic) est conçue pour tirer parti de l’indexation JPEG si elle est activée.</span><span class="sxs-lookup"><span data-stu-id="46d27-116">The [**ID2D1ImageSourceFromWic**](/windows/win32/api/d2d1_3/nn-d2d1_3-id2d1imagesourcefromwic) interface is designed to leverage JPEG indexing if it is turned on.</span></span> <span data-ttu-id="46d27-117">Par exemple, l’API ID2D1ImageSource demande uniquement les sections nécessaires de l’image dans un scénario tel que le panoramique et le zoom pour une image de grande résolution.</span><span class="sxs-lookup"><span data-stu-id="46d27-117">For example, the ID2D1ImageSource API will only request the needed sections of the image in a scenario such as pan and zoom for a large resolution image.</span></span> <span data-ttu-id="46d27-118">Pour plus d'informations, voir les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="46d27-118">For more information, see the following topics:</span></span>

-   <span data-ttu-id="46d27-119">[**IWICJpegFrameDecode :: SetIndexing**](/windows/win32/api/Wincodec/nf-wincodec-iwicjpegframedecode-setindexing) , méthode</span><span class="sxs-lookup"><span data-stu-id="46d27-119">[**IWICJpegFrameDecode::SetIndexing**](/windows/win32/api/Wincodec/nf-wincodec-iwicjpegframedecode-setindexing) method</span></span>
-   <span data-ttu-id="46d27-120">Interface [**ID2D1ImageSourceFromWic**](/windows/win32/api/d2d1_3/nn-d2d1_3-id2d1imagesourcefromwic)</span><span class="sxs-lookup"><span data-stu-id="46d27-120">[**ID2D1ImageSourceFromWic**](/windows/win32/api/d2d1_3/nn-d2d1_3-id2d1imagesourcefromwic) interface</span></span>

## <a name="whats-new-for-windows-81"></a><span data-ttu-id="46d27-121">Nouveautés de Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="46d27-121">What's new for Windows 8.1</span></span>

### <a name="support-for-jpeg-ycbcr-images"></a><span data-ttu-id="46d27-122">Prise en charge des images JPEG YCbCr</span><span class="sxs-lookup"><span data-stu-id="46d27-122">Support for JPEG YCbCr images</span></span>

<span data-ttu-id="46d27-123">À partir de Windows 8.1, WIC prend en charge le décodage, la transformation et l’encodage des données d’image Y’CbCr JPEG dans leur format natif.</span><span class="sxs-lookup"><span data-stu-id="46d27-123">Starting in Windows 8.1, WIC provides support for decoding, transforming and encoding JPEG Y'CbCr image data in its native format.</span></span> <span data-ttu-id="46d27-124">Cela permet aux applications de réduire considérablement le temps de traitement et la consommation de mémoire pour certaines opérations d’acquisition d’images lors de l’utilisation de fichiers JPEG encodés Y’CbCr.</span><span class="sxs-lookup"><span data-stu-id="46d27-124">This allows apps to significantly decrease processing time and memory consumption for certain imaging operations when working with Y'CbCr encoded JPEGs.</span></span> <span data-ttu-id="46d27-125">Pour plus d'informations, voir les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="46d27-125">For more information, see the following topics:</span></span>

-   <span data-ttu-id="46d27-126">[](-wic-sample-d2d-viewer.md)[Effet YCbCr](../direct2d/ycbcr-effect.md) de Direct2D</span><span class="sxs-lookup"><span data-stu-id="46d27-126">[Direct2D](-wic-sample-d2d-viewer.md)[YCbCr effect](../direct2d/ycbcr-effect.md)</span></span>
-   <span data-ttu-id="46d27-127">Interface [**IWICPlanarBitmapSourceTransform**](/windows/win32/api/Wincodec/nn-wincodec-iwicplanarbitmapsourcetransform)</span><span class="sxs-lookup"><span data-stu-id="46d27-127">[**IWICPlanarBitmapSourceTransform**](/windows/win32/api/Wincodec/nn-wincodec-iwicplanarbitmapsourcetransform) interface</span></span>
-   <span data-ttu-id="46d27-128">Interface [**IWICPlanarBitmapFrameEncode**](/windows/win32/api/Wincodec/nn-wincodec-iwicplanarbitmapframeencode)</span><span class="sxs-lookup"><span data-stu-id="46d27-128">[**IWICPlanarBitmapFrameEncode**](/windows/win32/api/Wincodec/nn-wincodec-iwicplanarbitmapframeencode) interface</span></span>

### <a name="support-for-block-compressed-formats-dds-files"></a><span data-ttu-id="46d27-129">Prise en charge des formats compressés par blocs (fichiers DDS)</span><span class="sxs-lookup"><span data-stu-id="46d27-129">Support for block compressed formats (DDS files)</span></span>

<span data-ttu-id="46d27-130">À partir de Windows 8.1, WIC ajoute un nouveau codec qui prend en charge les images DDS encodées aux formats suivants : DXGI \_ format \_ BC1 \_ UNORM, DXGI \_ format \_ BC2 \_ UNORM et dxgi \_ format \_ \_ BC3 UNORM.</span><span class="sxs-lookup"><span data-stu-id="46d27-130">Starting in Windows 8.1, WIC adds a new codec that supports DDS images encoded in the following formats: DXGI\_FORMAT\_BC1\_UNORM, DXGI\_FORMAT\_BC2\_UNORM, and DXGI\_FORMAT\_BC3\_UNORM.</span></span> <span data-ttu-id="46d27-131">Les données compressées de bloc DDS sont accessibles sous forme décodée à l’aide d’interfaces WIC standard, ou directement accessibles à l’aide de nouvelles interfaces DDS spécifiques.</span><span class="sxs-lookup"><span data-stu-id="46d27-131">DDS block compressed data can be accessed in a decoded form using standard WIC interfaces, or directly accessed using new DDS specific interfaces.</span></span> <span data-ttu-id="46d27-132">Pour plus d'informations, voir les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="46d27-132">For more information, see the following topics:</span></span>

-   <span data-ttu-id="46d27-133">Interface [**IWICDdsDecoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicddsdecoder)</span><span class="sxs-lookup"><span data-stu-id="46d27-133">[**IWICDdsDecoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicddsdecoder) interface</span></span>
-   <span data-ttu-id="46d27-134">Interface [**IWICDdsEncoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicddsencoder)</span><span class="sxs-lookup"><span data-stu-id="46d27-134">[**IWICDdsEncoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicddsencoder) interface</span></span>

## <a name="whats-new-for-windows-8"></a><span data-ttu-id="46d27-135">Nouveautés de Windows 8</span><span class="sxs-lookup"><span data-stu-id="46d27-135">What's new for Windows 8</span></span>

<span data-ttu-id="46d27-136">Dans Windows 8, WIC a été mis à jour avec plusieurs nouvelles fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="46d27-136">In Windows 8, WIC has been updated with several new features.</span></span> <span data-ttu-id="46d27-137">La version mise à jour de WIC est également disponible sur Windows 7 et Windows Server 2008 R2 via la [mise à jour de plateforme pour Windows 7](../direct3darticles/platform-update-for-windows-7.md), disponible via la [mise à jour de plateforme pour Windows 7](https://support.microsoft.com/kb/2670838).</span><span class="sxs-lookup"><span data-stu-id="46d27-137">The updated version of WIC is also available on Windows 7 and Windows Server 2008 R2 via the [Platform Update for Windows 7](../direct3darticles/platform-update-for-windows-7.md), which is available through the [Platform Update for Windows 7](https://support.microsoft.com/kb/2670838).</span></span>

### <a name="improved-direct2d-integration"></a><span data-ttu-id="46d27-138">Amélioration de l’intégration de Direct2D</span><span class="sxs-lookup"><span data-stu-id="46d27-138">Improved Direct2D integration</span></span>

<span data-ttu-id="46d27-139">WIC dans Windows 8 fournit ces API pour améliorer l’intégration de Direct2D avec WIC :</span><span class="sxs-lookup"><span data-stu-id="46d27-139">WIC in Windows 8 provides these APIs to improve Direct2D integration with WIC:</span></span>

-   <span data-ttu-id="46d27-140">[**IWICImageEncoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicimageencoder) : nouvelle interface qui peut encoder le contenu de [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) Direct2D en [IWICBitmapFrameEncode](-wic-imp-iwicbitmapframeencode.md).</span><span class="sxs-lookup"><span data-stu-id="46d27-140">[**IWICImageEncoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicimageencoder) - A new interface which can encode Direct2D [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) content to an [IWICBitmapFrameEncode](-wic-imp-iwicbitmapframeencode.md).</span></span> <span data-ttu-id="46d27-141">Les méthodes de cette interface prennent un pointeur vers [**WICImageParameters**](/windows/win32/api/Wincodec/ns-wincodec-wicimageparameters), qui sont des paramètres pour contrôler l’encodage.</span><span class="sxs-lookup"><span data-stu-id="46d27-141">The methods of this interface take a pointer to [**WICImageParameters**](/windows/win32/api/Wincodec/ns-wincodec-wicimageparameters), which are parameters to control encoding.</span></span>
-   <span data-ttu-id="46d27-142">[**IWICImagingFactory2**](/windows/win32/api/Wincodec/nn-wincodec-iwicimagingfactory2) -nouvelle fabrique WIC avec la méthode [**CreateImageEncoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory2-createimageencoder) .</span><span class="sxs-lookup"><span data-stu-id="46d27-142">[**IWICImagingFactory2**](/windows/win32/api/Wincodec/nn-wincodec-iwicimagingfactory2) - New WIC factory with the [**CreateImageEncoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory2-createimageencoder) method.</span></span> <span data-ttu-id="46d27-143">Cette interface hérite de la fabrique WIC d’origine, [**IWICImagingFactory**](/windows/win32/api/Wincodec/nn-wincodec-iwicimagingfactory), et est créée de la même façon.</span><span class="sxs-lookup"><span data-stu-id="46d27-143">This interface inherits from the original WIC factory, [**IWICImagingFactory**](/windows/win32/api/Wincodec/nn-wincodec-iwicimagingfactory), and is created the same way.</span></span>

### <a name="changes-to-bmp-codec-alpha-support"></a><span data-ttu-id="46d27-144">Modifications apportées à la prise en charge alpha du codec BMP</span><span class="sxs-lookup"><span data-stu-id="46d27-144">Changes to BMP codec alpha support</span></span>

<span data-ttu-id="46d27-145">WIC dans Windows 8 prend en charge le chargement de fichiers image [**BITMAPV5HEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapv5header) en tant qu’images au format [WICPixelFormat32bppBGRA](-wic-codec-native-pixel-formats.md).</span><span class="sxs-lookup"><span data-stu-id="46d27-145">WIC in Windows 8 supports loading [**BITMAPV5HEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapv5header) image files as [WICPixelFormat32bppBGRA](-wic-codec-native-pixel-formats.md)-formatted images.</span></span> <span data-ttu-id="46d27-146">En outre, l’encodeur BMP prend en charge une nouvelle valeur booléenne, l’option d’encodeur « EnableV5Header32bppBGRA », qui indique à l’encodeur d’écrire un **BITMAPV5HEADER** avec les données de l’image 32bppBGRA.</span><span class="sxs-lookup"><span data-stu-id="46d27-146">In addition, the BMP encoder supports a new Boolean ,encoder option "EnableV5Header32bppBGRA", which instructs the encoder to write a **BITMAPV5HEADER** with the 32bppBGRA image data.</span></span>

<span data-ttu-id="46d27-147">Pour plus d’informations sur les formats BMP, consultez [vue d’ensemble du format BMP](bmp-format-overview.md).</span><span class="sxs-lookup"><span data-stu-id="46d27-147">For more info about BMP formats, see [BMP Format Overview](bmp-format-overview.md).</span></span>

### <a name="new-pixel-formats"></a><span data-ttu-id="46d27-148">Nouveaux formats de pixel</span><span class="sxs-lookup"><span data-stu-id="46d27-148">New pixel formats</span></span>

<span data-ttu-id="46d27-149">WIC dans Windows 8 définit ces nouveaux formats de pixel :</span><span class="sxs-lookup"><span data-stu-id="46d27-149">WIC in Windows 8 defines these new pixel formats:</span></span>

-   <span data-ttu-id="46d27-150">GUID \_ WICPixelFormat32bppRGB</span><span class="sxs-lookup"><span data-stu-id="46d27-150">GUID\_WICPixelFormat32bppRGB</span></span>
-   <span data-ttu-id="46d27-151">GUID \_ WICPixelFormat64bppRGB</span><span class="sxs-lookup"><span data-stu-id="46d27-151">GUID\_WICPixelFormat64bppRGB</span></span>
-   <span data-ttu-id="46d27-152">GUID \_ WICPixelFormat96bppRGBFloat</span><span class="sxs-lookup"><span data-stu-id="46d27-152">GUID\_WICPixelFormat96bppRGBFloat</span></span>
-   <span data-ttu-id="46d27-153">GUID \_ WICPixelFormat64bppPRGBAHalf</span><span class="sxs-lookup"><span data-stu-id="46d27-153">GUID\_WICPixelFormat64bppPRGBAHalf</span></span>

> [!Note]  
> <span data-ttu-id="46d27-154">Le codec intégré TIFF renverra les \_ données GUID WICPixelFormat96bppRGBFloat.</span><span class="sxs-lookup"><span data-stu-id="46d27-154">The TIFF built-in codec will return GUID\_WICPixelFormat96bppRGBFloat data.</span></span> <span data-ttu-id="46d27-155">Les trois autres formats ne sont pas utilisés par les codecs intégrés.</span><span class="sxs-lookup"><span data-stu-id="46d27-155">The other three formats are not used by built-in codecs.</span></span>

 

### <a name="restrictions-to-component-extensibility-in-appcontainer"></a><span data-ttu-id="46d27-156">Restrictions relatives à l’extensibilité des composants dans AppContainer</span><span class="sxs-lookup"><span data-stu-id="46d27-156">Restrictions to component extensibility in AppContainer</span></span>

<span data-ttu-id="46d27-157">En cas d’exécution dans un processus AppContainer, qui comprend toutes les applications du Windows Store, WIC utilise uniquement les composants fournis par Windows, que des composants supplémentaires soient installés ou non sur le système.</span><span class="sxs-lookup"><span data-stu-id="46d27-157">When running in an AppContainer process, which includes all Windows Store apps, WIC will only use Windows-provided components, regardless of whether additional components are installed on the system.</span></span> <span data-ttu-id="46d27-158">L’application qui n’est pas en cours d’exécution dans AppContainer n’est pas affectée.</span><span class="sxs-lookup"><span data-stu-id="46d27-158">App that are not running in AppContainer are not affected.</span></span>

<span data-ttu-id="46d27-159">Les applications n’ont pas besoin d’apporter des modifications de code pour s’exécuter dans un AppContainger, mais les paramètres de l’indicateur [**WICComponentEnumerateOptions**](/windows/win32/api/Wincodec/ne-wincodec-wiccomponentenumerateoptions) et du GUID du fournisseur n’ont aucun effet.</span><span class="sxs-lookup"><span data-stu-id="46d27-159">Apps don't need to make any code changes to run in an AppContainger, but the [**WICComponentEnumerateOptions**](/windows/win32/api/Wincodec/ne-wincodec-wiccomponentenumerateoptions) flag and vendor GUID parameters will have no effect.</span></span> <span data-ttu-id="46d27-160">WIC ne parvient pas à charger une image si elle ne peut pas être décodée par un codec fourni par Windows, et l’appel de la méthode [**CreateComponentEnumerator**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createcomponentenumerator) retourne uniquement les composants fournis par Windows.</span><span class="sxs-lookup"><span data-stu-id="46d27-160">WIC will fail to load an image if it cannot be decoded by a Windows provided codec, and calling the [**CreateComponentEnumerator**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createcomponentenumerator) method will only return Windows provided components.</span></span>

### <a name="changes-to-clsid_wicpngdecoder-and-png-decoder-color-context-support"></a><span data-ttu-id="46d27-161">Modifications apportées au CLSID \_ WICPngDecoder et au décodeur png couleur du contexte de couleur</span><span class="sxs-lookup"><span data-stu-id="46d27-161">Changes to CLSID\_WICPngDecoder and PNG decoder color context support</span></span>

<span data-ttu-id="46d27-162">**CLSID \_ WICPngDecoder1** a été ajouté avec le même GUID que le **CLSID \_ WICPngDecoder** et le **CLSID \_ WICPngDecoder2** a été ajouté.</span><span class="sxs-lookup"><span data-stu-id="46d27-162">**CLSID\_WICPngDecoder1** has been added with the same GUID as **CLSID\_WICPngDecoder**, and **CLSID\_WICPngDecoder2** has been added.</span></span>

<span data-ttu-id="46d27-163">En cas de compilation sur le kit de développement logiciel (SDK) Windows 8, **CLSID \_ WICPngDecoder** est \# défini sur **CLSID \_ WICPngDecoder2** pour promouvoir les applications nouvellement compilées à l’aide du nouveau comportement de décodeur png.</span><span class="sxs-lookup"><span data-stu-id="46d27-163">When compiled against the Windows 8 SDK, **CLSID\_WICPngDecoder** is \#defined to **CLSID\_WICPngDecoder2** to promote newly compiled apps using the new PNG decoder behavior.</span></span> <span data-ttu-id="46d27-164">Les applications doivent continuer à spécifier le **CLSID \_ WICPngDecoder**.</span><span class="sxs-lookup"><span data-stu-id="46d27-164">Apps should continue to specify **CLSID\_WICPngDecoder**.</span></span>

<span data-ttu-id="46d27-165">Si vous spécifiez **CLSID \_ WICPngDecoder2** , vous créez une version du décodeur png WIC qui générera un [**IWICColorContext**](/windows/win32/api/Wincodec/nn-wincodec-iwiccolorcontext) à partir de segments cHRM et Gama.</span><span class="sxs-lookup"><span data-stu-id="46d27-165">Specifying **CLSID\_WICPngDecoder2** will create a version of the WIC PNG decoder that will generate an [**IWICColorContext**](/windows/win32/api/Wincodec/nn-wincodec-iwiccolorcontext) from cHRM and gAMA chunks.</span></span> <span data-ttu-id="46d27-166">Cela permet d’utiliser ces métadonnées d’espace colorimétrique avec d’autres API Windows pour la gestion des couleurs de l’image source.</span><span class="sxs-lookup"><span data-stu-id="46d27-166">This allows this color space metadata to be used with other Windows APIs for color managing the source image.</span></span> <span data-ttu-id="46d27-167">Un **IWICColorContext** n’est pas généré à partir des segments Gama et cHRM si un segment iCCP est présent, si un segment sRVB est présent ou si les segments Gama et cHRM indiquent un espace de couleurs sRVB.</span><span class="sxs-lookup"><span data-stu-id="46d27-167">An **IWICColorContext** is not generated from the gAMA and cHRM chunks if an iCCP chunk is present, if an sRGB chunk is present, or if the gAMA and cHRM chunks indicate an sRGB color space.</span></span>

<span data-ttu-id="46d27-168">Une application peut spécifier le **CLSID \_ WICPngDecoder1** pour créer une version du décodeur png WIC qui ne génère pas de [**IWICColorContext**](/windows/win32/api/Wincodec/nn-wincodec-iwiccolorcontext) à partir des segments Gama et cHRM.</span><span class="sxs-lookup"><span data-stu-id="46d27-168">An app can specify **CLSID\_WICPngDecoder1** to create a version of the WIC PNG decoder that does not generate an [**IWICColorContext**](/windows/win32/api/Wincodec/nn-wincodec-iwiccolorcontext) from the gAMA and cHRM chunks.</span></span> <span data-ttu-id="46d27-169">Cela correspond au comportement du décodeur PNG dans les versions précédentes de Windows.</span><span class="sxs-lookup"><span data-stu-id="46d27-169">This matches the behavior of the PNG decoder in previous versions of Windows.</span></span>

### <a name="changes-to-wincodec_sdk_version"></a><span data-ttu-id="46d27-170">Modifications apportées à la \_ version du SDK WINCODEC \_</span><span class="sxs-lookup"><span data-stu-id="46d27-170">Changes to WINCODEC\_SDK\_VERSION</span></span>

<span data-ttu-id="46d27-171">En cas de compilation sur le kit de développement logiciel (SDK) Windows 8, **WINCODEC \_ SDK \_ version** est \# défini sur **WINCODEC \_ SDK \_ VERSION2** pour promouvoir les nouvelles applications compilées à l’aide du nouveau comportement de décodeur png.</span><span class="sxs-lookup"><span data-stu-id="46d27-171">When compiled against the Windows 8 SDK, **WINCODEC\_SDK\_VERSION** is \#defined to **WINCODEC\_SDK\_VERSION2** to promote newly compiled apps using the new PNG decoder behavior.</span></span> <span data-ttu-id="46d27-172">Dans le cas contraire, il est \# défini sur **WINCODEC \_ SDK \_ version1**.</span><span class="sxs-lookup"><span data-stu-id="46d27-172">Otherwise, it is \#defined to **WINCODEC\_SDK\_VERSION1**.</span></span> <span data-ttu-id="46d27-173">Les applications doivent continuer à spécifier la **\_ \_ version du kit de développement logiciel (SDK) WINCODEC**.</span><span class="sxs-lookup"><span data-stu-id="46d27-173">Apps should continue to specify **WINCODEC\_SDK\_VERSION**.</span></span>

<span data-ttu-id="46d27-174">La spécification de la **\_ \_ version du kit de développement logiciel (SDK) WINCODEC** lors de l’appel du [**\_ proxy WICCreateImagingFactory**](-wic-codec-wiccreateimagingfactory-proxy.md) pour créer la fabrique d’images entraîne la création de **CLSID \_ WICPngDecoder2** à la place de **CLSID \_ WICPngDecoder1** à partir de la méthode [**CreateDecoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createdecoder) et de ses variantes.</span><span class="sxs-lookup"><span data-stu-id="46d27-174">Specifying **WINCODEC\_SDK\_VERSION** when calling [**WICCreateImagingFactory\_Proxy**](-wic-codec-wiccreateimagingfactory-proxy.md) to create the imaging factory causes **CLSID\_WICPngDecoder2** to be created instead of **CLSID\_WICPngDecoder1** from the [**CreateDecoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createdecoder) method and its variants.</span></span> <span data-ttu-id="46d27-175">En outre, l’énumérateur des informations sur les composants du décodeur retourne les informations du composant **CLSID \_ WICPngDecoder2** , mais pas les informations **\_ WICPngDecoder1 CLSID** .</span><span class="sxs-lookup"><span data-stu-id="46d27-175">Also, a decoder component info enumerator will return **CLSID\_WICPngDecoder2** component info, but not **CLSID\_WICPngDecoder1** info.</span></span>

<span data-ttu-id="46d27-176">Si vous spécifiez **WINCODEC \_ SDK \_ version1** , le **CLSID \_ WICPngDecoder1** est utilisé à la place de **CLSID \_ WICPngDecoder2** dans les cas mentionnés ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="46d27-176">Specifying **WINCODEC\_SDK\_VERSION1** will cause **CLSID\_WICPngDecoder1** to be used instead of **CLSID\_WICPngDecoder2** in the above cases.</span></span>

### <a name="changes-to-clsid_wicimagingfactory"></a><span data-ttu-id="46d27-177">Modifications apportées au CLSID \_ WICImagingFactory</span><span class="sxs-lookup"><span data-stu-id="46d27-177">Changes to CLSID\_WICImagingFactory</span></span>

<span data-ttu-id="46d27-178">**CLSID \_ WICImagingFactory1** a été ajouté avec le même GUID que le **CLSID \_ WICImagingFactory** et le **CLSID \_ WICImagingFactory2** a été ajouté.</span><span class="sxs-lookup"><span data-stu-id="46d27-178">**CLSID\_WICImagingFactory1** has been added with the same GUID as **CLSID\_WICImagingFactory**, and **CLSID\_WICImagingFactory2** has been added.</span></span>

<span data-ttu-id="46d27-179">En cas de compilation sur le kit de développement logiciel (SDK) Windows 8, **CLSID \_ WICImagingFactory** est \# défini sur **CLSID \_ WICImagingFactory2** pour promouvoir les applications nouvellement compilées à l’aide du nouveau comportement de décodeur png.</span><span class="sxs-lookup"><span data-stu-id="46d27-179">When compiled against the Windows 8 SDK, **CLSID\_WICImagingFactory** is \#defined to **CLSID\_WICImagingFactory2** to promote newly compiled apps using the new PNG decoder behavior.</span></span> <span data-ttu-id="46d27-180">Les applications doivent continuer à spécifier le **CLSID \_ WICImagingFactory**.</span><span class="sxs-lookup"><span data-stu-id="46d27-180">Apps should continue to specify **CLSID\_WICImagingFactory**.</span></span>

<span data-ttu-id="46d27-181">La spécification du **CLSID \_ WICImagingFactory2** lors de l’appel de [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance) pour créer la fabrique d’images entraîne la création du **CLSID \_ WICPngDecoder2** à la place de **CLSID \_ WICPngDecoder1** à partir de la méthode [**CreateDecoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createdecoder) et de ses variantes.</span><span class="sxs-lookup"><span data-stu-id="46d27-181">Specifying **CLSID\_WICImagingFactory2** when calling [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance) to create the imaging factory causes **CLSID\_WICPngDecoder2** to be created instead of **CLSID\_WICPngDecoder1** from the [**CreateDecoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createdecoder) method and its variants.</span></span> <span data-ttu-id="46d27-182">En outre, l’énumérateur des informations sur les composants du décodeur retourne les informations du composant **CLSID \_ WICPngDecoder2** , mais pas les informations **\_ WICPngDecoder1 CLSID** .</span><span class="sxs-lookup"><span data-stu-id="46d27-182">Also, a decoder component info enumerator will return **CLSID\_WICPngDecoder2** component info, but not **CLSID\_WICPngDecoder1** info.</span></span>

<span data-ttu-id="46d27-183">La spécification du **CLSID \_ WICImagingFactory1** entraîne l’utilisation de CLSID **\_ WICPngDecoder1** à la place de **CLSID \_ WICPngDecoder2** dans les cas ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="46d27-183">Specifying **CLSID\_WICImagingFactory1** will cause **CLSID\_WICPngDecoder1** to be used instead of **CLSID\_WICPngDecoder2** in the above cases.</span></span>

## <a name="whats-new-for-windows-7"></a><span data-ttu-id="46d27-184">Nouveautés de Windows 7</span><span class="sxs-lookup"><span data-stu-id="46d27-184">What's new for Windows 7</span></span>

<span data-ttu-id="46d27-185">Dans Windows 7, WIC a été mis à jour avec plusieurs nouvelles fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="46d27-185">In Windows 7, WIC has been updated with several new features.</span></span> <span data-ttu-id="46d27-186">Cette rubrique fournit une présentation rapide de ces nouvelles fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="46d27-186">This topic provides a quick introduction to these new features.</span></span>

### <a name="updates-to-the-tiff-codec"></a><span data-ttu-id="46d27-187">Mises à jour du codec TIFF</span><span class="sxs-lookup"><span data-stu-id="46d27-187">Updates to the TIFF Codec</span></span>

<span data-ttu-id="46d27-188">Le codec WIC TIFF a été mis à jour pour Windows 7 afin de prendre en charge plusieurs fonctionnalités non prises en charge par la version précédente de WIC.</span><span class="sxs-lookup"><span data-stu-id="46d27-188">The WIC TIFF codec has been updated for Windows 7 to support several features not supported by the previous version of WIC.</span></span>

-   <span data-ttu-id="46d27-189">Prise en charge des fichiers TIFF volumineux.</span><span class="sxs-lookup"><span data-stu-id="46d27-189">Support for large TIFF files.</span></span>
-   <span data-ttu-id="46d27-190">Décoder des images TIFF en mosaïque.</span><span class="sxs-lookup"><span data-stu-id="46d27-190">Decode tiled TIFF images.</span></span>
-   <span data-ttu-id="46d27-191">Décodez les images TIFF plat (planaires).</span><span class="sxs-lookup"><span data-stu-id="46d27-191">Decode flat (planar) TIFF images.</span></span>
-   <span data-ttu-id="46d27-192">Décoder des images TIFF encodées au format JPEG.</span><span class="sxs-lookup"><span data-stu-id="46d27-192">Decode JPEG encoded TIFF images.</span></span>

### <a name="progressive-decoding"></a><span data-ttu-id="46d27-193">Décodage progressif</span><span class="sxs-lookup"><span data-stu-id="46d27-193">Progressive Decoding</span></span>

<span data-ttu-id="46d27-194">Le décodage progressif permet de décoder et de restituer de façon incrémentielle des parties d’une image avant la fin du téléchargement de l’image entière.</span><span class="sxs-lookup"><span data-stu-id="46d27-194">Progressive decoding provides the ability to incrementally decode and render portions of an image before the entire image has finished downloading.</span></span> <span data-ttu-id="46d27-195">Cette fonctionnalité améliore considérablement l’expérience utilisateur lors de l’affichage d’images à partir d’Internet, car l’utilisateur n’a pas besoin d’attendre que l’intégralité de l’image soit téléchargée avant de commencer le décodage.</span><span class="sxs-lookup"><span data-stu-id="46d27-195">This feature greatly improves the user experience when viewing images from the Internet, because the user does not have to wait for the entire image to download before decoding can begin.</span></span> <span data-ttu-id="46d27-196">Avec le décodage progressif, les utilisateurs peuvent voir une image en préversion avec des données disponibles avant le téléchargement de l’image entière.</span><span class="sxs-lookup"><span data-stu-id="46d27-196">With progressive decoding, users are able to see an image preview with available data long before the entire image is downloaded.</span></span> <span data-ttu-id="46d27-197">Cette fonctionnalité est essentielle pour toute application utilisée pour afficher des images à partir d’Internet ou de sources de données avec une bande passante limitée.</span><span class="sxs-lookup"><span data-stu-id="46d27-197">This feature is essential for any application used to view images from the Internet or from data sources with limited bandwidth.</span></span>

<span data-ttu-id="46d27-198">Pour plus d’informations, consultez la [vue d’ensemble du décodage progressif](-wic-progressive-decoding.md).</span><span class="sxs-lookup"><span data-stu-id="46d27-198">For more information, see the [Progressive Decoding Overview](-wic-progressive-decoding.md).</span></span>

### <a name="extended-metadata-support-for-jpeg-png-and-gif"></a><span data-ttu-id="46d27-199">Prise en charge des métadonnées étendues pour JPEG, PNG et GIF</span><span class="sxs-lookup"><span data-stu-id="46d27-199">Extended Metadata Support for JPEG, PNG, and GIF</span></span>

<span data-ttu-id="46d27-200">Dans Windows 7, WIC a étendu la prise en charge des métadonnées pour les images JPEG, PNG et GIF.</span><span class="sxs-lookup"><span data-stu-id="46d27-200">In Windows 7, WIC has extended its metadata support for JPEG, PNG, and GIF images.</span></span>

-   <span data-ttu-id="46d27-201">Ajout de la prise en charge des propriétés GIF et GIF animées.</span><span class="sxs-lookup"><span data-stu-id="46d27-201">Added support for animated GIF and GIF properties.</span></span>
-   <span data-ttu-id="46d27-202">Gestionnaires de métadonnées JPG étendus pour prendre en charge les métadonnées de chrominance, de luminance et de commentaire.</span><span class="sxs-lookup"><span data-stu-id="46d27-202">Expanded JPG metadata handlers to support chrominance, luminance, and comment metadata.</span></span>
-   <span data-ttu-id="46d27-203">Gestionnaires de métadonnées PNG étendus pour prendre en charge les métadonnées tIME, sRVB, iCCP, historiques, cHRM, iTXt, bKGD et gAMA.</span><span class="sxs-lookup"><span data-stu-id="46d27-203">Expanded PNG metadata handlers to support tIME, sRGB, iCCP, hIST, cHRM, iTXt, bKGD, and gAMA metadata.</span></span>
-   <span data-ttu-id="46d27-204">Ajout de nouveaux gestionnaires de métadonnées 8BIM pour les métadonnées ResolutionInfo et les métadonnées IPTC Digest.</span><span class="sxs-lookup"><span data-stu-id="46d27-204">Added new 8BIM metadata handlers for ResolutionInfo metadata and IPTC digest metadata.</span></span>
-   <span data-ttu-id="46d27-205">Ajout de nouveaux gestionnaires de métadonnées pour le descripteur d’écran logique (LSD), le descripteur d’image (IMD), les extensions de contrôle graphique (GCE) et les métadonnées d’extensions d’application (APE).</span><span class="sxs-lookup"><span data-stu-id="46d27-205">Added new metadata handlers for Logical Screen Descriptor (LSD), Image Descriptor (IMD), Graphic Control Extensions (GCE), and Application Extensions (APE) metadata.</span></span>
-   <span data-ttu-id="46d27-206">Prise en charge des métadonnées qui s’étendent sur les blocs APPn.</span><span class="sxs-lookup"><span data-stu-id="46d27-206">Support for metadata that spans APPn blocks.</span></span>

### <a name="multi-threaded-apartment-support"></a><span data-ttu-id="46d27-207">Prise en charge du cloisonnement multithread</span><span class="sxs-lookup"><span data-stu-id="46d27-207">Multi Threaded Apartment Support</span></span>

<span data-ttu-id="46d27-208">Les objets d’un cloisonnement multithread (MTA) peuvent être appelés simultanément par un nombre quelconque de threads dans le MTA, ce qui permet de meilleures performances sur les systèmes multicœurs et certains scénarios de serveur.</span><span class="sxs-lookup"><span data-stu-id="46d27-208">Objects within a multithreaded apartment (MTA) may be called concurrently by any number of threads within the MTA, allowing for better performance on multicore systems and certain server scenarios.</span></span> <span data-ttu-id="46d27-209">En outre, les codecs WIC qui résident dans un MTA peuvent appeler d’autres objets qui résident dans le MTA sans le coût de marshaling associé à l’appel entre les threads qui résident dans différents Apartments STA.</span><span class="sxs-lookup"><span data-stu-id="46d27-209">In addition, WIC codecs that live within an MTA can call other objects that live within the MTA without the marshaling cost associated of calling between threads that live in different STA apartments.</span></span> <span data-ttu-id="46d27-210">Dans Windows 7, tous les codecs WIC intégrés ont été mis à jour pour prendre en charge le MTA, y compris JPEG, TIFF, PNG, GIF, ICO et BMP.</span><span class="sxs-lookup"><span data-stu-id="46d27-210">In Windows 7, all in-box WIC codecs have been updated to support MTA, including JPEG, TIFF, PNG, GIF, ICO, and BMP.</span></span> <span data-ttu-id="46d27-211">Il est vivement recommandé d’écrire les codecs pour prendre en charge le MTA.</span><span class="sxs-lookup"><span data-stu-id="46d27-211">It is highly recommended that codecs be written to support MTA.</span></span> <span data-ttu-id="46d27-212">Les codecs qui ne prennent pas en charge le MTA entraînent des dégradation de performances significatifs dans les applications multithread en raison du marshaling.</span><span class="sxs-lookup"><span data-stu-id="46d27-212">Codecs that do not support MTA will cause significant performance degredation in multithreaded applications due to marshaling.</span></span> <span data-ttu-id="46d27-213">L’activation de la prise en charge de MTA nécessite une synchronisation appropriée à implémenter dans le codec.</span><span class="sxs-lookup"><span data-stu-id="46d27-213">Enabling MTA support requires proper synchronization to be implemented in the codec.</span></span> <span data-ttu-id="46d27-214">L’implémentation exacte de ces techniques de synchronisation dépasse le cadre de ce document.</span><span class="sxs-lookup"><span data-stu-id="46d27-214">Exact implementation of these synchronization techniques is beyond the scope of this paper.</span></span> <span data-ttu-id="46d27-215">Vous trouverez ci-dessous une référence générale pour la synchronisation des objets COM (Component Object Model).</span><span class="sxs-lookup"><span data-stu-id="46d27-215">A general reference for synchronizing Component Object Model (COM) objects is provided below.</span></span>

### <a name="metadata-working-group-implementations"></a><span data-ttu-id="46d27-216">Implémentations du groupe de travail des métadonnées</span><span class="sxs-lookup"><span data-stu-id="46d27-216">Metadata Working Group Implementations</span></span>

<span data-ttu-id="46d27-217">Il existe actuellement un large éventail de formats de stockage des métadonnées qui contiennent des propriétés qui se chevauchent, sans une norme de l’industrie claire ou des conseils sur les méthodes cohérentes pour lire et écrire ces formats de métadonnées.</span><span class="sxs-lookup"><span data-stu-id="46d27-217">There are currently a variety of metadata storage formats that contain overlapping properties, without any clear industry standard or guidance on consistent methods for reading and writing these metadata formats.</span></span> <span data-ttu-id="46d27-218">Pour faciliter cette variété de formats et de propriétés, le groupe de travail des métadonnées (MWG) a été formé.</span><span class="sxs-lookup"><span data-stu-id="46d27-218">To help with this variety of formats and properties, the Metadata Working Group (MWG) was formed.</span></span> <span data-ttu-id="46d27-219">L’objectif de l’MWG est de fournir des indications qui garantissent l’interopérabilité entre une large gamme de plateformes, d’applications et d’appareils.</span><span class="sxs-lookup"><span data-stu-id="46d27-219">The aim of the MWG is to provide guidelines that ensure interoperability among a wide variety of platforms, applications, and devices.</span></span> <span data-ttu-id="46d27-220">Les recommandations établies par MWG s’appliquent aux champs de métadonnées XMP, EXIF et IPTC, ainsi qu’aux formats d’image JPEG, TIFF et PSD.</span><span class="sxs-lookup"><span data-stu-id="46d27-220">The guidelines established by the MWG apply to the XMP, Exif, and IPTC metadata fields, and to the JPEG, TIFF, and PSD image formats.</span></span>

<span data-ttu-id="46d27-221">Dans Windows 7, le gestionnaire de métadonnées de photos et la couche de stratégie de métadonnées ont été mis à jour pour lire et écrire des métadonnées d’image conformément aux directives établies par MWG.</span><span class="sxs-lookup"><span data-stu-id="46d27-221">In Windows 7, the photo metadata handler and the metadata policy layer have been updated to read and write image metadata according to the guidelines established by the MWG.</span></span> <span data-ttu-id="46d27-222">Pour plus d’informations sur le groupe de travail des métadonnées (MWG), consultez les [instructions relatives aux métadonnées établies](https://s3.amazonaws.com/software.tagthatphoto.com/docs/mwg_guidance.pdf).</span><span class="sxs-lookup"><span data-stu-id="46d27-222">For more information on the Metadata Working Group (MWG), view the [established metadata guidelines](https://s3.amazonaws.com/software.tagthatphoto.com/docs/mwg_guidance.pdf).</span></span>

### <a name="windows-7-features-supported-on-windows-vista-and-windows-server-2008"></a><span data-ttu-id="46d27-223">Fonctionnalités Windows 7 prises en charge sur Windows Vista et Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="46d27-223">Windows 7 features supported on Windows Vista and Windows Server 2008</span></span>

<span data-ttu-id="46d27-224">La [mise à jour de plateforme pour Windows Vista](../win7ip/platform-update-for-windows-vista-portal.md) est un ensemble de bibliothèques Runtime qui permet aux développeurs de cibler des applications à la fois sur Windows 7 et Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="46d27-224">The [Platform Update for Windows Vista](../win7ip/platform-update-for-windows-vista-portal.md) is a set of run-time libraries that enables developers to target applications to both Windows 7 and Windows Vista.</span></span> <span data-ttu-id="46d27-225">La mise à jour de plateforme pour Windows Server 2008 est un ensemble de bibliothèques Runtime qui permet aux développeurs de cibler des applications à la fois sur Windows Server 2008 R2 et Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="46d27-225">The Platform Update for Windows Server 2008 is a set of run-time libraries that enables developers to target applications to both Windows Server 2008 R2 and Windows Server 2008.</span></span> <span data-ttu-id="46d27-226">La mise à jour de plateforme pour Windows Vista et la mise à jour de plateforme pour Windows Server 2008 seront disponibles pour tous les clients Windows Vista et Windows Server 2008 via Windows Update.</span><span class="sxs-lookup"><span data-stu-id="46d27-226">The Platform Update for Windows Vista and the Platform Update for Windows Server 2008 will be available to all Windows Vista and Windows Server 2008 customers through Windows Update.</span></span> <span data-ttu-id="46d27-227">Les applications tierces qui requièrent une mise à jour de plateforme pour Windows Vista ou une mise à jour de plateforme pour Windows Server 2008 peuvent avoir Windows Update détecter si la mise à jour requise est installée ; Si ce n’est pas le cas, Windows Update le télécharge et l’installe en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="46d27-227">Third-party applications that require Platform Update for Windows Vista or Platform Update for Windows Server 2008 can have Windows Update detect whether the required updated is installed; if it is not, Windows Update will download and install it in the background.</span></span> <span data-ttu-id="46d27-228">Pour plus d’informations sur les deux mises à jour, consultez Mise à jour de la plateforme pour Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="46d27-228">For more information about both updates, see Platform Update for Windows Vista</span></span>

 

 
