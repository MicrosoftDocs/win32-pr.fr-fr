---
title: Adresses Teredo
ms.assetid: e2e185c2-e53d-471d-aedb-54d75f9db0bb
description: 'En savoir plus sur : adresses Teredo'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc08a53da2f710423d948e9479df2aeb08f20178
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104320834"
---
# <a name="teredo-addresses"></a><span data-ttu-id="0b01d-103">Adresses Teredo</span><span class="sxs-lookup"><span data-stu-id="0b01d-103">Teredo Addresses</span></span>

<span data-ttu-id="0b01d-104">Une adresse Teredo se compose des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="0b01d-104">A Teredo address consists of the following:</span></span>

-   <span data-ttu-id="0b01d-105">**Préfixe Teredo**</span><span class="sxs-lookup"><span data-stu-id="0b01d-105">**Teredo prefix**</span></span>

    <span data-ttu-id="0b01d-106">Les 32 premiers bits sont pour le préfixe Teredo, qui est le même pour toutes les adresses Teredo.</span><span class="sxs-lookup"><span data-stu-id="0b01d-106">The first 32 bits are for the Teredo prefix, which is the same for all Teredo addresses.</span></span> <span data-ttu-id="0b01d-107">Windows XP et Windows Server 2003 utilisaient initialement le préfixe Teredo 3FFE : 831F ::/32.</span><span class="sxs-lookup"><span data-stu-id="0b01d-107">Windows XP and Windows Server 2003 initially used the 3FFE:831F::/32 Teredo prefix.</span></span> <span data-ttu-id="0b01d-108">Le préfixe défini pour Teredo dans RFC 4380 est 2001 ::/32 et est le préfixe utilisé par Teredo dans Windows Vista et Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="0b01d-108">The prefix defined for Teredo in RFC 4380 is 2001::/32 and is the prefix used by Teredo in Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="0b01d-109">Les ordinateurs exécutant Windows XP et Windows Server 2003 utilisent le préfixe Teredo de 2001 ::/32 lorsqu’ils sont mis à jour avec le bulletin de sécurité Microsoft MS06-064.</span><span class="sxs-lookup"><span data-stu-id="0b01d-109">Computers running Windows XP and Windows Server 2003 will use the 2001::/32 Teredo prefix when updated with Microsoft Security Bulletin MS06-064.</span></span>

-   <span data-ttu-id="0b01d-110">**Adresse IPv4 du serveur Teredo**</span><span class="sxs-lookup"><span data-stu-id="0b01d-110">**Teredo server IPv4 address**</span></span>

    <span data-ttu-id="0b01d-111">Les 32 bits suivants contiennent l’adresse IPv4 publique du serveur Teredo qui a aidé à configurer cette adresse Teredo.</span><span class="sxs-lookup"><span data-stu-id="0b01d-111">The next 32 bits contain the IPv4 public address of the Teredo server that helped configure this Teredo address.</span></span> <span data-ttu-id="0b01d-112">Pour plus d’informations, consultez « Configuration initiale des clients Teredo » dans cet article.</span><span class="sxs-lookup"><span data-stu-id="0b01d-112">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

-   <span data-ttu-id="0b01d-113">**Indicateurs**</span><span class="sxs-lookup"><span data-stu-id="0b01d-113">**Flags**</span></span>

    <span data-ttu-id="0b01d-114">Les 16 bits suivants pour sont réservés aux indicateurs Teredo.</span><span class="sxs-lookup"><span data-stu-id="0b01d-114">The next 16 bits for are reserved for Teredo flags.</span></span> <span data-ttu-id="0b01d-115">Pour les clients Teredo basés sur Windows XP, le seul indicateur défini est le bit de poids fort connu sous le nom d’indicateur de cône.</span><span class="sxs-lookup"><span data-stu-id="0b01d-115">For Windows XP-based Teredo clients, the only defined flag is the high order bit known as the Cone flag.</span></span> <span data-ttu-id="0b01d-116">L’indicateur conique est défini lorsque le client Teredo se trouve derrière un périphérique NAT conique.</span><span class="sxs-lookup"><span data-stu-id="0b01d-116">The Cone flag is set when Teredo client is behind a cone NAT.</span></span> <span data-ttu-id="0b01d-117">Déterminer si le NAT connecté à Internet est un périphérique NAT conique se produit pendant la configuration initiale du client Teredo.</span><span class="sxs-lookup"><span data-stu-id="0b01d-117">The determination of whether the NAT connected to the Internet is a cone NAT occurs during the Teredo client's initial configuration.</span></span> <span data-ttu-id="0b01d-118">Pour plus d’informations, consultez « Configuration initiale des clients Teredo » dans cet article.</span><span class="sxs-lookup"><span data-stu-id="0b01d-118">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

    <span data-ttu-id="0b01d-119">Pour les clients Teredo basés sur Windows Vista et Windows Server 2008, les bits inutilisés dans le champ Flags fournissent un niveau de protection contre les analyses d’adresses par des utilisateurs malveillants.</span><span class="sxs-lookup"><span data-stu-id="0b01d-119">For Windows Vista and Windows Server 2008-based Teredo clients, unused bits within the Flags field provide a level of protection from address scans by malicious users.</span></span> <span data-ttu-id="0b01d-120">Les 16 bits dans le champ Flags pour les clients Teredo basés sur Windows Vista et Windows Server 2008 sont constitués des éléments suivants : CRAAAAUG AAAAAAAA.</span><span class="sxs-lookup"><span data-stu-id="0b01d-120">The 16 bits within the Flags field for Windows Vista and Windows Server 2008-based Teredo clients consists of the following: CRAAAAUG AAAAAAAA.</span></span> <span data-ttu-id="0b01d-121">Le bit C est pour l’indicateur de cône.</span><span class="sxs-lookup"><span data-stu-id="0b01d-121">The C bit is for the Cone flag.</span></span> <span data-ttu-id="0b01d-122">Le bit R est réservé pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="0b01d-122">The R bit is reserved for future use.</span></span> <span data-ttu-id="0b01d-123">Le bit U est destiné à l’indicateur Universal/local (défini sur 0).</span><span class="sxs-lookup"><span data-stu-id="0b01d-123">The U bit is for the Universal/Local flag (set to 0).</span></span> <span data-ttu-id="0b01d-124">Le bit G est l’indicateur individuel/groupe (défini sur 0).</span><span class="sxs-lookup"><span data-stu-id="0b01d-124">The G bit is Individual/Group flag (set to 0).</span></span> <span data-ttu-id="0b01d-125">Les bits A sont définis sur un nombre de 12 bits généré de manière aléatoire.</span><span class="sxs-lookup"><span data-stu-id="0b01d-125">The A bits are set to a 12-bit randomly generated number.</span></span> <span data-ttu-id="0b01d-126">En utilisant un nombre aléatoire pour les bits A, un utilisateur malveillant qui a déterminé le reste de l’adresse Teredo en capturant l’échange de la configuration initiale des paquets entre le client Teredo et le serveur Teredo devra essayer jusqu’à 4 096 (212) adresses différentes pour déterminer l’adresse d’un client Teredo au cours d’une analyse d’adresse.</span><span class="sxs-lookup"><span data-stu-id="0b01d-126">By using a random number for the A bits, a malicious user that has determined the rest of the Teredo address by capturing the initial configuration exchange of packets between the Teredo client and Teredo server will have to try up to 4,096 (212) different addresses to determine a Teredo client's address during an address scan.</span></span>

-   <span data-ttu-id="0b01d-127">**Port externe masqué**</span><span class="sxs-lookup"><span data-stu-id="0b01d-127">**Obscured external port**</span></span>

    <span data-ttu-id="0b01d-128">Les 16 bits suivants stockent une version masquée du port UDP externe correspondant à tout le trafic Teredo pour ce client Teredo.</span><span class="sxs-lookup"><span data-stu-id="0b01d-128">The next 16 bits store an obscured version of the external UDP port corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="0b01d-129">Lorsque le client Teredo envoie son paquet initial à un serveur Teredo, le port UDP source du paquet est mappé par le NAT à un port UDP externe différent.</span><span class="sxs-lookup"><span data-stu-id="0b01d-129">When the Teredo client sends its initial packet to a Teredo server, the source UDP port of the packet is mapped by the NAT to a different, external UDP port.</span></span> <span data-ttu-id="0b01d-130">Le client Teredo gère ce mappage de port afin qu’il reste dans la table de traduction de l’interface NAT.</span><span class="sxs-lookup"><span data-stu-id="0b01d-130">The Teredo client maintains this port mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="0b01d-131">Par conséquent, tout le trafic Teredo de l’hôte utilise le même port UDP mappé externe.</span><span class="sxs-lookup"><span data-stu-id="0b01d-131">Therefore, all Teredo traffic for the host uses the same external, mapped UDP port.</span></span> <span data-ttu-id="0b01d-132">Le port UDP externe est déterminé par le serveur Teredo à partir du port UDP source du paquet initial entrant envoyé par le client Teredo et renvoyé au client Teredo.</span><span class="sxs-lookup"><span data-stu-id="0b01d-132">The external UDP port is determined by the Teredo server from the source UDP port of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="0b01d-133">Le port externe est masqué par XORing le port externe avec la fonction 0xFFFF.</span><span class="sxs-lookup"><span data-stu-id="0b01d-133">The external port is obscured by XORing the external port with 0xFFFF.</span></span> <span data-ttu-id="0b01d-134">Par exemple, la version masquée du port externe 5000 au format hexadécimal est EC77 (5000 = 0x1388, 0x1388 XOR 0xFFFF = 0xEC77).</span><span class="sxs-lookup"><span data-stu-id="0b01d-134">For example, the obscured version of the external port 5000 in hexadecimal format is EC77 (5000 = 0x1388, 0x1388 XOR 0xFFFF = 0xEC77).</span></span> <span data-ttu-id="0b01d-135">Le masquage du port externe empêche les NAT de traduire le port externe dans la charge utile des paquets qu’ils transfèrent.</span><span class="sxs-lookup"><span data-stu-id="0b01d-135">Obscuring the external port prevents NATs from translating the external port within the payload of the packets that they are forwarding.</span></span>

-   <span data-ttu-id="0b01d-136">**Adresse externe masquée**</span><span class="sxs-lookup"><span data-stu-id="0b01d-136">**Obscured external address**</span></span>

    <span data-ttu-id="0b01d-137">Les 32 derniers bits stockent une version masquée de l’adresse IPv4 externe correspondant à tout le trafic Teredo pour ce client Teredo.</span><span class="sxs-lookup"><span data-stu-id="0b01d-137">The last 32 bits store an obscured version of the external IPv4 address corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="0b01d-138">Tout comme le port externe, lorsque le client Teredo envoie son paquet initial à un serveur Teredo, l’adresse IP source du paquet est mappée par le NAT à une autre adresse externe (publique).</span><span class="sxs-lookup"><span data-stu-id="0b01d-138">Just like the external port, when the Teredo client sends its initial packet to a Teredo server, the source IP address of the packet is mapped by the NAT to a different, external (public) address.</span></span> <span data-ttu-id="0b01d-139">Le client Teredo gère ce mappage d’adresses afin qu’il reste dans la table de traduction de l’interface NAT.</span><span class="sxs-lookup"><span data-stu-id="0b01d-139">The Teredo client maintains this address mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="0b01d-140">Par conséquent, tout le trafic Teredo de l’hôte utilise la même adresse IPv4 publique externe et mappée.</span><span class="sxs-lookup"><span data-stu-id="0b01d-140">Therefore, all Teredo traffic for the host uses the same external, mapped, public IPv4 address.</span></span> <span data-ttu-id="0b01d-141">L’adresse IPv4 externe est déterminée par le serveur Teredo à partir de l’adresse IPv4 source du paquet initial entrant envoyé par le client Teredo et renvoyée au client Teredo.</span><span class="sxs-lookup"><span data-stu-id="0b01d-141">The external IPv4 address is determined by the Teredo server from the source IPv4 address of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="0b01d-142">L’adresse externe est masquée par XORing l’adresse externe avec 0xFFFFFFFF.</span><span class="sxs-lookup"><span data-stu-id="0b01d-142">The external address is obscured by XORing the external address with 0xFFFFFFFF.</span></span> <span data-ttu-id="0b01d-143">Par exemple, la version masquée de l’adresse IPv4 publique 131.107.0.1 au format hexadécimal à deux-points est 7C94 : FFFE (131.107.0.1 = 0x836B0001, 0x836B0001 XOR 0xFFFFFFFF = 0x7C94FFFE).</span><span class="sxs-lookup"><span data-stu-id="0b01d-143">For example, the obscured version of the public IPv4 address 131.107.0.1 in colon-hexadecimal format is 7C94:FFFE (131.107.0.1 = 0x836B0001, 0x836B0001 XOR 0xFFFFFFFF = 0x7C94FFFE).</span></span> <span data-ttu-id="0b01d-144">Le masquage de l’adresse externe empêche les traducteurs d’adresses utilisateur de traduire l’adresse externe dans la charge utile des paquets qu’ils transfèrent.</span><span class="sxs-lookup"><span data-stu-id="0b01d-144">Obscuring the external address prevents NATs from translating the external address within the payload of the packets that they are forwarding.</span></span>

 

 




