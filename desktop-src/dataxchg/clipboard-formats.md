---
title: Formats du presse-papiers
description: Une fenêtre peut placer plusieurs objets dans le presse-papiers, chacun représentant les mêmes informations dans un format de presse-papiers différent. Les utilisateurs n’ont pas besoin de connaître les formats du presse-papiers utilisés pour un objet dans le presse-papiers.
ms.assetid: fe42baec-6b00-4816-b379-7f335da8a197
keywords:
- presse-papiers, formats
- presse-papiers, fenêtres
- presse-papiers, formats standard
- presse-papiers, formats enregistrés
- presse-papiers, formats synthétisés
- formats de presse-papiers standard
- formats de presse-papiers inscrits
- formats de presse-papiers synthétisés
- formats du presse-papiers Cloud
- formats d’historique du presse-papiers
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 193ee4cc10c17846d974e50b17a464207026280b
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "106510905"
---
# <a name="clipboard-formats"></a><span data-ttu-id="02084-114">Formats du presse-papiers</span><span class="sxs-lookup"><span data-stu-id="02084-114">Clipboard Formats</span></span>

<span data-ttu-id="02084-115">Une fenêtre peut placer plusieurs objets dans le presse-papiers, chacun représentant les mêmes informations dans un format de presse-papiers différent.</span><span class="sxs-lookup"><span data-stu-id="02084-115">A window can place more than one object on the clipboard, each representing the same information in a different clipboard format.</span></span> <span data-ttu-id="02084-116">Les utilisateurs n’ont pas besoin de connaître les formats du presse-papiers utilisés pour un objet dans le presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="02084-116">Users need not be aware of the clipboard formats used for an object on the clipboard.</span></span>

<span data-ttu-id="02084-117">Les rubriques suivantes décrivent les formats du presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="02084-117">The following topics describe the clipboard formats.</span></span>

-   [<span data-ttu-id="02084-118">Formats de presse-papiers standard</span><span class="sxs-lookup"><span data-stu-id="02084-118">Standard Clipboard Formats</span></span>](#standard-clipboard-formats)
-   [<span data-ttu-id="02084-119">Formats de presse-papiers inscrits</span><span class="sxs-lookup"><span data-stu-id="02084-119">Registered Clipboard Formats</span></span>](#registered-clipboard-formats)
-   [<span data-ttu-id="02084-120">Formats de presse-papiers privés</span><span class="sxs-lookup"><span data-stu-id="02084-120">Private Clipboard Formats</span></span>](#private-clipboard-formats)
-   [<span data-ttu-id="02084-121">Plusieurs formats de presse-papiers</span><span class="sxs-lookup"><span data-stu-id="02084-121">Multiple Clipboard Formats</span></span>](#multiple-clipboard-formats)
-   [<span data-ttu-id="02084-122">Formats de presse-papiers synthétisés</span><span class="sxs-lookup"><span data-stu-id="02084-122">Synthesized Clipboard Formats</span></span>](#synthesized-clipboard-formats)
-   [<span data-ttu-id="02084-123">Presse-papiers du Cloud et formats d’historique du presse-papiers</span><span class="sxs-lookup"><span data-stu-id="02084-123">Cloud Clipboard and Clipboard History Formats</span></span>](#cloud-clipboard-and-clipboard-history-formats)

## <a name="standard-clipboard-formats"></a><span data-ttu-id="02084-124">Formats de presse-papiers standard</span><span class="sxs-lookup"><span data-stu-id="02084-124">Standard Clipboard Formats</span></span>

<span data-ttu-id="02084-125">Les formats de presse-papiers définis par le système sont appelés *formats de presse-papiers standard*.</span><span class="sxs-lookup"><span data-stu-id="02084-125">The clipboard formats defined by the system are called *standard clipboard formats*.</span></span> <span data-ttu-id="02084-126">Ces formats de presse-papiers sont décrits dans les [**formats de presse-papiers standard**](standard-clipboard-formats.md).</span><span class="sxs-lookup"><span data-stu-id="02084-126">These clipboard formats are described in [**Standard Clipboard Formats**](standard-clipboard-formats.md).</span></span>

## <a name="registered-clipboard-formats"></a><span data-ttu-id="02084-127">Formats de presse-papiers inscrits</span><span class="sxs-lookup"><span data-stu-id="02084-127">Registered Clipboard Formats</span></span>

<span data-ttu-id="02084-128">De nombreuses applications fonctionnent avec des données qui ne peuvent pas être traduites dans un format de presse-papiers standard sans perte d’informations.</span><span class="sxs-lookup"><span data-stu-id="02084-128">Many applications work with data that cannot be translated into a standard clipboard format without loss of information.</span></span> <span data-ttu-id="02084-129">Ces applications peuvent créer leurs propres formats de presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="02084-129">These applications can create their own clipboard formats.</span></span> <span data-ttu-id="02084-130">Un format de presse-papiers qui est défini par une application est appelé [format de presse-papiers inscrit](#registered-clipboard-formats).</span><span class="sxs-lookup"><span data-stu-id="02084-130">A clipboard format that is defined by an application, is called a [registered clipboard format](#registered-clipboard-formats).</span></span> <span data-ttu-id="02084-131">Par exemple, si une application de traitement de texte copiait du texte mis en forme dans le presse-papiers à l’aide d’un format de texte standard, les informations de mise en forme seraient perdues.</span><span class="sxs-lookup"><span data-stu-id="02084-131">For example, if a word-processing application copied formatted text to the clipboard using a standard text format, the formatting information would be lost.</span></span> <span data-ttu-id="02084-132">La solution consisterait à inscrire un nouveau format de presse-papiers, par exemple RTF (Rich Text Format).</span><span class="sxs-lookup"><span data-stu-id="02084-132">The solution would be to register a new clipboard format, such as Rich Text Format (RTF).</span></span>

<span data-ttu-id="02084-133">Pour inscrire un nouveau format de presse-papiers, utilisez la fonction [**RegisterClipboardFormat**](/windows/desktop/api/Winuser/nf-winuser-registerclipboardformata) .</span><span class="sxs-lookup"><span data-stu-id="02084-133">To register a new clipboard format, use the [**RegisterClipboardFormat**](/windows/desktop/api/Winuser/nf-winuser-registerclipboardformata) function.</span></span> <span data-ttu-id="02084-134">Cette fonction prend le nom du format et retourne une valeur entière non signée qui représente le format de presse-papiers inscrit.</span><span class="sxs-lookup"><span data-stu-id="02084-134">This function takes the name of the format and returns an unsigned integer value that represents the registered clipboard format.</span></span> <span data-ttu-id="02084-135">Pour récupérer le nom du format du presse-papiers inscrit, transmettez la valeur de l’entier non signé à la fonction [**GetClipboardFormatName**](/windows/desktop/api/Winuser/nf-winuser-getclipboardformatnamea) .</span><span class="sxs-lookup"><span data-stu-id="02084-135">To retrieve the name of the registered clipboard format, pass the unsigned integer value to the [**GetClipboardFormatName**](/windows/desktop/api/Winuser/nf-winuser-getclipboardformatnamea) function.</span></span>

<span data-ttu-id="02084-136">Si plusieurs applications inscrivent un format de presse-papiers avec exactement le même nom, le format du presse-papiers n’est inscrit qu’une seule fois.</span><span class="sxs-lookup"><span data-stu-id="02084-136">If more than one application registers a clipboard format with exactly the same name, the clipboard format is registered only once.</span></span> <span data-ttu-id="02084-137">Les deux appels à la fonction [**RegisterClipboardFormat**](/windows/desktop/api/Winuser/nf-winuser-registerclipboardformata) retournent la même valeur.</span><span class="sxs-lookup"><span data-stu-id="02084-137">Both calls to the [**RegisterClipboardFormat**](/windows/desktop/api/Winuser/nf-winuser-registerclipboardformata) function return the same value.</span></span> <span data-ttu-id="02084-138">De cette façon, deux applications différentes peuvent partager des données à l’aide d’un format de presse-papiers inscrit.</span><span class="sxs-lookup"><span data-stu-id="02084-138">In this way, two different applications can share data by using a registered clipboard format.</span></span>

## <a name="private-clipboard-formats"></a><span data-ttu-id="02084-139">Formats de presse-papiers privés</span><span class="sxs-lookup"><span data-stu-id="02084-139">Private Clipboard Formats</span></span>

<span data-ttu-id="02084-140">Une application peut identifier un format de presse-papiers privé en définissant une valeur dans la plage **CF \_ PRIVATEFIRST** via **CF \_ PRIVATELAST**.</span><span class="sxs-lookup"><span data-stu-id="02084-140">An application can identify a private clipboard format by defining a value in the range **CF\_PRIVATEFIRST** through **CF\_PRIVATELAST**.</span></span> <span data-ttu-id="02084-141">Une application peut utiliser un format de presse-papiers privé pour un format de données défini par l’application qui n’a pas besoin d’être inscrit auprès du système.</span><span class="sxs-lookup"><span data-stu-id="02084-141">An application can use a private clipboard format for an application-defined data format that does not need to be registered with the system.</span></span>

<span data-ttu-id="02084-142">Les descripteurs de données associés aux formats de presse-papiers privés ne sont pas automatiquement libérés par le système.</span><span class="sxs-lookup"><span data-stu-id="02084-142">Data handles associated with private clipboard formats are not automatically freed by the system.</span></span> <span data-ttu-id="02084-143">Si votre Windows utilise des formats de presse-papiers privés, vous pouvez utiliser le message [**WM \_ DESTROYCLIPBOARD**](wm-destroyclipboard.md) pour libérer toutes les ressources associées qui ne sont plus nécessaires.</span><span class="sxs-lookup"><span data-stu-id="02084-143">If your windows use private clipboard formats, you can use the [**WM\_DESTROYCLIPBOARD**](wm-destroyclipboard.md) message to free any related resources that are no longer needed.</span></span>

<span data-ttu-id="02084-144">Pour plus d’informations sur le message [**WM \_ DESTROYCLIPBOARD**](wm-destroyclipboard.md) , consultez [propriété du presse-papiers](clipboard-operations.md).</span><span class="sxs-lookup"><span data-stu-id="02084-144">For more information about the [**WM\_DESTROYCLIPBOARD**](wm-destroyclipboard.md) message, see [Clipboard Ownership](clipboard-operations.md).</span></span>

<span data-ttu-id="02084-145">Une application peut placer des handles de données dans le presse-papiers en définissant un format privé dans la plage **CF \_ GDIOBJFIRST** via **CF \_ GDIOBJLAST**.</span><span class="sxs-lookup"><span data-stu-id="02084-145">An application can place data handles on the clipboard by defining a private format in the range **CF\_GDIOBJFIRST** through **CF\_GDIOBJLAST**.</span></span> <span data-ttu-id="02084-146">Lors de l’utilisation de valeurs dans cette plage, le descripteur de données n’est pas un descripteur d’un objet Windows Graphics Device Interface (GDI), mais est un handle alloué par la fonction [**GlobalAlloc**](/windows/desktop/api/winbase/nf-winbase-globalalloc) avec l' \_ indicateur GMEM MoveOn.</span><span class="sxs-lookup"><span data-stu-id="02084-146">When using values in this range, the data handle is not a handle to a Windows Graphics Device Interface (GDI) object, but is a handle allocated by the [**GlobalAlloc**](/windows/desktop/api/winbase/nf-winbase-globalalloc) function with the GMEM\_MOVEABLE flag.</span></span> <span data-ttu-id="02084-147">Lorsque le presse-papiers est vidé, le système supprime automatiquement l’objet à l’aide de la fonction [**GlobalFree**](/windows/desktop/api/winbase/nf-winbase-globalfree) .</span><span class="sxs-lookup"><span data-stu-id="02084-147">When the clipboard is emptied the system automatically deletes the object using the [**GlobalFree**](/windows/desktop/api/winbase/nf-winbase-globalfree) function.</span></span>

## <a name="multiple-clipboard-formats"></a><span data-ttu-id="02084-148">Plusieurs formats de presse-papiers</span><span class="sxs-lookup"><span data-stu-id="02084-148">Multiple Clipboard Formats</span></span>

<span data-ttu-id="02084-149">Une fenêtre peut placer plusieurs objets Clipboard dans le presse-papiers, chacun représentant les mêmes informations dans un format de presse-papiers différent.</span><span class="sxs-lookup"><span data-stu-id="02084-149">A window can place more than one clipboard object on the clipboard, each representing the same information in a different clipboard format.</span></span> <span data-ttu-id="02084-150">Lorsque vous placez des informations dans le presse-papiers, la fenêtre doit fournir les données dans le plus grand nombre possible de formats.</span><span class="sxs-lookup"><span data-stu-id="02084-150">When placing information on the clipboard, the window should provide data in as many formats as possible.</span></span> <span data-ttu-id="02084-151">Pour connaître le nombre de formats actuellement utilisés dans le presse-papiers, appelez la fonction [**CountClipboardFormats**](/windows/desktop/api/Winuser/nf-winuser-countclipboardformats) .</span><span class="sxs-lookup"><span data-stu-id="02084-151">To find out how many formats are currently used on the clipboard, call the [**CountClipboardFormats**](/windows/desktop/api/Winuser/nf-winuser-countclipboardformats) function.</span></span>

<span data-ttu-id="02084-152">Les formats de presse-papiers qui contiennent le plus d’informations doivent être placés en premier dans le presse-papiers, suivis par des formats moins descriptifs.</span><span class="sxs-lookup"><span data-stu-id="02084-152">Clipboard formats that contain the most information should be placed on the clipboard first, followed by less descriptive formats.</span></span> <span data-ttu-id="02084-153">Une fenêtre qui colle des informations à partir du presse-papiers récupère généralement un objet du presse-papiers dans le premier format reconnu.</span><span class="sxs-lookup"><span data-stu-id="02084-153">A window pasting information from the clipboard typically retrieves a clipboard object in the first format it recognizes.</span></span> <span data-ttu-id="02084-154">Étant donné que les formats de presse-papiers sont énumérés dans l’ordre dans lequel ils sont placés dans le presse-papiers, le premier format reconnu est également le plus descriptif.</span><span class="sxs-lookup"><span data-stu-id="02084-154">Because clipboard formats are enumerated in the order they are placed on the clipboard, the first recognized format is also the most descriptive.</span></span>

<span data-ttu-id="02084-155">Par exemple, supposons qu’un utilisateur copie un texte stylisé à partir d’un document de traitement de texte.</span><span class="sxs-lookup"><span data-stu-id="02084-155">For example, suppose a user copies styled text from a word-processing document.</span></span> <span data-ttu-id="02084-156">La fenêtre contenant le document peut d’abord placer des données dans le presse-papiers dans un format enregistré, tel que RTF.</span><span class="sxs-lookup"><span data-stu-id="02084-156">The window containing the document might first place data on the clipboard in a registered format, such as RTF.</span></span> <span data-ttu-id="02084-157">Par la suite, la fenêtre placerait des données dans le presse-papiers dans un format moins descriptif, tel que texte (**\_ texte de CF**).</span><span class="sxs-lookup"><span data-stu-id="02084-157">Subsequently, the window would place data on the clipboard in a less descriptive format, such as text (**CF\_TEXT**).</span></span>

<span data-ttu-id="02084-158">Lorsque le contenu du presse-papiers est collé dans une autre fenêtre, la fenêtre récupère les données au format le plus descriptif qu’il reconnaît.</span><span class="sxs-lookup"><span data-stu-id="02084-158">When the content of the clipboard is pasted into another window, the window retrieves data in the most descriptive format it recognizes.</span></span> <span data-ttu-id="02084-159">Si la fenêtre reconnaît le format RTF, les données correspondantes sont collées dans le document.</span><span class="sxs-lookup"><span data-stu-id="02084-159">If the window recognizes RTF, the corresponding data is pasted into the document.</span></span> <span data-ttu-id="02084-160">Dans le cas contraire, les données de texte sont collées dans le document et les informations de mise en forme sont perdues.</span><span class="sxs-lookup"><span data-stu-id="02084-160">Otherwise, the text data is pasted into the document and the formatting information is lost.</span></span>

## <a name="synthesized-clipboard-formats"></a><span data-ttu-id="02084-161">Formats de presse-papiers synthétisés</span><span class="sxs-lookup"><span data-stu-id="02084-161">Synthesized Clipboard Formats</span></span>

<span data-ttu-id="02084-162">Le système convertit implicitement les données entre certains formats de presse-papiers : si une fenêtre demande des données dans un format qui ne se trouve pas dans le presse-papiers, le système convertit un format disponible au format demandé.</span><span class="sxs-lookup"><span data-stu-id="02084-162">The system implicitly converts data between certain clipboard formats: if a window requests data in a format that is not on the clipboard, the system converts an available format to the requested format.</span></span> <span data-ttu-id="02084-163">Le système peut convertir les données comme indiqué dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="02084-163">The system can convert data as indicated in the following table.</span></span>



| <span data-ttu-id="02084-164">Format de Presse-papiers</span><span class="sxs-lookup"><span data-stu-id="02084-164">Clipboard Format</span></span>     | <span data-ttu-id="02084-165">Format de conversion</span><span class="sxs-lookup"><span data-stu-id="02084-165">Conversion Format</span></span>    |
|----------------------|----------------------|
| <span data-ttu-id="02084-166">**\_bitmap cf**</span><span class="sxs-lookup"><span data-stu-id="02084-166">**CF\_BITMAP**</span></span>       | <span data-ttu-id="02084-167">**CF \_ DIB**</span><span class="sxs-lookup"><span data-stu-id="02084-167">**CF\_DIB**</span></span>          |
| <span data-ttu-id="02084-168">**\_bitmap cf**</span><span class="sxs-lookup"><span data-stu-id="02084-168">**CF\_BITMAP**</span></span>       | <span data-ttu-id="02084-169">**CF \_ DIBV5**</span><span class="sxs-lookup"><span data-stu-id="02084-169">**CF\_DIBV5**</span></span>        |
| <span data-ttu-id="02084-170">**CF \_ DIB**</span><span class="sxs-lookup"><span data-stu-id="02084-170">**CF\_DIB**</span></span>          | <span data-ttu-id="02084-171">**\_bitmap cf**</span><span class="sxs-lookup"><span data-stu-id="02084-171">**CF\_BITMAP**</span></span>       |
| <span data-ttu-id="02084-172">**CF \_ DIB**</span><span class="sxs-lookup"><span data-stu-id="02084-172">**CF\_DIB**</span></span>          | <span data-ttu-id="02084-173">**\_palette cf**</span><span class="sxs-lookup"><span data-stu-id="02084-173">**CF\_PALETTE**</span></span>      |
| <span data-ttu-id="02084-174">**CF \_ DIB**</span><span class="sxs-lookup"><span data-stu-id="02084-174">**CF\_DIB**</span></span>          | <span data-ttu-id="02084-175">**CF \_ DIBV5**</span><span class="sxs-lookup"><span data-stu-id="02084-175">**CF\_DIBV5**</span></span>        |
| <span data-ttu-id="02084-176">**CF \_ DIBV5**</span><span class="sxs-lookup"><span data-stu-id="02084-176">**CF\_DIBV5**</span></span>        | <span data-ttu-id="02084-177">**\_bitmap cf**</span><span class="sxs-lookup"><span data-stu-id="02084-177">**CF\_BITMAP**</span></span>       |
| <span data-ttu-id="02084-178">**CF \_ DIBV5**</span><span class="sxs-lookup"><span data-stu-id="02084-178">**CF\_DIBV5**</span></span>        | <span data-ttu-id="02084-179">**CF \_ DIB**</span><span class="sxs-lookup"><span data-stu-id="02084-179">**CF\_DIB**</span></span>          |
| <span data-ttu-id="02084-180">**CF \_ DIBV5**</span><span class="sxs-lookup"><span data-stu-id="02084-180">**CF\_DIBV5**</span></span>        | <span data-ttu-id="02084-181">**\_palette cf**</span><span class="sxs-lookup"><span data-stu-id="02084-181">**CF\_PALETTE**</span></span>      |
| <span data-ttu-id="02084-182">**CF \_ ENHMETAFILE**</span><span class="sxs-lookup"><span data-stu-id="02084-182">**CF\_ENHMETAFILE**</span></span>  | <span data-ttu-id="02084-183">**CF \_ MetaFilePict**</span><span class="sxs-lookup"><span data-stu-id="02084-183">**CF\_METAFILEPICT**</span></span> |
| <span data-ttu-id="02084-184">**CF \_ MetaFilePict**</span><span class="sxs-lookup"><span data-stu-id="02084-184">**CF\_METAFILEPICT**</span></span> | <span data-ttu-id="02084-185">**CF \_ ENHMETAFILE**</span><span class="sxs-lookup"><span data-stu-id="02084-185">**CF\_ENHMETAFILE**</span></span>  |
| <span data-ttu-id="02084-186">**CF \_ OEMTEXT**</span><span class="sxs-lookup"><span data-stu-id="02084-186">**CF\_OEMTEXT**</span></span>      | <span data-ttu-id="02084-187">**\_texte cf**</span><span class="sxs-lookup"><span data-stu-id="02084-187">**CF\_TEXT**</span></span>         |
| <span data-ttu-id="02084-188">**CF \_ OEMTEXT**</span><span class="sxs-lookup"><span data-stu-id="02084-188">**CF\_OEMTEXT**</span></span>      | <span data-ttu-id="02084-189">**CF \_ UNICODETEXT**</span><span class="sxs-lookup"><span data-stu-id="02084-189">**CF\_UNICODETEXT**</span></span>  |
| <span data-ttu-id="02084-190">**\_texte cf**</span><span class="sxs-lookup"><span data-stu-id="02084-190">**CF\_TEXT**</span></span>         | <span data-ttu-id="02084-191">**CF \_ OEMTEXT**</span><span class="sxs-lookup"><span data-stu-id="02084-191">**CF\_OEMTEXT**</span></span>      |
| <span data-ttu-id="02084-192">**\_texte cf**</span><span class="sxs-lookup"><span data-stu-id="02084-192">**CF\_TEXT**</span></span>         | <span data-ttu-id="02084-193">**CF \_ UNICODETEXT**</span><span class="sxs-lookup"><span data-stu-id="02084-193">**CF\_UNICODETEXT**</span></span>  |
| <span data-ttu-id="02084-194">**CF \_ UNICODETEXT**</span><span class="sxs-lookup"><span data-stu-id="02084-194">**CF\_UNICODETEXT**</span></span>  | <span data-ttu-id="02084-195">**CF \_ OEMTEXT**</span><span class="sxs-lookup"><span data-stu-id="02084-195">**CF\_OEMTEXT**</span></span>      |
| <span data-ttu-id="02084-196">**CF \_ UNICODETEXT**</span><span class="sxs-lookup"><span data-stu-id="02084-196">**CF\_UNICODETEXT**</span></span>  | <span data-ttu-id="02084-197">**\_texte cf**</span><span class="sxs-lookup"><span data-stu-id="02084-197">**CF\_TEXT**</span></span>         |



 

<span data-ttu-id="02084-198">Si le système fournit une conversion automatique de type pour un format de presse-papiers particulier, il n’y a aucun avantage à placer le ou les formats de conversion dans le presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="02084-198">If the system provides an automatic type conversion for a particular clipboard format, there is no advantage to placing the conversion format(s) on the clipboard.</span></span>

<span data-ttu-id="02084-199">Si le système fournit une conversion automatique de type pour un format de presse-papiers particulier et que vous appelez [**EnumClipboardFormats**](/windows/desktop/api/Winuser/nf-winuser-enumclipboardformats) pour énumérer les formats de données du presse-papiers, le système énumère d’abord le format qui se trouve dans le presse-papiers, suivi des formats dans lesquels il peut être converti.</span><span class="sxs-lookup"><span data-stu-id="02084-199">If the system provides an automatic type conversion for a particular clipboard format, and you call [**EnumClipboardFormats**](/windows/desktop/api/Winuser/nf-winuser-enumclipboardformats) to enumerate the clipboard data formats, the system first enumerates the format that is on the clipboard, followed by the formats to which it can be converted.</span></span>

<span data-ttu-id="02084-200">Lors de la copie de bitmaps, il est préférable de placer le format **CF \_ DIB** ou **CF \_ DIBV5** dans le presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="02084-200">When copying bitmaps, it is best to place the **CF\_DIB** or **CF\_DIBV5** format on the clipboard.</span></span> <span data-ttu-id="02084-201">Cela est dû au fait que les couleurs d’une bitmap dépendante de l’appareil (**\_ bitmap CF**) sont relatives à la palette du système, ce qui peut changer avant le collage de l’image bitmap.</span><span class="sxs-lookup"><span data-stu-id="02084-201">This is because the colors in a device-dependent bitmap (**CF\_BITMAP**) are relative to the system palette, which may change before the bitmap is pasted.</span></span> <span data-ttu-id="02084-202">Si le format de **CF \_ DIB** ou **CF \_ DIBV5** se trouve dans le presse-papiers et qu’une fenêtre demande le format de **\_ bitmap CF** , le système restitue la bitmap indépendante du périphérique (DIB) à ce moment-là.</span><span class="sxs-lookup"><span data-stu-id="02084-202">If the **CF\_DIB** or **CF\_DIBV5** format is on the clipboard and a window requests the **CF\_BITMAP** format, the system renders the device-independent bitmap (DIB) using the current palette at that time.</span></span>

<span data-ttu-id="02084-203">Si vous placez le format de **\_ bitmap CF** dans le presse-papiers (et non dans **CF \_ DIB**), le système restitue le format de presse-papiers **\_ DIB** ou **CF \_ DIBV5** dès que le presse-papiers est fermé.</span><span class="sxs-lookup"><span data-stu-id="02084-203">If you place the **CF\_BITMAP** format on the clipboard (and not **CF\_DIB**), the system renders the **CF\_DIB** or **CF\_DIBV5** clipboard format as soon as the clipboard is closed.</span></span> <span data-ttu-id="02084-204">Cela permet de s’assurer que la palette correcte est utilisée pour générer le DIB.</span><span class="sxs-lookup"><span data-stu-id="02084-204">This ensures that the correct palette is used to generate the DIB.</span></span> <span data-ttu-id="02084-205">Si vous placez le format **CF \_ DIBV5** avec les informations d’espace de couleurs de bitmap dans le presse-papiers, le système convertit les bits de bitmap de l’espace de couleurs de la bitmap dans l’espace de couleurs sRVB lorsque **CF \_ DIB** ou **CF \_ DIBV5** est demandé.</span><span class="sxs-lookup"><span data-stu-id="02084-205">If you place the **CF\_DIBV5** format with the bitmap color space information in the clipboard, the system will convert the bitmap bits from the bitmap color space to the sRGB color space when **CF\_DIB** or **CF\_DIBV5** is requested.</span></span> <span data-ttu-id="02084-206">Si **CF \_ DIBV5** est demandé quand il n’y a pas d’informations sur l’espace colorimétrique dans le presse-papiers, le système retourne des informations sur l’espace colorimétrique sRVB dans la structure [**BITMAPV5HEADER**](/windows/desktop/api/wingdi/ns-wingdi-bitmapv5header) .</span><span class="sxs-lookup"><span data-stu-id="02084-206">If **CF\_DIBV5** is requested when there is no color space information in the clipboard, the system returns sRGB color space information in the [**BITMAPV5HEADER**](/windows/desktop/api/wingdi/ns-wingdi-bitmapv5header) structure.</span></span> <span data-ttu-id="02084-207">Les conversions entre les autres formats de presse-papiers se produisent à la demande.</span><span class="sxs-lookup"><span data-stu-id="02084-207">Conversions between other clipboard formats occur upon demand.</span></span>

<span data-ttu-id="02084-208">Si le presse-papiers contient des données au format de la **\_ palette CF** , l’application doit utiliser les fonctions [**SelectPalette**](/windows/desktop/api/wingdi/nf-wingdi-selectpalette) et [**RealizePalette**](/windows/desktop/api/wingdi/nf-wingdi-realizepalette) pour réaliser toutes les autres données du presse-papiers par rapport à cette palette logique.</span><span class="sxs-lookup"><span data-stu-id="02084-208">If the clipboard contains data in the **CF\_PALETTE** format, the application should use the [**SelectPalette**](/windows/desktop/api/wingdi/nf-wingdi-selectpalette) and [**RealizePalette**](/windows/desktop/api/wingdi/nf-wingdi-realizepalette) functions to realize any other data in the clipboard against that logical palette.</span></span>

<span data-ttu-id="02084-209">Il existe deux formats de presse-papiers pour les sous-fichiers : **CF \_ ENHMETAFILE** et **CF \_ MetaFilePict**.</span><span class="sxs-lookup"><span data-stu-id="02084-209">There are two clipboard formats for metafiles: **CF\_ENHMETAFILE** and **CF\_METAFILEPICT**.</span></span> <span data-ttu-id="02084-210">Spécifiez **CF \_ ENHMETAFILE** pour les sous-fichiers améliorés et **CF \_ MetaFilePict** pour les fichiers Windows.</span><span class="sxs-lookup"><span data-stu-id="02084-210">Specify **CF\_ENHMETAFILE** for enhanced metafiles and **CF\_METAFILEPICT** for Windows metafiles.</span></span>

## <a name="cloud-clipboard-and-clipboard-history-formats"></a><span data-ttu-id="02084-211">Presse-papiers du Cloud et formats d’historique du presse-papiers</span><span class="sxs-lookup"><span data-stu-id="02084-211">Cloud Clipboard and Clipboard History Formats</span></span>

<span data-ttu-id="02084-212">Certaines versions de Windows incluent le [presse-papiers Cloud](/windows/whats-new/whats-new-windows-10-version-1809#cloud-clipboard), qui conserve un historique des éléments de données du presse-papiers récents et peut les synchroniser entre les appareils de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="02084-212">Some versions of Windows include [Cloud Clipboard](/windows/whats-new/whats-new-windows-10-version-1809#cloud-clipboard), which keeps a history of recent clipboard data items and can synchronize it between the user's devices.</span></span>
<span data-ttu-id="02084-213">Si vous ne souhaitez pas que les données que votre application place dans le presse-papiers soient incluses dans l’historique du presse-papiers ou synchronisées avec d’autres appareils, votre application peut contrôler ce comportement en plaçant des données dans certains [formats de presse-papiers inscrits](#registered-clipboard-formats) dont les noms sont connus du système Windows :</span><span class="sxs-lookup"><span data-stu-id="02084-213">If you don't want the data your application places on the clipboard to be included in the clipboard history or synchronized with other devices, your application can control this behavior by placing data in certain [registered clipboard formats](#registered-clipboard-formats) whose names are known to the Windows system:</span></span>

- <span data-ttu-id="02084-214">**ExcludeClipboardContentFromMonitorProcessing** : Placez toutes les données dans le presse-papiers dans ce format pour empêcher que tous les formats du presse-papiers soient inclus dans l’historique du presse-papiers ou synchronisés avec les autres appareils de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="02084-214">**ExcludeClipboardContentFromMonitorProcessing** : Place any data on the clipboard in this format to prevent all clipboard formats being included in the clipboard history or synchronized to the user's other devices.</span></span>
- <span data-ttu-id="02084-215">**CanIncludeInClipboardHistory** : Placez une valeur **[DWORD](../WinProg/windows-data-types.md)** sérialisée de zéro dans le presse-papiers dans ce format pour empêcher l’inclusion de tous les formats du presse-papiers dans l’historique du presse-papiers, ou placez la valeur un à la place pour demander explicitement que l’élément du presse-papiers soit inclus dans l’historique du presse-papiers.</span><span class="sxs-lookup"><span data-stu-id="02084-215">**CanIncludeInClipboardHistory** : Place a serialized **[DWORD](../WinProg/windows-data-types.md)** value of zero on the clipboard in this format to prevent all clipboard formats being included in the clipboard history, or place a value of one instead to explicitly request that the clipboard item be included in the clipboard history.</span></span> <span data-ttu-id="02084-216">Cela n’affecte pas la synchronisation sur les autres appareils de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="02084-216">This does not affect synchronization to the user's other devices.</span></span>
- <span data-ttu-id="02084-217">**CanUploadToCloudClipboard** : Placez une valeur **[DWORD](../WinProg/windows-data-types.md)** sérialisée de zéro dans le presse-papiers dans ce format pour empêcher la synchronisation de tous les formats du presse-papiers avec les autres appareils de l’utilisateur, ou placez la valeur un à la place pour demander explicitement que l’élément du presse-papiers soit synchronisé avec d’autres appareils.</span><span class="sxs-lookup"><span data-stu-id="02084-217">**CanUploadToCloudClipboard** : Place a serialized **[DWORD](../WinProg/windows-data-types.md)** value of zero on the clipboard in this format to prevent all clipboard formats being synchronized to the user's other devices, or place a value of one instead to explicitly request that the clipboard item be synchronized to other devices.</span></span> <span data-ttu-id="02084-218">Cela n’affecte pas l’historique du presse-papiers de l’appareil local.</span><span class="sxs-lookup"><span data-stu-id="02084-218">This does not affect the local device's clipboard history.</span></span>

<span data-ttu-id="02084-219">Comme pour les autres formats de presse-papiers enregistrés, vous devrez utiliser la fonction [**RegisterClipboardFormat**](
/windows/win32/api/winuser/nf-winuser-registerclipboardformata) pour obtenir une valeur entière non signée qui identifie chacun des 3 formats ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="02084-219">As with other registered clipboard formats, you will need to use the [**RegisterClipboardFormat**](
/windows/win32/api/winuser/nf-winuser-registerclipboardformata) function to obtain an unsigned integer value that identifies each of the above 3 formats.</span></span>