---
description: cet article explique comment inscrire et distribuer des gestionnaires de propriétés pour travailler avec le système de propriétés Windows.
ms.assetid: E6E81E04-9CC1-4df5-9A87-DE0CBD177356
title: Inscription et distribution des gestionnaires de propriétés
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ce53f0805c4db5efe38e77ba4e7d1ab5b331c83f
ms.sourcegitcommit: ecd0ba4732f5264aab9baa2839c11f7fea36318f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/07/2021
ms.locfileid: "113481924"
---
# <a name="registering-and-distributing-property-handlers"></a><span data-ttu-id="1b879-103">Inscription et distribution des gestionnaires de propriétés</span><span class="sxs-lookup"><span data-stu-id="1b879-103">Registering and Distributing Property Handlers</span></span>

<span data-ttu-id="1b879-104">cette rubrique explique comment créer et inscrire des gestionnaires de propriétés pour travailler avec le système de propriétés Windows.</span><span class="sxs-lookup"><span data-stu-id="1b879-104">This topic explains how to create and register property handlers to work with the Windows property system.</span></span>

<span data-ttu-id="1b879-105">Cette rubrique est organisée comme suit :</span><span class="sxs-lookup"><span data-stu-id="1b879-105">This topic is organized as follows:</span></span>

-   [<span data-ttu-id="1b879-106">Inscription et distribution des gestionnaires de propriétés</span><span class="sxs-lookup"><span data-stu-id="1b879-106">Registering and Distributing Property Handlers</span></span>](#registering-and-distributing-property-handlers)
-   [<span data-ttu-id="1b879-107">Considérations relatives aux performances et à la fiabilité pour les gestionnaires de propriétés</span><span class="sxs-lookup"><span data-stu-id="1b879-107">Performance and Reliability Considerations for Property Handlers</span></span>](#performance-and-reliability-considerations-for-property-handlers)
    -   [<span data-ttu-id="1b879-108">Instructions relatives aux performances et à la fiabilité</span><span class="sxs-lookup"><span data-stu-id="1b879-108">Guidelines for Performance and Reliability</span></span>](#guidelines-for-performance-and-reliability)
-   [<span data-ttu-id="1b879-109">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="1b879-109">Related topics</span></span>](#related-topics)

## <a name="registering-and-distributing-property-handlers"></a><span data-ttu-id="1b879-110">Inscription et distribution des gestionnaires de propriétés</span><span class="sxs-lookup"><span data-stu-id="1b879-110">Registering and Distributing Property Handlers</span></span>

<span data-ttu-id="1b879-111">Une fois le gestionnaire de propriétés implémenté, il doit être inscrit et son extension de nom de fichier doit être associée au gestionnaire.</span><span class="sxs-lookup"><span data-stu-id="1b879-111">After the property handler is implemented, it must be registered and its file name extension must be associated with the handler.</span></span> <span data-ttu-id="1b879-112">L’exemple suivant qui utilise l’extension. Recipe illustre les entrées de Registre requises pour ce faire.</span><span class="sxs-lookup"><span data-stu-id="1b879-112">The following example using the .recipe extension illustrates the required registry entries to do so.</span></span>

```
HKEY_CLASSES_ROOT
   CLSID
      {50d9450f-2a80-4f08-93b9-2eb526477d1a}
         (Default) = Recipe Property Handler
         ManualSafeSave [REG_DWORD] = 00000001
         InProcServer32
            (Default) = C:\\SDK\\PropertyHandlerSample\\bin\\RecipeHandlers.dll
            ThreadingModel = Apartment
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Windows
            CurrentVersion
               PropertySystem
                  PropertyHandlers
                     .recipe
                        (Default) = {50d9450f-2a80-4f08-93b9-2eb526477d1a}
```

<span data-ttu-id="1b879-113">Les gestionnaires de propriétés pour un type de fichier particulier sont généralement distribués avec les applications qui créent ou manipulent des fichiers de ce type.</span><span class="sxs-lookup"><span data-stu-id="1b879-113">Property handlers for a particular file type are commonly distributed with the application(s) that create or manipulate files of that type.</span></span> <span data-ttu-id="1b879-114">Toutefois, vous devez également envisager de rendre vos gestionnaires de propriétés accessibles indépendamment de ces applications pour prendre en charge l’indexation de votre type de fichier dans les scénarios de serveur où les gestionnaires de propriétés sont utilisés par l’indexeur, mais leurs applications associées ne sont pas requises.</span><span class="sxs-lookup"><span data-stu-id="1b879-114">However, you should also consider making your property handlers available independently of these applications to support indexing of your file type in server scenarios where property handlers are used by the indexer, but their accompanying applications are not required.</span></span> <span data-ttu-id="1b879-115">Si vous créez un package d’installation autonome pour votre gestionnaire de propriétés, assurez-vous qu’il comprend les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="1b879-115">If you create a stand-alone installation package for your property handler, be sure that it includes the following:</span></span>

-   <span data-ttu-id="1b879-116">Détails d’inscription du gestionnaire de propriétés spécifiés dans la rubrique [inscription et distribution des gestionnaires de propriétés]().</span><span class="sxs-lookup"><span data-stu-id="1b879-116">The property handler registration details specified in the topic [Registering and Distributing Property Handlers]().</span></span>
-   <span data-ttu-id="1b879-117">L’inscription de votre type de fichier et de tous les fichiers de schéma qui doivent être installés, pour permettre aux clients d’accéder à toutes les fonctionnalités de votre gestionnaire de propriétés.</span><span class="sxs-lookup"><span data-stu-id="1b879-117">Registration for your file type and any schema files that must be installed, to enable clients to access all the features of your property handler.</span></span>

## <a name="performance-and-reliability-considerations-for-property-handlers"></a><span data-ttu-id="1b879-118">Considérations relatives aux performances et à la fiabilité pour les gestionnaires de propriétés</span><span class="sxs-lookup"><span data-stu-id="1b879-118">Performance and Reliability Considerations for Property Handlers</span></span>

<span data-ttu-id="1b879-119">Les gestionnaires de propriétés sont appelés pour chaque fichier sur un ordinateur particulier.</span><span class="sxs-lookup"><span data-stu-id="1b879-119">Property handlers are invoked for each file on a particular computer.</span></span> <span data-ttu-id="1b879-120">Elles sont généralement appelées dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="1b879-120">They are usually called under the following circumstances:</span></span>

-   <span data-ttu-id="1b879-121">Lors de l’indexation du fichier.</span><span class="sxs-lookup"><span data-stu-id="1b879-121">During indexing of the file.</span></span> <span data-ttu-id="1b879-122">Cette opération est effectuée hors processus, dans un processus isolé avec des droits restreints.</span><span class="sxs-lookup"><span data-stu-id="1b879-122">This is done out-of-process, in an isolated process with restricted rights.</span></span>
-   <span data-ttu-id="1b879-123">lorsque l’accès aux fichiers s’effectue dans Windows Explorer afin de lire et d’écrire des valeurs de propriété.</span><span class="sxs-lookup"><span data-stu-id="1b879-123">When files are accessed in Windows Explorer for the purpose of reading and writing property values.</span></span> <span data-ttu-id="1b879-124">Cette opération est effectuée dans le processus.</span><span class="sxs-lookup"><span data-stu-id="1b879-124">This is done in-process.</span></span>

### <a name="guidelines-for-performance-and-reliability"></a><span data-ttu-id="1b879-125">Instructions relatives aux performances et à la fiabilité</span><span class="sxs-lookup"><span data-stu-id="1b879-125">Guidelines for Performance and Reliability</span></span>

<span data-ttu-id="1b879-126">À tout moment, un utilisateur peut avoir des dizaines de milliers de fichiers d’un type spécifique (y compris le vôtre) sur ses ordinateurs, et peut accéder à tout ou partie de ces fichiers à tout moment.</span><span class="sxs-lookup"><span data-stu-id="1b879-126">At any time, a user might have tens of thousands of files of any specific type (including yours) on his or her computers, and could access or modify any or all of these files at any time.</span></span> <span data-ttu-id="1b879-127">Étant donné que les gestionnaires de propriétés sont souvent appelés pour prendre en charge ces opérations d’accès et de modification, les caractéristiques de performances et de fiabilité de votre gestionnaire de propriétés dans les environnements occupés et hautement simultanés revêtent une importance capitale.</span><span class="sxs-lookup"><span data-stu-id="1b879-127">Because property handlers are frequently invoked to support these access and modify operations, the performance and reliability characteristics of your property handler in busy, highly concurrent environments is of critical importance.</span></span>

<span data-ttu-id="1b879-128">Gardez à l’esprit les recommandations suivantes lors du développement et du test de votre gestionnaire de propriétés.</span><span class="sxs-lookup"><span data-stu-id="1b879-128">Keep in mind the following guidelines as you are developing and testing your property handler.</span></span>

-   <span data-ttu-id="1b879-129">**Énumération des propriétés**</span><span class="sxs-lookup"><span data-stu-id="1b879-129">**Property enumeration**</span></span>

    <span data-ttu-id="1b879-130">Les gestionnaires de propriétés doivent avoir un temps de réponse très rapide dans l’énumération de leurs propriétés.</span><span class="sxs-lookup"><span data-stu-id="1b879-130">Property handlers should have a very fast response time in enumerating their properties.</span></span> <span data-ttu-id="1b879-131">Les calculs gourmands en mémoire des valeurs de propriété, les recherches sur le réseau ou la recherche de ressources autres que le fichier lui-même doivent être évités pour garantir des temps de réponse rapides.</span><span class="sxs-lookup"><span data-stu-id="1b879-131">Memory-intensive calculations of property values, network lookups, or the search for resources other than the file itself should be avoided to ensure fast response times.</span></span>

-   <span data-ttu-id="1b879-132">**Écriture de propriété sur place**</span><span class="sxs-lookup"><span data-stu-id="1b879-132">**In-place property writing**</span></span>

    <span data-ttu-id="1b879-133">Si possible, si vous traitez des fichiers de taille moyenne ou grande (plusieurs centaines de Ko ou plus), le format de fichier doit être organisé afin que les valeurs de propriété de lecture ou d’écriture ne requièrent pas la lecture de l’ensemble du fichier sur le disque.</span><span class="sxs-lookup"><span data-stu-id="1b879-133">If possible, when dealing with medium-sized or large files (several hundred KB or larger), the file format should be arranged so that reading or writing property values does not require reading the whole file from disk.</span></span> <span data-ttu-id="1b879-134">même si le fichier doit être recherché, il ne doit pas être lu en mémoire dans son intégralité, car cela augmente la plage de travail de Windows Explorer ou de l’indexeur de recherche Windows lorsqu’il tente d’accéder à ces fichiers ou de les indexer.</span><span class="sxs-lookup"><span data-stu-id="1b879-134">Even if the file needs to be sought, it should not be read into memory in its entirety because that bloats the working set of Windows Explorer or the Windows Search indexer as they try to access or index these files.</span></span> <span data-ttu-id="1b879-135">Pour plus d’informations, consultez [initialisation des gestionnaires de propriétés](./building-property-handlers-property-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="1b879-135">For more information, see [Initializing Property Handlers](./building-property-handlers-property-handlers.md).</span></span>

    <span data-ttu-id="1b879-136">Pour ce faire, une technique utile consiste à remplir l’en-tête du fichier avec de l’espace supplémentaire afin que la valeur soit écrite à la prochaine fois qu’une valeur de propriété doit être écrite, sans qu’il soit nécessaire de réécrire la totalité du fichier.</span><span class="sxs-lookup"><span data-stu-id="1b879-136">One useful technique to accomplish this is to pad the header of the file with extra space so that the next time a property value needs to be written, the value can be written in place without needing to rewrite the entire file.</span></span> <span data-ttu-id="1b879-137">Cela nécessite la fonctionnalité ManualSafeSave.</span><span class="sxs-lookup"><span data-stu-id="1b879-137">This requires the ManualSafeSave functionality.</span></span> <span data-ttu-id="1b879-138">Cette approche implique un risque supplémentaire que l’opération d’écriture de fichier puisse être interrompue lorsque l’écriture est en cours (en raison d’un incident système ou d’une panne de courant), mais comme la taille des propriétés est généralement faible, la probabilité d’une telle interruption est similaire, et les gains de performance qui peuvent être réalisés par le biais de l’écriture de propriété sur place sont considérés comme</span><span class="sxs-lookup"><span data-stu-id="1b879-138">This approach involves some extra risk that the file write operation might be interrupted while the write is in progress (due to a system crash or power loss), but because property sizes are generally small, the probability of such an interruption is similarly small, and the performance gains that can be realized through in-place property writing are considered significant enough to justify this additional risk.</span></span> <span data-ttu-id="1b879-139">Même dans ce cas, vous devez veiller à tester votre implémentation de manière intensive pour vous assurer que vos fichiers ne sont pas endommagés dans le cas où une défaillance survient au cours d’une opération d’écriture.</span><span class="sxs-lookup"><span data-stu-id="1b879-139">Even so, you should take care to test your implementation extensively to ensure that your files are not corrupted in the event that a failure does arise in the course of a write operation.</span></span>

    <span data-ttu-id="1b879-140">Enfin, lors de l’implémentation de l’écriture de propriété sur place avec ManualSafeSave, il arrive que l’opération ne puisse pas être effectuée sur place et que le flux entier doive être réécrit de toute façon.</span><span class="sxs-lookup"><span data-stu-id="1b879-140">Finally, when implementing in-place property writing with ManualSafeSave, sometimes the operation cannot be performed in-place, and the whole stream must be rewritten anyway.</span></span> <span data-ttu-id="1b879-141">Pour faciliter la réécriture, le flux fourni pendant l’initialisation du gestionnaire prend en charge l’interface [**IDestinationStreamFactory**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-idestinationstreamfactory) .</span><span class="sxs-lookup"><span data-stu-id="1b879-141">To facilitate the rewrite, the stream provided during handler initialization supports the [**IDestinationStreamFactory**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-idestinationstreamfactory) interface.</span></span> <span data-ttu-id="1b879-142">L’interface **IDestinationStreamFactory** permet aux implémentations de gestionnaire d’obtenir un flux temporaire pour l’écriture. Lorsque toutes les écritures sont terminées et que la méthode [**IDestinationStreamFactory :: GetDestinationStream**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-idestinationstreamfactory-getdestinationstream) est appelée, ce flux est utilisé pour remplacer entièrement le flux de fichier d’origine.</span><span class="sxs-lookup"><span data-stu-id="1b879-142">The **IDestinationStreamFactory** interface enables handler implementations to obtain a temporary stream for writing; when all writes are completed and the [**IDestinationStreamFactory::GetDestinationStream**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-idestinationstreamfactory-getdestinationstream) method is called, this stream is used to fully replace the original file stream.</span></span> <span data-ttu-id="1b879-143">Lorsque le flux de destination est utilisé, le flux de fichier d’origine doit être traité en lecture seule, car il sera remplacé par le flux de destination après l’appel de la méthode **IDestinationStreamFactory :: GetDestinationStream** .</span><span class="sxs-lookup"><span data-stu-id="1b879-143">When the destination stream is used, the original file stream should be treated as read-only, because it will be replaced by the destination stream after the **IDestinationStreamFactory::GetDestinationStream** method has been called.</span></span>

-   <span data-ttu-id="1b879-144">**Choix de votre modèle de thread COM**</span><span class="sxs-lookup"><span data-stu-id="1b879-144">**Choosing your COM threading model**</span></span>

    <span data-ttu-id="1b879-145">Pour optimiser l’efficacité de votre gestionnaire de propriétés, vous devez spécifier qu’il utilise le modèle de thread COM `Both` .</span><span class="sxs-lookup"><span data-stu-id="1b879-145">To maximize the efficiency of your property handler, you should specify that it uses the COM threading model `Both`.</span></span> <span data-ttu-id="1b879-146">cela permet un accès direct à partir des cloisonnements STA (Windows Explorer, par exemple) et des cloisonnements de l’agent de transfert des messages (MTA) (le processus SearchProtocolHost dans Windows Search, par exemple), ce qui évite la surcharge liée au marshaling dans ces environnements.</span><span class="sxs-lookup"><span data-stu-id="1b879-146">This enables direct access from STA apartments (Windows Explorer, for example) and message transfer agent (MTA) apartments (the SearchProtocolHost process in Windows Search, for example), avoiding the overhead of marshaling in those environments.</span></span> <span data-ttu-id="1b879-147">Pour tirer pleinement parti du modèle de `Both` thread, tous les services dont dépend votre gestionnaire doivent également être désignés comme `Both` pour éviter tout marshaling dans les appels à ces composants.</span><span class="sxs-lookup"><span data-stu-id="1b879-147">To achieve the full benefit of the `Both` threading model, any services on which your handler depends should also be designated as `Both` to avoid any marshaling in calls to those components.</span></span> <span data-ttu-id="1b879-148">Consultez la documentation de ces services pour vérifier s’ils utilisent ce modèle de thread.</span><span class="sxs-lookup"><span data-stu-id="1b879-148">Check the documentation of these particular services to verify whether they use this threading model.</span></span>

-   <span data-ttu-id="1b879-149">**Concurrence du gestionnaire de propriétés**</span><span class="sxs-lookup"><span data-stu-id="1b879-149">**Property handler concurrency**</span></span>

    <span data-ttu-id="1b879-150">Les gestionnaires de propriétés et l’interface [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) sont conçus pour la série plutôt que pour l’accès simultané.</span><span class="sxs-lookup"><span data-stu-id="1b879-150">Property handlers and the [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) interface are designed for serial rather than concurrent access.</span></span> <span data-ttu-id="1b879-151">Windows l’explorateur, l’indexeur de recherche Windows et tous les autres appels de gestionnaire de propriétés de la base de code Windows garantissent cette utilisation.</span><span class="sxs-lookup"><span data-stu-id="1b879-151">Windows Explorer, the Windows Search indexer, and all other property handler invocations from the Windows codebase guarantee this usage.</span></span> <span data-ttu-id="1b879-152">Il n’y a aucune raison pour les tiers d’utiliser un gestionnaire de propriétés simultanément, mais ce comportement ne peut pas être garanti.</span><span class="sxs-lookup"><span data-stu-id="1b879-152">There should be no reason for third parties to use a property handler concurrently, but this behavior cannot be guaranteed.</span></span> <span data-ttu-id="1b879-153">De même, même si le modèle d’appel est supposé être série, les appels peuvent se trouver sur des threads différents (par exemple, lorsque l’objet est appelé à distance via COM RPC, comme dans l’indexeur).</span><span class="sxs-lookup"><span data-stu-id="1b879-153">Also, even though the calling pattern is expected to be serial, the calls may come on different threads (for instance, when the object is being called remotely via COM RPC, as occurs in the indexer).</span></span> <span data-ttu-id="1b879-154">Par conséquent, les implémentations de gestionnaire de propriétés doivent prendre en charge l’appel de sur des threads différents. idéalement, ils ne doivent pas subir d’effets incorrects lorsqu’ils sont appelés simultanément.</span><span class="sxs-lookup"><span data-stu-id="1b879-154">Therefore, property handler implementations must support being called on different threads, and ideally should not suffer any ill effects when called concurrently.</span></span> <span data-ttu-id="1b879-155">Étant donné que le modèle d’appel prévu est en série, une implémentation trivial à l’aide d’une section critique doit être suffisante pour répondre à ces exigences dans la plupart des cas.</span><span class="sxs-lookup"><span data-stu-id="1b879-155">Because the intended calling pattern is serial, a trivial implementation using a critical section should be sufficient to meet these requirements in most cases.</span></span> <span data-ttu-id="1b879-156">Il est acceptable d’éviter les blocages sur les appels simultanés à l’aide de la fonction [**TryEnterCriticalSection**](/windows/win32/api/synchapi/nf-synchapi-tryentercriticalsection) pour détecter et faire échouer les appels simultanés.</span><span class="sxs-lookup"><span data-stu-id="1b879-156">It is acceptable to avoid blocking on concurrent calls by using the [**TryEnterCriticalSection**](/windows/win32/api/synchapi/nf-synchapi-tryentercriticalsection) function to detect and fail concurrent calls.</span></span>

-   <span data-ttu-id="1b879-157">**Accès concurrentiel aux fichiers**</span><span class="sxs-lookup"><span data-stu-id="1b879-157">**File concurrency**</span></span>

    <span data-ttu-id="1b879-158">Les gestionnaires de propriétés sont souvent utilisés dans les scénarios où plusieurs applications accèdent simultanément à un fichier.</span><span class="sxs-lookup"><span data-stu-id="1b879-158">Property handlers are often used in scenarios where multiple applications access a file concurrently.</span></span> <span data-ttu-id="1b879-159">Par conséquent, le gestionnaire et les applications doivent gérer la concurrence en spécifiant les modes de partage appropriés lors de l’ouverture du fichier.</span><span class="sxs-lookup"><span data-stu-id="1b879-159">Hence, the handler and the applications need to manage the concurrency by specifying appropriate sharing modes when opening the file.</span></span> <span data-ttu-id="1b879-160">Ils doivent également être conscients de l’accès que les autres applications spécifient et pour gérer les cas où l’accès n’est pas autorisé.</span><span class="sxs-lookup"><span data-stu-id="1b879-160">They also need to be aware of the access that the other applications specify and to manage cases where access is not allowed.</span></span> <span data-ttu-id="1b879-161">Il est préférable que tous les consommateurs spécifient des modes de partage libérés pour permettre à d’autres utilisateurs d’accéder simultanément au fichier, mais dans ce cas, les problèmes de cohérence doivent être gérés.</span><span class="sxs-lookup"><span data-stu-id="1b879-161">It is best if all consumers specify liberal sharing modes to enable others to access the file concurrently, but when doing this, consistency issues need to be managed.</span></span> <span data-ttu-id="1b879-162">Les décisions sur les modes de partage les plus appropriés à utiliser doivent être établies dans le contexte de la communauté des applications qui accèdent au fichier.</span><span class="sxs-lookup"><span data-stu-id="1b879-162">Decisions on the most appropriate sharing modes to be used need to be made in the context of the community of applications that access the file.</span></span>

    <span data-ttu-id="1b879-163">Les systèmes de fichiers permettent aux applications d’ouvrir des fichiers d’une façon qui leur permet de contrôler si d’autres applications peuvent ou non ouvrir le fichier.</span><span class="sxs-lookup"><span data-stu-id="1b879-163">File systems enable applications to open files in a way that gives them control over whether and how other applications can open the file.</span></span> <span data-ttu-id="1b879-164">Les modes de partage permettent l’accès en lecture, en écriture et en suppression.</span><span class="sxs-lookup"><span data-stu-id="1b879-164">Sharing modes enable read, write, and delete access.</span></span> <span data-ttu-id="1b879-165">Le système de propriétés prend en charge un sous-ensemble de ces modes de partage, décrits dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="1b879-165">The property system supports a subset of these sharing modes, outlined in the following table.</span></span>

    

    | <span data-ttu-id="1b879-166">Mode d’accès</span><span class="sxs-lookup"><span data-stu-id="1b879-166">Access mode</span></span>                     | <span data-ttu-id="1b879-167">Mode de partage</span><span class="sxs-lookup"><span data-stu-id="1b879-167">Sharing mode</span></span>                             |
    |---------------------------------|------------------------------------------|
    | <span data-ttu-id="1b879-168">Write</span><span class="sxs-lookup"><span data-stu-id="1b879-168">Write</span></span>                           | <span data-ttu-id="1b879-169">Refuser d’autres lecteurs et Writers</span><span class="sxs-lookup"><span data-stu-id="1b879-169">Deny other readers and writers</span></span>           |
    | <span data-ttu-id="1b879-170">Écriture (EnableShareDenyWrite)</span><span class="sxs-lookup"><span data-stu-id="1b879-170">Write (EnableShareDenyWrite)</span></span>    | <span data-ttu-id="1b879-171">Activation d’autres lecteurs, refus d’autres enregistreurs</span><span class="sxs-lookup"><span data-stu-id="1b879-171">Enable other readers, deny other writers</span></span> |
    | <span data-ttu-id="1b879-172">Lecture seule (par défaut)</span><span class="sxs-lookup"><span data-stu-id="1b879-172">Read-only (default)</span></span>             | <span data-ttu-id="1b879-173">Activation d’autres lecteurs, refus d’autres enregistreurs</span><span class="sxs-lookup"><span data-stu-id="1b879-173">Enable other readers, deny other writers</span></span> |
    | <span data-ttu-id="1b879-174">Lecture seule (EnableShareDenyNone)</span><span class="sxs-lookup"><span data-stu-id="1b879-174">Read-only (EnableShareDenyNone)</span></span> | <span data-ttu-id="1b879-175">Activer d’autres lecteurs et Writers</span><span class="sxs-lookup"><span data-stu-id="1b879-175">Enable other readers and writers</span></span>         |

    

     

    <span data-ttu-id="1b879-176">Les gestionnaires de propriétés ouverts pour l' **écriture** (GPS \_ ReadWrite) refusent d’autres lecteurs et enregistreurs.</span><span class="sxs-lookup"><span data-stu-id="1b879-176">Property handlers open for **write** (GPS\_READWRITE) will deny other readers and writers.</span></span> <span data-ttu-id="1b879-177">Les gestionnaires peuvent s’abonner à un comportement qui permet aux lecteurs de spécifier l' `EnableShareDenyWrite` indicateur (en impliquant l’activation de la lecture) dans son inscription.</span><span class="sxs-lookup"><span data-stu-id="1b879-177">Handlers can opt into behavior that enables readers by specifying the `EnableShareDenyWrite` flag (implying enable Read) in its registration.</span></span>

    <span data-ttu-id="1b879-178">Les gestionnaires de propriétés ouverts en **lecture** (GPS \_ par défaut) activent par défaut d’autres lecteurs, mais refusent d’autres enregistreurs.</span><span class="sxs-lookup"><span data-stu-id="1b879-178">Property handlers open for **read** (GPS\_DEFAULT), by default enable other readers but deny other writers.</span></span> <span data-ttu-id="1b879-179">Les gestionnaires peuvent choisir d’activer d’autres enregistreurs en spécifiant l' `EnableShareDenyNone` indicateur dans son inscription.</span><span class="sxs-lookup"><span data-stu-id="1b879-179">Handlers can opt into enabling other writers by specifying the `EnableShareDenyNone` flag in its registration.</span></span> <span data-ttu-id="1b879-180">Cela signifie qu’un gestionnaire peut gérer avec succès une situation dans laquelle le contenu d’un fichier change pendant que le gestionnaire lit le fichier.</span><span class="sxs-lookup"><span data-stu-id="1b879-180">This means that a handler can successfully handle a situation in which the content of a file changes while the handler is reading the file.</span></span>

    <span data-ttu-id="1b879-181">Pour les définitions d’indicateurs, consultez [**GETPROPERTYSTOREFLAGS**](/windows/win32/api/propsys/ne-propsys-getpropertystoreflags).</span><span class="sxs-lookup"><span data-stu-id="1b879-181">For flag definitions, see [**GETPROPERTYSTOREFLAGS**](/windows/win32/api/propsys/ne-propsys-getpropertystoreflags).</span></span>

## <a name="related-topics"></a><span data-ttu-id="1b879-182">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="1b879-182">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1b879-183">Fonctionnement des gestionnaires de propriétés</span><span class="sxs-lookup"><span data-stu-id="1b879-183">Understanding Property Handlers</span></span>](./building-property-handlers-properties.md)
</dt> <dt>

[<span data-ttu-id="1b879-184">Utilisation des noms de genres</span><span class="sxs-lookup"><span data-stu-id="1b879-184">Using Kind Names</span></span>](./building-property-handlers-user-friendly-kind-names.md)
</dt> <dt>

[<span data-ttu-id="1b879-185">Utilisation des listes de propriétés</span><span class="sxs-lookup"><span data-stu-id="1b879-185">Using Property Lists</span></span>](./building-property-handlers-property-lists.md)
</dt> <dt>

[<span data-ttu-id="1b879-186">Initialisation des gestionnaires de propriétés</span><span class="sxs-lookup"><span data-stu-id="1b879-186">Initializing Property Handlers</span></span>](./building-property-handlers-property-handlers.md)
</dt> <dt>

[<span data-ttu-id="1b879-187">Meilleures pratiques pour le gestionnaire de propriétés et FAQ</span><span class="sxs-lookup"><span data-stu-id="1b879-187">Property Handler Best Practices and FAQ</span></span>](./prophand-bestprac-faq.yml)
</dt> </dl>

 

 
