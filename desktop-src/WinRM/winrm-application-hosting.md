---
title: Infrastructure pour la gestion des services hébergés
description: Windows Remote Management 2,0 (WinRM) introduit une infrastructure d’hébergement. Pour utiliser le Framework, les plug-ins WinRM sont écrits et exposent les données de gestion d’une application au sein de l’infrastructure WinRM.
ms.assetid: 924dcc70-9a29-45a6-99a2-5681235e4574
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8439aca1f36d2d0c2cebb6ed3111aeaa2e4fcee
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104311308"
---
# <a name="infrastructure-for-managing-hosted-services"></a><span data-ttu-id="35482-104">Infrastructure pour la gestion des services hébergés</span><span class="sxs-lookup"><span data-stu-id="35482-104">Infrastructure for Managing Hosted Services</span></span>

<span data-ttu-id="35482-105">Windows Remote Management 2,0 (WinRM) introduit une infrastructure d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="35482-105">Windows Remote Management 2.0 (WinRM) introduces a hosting framework.</span></span> <span data-ttu-id="35482-106">Pour utiliser le Framework, les plug-ins WinRM sont écrits et exposent les données de gestion d’une application au sein de l’infrastructure WinRM.</span><span class="sxs-lookup"><span data-stu-id="35482-106">To use the framework, WinRM plug-ins are written that expose management data of an application within the WinRM infrastructure.</span></span> <span data-ttu-id="35482-107">Deux modèles d’hébergement sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="35482-107">Two hosting models are supported.</span></span> <span data-ttu-id="35482-108">L’un est Internet Information Services (IIS) â € « based et l’autre est WinRMâ ».</span><span class="sxs-lookup"><span data-stu-id="35482-108">One is Internet Information Services (IIS)â€“based and the other is WinRMâ€“service based.</span></span> <span data-ttu-id="35482-109">Le modèle WinRM utilise HTTP.sys et ne dépend pas d’IIS.</span><span class="sxs-lookup"><span data-stu-id="35482-109">The WinRM-based model uses HTTP.sys and does not depend on IIS.</span></span>

<span data-ttu-id="35482-110">Les sections suivantes décrivent les modèles d’hébergement :</span><span class="sxs-lookup"><span data-stu-id="35482-110">The following sections describe the hosting models:</span></span>

-   [<span data-ttu-id="35482-111">Modèle d’hébergement d’extension IIS WinRM</span><span class="sxs-lookup"><span data-stu-id="35482-111">WinRM IIS Extension Hosting Model</span></span>](#winrm-iis-extension-hosting-model)
    -   [<span data-ttu-id="35482-112">Équilibrage de charge dans le modèle d’hébergement de l’extension WinRM IIS</span><span class="sxs-lookup"><span data-stu-id="35482-112">Load Balancing in the WinRM IIS Extension Hosting Model</span></span>](#load-balancing-in-the-winrm-iis-extension-hosting-model)
    -   [<span data-ttu-id="35482-113">Redirection HTTP dans le modèle d’hébergement de l’extension WinRM IIS</span><span class="sxs-lookup"><span data-stu-id="35482-113">HTTP Redirection in the WinRM IIS Extension Hosting Model</span></span>](#http-redirection-in-the-winrm-iis-extension-hosting-model)
-   [<span data-ttu-id="35482-114">Modèle d’hébergement du service WinRM</span><span class="sxs-lookup"><span data-stu-id="35482-114">WinRM Service Hosting Model</span></span>](#winrm-service-hosting-model)

## <a name="winrm-iis-extension-hosting-model"></a><span data-ttu-id="35482-115">Modèle d’hébergement d’extension IIS WinRM</span><span class="sxs-lookup"><span data-stu-id="35482-115">WinRM IIS Extension Hosting Model</span></span>

<span data-ttu-id="35482-116">Le module d’extension IIS WinRM est un composant facultatif qui est installé à l’aide de l' **Gestionnaire de serveur**.</span><span class="sxs-lookup"><span data-stu-id="35482-116">The WinRM IIS extension module is an optional component that is installed using the **Server Manager**.</span></span> <span data-ttu-id="35482-117">Le module d’extension WinRM IIS est utilisé pour créer des points de terminaison WinRMâ» à partir du service IIS.</span><span class="sxs-lookup"><span data-stu-id="35482-117">The WinRM IIS extension module is used to create WinRMâ€“enabled endpoints from within the IIS service.</span></span> <span data-ttu-id="35482-118">Ce module peut être activé au niveau du site Web ou du répertoire virtuel.</span><span class="sxs-lookup"><span data-stu-id="35482-118">This module can be enabled at either the website or virtual directory level.</span></span> <span data-ttu-id="35482-119">Il fonctionne en interceptant et en redirigeant les demandes entrantes vers le site Web ou le répertoire virtuel associé.</span><span class="sxs-lookup"><span data-stu-id="35482-119">It works by intercepting and redirecting incoming requests to the associated website or virtual directory.</span></span> <span data-ttu-id="35482-120">Les requêtes sont redirigées vers un module WinRM qui analyse le contenu, puis détermine quel plug-in WinRM est configuré pour gérer chaque demande.</span><span class="sxs-lookup"><span data-stu-id="35482-120">The requests are redirected to a WinRM module that analyzes the content and then determines which WinRM plug-in is configured to handle each request.</span></span> <span data-ttu-id="35482-121">Pour plus d’informations, consultez [configuration du plug-in hôte IIS](iis-host-plug-in-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="35482-121">For more information, see [IIS Host Plug-in Configuration](iis-host-plug-in-configuration.md).</span></span>

<span data-ttu-id="35482-122">Le modèle d’hébergement d’extension WinRM IIS est conçu pour gérer un grand nombre de requêtes.</span><span class="sxs-lookup"><span data-stu-id="35482-122">The WinRM IIS extension hosting model is designed to handle a large volume of requests.</span></span> <span data-ttu-id="35482-123">Si le modèle basé sur IIS est utilisé en tant qu’infrastructure d’hébergement, les fonctionnalités suivantes sont disponibles :</span><span class="sxs-lookup"><span data-stu-id="35482-123">If the IIS-based model is used as the hosting framework, the following features are available:</span></span>

-   <span data-ttu-id="35482-124">Les modules d’authentification IIS standard.</span><span class="sxs-lookup"><span data-stu-id="35482-124">The standard IIS authentication modules.</span></span>
-   <span data-ttu-id="35482-125">Processus du pool d’applications IIS pour héberger tous les plug-ins.</span><span class="sxs-lookup"><span data-stu-id="35482-125">The IIS application pool process for hosting all plug-ins.</span></span>
-   <span data-ttu-id="35482-126">Gestion des quotas pour limiter les utilisateurs lourds du système.</span><span class="sxs-lookup"><span data-stu-id="35482-126">Quota management for throttling heavy users of the system.</span></span> <span data-ttu-id="35482-127">Pour plus d’informations, consultez [gestion de quota pour les shells distants](quotas.md).</span><span class="sxs-lookup"><span data-stu-id="35482-127">For more information, see [Quota Management for Remote Shells](quotas.md).</span></span>
-   <span data-ttu-id="35482-128">Modèle de plug-in d’interpréteur de commandes.</span><span class="sxs-lookup"><span data-stu-id="35482-128">A shell plug-in model.</span></span> <span data-ttu-id="35482-129">Voir [API du shell client WinRM](client-shell-api.md).</span><span class="sxs-lookup"><span data-stu-id="35482-129">See [WinRM Client Shell API](client-shell-api.md).</span></span>
-   <span data-ttu-id="35482-130">Modèle d’autorisation flexible.</span><span class="sxs-lookup"><span data-stu-id="35482-130">A flexible authorization model.</span></span> <span data-ttu-id="35482-131">Voir [API du plug-in WinRM](winrm-plugin-api.md).</span><span class="sxs-lookup"><span data-stu-id="35482-131">See [WinRM Plugin API](winrm-plugin-api.md).</span></span>

### <a name="load-balancing-in-the-winrm-iis-extension-hosting-model"></a><span data-ttu-id="35482-132">Équilibrage de charge dans le modèle d’hébergement de l’extension WinRM IIS</span><span class="sxs-lookup"><span data-stu-id="35482-132">Load Balancing in the WinRM IIS Extension Hosting Model</span></span>

<span data-ttu-id="35482-133">La plupart des équilibreurs de charge (lb) prennent en charge un modèle d’adhérence basé sur les cookies.</span><span class="sxs-lookup"><span data-stu-id="35482-133">Most load balancers (LBs) support a cookie-based stickiness model.</span></span> <span data-ttu-id="35482-134">Le LB insère un cookie dans la réponse à la première requête du client.</span><span class="sxs-lookup"><span data-stu-id="35482-134">The LB inserts a cookie into the response to the first request from the client.</span></span> <span data-ttu-id="35482-135">Pour toutes les demandes suivantes, le cookie est transmis dans la demande et le LB utilise le cookie pour acheminer la demande vers le serveur approprié.</span><span class="sxs-lookup"><span data-stu-id="35482-135">For all subsequent requests, the cookie is transmitted in the request and the LB uses the cookie to route the request to the appropriate server.</span></span>

<span data-ttu-id="35482-136">Dans les environnements où WinRM 2,0 est hébergé derrière un LB, le LB doit être configuré de façon à préfixer MS-WSMAN sur le nom du cookie.</span><span class="sxs-lookup"><span data-stu-id="35482-136">In environments where WinRM 2.0 is hosted behind an LB, the LB should be configured to prefix MS-WSMAN to the name of the cookie.</span></span> <span data-ttu-id="35482-137">En outre, la LB doit être configurée pour permettre à la durée de vie du cookie d’être infinie, car le client WinRM doit contrôler la durée de validité du cookie.</span><span class="sxs-lookup"><span data-stu-id="35482-137">In addition, the LB needs to be configured to allow the lifetime of the cookie to be infinite, because the WinRM client should control how long the cookie is valid.</span></span>

<span data-ttu-id="35482-138">Voici un exemple de nom de cookie :</span><span class="sxs-lookup"><span data-stu-id="35482-138">The following is an example of a cookie name:</span></span>

``` syntax
MS-WSMAN=2046820362.20480.0000; path=/
```

### <a name="http-redirection-in-the-winrm-iis-extension-hosting-model"></a><span data-ttu-id="35482-139">Redirection HTTP dans le modèle d’hébergement de l’extension WinRM IIS</span><span class="sxs-lookup"><span data-stu-id="35482-139">HTTP Redirection in the WinRM IIS Extension Hosting Model</span></span>

<span data-ttu-id="35482-140">WinRM 2,0 peut gérer la redirection HTTP.</span><span class="sxs-lookup"><span data-stu-id="35482-140">WinRM 2.0 can handle HTTP redirection.</span></span> <span data-ttu-id="35482-141">Il est recommandé que toutes les redirections utilisent SSL (Secure Sockets Layer) (SSL) et que toutes les applications valident l’URI Redirigé avant de créer une nouvelle session.</span><span class="sxs-lookup"><span data-stu-id="35482-141">It is recommended that all redirection use Secure Sockets Layer (SSL), and that all applications validate the redirected URI before creating a new session.</span></span>

## <a name="winrm-service-hosting-model"></a><span data-ttu-id="35482-142">Modèle d’hébergement du service WinRM</span><span class="sxs-lookup"><span data-stu-id="35482-142">WinRM Service Hosting Model</span></span>

<span data-ttu-id="35482-143">Le modèle de service WinRM s’exécute par-dessus HTTP.sys.</span><span class="sxs-lookup"><span data-stu-id="35482-143">The WinRM service-based model runs on top of HTTP.sys.</span></span> <span data-ttu-id="35482-144">Le service WinRM est un service réseau qui gère les demandes des clients WinRM.</span><span class="sxs-lookup"><span data-stu-id="35482-144">The WinRM service is a network facing service that handles requests from WinRM clients.</span></span> <span data-ttu-id="35482-145">Le service détermine si la requête est routée vers un plug-in qui s’exécute dans le service principal ou est routé via un hôte où le plug-in tiers est exécuté.</span><span class="sxs-lookup"><span data-stu-id="35482-145">The service determines whether the request is routed to a plug-in that runs in the main service or is routed through a host where the third-party plug-in is run.</span></span> <span data-ttu-id="35482-146">Ce modèle est destiné aux scénarios où la charge sur le nœud géré est faible.</span><span class="sxs-lookup"><span data-stu-id="35482-146">This model is intended for scenarios where the load on the managed node is low.</span></span> <span data-ttu-id="35482-147">En outre, ce modèle est destiné aux scénarios dans lesquels l’hébergement IIS n’est pas une option.</span><span class="sxs-lookup"><span data-stu-id="35482-147">Moreover, this model is intended for scenarios where IIS hosting is not an option.</span></span> <span data-ttu-id="35482-148">Pour plus d’informations, consultez [configuration du plug-in du service WinRM](wsman-service-plug-in-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="35482-148">For more information, see [WinRM Service Plug-in Configuration](wsman-service-plug-in-configuration.md).</span></span>

 

 




