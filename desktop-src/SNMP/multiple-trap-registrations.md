---
title: Enregistrements d’interruptions multiples
description: Plusieurs options sont disponibles lorsqu’une application WinSNMP inscrit une session WinSNMP pour les interruptions ou les notifications.
ms.assetid: 76a4095f-ab5c-4f7a-9b60-a383a632fd65
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 81aebf94d60ca26f39bcd53b26cb1f794f43af0d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104310718"
---
# <a name="multiple-trap-registrations"></a><span data-ttu-id="a2472-103">Enregistrements d’interruptions multiples</span><span class="sxs-lookup"><span data-stu-id="a2472-103">Multiple Trap Registrations</span></span>

<span data-ttu-id="a2472-104">Plusieurs options sont disponibles lorsqu’une application WinSNMP inscrit une session WinSNMP pour les interruptions ou les notifications.</span><span class="sxs-lookup"><span data-stu-id="a2472-104">Several options are available when a WinSNMP application registers a WinSNMP session for traps or notifications.</span></span> <span data-ttu-id="a2472-105">Pour cette raison, une application peut appeler la fonction [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) plusieurs fois, en définissant un filtre personnalisé pour la réception des interruptions et des notifications.</span><span class="sxs-lookup"><span data-stu-id="a2472-105">Because of this, an application can call the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function multiple times, in effect defining a custom filter for the reception of traps and notifications.</span></span> <span data-ttu-id="a2472-106">Par exemple, vous pouvez vous inscrire pour un type d’interruption ou de notification, ou pour toutes les interruptions et notifications, selon la valeur du paramètre de *notification* .</span><span class="sxs-lookup"><span data-stu-id="a2472-106">For example, you can register for one type of trap or notification, or for all traps and notifications, depending on the value of the *notification* parameter.</span></span> <span data-ttu-id="a2472-107">En outre, l’application peut spécifier des valeurs dans d’autres paramètres de la fonction **SnmpRegister** pour définir plus précisément les interruptions et les notifications qui doivent atteindre une application.</span><span class="sxs-lookup"><span data-stu-id="a2472-107">Additionally, the application can specify values in other parameters to the **SnmpRegister** function to further define the traps and notifications that should reach an application.</span></span> <span data-ttu-id="a2472-108">Pour plus d’informations, consultez [gestion des interruptions et des notifications](managing-traps-and-notifications.md).</span><span class="sxs-lookup"><span data-stu-id="a2472-108">For more information, see [Managing Traps and Notifications](managing-traps-and-notifications.md).</span></span>

<span data-ttu-id="a2472-109">Voici les instances dans lesquelles plusieurs appels à **SnmpRegister** sont redondants.</span><span class="sxs-lookup"><span data-stu-id="a2472-109">Following are instances in which multiple calls to **SnmpRegister** are redundant.</span></span> <span data-ttu-id="a2472-110">Dans ces instances, **SnmpRegister** retourne SNMPAPI \_ Success si la fonction se termine correctement, mais l’inscription redondante est inefficace.</span><span class="sxs-lookup"><span data-stu-id="a2472-110">In these instances **SnmpRegister** returns SNMPAPI\_SUCCESS if the function completes successfully, but the redundant registration is ineffective.</span></span>

1.  <span data-ttu-id="a2472-111">Appel à la fonction [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) qui demande la remise filtrée des interruptions et des notifications à la session, après un appel précédent à **SnmpRegister** demandant la remise de toutes les interruptions et notifications (remise non filtrée).</span><span class="sxs-lookup"><span data-stu-id="a2472-111">A call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function requesting filtered delivery of traps and notifications to the session, after a previous call to **SnmpRegister** requesting delivery of all traps and notifications (unfiltered delivery).</span></span> <span data-ttu-id="a2472-112">Cet appel est redondant, car la session reçoit déjà toutes les interruptions et notifications, y compris le type unique défini par le filtre.</span><span class="sxs-lookup"><span data-stu-id="a2472-112">This call is redundant because the session is already receiving all traps and notifications, including the single type defined by the filter.</span></span>
2.  <span data-ttu-id="a2472-113">Appel dupliqué à **SnmpRegister**, ou dans lequel la liste de paramètres est identique à la liste de paramètres dans un appel précédent à **SnmpRegister** pour la session.</span><span class="sxs-lookup"><span data-stu-id="a2472-113">A duplicate call to **SnmpRegister**, or one in which the parameter list is identical to the parameter list in a previous call to **SnmpRegister** for the session.</span></span>
3.  <span data-ttu-id="a2472-114">Appel à la fonction [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) qui demande la remise filtrée d’interruptions et de notifications basées sur un identificateur d’objet (OID) dont le préfixe est un OID spécifié dans un appel précédent à **SnmpRegister**.</span><span class="sxs-lookup"><span data-stu-id="a2472-114">A call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function requesting filtered delivery of traps and notifications based on an object identifier (OID) whose prefix is an OID specified in a previous call to **SnmpRegister**.</span></span> <span data-ttu-id="a2472-115">Par exemple, vous pouvez spécifier « 1.3.6.1.4.1.311 » dans le paramètre de *notification* pour recevoir des notifications provenant d’une entité de l’agent Microsoft SNMP.</span><span class="sxs-lookup"><span data-stu-id="a2472-115">For example, you can specify "1.3.6.1.4.1.311" in the *notification* parameter to receive notifications originating from any Microsoft SNMP agent entity.</span></span> <span data-ttu-id="a2472-116">Si vous renommez **SnmpRegister** et spécifiez « 1.3.6.1.4.1.311.1 », le deuxième appel est redondant, car la session reçoit déjà toutes les interruptions et notifications qui contiennent le préfixe OID « 1.3.6.1.4.1.311 ».</span><span class="sxs-lookup"><span data-stu-id="a2472-116">If you call **SnmpRegister** again and specify "1.3.6.1.4.1.311.1", the second call is redundant because the session is already receiving all traps and notifications that contain the OID prefix "1.3.6.1.4.1.311".</span></span>

<span data-ttu-id="a2472-117">Pour annuler l’inscription de la session, vous devez faire correspondre chaque appel d’inscription unique à la fonction [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) .</span><span class="sxs-lookup"><span data-stu-id="a2472-117">To unregister the session, you must match each unique registration call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function.</span></span> <span data-ttu-id="a2472-118">Appelez **SnmpRegister** pour annuler l’inscription de la session et assurez-vous que les cinq premiers paramètres de **SnmpRegister** sont identiques à ceux de l’appel d’inscription initial.</span><span class="sxs-lookup"><span data-stu-id="a2472-118">Call **SnmpRegister** to unregister the session, and ensure that the first five parameters to **SnmpRegister** are identical to those in the initial registration call.</span></span> <span data-ttu-id="a2472-119">La seule différence entre l’appel initial et l’annulation de l’inscription est que, lors de l’inscription, vous devez spécifier la valeur SNMPAPI \_ dans le paramètre *Status* , et lorsque vous appelez la fonction pour annuler l’inscription, vous devez spécifier SNMPAPI \_ off.</span><span class="sxs-lookup"><span data-stu-id="a2472-119">The only difference between the initial call and the unregistering call is that when registering you must specify the value SNMPAPI\_ON in the *status* parameter, and when you call the function to unregister, you must specify SNMPAPI\_OFF.</span></span> <span data-ttu-id="a2472-120">Vous n’avez pas besoin de faire correspondre les appels d’inscription redondants à la fonction **SnmpRegister** .</span><span class="sxs-lookup"><span data-stu-id="a2472-120">You do not need to match redundant registration calls to the **SnmpRegister** function.</span></span> <span data-ttu-id="a2472-121">Vous devez uniquement faire correspondre le premier appel d’inscription unique.</span><span class="sxs-lookup"><span data-stu-id="a2472-121">You need only match the first unique registration call.</span></span>

<span data-ttu-id="a2472-122">Pour modifier des critères de filtrage, il peut être nécessaire pour une application d’annuler son inscription et de désactiver la remise de certaines interruptions ou notifications.</span><span class="sxs-lookup"><span data-stu-id="a2472-122">To change filtering criteria, it may be necessary for an application to first unregister and disable delivery of certain traps or notifications.</span></span> <span data-ttu-id="a2472-123">L’application peut ensuite créer un nouveau filtre en appelant [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister), en transmettant les valeurs appropriées.</span><span class="sxs-lookup"><span data-stu-id="a2472-123">Then the application can create a new filter by calling [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister), passing appropriate values.</span></span>

 

 




