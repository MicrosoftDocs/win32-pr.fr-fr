---
description: La règle générale est qu’une application de bureau peut appeler une API Windows Runtime (WinRT). Toutefois, certaines API, y compris les API d’interface utilisateur XAML, requièrent que l’application appelante ait une identité de package.
ms.assetid: F3808C28-72DE-49B5-A389-EB085EFC02CC
title: API WinRT pouvant être appelées à partir d’une application de bureau
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9083fbfb16391c626f49b79176fed7a81068c028
ms.sourcegitcommit: 0c786b1682063d0cae0fc43180945183fa2c7981
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/24/2020
ms.locfileid: "104032083"
---
# <a name="calling-winrt-apis-from-a-desktop-app"></a><span data-ttu-id="cdc08-104">Appel d’API WinRT à partir d’une application de bureau</span><span class="sxs-lookup"><span data-stu-id="cdc08-104">Calling WinRT APIs from a desktop app</span></span>

<span data-ttu-id="cdc08-105">La règle générale est qu’une application de bureau peut appeler une API WinRT.</span><span class="sxs-lookup"><span data-stu-id="cdc08-105">The general rule is that a desktop app can call a WinRT API.</span></span> <span data-ttu-id="cdc08-106">Toutefois, certaines API, y compris les API d’interface utilisateur XAML, requièrent que l’application appelante ait une identité de package.</span><span class="sxs-lookup"><span data-stu-id="cdc08-106">However, some APIs, including the XAML UI APIs, require the calling app to have a package identity.</span></span> <span data-ttu-id="cdc08-107">Les applications UWP ont un modèle d’application bien défini, et elles ont une identité de package.</span><span class="sxs-lookup"><span data-stu-id="cdc08-107">UWP apps have a well-defined app model, and they have a package identity.</span></span> <span data-ttu-id="cdc08-108">Les autres types d’applications de bureau ne disposent pas d’un modèle d’application bien défini, ni d’une identité de package.</span><span class="sxs-lookup"><span data-stu-id="cdc08-108">The other types of desktop apps have neither a well-defined app model, nor a package identity.</span></span> <span data-ttu-id="cdc08-109">Par conséquent, si une API requiert une identité de package, une application WPF, Windows Forms ou Win32 ne peut pas l’appeler, sauf si l’application [est empaquetée dans un package MSIX](/windows/msix/desktop/desktop-to-uwp-root).</span><span class="sxs-lookup"><span data-stu-id="cdc08-109">Therefore, if an API requires a package identity, a WPF, Windows Forms, or Win32 app cannot call it unless the app [is packaged in an MSIX package](/windows/msix/desktop/desktop-to-uwp-root).</span></span>

## <a name="the-dualapipartition-attribute"></a><span data-ttu-id="cdc08-110">Attribut DualApiPartition</span><span class="sxs-lookup"><span data-stu-id="cdc08-110">The DualApiPartition attribute</span></span>

<span data-ttu-id="cdc08-111">Il s’agit du processus à suivre chaque fois qu’un WinRT particulier que vous aimeriez appeler à partir de votre application de bureau.</span><span class="sxs-lookup"><span data-stu-id="cdc08-111">This is the process to follow whenever there's a particular WinRT that you'd like to call from your desktop app.</span></span> <span data-ttu-id="cdc08-112">Ce processus répond à la question de savoir si l’API est autorisée à être appelée à partir d’une application de bureau.</span><span class="sxs-lookup"><span data-stu-id="cdc08-112">This process will answer the question of whether the API is allowed to be called from a desktop app.</span></span> <span data-ttu-id="cdc08-113">Tout d’abord, visitez les informations de référence sur l' [API Windows pour Windows Runtime Apps](/uwp/), recherchez la rubrique de référence pour l’API de classe ou de membre qui vous intéresse et vérifiez si l’attribut [**DualApiPartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) est listé dans la section attributs.</span><span class="sxs-lookup"><span data-stu-id="cdc08-113">First, visit the [Windows API reference for Windows Runtime apps](/uwp/), find the reference topic for the class or member API you're interested in, and check whether the [**DualApiPartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) attribute is listed in the Attributes section.</span></span>

## <a name="if-the-dualapipartition-attribute-is-listed"></a><span data-ttu-id="cdc08-114">Si l’attribut DualApiPartition est listé</span><span class="sxs-lookup"><span data-stu-id="cdc08-114">If the DualApiPartition attribute is listed</span></span>

<span data-ttu-id="cdc08-115">Si l’attribut DualApiPartition est listé, l’API n’a pas besoin de l’application appelante pour avoir une identité de package, et l’API est autorisée à être appelée à partir de n’importe quelle application de bureau.</span><span class="sxs-lookup"><span data-stu-id="cdc08-115">If the DualApiPartition attribute is listed, the API does not need the calling app to have a package identity, and the API is allowed to be called from any desktop app.</span></span> <span data-ttu-id="cdc08-116">[**Windows. Devices. géolocalisation. géolocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) est un exemple. une application n’a pas besoin d’être identifiée de manière unique afin d’effectuer des tâches d’emplacement.</span><span class="sxs-lookup"><span data-stu-id="cdc08-116">[**Windows.Devices.Geolocation.Geolocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) is an example; an app does not need to be uniquely identified in order to perform location tasks.</span></span>

## <a name="if-the-dualapipartition-attribute-is-not-listed"></a><span data-ttu-id="cdc08-117">Si l’attribut DualApiPartition n’est pas listé</span><span class="sxs-lookup"><span data-stu-id="cdc08-117">If the DualApiPartition attribute is not listed</span></span>

<span data-ttu-id="cdc08-118">Si l’attribut DualApiPartition n’est pas listé, l’API a besoin que l’application appelante ait une identité de package.</span><span class="sxs-lookup"><span data-stu-id="cdc08-118">If the DualApiPartition attribute is not listed, the API does need the calling app to have a package identity.</span></span> <span data-ttu-id="cdc08-119">Par conséquent, une application WPF, Windows Forms ou Win32 n’est pas autorisée à appeler l’API, sauf si l’application a été convertie en application UWP.</span><span class="sxs-lookup"><span data-stu-id="cdc08-119">Therefore a WPF, Windows Forms, or Win32 app is not allowed to call the API unless the app has been converted to a UWP app.</span></span> <span data-ttu-id="cdc08-120">[**Windows. UI. Xaml. Controls. Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) est un exemple.</span><span class="sxs-lookup"><span data-stu-id="cdc08-120">[**Windows.UI.Xaml.Controls.Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) is an example.</span></span>
