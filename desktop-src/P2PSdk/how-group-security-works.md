---
description: Les groupes homologues requièrent que chaque membre possède un certificat spécifique, appelé certificat de membre de groupe (GMC).
ms.assetid: 3966d4eb-4504-4b1e-9c9f-6eab7751d7ed
title: Fonctionnement de la sécurité de groupe
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9d272e9a0567c6edc300a52cfa206305253ec5a2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103865154"
---
# <a name="how-group-security-works"></a><span data-ttu-id="ea79a-103">Fonctionnement de la sécurité de groupe</span><span class="sxs-lookup"><span data-stu-id="ea79a-103">How Group Security Works</span></span>

<span data-ttu-id="ea79a-104">Les groupes homologues requièrent que chaque membre possède un certificat spécifique, appelé certificat de membre de groupe (GMC).</span><span class="sxs-lookup"><span data-stu-id="ea79a-104">Peer groups require that each member have a specific certificate, which is called a Group Member Certificate (GMC).</span></span> <span data-ttu-id="ea79a-105">Le certificat GMC garantit que tous les enregistrements échangés entre les pairs sont signés numériquement.</span><span class="sxs-lookup"><span data-stu-id="ea79a-105">The GMC certificate ensures that all records exchanged between peers are digitally signed.</span></span> <span data-ttu-id="ea79a-106">La clé publique d’un homologue est contenue dans les structures qui sont passées dans le cadre de la communication entre les homologues, y compris les [**\_ \_ informations d’identification de l’homologue**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info).</span><span class="sxs-lookup"><span data-stu-id="ea79a-106">The public key of a peer is contained in the structures that are passed as part of the communication between peers—including [**PEER\_CREDENTIAL\_INFO**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info).</span></span>

<span data-ttu-id="ea79a-107">Un GMC peut être émis dans une chaîne.</span><span class="sxs-lookup"><span data-stu-id="ea79a-107">A GMC can be issued in a chain.</span></span> <span data-ttu-id="ea79a-108">Par exemple, un créateur peut émettre un GMC pour l’administrateur A, qui peut émettre un GMC à l’administrateur B, qui peut émettre un GMC pour le membre M. La chaîne GMC obtenue est : Creator->A->B->M, dont la longueur est égale à 4.</span><span class="sxs-lookup"><span data-stu-id="ea79a-108">For example, a creator can issue a GMC to administrator A, who can issue a GMC to administrator B, who can issue a GMC to member M. The resulting GMC chain is: creator->A->B->M, which has a length of 4.</span></span> <span data-ttu-id="ea79a-109">La longueur de chaîne est importante, car elle ne peut pas être supérieure à 24.</span><span class="sxs-lookup"><span data-stu-id="ea79a-109">The chain length is important, because it cannot be longer than 24.</span></span> <span data-ttu-id="ea79a-110">Si le 24 administrateur d’une chaîne tente d’émettre un GMC à un membre, [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) ou [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) retourne une chaîne d’homologue \_ E \_ \_ trop \_ longue.</span><span class="sxs-lookup"><span data-stu-id="ea79a-110">If the 24th administrator in a chain attempts to issue a GMC to a member, [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) or [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) returns PEER\_E\_CHAIN\_TOO\_LONG.</span></span>

<span data-ttu-id="ea79a-111">Un GMC peut également être émis en appelant [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials).</span><span class="sxs-lookup"><span data-stu-id="ea79a-111">A GMC can also be issued by calling [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials).</span></span> <span data-ttu-id="ea79a-112">Un GMC implique l’appartenance de l’utilisateur au groupe pour lequel le GMC est émis, et peut avoir une durée de vie limitée ou infinie.</span><span class="sxs-lookup"><span data-stu-id="ea79a-112">A GMC implies user membership in the group that the GMC is issued for, and can have a finite or infinite lifetime.</span></span> <span data-ttu-id="ea79a-113">L’activité des membres du groupe ne peut pas être plus longue que la durée de vie spécifiée dans GMC.</span><span class="sxs-lookup"><span data-stu-id="ea79a-113">Group member activity cannot be longer than the lifetime specified in the GMC.</span></span>

> [!Note]  
> <span data-ttu-id="ea79a-114">Une durée de vie infinie de GMC est actuellement définie à 1000 ans.</span><span class="sxs-lookup"><span data-stu-id="ea79a-114">Infinite GMC lifetime is currently set at 1000 years.</span></span>

 

<span data-ttu-id="ea79a-115">L’activité des membres du groupe est limitée par la durée de vie GMC et comprend les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="ea79a-115">Group member activity is limited by the GMC lifetime and includes the following:</span></span>

-   <span data-ttu-id="ea79a-116">**Opérations d’enregistrement** : un homologue ne peut pas publier d’informations dans un groupe après l’expiration de l’appartenance à un groupe, ou publier des enregistrements dont la durée de vie est plus longue que la durée de vie de l’appartenance au groupe de l’homologue.</span><span class="sxs-lookup"><span data-stu-id="ea79a-116">**Record operations** - A peer cannot publish information in a group after the group membership expires, or publish records that have a lifetime longer than the peer's group membership lifetime.</span></span>
-   <span data-ttu-id="ea79a-117">**Opérations d’appartenance** -un administrateur de groupe ne peut pas émettre une appartenance qui a une durée de vie supérieure à la date spécifiée dans l’appartenance à un administrateur de groupe.</span><span class="sxs-lookup"><span data-stu-id="ea79a-117">**Membership operations** - A group administrator cannot issue a membership that has a lifetime beyond the date specified in the group administrator membership.</span></span> <span data-ttu-id="ea79a-118">Par exemple, si un administrateur a 500 heures restantes à sa durée de vie GMC, toutes les appartenances émises doivent être inférieures à 500 heures.</span><span class="sxs-lookup"><span data-stu-id="ea79a-118">For example, if an administrator has 500 hours remaining on its GMC lifetime, all memberships issued must be less than 500 hours.</span></span>

<span data-ttu-id="ea79a-119">Comme un membre du groupe ne peut pas avoir une durée de vie plus longue que l’administrateur qui invite ce membre du groupe, il est recommandé de définir la durée de vie GMC d’un administrateur comme étant infinie ou pour une durée de vie très longue.</span><span class="sxs-lookup"><span data-stu-id="ea79a-119">Because a group member cannot have a lifetime longer than the administrator who invites that group member, it is recommended that you set the GMC lifetime of an administrator as infinite, or for a very long lifetime.</span></span> <span data-ttu-id="ea79a-120">Par défaut, le créateur du groupe a une durée de vie infinie.</span><span class="sxs-lookup"><span data-stu-id="ea79a-120">The group creator has an infinite lifetime by default.</span></span>

## <a name="renewing-group-membership"></a><span data-ttu-id="ea79a-121">Renouvellement de l’appartenance à un groupe</span><span class="sxs-lookup"><span data-stu-id="ea79a-121">Renewing Group Membership</span></span>

<span data-ttu-id="ea79a-122">Pour renouveler les informations d’identification d’un administrateur ou d’un membre dont la durée de vie GMC est prête à expirer, vous disposez des deux options suivantes :</span><span class="sxs-lookup"><span data-stu-id="ea79a-122">To renew the credentials of an administrator or member whose GMC lifetime is ready to expire, you have the following two options:</span></span>

-   <span data-ttu-id="ea79a-123">Appelez [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) et transmettez l’identité du membre dont la durée de vie est prête à expirer.</span><span class="sxs-lookup"><span data-stu-id="ea79a-123">Call [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) and pass the identity of the member whose lifetime is ready to expire.</span></span> <span data-ttu-id="ea79a-124">Si les informations d’identification sont spécifiées comme **null** et que les informations d’appartenance de l’homologue sont disponibles pour le groupe, la durée de renouvellement est définie sur la même durée que celle spécifiée dans les informations d’identification du membre précédemment publiées.</span><span class="sxs-lookup"><span data-stu-id="ea79a-124">If the credentials are specified as **NULL** and the peer's membership information is available to the group, the renewal time is set to the same duration that is specified in the previously published member credentials.</span></span> <span data-ttu-id="ea79a-125">Si une autre période de durée doit être spécifiée, une nouvelle structure [**\_ d' \_ informations d’identification d’homologue**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info) doit être fournie et contient la nouvelle durée de vie, puis une nouvelle GMC est publiée pour le membre.</span><span class="sxs-lookup"><span data-stu-id="ea79a-125">If a different duration period must be specified, a new [**PEER\_CREDENTIAL\_INFO**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info) structure must be provided that contains the new lifetime duration, and then a new GMC is published for the member.</span></span>

    <span data-ttu-id="ea79a-126">La fonction [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) prend éventuellement l' \_ \_ indicateur des informations d’identification du magasin du groupe homologue \_ , qui publie automatiquement les nouvelles informations d’identification du membre dans la base de données du groupe.</span><span class="sxs-lookup"><span data-stu-id="ea79a-126">The [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) function optionally takes the PEER\_GROUP\_STORE\_CREDENTIALS flag, which automatically publishes the new credentials of the member in the group database.</span></span> <span data-ttu-id="ea79a-127">Lorsque le membre se connecte au groupe la prochaine fois, pour la première fois ou après une mise hors connexion, le membre obtient le GMC mis à jour de la base de données.</span><span class="sxs-lookup"><span data-stu-id="ea79a-127">When the member connects to the group the next time, for either the first time or after going offline, the member obtains the updated GMC from the database.</span></span>

-   <span data-ttu-id="ea79a-128">Appelez [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) pour transmettre l’identité du membre dont la durée de vie GMC est prête à expirer.</span><span class="sxs-lookup"><span data-stu-id="ea79a-128">Call [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) to pass the identity of the member whose GMC lifetime is ready to expire.</span></span> <span data-ttu-id="ea79a-129">Si l’expiration spécifiée dans l’invitation est **null**, la durée de vie du GMC est la même que celle de l’administrateur GMC qui émet l’appartenance.</span><span class="sxs-lookup"><span data-stu-id="ea79a-129">If the expiration specified in the invitation is **NULL**, the lifetime duration of the GMC is the same as the administrator GMC who issues membership.</span></span> <span data-ttu-id="ea79a-130">Si le créateur spécifie l’expiration comme **null**, un GMC avec une durée de vie infinie est émis.</span><span class="sxs-lookup"><span data-stu-id="ea79a-130">If the creator specifies the expiration as **NULL**, a GMC with an infinite lifetime is issued.</span></span>

    <span data-ttu-id="ea79a-131">Si un homologue reçoit un GMC qui expire avant la valeur de durée de vie de présence, les adresses de l’homologue ne sont pas disponibles dans les structures de [**\_ membres homologues**](/windows/desktop/api/P2P/ns-p2p-peer_member) retournées dans l’énumération lancée par un appel à [**PeerGroupEnumMembers**](/windows/desktop/api/P2P/nf-p2p-peergroupenummembers).</span><span class="sxs-lookup"><span data-stu-id="ea79a-131">If a peer is issued a GMC that expires before the presence lifetime value, the addresses of the peer are not available in the [**PEER\_MEMBER**](/windows/desktop/api/P2P/ns-p2p-peer_member) structures returned in the enumeration initiated by a call to [**PeerGroupEnumMembers**](/windows/desktop/api/P2P/nf-p2p-peergroupenummembers).</span></span> <span data-ttu-id="ea79a-132">Cela se produit parce que les informations de présence ne sont pas publiées dans ce cas, même si l’indicateur de présence de désactivation d’HOMOLOGUe \_ \_ n’est pas défini.</span><span class="sxs-lookup"><span data-stu-id="ea79a-132">This happens because presence information is not published in this case, even if the PEER\_DISABLE\_PRESENCE flag is not set.</span></span>

 

 



