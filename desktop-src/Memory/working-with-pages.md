---
description: Pour déterminer la taille d’une page sur l’ordinateur actuel, utilisez la fonction GetSystemInfo.
ms.assetid: 953ddfc4-6126-41fb-81a3-0ce1f0fb223f
title: Utilisation des pages
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 66c12c99ada03dca1e17c72c2a5f0d5360b6a98d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104527262"
---
# <a name="working-with-pages"></a><span data-ttu-id="ad938-103">Utilisation des pages</span><span class="sxs-lookup"><span data-stu-id="ad938-103">Working with Pages</span></span>

<span data-ttu-id="ad938-104">Pour déterminer la taille d’une page sur l’ordinateur actuel, utilisez la fonction [**GetSystemInfo**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getsysteminfo) .</span><span class="sxs-lookup"><span data-stu-id="ad938-104">To determine the size of a page on the current computer, use the [**GetSystemInfo**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getsysteminfo) function.</span></span>

<span data-ttu-id="ad938-105">Les fonctions [**VirtualQuery,**](/windows/win32/api/memoryapi/nf-memoryapi-virtualquery) et [**VirtualQueryEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualqueryex) retournent des informations sur une région de pages consécutives en commençant à une adresse spécifiée dans l’espace d’adressage d’un processus.</span><span class="sxs-lookup"><span data-stu-id="ad938-105">The [**VirtualQuery**](/windows/win32/api/memoryapi/nf-memoryapi-virtualquery) and [**VirtualQueryEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualqueryex) functions return information about a region of consecutive pages beginning at a specified address in the address space of a process.</span></span> <span data-ttu-id="ad938-106">**VirtualQuery,** retourne des informations sur la mémoire dans le processus appelant.</span><span class="sxs-lookup"><span data-stu-id="ad938-106">**VirtualQuery** returns information about memory in the calling process.</span></span> <span data-ttu-id="ad938-107">**VirtualQueryEx** retourne des informations sur la mémoire dans un processus spécifié et est utilisé pour prendre en charge les débogueurs qui ont besoin d’informations sur un processus en cours de débogage.</span><span class="sxs-lookup"><span data-stu-id="ad938-107">**VirtualQueryEx** returns information about memory in a specified process and is used to support debuggers that need information about a process being debugged.</span></span> <span data-ttu-id="ad938-108">La région de pages est limitée par l’adresse spécifiée arrondie à la limite de page la plus proche.</span><span class="sxs-lookup"><span data-stu-id="ad938-108">The region of pages is bounded by the specified address rounded down to the nearest page boundary.</span></span> <span data-ttu-id="ad938-109">Il s’étend sur toutes les pages suivantes avec les attributs suivants en commun :</span><span class="sxs-lookup"><span data-stu-id="ad938-109">It extends through all subsequent pages with the following attributes in common:</span></span>

-   <span data-ttu-id="ad938-110">L’état de toutes les pages est le même : validé, réservé ou gratuit.</span><span class="sxs-lookup"><span data-stu-id="ad938-110">The state of all pages is the same: either committed, reserved, or free.</span></span>
-   <span data-ttu-id="ad938-111">Si la page initiale n’est pas libre, toutes les pages de la région font partie de la même allocation initiale des pages qui ont été réservées par un appel à [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span><span class="sxs-lookup"><span data-stu-id="ad938-111">If the initial page is not free, all pages in the region are part of the same initial allocation of pages that were reserved by a call to [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span></span>
-   <span data-ttu-id="ad938-112">La protection d’accès de toutes les pages est identique (c’est-à-dire **page \_ ReadOnly**, **page \_ ReadWrite** ou **page \_ NoAccess**).</span><span class="sxs-lookup"><span data-stu-id="ad938-112">The access protection of all pages is the same (that is, **PAGE\_READONLY**, **PAGE\_READWRITE**, or **PAGE\_NOACCESS**).</span></span>

<span data-ttu-id="ad938-113">La fonction [**VirtualLock**](/windows/win32/api/memoryapi/nf-memoryapi-virtuallock) permet à un processus de verrouiller une ou plusieurs pages de la mémoire allouée dans la mémoire physique (RAM), empêchant ainsi le système de permuter les pages dans le fichier d’échange.</span><span class="sxs-lookup"><span data-stu-id="ad938-113">The [**VirtualLock**](/windows/win32/api/memoryapi/nf-memoryapi-virtuallock) function enables a process to lock one or more pages of committed memory into physical memory (RAM), preventing the system from swapping the pages out to the paging file.</span></span> <span data-ttu-id="ad938-114">Il peut être utilisé pour s’assurer que les données critiques sont accessibles sans accès au disque.</span><span class="sxs-lookup"><span data-stu-id="ad938-114">It can be used to ensure that critical data is accessible without disk access.</span></span> <span data-ttu-id="ad938-115">Le verrouillage des pages en mémoire est dangereux, car cela limite la capacité du système à gérer la mémoire.</span><span class="sxs-lookup"><span data-stu-id="ad938-115">Locking pages into memory is dangerous because it restricts the system's ability to manage memory.</span></span> <span data-ttu-id="ad938-116">Une utilisation excessive des **VirtualLock** peut dégrader les performances du système en provoquant le remplacement du code exécutable dans le fichier d’échange.</span><span class="sxs-lookup"><span data-stu-id="ad938-116">Excessive use of **VirtualLock** can degrade system performance by causing executable code to be swapped out to the paging file.</span></span> <span data-ttu-id="ad938-117">La fonction [**VirtualUnlock**](/windows/win32/api/memoryapi/nf-memoryapi-virtualunlock) déverrouille la mémoire verrouillée par **VirtualLock**.</span><span class="sxs-lookup"><span data-stu-id="ad938-117">The [**VirtualUnlock**](/windows/win32/api/memoryapi/nf-memoryapi-virtualunlock) function unlocks memory locked by **VirtualLock**.</span></span>

<span data-ttu-id="ad938-118">La fonction [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) permet à un processus de modifier la protection d’accès d’une page validée dans l’espace d’adressage d’un processus.</span><span class="sxs-lookup"><span data-stu-id="ad938-118">The [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) function enables a process to modify the access protection of any committed page in the address space of a process.</span></span> <span data-ttu-id="ad938-119">Par exemple, un processus peut allouer des pages en lecture/écriture pour stocker des données sensibles, puis il peut modifier l’accès en lecture seule ou aucun accès pour se protéger contre un remplacement accidentel.</span><span class="sxs-lookup"><span data-stu-id="ad938-119">For example, a process can allocate read/write pages to store sensitive data, and then it can change the access to read only or no access to protect against accidental overwriting.</span></span> <span data-ttu-id="ad938-120">**VirtualProtect** est généralement utilisé avec les pages allouées par [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), mais il fonctionne également avec les pages validées par les autres fonctions d’allocation.</span><span class="sxs-lookup"><span data-stu-id="ad938-120">**VirtualProtect** is typically used with pages allocated by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), but it also works with pages committed by any of the other allocation functions.</span></span> <span data-ttu-id="ad938-121">Toutefois, **VirtualProtect** modifie la protection de pages entières et les pointeurs retournés par les autres fonctions ne sont pas nécessairement alignés sur les limites de la page.</span><span class="sxs-lookup"><span data-stu-id="ad938-121">However, **VirtualProtect** changes the protection of entire pages, and pointers returned by the other functions are not necessarily aligned on page boundaries.</span></span> <span data-ttu-id="ad938-122">La fonction [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) est similaire à **VirtualProtect**, sauf qu’elle modifie la protection de la mémoire dans un processus spécifié.</span><span class="sxs-lookup"><span data-stu-id="ad938-122">The [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) function is similar to **VirtualProtect**, except it changes the protection of memory in a specified process.</span></span> <span data-ttu-id="ad938-123">La modification de la protection est utile aux débogueurs pour accéder à la mémoire d’un processus en cours de débogage.</span><span class="sxs-lookup"><span data-stu-id="ad938-123">Changing the protection is useful to debuggers in accessing the memory of a process being debugged.</span></span>

 

 
