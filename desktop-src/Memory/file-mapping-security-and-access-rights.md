---
description: Le modèle de sécurité Windows vous permet de contrôler l’accès aux objets de mappage de fichiers. Pour plus d’informations, consultez Access-Control modèle.
ms.assetid: 8bbf7c98-ff83-4ed9-8b82-f08dcd31295c
title: Sécurité du mappage de fichiers et droits d’accès
ms.topic: article
ms.date: 10/06/2018
ms.openlocfilehash: 65d520e12d1b555e7c633f0d1e0ba5142c330ce8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106515221"
---
# <a name="file-mapping-security-and-access-rights"></a><span data-ttu-id="e4de8-104">Sécurité du mappage de fichiers et droits d’accès</span><span class="sxs-lookup"><span data-stu-id="e4de8-104">File-mapping security and access rights</span></span>

<span data-ttu-id="e4de8-105">Le modèle de sécurité Windows vous permet de contrôler l’accès aux objets de mappage de fichiers.</span><span class="sxs-lookup"><span data-stu-id="e4de8-105">The Windows security model lets you control access to file-mapping objects.</span></span> <span data-ttu-id="e4de8-106">Pour plus d’informations, consultez [modèle de contrôle d’accès](../secauthz/access-control-model.md).</span><span class="sxs-lookup"><span data-stu-id="e4de8-106">For more information, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="e4de8-107">Vous pouvez spécifier un [descripteur de sécurité](../secauthz/security-descriptors.md) pour un objet de mappage de fichiers lorsque vous appelez la fonction [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) .</span><span class="sxs-lookup"><span data-stu-id="e4de8-107">You can specify a [security descriptor](../secauthz/security-descriptors.md) for a file-mapping object when you call the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function.</span></span> <span data-ttu-id="e4de8-108">Si vous spécifiez **null**, l’objet obtient un descripteur de sécurité par défaut.</span><span class="sxs-lookup"><span data-stu-id="e4de8-108">If you specify **NULL**, the object gets a default security descriptor.</span></span> <span data-ttu-id="e4de8-109">Les listes de contrôle d’accès dans le descripteur de sécurité par défaut pour un objet de mappage de fichiers proviennent du jeton principal ou d’emprunt d’identité du créateur.</span><span class="sxs-lookup"><span data-stu-id="e4de8-109">The ACLs in the default security descriptor for a file-mapping object come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="e4de8-110">Pour récupérer le descripteur de sécurité d’un objet de mappage de fichier, appelez la fonction [**GetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa) ou [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="e4de8-110">To retrieve the security descriptor of a file-mapping object, call the [**GetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa) or [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="e4de8-111">Pour définir le descripteur de sécurité d’un objet de mappage de fichier, appelez la fonction [**SetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa) ou [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="e4de8-111">To set the security descriptor of a file-mapping object, call the [**SetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa) or [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="e4de8-112">Les droits d’accès valides pour les objets de mappage de fichiers incluent les [droits d’accès](../secauthz/standard-access-rights.md)de **suppression**, de **\_ contrôle de lecture**, d' **écriture \_ DAC** et de **\_ propriétaire d’écriture** .</span><span class="sxs-lookup"><span data-stu-id="e4de8-112">The valid access rights for file-mapping objects include the **DELETE**, **READ\_CONTROL**, **WRITE\_DAC**, and **WRITE\_OWNER** [standard access rights](../secauthz/standard-access-rights.md).</span></span> <span data-ttu-id="e4de8-113">Les objets de mappage de fichiers ne prennent pas en charge le droit d’accès **synchronisation** standard.</span><span class="sxs-lookup"><span data-stu-id="e4de8-113">File mapping objects do not support the **SYNCHRONIZE** standard access right.</span></span> <span data-ttu-id="e4de8-114">Le tableau suivant répertorie les droits d’accès spécifiques aux objets de mappage de fichiers.</span><span class="sxs-lookup"><span data-stu-id="e4de8-114">The following table lists the access rights that are specific to file-mapping objects.</span></span>

| <span data-ttu-id="e4de8-115">Droit d’accès</span><span class="sxs-lookup"><span data-stu-id="e4de8-115">Access right</span></span> | <span data-ttu-id="e4de8-116">Signification</span><span class="sxs-lookup"><span data-stu-id="e4de8-116">Meaning</span></span> |
|-|-|
| <span data-ttu-id="e4de8-117">**Explorateur de fichiers- \_ \_ tous les \_ accès**</span><span class="sxs-lookup"><span data-stu-id="e4de8-117">**FILE\_MAP\_ALL\_ACCESS**</span></span> | <span data-ttu-id="e4de8-118">Comprend tous les droits d’accès à un objet de mappage de fichiers à l’exception de l' **\_ \_ exécution de mappages de fichiers**.</span><span class="sxs-lookup"><span data-stu-id="e4de8-118">Includes all access rights to a file-mapping object except **FILE\_MAP\_EXECUTE**.</span></span> <span data-ttu-id="e4de8-119">Les fonctions [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) et [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) traitent cela comme la spécification de l' **\_ \_ écriture de mappage de fichier**.</span><span class="sxs-lookup"><span data-stu-id="e4de8-119">The [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) and [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) functions treat this the same as specifying **FILE\_MAP\_WRITE**.</span></span> |
| <span data-ttu-id="e4de8-120">**mappage de fichiers \_ \_ exécuté**</span><span class="sxs-lookup"><span data-stu-id="e4de8-120">**FILE\_MAP\_EXECUTE**</span></span> | <span data-ttu-id="e4de8-121">Autorise le mappage des vues exécutables de l’objet de mappage de fichier.</span><span class="sxs-lookup"><span data-stu-id="e4de8-121">Allows mapping of executable views of the file-mapping object.</span></span> <span data-ttu-id="e4de8-122">L’objet doit avoir été créé avec la protection de page qui autorise l’accès en exécution, par exemple **page \_ Execute \_ Read**, **page \_ Execute \_ WRITECOPY** ou **page \_ Execute \_ ReadWrite** protection.</span><span class="sxs-lookup"><span data-stu-id="e4de8-122">The object must have been created with page protection that allows execute access, such as **PAGE\_EXECUTE\_READ**, **PAGE\_EXECUTE\_WRITECOPY**, or **PAGE\_EXECUTE\_READWRITE** protection.</span></span>  |
| <span data-ttu-id="e4de8-123">**\_lecture de mappage de fichier \_**</span><span class="sxs-lookup"><span data-stu-id="e4de8-123">**FILE\_MAP\_READ**</span></span> | <span data-ttu-id="e4de8-124">Autorise le mappage des vues en lecture seule ou de copie sur écriture de l’objet de mappage de fichier.</span><span class="sxs-lookup"><span data-stu-id="e4de8-124">Allows mapping of read-only or copy-on-write views of the file-mapping object.</span></span>  |
| <span data-ttu-id="e4de8-125">**\_écriture de mappage de fichier \_**</span><span class="sxs-lookup"><span data-stu-id="e4de8-125">**FILE\_MAP\_WRITE**</span></span> | <span data-ttu-id="e4de8-126">Permet le mappage des vues en lecture seule, de copie sur écriture ou de lecture/écriture d’un objet de mappage de fichier.</span><span class="sxs-lookup"><span data-stu-id="e4de8-126">Allows mapping of read-only, copy-on-write, or read/write views of a file-mapping object.</span></span> <span data-ttu-id="e4de8-127">L’objet doit avoir été créé avec la protection de page qui autorise l’accès en écriture, par exemple **page \_ ReadWrite** ou **page \_ Execute \_ ReadWrite** protection.</span><span class="sxs-lookup"><span data-stu-id="e4de8-127">The object must have been created with page protection that allows write access, such as **PAGE\_READWRITE** or **PAGE\_EXECUTE\_READWRITE** protection.</span></span> |

<span data-ttu-id="e4de8-128">Le mappage d’une vue de copie en écriture d’un objet de mappage de fichiers requiert le même accès que le mappage d’une vue en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="e4de8-128">Mapping a copy-on-write view of a file-mapping object requires the same access as mapping a read-only view.</span></span> <span data-ttu-id="e4de8-129">L’indicateur de **\_ \_ copie de mappage de fichier** n’est pas un droit d’accès et ne doit pas être spécifié dans le cadre d’une liste DACL dans un descripteur de sécurité.</span><span class="sxs-lookup"><span data-stu-id="e4de8-129">The **FILE\_MAP\_COPY** flag is not an access right, and it should not be specified as part of a DACL in a security descriptor.</span></span> <span data-ttu-id="e4de8-130">Cette valeur peut être utilisée uniquement avec les fonctions qui mappent une vue d’un objet de mappage de fichiers, comme les fonctions [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) et [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) , ou avec la fonction [**OpenFileMapping**](/windows/desktop/api/WinBase/nf-winbase-openfilemappinga) , qui traite la **copie de \_ mappage \_ de fichier** de la même façon qu’elle traite la **lecture de \_ mappage \_ de fichier**.</span><span class="sxs-lookup"><span data-stu-id="e4de8-130">This value can be used only with functions that map a view of a file-mapping object, such as the [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) and [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) functions, or with the [**OpenFileMapping**](/windows/desktop/api/WinBase/nf-winbase-openfilemappinga) function, which treats **FILE\_MAP\_COPY** the same way it treats **FILE\_MAP\_READ**.</span></span>

<span data-ttu-id="e4de8-131">Vous pouvez demander le droit accès à la **\_ \_ sécurité du système d’accès** à un objet de mappage de fichiers si vous souhaitez lire ou écrire la liste SACL de l’objet.</span><span class="sxs-lookup"><span data-stu-id="e4de8-131">You can request the **ACCESS\_SYSTEM\_SECURITY** access right to a file-mapping object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="e4de8-132">Pour plus d’informations, consultez [listes de contrôle d’accès (ACL)](../secauthz/access-control-lists.md) et [droit d’accès SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="e4de8-132">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>
