---
description: La fonction VirtualFree annule la validation des pages et les libère conformément aux règles suivantes.
ms.assetid: 8fbd7960-f3f0-4326-ad1d-12b636c0039e
title: Libération de la mémoire virtuelle
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a7628ed53f956d5cd13f0c7d2d1157443d529129
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106516857"
---
# <a name="freeing-virtual-memory"></a><span data-ttu-id="049ad-103">Libération de la mémoire virtuelle</span><span class="sxs-lookup"><span data-stu-id="049ad-103">Freeing Virtual Memory</span></span>

<span data-ttu-id="049ad-104">La fonction [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) annule la validation des pages et les libère conformément aux règles suivantes :</span><span class="sxs-lookup"><span data-stu-id="049ad-104">The [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) function decommits and releases pages according to the following rules:</span></span>

-   <span data-ttu-id="049ad-105">Annule la validation d’une ou plusieurs pages validées, en remplaçant l’état des pages par réservé.</span><span class="sxs-lookup"><span data-stu-id="049ad-105">Decommits one or more committed pages, changing the state of the pages to reserved.</span></span> <span data-ttu-id="049ad-106">La désactivation des pages libère le stockage physique associé aux pages, ce qui la rend disponible pour être allouée par n’importe quel processus.</span><span class="sxs-lookup"><span data-stu-id="049ad-106">Decommitting pages releases the physical storage associated with the pages, making it available to be allocated by any process.</span></span> <span data-ttu-id="049ad-107">Tout bloc de pages validées peut être dévalidée.</span><span class="sxs-lookup"><span data-stu-id="049ad-107">Any block of committed pages can be decommitted.</span></span>
-   <span data-ttu-id="049ad-108">Libère un bloc d’une ou de plusieurs pages réservées, en modifiant l’état des pages à libérer.</span><span class="sxs-lookup"><span data-stu-id="049ad-108">Releases a block of one or more reserved pages, changing the state of the pages to free.</span></span> <span data-ttu-id="049ad-109">La libération d’un bloc de pages rend la plage d’adresses réservées disponible qui sera allouée par le processus.</span><span class="sxs-lookup"><span data-stu-id="049ad-109">Releasing a block of pages makes the range of reserved addresses available to be allocated by the process.</span></span> <span data-ttu-id="049ad-110">Les pages réservées ne peuvent être libérées qu’en libérant l’intégralité du bloc qui a été initialement réservé par [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span><span class="sxs-lookup"><span data-stu-id="049ad-110">Reserved pages can be released only by freeing the entire block that was initially reserved by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span></span>
-   <span data-ttu-id="049ad-111">Annule la validation et libère un bloc d’une ou plusieurs pages validées simultanément, en modifiant l’état des pages à libérer.</span><span class="sxs-lookup"><span data-stu-id="049ad-111">Decommits and releases a block of one or more committed pages simultaneously, changing the state of the pages to free.</span></span> <span data-ttu-id="049ad-112">Le bloc spécifié doit inclure le bloc entier initialement réservé par [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), et toutes les pages doivent être validées actuellement.</span><span class="sxs-lookup"><span data-stu-id="049ad-112">The specified block must include the entire block initially reserved by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), and all of the pages must be currently committed.</span></span>

<span data-ttu-id="049ad-113">Après la libération ou la dévalidation d’un bloc de mémoire, vous ne pouvez plus y faire référence.</span><span class="sxs-lookup"><span data-stu-id="049ad-113">After a memory block is released or decommitted, you can never refer to it again.</span></span> <span data-ttu-id="049ad-114">Toutes les informations qui se trouvent dans cette mémoire sont infinies.</span><span class="sxs-lookup"><span data-stu-id="049ad-114">Any information that may have been in that memory is gone forever.</span></span> <span data-ttu-id="049ad-115">Toute tentative de lecture ou d’écriture dans une page libre entraîne une exception de violation d’accès.</span><span class="sxs-lookup"><span data-stu-id="049ad-115">Attempting to read from or write to a free page results in an access violation exception.</span></span> <span data-ttu-id="049ad-116">Si vous avez besoin d’informations, ne désvalidez pas ou ne libérez pas la mémoire qui contient ces informations.</span><span class="sxs-lookup"><span data-stu-id="049ad-116">If you require information, do not decommit or free memory containing that information.</span></span>

<span data-ttu-id="049ad-117">Pour spécifier que les données d’une plage de mémoire ne présentent plus d’intérêt, appelez [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) avec la **\_ réinitialisation de mem**.</span><span class="sxs-lookup"><span data-stu-id="049ad-117">To specify that the data in a memory range is no longer of interest, call [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) with **MEM\_RESET**.</span></span> <span data-ttu-id="049ad-118">Les pages ne seront pas lues ou écrites dans le fichier d’échange.</span><span class="sxs-lookup"><span data-stu-id="049ad-118">The pages will not be read from or written to the paging file.</span></span> <span data-ttu-id="049ad-119">Toutefois, le bloc de mémoire peut être réutilisé ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="049ad-119">However, the memory block can be used again later.</span></span>

 

 
