---
description: La prise en charge de grandes pages permet aux applications serveur d’établir des régions de mémoire de grande page, ce qui est particulièrement utile sur Windows 64 bits.
ms.assetid: 060115af-38d1-499c-b30c-47cd0cf42d20
title: Support Large-Page
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3ef4578b5127e6613f2ff4b6e0b8a7cffcc53c9e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106517276"
---
# <a name="large-page-support"></a><span data-ttu-id="8690a-103">Support Large-Page</span><span class="sxs-lookup"><span data-stu-id="8690a-103">Large-Page Support</span></span>

<span data-ttu-id="8690a-104">La prise en charge de grandes pages permet aux applications serveur d’établir des régions de mémoire de grande page, ce qui est particulièrement utile sur Windows 64 bits.</span><span class="sxs-lookup"><span data-stu-id="8690a-104">Large-page support enables server applications to establish large-page memory regions, which is particularly useful on 64-bit Windows.</span></span> <span data-ttu-id="8690a-105">Chaque traduction de grande page utilise un seul tampon de traduction à l’intérieur de l’UC.</span><span class="sxs-lookup"><span data-stu-id="8690a-105">Each large-page translation uses a single translation buffer inside the CPU.</span></span> <span data-ttu-id="8690a-106">La taille de cette mémoire tampon est généralement de trois ordres de grandeur supérieurs à la taille de page native. Cela augmente l’efficacité de la mémoire tampon de traduction, ce qui peut améliorer les performances de la mémoire fréquemment utilisée.</span><span class="sxs-lookup"><span data-stu-id="8690a-106">The size of this buffer is typically three orders of magnitude larger than the native page size; this increases the efficiency of the translation buffer, which can increase performance for frequently accessed memory.</span></span>

<span data-ttu-id="8690a-107">La procédure suivante décrit comment utiliser la prise en charge des pages de grande taille.</span><span class="sxs-lookup"><span data-stu-id="8690a-107">The following procedure describes how to use large-page support.</span></span>

<span data-ttu-id="8690a-108">**Pour utiliser la prise en charge des pages de grande taille**</span><span class="sxs-lookup"><span data-stu-id="8690a-108">**To use large-page support**</span></span>

1.  <span data-ttu-id="8690a-109">Obtenez le privilège **SeLockMemoryPrivilege** en appelant la fonction [**AdjustTokenPrivileges**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokenprivileges) .</span><span class="sxs-lookup"><span data-stu-id="8690a-109">Obtain the **SeLockMemoryPrivilege** privilege by calling the [**AdjustTokenPrivileges**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokenprivileges) function.</span></span> <span data-ttu-id="8690a-110">Pour plus d’informations, consultez [attribution de privilèges à un compte](../secbp/assigning-privileges-to-an-account.md) et [modification des privilèges dans un jeton](../secbp/changing-privileges-in-a-token.md).</span><span class="sxs-lookup"><span data-stu-id="8690a-110">For more information, see [Assigning Privileges to an Account](../secbp/assigning-privileges-to-an-account.md) and [Changing Privileges in a Token](../secbp/changing-privileges-in-a-token.md).</span></span>
2.  <span data-ttu-id="8690a-111">Récupérez la taille de page minimale minimale en appelant la fonction [**GetLargePageMinimum**](/windows/win32/api/memoryapi/nf-memoryapi-getlargepageminimum) .</span><span class="sxs-lookup"><span data-stu-id="8690a-111">Retrieve the minimum large-page size by calling the [**GetLargePageMinimum**](/windows/win32/api/memoryapi/nf-memoryapi-getlargepageminimum) function.</span></span>
3.  <span data-ttu-id="8690a-112">Incluez la valeur **MEM \_ large \_ pages** lors de l’appel de la fonction [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) .</span><span class="sxs-lookup"><span data-stu-id="8690a-112">Include the **MEM\_LARGE\_PAGES** value when calling the [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) function.</span></span> <span data-ttu-id="8690a-113">La taille et l’alignement doivent être un multiple du nombre minimal de pages de grande taille.</span><span class="sxs-lookup"><span data-stu-id="8690a-113">The size and alignment must be a multiple of the large-page minimum.</span></span>

<span data-ttu-id="8690a-114">Lorsque vous écrivez des applications qui utilisent de la mémoire de pages de grande taille, gardez à l’esprit les considérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="8690a-114">When writing applications that use large-page memory, keep the following considerations in mind:</span></span>

-   <span data-ttu-id="8690a-115">Les régions de mémoire de pages de grande taille peuvent être difficiles à obtenir après l’exécution du système pendant une longue période, car l’espace physique pour chaque page volumineuse doit être contigu, mais la mémoire peut être fragmentée.</span><span class="sxs-lookup"><span data-stu-id="8690a-115">Large-page memory regions may be difficult to obtain after the system has been running for a long time because the physical space for each large page must be contiguous, but the memory may have become fragmented.</span></span> <span data-ttu-id="8690a-116">L’allocation de pages de grande taille dans ces conditions peut avoir un impact significatif sur les performances du système.</span><span class="sxs-lookup"><span data-stu-id="8690a-116">Allocating large pages under these conditions can significantly affect system performance.</span></span> <span data-ttu-id="8690a-117">Par conséquent, les applications doivent éviter d’allouer des allocations de pages de grande taille et d’allouer à la place toutes les grandes pages une fois au démarrage.</span><span class="sxs-lookup"><span data-stu-id="8690a-117">Therefore, applications should avoid making repeated large-page allocations and instead allocate all large pages one time, at startup.</span></span>
-   <span data-ttu-id="8690a-118">La mémoire est toujours en lecture/écriture et non paginable (toujours résident dans la mémoire physique).</span><span class="sxs-lookup"><span data-stu-id="8690a-118">The memory is always read/write and nonpageable (always resident in physical memory).</span></span>
-   <span data-ttu-id="8690a-119">La mémoire fait partie des octets privés du processus, mais ne fait pas partie de la plage de travail, car la plage de travail de la définition contient uniquement de la mémoire paginable.</span><span class="sxs-lookup"><span data-stu-id="8690a-119">The memory is part of the process private bytes but not part of the working set, because the working set by definition contains only pageable memory.</span></span>
-   <span data-ttu-id="8690a-120">Les allocations de pages de grande taille ne sont pas soumises aux limites du travail.</span><span class="sxs-lookup"><span data-stu-id="8690a-120">Large-page allocations are not subject to job limits.</span></span>
-   <span data-ttu-id="8690a-121">La mémoire de pages volumineuses doit être réservée et validée en tant qu’opération unique.</span><span class="sxs-lookup"><span data-stu-id="8690a-121">Large-page memory must be reserved and committed as a single operation.</span></span> <span data-ttu-id="8690a-122">En d’autres termes, les pages de grande taille ne peuvent pas être utilisées pour valider une plage de mémoire précédemment réservée.</span><span class="sxs-lookup"><span data-stu-id="8690a-122">In other words, large pages cannot be used to commit a previously reserved range of memory.</span></span>
-   <span data-ttu-id="8690a-123">WOW64 sur les systèmes Intel Itanium ne prend pas en charge les applications 32 bits qui utilisent cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="8690a-123">WOW64 on Intel Itanium-based systems does not support 32-bit applications that use this feature.</span></span> <span data-ttu-id="8690a-124">Les applications doivent être recompilées en tant qu’applications 64 bits natives.</span><span class="sxs-lookup"><span data-stu-id="8690a-124">The applications should be recompiled as native 64-bit applications.</span></span>

 

 
