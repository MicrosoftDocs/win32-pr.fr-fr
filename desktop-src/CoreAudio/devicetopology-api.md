---
description: API DeviceTopology
ms.assetid: 051311ef-dd29-4014-bb9c-4cdccf7ce7de
title: API DeviceTopology
ms.topic: article
ms.date: 05/31/2018
ms.custom: project-verbatim
ms.openlocfilehash: 472c02cd59ca0cadd922cbe398a768c97cfab73a
ms.sourcegitcommit: af120ad5c30da2fc5eb717ca2a1c4c45878efd71
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/20/2021
ms.locfileid: "106538369"
---
# <a name="devicetopology-api"></a><span data-ttu-id="34c9b-103">API DeviceTopology</span><span class="sxs-lookup"><span data-stu-id="34c9b-103">DeviceTopology API</span></span>

<span data-ttu-id="34c9b-104">Reportez-vous à l' [exemple de capture de voix haute qualité Microsoft DMO](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/audio/aecmicarray).</span><span class="sxs-lookup"><span data-stu-id="34c9b-104">See the [Microsoft high quality voice capture DMO sample](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/audio/aecmicarray).</span></span>

<span data-ttu-id="34c9b-105">L’API DeviceTopology fournit aux applications clientes la possibilité de traverser les topologies de matériel fonctionnelle des appareils de rendu et de capture audio.</span><span class="sxs-lookup"><span data-stu-id="34c9b-105">The DeviceTopology API provides client applications with the ability to traverse the functional hardware topologies of audio rendering and capture devices.</span></span> <span data-ttu-id="34c9b-106">Via les interfaces et les méthodes de l’API DeviceTopology, les clients peuvent découvrir les sous-unités fonctionnelles (par exemple, le contrôle du volume) qui se trouvent le long des chemins de données qui mènent à et à partir des [périphériques de point de terminaison audio](audio-endpoint-devices.md).</span><span class="sxs-lookup"><span data-stu-id="34c9b-106">Through the interfaces and methods in the DeviceTopology API, clients can discover the functional subunits (for example, volume control) that lie along the data paths that lead to and from [audio endpoint devices](audio-endpoint-devices.md).</span></span> <span data-ttu-id="34c9b-107">Les clients peuvent traverser les topologies internes des périphériques de carte audio et des périphériques de point de terminaison audio, et effectuer un pas à pas détaillé sur les connexions qui lient un appareil à un autre.</span><span class="sxs-lookup"><span data-stu-id="34c9b-107">Clients can traverse the internal topologies of both audio adapter devices and audio endpoint devices and step across the connections that link one device to another.</span></span> <span data-ttu-id="34c9b-108">Pour plus d’informations, consultez [topologies d’appareils](device-topologies.md).</span><span class="sxs-lookup"><span data-stu-id="34c9b-108">For more information, see [Device Topologies](device-topologies.md).</span></span>

<span data-ttu-id="34c9b-109">Le fichier d’en-tête Devicetopology. h définit les interfaces dans l’API DeviceTopology.</span><span class="sxs-lookup"><span data-stu-id="34c9b-109">Header file Devicetopology.h defines the interfaces in the DeviceTopology API.</span></span>

<span data-ttu-id="34c9b-110">Pour accéder aux interfaces de l’API DeviceTopology, un client obtient d’abord une référence à l’interface [**IDeviceTopology**](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology) pour un périphérique de point de terminaison audio en procédant comme suit :</span><span class="sxs-lookup"><span data-stu-id="34c9b-110">To access the DeviceTopology API interfaces, a client first obtains a reference to the [**IDeviceTopology**](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology) interface for an audio endpoint device by following these steps:</span></span>

1.  <span data-ttu-id="34c9b-111">En utilisant l’une des techniques décrites dans l' [**interface IMMDevice**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice), obtenez une référence à l’interface **IMMDevice** pour un périphérique de point de terminaison audio.</span><span class="sxs-lookup"><span data-stu-id="34c9b-111">By using one of the techniques described in [**IMMDevice Interface**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice), obtain a reference to the **IMMDevice** interface for an audio endpoint device.</span></span>
2.  <span data-ttu-id="34c9b-112">Appelez la méthode [**IMMDevice :: Activate**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) avec l' *IID* de paramètre défini sur **REFIID** IID \_ IDeviceTopology.</span><span class="sxs-lookup"><span data-stu-id="34c9b-112">Call the [**IMMDevice::Activate**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) method with parameter *iid* set to **REFIID** IID\_IDeviceTopology.</span></span>

<span data-ttu-id="34c9b-113">Le client peut obtenir des références aux autres interfaces dans l’API DeviceTopology en appelant les méthodes dans l’interface [**IDeviceTopology**](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology) .</span><span class="sxs-lookup"><span data-stu-id="34c9b-113">The client can obtain references to the other interfaces in the DeviceTopology API by calling the methods in the [**IDeviceTopology**](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology) interface.</span></span>

<span data-ttu-id="34c9b-114">L’API DeviceTopology implémente les interfaces suivantes.</span><span class="sxs-lookup"><span data-stu-id="34c9b-114">The DeviceTopology API implements the following interfaces.</span></span>



| <span data-ttu-id="34c9b-115">Interface</span><span class="sxs-lookup"><span data-stu-id="34c9b-115">Interface</span></span>                                                  | <span data-ttu-id="34c9b-116">Description</span><span class="sxs-lookup"><span data-stu-id="34c9b-116">Description</span></span>                                                                                                                                                                                                               |
|------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="34c9b-117">**IAudioAutoGainControl**</span><span class="sxs-lookup"><span data-stu-id="34c9b-117">**IAudioAutoGainControl**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudioautogaincontrol)     | <span data-ttu-id="34c9b-118">Permet d’accéder à un contrôle d’obtention automatique de matériel (AGC).</span><span class="sxs-lookup"><span data-stu-id="34c9b-118">Provides access to a hardware automatic gain control (AGC).</span></span>                                                                                                                                                               |
| [<span data-ttu-id="34c9b-119">**IAudioBass**</span><span class="sxs-lookup"><span data-stu-id="34c9b-119">**IAudioBass**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-iaudiobass)                           | <span data-ttu-id="34c9b-120">Fournit l’accès à un contrôle de niveau de basses matériel.</span><span class="sxs-lookup"><span data-stu-id="34c9b-120">Provides access to a hardware bass-level control.</span></span>                                                                                                                                                                         |
| [<span data-ttu-id="34c9b-121">**IAudioChannelConfig**</span><span class="sxs-lookup"><span data-stu-id="34c9b-121">**IAudioChannelConfig**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudiochannelconfig)         | <span data-ttu-id="34c9b-122">Fournit l’accès à un contrôle de configuration de canal matériel.</span><span class="sxs-lookup"><span data-stu-id="34c9b-122">Provides access to a hardware channel-configuration control.</span></span>                                                                                                                                                              |
| [<span data-ttu-id="34c9b-123">**IAudioInputSelector**</span><span class="sxs-lookup"><span data-stu-id="34c9b-123">**IAudioInputSelector**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudioinputselector)         | <span data-ttu-id="34c9b-124">Fournit l’accès à un contrôle de multiplexeur matériel (sélecteur d’entrée).</span><span class="sxs-lookup"><span data-stu-id="34c9b-124">Provides access to a hardware multiplexer control (input selector).</span></span>                                                                                                                                                       |
| [<span data-ttu-id="34c9b-125">**IAudioLoudness**</span><span class="sxs-lookup"><span data-stu-id="34c9b-125">**IAudioLoudness**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudioloudness)                   | <span data-ttu-id="34c9b-126">Fournit l’accès à un contrôle de compensation « intensité sonore ».</span><span class="sxs-lookup"><span data-stu-id="34c9b-126">Provides access to a "loudness" compensation control.</span></span>                                                                                                                                                                     |
| [<span data-ttu-id="34c9b-127">**IAudioMidrange**</span><span class="sxs-lookup"><span data-stu-id="34c9b-127">**IAudioMidrange**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-iaudiomidrange)                   | <span data-ttu-id="34c9b-128">Permet d’accéder à un contrôle de niveau de milieu matériel.</span><span class="sxs-lookup"><span data-stu-id="34c9b-128">Provides access to a hardware midrange-level control.</span></span>                                                                                                                                                                     |
| [<span data-ttu-id="34c9b-129">**IAudioMute**</span><span class="sxs-lookup"><span data-stu-id="34c9b-129">**IAudioMute**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudiomute)                           | <span data-ttu-id="34c9b-130">Permet d’accéder à un contrôle matériel muet.</span><span class="sxs-lookup"><span data-stu-id="34c9b-130">Provides access to a hardware mute control.</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="34c9b-131">**IAudioOutputSelector**</span><span class="sxs-lookup"><span data-stu-id="34c9b-131">**IAudioOutputSelector**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudiooutputselector)       | <span data-ttu-id="34c9b-132">Fournit l’accès à un contrôle de démultiplexeur matériel (sélecteur de sortie).</span><span class="sxs-lookup"><span data-stu-id="34c9b-132">Provides access to a hardware demultiplexer control (output selector).</span></span>                                                                                                                                                    |
| [<span data-ttu-id="34c9b-133">**IAudioPeakMeter**</span><span class="sxs-lookup"><span data-stu-id="34c9b-133">**IAudioPeakMeter**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iaudiopeakmeter)                 | <span data-ttu-id="34c9b-134">Permet d’accéder à un contrôle de pointe matériel.</span><span class="sxs-lookup"><span data-stu-id="34c9b-134">Provides access to a hardware peak-meter control.</span></span>                                                                                                                                                                         |
| [<span data-ttu-id="34c9b-135">**IAudioTreble**</span><span class="sxs-lookup"><span data-stu-id="34c9b-135">**IAudioTreble**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-iaudiotreble)                       | <span data-ttu-id="34c9b-136">Permet d’accéder à un contrôle matériel au niveau des aigus.</span><span class="sxs-lookup"><span data-stu-id="34c9b-136">Provides access to a hardware treble-level control.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="34c9b-137">**IAudioVolumeLevel**</span><span class="sxs-lookup"><span data-stu-id="34c9b-137">**IAudioVolumeLevel**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-iaudiovolumelevel)             | <span data-ttu-id="34c9b-138">Fournit l’accès à un contrôle de volume matériel.</span><span class="sxs-lookup"><span data-stu-id="34c9b-138">Provides access to a hardware volume control.</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="34c9b-139">**IConnector**</span><span class="sxs-lookup"><span data-stu-id="34c9b-139">**IConnector**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iconnector)                           | <span data-ttu-id="34c9b-140">Représente un point de connexion entre des composants.</span><span class="sxs-lookup"><span data-stu-id="34c9b-140">Represents a point of connection between components.</span></span>                                                                                                                                                                      |
| [<span data-ttu-id="34c9b-141">**IControlInterface**</span><span class="sxs-lookup"><span data-stu-id="34c9b-141">**IControlInterface**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-icontrolinterface)             | <span data-ttu-id="34c9b-142">Représente une interface de contrôle sur une partie (sous-unité ou connecteur).</span><span class="sxs-lookup"><span data-stu-id="34c9b-142">Represents a control interface on a part (subunit or connector).</span></span>                                                                                                                                                          |
| [<span data-ttu-id="34c9b-143">**IDeviceSpecificProperty**</span><span class="sxs-lookup"><span data-stu-id="34c9b-143">**IDeviceSpecificProperty**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicespecificproperty) | <span data-ttu-id="34c9b-144">Représente une propriété spécifique à l’appareil d’un connecteur ou d’une sous-unité.</span><span class="sxs-lookup"><span data-stu-id="34c9b-144">Represents a device-specific property of a connector or subunit.</span></span>                                                                                                                                                          |
| [<span data-ttu-id="34c9b-145">**IDeviceTopology**</span><span class="sxs-lookup"><span data-stu-id="34c9b-145">**IDeviceTopology**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-idevicetopology)                 | <span data-ttu-id="34c9b-146">Permet d’accéder à la topologie d’un périphérique audio.</span><span class="sxs-lookup"><span data-stu-id="34c9b-146">Provides access to the topology of an audio device.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="34c9b-147">**IKsFormatSupport**</span><span class="sxs-lookup"><span data-stu-id="34c9b-147">**IKsFormatSupport**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iksformatsupport)               | <span data-ttu-id="34c9b-148">Fournit des informations sur les formats de données audio pris en charge par une connexion d’e/s configurée par logiciel (généralement un canal DMA) entre le périphérique audio et la mémoire système.</span><span class="sxs-lookup"><span data-stu-id="34c9b-148">Provides information about the audio data formats that are supported by a software-configured I/O connection (typically a DMA channel) between the audio device and system memory.</span></span>                                        |
| [<span data-ttu-id="34c9b-149">**IKsJackDescription**</span><span class="sxs-lookup"><span data-stu-id="34c9b-149">**IKsJackDescription**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iksjackdescription)           | <span data-ttu-id="34c9b-150">Fournit des informations sur les connecteurs ou connecteurs internes qui fournissent une connexion physique entre un appareil sur une carte audio et un périphérique de point de terminaison externe ou interne (par exemple, un microphone ou un lecteur de CD).</span><span class="sxs-lookup"><span data-stu-id="34c9b-150">Provides information about the jacks or internal connectors that provide a physical connection between a device on an audio adapter and an external or internal endpoint device (for example, a microphone or CD player).</span></span> |
| [<span data-ttu-id="34c9b-151">**IPart**</span><span class="sxs-lookup"><span data-stu-id="34c9b-151">**IPart**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-ipart)                                     | <span data-ttu-id="34c9b-152">Représente une partie (connecteur ou sous-unité) d’une topologie d’appareil.</span><span class="sxs-lookup"><span data-stu-id="34c9b-152">Represents a part (connector or subunit) of a device topology.</span></span>                                                                                                                                                            |
| [<span data-ttu-id="34c9b-153">**IPartsList**</span><span class="sxs-lookup"><span data-stu-id="34c9b-153">**IPartsList**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-ipartslist)                           | <span data-ttu-id="34c9b-154">Représente une liste de parties (connecteurs et sous-unités).</span><span class="sxs-lookup"><span data-stu-id="34c9b-154">Represents a list of parts (connectors and subunits).</span></span>                                                                                                                                                                     |
| [<span data-ttu-id="34c9b-155">**IPerChannelDbLevel**</span><span class="sxs-lookup"><span data-stu-id="34c9b-155">**IPerChannelDbLevel**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-iperchanneldblevel)           | <span data-ttu-id="34c9b-156">Représente une interface de contrôle de sous-unité générique qui fournit un contrôle par canal sur le niveau du volume, en décibels, d’un flux audio ou d’une bande de fréquence dans un flux audio.</span><span class="sxs-lookup"><span data-stu-id="34c9b-156">Represents a generic subunit control interface that provides per-channel control over the volume level, in decibels, of an audio stream or of a frequency band in an audio stream.</span></span>                                        |
| [<span data-ttu-id="34c9b-157">**ISubunit**</span><span class="sxs-lookup"><span data-stu-id="34c9b-157">**ISubunit**</span></span>](/windows/win32/api/devicetopology/nn-devicetopology-isubunit)                               | <span data-ttu-id="34c9b-158">Représente une sous-unité matérielle (par exemple, un contrôle au niveau du volume) qui se trouve dans le chemin d’accès aux données entre un client et un périphérique de point de terminaison audio.</span><span class="sxs-lookup"><span data-stu-id="34c9b-158">Represents a hardware subunit (for example, a volume-level control) that lies in the data path between a client and an audio endpoint device.</span></span>                                                                             |



 

<span data-ttu-id="34c9b-159">Les clients d’API DeviceTopology qui requièrent la notification des événements de modification de contrôle dans les connecteurs et sous-unités doivent implémenter l’interface suivante.</span><span class="sxs-lookup"><span data-stu-id="34c9b-159">DeviceTopology API clients that require notification of control-change events in connectors and subunits should implement the following interface.</span></span>



| <span data-ttu-id="34c9b-160">Interface</span><span class="sxs-lookup"><span data-stu-id="34c9b-160">Interface</span></span>                                            | <span data-ttu-id="34c9b-161">Description</span><span class="sxs-lookup"><span data-stu-id="34c9b-161">Description</span></span>                                                                      |
|------------------------------------------------------|----------------------------------------------------------------------------------|
| [<span data-ttu-id="34c9b-162">**IControlChangeNotify**</span><span class="sxs-lookup"><span data-stu-id="34c9b-162">**IControlChangeNotify**</span></span>](/windows/desktop/api/Devicetopology/nn-devicetopology-icontrolchangenotify) | <span data-ttu-id="34c9b-163">Fournit des notifications lorsque l’état d’un composant (connecteur ou sous-unité) change.</span><span class="sxs-lookup"><span data-stu-id="34c9b-163">Provides notifications when the status of a part (connector or subunit) changes.</span></span> |



 

## <a name="related-topics"></a><span data-ttu-id="34c9b-164">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="34c9b-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="34c9b-165">Topologies d’appareils</span><span class="sxs-lookup"><span data-stu-id="34c9b-165">Device Topologies</span></span>](device-topologies.md)
</dt> <dt>

[<span data-ttu-id="34c9b-166">**Guide de référence de programmation**</span><span class="sxs-lookup"><span data-stu-id="34c9b-166">**Programming Reference**</span></span>](programming-reference.md)
</dt> </dl>

 

 
