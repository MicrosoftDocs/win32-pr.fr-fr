---
description: Chaînes ID du point de terminaison
ms.assetid: 3c955e2d-daaa-4b77-8ca5-890383bb2d39
title: Chaînes ID du point de terminaison
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f04c07da78b92795ebadd7d8f9731f7188ae8dc3
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "106515337"
---
# <a name="endpoint-id-strings"></a><span data-ttu-id="ee299-103">Chaînes ID du point de terminaison</span><span class="sxs-lookup"><span data-stu-id="ee299-103">Endpoint ID Strings</span></span>

<span data-ttu-id="ee299-104">Dans Windows Vista, le système génère des chaînes d’ID de point de terminaison pour identifier les [périphériques de point de terminaison audio](audio-endpoint-devices.md) dans le système.</span><span class="sxs-lookup"><span data-stu-id="ee299-104">In Windows Vista, the system generates endpoint ID strings to identify the [audio endpoint devices](audio-endpoint-devices.md) in the system.</span></span> <span data-ttu-id="ee299-105">Une chaîne d’ID de point de terminaison est une chaîne de caractères larges se terminant par un caractère null.</span><span class="sxs-lookup"><span data-stu-id="ee299-105">An endpoint ID string is a null-terminated wide-character string.</span></span> <span data-ttu-id="ee299-106">La chaîne d’ID de point de terminaison pour un périphérique de point de terminaison audio spécifique identifie de façon unique l’appareil parmi tous les périphériques de point de terminaison audio du système.</span><span class="sxs-lookup"><span data-stu-id="ee299-106">The endpoint ID string for a particular audio endpoint device uniquely identifies the device among all audio endpoint devices in the system.</span></span>

<span data-ttu-id="ee299-107">Si un système contient deux ou plusieurs périphériques de carte audio identiques, les périphériques de point de terminaison audio correspondants auront des noms conviviaux identiques, mais chaque périphérique de point de terminaison aura une chaîne d’ID de point de terminaison unique.</span><span class="sxs-lookup"><span data-stu-id="ee299-107">If a system contains two or more identical audio adapter devices, the corresponding audio endpoint devices will have identical friendly names, but each endpoint device will have a unique endpoint ID string.</span></span> <span data-ttu-id="ee299-108">Pour plus d’informations sur l’obtention du nom convivial d’un appareil de point de terminaison, consultez Propriétés de l' [appareil](device-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ee299-108">For more information about obtaining the friendly name of an endpoint device, see [Device Properties](device-properties.md).</span></span>

<span data-ttu-id="ee299-109">Après avoir obtenu une instance d’interface [**IMMDevice**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice) pour un périphérique de point de terminaison audio, un client peut appeler la méthode [**IMMDevice :: GetId**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-getid) pour obtenir la chaîne d’ID de point de terminaison de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="ee299-109">After obtaining an [**IMMDevice**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice) interface instance for an audio endpoint device, a client can call the [**IMMDevice::GetId**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-getid) method to obtain the endpoint ID string for the device.</span></span> <span data-ttu-id="ee299-110">Un client peut utiliser la chaîne d’ID de point de terminaison pour créer une instance du périphérique de point de terminaison audio ultérieurement ou dans un processus différent en appelant la méthode [**IMMDeviceEnumerator :: GetDevice**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-getdevice) .</span><span class="sxs-lookup"><span data-stu-id="ee299-110">A client can use the endpoint ID string to create an instance of the audio endpoint device at a later time or in a different process by calling the [**IMMDeviceEnumerator::GetDevice**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-getdevice) method.</span></span>

<span data-ttu-id="ee299-111">Un client peut organiser pour recevoir une notification lorsque l’état d’un périphérique de point de terminaison audio change.</span><span class="sxs-lookup"><span data-stu-id="ee299-111">A client can arrange to receive a notification when the status of any audio endpoint device changes.</span></span> <span data-ttu-id="ee299-112">Pour recevoir des notifications, le client implémente une interface [**IMMNotificationClient**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immnotificationclient) et enregistre cette interface avec l’API MMDevice.</span><span class="sxs-lookup"><span data-stu-id="ee299-112">To receive notifications, the client implements an [**IMMNotificationClient**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immnotificationclient) interface and registers that interface with the MMDevice API.</span></span> <span data-ttu-id="ee299-113">Lorsque l’état d’un périphérique de point de terminaison change, l’API MMDevice appelle la méthode appropriée dans l’interface [**EDataFlow**](/windows/win32/api/mmdeviceapi/ne-mmdeviceapi-edataflow) du client.</span><span class="sxs-lookup"><span data-stu-id="ee299-113">When the status of an endpoint device changes, the MMDevice API calls the appropriate method in the client's [**EDataFlow**](/windows/win32/api/mmdeviceapi/ne-mmdeviceapi-edataflow) interface.</span></span> <span data-ttu-id="ee299-114">L’un des paramètres d’entrée de la méthode est la chaîne d’ID de point de terminaison qui identifie l’appareil de point de terminaison dont l’État a changé.</span><span class="sxs-lookup"><span data-stu-id="ee299-114">One of the input parameters to the method is the endpoint ID string that identifies the endpoint device whose status has changed.</span></span> <span data-ttu-id="ee299-115">Pour plus d’informations sur **EDataFlow**, consultez [événements d’appareil](device-events.md).</span><span class="sxs-lookup"><span data-stu-id="ee299-115">For more information about **EDataFlow**, see [Device Events](device-events.md).</span></span>

<span data-ttu-id="ee299-116">Les API audio héritées telles que DirectSound et les fonctions multimédias de Windows disposent de leurs propres interfaces pour l’énumération et l’identification des périphériques audio.</span><span class="sxs-lookup"><span data-stu-id="ee299-116">Legacy audio APIs such as DirectSound and the Windows multimedia functions have their own interfaces for enumerating and identifying audio devices.</span></span> <span data-ttu-id="ee299-117">Dans Windows Vista, ces interfaces ont été étendues pour fournir les chaînes d’ID de point de terminaison qui identifient les appareils de point de terminaison qui sous-tendent les abstractions d’appareil présentées par les API.</span><span class="sxs-lookup"><span data-stu-id="ee299-117">In Windows Vista, these interfaces have been extended to supply the endpoint ID strings that identify the endpoint devices that underlie the device abstractions presented by the APIs.</span></span>

<span data-ttu-id="ee299-118">Au cours de l’énumération d’appareils DirectSound, DirectSound fournit la chaîne d’ID de point de terminaison pour chaque appareil qu’elle énumère.</span><span class="sxs-lookup"><span data-stu-id="ee299-118">During DirectSound device enumeration, DirectSound supplies the endpoint ID string for each device that it enumerates.</span></span> <span data-ttu-id="ee299-119">Pour plus d’informations, consultez [événements audio pour les applications audio héritées](audio-events-for-legacy-audio-applications.md).</span><span class="sxs-lookup"><span data-stu-id="ee299-119">For more information, see [Audio Events for Legacy Audio Applications](audio-events-for-legacy-audio-applications.md).</span></span>

<span data-ttu-id="ee299-120">Pour obtenir la chaîne d’ID de point de terminaison pour un périphérique Waveform hérité, utilisez la fonction [**waveOutMessage**](/previous-versions//dd743865(v=vs.85)) ou [**waveInMessage**](/previous-versions//dd743846(v=vs.85)) pour envoyer un \_ message DRV QUERYFUNCTIONINSTANCEID au pilote de périphérique Waveform.</span><span class="sxs-lookup"><span data-stu-id="ee299-120">To obtain the endpoint ID string for a legacy waveform device, use the [**waveOutMessage**](/previous-versions//dd743865(v=vs.85)) or [**waveInMessage**](/previous-versions//dd743846(v=vs.85)) function to send a DRV\_QUERYFUNCTIONINSTANCEID message to the waveform device driver.</span></span> <span data-ttu-id="ee299-121">Pour obtenir un exemple de code illustrant l’utilisation de ce message, consultez [rôles d’appareil pour les applications multimédias Windows héritées](device-roles-for-legacy-windows-multimedia-applications.md).</span><span class="sxs-lookup"><span data-stu-id="ee299-121">For a code example that shows the use of this message, see [Device Roles for Legacy Windows Multimedia Applications](device-roles-for-legacy-windows-multimedia-applications.md).</span></span>

<span data-ttu-id="ee299-122">Pour plus d’informations sur l’utilisation des fonctionnalités des API audio de base pour améliorer les applications qui utilisent des API audio héritées, consultez [interopérabilité avec les API audio héritées](interoperability-with-legacy-audio-apis.md).</span><span class="sxs-lookup"><span data-stu-id="ee299-122">For more information about using the capabilities of the core audio APIs to enhance applications that use legacy audio APIs, see [Interoperability with Legacy Audio APIs](interoperability-with-legacy-audio-apis.md).</span></span>

<span data-ttu-id="ee299-123">Les clients doivent traiter le contenu de la chaîne d’ID de point de terminaison comme opaque.</span><span class="sxs-lookup"><span data-stu-id="ee299-123">Clients should treat the contents of the endpoint ID string as opaque.</span></span> <span data-ttu-id="ee299-124">Autrement dit, les clients ne doivent pas tenter d’analyser le contenu de la chaîne pour obtenir des informations sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="ee299-124">That is, clients should not attempt to parse the contents of the string to obtain information about the device.</span></span> <span data-ttu-id="ee299-125">La raison en est que le format de chaîne n’est pas défini et peut passer d’une implémentation du module système de l’API MMDevice à la suivante.</span><span class="sxs-lookup"><span data-stu-id="ee299-125">The reason is that the string format is undefined and might change from one implementation of the MMDevice API system module to the next.</span></span>

<span data-ttu-id="ee299-126">La durée de vie d’une chaîne d’ID de point de terminaison est liée à l’installation de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="ee299-126">The lifetime of an endpoint ID string is tied to the device installation.</span></span> <span data-ttu-id="ee299-127">La chaîne d’ID de point de terminaison d’un appareil change si l’utilisateur met à niveau le pilote de périphérique, ou si l’utilisateur désinstalle l’appareil et l’installe à nouveau.</span><span class="sxs-lookup"><span data-stu-id="ee299-127">The endpoint ID string of a device changes if the user upgrades the device driver, or if the user uninstalls the device, and installs it again.</span></span> <span data-ttu-id="ee299-128">Toutefois, la chaîne d’ID de point de terminaison reste inchangée entre les redémarrages du système et la chaîne d’ID de point de terminaison d’un périphérique audio USB reste inchangée si l’utilisateur déconnecte l’appareil et le réintègre.</span><span class="sxs-lookup"><span data-stu-id="ee299-128">However, the endpoint ID string remains unchanged across system restarts, and the endpoint ID string of a USB audio device remains unchanged if the user unplugs the device and plugs it back in.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ee299-129">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="ee299-129">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ee299-130">Périphériques de point de terminaison audio</span><span class="sxs-lookup"><span data-stu-id="ee299-130">Audio Endpoint Devices</span></span>](audio-endpoint-devices.md)
</dt> </dl>

 

 
