---
title: Architecture du plug-in
description: Les unités biométriques exposent les fonctionnalités d’un appareil à l’infrastructure par le biais d’une interface standard qui se compose de capteurs, de moteurs et d’adaptateurs de stockage.
ms.assetid: d2835413-70a3-45fa-93e2-3fe78097554f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 52e43af9c0ea5a8db57cc0e0970b5625b1ba118f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104463442"
---
# <a name="plug-in-architecture"></a><span data-ttu-id="dd6aa-103">Architecture du plug-in</span><span class="sxs-lookup"><span data-stu-id="dd6aa-103">Plug-in architecture</span></span>

<span data-ttu-id="dd6aa-104">Les périphériques biométriques sont fabriqués dans un large éventail de types et de configurations.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-104">Biometric devices are manufactured in a wide variety of types and configurations.</span></span> <span data-ttu-id="dd6aa-105">Le Windows Biometric Framework résout cette variété en fournissant une architecture extensible qui permet aux développeurs tiers de créer des composants de plug-in personnalisés.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-105">The Windows Biometric Framework addresses this variety by providing an extensible architecture that enables third party developers to create custom plug-in components.</span></span> <span data-ttu-id="dd6aa-106">Le composant principal est un objet logiciel appelé unité biométrique.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-106">The primary component is a software object called a biometric unit.</span></span> <span data-ttu-id="dd6aa-107">Les unités biométriques exposent les fonctionnalités d’un appareil à l’infrastructure par le biais d’une interface standard qui se compose de capteurs, de moteurs et d’adaptateurs de stockage.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-107">Biometric units expose the capabilities of a device to the framework through a standard interface that consists of sensor, engine, and storage adapters.</span></span> <span data-ttu-id="dd6aa-108">Les unités biométriques et leurs composants constitutifs sont présentés dans les rubriques suivantes.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-108">Biometric units and their constituent components are discussed in the following topics.</span></span>

## <a name="biometric-unit"></a><span data-ttu-id="dd6aa-109">Unité biométrique</span><span class="sxs-lookup"><span data-stu-id="dd6aa-109">Biometric unit</span></span>

<span data-ttu-id="dd6aa-110">Le composant central de l’architecture du plug-in Windows Biometric Framework est l’unité biométrique, un objet logiciel qui expose les fonctionnalités d’un appareil biométrique à l’infrastructure par le biais d’une interface standard.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-110">The central component of the Windows Biometric Framework plug-in architecture is the biometric unit, a software object that exposes the capabilities of a biometric device to the framework through a standard interface.</span></span>

<span data-ttu-id="dd6aa-111">Un seul capteur physique est associé à chaque unité biométrique.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-111">A single physical sensor is associated with each biometric unit.</span></span> <span data-ttu-id="dd6aa-112">Le capteur capture les données biométriques et peut également, en fonction de ses capacités matérielles, exécuter d’autres opérations biométriques telles que la correspondance de modèle et le stockage.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-112">The sensor captures biometric data and may also, depending on its hardware capabilities, perform other biometric operations such as template matching and storage.</span></span> <span data-ttu-id="dd6aa-113">Les capteurs qui ne prennent pas en charge la correspondance ou le stockage d’intégration nécessitent des modules logiciels supplémentaires pour exécuter ces fonctions.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-113">Sensors that do not support onboard matching or storage require additional software modules to perform these functions.</span></span> <span data-ttu-id="dd6aa-114">Pour plus d’informations, consultez [adaptateurs](/previous-versions//dd401508(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="dd6aa-114">For more information, see [Adapters](/previous-versions//dd401508(v=vs.85)).</span></span>

<span data-ttu-id="dd6aa-115">L’illustration suivante montre la façon dont les données circulent via une unité biométrique.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-115">The following illustration shows how data flows through a biometric unit.</span></span> <span data-ttu-id="dd6aa-116">Fondamentalement, le workflow de données forme un type de pipeline.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-116">Essentially, the data flow forms a type of pipeline.</span></span> <span data-ttu-id="dd6aa-117">L’entrée initiale du pipeline est un exemple biométrique capturé par un capteur physique.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-117">The initial input to the pipeline is a biometric sample captured by a physical sensor.</span></span> <span data-ttu-id="dd6aa-118">Le moteur tente de faire correspondre l’exemple aux modèles qui existent déjà dans le magasin de modèles ou, si aucune correspondance n’est trouvée, génère un nouveau modèle à partir d’échantillons physiques répétés et enregistre le modèle dans le magasin.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-118">The engine attempts to match the sample to templates that already exist in the template store or, if no match is found, builds a new template from repeated physical samples and saves the template in the store.</span></span>

![transmission de données via une unité biométrique](images/biometricunit-dataflow.png)

## <a name="biometric-unit-life-cycle"></a><span data-ttu-id="dd6aa-120">Cycle de vie des unités biométriques</span><span class="sxs-lookup"><span data-stu-id="dd6aa-120">Biometric unit life cycle</span></span>

### <a name="creation"></a><span data-ttu-id="dd6aa-121">Création</span><span class="sxs-lookup"><span data-stu-id="dd6aa-121">Creation</span></span>

<span data-ttu-id="dd6aa-122">Lorsque le service de biométrie Windows démarre ou lorsqu’il reçoit une notification matérielle de la part du gestionnaire de Plug-and-Play, il recherche tout matériel qui prend en charge le GUID d’interface \_ DEVINTERFACE \_ \_ (E2B5183A-99EA-4cc3-AD6B-80CA8D715B80).</span><span class="sxs-lookup"><span data-stu-id="dd6aa-122">When the Windows Biometric Service starts or when it receives a hardware notification from the Plug and Play manager, it scans for any hardware that supports the well-known interface GUID\_DEVINTERFACE\_BIOMETRIC\_READER (E2B5183A-99EA-4cc3-AD6B-80CA8D715B80).</span></span> <span data-ttu-id="dd6aa-123">Pour chaque périphérique biométrique qui l’a découvert, alors :</span><span class="sxs-lookup"><span data-stu-id="dd6aa-123">For each biometric device discovered it then:</span></span>

-   <span data-ttu-id="dd6aa-124">Ouvre un handle vers l’appareil.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-124">Opens a handle to the device.</span></span>
-   <span data-ttu-id="dd6aa-125">Interroge les fonctionnalités de l’appareil à l’aide d’une interface de contrôle de pilote biométrique Windows.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-125">Queries the device capabilities by using a Windows Biometric Driver control interface.</span></span>
-   <span data-ttu-id="dd6aa-126">Ouvre la clé de registre de l’appareil et tente de localiser les informations relatives aux plug-ins d’adaptateur associés.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-126">Opens the device registry key and attempts to locate information about any associated adapter plug-ins.</span></span>
-   <span data-ttu-id="dd6aa-127">Ouvre la clé de Registre du service de biométrie Windows et recherche des informations sur tous les plug-ins globaux qui doivent remplacer les valeurs spécifiques à l’appareil trouvées à l’étape précédente.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-127">Opens the Windows Biometric Service registry key and searches for information about any global plug-ins that should override the device specific values found in the preceding step.</span></span>
-   <span data-ttu-id="dd6aa-128">Crée une unité biométrique pour représenter l’appareil et la transmet à un fournisseur de services biométriques.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-128">Builds a biometric unit to represent the device and passes the unit to a biometric service provider.</span></span>

### <a name="configuration"></a><span data-ttu-id="dd6aa-129">Configuration</span><span class="sxs-lookup"><span data-stu-id="dd6aa-129">Configuration</span></span>

<span data-ttu-id="dd6aa-130">Lorsqu’un fournisseur de services biométriques accepte une unité biométrique, il configure l’unité et l’attribue à un pool de capteurs.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-130">After a biometric service provider (BSP) accepts a biometric unit, it configures the unit and assigns it to a sensor pool.</span></span> <span data-ttu-id="dd6aa-131">Pour plus d’informations, consultez [pools de capteurs](sensor-pools.md).</span><span class="sxs-lookup"><span data-stu-id="dd6aa-131">For more information, see [Sensor Pools](sensor-pools.md).</span></span> <span data-ttu-id="dd6aa-132">L’unité est configurée en chargeant les adaptateurs appropriés, en se connectant à un magasin de modèles et en modifiant éventuellement le mode d’opération.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-132">The unit is configured by loading the appropriate adapters, connecting to a template store, and possibly changing the operating mode.</span></span> <span data-ttu-id="dd6aa-133">Une unité biométrique peut être configurée pour fonctionner dans l’un des deux modes suivants :</span><span class="sxs-lookup"><span data-stu-id="dd6aa-133">A biometric unit can be configured to operate in one of two modes:</span></span>

-   <span data-ttu-id="dd6aa-134">En mode de base, l’unité agit comme un simple appareil de capture.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-134">In the basic mode, the unit acts as a simple capture device.</span></span> <span data-ttu-id="dd6aa-135">Il n’utilise pas le traitement ou le stockage intégré, mais s’appuie entièrement sur les adaptateurs logiciels pour une prise en charge supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-135">It does not use onboard processing or storage but relies entirely on software adapters for additional support.</span></span> <span data-ttu-id="dd6aa-136">Elle doit être en mesure de générer des exemples dans un format standard.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-136">It should be able to generate samples in a standard format.</span></span> <span data-ttu-id="dd6aa-137">Par exemple, les lecteurs d’empreintes digitales doivent générer des exemples conformes à l’INCITS ANSI 381-2004.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-137">For example, fingerprint readers should generate samples that comply with ANSI INCITS 381-2004.</span></span> <span data-ttu-id="dd6aa-138">L’objectif du mode de base est de prendre en charge l’interopérabilité entre les composants de différents fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-138">The purpose of the basic mode is to support interoperability among components from different vendors.</span></span>
-   <span data-ttu-id="dd6aa-139">En mode avancé, l’unité biométrique utilise des fonctions de traitement et de stockage intégrées.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-139">In the advanced mode, the biometric unit uses onboard processing and storage functions.</span></span> <span data-ttu-id="dd6aa-140">Il doit exposer les interfaces standard, mais peut générer et traiter des exemples dans n’importe quel format souhaité.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-140">It must expose the standard interfaces but can generate and process samples in any format desired.</span></span>

<span data-ttu-id="dd6aa-141">Lorsqu’une unité biométrique est déplacée d’un pool de capteurs à un autre, ses adaptateurs sont déchargés et reconfigurés pour le nouveau pool de capteurs.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-141">When a biometric unit is moved from one sensor pool to another, its adapters are unloaded and it is reconfigured for the new sensor pool.</span></span> <span data-ttu-id="dd6aa-142">L’identité de l’unité biométrique reste constante ; seule la configuration matérielle et les plug-ins d’adaptateur sont modifiés.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-142">The identity of the biometric unit remains constant; only the hardware configuration and adapter plug-ins change.</span></span>

### <a name="shut-down"></a><span data-ttu-id="dd6aa-143">Éteindre</span><span class="sxs-lookup"><span data-stu-id="dd6aa-143">Shut Down</span></span>

<span data-ttu-id="dd6aa-144">Lorsque le service de biométrie Windows s’arrête ou que le gestionnaire de Plug-and-Play le notifie qu’une unité a été supprimée, le service supprime toutes les unités biométriques.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-144">When the Windows Biometric Service shuts down or when the Plug and Play manager notifies it that a unit has been removed, the service deletes all biometric units.</span></span>

## <a name="adapters"></a><span data-ttu-id="dd6aa-145">Adaptateurs</span><span class="sxs-lookup"><span data-stu-id="dd6aa-145">Adapters</span></span>

<span data-ttu-id="dd6aa-146">Les composants logiciels enfichables appelés adaptateurs connectent une unité biométrique à son matériel sous-jacent et fournissent toutes les fonctionnalités qui peuvent être manquantes dans le matériel du capteur.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-146">Plug-in software components called adapters connect a biometric unit to its underlying hardware and supply any functionality that may be missing from the sensor hardware.</span></span> <span data-ttu-id="dd6aa-147">Vous pouvez créer trois types d’adaptateurs :</span><span class="sxs-lookup"><span data-stu-id="dd6aa-147">There are three types of adapters that you can create:</span></span>

-   <span data-ttu-id="dd6aa-148">Un adaptateur de capteur encapsule un périphérique biométrique et fournit une interface standard pour configurer le capteur, capturer des échantillons et contrôler le workflow de données biométriques pour le moteur de traitement.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-148">A sensor adapter wraps a biometric device and provides a standard interface for configuring the sensor, capturing samples, and controlling the flow of biometric data to the processing engine.</span></span>
-   <span data-ttu-id="dd6aa-149">Un adaptateur de moteur génère des modèles biométriques à partir d’exemples capturés, fait correspondre des exemples à des modèles existants et des modèles d’index.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-149">An engine adapter generates biometric templates from captured samples, matches samples to existing templates, and indexes templates.</span></span>
-   <span data-ttu-id="dd6aa-150">Un adaptateur de stockage gère les bases de données de modèles.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-150">A storage adapter manages template databases.</span></span>

<span data-ttu-id="dd6aa-151">Les adaptateurs peuvent être chargés et déchargés au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-151">Adapters can be loaded and unloaded at runtime.</span></span> <span data-ttu-id="dd6aa-152">Cela permet au service de biométrie Windows de reconfigurer dynamiquement une unité biométrique en la connectant à un ensemble différent de cartes.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-152">This enables the Windows Biometric Service to dynamically reconfigure a biometric unit by connecting it to a different set of adapters.</span></span>

<span data-ttu-id="dd6aa-153">Enfin, chaque interface de capteur, de moteur et d’adaptateur de stockage expose deux méthodes, **ControlUnit** et **ControlUnitPrivileged**, qui permettent aux applications clientes d’accéder aux fonctionnalités d’adaptateur personnalisées définies par le fournisseur.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-153">Finally, each of the sensor, engine, and storage adapter interfaces expose two methods, **ControlUnit** and **ControlUnitPrivileged**, that enable client applications to access custom adapter capabilities defined by the vendor.</span></span> <span data-ttu-id="dd6aa-154">Cela permet au fournisseur de définir un ensemble quasiment illimité d’opérations de contrôle pour un appareil.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-154">This allows the vendor to define an almost unlimited set of control operations for a device.</span></span> <span data-ttu-id="dd6aa-155">En outre, en choisissant la fonction à implémenter, un fournisseur peut choisir de mettre des opérations de contrôle à la disposition des utilisateurs sans privilèges tout en restreignant les autres opérations aux utilisateurs privilégiés.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-155">Further, by choosing which function to implement, a vendor can choose to make some control operations available to non-privileged users while restricting other operations to privileged users.</span></span>

<span data-ttu-id="dd6aa-156">Pour plus d’informations sur la création d’adaptateurs, consultez [créer des plug-ins d’adaptateur](creating-adapter-plug-ins.md).</span><span class="sxs-lookup"><span data-stu-id="dd6aa-156">For more information about how to create adapters, see [Create adapter plug-ins](creating-adapter-plug-ins.md).</span></span>

## <a name="adapter-performance-requirements"></a><span data-ttu-id="dd6aa-157">Exigences en matière de performances de l’adaptateur</span><span class="sxs-lookup"><span data-stu-id="dd6aa-157">Adapter performance requirements</span></span>

<span data-ttu-id="dd6aa-158">Étant donné que l’objectif est une réponse rapide globale, les performances d’un adaptateur ne sont pas spécifiées en termes de limites de temps sur des routines spécifiques.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-158">Because the objective is fast response overall, the performance of an adapter isn't specified in terms of time limits on specific routines.</span></span> <span data-ttu-id="dd6aa-159">Au lieu de cela, les performances sont spécifiées sous la forme d’un ensemble d’exigences pour l’expérience utilisateur globale.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-159">Instead, performance is specified as a set of requirements for the overall user experience.</span></span>

<span data-ttu-id="dd6aa-160">Deux conditions sont requises :</span><span class="sxs-lookup"><span data-stu-id="dd6aa-160">There are two requirements:</span></span>

-   <span data-ttu-id="dd6aa-161">Toute interaction entre l’utilisateur et le système d’exploitation qui implique la biométrie doit se terminer dans les deux secondes.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-161">Any interaction between the user and the operating system that involves biometrics must complete within two seconds.</span></span> <span data-ttu-id="dd6aa-162">Cet intervalle mesure l’heure de début et de fin que l’utilisateur perçoit du moment où il touche ou le glissement du capteur jusqu’à ce que l’écran de l’appareil affiche un événement.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-162">That interval measures the start-to-finish time that the user perceives from the time they touch or swipe the sensor until the time something visible happens on the device screen.</span></span> <span data-ttu-id="dd6aa-163">(Par exemple, pendant le déverrouillage, il ne doit pas y avoir plus d’un délai de deux secondes entre l’utilisateur qui touche ou fait glisser le capteur d’empreintes digitales et l’écran de verrouillage qui accuse réception de l’identité de l’utilisateur.)</span><span class="sxs-lookup"><span data-stu-id="dd6aa-163">(For example, during unlock, there must be no more than a two-second delay between the user touching or swiping the fingerprint sensor and the lock screen acknowledging the user's identity.)</span></span>
-   <span data-ttu-id="dd6aa-164">Pour l’affichage initial des vignettes d’informations d’identification sur l’écran de connexion ou de verrouillage, nous autorisons un peu plus de temps (trois secondes, maximum), mais nous préférons encore plus tôt.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-164">For the initial appearance of credential tiles on the sign-in or lock screen, we allow a little more time (three seconds, maximum), but we still prefer sooner rather than later.</span></span> <span data-ttu-id="dd6aa-165">Plus précisément, la mosaïque doit être visible à l’écran dans un délai de trois secondes après l’apparition du panneau de verrouillage ou de connexion.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-165">Specifically, the bio tile needs to be visible on screen within three seconds of the appearance of the lock or sign-in panel.</span></span>

<span data-ttu-id="dd6aa-166">Ces nombres ne sont pas arbitraires.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-166">These numbers are not arbitrary.</span></span> <span data-ttu-id="dd6aa-167">De nombreuses études ont montré que les êtres humains ont tendance à rencontrer tout ce qui se passe dans un délai de deux secondes dans le cadre du moment « maintenant ».</span><span class="sxs-lookup"><span data-stu-id="dd6aa-167">Numerous studies have shown that human beings tend to experience everything that happens within a two-second interval as part of the "now" moment.</span></span> <span data-ttu-id="dd6aa-168">Si l’événement A et l’événement B se produisent dans un délai de deux secondes l’un de l’autre, les utilisateurs perçoivent ces événements comme étant simultanés.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-168">If event A and event B happen within two seconds of each other, people perceive those events as being simultaneous.</span></span> <span data-ttu-id="dd6aa-169">Si les événements sont séparés par plus d’environ trois secondes, les gens pensent qu’il y a un retard : ils estiment que quelque chose est trop long.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-169">If the events are separated by more than about three seconds, people think there's a delay—they feel that something is "taking too long."</span></span> <span data-ttu-id="dd6aa-170">C’est un problème de la psychologie humaine intégrée.</span><span class="sxs-lookup"><span data-stu-id="dd6aa-170">So this is an issue of hardwired human psychology.</span></span>

 

 