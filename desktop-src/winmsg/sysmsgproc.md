---
UID: ''
title: SysMsgProc fonction de rappel
description: Le système appelle cette fonction après qu’un événement d’entrée s’est produit dans une boîte de dialogue, une boîte de message, un menu ou une barre de défilement. | SysMsgProc fonction de rappel
old-location: ''
ms.assetid: na
ms.date: 04/05/2019
ms.keywords: ''
ms.topic: reference
req.header: ''
req.include-header: ''
req.target-type: Windows
req.target-min-winverclnt: ''
req.target-min-winversvr: ''
req.kmdf-ver: ''
req.umdf-ver: ''
req.ddi-compliance: ''
req.unicode-ansi: ''
req.idl: ''
req.max-support: ''
req.namespace: ''
req.assembly: ''
req.type-library: ''
req.lib: ''
req.dll: ''
req.irql: ''
topic_type:
- APIRef
api_type: ''
api_location: ''
api_name: ''
targetos: Windows
req.typenames: ''
req.redist: ''
ms.openlocfilehash: 0d5c7fc116b74dada141e88116ba67209da4a103
ms.sourcegitcommit: 92e74c99f8f4d097676959d0c317f533c2400a80
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/09/2021
ms.locfileid: "106545254"
---
# <a name="sysmsgproc-function"></a><span data-ttu-id="2a42d-104">SysMsgProc fonction)</span><span class="sxs-lookup"><span data-stu-id="2a42d-104">SysMsgProc function</span></span>

## <a name="description"></a><span data-ttu-id="2a42d-105">Description</span><span class="sxs-lookup"><span data-stu-id="2a42d-105">Description</span></span>

<span data-ttu-id="2a42d-106">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [SetWindowsHookEx](/windows/desktop/api/winuser/nf-winuser-setwindowshookexw) .</span><span class="sxs-lookup"><span data-stu-id="2a42d-106">An application-defined or library-defined callback function used with the [SetWindowsHookEx](/windows/desktop/api/winuser/nf-winuser-setwindowshookexw) function.</span></span>
<span data-ttu-id="2a42d-107">Le système appelle cette fonction après qu’un événement d’entrée s’est produit dans une boîte de dialogue, une boîte de message, un menu ou une barre de défilement, mais avant le traitement du message généré par l’événement d’entrée.</span><span class="sxs-lookup"><span data-stu-id="2a42d-107">The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed.</span></span>
<span data-ttu-id="2a42d-108">La fonction peut surveiller les messages d’une boîte de dialogue, d’une boîte de message, d’un menu ou d’une barre de défilement dans le système.</span><span class="sxs-lookup"><span data-stu-id="2a42d-108">The function can monitor messages for any dialog box, message box, menu, or scroll bar in the system.</span></span>

<span data-ttu-id="2a42d-109">Le type **HOOKPROC** définit un pointeur vers cette fonction de rappel.</span><span class="sxs-lookup"><span data-stu-id="2a42d-109">The **HOOKPROC** type defines a pointer to this callback function.</span></span>
<span data-ttu-id="2a42d-110">**SysMsgProc** est un espace réservé pour le nom de la fonction définie par l’application ou par la bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="2a42d-110">**SysMsgProc** is a placeholder for the application-defined or library-defined function name.</span></span>

```cpp
LRESULT CALLBACK SysMsgProc(
  _In_ int    nCode,
       WPARAM wParam,
  _In_ LPARAM lParam
);
```

## <a name="parameters"></a><span data-ttu-id="2a42d-111">Paramètres</span><span class="sxs-lookup"><span data-stu-id="2a42d-111">Parameters</span></span>

### <a name="ncode-in"></a><span data-ttu-id="2a42d-112">nCode [in]</span><span class="sxs-lookup"><span data-stu-id="2a42d-112">nCode [in]</span></span>

<span data-ttu-id="2a42d-113">Type : **int**</span><span class="sxs-lookup"><span data-stu-id="2a42d-113">Type: **int**</span></span>

<span data-ttu-id="2a42d-114">Type d’événement d’entrée qui a généré le message.</span><span class="sxs-lookup"><span data-stu-id="2a42d-114">The type of input event that generated the message.</span></span>
<span data-ttu-id="2a42d-115">Si *nCode* est inférieur à zéro, la procédure de raccordement doit passer le message à la fonction [CallNextHookEx](/windows/desktop/api/winuser/nf-winuser-callnexthookex) sans traitement supplémentaire et doit retourner la valeur retournée par **CallNextHookEx**.</span><span class="sxs-lookup"><span data-stu-id="2a42d-115">If *nCode* is less than zero, the hook procedure must pass the message to the [CallNextHookEx](/windows/desktop/api/winuser/nf-winuser-callnexthookex) function without further processing and should return the value returned by **CallNextHookEx**.</span></span>
<span data-ttu-id="2a42d-116">Ce paramètre peut prendre les valeurs suivantes.</span><span class="sxs-lookup"><span data-stu-id="2a42d-116">This parameter can be one of the following values.</span></span>

| <span data-ttu-id="2a42d-117">Valeur</span><span class="sxs-lookup"><span data-stu-id="2a42d-117">Value</span></span> | <span data-ttu-id="2a42d-118">Signification</span><span class="sxs-lookup"><span data-stu-id="2a42d-118">Meaning</span></span> |
|-------|---------|
| <span data-ttu-id="2a42d-119">**MSGF_DIALOGBOX** 0</span><span class="sxs-lookup"><span data-stu-id="2a42d-119">**MSGF_DIALOGBOX** 0</span></span> | <span data-ttu-id="2a42d-120">L’événement d’entrée s’est produit dans une boîte de message ou une boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="2a42d-120">The input event occurred in a message box or dialog box.</span></span> |
| <span data-ttu-id="2a42d-121">**MSGF_MENU** 2</span><span class="sxs-lookup"><span data-stu-id="2a42d-121">**MSGF_MENU** 2</span></span> | <span data-ttu-id="2a42d-122">L’événement d’entrée s’est produit dans un menu.</span><span class="sxs-lookup"><span data-stu-id="2a42d-122">The input event occurred in a menu.</span></span> |
| <span data-ttu-id="2a42d-123">**MSGF_SCROLLBAR** 5</span><span class="sxs-lookup"><span data-stu-id="2a42d-123">**MSGF_SCROLLBAR** 5</span></span> | <span data-ttu-id="2a42d-124">L’événement d’entrée s’est produit dans une barre de défilement.</span><span class="sxs-lookup"><span data-stu-id="2a42d-124">The input event occurred in a scroll bar.</span></span> |

### <a name="wparam"></a><span data-ttu-id="2a42d-125">wParam</span><span class="sxs-lookup"><span data-stu-id="2a42d-125">wParam</span></span>

<span data-ttu-id="2a42d-126">Type : **wParam**</span><span class="sxs-lookup"><span data-stu-id="2a42d-126">Type: **WPARAM**</span></span>

<span data-ttu-id="2a42d-127">Ce paramètre n'est pas utilisé.</span><span class="sxs-lookup"><span data-stu-id="2a42d-127">This parameter is not used.</span></span>

### <a name="lparam-in"></a><span data-ttu-id="2a42d-128">lParam [in]</span><span class="sxs-lookup"><span data-stu-id="2a42d-128">lParam [in]</span></span>

<span data-ttu-id="2a42d-129">Type : **lParam**</span><span class="sxs-lookup"><span data-stu-id="2a42d-129">Type: **LPARAM**</span></span>

<span data-ttu-id="2a42d-130">Pointeur vers une structure de message [MSG](/windows/desktop/api/winuser/ns-winuser-msg) .</span><span class="sxs-lookup"><span data-stu-id="2a42d-130">A pointer to an [MSG](/windows/desktop/api/winuser/ns-winuser-msg) message structure.</span></span>

## <a name="returns"></a><span data-ttu-id="2a42d-131">Retours</span><span class="sxs-lookup"><span data-stu-id="2a42d-131">Returns</span></span>

<span data-ttu-id="2a42d-132">Type : **LRESULT**</span><span class="sxs-lookup"><span data-stu-id="2a42d-132">Type: **LRESULT**</span></span>

<span data-ttu-id="2a42d-133">Si *nCode* est inférieur à zéro, la procédure de raccordement doit retourner la valeur retournée par **CallNextHookEx**.</span><span class="sxs-lookup"><span data-stu-id="2a42d-133">If *nCode* is less than zero, the hook procedure must return the value returned by **CallNextHookEx**.</span></span>

<span data-ttu-id="2a42d-134">Si *nCode* est supérieur ou égal à zéro et que la procédure de hook n’a pas traité le message, il est vivement recommandé d’appeler **CallNextHookEx** et de retourner la valeur qu’il retourne ; dans le cas contraire, les autres applications qui ont installé [WH_SYSMSGFILTER](about-hooks.md) hooks ne recevront pas de notifications de raccordement et pourront se comporter de manière incorrecte.</span><span class="sxs-lookup"><span data-stu-id="2a42d-134">If *nCode* is greater than or equal to zero, and the hook procedure did not process the message, it is highly recommended that you call **CallNextHookEx** and return the value it returns; otherwise, other applications that have installed [WH_SYSMSGFILTER](about-hooks.md) hooks will not receive hook notifications and may behave incorrectly as a result.</span></span>
<span data-ttu-id="2a42d-135">Si la procédure de Hook a traité le message, elle peut retourner une valeur différente de zéro pour empêcher le système de transmettre le message à la procédure de fenêtre cible.</span><span class="sxs-lookup"><span data-stu-id="2a42d-135">If the hook procedure processed the message, it may return a nonzero value to prevent the system from passing the message to the target window procedure.</span></span>

## <a name="remarks"></a><span data-ttu-id="2a42d-136">Notes</span><span class="sxs-lookup"><span data-stu-id="2a42d-136">Remarks</span></span>

<span data-ttu-id="2a42d-137">Une application installe la procédure de raccordement en spécifiant le type de hook **WH_SYSMSGFILTER** et un pointeur vers la procédure de Hook dans un appel à la fonction **SetWindowsHookEx** .</span><span class="sxs-lookup"><span data-stu-id="2a42d-137">An application installs the hook procedure by specifying the **WH_SYSMSGFILTER** hook type and a pointer to the hook procedure in a call to the **SetWindowsHookEx** function.</span></span>

## <a name="see-also"></a><span data-ttu-id="2a42d-138">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2a42d-138">See also</span></span>

[<span data-ttu-id="2a42d-139">CallNextHookEx</span><span class="sxs-lookup"><span data-stu-id="2a42d-139">CallNextHookEx</span></span>](/windows/desktop/api/winuser/nf-winuser-callnexthookex)

[<span data-ttu-id="2a42d-140">FRAGMENT</span><span class="sxs-lookup"><span data-stu-id="2a42d-140">MSG</span></span>](/windows/desktop/api/winuser/ns-winuser-msg)

[<span data-ttu-id="2a42d-141">SetWindowsHookEx</span><span class="sxs-lookup"><span data-stu-id="2a42d-141">SetWindowsHookEx</span></span>](/windows/desktop/api/winuser/nf-winuser-setwindowshookexw)

[<span data-ttu-id="2a42d-142">Hooks</span><span class="sxs-lookup"><span data-stu-id="2a42d-142">Hooks</span></span>](hooks.md)
