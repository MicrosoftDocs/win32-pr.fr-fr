---
description: Cette section décrit les messages et les files d’attente de messages et explique comment les utiliser dans vos applications.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\messagesandmessagequeues.htm
title: Messages et files d’attente de messages
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d0233af932d1aa9a4130e244af002d6180fdf055
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/13/2021
ms.locfileid: "127404718"
---
# <a name="messages-and-message-queues"></a>Messages et files d’attente de messages

Cette section décrit les messages et les files d’attente de messages et explique comment les utiliser dans vos applications.

### <a name="in-this-section"></a>Dans cette section



| Nom                                                                       | Description                                                                                                                                |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| [À propos des messages et des files d’attente de messages](about-messages-and-message-queues.md) | cette section décrit les messages Windows et les files d’attente de messages.<br/>                                                                     |
| [Utilisation des messages et des files d’attente de messages](using-messages-and-message-queues.md) | les exemples de code suivants montrent comment effectuer les tâches suivantes associées aux messages Windows et aux files d’attente de messages.<br/> |
| [Référence du message](message-and-message-queue-reference.md)               | Contient la référence de l’API.<br/>                                                                                                     |



 

### <a name="system-provided-messages"></a>Messages System-Provided

Pour obtenir la liste des messages fournis par le système, consultez la page [messages définis par le système](about-messages-and-message-queues.md).

### <a name="message-functions"></a>Fonctions de message



| Nom                                                         | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage)     | Envoie un message aux destinataires spécifiés. Les destinataires peuvent être des applications, des pilotes installables, des pilotes réseau, des pilotes de périphérique au niveau du système, ou n’importe quelle combinaison de ces composants système. <br/> Pour recevoir des informations supplémentaires si la demande est définie, utilisez la fonction [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) .<br/>                                                                                                                                                                                                                                  |
| [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) | Envoie un message aux destinataires spécifiés. Les destinataires peuvent être des applications, des pilotes installables, des pilotes réseau, des pilotes de périphérique au niveau du système, ou n’importe quelle combinaison de ces composants système. <br/> Cette fonction est similaire à [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) , à ceci près que cette fonction peut retourner des informations supplémentaires à partir des destinataires.<br/>                                                                                                                                                                                                              |
| [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage)                   | Distribue un message à une procédure de fenêtre. Elle est généralement utilisée pour distribuer un message récupéré par la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**GetInputState**](/windows/win32/api/winuser/nf-winuser-getinputstate)                       | Détermine s’il existe des messages de clavier ou de bouton de souris dans la file d’attente des messages du thread appelant. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage)                             | Récupère un message de la file d’attente de messages du thread appelant. La fonction distribue les messages envoyés jusqu’à ce qu’un message publié soit disponible pour la récupération. <br/> Contrairement à [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), la fonction [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) n’attend pas la publication d’un message avant de retourner.<br/>                                                                                                                                                                                                                                                              |
| [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo)           | Récupère les informations de message supplémentaires pour le thread actuel. Les informations sur les messages supplémentaires sont une valeur définie par l’application ou le pilote associée à la file d’attente de messages du thread actuel. <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos)                       | Récupère la position du curseur pour le dernier message récupéré par la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) . <br/> Pour déterminer la position actuelle du curseur, utilisez la fonction [**GetCursorPos**](/windows/desktop/api/winuser/nf-winuser-getcursorpos) .<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**GetMessageTime**](/windows/win32/api/winuser/nf-winuser-getmessagetime)                     | Récupère l’heure du dernier message récupéré par la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) . L’heure est un entier long qui spécifie le temps écoulé, en millisecondes, à partir du moment où le système a été démarré jusqu’au moment où le message a été créé (c’est-à-dire placé dans la file d’attente de messages du thread). <br/>                                                                                                                                                                                                                                                                         |
| [**GetQueueStatus**](/windows/win32/api/winuser/nf-winuser-getqueuestatus)                     | Indique le type de messages trouvés dans la file d’attente de messages du thread appelant.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage)                       | Détermine si la procédure de fenêtre active traite un message qui a été envoyé à partir d’un autre thread (dans le même processus ou un autre processus) par un appel à la fonction [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) . <br/> Pour obtenir des informations supplémentaires sur la façon dont le message a été envoyé, utilisez la fonction [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) .<br/>                                                                                                                                                                                                                              |
| [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex)                   | Détermine si la procédure de fenêtre active traite un message qui a été envoyé à partir d’un autre thread (dans le même processus ou dans un processus différent).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea)                           | Distribue les messages entrants envoyés, vérifie la file d’attente de messages de thread pour un message publié et récupère le message (le cas échéant).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea)                           | Publie un message dans la file d’attente de messages associée au thread qui a créé la fenêtre spécifiée et retourne sans attendre que le thread traite le message. <br/> Pour poster un message dans la file d’attente de messages associée à un thread, utilisez la fonction [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .<br/>                                                                                                                                                                                                                                                                          |
| [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage)                   | Indique au système qu’un thread a fait une demande d’arrêt (Quit). Elle est généralement utilisée en réponse à un message [**WM \_ Destroy**](wm-destroy.md) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea)               | Publie un message dans la file d’attente de messages du thread spécifié. Elle retourne sans attendre que le thread traite le message.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea)       | Définit un nouveau message de fenêtre dont l’unicité est garantie dans tout le système. La valeur du message peut être utilisée lors de l’envoi ou de la publication des messages.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage)                         | Répond à un message envoyé via la fonction [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) sans retourner le contrôle à la fonction qui a appelé **SendMessage**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc)                         | Fonction de rappel définie par l’application utilisée avec la fonction [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) . Le système transmet le message à la fonction de rappel après avoir passé le message à la procédure de fenêtre de destination. Le type **SENDASYNCPROC** définit un pointeur vers cette fonction de rappel. [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc) est un espace réservé pour le nom de la fonction définie par l’application.<br/>                                                                                                                                                                          |
| [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage)                           | Envoie le message spécifié à une fenêtre ou à des fenêtres. La fonction [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) appelle la procédure de fenêtre pour la fenêtre spécifiée et n’est pas retournée tant que la procédure de fenêtre n’a pas traité le message. <br/> Pour envoyer un message et effectuer un retour immédiatement, utilisez la fonction [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) ou [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) . Pour poster un message dans la file d’attente de messages d’un thread et retourner immédiatement, utilisez la fonction [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) ou [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .<br/> |
| [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka)           | Envoie le message spécifié à une fenêtre ou à des fenêtres. Elle appelle la procédure de fenêtre pour la fenêtre spécifiée et retourne immédiatement une valeur. Une fois que la procédure de fenêtre a traité le message, le système appelle la fonction de rappel spécifiée, en passant le résultat du traitement du message et une valeur définie par l’application à la fonction de rappel.<br/>                                                                                                                                                                                                                                             |
| [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)             | Envoie le message spécifié à une ou plusieurs fenêtres.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea)               | Envoie le message spécifié à une fenêtre ou à des fenêtres. Si la fenêtre a été créée par le thread appelant, [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) appelle la procédure de fenêtre pour la fenêtre et n’est pas retournée tant que la procédure de fenêtre n’a pas traité le message. Si la fenêtre a été créée par un thread différent, **SendNotifyMessage** transmet le message à la procédure de fenêtre et retourne immédiatement une valeur ; Il n’attend pas que la procédure de fenêtre termine le traitement du message.<br/>                                                                                              |
| [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo)           | Définit les informations de message supplémentaires pour le thread actuel. Les informations sur les messages supplémentaires sont une valeur définie par l’application ou le pilote associée à la file d’attente de messages du thread actuel. Une application peut utiliser la fonction [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) pour récupérer des informations supplémentaires sur les messages d’un thread.<br/>                                                                                                                                                                                                                                                                |
| [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage)                 | Traduit les messages de clé virtuelle en messages de caractères. Les messages de caractères sont publiés dans la file d’attente de messages du thread appelant, afin d’être lus la prochaine fois que le thread appelle la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .<br/>                                                                                                                                                                                                                                                                                                                            |
| [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage)                           | Donne le contrôle à d’autres threads lorsqu’un thread n’a pas d’autres messages dans sa file d’attente de messages. La fonction [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) interrompt le thread et ne retourne pas tant qu’un nouveau message n’a pas été placé dans la file d’attente de messages du thread.<br/>                                                                                                                                                                                                                                                                                                                                              |



 

### <a name="message-constants"></a>Constantes de message



| Nom                             | Description                                                                    |
|----------------------------------|--------------------------------------------------------------------------------|
| [**BASE de OCM \_ \_**](ocm--base.md) | Utilisé pour définir des messages privés à utiliser par les classes de fenêtre privées. <br/> |
| [**\_application WM**](wm-app.md)        | Utilisé pour définir des messages privés. <br/>                                   |
| [**\_utilisateur WM**](wm-user.md)      | Utilisation de messages privés todefine pour une utilisation par les classes de fenêtre privées. <br/>  |



 

### <a name="message-structures"></a>Structures de message



| Nom                       | Description                                                                                                                              |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| [**BSMINFO**](/windows/win32/api/winuser/ns-winuser-bsminfo) | Contient des informations sur une fenêtre qui a refusé une requête de [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa). <br/> |
| [**FRAGMENT**](/windows/win32/api/winuser/ns-winuser-msg)         | Contient des informations sur les messages de la file d'attente de messages d'un thread. <br/>                                                                  |



 

 

