---
description: Cette section traite des hooks. Un hook est un point dans le mécanisme de gestion des messages système où une application peut installer une sous-routine pour surveiller le trafic des messages.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\hooks.htm
title: Hooks
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 74057d25e3152c8782c2be364688bb971b08ddf5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104210068"
---
# <a name="hooks"></a><span data-ttu-id="b5a12-104">Hooks</span><span class="sxs-lookup"><span data-stu-id="b5a12-104">Hooks</span></span>

<span data-ttu-id="b5a12-105">Un raccordement est un point dans le mécanisme de gestion des messages système où une application peut installer une sous-routine pour surveiller le trafic des messages dans le système et traiter certains types de messages avant qu’ils atteignent la procédure de fenêtre cible.</span><span class="sxs-lookup"><span data-stu-id="b5a12-105">A hook is a point in the system message-handling mechanism where an application can install a subroutine to monitor the message traffic in the system and process certain types of messages before they reach the target window procedure.</span></span>

### <a name="in-this-section"></a><span data-ttu-id="b5a12-106">Dans cette section</span><span class="sxs-lookup"><span data-stu-id="b5a12-106">In This Section</span></span>



| <span data-ttu-id="b5a12-107">Nom</span><span class="sxs-lookup"><span data-stu-id="b5a12-107">Name</span></span>                                 | <span data-ttu-id="b5a12-108">Description</span><span class="sxs-lookup"><span data-stu-id="b5a12-108">Description</span></span>                                                         |
|--------------------------------------|---------------------------------------------------------------------|
| [<span data-ttu-id="b5a12-109">Vue d’ensemble du hook</span><span class="sxs-lookup"><span data-stu-id="b5a12-109">Hook Overview</span></span>](about-hooks.md)     | <span data-ttu-id="b5a12-110">Explique comment utiliser les raccordements.</span><span class="sxs-lookup"><span data-stu-id="b5a12-110">Discusses how hooks should be used.</span></span><br/>                      |
| [<span data-ttu-id="b5a12-111">Utilisation de hooks</span><span class="sxs-lookup"><span data-stu-id="b5a12-111">Using Hooks</span></span>](using-hooks.md)       | <span data-ttu-id="b5a12-112">Montre comment effectuer des tâches associées à des hooks.</span><span class="sxs-lookup"><span data-stu-id="b5a12-112">Demonstrates how to perform tasks associated with hooks.</span></span><br/> |
| [<span data-ttu-id="b5a12-113">Référence de raccordement</span><span class="sxs-lookup"><span data-stu-id="b5a12-113">Hook Reference</span></span>](hook-reference.md) | <span data-ttu-id="b5a12-114">Contient la référence de l’API.</span><span class="sxs-lookup"><span data-stu-id="b5a12-114">Contains the API reference.</span></span><br/>                              |



 

### <a name="hook-functions"></a><span data-ttu-id="b5a12-115">Fonctions de raccordement</span><span class="sxs-lookup"><span data-stu-id="b5a12-115">Hook Functions</span></span>



| <span data-ttu-id="b5a12-116">Nom</span><span class="sxs-lookup"><span data-stu-id="b5a12-116">Name</span></span>                                               | <span data-ttu-id="b5a12-117">Description</span><span class="sxs-lookup"><span data-stu-id="b5a12-117">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="b5a12-118">**CallMsgFilter**</span><span class="sxs-lookup"><span data-stu-id="b5a12-118">**CallMsgFilter**</span></span>](/windows/win32/api/winuser/nf-winuser-callmsgfiltera)             | <span data-ttu-id="b5a12-119">Passe le message et le code de raccordement spécifiés aux procédures de raccordement associées aux procédures de hook [**\_ SYSMSGFILTER**](about-hooks.md) et **WH \_ msgfilter** .</span><span class="sxs-lookup"><span data-stu-id="b5a12-119">Passes the specified message and hook code to the hook procedures associated with the [**WH\_SYSMSGFILTER**](about-hooks.md) and **WH\_MSGFILTER** hook procedures.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="b5a12-120">**CallNextHookEx**</span><span class="sxs-lookup"><span data-stu-id="b5a12-120">**CallNextHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-callnexthookex)           | <span data-ttu-id="b5a12-121">Passe les informations de raccordement à la procédure de hook suivante dans la chaîne de raccordement en cours.</span><span class="sxs-lookup"><span data-stu-id="b5a12-121">Passes the hook information to the next hook procedure in the current hook chain.</span></span> <span data-ttu-id="b5a12-122">Une procédure de raccordement peut appeler cette fonction avant ou après le traitement des informations de raccordement.</span><span class="sxs-lookup"><span data-stu-id="b5a12-122">A hook procedure can call this function either before or after processing the hook information.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="b5a12-123">[*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-123">[*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85))</span></span>                   | <span data-ttu-id="b5a12-124">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-124">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-125">Le système appelle cette fonction avant d’appeler la procédure de fenêtre pour traiter un message envoyé au thread.</span><span class="sxs-lookup"><span data-stu-id="b5a12-125">The system calls this function before calling the window procedure to process a message sent to the thread.</span></span><br/>                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="b5a12-126">*CallWndRetProc*</span><span class="sxs-lookup"><span data-stu-id="b5a12-126">*CallWndRetProc*</span></span>](/windows/win32/api/winuser/nc-winuser-hookproc)             | <span data-ttu-id="b5a12-127">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-127">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-128">Le système appelle cette fonction après l’appel de la fonction [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-128">The system calls this function after the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function is called.</span></span> <span data-ttu-id="b5a12-129">La procédure de raccordement peut examiner le message ; il ne peut pas le modifier.</span><span class="sxs-lookup"><span data-stu-id="b5a12-129">The hook procedure can examine the message; it cannot modify it.</span></span> <br/>                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="b5a12-130">[*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-130">[*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))</span></span>                           | <span data-ttu-id="b5a12-131">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-131">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-132">Le système appelle cette fonction avant l’activation, la création, la destruction, la réduction, l’agrandissement, le déplacement ou le redimensionnement d’une fenêtre. avant d’exécuter une commande système ; avant de supprimer un événement de souris ou de clavier de la file d’attente des messages système ; avant de définir le focus clavier ; ou avant la synchronisation avec la file d’attente de messages système.</span><span class="sxs-lookup"><span data-stu-id="b5a12-132">The system calls this function before activating, creating, destroying, minimizing, maximizing, moving, or sizing a window; before completing a system command; before removing a mouse or keyboard event from the system message queue; before setting the keyboard focus; or before synchronizing with the system message queue.</span></span> <span data-ttu-id="b5a12-133">Une application de formation basée sur ordinateur (CBT) utilise cette procédure de Hook pour recevoir des notifications utiles du système.</span><span class="sxs-lookup"><span data-stu-id="b5a12-133">A computer-based training (CBT) application uses this hook procedure to receive useful notifications from the system.</span></span> <br/> |
| <span data-ttu-id="b5a12-134">[*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-134">[*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85))</span></span>                       | <span data-ttu-id="b5a12-135">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-135">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-136">Le système appelle cette fonction avant d’appeler les procédures de hook associées à tout type de raccordement.</span><span class="sxs-lookup"><span data-stu-id="b5a12-136">The system calls this function before calling the hook procedures associated with any type of hook.</span></span> <span data-ttu-id="b5a12-137">Le système transmet des informations sur le hook à appeler à la procédure de hook [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)) , qui examine les informations et détermine s’il faut autoriser le hook à être appelé.</span><span class="sxs-lookup"><span data-stu-id="b5a12-137">The system passes information about the hook to be called to the [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)) hook procedure, which examines the information and determines whether to allow the hook to be called.</span></span> <br/>                                                                                                                                                  |
| <span data-ttu-id="b5a12-138">[*ForegroundIdleProc*](/previous-versions/windows/desktop/legacy/ms644980(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-138">[*ForegroundIdleProc*](/previous-versions/windows/desktop/legacy/ms644980(v=vs.85))</span></span>     | <span data-ttu-id="b5a12-139">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-139">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-140">Le système appelle cette fonction chaque fois que le thread de premier plan va devenir inactif.</span><span class="sxs-lookup"><span data-stu-id="b5a12-140">The system calls this function whenever the foreground thread is about to become idle.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="b5a12-141">[*GetMsgProc*](/previous-versions/windows/desktop/legacy/ms644981(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-141">[*GetMsgProc*](/previous-versions/windows/desktop/legacy/ms644981(v=vs.85))</span></span>                     | <span data-ttu-id="b5a12-142">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-142">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-143">Le système appelle cette fonction chaque fois que la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) a récupéré un message à partir d’une file d’attente de messages d’application.</span><span class="sxs-lookup"><span data-stu-id="b5a12-143">The system calls this function whenever the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function has retrieved a message from an application message queue.</span></span> <span data-ttu-id="b5a12-144">Avant de retourner le message récupéré à l’appelant, le système transmet le message à la procédure de Hook.</span><span class="sxs-lookup"><span data-stu-id="b5a12-144">Before returning the retrieved message to the caller, the system passes the message to the hook procedure.</span></span> <br/>                                                                                                                                                        |
| <span data-ttu-id="b5a12-145">[*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-145">[*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85))</span></span>   | <span data-ttu-id="b5a12-146">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-146">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-147">En règle générale, une application utilise cette fonction pour lire une série de messages de souris et de clavier enregistrés précédemment par la procédure de hook [*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-147">Typically, an application uses this function to play back a series of mouse and keyboard messages recorded previously by the [*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85)) hook procedure.</span></span> <span data-ttu-id="b5a12-148">Tant qu’une procédure de hook [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) est installée, l’entrée de souris et de clavier normale est désactivée.</span><span class="sxs-lookup"><span data-stu-id="b5a12-148">As long as a [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) hook procedure is installed, regular mouse and keyboard input is disabled.</span></span> <br/>                                                                                                                       |
| <span data-ttu-id="b5a12-149">[*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-149">[*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85))</span></span>       | <span data-ttu-id="b5a12-150">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-150">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-151">La fonction enregistre les messages que le système supprime de la file d’attente des messages système.</span><span class="sxs-lookup"><span data-stu-id="b5a12-151">The function records messages the system removes from the system message queue.</span></span> <span data-ttu-id="b5a12-152">Plus tard, une application peut utiliser une procédure de hook [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) pour lire les messages.</span><span class="sxs-lookup"><span data-stu-id="b5a12-152">Later, an application can use a [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) hook procedure to play back the messages.</span></span> <br/>                                                                                                                                                                                                                                               |
| <span data-ttu-id="b5a12-153">[*KeyboardProc*](/previous-versions/windows/desktop/legacy/ms644984(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-153">[*KeyboardProc*](/previous-versions/windows/desktop/legacy/ms644984(v=vs.85))</span></span>                 | <span data-ttu-id="b5a12-154">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-154">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-155">Le système appelle cette fonction chaque fois qu’une application appelle la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) et qu’un message de clavier ([**WM \_ KEYUP**](/windows/desktop/inputdev/wm-keyup) ou [**WM \_ KEYpoint**](/windows/desktop/inputdev/wm-keydown)) doit être traité.</span><span class="sxs-lookup"><span data-stu-id="b5a12-155">The system calls this function whenever an application calls the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function and there is a keyboard message ([**WM\_KEYUP**](/windows/desktop/inputdev/wm-keyup) or [**WM\_KEYDOWN**](/windows/desktop/inputdev/wm-keydown)) to be processed.</span></span> <br/>                                                                                                                                                                         |
| <span data-ttu-id="b5a12-156">[*LowLevelKeyboardProc*](/previous-versions/windows/desktop/legacy/ms644985(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-156">[*LowLevelKeyboardProc*](/previous-versions/windows/desktop/legacy/ms644985(v=vs.85))</span></span> | <span data-ttu-id="b5a12-157">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-157">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-158">Le système appelle cette fonction chaque fois qu’un nouvel événement d’entrée au clavier est sur le point d’être publié dans une file d’attente d’entrée de thread.</span><span class="sxs-lookup"><span data-stu-id="b5a12-158">The system calls this function every time a new keyboard input event is about to be posted into a thread input queue.</span></span><br/>                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="b5a12-159">[*LowLevelMouseProc*](/previous-versions/windows/desktop/legacy/ms644986(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-159">[*LowLevelMouseProc*](/previous-versions/windows/desktop/legacy/ms644986(v=vs.85))</span></span>       | <span data-ttu-id="b5a12-160">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-160">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-161">Le système appelle cette fonction chaque fois qu’un nouvel événement d’entrée de la souris est sur le point d’être publié dans une file d’attente d’entrée de thread.</span><span class="sxs-lookup"><span data-stu-id="b5a12-161">The system calls this function every time a new mouse input event is about to be posted into a thread input queue.</span></span><br/>                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="b5a12-162">[*MessageProc*](/previous-versions/windows/desktop/legacy/ms644987(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-162">[*MessageProc*](/previous-versions/windows/desktop/legacy/ms644987(v=vs.85))</span></span>                   | <span data-ttu-id="b5a12-163">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-163">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-164">Le système appelle cette fonction après qu’un événement d’entrée s’est produit dans une boîte de dialogue, une boîte de message, un menu ou une barre de défilement, mais avant le traitement du message généré par l’événement d’entrée.</span><span class="sxs-lookup"><span data-stu-id="b5a12-164">The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed.</span></span> <span data-ttu-id="b5a12-165">La procédure de hook peut surveiller les messages d’une boîte de dialogue, d’une boîte de message, d’un menu ou d’une barre de défilement créée par une application particulière ou toutes les applications.</span><span class="sxs-lookup"><span data-stu-id="b5a12-165">The hook procedure can monitor messages for a dialog box, message box, menu, or scroll bar created by a particular application or all applications.</span></span><br/>                                                                                                                       |
| <span data-ttu-id="b5a12-166">[*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-166">[*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85))</span></span>                       | <span data-ttu-id="b5a12-167">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-167">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-168">Le système appelle cette fonction chaque fois qu’une application appelle la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) et qu’un message de souris est traité.</span><span class="sxs-lookup"><span data-stu-id="b5a12-168">The system calls this function whenever an application calls the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function and there is a mouse message to be processed.</span></span> <br/>                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="b5a12-169">**SetWindowsHookEx**</span><span class="sxs-lookup"><span data-stu-id="b5a12-169">**SetWindowsHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-setwindowshookexa)       | <span data-ttu-id="b5a12-170">Installe une procédure de raccordement définie par l’application dans une chaîne de raccordement.</span><span class="sxs-lookup"><span data-stu-id="b5a12-170">Installs an application-defined hook procedure into a hook chain.</span></span> <span data-ttu-id="b5a12-171">Vous devez installer une procédure de raccordement pour surveiller le système pour certains types d’événements.</span><span class="sxs-lookup"><span data-stu-id="b5a12-171">You would install a hook procedure to monitor the system for certain types of events.</span></span> <span data-ttu-id="b5a12-172">Ces événements sont associés à un thread spécifique ou à tous les threads dans le même bureau que le thread appelant.</span><span class="sxs-lookup"><span data-stu-id="b5a12-172">These events are associated either with a specific thread or with all threads in the same desktop as the calling thread.</span></span><br/>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="b5a12-173">[*ShellProc*](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-173">[*ShellProc*](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))</span></span>                       | <span data-ttu-id="b5a12-174">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-174">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-175">La fonction reçoit des notifications d’événements de Shell du système.</span><span class="sxs-lookup"><span data-stu-id="b5a12-175">The function receives notifications of Shell events from the system.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="b5a12-176">[*SysMsgProc*](/previous-versions/windows/desktop/legacy/ms644992(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="b5a12-176">[*SysMsgProc*](/previous-versions/windows/desktop/legacy/ms644992(v=vs.85))</span></span>                     | <span data-ttu-id="b5a12-177">Fonction de rappel définie par l’application ou définie par la Bibliothèque utilisée avec la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-177">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="b5a12-178">Le système appelle cette fonction après qu’un événement d’entrée s’est produit dans une boîte de dialogue, une boîte de message, un menu ou une barre de défilement, mais avant le traitement du message généré par l’événement d’entrée.</span><span class="sxs-lookup"><span data-stu-id="b5a12-178">The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed.</span></span> <span data-ttu-id="b5a12-179">La fonction peut surveiller les messages d’une boîte de dialogue, d’une boîte de message, d’un menu ou d’une barre de défilement dans le système.</span><span class="sxs-lookup"><span data-stu-id="b5a12-179">The function can monitor messages for any dialog box, message box, menu, or scroll bar in the system.</span></span> <br/>                                                                                                                                                                    |
| [<span data-ttu-id="b5a12-180">**UnhookWindowsHookEx**</span><span class="sxs-lookup"><span data-stu-id="b5a12-180">**UnhookWindowsHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-unhookwindowshookex) | <span data-ttu-id="b5a12-181">Supprime une procédure de raccordement installée dans une chaîne de hook par la fonction [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-181">Removes a hook procedure installed in a hook chain by the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



 

### <a name="hook-notifications"></a><span data-ttu-id="b5a12-182">Notifications de raccordement</span><span class="sxs-lookup"><span data-stu-id="b5a12-182">Hook Notifications</span></span>



| <span data-ttu-id="b5a12-183">Nom</span><span class="sxs-lookup"><span data-stu-id="b5a12-183">Name</span></span>                                          | <span data-ttu-id="b5a12-184">Description</span><span class="sxs-lookup"><span data-stu-id="b5a12-184">Description</span></span>                                                                                                                                                                         |
|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="b5a12-185">**\_CANCELJOURNAL WM**</span><span class="sxs-lookup"><span data-stu-id="b5a12-185">**WM\_CANCELJOURNAL**</span></span>](wm-canceljournal.md) | <span data-ttu-id="b5a12-186">Publié dans une application lorsqu’un utilisateur annule les activités de journalisation de l’application.</span><span class="sxs-lookup"><span data-stu-id="b5a12-186">Posted to an application when a user cancels the application's journaling activities.</span></span> <span data-ttu-id="b5a12-187">Le message est publié avec un handle de fenêtre **null** .</span><span class="sxs-lookup"><span data-stu-id="b5a12-187">The message is posted with a **NULL** window handle.</span></span> <br/>                              |
| [<span data-ttu-id="b5a12-188">**\_QUEUESYNC WM**</span><span class="sxs-lookup"><span data-stu-id="b5a12-188">**WM\_QUEUESYNC**</span></span>](wm-queuesync.md)         | <span data-ttu-id="b5a12-189">Envoyé par une application CBT pour séparer les messages d’entrée utilisateur des autres messages envoyés via la procédure [**\_ JOURNALPLAYBACK**](about-hooks.md) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-189">Sent by a CBT application to separate user-input messages from other messages sent through the [**WH\_JOURNALPLAYBACK**](about-hooks.md) procedure.</span></span> <br/> |



 

### <a name="hook-structures"></a><span data-ttu-id="b5a12-190">Structures de raccordement</span><span class="sxs-lookup"><span data-stu-id="b5a12-190">Hook Structures</span></span>



| <span data-ttu-id="b5a12-191">Nom</span><span class="sxs-lookup"><span data-stu-id="b5a12-191">Name</span></span>                                           | <span data-ttu-id="b5a12-192">Description</span><span class="sxs-lookup"><span data-stu-id="b5a12-192">Description</span></span>                                                                                                                                                                                                                 |
|------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="b5a12-193">**CBT \_ CREATEWND**</span><span class="sxs-lookup"><span data-stu-id="b5a12-193">**CBT\_CREATEWND**</span></span>](/windows/win32/api/winuser/ns-winuser-cbt_createwnda)        | <span data-ttu-id="b5a12-194">Contient les informations transmises à une procédure de hook **WH \_** , [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), avant la création d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="b5a12-194">Contains information passed to a **WH\_CBT** hook procedure, [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), before a window is created.</span></span><br/>                                                                                               |
| [<span data-ttu-id="b5a12-195">**CBTACTIVATESTRUCT**</span><span class="sxs-lookup"><span data-stu-id="b5a12-195">**CBTACTIVATESTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-cbtactivatestruct) | <span data-ttu-id="b5a12-196">Contient les informations transmises à une procédure de hook **WH \_** , [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), avant l’activation d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="b5a12-196">Contains information passed to a **WH\_CBT** hook procedure, [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), before a window is activated.</span></span> <br/>                                                                                            |
| [<span data-ttu-id="b5a12-197">**CWPRETSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="b5a12-197">**CWPRETSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-cwpretstruct)           | <span data-ttu-id="b5a12-198">Définit les paramètres de message passés à une procédure de hook **BL \_ CALLWNDPROCRET** , [*CallWndRetProc*](/windows/win32/api/winuser/nc-winuser-hookproc).</span><span class="sxs-lookup"><span data-stu-id="b5a12-198">Defines the message parameters passed to a **WH\_CALLWNDPROCRET** hook procedure, [*CallWndRetProc*](/windows/win32/api/winuser/nc-winuser-hookproc).</span></span> <br/>                                                                                       |
| [<span data-ttu-id="b5a12-199">**CWPSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="b5a12-199">**CWPSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-cwpstruct)                 | <span data-ttu-id="b5a12-200">Définit les paramètres de message passés à une procédure de hook **BL \_ CALLWNDPROC** , [*CALLWNDPROC*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="b5a12-200">Defines the message parameters passed to a **WH\_CALLWNDPROC** hook procedure, [*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85)).</span></span> <br/>                                                                                                |
| [<span data-ttu-id="b5a12-201">**DEBUGHOOKINFO**</span><span class="sxs-lookup"><span data-stu-id="b5a12-201">**DEBUGHOOKINFO**</span></span>](/windows/win32/api/winuser/ns-winuser-debughookinfo)         | <span data-ttu-id="b5a12-202">Contient les informations de débogage passées à une procédure de raccordement de **\_ débogage WH** , [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="b5a12-202">Contains debugging information passed to a **WH\_DEBUG** hook procedure, [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)).</span></span> <br/>                                                                                                          |
| [<span data-ttu-id="b5a12-203">**EVENTMSG**</span><span class="sxs-lookup"><span data-stu-id="b5a12-203">**EVENTMSG**</span></span>](/windows/win32/api/winuser/ns-winuser-eventmsg)                   | <span data-ttu-id="b5a12-204">Contient des informations sur un message matériel envoyé à la file d’attente des messages système.</span><span class="sxs-lookup"><span data-stu-id="b5a12-204">Contains information about a hardware message sent to the system message queue.</span></span> <span data-ttu-id="b5a12-205">Cette structure est utilisée pour stocker les informations de message pour la fonction de rappel [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="b5a12-205">This structure is used to store message information for the [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) callback function.</span></span> <br/> |
| [<span data-ttu-id="b5a12-206">**KBDLLHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="b5a12-206">**KBDLLHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-kbdllhookstruct)     | <span data-ttu-id="b5a12-207">Contient des informations sur un événement d’entrée de clavier de bas niveau.</span><span class="sxs-lookup"><span data-stu-id="b5a12-207">Contains information about a low-level keyboard input event.</span></span> <br/>                                                                                                                                                    |
| [<span data-ttu-id="b5a12-208">**MOUSEHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="b5a12-208">**MOUSEHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-mousehookstruct)     | <span data-ttu-id="b5a12-209">Contient des informations sur un événement de souris passé à une procédure de hook de **\_ souris WH** , [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="b5a12-209">Contains information about a mouse event passed to a **WH\_MOUSE** hook procedure, [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span></span> <br/>                                                                                                |
| [<span data-ttu-id="b5a12-210">**MOUSEHOOKSTRUCTEX**</span><span class="sxs-lookup"><span data-stu-id="b5a12-210">**MOUSEHOOKSTRUCTEX**</span></span>](/windows/win32/api/winuser/ns-winuser-mousehookstructex) | <span data-ttu-id="b5a12-211">Contient des informations sur un événement de souris passé à une procédure de hook de **\_ souris WH** , [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="b5a12-211">Contains information about a mouse event passed to a **WH\_MOUSE** hook procedure, [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span></span> <br/>                                                                                                |
| [<span data-ttu-id="b5a12-212">**MSLLHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="b5a12-212">**MSLLHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-msllhookstruct)       | <span data-ttu-id="b5a12-213">Contient des informations sur un événement d’entrée de souris de bas niveau.</span><span class="sxs-lookup"><span data-stu-id="b5a12-213">Contains information about a low-level mouse input event.</span></span> <br/>                                                                                                                                                       |



 

## <a name="related-topics"></a><span data-ttu-id="b5a12-214">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="b5a12-214">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b5a12-215">**SetWinEventHook**</span><span class="sxs-lookup"><span data-stu-id="b5a12-215">**SetWinEventHook**</span></span>](/windows/desktop/api/winuser/nf-winuser-setwineventhook)
</dt> </dl>

 

