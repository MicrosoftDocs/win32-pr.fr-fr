---
description: Chaque classe de fenêtre a une procédure de fenêtre associée partagée par toutes les fenêtres de la même classe. La procédure de fenêtre traite les messages de toutes les fenêtres de cette classe et contrôle leur comportement et leur apparence.
ms.assetid: db79fd4b-6a15-4bf9-a0d9-5f6415f6c75f
title: À propos des classes de fenêtre
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b683176c3fd7904cf3f89b385ce0fa393b89e9f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104210071"
---
# <a name="about-window-classes"></a><span data-ttu-id="ee089-104">À propos des classes de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-104">About Window Classes</span></span>

<span data-ttu-id="ee089-105">Chaque classe de fenêtre a une procédure de fenêtre associée partagée par toutes les fenêtres de la même classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-105">Each window class has an associated window procedure shared by all windows of the same class.</span></span> <span data-ttu-id="ee089-106">La procédure de fenêtre traite les messages de toutes les fenêtres de cette classe et contrôle leur comportement et leur apparence.</span><span class="sxs-lookup"><span data-stu-id="ee089-106">The window procedure processes messages for all windows of that class and therefore controls their behavior and appearance.</span></span> <span data-ttu-id="ee089-107">Pour plus d’informations, consultez [Window Procedures](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="ee089-107">For more information, see [Window Procedures](window-procedures.md).</span></span>

<span data-ttu-id="ee089-108">Un processus doit inscrire une classe de fenêtre pour pouvoir créer une fenêtre de cette classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-108">A process must register a window class before it can create a window of that class.</span></span> <span data-ttu-id="ee089-109">L’inscription d’une classe de fenêtre associe une procédure de fenêtre, des styles de classe et d’autres attributs de classe à un nom de classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-109">Registering a window class associates a window procedure, class styles, and other class attributes with a class name.</span></span> <span data-ttu-id="ee089-110">Lorsqu’un processus spécifie un nom de classe dans la fonction [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) ou [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) , le système crée une fenêtre avec la procédure de fenêtre, les styles et d’autres attributs associés à ce nom de classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-110">When a process specifies a class name in the [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) function, the system creates a window with the window procedure, styles, and other attributes associated with that class name.</span></span>

<span data-ttu-id="ee089-111">Cette section décrit les rubriques suivantes.</span><span class="sxs-lookup"><span data-stu-id="ee089-111">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="ee089-112">Types de classes de fenêtres</span><span class="sxs-lookup"><span data-stu-id="ee089-112">Types of Window Classes</span></span>](#types-of-window-classes)
    -   [<span data-ttu-id="ee089-113">Classes système</span><span class="sxs-lookup"><span data-stu-id="ee089-113">System Classes</span></span>](#system-classes)
    -   [<span data-ttu-id="ee089-114">Classes globales d’application</span><span class="sxs-lookup"><span data-stu-id="ee089-114">Application Global Classes</span></span>](#application-global-classes)
    -   [<span data-ttu-id="ee089-115">Classes de l’application locale</span><span class="sxs-lookup"><span data-stu-id="ee089-115">Application Local Classes</span></span>](#application-local-classes)
-   [<span data-ttu-id="ee089-116">Comment le système localise une classe de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-116">How the System Locates a Window Class</span></span>](#how-the-system-locates-a-window-class)
-   [<span data-ttu-id="ee089-117">Inscription d’une classe de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-117">Registering a Window Class</span></span>](#registering-a-window-class)
-   [<span data-ttu-id="ee089-118">Éléments d’une classe de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-118">Elements of a Window Class</span></span>](#elements-of-a-window-class)
    -   [<span data-ttu-id="ee089-119">Nom de la classe</span><span class="sxs-lookup"><span data-stu-id="ee089-119">Class Name</span></span>](#class-name)
    -   [<span data-ttu-id="ee089-120">Adresse de la procédure de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-120">Window Procedure Address</span></span>](#window-procedure-address)
    -   [<span data-ttu-id="ee089-121">Handle d’instance</span><span class="sxs-lookup"><span data-stu-id="ee089-121">Instance Handle</span></span>](#instance-handle)
    -   [<span data-ttu-id="ee089-122">Curseur de classe</span><span class="sxs-lookup"><span data-stu-id="ee089-122">Class Cursor</span></span>](#class-cursor)
    -   [<span data-ttu-id="ee089-123">Icônes de classe</span><span class="sxs-lookup"><span data-stu-id="ee089-123">Class Icons</span></span>](#class-icons)
    -   [<span data-ttu-id="ee089-124">Pinceau d’arrière-plan de classe</span><span class="sxs-lookup"><span data-stu-id="ee089-124">Class Background Brush</span></span>](#class-background-brush)
    -   [<span data-ttu-id="ee089-125">Menu classe</span><span class="sxs-lookup"><span data-stu-id="ee089-125">Class Menu</span></span>](#class-menu)
    -   [<span data-ttu-id="ee089-126">Styles de la classe</span><span class="sxs-lookup"><span data-stu-id="ee089-126">Class Styles</span></span>](#class-styles)
    -   [<span data-ttu-id="ee089-127">Mémoire de classe supplémentaire</span><span class="sxs-lookup"><span data-stu-id="ee089-127">Extra Class Memory</span></span>](#extra-class-memory)
    -   [<span data-ttu-id="ee089-128">Mémoire de fenêtre supplémentaire</span><span class="sxs-lookup"><span data-stu-id="ee089-128">Extra Window Memory</span></span>](#extra-window-memory)

## <a name="types-of-window-classes"></a><span data-ttu-id="ee089-129">Types de classes de fenêtres</span><span class="sxs-lookup"><span data-stu-id="ee089-129">Types of Window Classes</span></span>

<span data-ttu-id="ee089-130">Il existe trois types de classes de fenêtres :</span><span class="sxs-lookup"><span data-stu-id="ee089-130">There are three types of window classes:</span></span>

-   [<span data-ttu-id="ee089-131">Classes système</span><span class="sxs-lookup"><span data-stu-id="ee089-131">System Classes</span></span>](#system-classes)
-   [<span data-ttu-id="ee089-132">Classes globales d’application</span><span class="sxs-lookup"><span data-stu-id="ee089-132">Application Global Classes</span></span>](#application-global-classes)
-   [<span data-ttu-id="ee089-133">Classes de l’application locale</span><span class="sxs-lookup"><span data-stu-id="ee089-133">Application Local Classes</span></span>](#application-local-classes)

<span data-ttu-id="ee089-134">Ces types diffèrent dans l’étendue et dans le moment et la façon dont ils sont inscrits et détruits.</span><span class="sxs-lookup"><span data-stu-id="ee089-134">These types differ in scope and in when and how they are registered and destroyed.</span></span>

### <a name="system-classes"></a><span data-ttu-id="ee089-135">Classes système</span><span class="sxs-lookup"><span data-stu-id="ee089-135">System Classes</span></span>

<span data-ttu-id="ee089-136">Une classe système est une classe de fenêtre inscrite par le système.</span><span class="sxs-lookup"><span data-stu-id="ee089-136">A system class is a window class registered by the system.</span></span> <span data-ttu-id="ee089-137">De nombreuses classes système sont disponibles pour tous les processus à utiliser, tandis que d’autres sont utilisées uniquement en interne par le système.</span><span class="sxs-lookup"><span data-stu-id="ee089-137">Many system classes are available for all processes to use, while others are used only internally by the system.</span></span> <span data-ttu-id="ee089-138">Étant donné que le système enregistre ces classes, un processus ne peut pas les détruire.</span><span class="sxs-lookup"><span data-stu-id="ee089-138">Because the system registers these classes, a process cannot destroy them.</span></span>

<span data-ttu-id="ee089-139">Le système inscrit les classes système pour un processus la première fois que l’un de ses threads appelle un utilisateur ou une fonction Windows Graphics Device Interface (GDI).</span><span class="sxs-lookup"><span data-stu-id="ee089-139">The system registers the system classes for a process the first time one of its threads calls a User or a Windows Graphics Device Interface (GDI) function.</span></span>

<span data-ttu-id="ee089-140">Chaque application reçoit sa propre copie des classes système.</span><span class="sxs-lookup"><span data-stu-id="ee089-140">Each application receives its own copy of the system classes.</span></span> <span data-ttu-id="ee089-141">Toutes les applications Windows 16 bits dans le même VDM partagent les mêmes classes système que sur Windows 16 bits.</span><span class="sxs-lookup"><span data-stu-id="ee089-141">All 16-bit Windows-based applications in the same VDM share system classes, just as they do on 16-bit Windows.</span></span>

<span data-ttu-id="ee089-142">Le tableau suivant décrit les classes système qui peuvent être utilisées par tous les processus.</span><span class="sxs-lookup"><span data-stu-id="ee089-142">The following table describes the system classes that are available for use by all processes.</span></span>



| <span data-ttu-id="ee089-143">Classe</span><span class="sxs-lookup"><span data-stu-id="ee089-143">Class</span></span>     | <span data-ttu-id="ee089-144">Description</span><span class="sxs-lookup"><span data-stu-id="ee089-144">Description</span></span>                         |
|-----------|-------------------------------------|
| <span data-ttu-id="ee089-145">Bouton</span><span class="sxs-lookup"><span data-stu-id="ee089-145">Button</span></span>    | <span data-ttu-id="ee089-146">Classe pour un bouton.</span><span class="sxs-lookup"><span data-stu-id="ee089-146">The class for a button.</span></span>             |
| <span data-ttu-id="ee089-147">Liste déroulante</span><span class="sxs-lookup"><span data-stu-id="ee089-147">ComboBox</span></span>  | <span data-ttu-id="ee089-148">Classe pour une zone de liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="ee089-148">The class for a combo box.</span></span>          |
| <span data-ttu-id="ee089-149">Modifier</span><span class="sxs-lookup"><span data-stu-id="ee089-149">Edit</span></span>      | <span data-ttu-id="ee089-150">Classe pour un contrôle d’édition.</span><span class="sxs-lookup"><span data-stu-id="ee089-150">The class for an edit control.</span></span>      |
| <span data-ttu-id="ee089-151">ListBox</span><span class="sxs-lookup"><span data-stu-id="ee089-151">ListBox</span></span>   | <span data-ttu-id="ee089-152">Classe pour une zone de liste.</span><span class="sxs-lookup"><span data-stu-id="ee089-152">The class for a list box.</span></span>           |
| <span data-ttu-id="ee089-153">MDIClient</span><span class="sxs-lookup"><span data-stu-id="ee089-153">MDIClient</span></span> | <span data-ttu-id="ee089-154">Classe pour une fenêtre cliente MDI.</span><span class="sxs-lookup"><span data-stu-id="ee089-154">The class for an MDI client window.</span></span> |
| <span data-ttu-id="ee089-155">ScrollBar</span><span class="sxs-lookup"><span data-stu-id="ee089-155">ScrollBar</span></span> | <span data-ttu-id="ee089-156">Classe d’une barre de défilement.</span><span class="sxs-lookup"><span data-stu-id="ee089-156">The class for a scroll bar.</span></span>         |
| <span data-ttu-id="ee089-157">statique</span><span class="sxs-lookup"><span data-stu-id="ee089-157">Static</span></span>    | <span data-ttu-id="ee089-158">Classe pour un contrôle statique.</span><span class="sxs-lookup"><span data-stu-id="ee089-158">The class for a static control.</span></span>     |



 

<span data-ttu-id="ee089-159">Le tableau suivant décrit les classes système qui sont disponibles uniquement pour une utilisation par le système.</span><span class="sxs-lookup"><span data-stu-id="ee089-159">The following table describes the system classes that are available only for use by the system.</span></span> <span data-ttu-id="ee089-160">Ils sont répertoriés ici pour des raisons d’exhaustivité.</span><span class="sxs-lookup"><span data-stu-id="ee089-160">They are listed here for completeness sake.</span></span>



| <span data-ttu-id="ee089-161">Classe</span><span class="sxs-lookup"><span data-stu-id="ee089-161">Class</span></span>      | <span data-ttu-id="ee089-162">Description</span><span class="sxs-lookup"><span data-stu-id="ee089-162">Description</span></span>                                                            |
|------------|------------------------------------------------------------------------|
| <span data-ttu-id="ee089-163">ComboLBox</span><span class="sxs-lookup"><span data-stu-id="ee089-163">ComboLBox</span></span>  | <span data-ttu-id="ee089-164">Classe de la zone de liste contenue dans une zone de liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="ee089-164">The class for the list box contained in a combo box.</span></span>                   |
| <span data-ttu-id="ee089-165">DDEMLEvent</span><span class="sxs-lookup"><span data-stu-id="ee089-165">DDEMLEvent</span></span> | <span data-ttu-id="ee089-166">Classe pour les événements de la bibliothèque de gestion des échange dynamique de données (DDEML).</span><span class="sxs-lookup"><span data-stu-id="ee089-166">The class for Dynamic Data Exchange Management Library (DDEML) events.</span></span> |
| <span data-ttu-id="ee089-167">Message</span><span class="sxs-lookup"><span data-stu-id="ee089-167">Message</span></span>    | <span data-ttu-id="ee089-168">Classe pour une fenêtre de message uniquement.</span><span class="sxs-lookup"><span data-stu-id="ee089-168">The class for a message-only window.</span></span>                                   |
| <span data-ttu-id="ee089-169">\#32768</span><span class="sxs-lookup"><span data-stu-id="ee089-169">\#32768</span></span>    | <span data-ttu-id="ee089-170">Classe d’un menu.</span><span class="sxs-lookup"><span data-stu-id="ee089-170">The class for a menu.</span></span>                                                  |
| <span data-ttu-id="ee089-171">\#32769</span><span class="sxs-lookup"><span data-stu-id="ee089-171">\#32769</span></span>    | <span data-ttu-id="ee089-172">Classe de la fenêtre du bureau.</span><span class="sxs-lookup"><span data-stu-id="ee089-172">The class for the desktop window.</span></span>                                      |
| <span data-ttu-id="ee089-173">\#32770</span><span class="sxs-lookup"><span data-stu-id="ee089-173">\#32770</span></span>    | <span data-ttu-id="ee089-174">Classe d’une boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="ee089-174">The class for a dialog box.</span></span>                                            |
| <span data-ttu-id="ee089-175">\#32771</span><span class="sxs-lookup"><span data-stu-id="ee089-175">\#32771</span></span>    | <span data-ttu-id="ee089-176">Classe de la fenêtre du commutateur de tâche.</span><span class="sxs-lookup"><span data-stu-id="ee089-176">The class for the task switch window.</span></span>                                  |
| <span data-ttu-id="ee089-177">\#32772</span><span class="sxs-lookup"><span data-stu-id="ee089-177">\#32772</span></span>    | <span data-ttu-id="ee089-178">Classe pour les titres d’icône.</span><span class="sxs-lookup"><span data-stu-id="ee089-178">The class for icon titles.</span></span>                                             |



 

### <a name="application-global-classes"></a><span data-ttu-id="ee089-179">Classes globales d’application</span><span class="sxs-lookup"><span data-stu-id="ee089-179">Application Global Classes</span></span>

<span data-ttu-id="ee089-180">Une [classe globale d’application](#application-global-classes) est une classe de fenêtre inscrite par un exécutable ou une dll qui est disponible pour tous les autres modules du processus.</span><span class="sxs-lookup"><span data-stu-id="ee089-180">An [application global class](#application-global-classes) is a window class registered by an executable or DLL that is available to all other modules in the process.</span></span> <span data-ttu-id="ee089-181">Par exemple, votre dll peut appeler la fonction [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) pour inscrire une classe de fenêtre qui définit un contrôle personnalisé en tant que classe globale d’application afin qu’un processus qui charge le fichier. dll puisse créer des instances du contrôle personnalisé.</span><span class="sxs-lookup"><span data-stu-id="ee089-181">For example, your .dll can call the [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function to register a window class that defines a custom control as an application global class so that a process that loads the .dll can create instances of the custom control.</span></span>

<span data-ttu-id="ee089-182">Pour créer une classe qui peut être utilisée dans chaque processus, créez la classe de fenêtre dans un fichier. dll et chargez le fichier. dll dans chaque processus.</span><span class="sxs-lookup"><span data-stu-id="ee089-182">To create a class that can be used in every process, create the window class in a .dll and load the .dll in every process.</span></span> <span data-ttu-id="ee089-183">Pour charger le fichier. dll dans chaque processus, ajoutez son nom à la valeur des **\_ DLL AppInit** dans la clé de Registre suivante :</span><span class="sxs-lookup"><span data-stu-id="ee089-183">To load the .dll in every process, add its name to the **AppInit\_DLLs** value in following registry key:</span></span>

<span data-ttu-id="ee089-184">**HKEY \_ Logiciel de l' \_ ordinateur local** \\  \\ **Microsoft** \\ **Windows NT** \\ **CurrentVersion** \\ **Windows**</span><span class="sxs-lookup"><span data-stu-id="ee089-184">**HKEY\_LOCAL\_MACHINE**\\**Software**\\**Microsoft**\\**Windows NT**\\**CurrentVersion**\\**Windows**</span></span>

<span data-ttu-id="ee089-185">Chaque fois qu’un processus démarre, le système charge le fichier. dll spécifié dans le contexte du processus qui vient d’être démarré avant d’appeler sa fonction de point d’entrée.</span><span class="sxs-lookup"><span data-stu-id="ee089-185">Whenever a process starts, the system loads the specified .dll in the context of the newly started process before calling its entry-point function.</span></span> <span data-ttu-id="ee089-186">Le fichier. dll doit inscrire la classe pendant sa procédure d’initialisation et doit spécifier le style **cs \_ GLOBALCLASS** .</span><span class="sxs-lookup"><span data-stu-id="ee089-186">The .dll must register the class during its initialization procedure and must specify the **CS\_GLOBALCLASS** style.</span></span> <span data-ttu-id="ee089-187">Pour plus d’informations, consultez [styles de classe](#class-styles).</span><span class="sxs-lookup"><span data-stu-id="ee089-187">For more information, see [Class Styles](#class-styles).</span></span>

<span data-ttu-id="ee089-188">Pour supprimer une classe globale d’application et libérer le stockage qui lui est associé, utilisez la fonction [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-188">To remove an application global class and free the storage associated with it, use the [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) function.</span></span>

### <a name="application-local-classes"></a><span data-ttu-id="ee089-189">Classes de l’application locale</span><span class="sxs-lookup"><span data-stu-id="ee089-189">Application Local Classes</span></span>

<span data-ttu-id="ee089-190">Une [classe d’application locale](#application-local-classes) est une classe de fenêtre qu’un exécutable ou. dll inscrit pour son usage exclusif.</span><span class="sxs-lookup"><span data-stu-id="ee089-190">An [application local class](#application-local-classes) is any window class that an executable or .dll registers for its exclusive use.</span></span> <span data-ttu-id="ee089-191">Bien que vous puissiez inscrire n’importe quel nombre de classes locales, il est généralement possible de n’en inscrire qu’une seule.</span><span class="sxs-lookup"><span data-stu-id="ee089-191">Although you can register any number of local classes, it is typical to register only one.</span></span> <span data-ttu-id="ee089-192">Cette classe de fenêtre prend en charge la procédure de fenêtre de la fenêtre principale de l’application.</span><span class="sxs-lookup"><span data-stu-id="ee089-192">This window class supports the window procedure of the application's main window.</span></span>

<span data-ttu-id="ee089-193">Le système détruit une classe locale lorsque le module qui l’a inscrit se ferme.</span><span class="sxs-lookup"><span data-stu-id="ee089-193">The system destroys a local class when the module that registered it closes.</span></span> <span data-ttu-id="ee089-194">Une application peut également utiliser la fonction [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) pour supprimer une classe locale et libérer le stockage qui lui est associé.</span><span class="sxs-lookup"><span data-stu-id="ee089-194">An application can also use the [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) function to remove a local class and free the storage associated with it.</span></span>

## <a name="how-the-system-locates-a-window-class"></a><span data-ttu-id="ee089-195">Comment le système localise une classe de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-195">How the System Locates a Window Class</span></span>

<span data-ttu-id="ee089-196">Le système gère une liste de structures pour chacun des trois types de classes de fenêtres.</span><span class="sxs-lookup"><span data-stu-id="ee089-196">The system maintains a list of structures for each of the three types of window classes.</span></span> <span data-ttu-id="ee089-197">Quand une application appelle la fonction [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) ou [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) pour créer une fenêtre avec une classe spécifiée, le système utilise la procédure suivante pour rechercher la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-197">When an application calls the [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) function to create a window with a specified class, the system uses the following procedure to locate the class.</span></span>

1.  <span data-ttu-id="ee089-198">Recherchez dans la liste des classes de l’application locale une classe portant le nom spécifié dont le handle d’instance correspond au handle d’instance du module.</span><span class="sxs-lookup"><span data-stu-id="ee089-198">Search the list of application local classes for a class with the specified name whose instance handle matches the module's instance handle.</span></span> <span data-ttu-id="ee089-199">(Plusieurs modules peuvent utiliser le même nom pour enregistrer des classes locales dans le même processus.)</span><span class="sxs-lookup"><span data-stu-id="ee089-199">(Several modules can use the same name to register local classes in the same process.)</span></span>
2.  <span data-ttu-id="ee089-200">Si le nom ne figure pas dans la liste classe locale de l’application, recherchez la liste des classes globales de l’application.</span><span class="sxs-lookup"><span data-stu-id="ee089-200">If the name is not in the application local class list, search the list of application global classes.</span></span>
3.  <span data-ttu-id="ee089-201">Si le nom ne figure pas dans la liste des classes globales de l’application, recherchez la liste des classes système.</span><span class="sxs-lookup"><span data-stu-id="ee089-201">If the name is not in the application global class list, search the list of system classes.</span></span>

<span data-ttu-id="ee089-202">Toutes les fenêtres créées par l’application utilisent cette procédure, y compris les fenêtres créées par le système au nom de l’application, telles que les boîtes de dialogue.</span><span class="sxs-lookup"><span data-stu-id="ee089-202">All windows created by the application use this procedure, including windows created by the system on the application's behalf, such as dialog boxes.</span></span> <span data-ttu-id="ee089-203">Il est possible de substituer des classes système sans affecter d’autres applications.</span><span class="sxs-lookup"><span data-stu-id="ee089-203">It is possible to override system classes without affecting other applications.</span></span> <span data-ttu-id="ee089-204">Autrement dit, une application peut inscrire une classe locale d’application portant le même nom qu’une classe système.</span><span class="sxs-lookup"><span data-stu-id="ee089-204">That is, an application can register an application local class having the same name as a system class.</span></span> <span data-ttu-id="ee089-205">Cela remplace la classe système dans le contexte de l’application, mais n’empêche pas les autres applications d’utiliser la classe système.</span><span class="sxs-lookup"><span data-stu-id="ee089-205">This replaces the system class in the context of the application but does not prevent other applications from using the system class.</span></span>

## <a name="registering-a-window-class"></a><span data-ttu-id="ee089-206">Inscription d’une classe de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-206">Registering a Window Class</span></span>

<span data-ttu-id="ee089-207">Une classe de fenêtre définit les attributs d’une fenêtre, tels que son style, son icône, son curseur, son menu et sa procédure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-207">A window class defines the attributes of a window, such as its style, icon, cursor, menu, and window procedure.</span></span> <span data-ttu-id="ee089-208">La première étape de l’inscription d’une classe de fenêtre consiste à remplir une structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) avec les informations de classe de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-208">The first step in registering a window class is to fill in a [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure with the window class information.</span></span> <span data-ttu-id="ee089-209">Pour plus d’informations, consultez [éléments d’une classe de fenêtre](#elements-of-a-window-class).</span><span class="sxs-lookup"><span data-stu-id="ee089-209">For more information, see [Elements of a Window Class](#elements-of-a-window-class).</span></span> <span data-ttu-id="ee089-210">Ensuite, transmettez la structure à la fonction [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-210">Next, pass the structure to the [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function.</span></span> <span data-ttu-id="ee089-211">Pour plus d’informations, consultez [utilisation des classes de fenêtre](using-window-classes.md).</span><span class="sxs-lookup"><span data-stu-id="ee089-211">For more information, see [Using Window Classes](using-window-classes.md).</span></span>

<span data-ttu-id="ee089-212">Pour inscrire une classe globale d’application, spécifiez le \_ style cs GLOBALCLASS dans le membre **style** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-212">To register an application global class, specify the CS\_GLOBALCLASS style in the **style** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="ee089-213">Lors de l’inscription d’une classe de l’application locale, ne spécifiez pas le style **cs \_ GLOBALCLASS** .</span><span class="sxs-lookup"><span data-stu-id="ee089-213">When registering an application local class, do not specify the **CS\_GLOBALCLASS** style.</span></span>

<span data-ttu-id="ee089-214">Si vous inscrivez la classe de fenêtre à l’aide de la version ANSI de [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa), **RegisterClassExA**, l’application demande que le système passe les paramètres de texte des messages aux fenêtres de la classe créée à l’aide du jeu de caractères ANSI. Si vous inscrivez la classe à l’aide de la version Unicode de **RegisterClassEx**, **RegisterClassExW**, l’application demande que le système passe les paramètres de texte des messages aux fenêtres de la classe créée à l’aide du jeu de caractères Unicode.</span><span class="sxs-lookup"><span data-stu-id="ee089-214">If you register the window class using the ANSI version of [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa), **RegisterClassExA**, the application requests that the system pass text parameters of messages to the windows of the created class using the ANSI character set; if you register the class using the Unicode version of **RegisterClassEx**, **RegisterClassExW**, the application requests that the system pass text parameters of messages to the windows of the created class using the Unicode character set.</span></span> <span data-ttu-id="ee089-215">La fonction [**IsWindowUnicode**](/windows/win32/api/winuser/nf-winuser-iswindowunicode) permet aux applications d’interroger la nature de chaque fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-215">The [**IsWindowUnicode**](/windows/win32/api/winuser/nf-winuser-iswindowunicode) function enables applications to query the nature of each window.</span></span> <span data-ttu-id="ee089-216">Pour plus d’informations sur les fonctions ANSI et Unicode, consultez [conventions pour les prototypes de fonction](/windows/desktop/Intl/conventions-for-function-prototypes).</span><span class="sxs-lookup"><span data-stu-id="ee089-216">For more information on ANSI and Unicode functions, see [Conventions for Function Prototypes](/windows/desktop/Intl/conventions-for-function-prototypes).</span></span>

<span data-ttu-id="ee089-217">L’exécutable ou la DLL qui a inscrit la classe est le propriétaire de la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-217">The executable or DLL that registered the class is the owner of the class.</span></span> <span data-ttu-id="ee089-218">Le système détermine la propriété de la classe à partir du membre **HINSTANCE** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) transmise à la fonction [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) lorsque la classe est inscrite.</span><span class="sxs-lookup"><span data-stu-id="ee089-218">The system determines class ownership from the **hInstance** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure passed to the [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function when the class is registered.</span></span> <span data-ttu-id="ee089-219">Pour les dll, le membre **HINSTANCE** doit être le descripteur de l’instance. dll.</span><span class="sxs-lookup"><span data-stu-id="ee089-219">For DLLs, the **hInstance** member must be the handle to the .dll instance.</span></span>

<span data-ttu-id="ee089-220">La classe n’est pas détruite quand le fichier. dll qui le possède est déchargé.</span><span class="sxs-lookup"><span data-stu-id="ee089-220">The class is not destroyed when the .dll that owns it is unloaded.</span></span> <span data-ttu-id="ee089-221">Par conséquent, si le système appelle la procédure de fenêtre pour une fenêtre de cette classe, cela entraîne une violation d’accès, car le fichier. dll contenant la procédure de fenêtre n’est plus en mémoire.</span><span class="sxs-lookup"><span data-stu-id="ee089-221">Therefore, if the system calls the window procedure for a window of that class, it will cause an access violation, because the .dll containing the window procedure is no longer in memory.</span></span> <span data-ttu-id="ee089-222">Le processus doit détruire toutes les fenêtres à l’aide de la classe avant que le fichier. dll soit déchargé et appeler la fonction [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-222">The process must destroy all windows using the class before the .dll is unloaded and call the [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) function.</span></span>

## <a name="elements-of-a-window-class"></a><span data-ttu-id="ee089-223">Éléments d’une classe de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-223">Elements of a Window Class</span></span>

<span data-ttu-id="ee089-224">Les éléments d’une classe de fenêtre définissent le comportement par défaut des fenêtres appartenant à la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-224">The elements of a window class define the default behavior of windows belonging to the class.</span></span> <span data-ttu-id="ee089-225">L’application qui inscrit une classe de fenêtre assigne des éléments à la classe en définissant les membres appropriés dans une structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) et en passant la structure à la fonction [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-225">The application that registers a window class assigns elements to the class by setting appropriate members in a [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure and passing the structure to the [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function.</span></span> <span data-ttu-id="ee089-226">Les fonctions [**GetClassInfoEx**](/windows/win32/api/winuser/nf-winuser-getclassinfoexa) et [**GetClassLong**](/windows/win32/api/winuser/nf-winuser-getclasslonga) récupèrent des informations sur une classe de fenêtre donnée.</span><span class="sxs-lookup"><span data-stu-id="ee089-226">The [**GetClassInfoEx**](/windows/win32/api/winuser/nf-winuser-getclassinfoexa) and [**GetClassLong**](/windows/win32/api/winuser/nf-winuser-getclasslonga) functions retrieve information about a given window class.</span></span> <span data-ttu-id="ee089-227">La fonction [**SetClassLong**](/windows/win32/api/winuser/nf-winuser-setclasslonga) modifie les éléments d’une classe locale ou globale déjà inscrite par l’application.</span><span class="sxs-lookup"><span data-stu-id="ee089-227">The [**SetClassLong**](/windows/win32/api/winuser/nf-winuser-setclasslonga) function changes elements of a local or global class that the application has already registered.</span></span>

<span data-ttu-id="ee089-228">Bien qu’une classe de fenêtre complète soit composée de nombreux éléments, le système nécessite uniquement qu’une application fournisse un nom de classe, l’adresse de la procédure de fenêtre et un handle d’instance.</span><span class="sxs-lookup"><span data-stu-id="ee089-228">Although a complete window class consists of many elements, the system requires only that an application supply a class name, the window-procedure address, and an instance handle.</span></span> <span data-ttu-id="ee089-229">Utilisez les autres éléments pour définir des attributs par défaut pour les fenêtres de la classe, telles que la forme du curseur et le contenu du menu de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-229">Use the other elements to define default attributes for windows of the class, such as the shape of the cursor and the content of the menu for the window.</span></span> <span data-ttu-id="ee089-230">Vous devez initialiser tous les membres inutilisés de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) à zéro ou **null**.</span><span class="sxs-lookup"><span data-stu-id="ee089-230">You must initialize any unused members of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to zero or **NULL**.</span></span> <span data-ttu-id="ee089-231">Les éléments de classe de fenêtre sont répertoriés dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="ee089-231">The window class elements are as shown in the following table.</span></span>



| <span data-ttu-id="ee089-232">Élément</span><span class="sxs-lookup"><span data-stu-id="ee089-232">Element</span></span>                                               | <span data-ttu-id="ee089-233">Objectif</span><span class="sxs-lookup"><span data-stu-id="ee089-233">Purpose</span></span>                                                                                                                                                                                                                                       |
|-------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="ee089-234">Nom de la classe</span><span class="sxs-lookup"><span data-stu-id="ee089-234">Class Name</span></span>](#class-name)                             | <span data-ttu-id="ee089-235">Distingue la classe des autres classes inscrites.</span><span class="sxs-lookup"><span data-stu-id="ee089-235">Distinguishes the class from other registered classes.</span></span>                                                                                                                                                                                        |
| [<span data-ttu-id="ee089-236">Adresse de la procédure de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-236">Window Procedure Address</span></span>](#window-procedure-address) | <span data-ttu-id="ee089-237">Pointeur vers la fonction qui traite tous les messages envoyés à Windows dans la classe et définit le comportement de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-237">Pointer to the function that processes all messages sent to windows in the class and defines the behavior of the window.</span></span>                                                                                                                      |
| [<span data-ttu-id="ee089-238">Handle d’instance</span><span class="sxs-lookup"><span data-stu-id="ee089-238">Instance Handle</span></span>](#instance-handle)                   | <span data-ttu-id="ee089-239">Identifie l’application ou le fichier. dll qui a inscrit la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-239">Identifies the application or .dll that registered the class.</span></span>                                                                                                                                                                                 |
| [<span data-ttu-id="ee089-240">Curseur de classe</span><span class="sxs-lookup"><span data-stu-id="ee089-240">Class Cursor</span></span>](#class-cursor)                         | <span data-ttu-id="ee089-241">Définit le curseur de la souris que le système affiche pour une fenêtre de la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-241">Defines the mouse cursor that the system displays for a window of the class.</span></span>                                                                                                                                                                  |
| [<span data-ttu-id="ee089-242">Icônes de classe</span><span class="sxs-lookup"><span data-stu-id="ee089-242">Class Icons</span></span>](#class-icons)                           | <span data-ttu-id="ee089-243">Définit la grande icône et la petite icône.</span><span class="sxs-lookup"><span data-stu-id="ee089-243">Defines the large icon and the small icon.</span></span>                                                                                                                                                                                                    |
| [<span data-ttu-id="ee089-244">Pinceau d’arrière-plan de classe</span><span class="sxs-lookup"><span data-stu-id="ee089-244">Class Background Brush</span></span>](#class-background-brush)     | <span data-ttu-id="ee089-245">Définit la couleur et le motif qui remplissent la zone cliente lorsque la fenêtre est ouverte ou peinte.</span><span class="sxs-lookup"><span data-stu-id="ee089-245">Defines the color and pattern that fill the client area when the window is opened or painted.</span></span>                                                                                                                                                 |
| [<span data-ttu-id="ee089-246">Menu classe</span><span class="sxs-lookup"><span data-stu-id="ee089-246">Class Menu</span></span>](#class-menu)                             | <span data-ttu-id="ee089-247">Spécifie le menu par défaut pour les fenêtres qui ne définissent pas explicitement un menu.</span><span class="sxs-lookup"><span data-stu-id="ee089-247">Specifies the default menu for windows that do not explicitly define a menu.</span></span>                                                                                                                                                                  |
| [<span data-ttu-id="ee089-248">Styles de la classe</span><span class="sxs-lookup"><span data-stu-id="ee089-248">Class Styles</span></span>](#class-styles)                         | <span data-ttu-id="ee089-249">Définit comment mettre à jour la fenêtre après l’avoir déplacée ou redimensionnée, comment traiter les double-clics de la souris, comment allouer de l’espace pour le contexte de périphérique et d’autres aspects de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-249">Defines how to update the window after moving or resizing it, how to process double-clicks of the mouse, how to allocate space for the device context, and other aspects of the window.</span></span>                                                       |
| [<span data-ttu-id="ee089-250">Mémoire de classe supplémentaire</span><span class="sxs-lookup"><span data-stu-id="ee089-250">Extra Class Memory</span></span>](#extra-class-memory)             | <span data-ttu-id="ee089-251">Spécifie la quantité de mémoire supplémentaire, en octets, que le système doit réserver pour la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-251">Specifies the amount of extra memory, in bytes, that the system should reserve for the class.</span></span> <span data-ttu-id="ee089-252">Toutes les fenêtres de la classe partagent la mémoire supplémentaire et peuvent l’utiliser pour n’importe quel rôle défini par l’application.</span><span class="sxs-lookup"><span data-stu-id="ee089-252">All windows in the class share the extra memory and can use it for any application-defined purpose.</span></span> <span data-ttu-id="ee089-253">Le système initialise cette mémoire à zéro.</span><span class="sxs-lookup"><span data-stu-id="ee089-253">The system initializes this memory to zero.</span></span> |
| [<span data-ttu-id="ee089-254">Mémoire de fenêtre supplémentaire</span><span class="sxs-lookup"><span data-stu-id="ee089-254">Extra Window Memory</span></span>](#extra-window-memory)           | <span data-ttu-id="ee089-255">Spécifie la quantité de mémoire supplémentaire, en octets, que le système doit réserver pour chaque fenêtre appartenant à la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-255">Specifies the amount of extra memory, in bytes, that the system should reserve for each window belonging to the class.</span></span> <span data-ttu-id="ee089-256">La mémoire supplémentaire peut être utilisée pour n’importe quelle fonction définie par l’application.</span><span class="sxs-lookup"><span data-stu-id="ee089-256">The extra memory can be used for any application-defined purpose.</span></span> <span data-ttu-id="ee089-257">Le système initialise cette mémoire à zéro.</span><span class="sxs-lookup"><span data-stu-id="ee089-257">The system initializes this memory to zero.</span></span>          |



 

### <a name="class-name"></a><span data-ttu-id="ee089-258">Nom de la classe</span><span class="sxs-lookup"><span data-stu-id="ee089-258">Class Name</span></span>

<span data-ttu-id="ee089-259">Chaque classe de fenêtre a besoin d’un [nom de classe](#class-name) pour faire la distinction entre une classe et une autre.</span><span class="sxs-lookup"><span data-stu-id="ee089-259">Every window class needs a [Class Name](#class-name) to distinguish one class from another.</span></span> <span data-ttu-id="ee089-260">Assignez un nom de classe en définissant le membre **lpszClassName** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) sur l’adresse d’une chaîne terminée par le caractère null qui spécifie le nom.</span><span class="sxs-lookup"><span data-stu-id="ee089-260">Assign a class name by setting the **lpszClassName** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to the address of a null-terminated string that specifies the name.</span></span> <span data-ttu-id="ee089-261">Étant donné que les classes de fenêtre sont spécifiques au processus, les noms des classes de fenêtre doivent être uniques dans le même processus.</span><span class="sxs-lookup"><span data-stu-id="ee089-261">Because window classes are process specific, window class names need to be unique only within the same process.</span></span> <span data-ttu-id="ee089-262">En outre, étant donné que les noms de classes occupent de l’espace dans la table Atom Private du système, vous devez conserver les chaînes de noms de classe aussi courtes que possible.</span><span class="sxs-lookup"><span data-stu-id="ee089-262">Also, because class names occupy space in the system's private atom table, you should keep class name strings as short a possible.</span></span>

<span data-ttu-id="ee089-263">La fonction [**GetClassName**](/windows/win32/api/winuser/nf-winuser-getclassname) récupère le nom de la classe à laquelle appartient une fenêtre donnée.</span><span class="sxs-lookup"><span data-stu-id="ee089-263">The [**GetClassName**](/windows/win32/api/winuser/nf-winuser-getclassname) function retrieves the name of the class to which a given window belongs.</span></span>

### <a name="window-procedure-address"></a><span data-ttu-id="ee089-264">Adresse de la procédure de fenêtre</span><span class="sxs-lookup"><span data-stu-id="ee089-264">Window Procedure Address</span></span>

<span data-ttu-id="ee089-265">Chaque classe a besoin d’une adresse de procédure de fenêtre pour définir le point d’entrée de la procédure de fenêtre utilisée pour traiter tous les messages pour les fenêtres de la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-265">Every class needs a window-procedure address to define the entry point of the window procedure used to process all messages for windows in the class.</span></span> <span data-ttu-id="ee089-266">Le système transmet des messages à la procédure lorsqu’il a besoin de la fenêtre pour effectuer des tâches, telles que la peinture de sa zone cliente ou la réponse aux entrées de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ee089-266">The system passes messages to the procedure when it requires the window to carry out tasks, such as painting its client area or responding to input from the user.</span></span> <span data-ttu-id="ee089-267">Un processus affecte une procédure de fenêtre à une classe en copiant son adresse dans le membre **lpfnWndProc** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-267">A process assigns a window procedure to a class by copying its address to the **lpfnWndProc** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="ee089-268">Pour plus d’informations, consultez [Window Procedures](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="ee089-268">For more information, see [Window Procedures](window-procedures.md).</span></span>

### <a name="instance-handle"></a><span data-ttu-id="ee089-269">Handle d’instance</span><span class="sxs-lookup"><span data-stu-id="ee089-269">Instance Handle</span></span>

<span data-ttu-id="ee089-270">Chaque classe de fenêtre requiert un handle d’instance pour identifier l’application ou le fichier. dll qui a inscrit la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-270">Every window class requires an instance handle to identify the application or .dll that registered the class.</span></span> <span data-ttu-id="ee089-271">Le système requiert des handles d’instance pour effectuer le suivi de tous les modules.</span><span class="sxs-lookup"><span data-stu-id="ee089-271">The system requires instance handles to keep track of all of modules.</span></span> <span data-ttu-id="ee089-272">Le système affecte un handle à chaque copie d’un exécutable ou d’un fichier. dll en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="ee089-272">The system assigns a handle to each copy of a running executable or .dll.</span></span>

<span data-ttu-id="ee089-273">Le système passe un handle d’instance à la fonction de point d’entrée de chaque exécutable (consultez [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain)) et. dll (consultez [**DllMain**](/windows/desktop/Dlls/dllmain)).</span><span class="sxs-lookup"><span data-stu-id="ee089-273">The system passes an instance handle to the entry-point function of each executable (see [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain)) and .dll (see [**DllMain**](/windows/desktop/Dlls/dllmain)).</span></span> <span data-ttu-id="ee089-274">Le fichier exécutable ou. dll assigne ce handle d’instance à la classe en le copiant dans le membre **HINSTANCE** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-274">The executable or .dll assigns this instance handle to the class by copying it to the **hInstance** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span>

### <a name="class-cursor"></a><span data-ttu-id="ee089-275">Curseur de classe</span><span class="sxs-lookup"><span data-stu-id="ee089-275">Class Cursor</span></span>

<span data-ttu-id="ee089-276">Le *curseur de classe* définit la forme du curseur lorsqu’il se trouve dans la zone cliente d’une fenêtre de la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-276">The *class cursor* defines the shape of the cursor when it is in the client area of a window in the class.</span></span> <span data-ttu-id="ee089-277">Le système définit automatiquement le curseur sur la forme donnée lorsque le curseur entre dans la zone cliente de la fenêtre et s’assure qu’il conserve cette forme pendant qu’elle reste dans la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="ee089-277">The system automatically sets the cursor to the given shape when the cursor enters the window's client area and ensures it keeps that shape while it remains in the client area.</span></span> <span data-ttu-id="ee089-278">Pour affecter une forme de curseur à une classe de fenêtre, chargez une forme de curseur prédéfinie à l’aide de la fonction [**LoadCursor**](/windows/desktop/api/winuser/nf-winuser-loadcursora) , puis affectez le handle de curseur retourné au membre **hCursor** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-278">To assign a cursor shape to a window class, load a predefined cursor shape by using the [**LoadCursor**](/windows/desktop/api/winuser/nf-winuser-loadcursora) function and then assign the returned cursor handle to the **hCursor** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="ee089-279">Vous pouvez également fournir une ressource de curseur personnalisée et utiliser la fonction **LoadCursor** pour la charger à partir des ressources de l’application.</span><span class="sxs-lookup"><span data-stu-id="ee089-279">Alternatively, provide a custom cursor resource and use the **LoadCursor** function to load it from the application's resources.</span></span>

<span data-ttu-id="ee089-280">Le système ne requiert pas de curseur de classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-280">The system does not require a class cursor.</span></span> <span data-ttu-id="ee089-281">Si une application définit le membre **hCursor** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) sur **null**, aucun curseur de classe n’est défini.</span><span class="sxs-lookup"><span data-stu-id="ee089-281">If an application sets the **hCursor** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to **NULL**, no class cursor is defined.</span></span> <span data-ttu-id="ee089-282">Le système suppose que la fenêtre définit la forme du curseur chaque fois que le curseur passe dans la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-282">The system assumes the window sets the cursor shape each time the cursor moves into the window.</span></span> <span data-ttu-id="ee089-283">Une fenêtre peut définir la forme de curseur en appelant la fonction [**SetCursor**](/windows/desktop/api/winuser/nf-winuser-setcursor) chaque fois que la fenêtre reçoit le message [**WM \_ MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) .</span><span class="sxs-lookup"><span data-stu-id="ee089-283">A window can set the cursor shape by calling the [**SetCursor**](/windows/desktop/api/winuser/nf-winuser-setcursor) function whenever the window receives the [**WM\_MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) message.</span></span> <span data-ttu-id="ee089-284">Pour plus d’informations sur les curseurs, consultez [curseurs](/windows/desktop/menurc/cursors).</span><span class="sxs-lookup"><span data-stu-id="ee089-284">For more information about cursors, see [Cursors](/windows/desktop/menurc/cursors).</span></span>

### <a name="class-icons"></a><span data-ttu-id="ee089-285">Icônes de classe</span><span class="sxs-lookup"><span data-stu-id="ee089-285">Class Icons</span></span>

<span data-ttu-id="ee089-286">Une *icône de classe* est une image que le système utilise pour représenter une fenêtre d’une classe particulière.</span><span class="sxs-lookup"><span data-stu-id="ee089-286">A *class icon* is a picture that the system uses to represent a window of a particular class.</span></span> <span data-ttu-id="ee089-287">Une application peut avoir deux icônes de classe : une grande et une petite.</span><span class="sxs-lookup"><span data-stu-id="ee089-287">An application can have two class icons—one large and one small.</span></span> <span data-ttu-id="ee089-288">Le système affiche l’icône de *grande classe* d’une fenêtre dans la fenêtre de commutateur de tâches qui s’affiche lorsque l’utilisateur appuie sur Alt + Tab et dans les grandes icônes de la barre des tâches et de l’Explorateur.</span><span class="sxs-lookup"><span data-stu-id="ee089-288">The system displays a window's *large class icon* in the task-switch window that appears when the user presses ALT+TAB, and in the large icon views of the task bar and explorer.</span></span> <span data-ttu-id="ee089-289">L' *icône petite classe* apparaît dans la barre de titre d’une fenêtre et dans les petites icônes de la barre des tâches et de l’Explorateur.</span><span class="sxs-lookup"><span data-stu-id="ee089-289">The *small class icon* appears in a window's title bar and in the small icon views of the task bar and explorer.</span></span>

<span data-ttu-id="ee089-290">Pour assigner une grande et une petite icône à une classe de fenêtre, spécifiez les descripteurs des icônes dans les membres **HICON** et **hIconSm** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-290">To assign a large and small icon to a window class, specify the handles of the icons in the **hIcon** and **hIconSm** members of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="ee089-291">Les dimensions de l’icône doivent être conformes aux dimensions requises pour les grandes et les petites icônes de classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-291">The icon dimensions must conform to required dimensions for large and small class icons.</span></span> <span data-ttu-id="ee089-292">Pour une grande icône de classe, vous pouvez déterminer les dimensions requises en spécifiant les valeurs **SM \_ CXICON** et **SM \_ CYICON** dans un appel à la fonction [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) .</span><span class="sxs-lookup"><span data-stu-id="ee089-292">For a large class icon, you can determine the required dimensions by specifying the **SM\_CXICON** and **SM\_CYICON** values in a call to the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function.</span></span> <span data-ttu-id="ee089-293">Pour une petite icône de classe, spécifiez les valeurs **SM \_ CXSMICON** et **SM \_ CYSMICON** .</span><span class="sxs-lookup"><span data-stu-id="ee089-293">For a small class icon, specify the **SM\_CXSMICON** and **SM\_CYSMICON** values.</span></span> <span data-ttu-id="ee089-294">Pour plus d’informations, consultez [icônes](/windows/desktop/menurc/icons).</span><span class="sxs-lookup"><span data-stu-id="ee089-294">For information, see [Icons](/windows/desktop/menurc/icons).</span></span>

<span data-ttu-id="ee089-295">Si une application définit les membres **HICON** et **hIconSm** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) sur la **valeur null**, le système utilise l’icône d’application par défaut comme grandes et petites icônes de classe pour la classe de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-295">If an application sets the **hIcon** and **hIconSm** members of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to **NULL**, the system uses the default application icon as the large and small class icons for the window class.</span></span> <span data-ttu-id="ee089-296">Si vous spécifiez une grande icône de classe, mais pas une petite, le système crée une petite icône de classe basée sur la grande.</span><span class="sxs-lookup"><span data-stu-id="ee089-296">If you specify a large class icon but not a small one, the system creates a small class icon based on the large one.</span></span> <span data-ttu-id="ee089-297">Toutefois, si vous spécifiez une petite icône de classe mais pas une grande, le système utilise l’icône d’application par défaut comme icône de classe importante et l’icône spécifiée comme petite icône de classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-297">However, if you specify a small class icon but not a large one, the system uses the default application icon as the large class icon and the specified icon as the small class icon.</span></span>

<span data-ttu-id="ee089-298">Vous pouvez remplacer l’icône de classe grande ou petite pour une fenêtre particulière à l’aide du message [**WM \_ SETICON**](wm-seticon.md) .</span><span class="sxs-lookup"><span data-stu-id="ee089-298">You can override the large or small class icon for a particular window by using the [**WM\_SETICON**](wm-seticon.md) message.</span></span> <span data-ttu-id="ee089-299">Vous pouvez récupérer l’icône actuelle de petite ou petite classe en utilisant le message [**WM \_ GETICON**](wm-geticon.md) .</span><span class="sxs-lookup"><span data-stu-id="ee089-299">You can retrieve the current large or small class icon by using the [**WM\_GETICON**](wm-geticon.md) message.</span></span>

### <a name="class-background-brush"></a><span data-ttu-id="ee089-300">Pinceau d’arrière-plan de classe</span><span class="sxs-lookup"><span data-stu-id="ee089-300">Class Background Brush</span></span>

<span data-ttu-id="ee089-301">Un *pinceau d’arrière-plan de classe* prépare la zone cliente d’une fenêtre pour un dessin ultérieur par l’application.</span><span class="sxs-lookup"><span data-stu-id="ee089-301">A *class background brush* prepares the client area of a window for subsequent drawing by the application.</span></span> <span data-ttu-id="ee089-302">Le système utilise le pinceau pour remplir la zone cliente avec une couleur unie ou un motif, supprimant ainsi toutes les images précédentes de cet emplacement, qu’elles appartiennent ou non à la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-302">The system uses the brush to fill the client area with a solid color or pattern, thereby removing all previous images from that location whether they belong to the window or not.</span></span> <span data-ttu-id="ee089-303">Le système avertit une fenêtre que son arrière-plan doit être peint en envoyant le message [**WM \_ ERASEBKGND**](wm-erasebkgnd.md) à la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-303">The system notifies a window that its background should be painted by sending the [**WM\_ERASEBKGND**](wm-erasebkgnd.md) message to the window.</span></span> <span data-ttu-id="ee089-304">Pour plus d’informations, consultez [pinceaux](/windows/desktop/gdi/brushes).</span><span class="sxs-lookup"><span data-stu-id="ee089-304">For more information, see [Brushes](/windows/desktop/gdi/brushes).</span></span>

<span data-ttu-id="ee089-305">Pour assigner un pinceau d’arrière-plan à une classe, créez un pinceau à l’aide des fonctions GDI appropriées et assignez le handle de pinceau retourné au membre **hbrBackground** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-305">To assign a background brush to a class, create a brush by using the appropriate GDI functions and assign the returned brush handle to the **hbrBackground** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span>

<span data-ttu-id="ee089-306">Au lieu de créer un pinceau, une application peut définir le membre **hbrBackground** sur l’une des valeurs de couleur système standard.</span><span class="sxs-lookup"><span data-stu-id="ee089-306">Instead of creating a brush, an application can set the **hbrBackground** member to one of the standard system color values.</span></span> <span data-ttu-id="ee089-307">Pour obtenir la liste des valeurs de couleurs système standard, consultez [**SetSysColors**](/windows/desktop/api/winuser/nf-winuser-setsyscolors).</span><span class="sxs-lookup"><span data-stu-id="ee089-307">For a list of the standard system color values, see [**SetSysColors**](/windows/desktop/api/winuser/nf-winuser-setsyscolors).</span></span>

<span data-ttu-id="ee089-308">Pour utiliser une couleur système standard, l’application doit augmenter de 1 la valeur de la couleur d’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="ee089-308">To use a standard system color, the application must increase the background-color value by one.</span></span> <span data-ttu-id="ee089-309">Par exemple, **l' \_ arrière-plan de couleur** + 1 est la couleur d’arrière-plan du système.</span><span class="sxs-lookup"><span data-stu-id="ee089-309">For example, **COLOR\_BACKGROUND** + 1 is the system background color.</span></span> <span data-ttu-id="ee089-310">Vous pouvez également utiliser la fonction [**GetSysColorBrush**](/windows/desktop/api/winuser/nf-winuser-getsyscolorbrush) pour récupérer un handle vers un pinceau qui correspond à une couleur système standard, puis spécifier le handle dans le membre **hbrBackground** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-310">Alternatively, you can use the [**GetSysColorBrush**](/windows/desktop/api/winuser/nf-winuser-getsyscolorbrush) function to retrieve a handle to a brush that corresponds to a standard system color, and then specify the handle in the **hbrBackground** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span>

<span data-ttu-id="ee089-311">Le système ne requiert pas qu’une classe de fenêtre ait un pinceau d’arrière-plan de classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-311">The system does not require that a window class have a class background brush.</span></span> <span data-ttu-id="ee089-312">Si ce paramètre a la valeur **null**, la fenêtre doit peindre son propre arrière-plan chaque fois qu’elle reçoit le message [**WM \_ ERASEBKGND**](wm-erasebkgnd.md) .</span><span class="sxs-lookup"><span data-stu-id="ee089-312">If this parameter is set to **NULL**, the window must paint its own background whenever it receives the [**WM\_ERASEBKGND**](wm-erasebkgnd.md) message.</span></span>

### <a name="class-menu"></a><span data-ttu-id="ee089-313">Menu classe</span><span class="sxs-lookup"><span data-stu-id="ee089-313">Class Menu</span></span>

<span data-ttu-id="ee089-314">Un *menu de classe* définit le menu par défaut qui sera utilisé par les fenêtres dans la classe si aucun menu explicite n’est fourni lors de la création des fenêtres.</span><span class="sxs-lookup"><span data-stu-id="ee089-314">A *class menu* defines the default menu to be used by the windows in the class if no explicit menu is given when the windows are created.</span></span> <span data-ttu-id="ee089-315">Un menu est une liste de commandes à partir desquelles un utilisateur peut choisir des actions à effectuer par l’application.</span><span class="sxs-lookup"><span data-stu-id="ee089-315">A menu is a list of commands from which a user can choose actions for the application to carry out.</span></span>

<span data-ttu-id="ee089-316">Vous pouvez assigner un menu à une classe en définissant le membre **lpszMenuName** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) sur l’adresse d’une chaîne terminée par le caractère null qui spécifie le nom de ressource du menu.</span><span class="sxs-lookup"><span data-stu-id="ee089-316">You can assign a menu to a class by setting the **lpszMenuName** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to the address of a null-terminated string that specifies the resource name of the menu.</span></span> <span data-ttu-id="ee089-317">Le menu est supposé être une ressource dans l’application donnée.</span><span class="sxs-lookup"><span data-stu-id="ee089-317">The menu is assumed to be a resource in the given application.</span></span> <span data-ttu-id="ee089-318">Le système charge automatiquement le menu quand cela est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="ee089-318">The system automatically loads the menu when it is needed.</span></span> <span data-ttu-id="ee089-319">Si la ressource de menu est identifiée par un entier et non par un nom, l’application peut définir le membre **lpszMenuName** sur cet entier en appliquant la macro [**MAKEINTRESOURCE**](/windows/desktop/api/winuser/nf-winuser-makeintresourcea) avant d’assigner la valeur.</span><span class="sxs-lookup"><span data-stu-id="ee089-319">If the menu resource is identified by an integer and not by a name, the application can set the **lpszMenuName** member to that integer by applying the [**MAKEINTRESOURCE**](/windows/desktop/api/winuser/nf-winuser-makeintresourcea) macro before assigning the value.</span></span>

<span data-ttu-id="ee089-320">Le système n’a pas besoin d’un menu de classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-320">The system does not require a class menu.</span></span> <span data-ttu-id="ee089-321">Si une application définit le membre **lpszMenuName** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) sur **null**, les fenêtres de la classe n’ont pas de barres de menus.</span><span class="sxs-lookup"><span data-stu-id="ee089-321">If an application sets the **lpszMenuName** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to **NULL**, windows in the class have no menu bars.</span></span> <span data-ttu-id="ee089-322">Même si aucun menu de classe n’est fourni, une application peut toujours définir une barre de menus pour une fenêtre lorsqu’elle crée la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-322">Even if no class menu is given, an application can still define a menu bar for a window when it creates the window.</span></span>

<span data-ttu-id="ee089-323">Si un menu est fourni pour une classe et qu’une fenêtre enfant de cette classe est créée, le menu est ignoré.</span><span class="sxs-lookup"><span data-stu-id="ee089-323">If a menu is given for a class and a child window of that class is created, the menu is ignored.</span></span> <span data-ttu-id="ee089-324">Pour plus d’informations, consultez [menus](/windows/desktop/menurc/menus).</span><span class="sxs-lookup"><span data-stu-id="ee089-324">For more information, see [Menus](/windows/desktop/menurc/menus).</span></span>

### <a name="class-styles"></a><span data-ttu-id="ee089-325">Styles de la classe</span><span class="sxs-lookup"><span data-stu-id="ee089-325">Class Styles</span></span>

<span data-ttu-id="ee089-326">Les styles de classe définissent des éléments supplémentaires de la classe de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-326">The class styles define additional elements of the window class.</span></span> <span data-ttu-id="ee089-327">Plusieurs styles peuvent être combinés à l’aide de l’opérateur or au niveau du bit ( \| ).</span><span class="sxs-lookup"><span data-stu-id="ee089-327">Two or more styles can be combined by using the bitwise OR (\|) operator.</span></span> <span data-ttu-id="ee089-328">Pour assigner un style à une classe de fenêtre, assignez le style au membre de **style** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="ee089-328">To assign a style to a window class, assign the style to the **style** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="ee089-329">Pour obtenir la liste des styles de classe, consultez [**styles de classe de fenêtre**](window-class-styles.md).</span><span class="sxs-lookup"><span data-stu-id="ee089-329">For a list of class styles, see [**Window Class Styles**](window-class-styles.md).</span></span>

### <a name="classes-and-device-contexts"></a><span data-ttu-id="ee089-330">Classes et contextes de périphérique</span><span class="sxs-lookup"><span data-stu-id="ee089-330">Classes and Device Contexts</span></span>

<span data-ttu-id="ee089-331">Un *contexte de périphérique* est un ensemble spécial de valeurs que les applications utilisent pour dessiner dans la zone cliente de leurs fenêtres.</span><span class="sxs-lookup"><span data-stu-id="ee089-331">A *device context* is a special set of values that applications use for drawing in the client area of their windows.</span></span> <span data-ttu-id="ee089-332">Le système requiert un contexte de périphérique pour chaque fenêtre de l’affichage, mais offre une certaine souplesse dans la manière dont le système stocke et traite ce contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="ee089-332">The system requires a device context for each window on the display but allows some flexibility in how the system stores and treats that device context.</span></span>

<span data-ttu-id="ee089-333">Si aucun style de contexte de périphérique n’est explicitement donné, le système suppose que chaque fenêtre utilise un contexte de périphérique (Device Context) récupéré à partir d’un pool de contextes gérés par le système.</span><span class="sxs-lookup"><span data-stu-id="ee089-333">If no device-context style is explicitly given, the system assumes each window uses a device context retrieved from a pool of contexts maintained by the system.</span></span> <span data-ttu-id="ee089-334">Dans ce cas, chaque fenêtre doit récupérer et initialiser le contexte de périphérique avant de le peindre et de le libérer après la peinture.</span><span class="sxs-lookup"><span data-stu-id="ee089-334">In such cases, each window must retrieve and initialize the device context before painting and free it after painting.</span></span>

<span data-ttu-id="ee089-335">Pour éviter de récupérer un contexte de périphérique chaque fois qu’il doit peindre dans une fenêtre, une application peut spécifier le style **cs \_ OWNDC** pour la classe de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-335">To avoid retrieving a device context each time it needs to paint inside a window, an application can specify the **CS\_OWNDC** style for the window class.</span></span> <span data-ttu-id="ee089-336">Ce style de classe indique au système de créer un contexte de périphérique privé, c’est-à-dire d’allouer un contexte de périphérique unique pour chaque fenêtre de la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-336">This class style directs the system to create a private device context—that is, to allocate a unique device context for each window in the class.</span></span> <span data-ttu-id="ee089-337">L’application n’a besoin de récupérer le contexte qu’une seule fois, puis de l’utiliser pour la peinture suivante.</span><span class="sxs-lookup"><span data-stu-id="ee089-337">The application need only retrieve the context once and then use it for all subsequent painting.</span></span>

### <a name="extra-class-memory"></a><span data-ttu-id="ee089-338">Mémoire de classe supplémentaire</span><span class="sxs-lookup"><span data-stu-id="ee089-338">Extra Class Memory</span></span>

<span data-ttu-id="ee089-339">Le système gère une structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) en interne pour chaque classe de fenêtre dans le système.</span><span class="sxs-lookup"><span data-stu-id="ee089-339">The system maintains a [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure internally for each window class in the system.</span></span> <span data-ttu-id="ee089-340">Lorsqu’une application inscrit une classe de fenêtre, elle peut demander au système d’allouer et d’ajouter un certain nombre d’octets de mémoire supplémentaires à la fin de la structure **WNDCLASSEX** .</span><span class="sxs-lookup"><span data-stu-id="ee089-340">When an application registers a window class, it can direct the system to allocate and append a number of additional bytes of memory to the end of the **WNDCLASSEX** structure.</span></span> <span data-ttu-id="ee089-341">Cette mémoire est appelée *mémoire de classe supplémentaire* et est partagée par toutes les fenêtres appartenant à la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-341">This memory is called *extra class memory* and is shared by all windows belonging to the class.</span></span> <span data-ttu-id="ee089-342">Utilisez la mémoire de classe supplémentaire pour stocker toutes les informations relatives à la classe.</span><span class="sxs-lookup"><span data-stu-id="ee089-342">Use the extra class memory to store any information pertaining to the class.</span></span>

<span data-ttu-id="ee089-343">Étant donné que la mémoire supplémentaire est allouée à partir du tas local du système, une application doit utiliser la mémoire de classe supplémentaire avec modération.</span><span class="sxs-lookup"><span data-stu-id="ee089-343">Because extra memory is allocated from the system's local heap, an application should use extra class memory sparingly.</span></span> <span data-ttu-id="ee089-344">La fonction [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) échoue si la quantité de mémoire de classe supplémentaire demandée est supérieure à 40 octets.</span><span class="sxs-lookup"><span data-stu-id="ee089-344">The [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function fails if the amount of extra class memory requested is greater than 40 bytes.</span></span> <span data-ttu-id="ee089-345">Si une application requiert plus de 40 octets, elle doit allouer sa propre mémoire et stocker un pointeur vers la mémoire dans la mémoire de classe supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="ee089-345">If an application requires more than 40 bytes, it should allocate its own memory and store a pointer to the memory in the extra class memory.</span></span>

<span data-ttu-id="ee089-346">Les fonctions [**SetClassWord**](/windows/win32/api/winuser/nf-winuser-setclassword) et [**SetClassLong**](/windows/win32/api/winuser/nf-winuser-setclasslonga) copient une valeur dans la mémoire de classe supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="ee089-346">The [**SetClassWord**](/windows/win32/api/winuser/nf-winuser-setclassword) and [**SetClassLong**](/windows/win32/api/winuser/nf-winuser-setclasslonga) functions copy a value to the extra class memory.</span></span> <span data-ttu-id="ee089-347">Pour récupérer une valeur de la mémoire de classe supplémentaire, utilisez les fonctions [**GetClassWord**](/windows/win32/api/winuser/nf-winuser-getclassword) et [**GetClassLong**](/windows/win32/api/winuser/nf-winuser-getclasslonga) .</span><span class="sxs-lookup"><span data-stu-id="ee089-347">To retrieve a value from the extra class memory, use the [**GetClassWord**](/windows/win32/api/winuser/nf-winuser-getclassword) and [**GetClassLong**](/windows/win32/api/winuser/nf-winuser-getclasslonga) functions.</span></span> <span data-ttu-id="ee089-348">Le membre **cbClsExtra** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) spécifie la quantité de mémoire de classe supplémentaire à allouer.</span><span class="sxs-lookup"><span data-stu-id="ee089-348">The **cbClsExtra** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure specifies the amount of extra class memory to allocate.</span></span> <span data-ttu-id="ee089-349">Une application qui n’utilise pas de mémoire de classe supplémentaire doit initialiser le membre **cbClsExtra** à zéro.</span><span class="sxs-lookup"><span data-stu-id="ee089-349">An application that does not use extra class memory must initialize the **cbClsExtra** member to zero.</span></span>

### <a name="extra-window-memory"></a><span data-ttu-id="ee089-350">Mémoire de fenêtre supplémentaire</span><span class="sxs-lookup"><span data-stu-id="ee089-350">Extra Window Memory</span></span>

<span data-ttu-id="ee089-351">Le système gère une structure de données interne pour chaque fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-351">The system maintains an internal data structure for each window.</span></span> <span data-ttu-id="ee089-352">Lors de l’inscription d’une classe de fenêtre, une application peut spécifier un nombre d’octets de mémoire supplémentaires, appelé *mémoire de fenêtre supplémentaire*.</span><span class="sxs-lookup"><span data-stu-id="ee089-352">When registering a window class, an application can specify a number of additional bytes of memory, called *extra window memory*.</span></span> <span data-ttu-id="ee089-353">Lors de la création d’une fenêtre de la classe, le système alloue et ajoute la quantité de mémoire de fenêtre supplémentaire spécifiée à la fin de la structure de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-353">When creating a window of the class, the system allocates and appends the specified amount of extra window memory to the end of the window's structure.</span></span> <span data-ttu-id="ee089-354">Une application peut utiliser cette mémoire pour stocker des données spécifiques à la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="ee089-354">An application can use this memory to store window-specific data.</span></span>

<span data-ttu-id="ee089-355">Étant donné que la mémoire supplémentaire est allouée à partir du tas local du système, une application doit utiliser la mémoire de fenêtre supplémentaire avec modération.</span><span class="sxs-lookup"><span data-stu-id="ee089-355">Because extra memory is allocated from the system's local heap, an application should use extra window memory sparingly.</span></span> <span data-ttu-id="ee089-356">La fonction [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) échoue si la quantité de mémoire de fenêtre supplémentaire demandée est supérieure à 40 octets.</span><span class="sxs-lookup"><span data-stu-id="ee089-356">The [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function fails if the amount of extra window memory requested is greater than 40 bytes.</span></span> <span data-ttu-id="ee089-357">Si une application requiert plus de 40 octets, elle doit allouer sa propre mémoire et stocker un pointeur vers la mémoire dans la mémoire de fenêtre supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="ee089-357">If an application requires more than 40 bytes, it should allocate its own memory and store a pointer to the memory in the extra window memory.</span></span>

<span data-ttu-id="ee089-358">La fonction [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) copie une valeur dans la mémoire supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="ee089-358">The [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) function copies a value to the extra memory.</span></span> <span data-ttu-id="ee089-359">La fonction [**GetWindowLong**](/windows/win32/api/winuser/nf-winuser-getwindowlonga) récupère une valeur à partir de la mémoire supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="ee089-359">The [**GetWindowLong**](/windows/win32/api/winuser/nf-winuser-getwindowlonga) function retrieves a value from the extra memory.</span></span> <span data-ttu-id="ee089-360">Le membre **cbWndExtra** de la structure [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) spécifie la quantité de mémoire de fenêtre supplémentaire à allouer.</span><span class="sxs-lookup"><span data-stu-id="ee089-360">The **cbWndExtra** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure specifies the amount of extra window memory to allocate.</span></span> <span data-ttu-id="ee089-361">Une application qui n’utilise pas la mémoire doit initialiser **cbWndExtra** à zéro.</span><span class="sxs-lookup"><span data-stu-id="ee089-361">An application that does not use the memory must initialize **cbWndExtra** to zero.</span></span>

 

 
