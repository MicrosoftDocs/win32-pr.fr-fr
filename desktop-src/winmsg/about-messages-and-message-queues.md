---
description: Cette section décrit les messages Windows et les files d’attente de messages.
ms.assetid: 21a4d40b-52da-49e4-a374-afc4927e96e8
title: À propos des messages et des files d’attente de messages
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7f0bcf68dbacaae868de3aea1fdc4a5d11290821
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "106532162"
---
# <a name="about-messages-and-message-queues"></a><span data-ttu-id="0d68e-103">À propos des messages et des files d’attente de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-103">About Messages and Message Queues</span></span>

<span data-ttu-id="0d68e-104">Contrairement aux applications basées sur MS DOS, les applications Windows sont pilotées par les événements.</span><span class="sxs-lookup"><span data-stu-id="0d68e-104">Unlike MS-DOS-based applications, Windows-based applications are event-driven.</span></span> <span data-ttu-id="0d68e-105">Ils n’effectuent pas d’appels de fonction explicites (tels que les appels de la bibliothèque Runtime C) pour obtenir une entrée.</span><span class="sxs-lookup"><span data-stu-id="0d68e-105">They do not make explicit function calls (such as C run-time library calls) to obtain input.</span></span> <span data-ttu-id="0d68e-106">Au lieu de cela, ils attendent que le système leur transmette leur entrée.</span><span class="sxs-lookup"><span data-stu-id="0d68e-106">Instead, they wait for the system to pass input to them.</span></span>

<span data-ttu-id="0d68e-107">Le système transmet toutes les entrées d’une application aux différentes fenêtres de l’application.</span><span class="sxs-lookup"><span data-stu-id="0d68e-107">The system passes all input for an application to the various windows in the application.</span></span> <span data-ttu-id="0d68e-108">Chaque fenêtre possède une fonction, appelée procédure de fenêtre, que le système appelle chaque fois qu’elle a une entrée pour la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-108">Each window has a function, called a window procedure, that the system calls whenever it has input for the window.</span></span> <span data-ttu-id="0d68e-109">La procédure de fenêtre traite l’entrée et retourne le contrôle au système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-109">The window procedure processes the input and returns control to the system.</span></span> <span data-ttu-id="0d68e-110">Pour plus d’informations sur les procédures de fenêtre, consultez [procédures de fenêtre](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="0d68e-110">For more information about window procedures, see [Window Procedures](window-procedures.md).</span></span>

<span data-ttu-id="0d68e-111">Si une fenêtre de niveau supérieur cesse de répondre aux messages pendant plus de plusieurs secondes, le système considère que la fenêtre ne répond pas.</span><span class="sxs-lookup"><span data-stu-id="0d68e-111">If a top-level window stops responding to messages for more than several seconds, the system considers the window to be not responding.</span></span> <span data-ttu-id="0d68e-112">Dans ce cas, le système masque la fenêtre et la remplace par une fenêtre fantôme qui a les mêmes attributs de l’ordre de plan, de l’emplacement, de la taille et de l’affichage.</span><span class="sxs-lookup"><span data-stu-id="0d68e-112">In this case, the system hides the window and replaces it with a ghost window that has the same Z order, location, size, and visual attributes.</span></span> <span data-ttu-id="0d68e-113">Cela permet à l’utilisateur de le déplacer, de le redimensionner ou même de fermer l’application.</span><span class="sxs-lookup"><span data-stu-id="0d68e-113">This allows the user to move it, resize it, or even close the application.</span></span> <span data-ttu-id="0d68e-114">Toutefois, il s’agit des seules actions disponibles parce que l’application ne répond pas réellement.</span><span class="sxs-lookup"><span data-stu-id="0d68e-114">However, these are the only actions available because the application is actually not responding.</span></span> <span data-ttu-id="0d68e-115">En mode débogueur, le système ne génère pas de fenêtre fantôme.</span><span class="sxs-lookup"><span data-stu-id="0d68e-115">When in the debugger mode, the system does not generate a ghost window.</span></span>

<span data-ttu-id="0d68e-116">Cette section aborde les sujets suivants :</span><span class="sxs-lookup"><span data-stu-id="0d68e-116">This section discusses the following topics:</span></span>

-   [<span data-ttu-id="0d68e-117">Messages Windows</span><span class="sxs-lookup"><span data-stu-id="0d68e-117">Windows Messages</span></span>](#windows-messages)
-   [<span data-ttu-id="0d68e-118">Types de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-118">Message Types</span></span>](#message-types)
    -   [<span data-ttu-id="0d68e-119">Messages définis par le système</span><span class="sxs-lookup"><span data-stu-id="0d68e-119">System-Defined Messages</span></span>](#system-defined-messages)
    -   [<span data-ttu-id="0d68e-120">Messages définis par l’application</span><span class="sxs-lookup"><span data-stu-id="0d68e-120">Application-Defined Messages</span></span>](#application-defined-messages)
-   [<span data-ttu-id="0d68e-121">Routage des messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-121">Message Routing</span></span>](#message-routing)
    -   [<span data-ttu-id="0d68e-122">Messages mis en file d’attente</span><span class="sxs-lookup"><span data-stu-id="0d68e-122">Queued Messages</span></span>](#queued-messages)
    -   [<span data-ttu-id="0d68e-123">Messages qui ne sont pas mis en file d’attente</span><span class="sxs-lookup"><span data-stu-id="0d68e-123">Nonqueued Messages</span></span>](#nonqueued-messages)
-   [<span data-ttu-id="0d68e-124">Gestion des messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-124">Message Handling</span></span>](#message-handling)
    -   [<span data-ttu-id="0d68e-125">Boucle de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-125">Message Loop</span></span>](#message-loop)
    -   [<span data-ttu-id="0d68e-126">Procédure de fenêtre</span><span class="sxs-lookup"><span data-stu-id="0d68e-126">Window Procedure</span></span>](#window-procedure)
-   [<span data-ttu-id="0d68e-127">Filtrage des messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-127">Message Filtering</span></span>](#message-filtering)
-   [<span data-ttu-id="0d68e-128">Publication et envoi de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-128">Posting and Sending Messages</span></span>](#posting-and-sending-messages)
    -   [<span data-ttu-id="0d68e-129">Publication des messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-129">Posting Messages</span></span>](#posting-messages)
    -   [<span data-ttu-id="0d68e-130">Envoi de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-130">Sending Messages</span></span>](#sending-messages)
-   [<span data-ttu-id="0d68e-131">Blocages de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-131">Message Deadlocks</span></span>](#message-deadlocks)
-   [<span data-ttu-id="0d68e-132">Diffusion de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-132">Broadcasting Messages</span></span>](#broadcasting-messages)
-   [<span data-ttu-id="0d68e-133">Messages de requête</span><span class="sxs-lookup"><span data-stu-id="0d68e-133">Query Messages</span></span>](#query-messages)

## <a name="windows-messages"></a><span data-ttu-id="0d68e-134">Messages Windows</span><span class="sxs-lookup"><span data-stu-id="0d68e-134">Windows Messages</span></span>

<span data-ttu-id="0d68e-135">Le système passe l’entrée à une procédure de fenêtre sous la forme d’un *message*.</span><span class="sxs-lookup"><span data-stu-id="0d68e-135">The system passes input to a window procedure in the form of a *message*.</span></span> <span data-ttu-id="0d68e-136">Les messages sont générés par le système et les applications.</span><span class="sxs-lookup"><span data-stu-id="0d68e-136">Messages are generated by both the system and applications.</span></span> <span data-ttu-id="0d68e-137">Le système génère un message à chaque événement d’entrée, par exemple, lorsque l’utilisateur tape, déplace la souris ou clique sur un contrôle tel qu’une barre de défilement.</span><span class="sxs-lookup"><span data-stu-id="0d68e-137">The system generates a message at each input event—for example, when the user types, moves the mouse, or clicks a control such as a scroll bar.</span></span> <span data-ttu-id="0d68e-138">Le système génère également des messages en réponse aux modifications apportées au système par une application, par exemple lorsqu’une application modifie le pool de ressources de police système ou redimensionne l’une de ses fenêtres.</span><span class="sxs-lookup"><span data-stu-id="0d68e-138">The system also generates messages in response to changes in the system brought about by an application, such as when an application changes the pool of system font resources or resizes one of its windows.</span></span> <span data-ttu-id="0d68e-139">Une application peut générer des messages pour diriger ses propres fenêtres afin d’effectuer des tâches ou de communiquer avec Windows dans d’autres applications.</span><span class="sxs-lookup"><span data-stu-id="0d68e-139">An application can generate messages to direct its own windows to perform tasks or to communicate with windows in other applications.</span></span>

<span data-ttu-id="0d68e-140">Le système envoie un message à une procédure de fenêtre avec un ensemble de quatre paramètres : un handle de fenêtre, un identificateur de message et deux valeurs appelées *paramètres de message*.</span><span class="sxs-lookup"><span data-stu-id="0d68e-140">The system sends a message to a window procedure with a set of four parameters: a window handle, a message identifier, and two values called *message parameters*.</span></span> <span data-ttu-id="0d68e-141">Le *handle de fenêtre* identifie la fenêtre pour laquelle le message est destiné.</span><span class="sxs-lookup"><span data-stu-id="0d68e-141">The *window handle* identifies the window for which the message is intended.</span></span> <span data-ttu-id="0d68e-142">Le système l’utilise pour déterminer la procédure de fenêtre qui doit recevoir le message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-142">The system uses it to determine which window procedure should receive the message.</span></span>

<span data-ttu-id="0d68e-143">Un *identificateur de message* est une constante nommée qui identifie l’objectif d’un message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-143">A *message identifier* is a named constant that identifies the purpose of a message.</span></span> <span data-ttu-id="0d68e-144">Lorsqu’une procédure de fenêtre reçoit un message, elle utilise un identificateur de message pour déterminer comment traiter le message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-144">When a window procedure receives a message, it uses a message identifier to determine how to process the message.</span></span> <span data-ttu-id="0d68e-145">Par exemple, l’identificateur de message [**WM \_ Paint**](/windows/desktop/gdi/wm-paint) indique à la procédure de fenêtre que la zone cliente de la fenêtre a changé et doit être repeinte.</span><span class="sxs-lookup"><span data-stu-id="0d68e-145">For example, the message identifier [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) tells the window procedure that the window's client area has changed and must be repainted.</span></span>

<span data-ttu-id="0d68e-146">Les paramètres de message spécifient les données ou l’emplacement des données utilisées par une procédure de fenêtre lors du traitement d’un message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-146">Message parameters specify data or the location of data used by a window procedure when processing a message.</span></span> <span data-ttu-id="0d68e-147">La signification et la valeur des paramètres de message dépendent du message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-147">The meaning and value of the message parameters depend on the message.</span></span> <span data-ttu-id="0d68e-148">Un paramètre de message peut contenir un entier, des indicateurs binaires compressés, un pointeur vers une structure contenant des données supplémentaires, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="0d68e-148">A message parameter can contain an integer, packed bit flags, a pointer to a structure containing additional data, and so on.</span></span> <span data-ttu-id="0d68e-149">Lorsqu’un message n’utilise pas de paramètres de message, il est généralement défini sur la **valeur null**.</span><span class="sxs-lookup"><span data-stu-id="0d68e-149">When a message does not use message parameters, they are typically set to **NULL**.</span></span> <span data-ttu-id="0d68e-150">Une procédure de fenêtre doit vérifier l’identificateur de message pour déterminer comment interpréter les paramètres de message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-150">A window procedure must check the message identifier to determine how to interpret the message parameters.</span></span>

## <a name="message-types"></a><span data-ttu-id="0d68e-151">Types de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-151">Message Types</span></span>

<span data-ttu-id="0d68e-152">Cette section décrit les deux types de messages :</span><span class="sxs-lookup"><span data-stu-id="0d68e-152">This section describes the two types of messages:</span></span>

-   [<span data-ttu-id="0d68e-153">Messages définis par le système</span><span class="sxs-lookup"><span data-stu-id="0d68e-153">System-Defined Messages</span></span>](#system-defined-messages)
-   [<span data-ttu-id="0d68e-154">Messages définis par l’application</span><span class="sxs-lookup"><span data-stu-id="0d68e-154">Application-Defined Messages</span></span>](#application-defined-messages)

### <a name="system-defined-messages"></a><span data-ttu-id="0d68e-155">Messages System-Defined</span><span class="sxs-lookup"><span data-stu-id="0d68e-155">System-Defined Messages</span></span>

<span data-ttu-id="0d68e-156">Le système envoie ou publie un *message défini par le système* lorsqu’il communique avec une application.</span><span class="sxs-lookup"><span data-stu-id="0d68e-156">The system sends or posts a *system-defined message* when it communicates with an application.</span></span> <span data-ttu-id="0d68e-157">Il utilise ces messages pour contrôler les opérations des applications et fournir des informations d’entrée et d’autres informations à traiter par les applications.</span><span class="sxs-lookup"><span data-stu-id="0d68e-157">It uses these messages to control the operations of applications and to provide input and other information for applications to process.</span></span> <span data-ttu-id="0d68e-158">Une application peut également envoyer ou poster des messages définis par le système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-158">An application can also send or post system-defined messages.</span></span> <span data-ttu-id="0d68e-159">Les applications utilisent généralement ces messages pour contrôler le fonctionnement des fenêtres de contrôle créées à l’aide des classes de fenêtre préinscrites.</span><span class="sxs-lookup"><span data-stu-id="0d68e-159">Applications generally use these messages to control the operation of control windows created by using preregistered window classes.</span></span>

<span data-ttu-id="0d68e-160">Chaque message défini par le système possède un identificateur de message unique et une constante symbolique correspondante (définie dans les fichiers d’en-tête du kit de développement logiciel (SDK)) qui indique l’objectif du message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-160">Each system-defined message has a unique message identifier and a corresponding symbolic constant (defined in the software development kit (SDK) header files) that states the purpose of the message.</span></span> <span data-ttu-id="0d68e-161">Par exemple, la constante [**WM \_ Paint**](/windows/desktop/gdi/wm-paint) demande qu’une fenêtre peint son contenu.</span><span class="sxs-lookup"><span data-stu-id="0d68e-161">For example, the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) constant requests that a window paint its contents.</span></span>

<span data-ttu-id="0d68e-162">Les constantes symboliques spécifient la catégorie à laquelle les messages définis par le système appartiennent.</span><span class="sxs-lookup"><span data-stu-id="0d68e-162">Symbolic constants specify the category to which system-defined messages belong.</span></span> <span data-ttu-id="0d68e-163">Le préfixe de la constante identifie le type de fenêtre qui peut interpréter et traiter le message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-163">The prefix of the constant identifies the type of window that can interpret and process the message.</span></span> <span data-ttu-id="0d68e-164">Voici les préfixes et les catégories de messages qui leur sont associées.</span><span class="sxs-lookup"><span data-stu-id="0d68e-164">Following are the prefixes and their related message categories.</span></span>



| <span data-ttu-id="0d68e-165">Préfixe</span><span class="sxs-lookup"><span data-stu-id="0d68e-165">Prefix</span></span>                               | <span data-ttu-id="0d68e-166">Catégorie de message</span><span class="sxs-lookup"><span data-stu-id="0d68e-166">Message category</span></span>             | <span data-ttu-id="0d68e-167">Documentation</span><span class="sxs-lookup"><span data-stu-id="0d68e-167">Documentation</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------------|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0d68e-168">**ABM** et **ABN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-168">**ABM** and **ABN**</span></span>                  | <span data-ttu-id="0d68e-169">Barre d’outils application Desktop</span><span class="sxs-lookup"><span data-stu-id="0d68e-169">Application desktop toolbar</span></span>  | [<span data-ttu-id="0d68e-170">Messages et notifications de l’interpréteur de commandes</span><span class="sxs-lookup"><span data-stu-id="0d68e-170">Shell Messages and Notifications</span></span>](/windows/desktop/shell/control-panel-applications)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="0d68e-171">**ACM** et **ACN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-171">**ACM** and **ACN**</span></span>                  | <span data-ttu-id="0d68e-172">Contrôle Animation</span><span class="sxs-lookup"><span data-stu-id="0d68e-172">Animation control</span></span>            | <span data-ttu-id="0d68e-173">[Messages de contrôle d’animation](/windows/desktop/Controls/bumper-animation-control-reference-messages) et [notifications de contrôle d’animation](/windows/desktop/Controls/bumper-animation-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-173">[Animation Control Messages](/windows/desktop/Controls/bumper-animation-control-reference-messages) and [Animation Control Notifications](/windows/desktop/Controls/bumper-animation-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="0d68e-174">**BCM**, **BCN**, **BM** **et l'** un</span><span class="sxs-lookup"><span data-stu-id="0d68e-174">**BCM**, **BCN**, **BM**, and **BN**</span></span> | <span data-ttu-id="0d68e-175">contrôle bouton</span><span class="sxs-lookup"><span data-stu-id="0d68e-175">Button control</span></span>               | <span data-ttu-id="0d68e-176">[Messages de contrôle de bouton](/windows/desktop/Controls/bumper-button-control-reference-messages) et [notifications de contrôle de bouton](/windows/desktop/Controls/bumper-button-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-176">[Button Control Messages](/windows/desktop/Controls/bumper-button-control-reference-messages) and [Button Control Notifications](/windows/desktop/Controls/bumper-button-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="0d68e-177">**CB** et **CBN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-177">**CB** and **CBN**</span></span>                   | <span data-ttu-id="0d68e-178">ComboBox (contrôle)</span><span class="sxs-lookup"><span data-stu-id="0d68e-178">ComboBox control</span></span>             | <span data-ttu-id="0d68e-179">[Messages de contrôle de zone de liste déroulante](/windows/desktop/Controls/bumper-combobox-control-reference-messages) et [notifications de contrôle ComboBox](/windows/desktop/Controls/bumper-combobox-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-179">[ComboBox Control Messages](/windows/desktop/Controls/bumper-combobox-control-reference-messages) and [ComboBox Control Notifications](/windows/desktop/Controls/bumper-combobox-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="0d68e-180">**CBEM** et **CBEN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-180">**CBEM** and **CBEN**</span></span>                | <span data-ttu-id="0d68e-181">Contrôle ComboBoxEx</span><span class="sxs-lookup"><span data-stu-id="0d68e-181">ComboBoxEx control</span></span>           | <span data-ttu-id="0d68e-182">[Messages ComboBoxEx](/windows/desktop/Controls/bumper-comboboxex-control-reference-messages) et [notifications ComboBoxEx](/windows/desktop/Controls/bumper-comboboxex-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-182">[ComboBoxEx Messages](/windows/desktop/Controls/bumper-comboboxex-control-reference-messages) and [ComboBoxEx Notifications](/windows/desktop/Controls/bumper-comboboxex-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="0d68e-183">**DÉCLIN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-183">**CCM**</span></span>                              | <span data-ttu-id="0d68e-184">Contrôle général</span><span class="sxs-lookup"><span data-stu-id="0d68e-184">General control</span></span>              | [<span data-ttu-id="0d68e-185">Messages de contrôle</span><span class="sxs-lookup"><span data-stu-id="0d68e-185">Control Messages</span></span>](/windows/desktop/Controls/bumper-general-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="0d68e-186">**CDM**</span><span class="sxs-lookup"><span data-stu-id="0d68e-186">**CDM**</span></span>                              | <span data-ttu-id="0d68e-187">Boîte de dialogue commune</span><span class="sxs-lookup"><span data-stu-id="0d68e-187">Common dialog box</span></span>            | [<span data-ttu-id="0d68e-188">Messages de boîte de dialogue commune</span><span class="sxs-lookup"><span data-stu-id="0d68e-188">Common Dialog Box Messages</span></span>](/windows/desktop/dlgbox/common-dialog-box-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="0d68e-189">**DFM**</span><span class="sxs-lookup"><span data-stu-id="0d68e-189">**DFM**</span></span>                              | <span data-ttu-id="0d68e-190">Menu contextuel par défaut</span><span class="sxs-lookup"><span data-stu-id="0d68e-190">Default context menu</span></span>         | [<span data-ttu-id="0d68e-191">Messages et notifications de l’interpréteur de commandes</span><span class="sxs-lookup"><span data-stu-id="0d68e-191">Shell Messages and Notifications</span></span>](/windows/desktop/shell/control-panel-applications)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="0d68e-192">**DL**</span><span class="sxs-lookup"><span data-stu-id="0d68e-192">**DL**</span></span>                               | <span data-ttu-id="0d68e-193">Faire glisser la zone de liste</span><span class="sxs-lookup"><span data-stu-id="0d68e-193">Drag list box</span></span>                | <span data-ttu-id="0d68e-194">[Faire glisser les notifications de zone de liste](/previous-versions//ff485914(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="0d68e-194">[Drag List Box Notifications](/previous-versions//ff485914(v=vs.85))</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="0d68e-195">**DM**</span><span class="sxs-lookup"><span data-stu-id="0d68e-195">**DM**</span></span>                               | <span data-ttu-id="0d68e-196">Contrôle de bouton de commande par défaut</span><span class="sxs-lookup"><span data-stu-id="0d68e-196">Default push button control</span></span>  | [<span data-ttu-id="0d68e-197">Messages de boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="0d68e-197">Dialog Box Messages</span></span>](/windows/desktop/dlgbox/dialog-box-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="0d68e-198">**DTM** et **DTN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-198">**DTM** and **DTN**</span></span>                  | <span data-ttu-id="0d68e-199">Contrôle de sélecteur de date et heure</span><span class="sxs-lookup"><span data-stu-id="0d68e-199">Date and time picker control</span></span> | <span data-ttu-id="0d68e-200">[Messages du sélecteur de date et heure](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-messages) et [notifications du sélecteur de date et heure](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-200">[Date and Time Picker Messages](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-messages) and [Date and Time Picker Notifications](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="0d68e-201">**Em** et **fr**</span><span class="sxs-lookup"><span data-stu-id="0d68e-201">**EM** and **EN**</span></span>                    | <span data-ttu-id="0d68e-202">Contrôle Edit</span><span class="sxs-lookup"><span data-stu-id="0d68e-202">Edit control</span></span>                 | <span data-ttu-id="0d68e-203">[Modifier les messages de contrôle](/windows/desktop/Controls/bumper-edit-control-reference-messages), [modifier les notifications de contrôle](/windows/desktop/Controls/bumper-edit-control-reference-notifications), [les messages de modification enrichis](/windows/desktop/Controls/bumper-rich-edit-control-reference-messages)et les [notifications de modification enrichie](/windows/desktop/Controls/bumper-rich-edit-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-203">[Edit Control Messages](/windows/desktop/Controls/bumper-edit-control-reference-messages), [Edit Control Notifications](/windows/desktop/Controls/bumper-edit-control-reference-notifications), [Rich Edit Messages](/windows/desktop/Controls/bumper-rich-edit-control-reference-messages), and [Rich Edit Notifications](/windows/desktop/Controls/bumper-rich-edit-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="0d68e-204">**HDM** et **HDN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-204">**HDM** and **HDN**</span></span>                  | <span data-ttu-id="0d68e-205">Contrôle header</span><span class="sxs-lookup"><span data-stu-id="0d68e-205">Header control</span></span>               | <span data-ttu-id="0d68e-206">[Messages de contrôle d’en-tête](/windows/desktop/Controls/bumper-header-control-reference-messages) et [notifications de contrôle d’en-tête](/windows/desktop/Controls/bumper-header-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-206">[Header Control Messages](/windows/desktop/Controls/bumper-header-control-reference-messages) and [Header Control Notifications](/windows/desktop/Controls/bumper-header-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="0d68e-207">**HKM**</span><span class="sxs-lookup"><span data-stu-id="0d68e-207">**HKM**</span></span>                              | <span data-ttu-id="0d68e-208">Contrôle de touche d’accès rapide</span><span class="sxs-lookup"><span data-stu-id="0d68e-208">Hot key control</span></span>              | [<span data-ttu-id="0d68e-209">Messages de contrôle de touche d’accès rapide</span><span class="sxs-lookup"><span data-stu-id="0d68e-209">Hot Key Control Messages</span></span>](/windows/desktop/Controls/bumper-hot-key-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="0d68e-210">**IPM** et **IPN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-210">**IPM** and **IPN**</span></span>                  | <span data-ttu-id="0d68e-211">IP address (contrôle)</span><span class="sxs-lookup"><span data-stu-id="0d68e-211">IP address control</span></span>           | <span data-ttu-id="0d68e-212">[Messages d’adresse IP](/windows/desktop/Controls/bumper-ip-address-control-reference-messages) et [notifications d’adresse IP](/windows/desktop/Controls/bumper-ip-address-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-212">[IP Address Messages](/windows/desktop/Controls/bumper-ip-address-control-reference-messages) and [IP Address Notifications](/windows/desktop/Controls/bumper-ip-address-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="0d68e-213">**Lb** et **LBN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-213">**LB** and **LBN**</span></span>                   | <span data-ttu-id="0d68e-214">Contrôle de zone de liste</span><span class="sxs-lookup"><span data-stu-id="0d68e-214">List box control</span></span>             | <span data-ttu-id="0d68e-215">[Messages de zone de liste](/windows/desktop/Controls/bumper-list-box-control-reference-messages) et [notifications de zone de liste](/windows/desktop/Controls/bumper-list-box-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-215">[List Box Messages](/windows/desktop/Controls/bumper-list-box-control-reference-messages) and [List Box Notifications](/windows/desktop/Controls/bumper-list-box-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="0d68e-216">**NTLM**</span><span class="sxs-lookup"><span data-stu-id="0d68e-216">**LM**</span></span>                               | <span data-ttu-id="0d68e-217">Contrôle SysLink</span><span class="sxs-lookup"><span data-stu-id="0d68e-217">SysLink control</span></span>              | [<span data-ttu-id="0d68e-218">Messages de contrôle SysLink</span><span class="sxs-lookup"><span data-stu-id="0d68e-218">SysLink Control Messages</span></span>](/windows/desktop/Controls/bumper-syslink-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="0d68e-219">**LVM** et **LVN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-219">**LVM** and **LVN**</span></span>                  | <span data-ttu-id="0d68e-220">Contrôle List View</span><span class="sxs-lookup"><span data-stu-id="0d68e-220">List view control</span></span>            | <span data-ttu-id="0d68e-221">[Liste des messages d’affichage de liste](/windows/desktop/Controls/bumper-list-view-control-reference-messages) et [des notifications de liste](/windows/desktop/Controls/bumper-list-view-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-221">[List View Messages](/windows/desktop/Controls/bumper-list-view-control-reference-messages) and [List View Notifications](/windows/desktop/Controls/bumper-list-view-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="0d68e-222">**MCM** et **MCN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-222">**MCM** and **MCN**</span></span>                  | <span data-ttu-id="0d68e-223">Month Calendar (contrôle)</span><span class="sxs-lookup"><span data-stu-id="0d68e-223">Month calendar control</span></span>       | <span data-ttu-id="0d68e-224">[Messages du calendrier mensuel](/windows/desktop/Controls/bumper-month-calendar-control-reference-messages) et [notifications du calendrier mensuel](/windows/desktop/Controls/bumper-month-calendar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-224">[Month Calendar Messages](/windows/desktop/Controls/bumper-month-calendar-control-reference-messages) and [Month Calendar Notifications](/windows/desktop/Controls/bumper-month-calendar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="0d68e-225">**PBM**</span><span class="sxs-lookup"><span data-stu-id="0d68e-225">**PBM**</span></span>                              | <span data-ttu-id="0d68e-226">Barre de progression</span><span class="sxs-lookup"><span data-stu-id="0d68e-226">Progress bar</span></span>                 | [<span data-ttu-id="0d68e-227">Messages de la barre de progression</span><span class="sxs-lookup"><span data-stu-id="0d68e-227">Progress Bar Messages</span></span>](/windows/desktop/Controls/bumper-progress-bar-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="0d68e-228">**PGM** et **PGN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-228">**PGM** and **PGN**</span></span>                  | <span data-ttu-id="0d68e-229">Contrôle de pagineur</span><span class="sxs-lookup"><span data-stu-id="0d68e-229">Pager control</span></span>                | <span data-ttu-id="0d68e-230">[Messages de contrôle de pagineur](/windows/desktop/Controls/bumper-pager-control-reference-messages) et [notifications de contrôle de radiomessagerie](/windows/desktop/Controls/bumper-pager-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-230">[Pager Control Messages](/windows/desktop/Controls/bumper-pager-control-reference-messages) and [Pager Control Notifications](/windows/desktop/Controls/bumper-pager-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="0d68e-231">**PSM** et **PSN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-231">**PSM** and **PSN**</span></span>                  | <span data-ttu-id="0d68e-232">Feuille de propriétés</span><span class="sxs-lookup"><span data-stu-id="0d68e-232">Property sheet</span></span>               | <span data-ttu-id="0d68e-233">[Messages de feuille de propriétés](/windows/desktop/Controls/bumper-property-sheets-reference-messages) et [notifications de feuille de propriétés](/windows/desktop/Controls/bumper-property-sheets-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-233">[Property Sheet Messages](/windows/desktop/Controls/bumper-property-sheets-reference-messages) and [Property Sheet Notifications](/windows/desktop/Controls/bumper-property-sheets-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="0d68e-234">**RB** et **RBN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-234">**RB** and **RBN**</span></span>                   | <span data-ttu-id="0d68e-235">Contrôle rebar</span><span class="sxs-lookup"><span data-stu-id="0d68e-235">Rebar control</span></span>                | <span data-ttu-id="0d68e-236">[Messages de contrôle rebar](/windows/desktop/Controls/bumper-rebar-control-reference-messages) et [notifications de contrôle rebar](/windows/desktop/Controls/bumper-rebar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-236">[Rebar Control Messages](/windows/desktop/Controls/bumper-rebar-control-reference-messages) and [Rebar Control Notifications](/windows/desktop/Controls/bumper-rebar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="0d68e-237">**SB** et **SBN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-237">**SB** and **SBN**</span></span>                   | <span data-ttu-id="0d68e-238">Fenêtre barre d’État</span><span class="sxs-lookup"><span data-stu-id="0d68e-238">Status bar window</span></span>            | <span data-ttu-id="0d68e-239">[Messages de barre d’État](/windows/desktop/Controls/bumper-status-bars-reference-messages) et [notifications de barre d’État](/windows/desktop/Controls/bumper-status-bars-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-239">[Status Bar Messages](/windows/desktop/Controls/bumper-status-bars-reference-messages) and [Status Bar Notifications](/windows/desktop/Controls/bumper-status-bars-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="0d68e-240">**SBM**</span><span class="sxs-lookup"><span data-stu-id="0d68e-240">**SBM**</span></span>                              | <span data-ttu-id="0d68e-241">Contrôle de barre de défilement</span><span class="sxs-lookup"><span data-stu-id="0d68e-241">Scroll bar control</span></span>           | [<span data-ttu-id="0d68e-242">Messages de la barre de défilement</span><span class="sxs-lookup"><span data-stu-id="0d68e-242">Scroll Bar Messages</span></span>](/windows/desktop/Controls/bumper-scroll-bars-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="0d68e-243">**CARTE**</span><span class="sxs-lookup"><span data-stu-id="0d68e-243">**SMC**</span></span>                              | <span data-ttu-id="0d68e-244">Menu Shell</span><span class="sxs-lookup"><span data-stu-id="0d68e-244">Shell menu</span></span>                   | [<span data-ttu-id="0d68e-245">Messages et notifications de l’interpréteur de commandes</span><span class="sxs-lookup"><span data-stu-id="0d68e-245">Shell Messages and Notifications</span></span>](/windows/desktop/shell/control-panel-applications)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="0d68e-246">**STM** et **STN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-246">**STM** and **STN**</span></span>                  | <span data-ttu-id="0d68e-247">Contrôle statique</span><span class="sxs-lookup"><span data-stu-id="0d68e-247">Static control</span></span>               | <span data-ttu-id="0d68e-248">[Messages de contrôle statique](/windows/desktop/Controls/bumper-static-control-reference-messages) et [notifications de contrôle statique](/windows/desktop/Controls/bumper-static-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-248">[Static Control Messages](/windows/desktop/Controls/bumper-static-control-reference-messages) and [Static Control Notifications](/windows/desktop/Controls/bumper-static-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="0d68e-249">**To** et **TBN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-249">**TB** and **TBN**</span></span>                   | <span data-ttu-id="0d68e-250">Barre d’outils</span><span class="sxs-lookup"><span data-stu-id="0d68e-250">Toolbar</span></span>                      | <span data-ttu-id="0d68e-251">[Messages de contrôle de barre d’outils](/windows/desktop/Controls/bumper-toolbar-control-reference-messages) et [notifications de contrôle de barre d’outils](/windows/desktop/Controls/bumper-toolbar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-251">[Toolbar Control Messages](/windows/desktop/Controls/bumper-toolbar-control-reference-messages) and [Toolbar Control Notifications](/windows/desktop/Controls/bumper-toolbar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="0d68e-252">**TBM** et **TRBN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-252">**TBM** and **TRBN**</span></span>                 | <span data-ttu-id="0d68e-253">TrackBar, contrôle</span><span class="sxs-lookup"><span data-stu-id="0d68e-253">Trackbar control</span></span>             | <span data-ttu-id="0d68e-254">[Messages de contrôle TrackBar](/windows/desktop/Controls/bumper-trackbar-control-reference-messages) et [notifications de contrôle TrackBar](/windows/desktop/Controls/bumper-trackbar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-254">[Trackbar Control Messages](/windows/desktop/Controls/bumper-trackbar-control-reference-messages) and [Trackbar Control Notifications](/windows/desktop/Controls/bumper-trackbar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="0d68e-255">**TCM** et **TCN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-255">**TCM** and **TCN**</span></span>                  | <span data-ttu-id="0d68e-256">Contrôle Tab</span><span class="sxs-lookup"><span data-stu-id="0d68e-256">Tab control</span></span>                  | <span data-ttu-id="0d68e-257">[Messages de contrôle d’onglet](/windows/desktop/Controls/bumper-tab-control-reference-messages) et [notifications de contrôle d’onglet](/windows/desktop/Controls/bumper-tab-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-257">[Tab Control Messages](/windows/desktop/Controls/bumper-tab-control-reference-messages) and [Tab Control Notifications](/windows/desktop/Controls/bumper-tab-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="0d68e-258">**TDM** et **TDN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-258">**TDM** and **TDN**</span></span>                  | <span data-ttu-id="0d68e-259">Boîte de dialogue de tâches</span><span class="sxs-lookup"><span data-stu-id="0d68e-259">Task dialog</span></span>                  | <span data-ttu-id="0d68e-260">[Messages de boîte de dialogue de tâche](/windows/desktop/Controls/bumper-task-dialogs-reference-messages) et [notifications de boîte de dialogue de tâche](/windows/desktop/Controls/bumper-task-dialogs-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-260">[Task Dialog Messages](/windows/desktop/Controls/bumper-task-dialogs-reference-messages) and [Task Dialog Notifications](/windows/desktop/Controls/bumper-task-dialogs-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="0d68e-261">**Atténuation** et **ttn**</span><span class="sxs-lookup"><span data-stu-id="0d68e-261">**TTM** and **TTN**</span></span>                  | <span data-ttu-id="0d68e-262">ToolTip, contrôle</span><span class="sxs-lookup"><span data-stu-id="0d68e-262">Tooltip control</span></span>              | <span data-ttu-id="0d68e-263">[Messages de contrôle ToolTip](/windows/desktop/Controls/bumper-tooltip-control-reference-messages) et [notifications de contrôle ToolTip](/windows/desktop/Controls/bumper-tooltip-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="0d68e-263">[Tooltip Control Messages](/windows/desktop/Controls/bumper-tooltip-control-reference-messages) and [Tooltip Control Notifications](/windows/desktop/Controls/bumper-tooltip-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="0d68e-264">**TVM** et **TVN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-264">**TVM** and **TVN**</span></span>                  | <span data-ttu-id="0d68e-265">Contrôle Tree-View</span><span class="sxs-lookup"><span data-stu-id="0d68e-265">Tree-view control</span></span>            | <span data-ttu-id="0d68e-266">[Messages](/windows/desktop/Controls/bumper-tree-view-control-reference-messages) de l’arborescence et [notifications](/windows/desktop/Controls/bumper-tree-view-control-reference-notifications) de l’arborescence</span><span class="sxs-lookup"><span data-stu-id="0d68e-266">[Tree View Messages](/windows/desktop/Controls/bumper-tree-view-control-reference-messages) and [Tree View Notifications](/windows/desktop/Controls/bumper-tree-view-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="0d68e-267">**UDM** et **UDN**</span><span class="sxs-lookup"><span data-stu-id="0d68e-267">**UDM** and **UDN**</span></span>                  | <span data-ttu-id="0d68e-268">Contrôle up-out</span><span class="sxs-lookup"><span data-stu-id="0d68e-268">Up-down control</span></span>              | <span data-ttu-id="0d68e-269">[Messages up-](/windows/desktop/Controls/bumper-up-down-control-reference-messages) out et [notifications up-](/windows/desktop/Controls/bumper-up-down-control-reference-notifications) out</span><span class="sxs-lookup"><span data-stu-id="0d68e-269">[Up-Down Messages](/windows/desktop/Controls/bumper-up-down-control-reference-messages) and [Up-Down Notifications](/windows/desktop/Controls/bumper-up-down-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="0d68e-270">**WM**</span><span class="sxs-lookup"><span data-stu-id="0d68e-270">**WM**</span></span>                               | <span data-ttu-id="0d68e-271">Général</span><span class="sxs-lookup"><span data-stu-id="0d68e-271">General</span></span>                      | <dl> <span data-ttu-id="0d68e-272"><dt>[Presse-papiers messages](/windows/desktop/dataxchg/clipboard-messages)</dt> <dt>[presse-papiers notifications](/windows/desktop/dataxchg/clipboard-notifications)</dt> <dt>[boîte de dialogue](/windows/desktop/dlgbox/common-dialog-box-notifications)</dt> notifications <dt>[](window-notifications.md)</dt> <dt>[curseurs](/windows/desktop/menurc/cursor-notifications)</dt> <dt>[](/windows/desktop/Controls/bumper-scroll-bars-reference-notifications)</dt> <dt>[](timer-notifications.md)</dt> notifications de <dt>[données message](/windows/desktop/dataxchg/wm-copydata)</dt> de la <dt>[Gestionnaire de fenêtrage messages de](/windows/desktop/dwm/dwm-messages)</dt> <dt>[gestion des appareils](/windows/desktop/DevIO/device-management-messages)</dt> messages de gestion <dt>[échange dynamique de données](/windows/desktop/dataxchg/dynamic-data-exchange-messages)</dt> <dt>[des](/windows/desktop/dlgbox/dialog-box-notifications)</dt> messages de notifications de notifications <dt>[échange dynamique de données](/windows/desktop/dataxchg/dynamic-data-exchange-notifications)</dt> <dt>[](hook-notifications.md)</dt> <dt>[notifications de](/windows/desktop/menurc/keyboard-accelerator-messages)</dt> notifications <dt>[](/windows/desktop/inputdev/keyboard-input-notifications)</dt> de <dt>[la souris](/windows/desktop/inputdev/mouse-input-notifications)</dt> <dt>[](multiple-document-interface-messages.md)</dt> <dt>[](/windows/desktop/inputdev/raw-input-notifications)</dt> <dt>[fenêtres](/windows/desktop/menurc/menu-notifications)</dt> notifications de la fenêtre <dt>[messages](window-messages.md)</dt> d' <dt>[entrée de clavier](/windows/desktop/menurc/keyboard-accelerator-notifications)</dt> <dt>[](/windows/desktop/inputdev/keyboard-input-messages)</dt></span><span class="sxs-lookup"><span data-stu-id="0d68e-272"><dt>[Clipboard Messages](/windows/desktop/dataxchg/clipboard-messages)</dt> <dt>[Clipboard Notifications](/windows/desktop/dataxchg/clipboard-notifications)</dt> <dt>[Common Dialog Box Notifications](/windows/desktop/dlgbox/common-dialog-box-notifications)</dt> <dt>[Cursor Notifications](/windows/desktop/menurc/cursor-notifications)</dt> <dt>[Data Copy Message](/windows/desktop/dataxchg/wm-copydata)</dt> <dt>[Desktop Window Manager Messages](/windows/desktop/dwm/dwm-messages)</dt> <dt>[Device Management Messages](/windows/desktop/DevIO/device-management-messages)</dt> <dt>[Dialog Box Notifications](/windows/desktop/dlgbox/dialog-box-notifications)</dt> <dt>[Dynamic Data Exchange Messages](/windows/desktop/dataxchg/dynamic-data-exchange-messages)</dt> <dt>[Dynamic Data Exchange Notifications](/windows/desktop/dataxchg/dynamic-data-exchange-notifications)</dt> <dt>[Hook Notifications](hook-notifications.md)</dt> <dt>[Keyboard Accelerator Messages](/windows/desktop/menurc/keyboard-accelerator-messages)</dt> <dt>[Keyboard Accelerator Notifications](/windows/desktop/menurc/keyboard-accelerator-notifications)</dt> <dt>[Keyboard Input Messages](/windows/desktop/inputdev/keyboard-input-messages)</dt> <dt>[Keyboard Input Notifications](/windows/desktop/inputdev/keyboard-input-notifications)</dt> <dt>[Menu Notifications](/windows/desktop/menurc/menu-notifications)</dt> <dt>[Mouse Input Notifications](/windows/desktop/inputdev/mouse-input-notifications)</dt> <dt>[Multiple Document Interface Messages](multiple-document-interface-messages.md)</dt> <dt>[Raw Input Notifications](/windows/desktop/inputdev/raw-input-notifications)</dt> <dt>[Scroll Bar Notifications](/windows/desktop/Controls/bumper-scroll-bars-reference-notifications)</dt> <dt>[Timer Notifications](timer-notifications.md)</dt> <dt>[Window Messages](window-messages.md)</dt> <dt>[Window Notifications](window-notifications.md)</dt></span></span> </dl> |



 

<span data-ttu-id="0d68e-273">Les messages de fenêtre générale couvrent un large éventail d’informations et de demandes, y compris des messages pour les entrées de souris et de clavier, l’entrée de menu et de boîte de dialogue, la création et la gestion de fenêtres et l’échange dynamique de données (DDE).</span><span class="sxs-lookup"><span data-stu-id="0d68e-273">General window messages cover a wide range of information and requests, including messages for mouse and keyboard input, menu and dialog box input, window creation and management, and Dynamic Data Exchange (DDE).</span></span>

### <a name="application-defined-messages"></a><span data-ttu-id="0d68e-274">Messages Application-Defined</span><span class="sxs-lookup"><span data-stu-id="0d68e-274">Application-Defined Messages</span></span>

<span data-ttu-id="0d68e-275">Une application peut créer des messages à utiliser par ses propres fenêtres ou pour communiquer avec Windows dans d’autres processus.</span><span class="sxs-lookup"><span data-stu-id="0d68e-275">An application can create messages to be used by its own windows or to communicate with windows in other processes.</span></span> <span data-ttu-id="0d68e-276">Si une application crée ses propres messages, la procédure de fenêtre qui les reçoit doit interpréter les messages et fournir le traitement approprié.</span><span class="sxs-lookup"><span data-stu-id="0d68e-276">If an application creates its own messages, the window procedure that receives them must interpret the messages and provide appropriate processing.</span></span>

<span data-ttu-id="0d68e-277">Les valeurs d’identificateur de message sont utilisées comme suit :</span><span class="sxs-lookup"><span data-stu-id="0d68e-277">Message-identifier values are used as follows:</span></span>

-   <span data-ttu-id="0d68e-278">Le système réserve des valeurs d’identificateur de message dans la plage 0x0000 à 0x03FF (la valeur de [**WM \_ User**](wm-user.md)  – 1) pour les messages définis par le système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-278">The system reserves message-identifier values in the range 0x0000 through 0x03FF (the value of [**WM\_USER**](wm-user.md)  – 1) for system-defined messages.</span></span> <span data-ttu-id="0d68e-279">Les applications ne peuvent pas utiliser ces valeurs pour les messages privés.</span><span class="sxs-lookup"><span data-stu-id="0d68e-279">Applications cannot use these values for private messages.</span></span>
-   <span data-ttu-id="0d68e-280">Les valeurs de la plage 0x0400 (la valeur de l' [**\_ utilisateur WM**](wm-user.md)) par le biais de 0x7FFF sont disponibles pour les identificateurs de message pour les classes de fenêtre privées.</span><span class="sxs-lookup"><span data-stu-id="0d68e-280">Values in the range 0x0400 (the value of [**WM\_USER**](wm-user.md)) through 0x7FFF are available for message identifiers for private window classes.</span></span>
-   <span data-ttu-id="0d68e-281">Si votre application est marquée comme version 4,0, vous pouvez utiliser des valeurs d’identificateur de message dans la plage 0x8000 ([**\_ application WM**](wm-app.md)) via 0xBFFF pour les messages privés.</span><span class="sxs-lookup"><span data-stu-id="0d68e-281">If your application is marked version 4.0, you can use message-identifier values in the range 0x8000 ([**WM\_APP**](wm-app.md)) through 0xBFFF for private messages.</span></span>
-   <span data-ttu-id="0d68e-282">Le système renvoie un identificateur de message dans la plage 0xC000 à 0xFFFF lorsqu’une application appelle la fonction [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea) pour enregistrer un message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-282">The system returns a message identifier in the range 0xC000 through 0xFFFF when an application calls the [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea) function to register a message.</span></span> <span data-ttu-id="0d68e-283">L’identificateur de message retourné par cette fonction est garanti comme étant unique dans tout le système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-283">The message identifier returned by this function is guaranteed to be unique throughout the system.</span></span> <span data-ttu-id="0d68e-284">L’utilisation de cette fonction empêche les conflits qui peuvent se produire si d’autres applications utilisent le même identificateur de message à des fins différentes.</span><span class="sxs-lookup"><span data-stu-id="0d68e-284">Use of this function prevents conflicts that can arise if other applications use the same message identifier for different purposes.</span></span>

## <a name="message-routing"></a><span data-ttu-id="0d68e-285">Routage des messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-285">Message Routing</span></span>

<span data-ttu-id="0d68e-286">Le système utilise deux méthodes pour acheminer les messages vers une procédure de fenêtre : la publication de messages dans une file d’attente premier sorti, première sortie appelée *file d’attente de messages*, un objet mémoire défini par le système qui stocke temporairement les messages et l’envoi de messages directement à une procédure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-286">The system uses two methods to route messages to a window procedure: posting messages to a first-in, first-out queue called a *message queue*, a system-defined memory object that temporarily stores messages, and sending messages directly to a window procedure.</span></span>

<span data-ttu-id="0d68e-287">Les messages qui sont publiés dans une file d’attente de messages sont appelés *messages mis en file d’attente*.</span><span class="sxs-lookup"><span data-stu-id="0d68e-287">A messages that is posted to a message queue is called a *queued message*.</span></span> <span data-ttu-id="0d68e-288">Il s’agit principalement du résultat d’une entrée utilisateur entrée via la souris ou le clavier, par exemple [**WM \_ MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove), [**WM \_ LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown), [**WM \_ keyverse**](/windows/desktop/inputdev/wm-keydown)et les messages [**WM \_ char**](/windows/desktop/inputdev/wm-char) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-288">These are primarily the result of user input entered through the mouse or keyboard, such as [**WM\_MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove), [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown), [**WM\_KEYDOWN**](/windows/desktop/inputdev/wm-keydown), and [**WM\_CHAR**](/windows/desktop/inputdev/wm-char) messages.</span></span> <span data-ttu-id="0d68e-289">Les autres messages mis en file d’attente incluent les messages Timer, Paint et Quit : le [**\_ minuteur WM**](wm-timer.md), [**WM \_ Paint**](/windows/desktop/gdi/wm-paint)et [**WM \_ Quit**](wm-quit.md).</span><span class="sxs-lookup"><span data-stu-id="0d68e-289">Other queued messages include the timer, paint, and quit messages: [**WM\_TIMER**](wm-timer.md), [**WM\_PAINT**](/windows/desktop/gdi/wm-paint), and [**WM\_QUIT**](wm-quit.md).</span></span> <span data-ttu-id="0d68e-290">La plupart des autres messages, qui sont envoyés directement à une procédure de fenêtre, sont appelés *messages non mis en file d’attente*.</span><span class="sxs-lookup"><span data-stu-id="0d68e-290">Most other messages, which are sent directly to a window procedure, are called *nonqueued messages*.</span></span>

-   [<span data-ttu-id="0d68e-291">Messages mis en file d’attente</span><span class="sxs-lookup"><span data-stu-id="0d68e-291">Queued Messages</span></span>](#queued-messages)
-   [<span data-ttu-id="0d68e-292">Messages qui ne sont pas mis en file d’attente</span><span class="sxs-lookup"><span data-stu-id="0d68e-292">Nonqueued Messages</span></span>](#nonqueued-messages)

### <a name="queued-messages"></a><span data-ttu-id="0d68e-293">Messages mis en file d’attente</span><span class="sxs-lookup"><span data-stu-id="0d68e-293">Queued Messages</span></span>

<span data-ttu-id="0d68e-294">Le système peut afficher un nombre quelconque de fenêtres à la fois.</span><span class="sxs-lookup"><span data-stu-id="0d68e-294">The system can display any number of windows at a time.</span></span> <span data-ttu-id="0d68e-295">Pour acheminer les entrées de souris et de clavier vers la fenêtre appropriée, le système utilise les files d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-295">To route mouse and keyboard input to the appropriate window, the system uses message queues.</span></span>

<span data-ttu-id="0d68e-296">Le système gère une file d’attente de messages système unique et une file d’attente de messages spécifique à un thread pour chaque thread d’interface utilisateur graphique.</span><span class="sxs-lookup"><span data-stu-id="0d68e-296">The system maintains a single system message queue and one thread-specific message queue for each GUI thread.</span></span> <span data-ttu-id="0d68e-297">Pour éviter la surcharge liée à la création d’une file d’attente de messages pour les threads non-GUI, tous les threads sont créés initialement sans file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-297">To avoid the overhead of creating a message queue for non–GUI threads, all threads are created initially without a message queue.</span></span> <span data-ttu-id="0d68e-298">Le système crée une file d’attente de messages spécifique au thread uniquement lorsque le thread effectue son premier appel à l’une des fonctions utilisateur spécifiques ; aucun appel de fonction d’interface utilisateur n’entraîne la création d’une file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-298">The system creates a thread-specific message queue only when the thread makes its first call to one of the specific user functions; no GUI function calls result in the creation of a message queue.</span></span>

<span data-ttu-id="0d68e-299">Chaque fois que l’utilisateur déplace la souris, clique sur les boutons de la souris ou sur les types du clavier, le pilote de périphérique de la souris ou du clavier convertit l’entrée en messages et les place dans la file d’attente des messages du système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-299">Whenever the user moves the mouse, clicks the mouse buttons, or types on the keyboard, the device driver for the mouse or keyboard converts the input into messages and places them in the system message queue.</span></span> <span data-ttu-id="0d68e-300">Le système supprime les messages, un à la fois, de la file d’attente des messages système, les examine pour déterminer la fenêtre de destination, puis les publie dans la file d’attente de messages du thread qui a créé la fenêtre de destination.</span><span class="sxs-lookup"><span data-stu-id="0d68e-300">The system removes the messages, one at a time, from the system message queue, examines them to determine the destination window, and then posts them to the message queue of the thread that created the destination window.</span></span> <span data-ttu-id="0d68e-301">La file d’attente de messages d’un thread reçoit tous les messages de la souris et du clavier pour les fenêtres créées par le thread.</span><span class="sxs-lookup"><span data-stu-id="0d68e-301">A thread's message queue receives all mouse and keyboard messages for the windows created by the thread.</span></span> <span data-ttu-id="0d68e-302">Le thread supprime les messages de sa file d’attente et indique au système de les envoyer à la procédure de fenêtre appropriée pour traitement.</span><span class="sxs-lookup"><span data-stu-id="0d68e-302">The thread removes messages from its queue and directs the system to send them to the appropriate window procedure for processing.</span></span>

<span data-ttu-id="0d68e-303">À l’exception du message [**de \_ peinture WM**](/windows/desktop/gdi/wm-paint) , du message de [**\_ minuteur WM**](wm-timer.md) et du message [**WM \_ Quit**](wm-quit.md) , le système publie toujours les messages à la fin d’une file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-303">With the exception of the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) message, the [**WM\_TIMER**](wm-timer.md) message, and the [**WM\_QUIT**](wm-quit.md) message, the system always posts messages at the end of a message queue.</span></span> <span data-ttu-id="0d68e-304">Cela garantit qu’une fenêtre reçoit ses messages d’entrée dans la séquence FIFO (First in, First Out) appropriée.</span><span class="sxs-lookup"><span data-stu-id="0d68e-304">This ensures that a window receives its input messages in the proper first in, first out (FIFO) sequence.</span></span> <span data-ttu-id="0d68e-305">Toutefois, le message de **\_ peinture WM** , le message de **\_ minuteur WM** et le message **WM \_ Quit** sont conservés dans la file d’attente et sont transmis à la procédure de fenêtre uniquement lorsque la file d’attente ne contient aucun autre message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-305">The **WM\_PAINT** message, the **WM\_TIMER** message, and the **WM\_QUIT** message, however, are kept in the queue and are forwarded to the window procedure only when the queue contains no other messages.</span></span> <span data-ttu-id="0d68e-306">En outre, plusieurs messages **WM \_ Paint** pour la même fenêtre sont combinés en un seul message de **\_ peinture WM** , consolidant toutes les parties non valides de la zone cliente en une seule zone.</span><span class="sxs-lookup"><span data-stu-id="0d68e-306">In addition, multiple **WM\_PAINT** messages for the same window are combined into a single **WM\_PAINT** message, consolidating all invalid parts of the client area into a single area.</span></span> <span data-ttu-id="0d68e-307">La combinaison de messages **WM \_ Paint** réduit le nombre de fois où une fenêtre doit redessiner le contenu de sa zone cliente.</span><span class="sxs-lookup"><span data-stu-id="0d68e-307">Combining **WM\_PAINT** messages reduces the number of times a window must redraw the contents of its client area.</span></span>

<span data-ttu-id="0d68e-308">Le système publie un message dans la file d’attente de messages d’un thread en remplissant une structure [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) et en la copiant dans la file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-308">The system posts a message to a thread's message queue by filling an [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure and then copying it to the message queue.</span></span> <span data-ttu-id="0d68e-309">Les informations contenues dans **MSG** incluent : le handle de la fenêtre pour laquelle le message est destiné, l’identificateur de message, les deux paramètres de message, l’heure à laquelle le message a été publié et la position du curseur de la souris.</span><span class="sxs-lookup"><span data-stu-id="0d68e-309">Information in **MSG** includes: the handle of the window for which the message is intended, the message identifier, the two message parameters, the time the message was posted, and the mouse cursor position.</span></span> <span data-ttu-id="0d68e-310">Un thread peut envoyer un message à sa propre file d’attente de messages ou à la file d’attente d’un autre thread à l’aide de la fonction [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) ou [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-310">A thread can post a message to its own message queue or to the queue of another thread by using the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) or [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) function.</span></span>

<span data-ttu-id="0d68e-311">Une application peut supprimer un message de sa file d’attente à l’aide de la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-311">An application can remove a message from its queue by using the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function.</span></span> <span data-ttu-id="0d68e-312">Pour examiner un message sans le supprimer de sa file d’attente, une application peut utiliser la fonction [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-312">To examine a message without removing it from its queue, an application can use the [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span> <span data-ttu-id="0d68e-313">Cette fonction remplit [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) avec les informations relatives au message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-313">This function fills [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) with information about the message.</span></span>

<span data-ttu-id="0d68e-314">Après la suppression d’un message de sa file d’attente, une application peut utiliser la fonction [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) pour indiquer au système d’envoyer le message à une procédure de fenêtre pour traitement.</span><span class="sxs-lookup"><span data-stu-id="0d68e-314">After removing a message from its queue, an application can use the [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) function to direct the system to send the message to a window procedure for processing.</span></span> <span data-ttu-id="0d68e-315">**DispatchMessage** prend un pointeur vers le [**message**](/windows/win32/api/winuser/ns-winuser-msg) qui a été rempli par un appel précédent à la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-315">**DispatchMessage** takes a pointer to [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) that was filled by a previous call to the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span> <span data-ttu-id="0d68e-316">**DispatchMessage** transmet le handle de fenêtre, l’identificateur de message et les deux paramètres de message à la procédure de fenêtre, mais il ne passe pas l’heure à laquelle le message a été publié ou la position du curseur de la souris.</span><span class="sxs-lookup"><span data-stu-id="0d68e-316">**DispatchMessage** passes the window handle, the message identifier, and the two message parameters to the window procedure, but it does not pass the time the message was posted or mouse cursor position.</span></span> <span data-ttu-id="0d68e-317">Une application peut récupérer ces informations en appelant les fonctions [**GetMessageTime**](/windows/win32/api/winuser/nf-winuser-getmessagetime) et [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos) lors du traitement d’un message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-317">An application can retrieve this information by calling the [**GetMessageTime**](/windows/win32/api/winuser/nf-winuser-getmessagetime) and [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos) functions while processing a message.</span></span>

<span data-ttu-id="0d68e-318">Un thread peut utiliser la fonction [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) pour donner le contrôle à d’autres threads lorsqu’il n’a aucun message dans sa file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-318">A thread can use the [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) function to yield control to other threads when it has no messages in its message queue.</span></span> <span data-ttu-id="0d68e-319">La fonction interrompt le thread et ne retourne pas tant qu’un nouveau message n’a pas été placé dans la file d’attente de messages du thread.</span><span class="sxs-lookup"><span data-stu-id="0d68e-319">The function suspends the thread and does not return until a new message is placed in the thread's message queue.</span></span>

<span data-ttu-id="0d68e-320">Vous pouvez appeler la fonction [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo) pour associer une valeur à la file d’attente de messages du thread actif.</span><span class="sxs-lookup"><span data-stu-id="0d68e-320">You can call the [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo) function to associate a value with the current thread's message queue.</span></span> <span data-ttu-id="0d68e-321">Appelez ensuite la fonction [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) pour récupérer la valeur associée au dernier message récupéré par la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-321">Then call the [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) function to get the value associated with the last message retrieved by the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span>

### <a name="nonqueued-messages"></a><span data-ttu-id="0d68e-322">Messages qui ne sont pas mis en file d’attente</span><span class="sxs-lookup"><span data-stu-id="0d68e-322">Nonqueued Messages</span></span>

<span data-ttu-id="0d68e-323">Les messages non mis en file d’attente sont envoyés immédiatement à la procédure de fenêtre de destination, en ignorant la file d’attente de messages système et la file d’attente de messages de thread.</span><span class="sxs-lookup"><span data-stu-id="0d68e-323">Nonqueued messages are sent immediately to the destination window procedure, bypassing the system message queue and thread message queue.</span></span> <span data-ttu-id="0d68e-324">Le système envoie généralement des messages sans file d’attente pour notifier une fenêtre d’événements qui l’affectent.</span><span class="sxs-lookup"><span data-stu-id="0d68e-324">The system typically sends nonqueued messages to notify a window of events that affect it.</span></span> <span data-ttu-id="0d68e-325">Par exemple, lorsque l’utilisateur active une nouvelle fenêtre d’application, le système envoie une série de messages à la fenêtre, notamment [**WM \_ Activate**](/windows/desktop/inputdev/wm-activate), [**WM \_ SetFocus**](/windows/desktop/inputdev/wm-setfocus)et [**WM \_ SETCURSOR**](/windows/desktop/menurc/wm-setcursor).</span><span class="sxs-lookup"><span data-stu-id="0d68e-325">For example, when the user activates a new application window, the system sends the window a series of messages, including [**WM\_ACTIVATE**](/windows/desktop/inputdev/wm-activate), [**WM\_SETFOCUS**](/windows/desktop/inputdev/wm-setfocus), and [**WM\_SETCURSOR**](/windows/desktop/menurc/wm-setcursor).</span></span> <span data-ttu-id="0d68e-326">Ces messages informent la fenêtre qu’elle a été activée, que l’entrée au clavier est dirigée vers la fenêtre et que le curseur de la souris a été déplacé dans les bordures de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-326">These messages notify the window that it has been activated, that keyboard input is being directed to the window, and that the mouse cursor has been moved within the borders of the window.</span></span> <span data-ttu-id="0d68e-327">Les messages non mis en file d’attente peuvent également se produire lorsqu’une application appelle certaines fonctions système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-327">Nonqueued messages can also result when an application calls certain system functions.</span></span> <span data-ttu-id="0d68e-328">Par exemple, le système envoie le message [**WM \_ WINDOWPOSCHANGED**](wm-windowposchanged.md) après qu’une application a utilisé la fonction [**SetWindowPos**](/windows/win32/api/winuser/nf-winuser-setwindowpos) pour déplacer une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-328">For example, the system sends the [**WM\_WINDOWPOSCHANGED**](wm-windowposchanged.md) message after an application uses the [**SetWindowPos**](/windows/win32/api/winuser/nf-winuser-setwindowpos) function to move a window.</span></span>

<span data-ttu-id="0d68e-329">Certaines fonctions qui envoient des messages qui ne sont pas mis en file d’attente sont [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa), [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)et [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea).</span><span class="sxs-lookup"><span data-stu-id="0d68e-329">Some functions that send nonqueued messages are [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa), [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), and [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea).</span></span>

## <a name="message-handling"></a><span data-ttu-id="0d68e-330">Gestion des messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-330">Message Handling</span></span>

<span data-ttu-id="0d68e-331">Une application doit supprimer et traiter les messages publiés dans les files d’attente de messages de ses threads.</span><span class="sxs-lookup"><span data-stu-id="0d68e-331">An application must remove and process messages posted to the message queues of its threads.</span></span> <span data-ttu-id="0d68e-332">Une application à thread unique utilise généralement une *boucle de message* dans sa fonction [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) pour supprimer et envoyer des messages aux procédures de fenêtre appropriées à des fins de traitement.</span><span class="sxs-lookup"><span data-stu-id="0d68e-332">A single-threaded application usually uses a *message loop* in its [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) function to remove and send messages to the appropriate window procedures for processing.</span></span> <span data-ttu-id="0d68e-333">Les applications avec plusieurs threads peuvent inclure une boucle de message dans chaque thread qui crée une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-333">Applications with multiple threads can include a message loop in each thread that creates a window.</span></span> <span data-ttu-id="0d68e-334">Les sections suivantes décrivent le fonctionnement d’une boucle de message et expliquent le rôle d’une procédure de fenêtre :</span><span class="sxs-lookup"><span data-stu-id="0d68e-334">The following sections describe how a message loop works and explain the role of a window procedure:</span></span>

-   [<span data-ttu-id="0d68e-335">Boucle de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-335">Message Loop</span></span>](#message-loop)
-   [<span data-ttu-id="0d68e-336">Procédure de fenêtre</span><span class="sxs-lookup"><span data-stu-id="0d68e-336">Window Procedure</span></span>](#window-procedure)

### <a name="message-loop"></a><span data-ttu-id="0d68e-337">Boucle de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-337">Message Loop</span></span>

<span data-ttu-id="0d68e-338">Une boucle de message simple se compose d’un appel de fonction à chacune de ces trois fonctions : [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage)et [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage).</span><span class="sxs-lookup"><span data-stu-id="0d68e-338">A simple message loop consists of one function call to each of these three functions: [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage), and [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage).</span></span> <span data-ttu-id="0d68e-339">Notez que, en cas d’erreur, **GetMessage** retourne – 1, ce qui nécessite un test spécial.</span><span class="sxs-lookup"><span data-stu-id="0d68e-339">Note that if there is an error, **GetMessage** returns –1, thus the need for the special testing.</span></span>


```
MSG msg;
BOOL bRet;

while( (bRet = GetMessage( &msg, NULL, 0, 0 )) != 0)
{ 
    if (bRet == -1)
    {
        // handle the error and possibly exit
    }
    else
    {
        TranslateMessage(&msg); 
        DispatchMessage(&msg); 
    }
}
```



<span data-ttu-id="0d68e-340">La fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) extrait un message de la file d’attente et le copie dans une structure de type [**MSG**](/windows/win32/api/winuser/ns-winuser-msg).</span><span class="sxs-lookup"><span data-stu-id="0d68e-340">The [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function retrieves a message from the queue and copies it to a structure of type [**MSG**](/windows/win32/api/winuser/ns-winuser-msg).</span></span> <span data-ttu-id="0d68e-341">Elle retourne une valeur différente de zéro, sauf si elle rencontre le message [**WM \_ Quit**](wm-quit.md) , auquel cas elle retourne **false** et met fin à la boucle.</span><span class="sxs-lookup"><span data-stu-id="0d68e-341">It returns a nonzero value, unless it encounters the [**WM\_QUIT**](wm-quit.md) message, in which case it returns **FALSE** and ends the loop.</span></span> <span data-ttu-id="0d68e-342">Dans une application à thread unique, le fait de mettre fin à la boucle de message est souvent la première étape de la fermeture de l’application.</span><span class="sxs-lookup"><span data-stu-id="0d68e-342">In a single-threaded application, ending the message loop is often the first step in closing the application.</span></span> <span data-ttu-id="0d68e-343">Une application peut mettre fin à sa propre boucle à l’aide de la fonction [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage) , généralement en réponse au message [**WM \_ Destroy**](wm-destroy.md) dans la procédure de fenêtre de la fenêtre principale de l’application.</span><span class="sxs-lookup"><span data-stu-id="0d68e-343">An application can end its own loop by using the [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage) function, typically in response to the [**WM\_DESTROY**](wm-destroy.md) message in the window procedure of the application's main window.</span></span>

<span data-ttu-id="0d68e-344">Si vous spécifiez un handle de fenêtre comme deuxième paramètre de [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), seuls les messages de la fenêtre spécifiée sont récupérés à partir de la file d’attente.</span><span class="sxs-lookup"><span data-stu-id="0d68e-344">If you specify a window handle as the second parameter of [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), only messages for the specified window are retrieved from the queue.</span></span> <span data-ttu-id="0d68e-345">**GetMessage** peut également filtrer les messages dans la file d’attente, en extrayant uniquement les messages qui se trouvent dans une plage spécifiée.</span><span class="sxs-lookup"><span data-stu-id="0d68e-345">**GetMessage** can also filter messages in the queue, retrieving only those messages that fall within a specified range.</span></span> <span data-ttu-id="0d68e-346">Pour plus d’informations sur le filtrage des messages, consultez [filtrage](#message-filtering)des messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-346">For more information about filtering messages, see [Message Filtering](#message-filtering).</span></span>

<span data-ttu-id="0d68e-347">La boucle de message d’un thread doit inclure [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage) si le thread doit recevoir l’entrée de caractères à partir du clavier.</span><span class="sxs-lookup"><span data-stu-id="0d68e-347">A thread's message loop must include [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage) if the thread is to receive character input from the keyboard.</span></span> <span data-ttu-id="0d68e-348">Le système génère des messages de clé virtuelle ([**WM \_ keyverse**](/windows/desktop/inputdev/wm-keydown) et [**WM \_ KEYUP**](/windows/desktop/inputdev/wm-keyup)) chaque fois que l’utilisateur appuie sur une touche.</span><span class="sxs-lookup"><span data-stu-id="0d68e-348">The system generates virtual-key messages ([**WM\_KEYDOWN**](/windows/desktop/inputdev/wm-keydown) and [**WM\_KEYUP**](/windows/desktop/inputdev/wm-keyup)) each time the user presses a key.</span></span> <span data-ttu-id="0d68e-349">Un message de clé virtuelle contient un code de clé virtuelle qui identifie la touche qui a été enfoncée, mais pas sa valeur de caractère.</span><span class="sxs-lookup"><span data-stu-id="0d68e-349">A virtual-key message contains a virtual-key code that identifies which key was pressed, but not its character value.</span></span> <span data-ttu-id="0d68e-350">Pour récupérer cette valeur, la boucle de message doit contenir **TranslateMessage**, qui convertit le message de clé virtuelle en message de [**\_ type**](/windows/desktop/inputdev/wm-char)caractère (WM) et le replace dans la file d’attente de messages d’application.</span><span class="sxs-lookup"><span data-stu-id="0d68e-350">To retrieve this value, the message loop must contain **TranslateMessage**, which translates the virtual-key message into a character message ([**WM\_CHAR**](/windows/desktop/inputdev/wm-char)) and places it back into the application message queue.</span></span> <span data-ttu-id="0d68e-351">Le message de caractères peut ensuite être supprimé lors de l’itération suivante de la boucle de message et distribué à une procédure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-351">The character message can then be removed upon a subsequent iteration of the message loop and dispatched to a window procedure.</span></span>

<span data-ttu-id="0d68e-352">La fonction [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) envoie un message à la procédure de fenêtre associée au handle de fenêtre spécifié dans la structure [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-352">The [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) function sends a message to the window procedure associated with the window handle specified in the [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure.</span></span> <span data-ttu-id="0d68e-353">Si le handle de fenêtre est HWND au niveau le **\_ plus** élevé, **DispatchMessage** envoie le message aux procédures de fenêtre de toutes les fenêtres de niveau supérieur dans le système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-353">If the window handle is **HWND\_TOPMOST**, **DispatchMessage** sends the message to the window procedures of all top-level windows in the system.</span></span> <span data-ttu-id="0d68e-354">Si le handle de fenêtre a la **valeur null**, **DispatchMessage** ne fait rien avec le message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-354">If the window handle is **NULL**, **DispatchMessage** does nothing with the message.</span></span>

<span data-ttu-id="0d68e-355">Le thread principal d’une application démarre sa boucle de messages après l’initialisation de l’application et la création d’au moins une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-355">An application's main thread starts its message loop after initializing the application and creating at least one window.</span></span> <span data-ttu-id="0d68e-356">Une fois démarrée, la boucle de message continue de récupérer les messages de la file d’attente de messages du thread et de les distribuer aux fenêtres appropriées.</span><span class="sxs-lookup"><span data-stu-id="0d68e-356">After it is started, the message loop continues to retrieve messages from the thread's message queue and to dispatch them to the appropriate windows.</span></span> <span data-ttu-id="0d68e-357">La boucle de message se termine lorsque la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) supprime le message de [**\_ fermeture WM**](wm-quit.md) de la file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-357">The message loop ends when the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function removes the [**WM\_QUIT**](wm-quit.md) message from the message queue.</span></span>

<span data-ttu-id="0d68e-358">Une seule boucle de message est nécessaire pour une file d’attente de messages, même si une application contient de nombreuses fenêtres.</span><span class="sxs-lookup"><span data-stu-id="0d68e-358">Only one message loop is needed for a message queue, even if an application contains many windows.</span></span> <span data-ttu-id="0d68e-359">[**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) distribue toujours le message à la fenêtre appropriée ; Cela est dû au fait que chaque message de la file d’attente est une structure [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) contenant le descripteur de la fenêtre à laquelle le message appartient.</span><span class="sxs-lookup"><span data-stu-id="0d68e-359">[**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) always dispatches the message to the proper window; this is because each message in the queue is an [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure that contains the handle of the window to which the message belongs.</span></span>

<span data-ttu-id="0d68e-360">Vous pouvez modifier une boucle de messages de différentes façons.</span><span class="sxs-lookup"><span data-stu-id="0d68e-360">You can modify a message loop in a variety of ways.</span></span> <span data-ttu-id="0d68e-361">Par exemple, vous pouvez récupérer des messages de la file d’attente sans les distribuer à une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-361">For example, you can retrieve messages from the queue without dispatching them to a window.</span></span> <span data-ttu-id="0d68e-362">Cela est utile pour les applications qui publient des messages qui ne spécifient pas de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-362">This is useful for applications that post messages not specifying a window.</span></span> <span data-ttu-id="0d68e-363">Vous pouvez également diriger [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) pour rechercher des messages spécifiques, en laissant les autres messages dans la file d’attente.</span><span class="sxs-lookup"><span data-stu-id="0d68e-363">You can also direct [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) to search for specific messages, leaving other messages in the queue.</span></span> <span data-ttu-id="0d68e-364">Cela est utile si vous devez ignorer provisoirement l’ordre FIFO habituel de la file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-364">This is useful if you must temporarily bypass the usual FIFO order of the message queue.</span></span>

<span data-ttu-id="0d68e-365">Une application qui utilise des touches accélérateur doit pouvoir traduire les messages de clavier en messages de commande.</span><span class="sxs-lookup"><span data-stu-id="0d68e-365">An application that uses accelerator keys must be able to translate keyboard messages into command messages.</span></span> <span data-ttu-id="0d68e-366">Pour ce faire, la boucle de message de l’application doit inclure un appel à la fonction [**TranslateAccelerator**](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-366">To do this, the application's message loop must include a call to the [**TranslateAccelerator**](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) function.</span></span> <span data-ttu-id="0d68e-367">Pour plus d’informations sur les touches d’accès rapide, consultez [accélérateurs clavier](/windows/desktop/menurc/keyboard-accelerators).</span><span class="sxs-lookup"><span data-stu-id="0d68e-367">For more information about accelerator keys, see [Keyboard Accelerators](/windows/desktop/menurc/keyboard-accelerators).</span></span>

<span data-ttu-id="0d68e-368">Si un thread utilise une boîte de dialogue non modale, la boucle de message doit inclure la fonction [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) pour que la boîte de dialogue puisse recevoir une entrée au clavier.</span><span class="sxs-lookup"><span data-stu-id="0d68e-368">If a thread uses a modeless dialog box, the message loop must include the [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) function so that the dialog box can receive keyboard input.</span></span>

### <a name="window-procedure"></a><span data-ttu-id="0d68e-369">Procédure de fenêtre</span><span class="sxs-lookup"><span data-stu-id="0d68e-369">Window Procedure</span></span>

<span data-ttu-id="0d68e-370">Une procédure de fenêtre est une fonction qui reçoit et traite tous les messages envoyés à la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-370">A window procedure is a function that receives and processes all messages sent to the window.</span></span> <span data-ttu-id="0d68e-371">Chaque classe de fenêtre a une procédure de fenêtre, et chaque fenêtre créée avec cette classe utilise cette même procédure de fenêtre pour répondre aux messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-371">Every window class has a window procedure, and every window created with that class uses that same window procedure to respond to messages.</span></span>

<span data-ttu-id="0d68e-372">Le système envoie un message à une procédure de fenêtre en passant les données de message en tant qu’arguments à la procédure.</span><span class="sxs-lookup"><span data-stu-id="0d68e-372">The system sends a message to a window procedure by passing the message data as arguments to the procedure.</span></span> <span data-ttu-id="0d68e-373">La procédure de fenêtre exécute ensuite une action appropriée pour le message ; Il vérifie l’identificateur de message et, lors du traitement du message, utilise les informations spécifiées par les paramètres de message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-373">The window procedure then performs an appropriate action for the message; it checks the message identifier and, while processing the message, uses the information specified by the message parameters.</span></span>

<span data-ttu-id="0d68e-374">Une procédure de fenêtre n’ignore généralement pas un message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-374">A window procedure does not usually ignore a message.</span></span> <span data-ttu-id="0d68e-375">S’il ne traite pas un message, il doit renvoyer le message au système pour le traitement par défaut.</span><span class="sxs-lookup"><span data-stu-id="0d68e-375">If it does not process a message, it must send the message back to the system for default processing.</span></span> <span data-ttu-id="0d68e-376">Pour ce faire, la procédure de fenêtre appelle la fonction [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) , qui exécute une action par défaut et retourne un résultat de message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-376">The window procedure does this by calling the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function, which performs a default action and returns a message result.</span></span> <span data-ttu-id="0d68e-377">La procédure de fenêtre doit ensuite retourner cette valeur en tant que résultat de message propre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-377">The window procedure must then return this value as its own message result.</span></span> <span data-ttu-id="0d68e-378">La plupart des procédures de fenêtre traitent simplement quelques messages et les transmettent sur le système en appelant **DefWindowProc**.</span><span class="sxs-lookup"><span data-stu-id="0d68e-378">Most window procedures process just a few messages and pass the others on to the system by calling **DefWindowProc**.</span></span>

<span data-ttu-id="0d68e-379">Étant donné qu’une procédure de fenêtre est partagée par toutes les fenêtres appartenant à la même classe, elle peut traiter des messages pour plusieurs fenêtres différentes.</span><span class="sxs-lookup"><span data-stu-id="0d68e-379">Because a window procedure is shared by all windows belonging to the same class, it can process messages for several different windows.</span></span> <span data-ttu-id="0d68e-380">Pour identifier la fenêtre spécifique affectée par le message, une procédure de fenêtre peut examiner le handle de fenêtre passé avec un message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-380">To identify the specific window affected by the message, a window procedure can examine the window handle passed with a message.</span></span> <span data-ttu-id="0d68e-381">Pour plus d’informations sur les procédures de fenêtre, consultez [procédures de fenêtre](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="0d68e-381">For more information about window procedures, see [Window Procedures](window-procedures.md).</span></span>

## <a name="message-filtering"></a><span data-ttu-id="0d68e-382">Filtrage des messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-382">Message Filtering</span></span>

<span data-ttu-id="0d68e-383">Une application peut choisir des messages spécifiques à récupérer à partir de la file d’attente de messages (tout en ignorant les autres messages) à l’aide de la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) pour spécifier un filtre de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-383">An application can choose specific messages to retrieve from the message queue (while ignoring other messages) by using the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function to specify a message filter.</span></span> <span data-ttu-id="0d68e-384">Le filtre est une plage d’identificateurs de message (spécifiée par un premier et un dernier identificateur), un handle de fenêtre, ou les deux.</span><span class="sxs-lookup"><span data-stu-id="0d68e-384">The filter is a range of message identifiers (specified by a first and last identifier), a window handle, or both.</span></span> <span data-ttu-id="0d68e-385">**GetMessage** et **PeekMessage** utilisent un filtre de messages pour sélectionner les messages à récupérer de la file d’attente.</span><span class="sxs-lookup"><span data-stu-id="0d68e-385">**GetMessage** and **PeekMessage** use a message filter to select which messages to retrieve from the queue.</span></span> <span data-ttu-id="0d68e-386">Le filtrage des messages est utile si une application doit rechercher les messages arrivés plus tard dans la file d’attente dans la file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-386">Message filtering is useful if an application must search the message queue for messages that have arrived later in the queue.</span></span> <span data-ttu-id="0d68e-387">Elle est également utile si une application doit traiter des messages d’entrée (matériel) avant de traiter les messages publiés.</span><span class="sxs-lookup"><span data-stu-id="0d68e-387">It is also useful if an application must process input (hardware) messages before processing posted messages.</span></span>

<span data-ttu-id="0d68e-388">Les constantes **WM \_ keyfirst** et **WM \_ keylast** peuvent être utilisées comme valeurs de filtre pour récupérer tous les messages de clavier. les constantes **WM \_ MOUSEFIRST** et **WM \_ MOUSELAST** peuvent être utilisées pour récupérer tous les messages de la souris.</span><span class="sxs-lookup"><span data-stu-id="0d68e-388">The **WM\_KEYFIRST** and **WM\_KEYLAST** constants can be used as filter values to retrieve all keyboard messages; the **WM\_MOUSEFIRST** and **WM\_MOUSELAST** constants can be used to retrieve all mouse messages.</span></span>

<span data-ttu-id="0d68e-389">Toute application qui filtre des messages doit s’assurer qu’un message qui satisfait au filtre de message peut être publié.</span><span class="sxs-lookup"><span data-stu-id="0d68e-389">Any application that filters messages must ensure that a message satisfying the message filter can be posted.</span></span> <span data-ttu-id="0d68e-390">Par exemple, si une application filtre un message [**WM \_**](/windows/desktop/inputdev/wm-char) dans une fenêtre qui ne reçoit pas d’entrée au clavier, la fonction [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ne retourne pas.</span><span class="sxs-lookup"><span data-stu-id="0d68e-390">For example, if an application filters for a [**WM\_CHAR**](/windows/desktop/inputdev/wm-char) message in a window that does not receive keyboard input, the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function does not return.</span></span> <span data-ttu-id="0d68e-391">Cela a pour effet de « bloquer » l’application.</span><span class="sxs-lookup"><span data-stu-id="0d68e-391">This effectively "hangs" the application.</span></span>

## <a name="posting-and-sending-messages"></a><span data-ttu-id="0d68e-392">Publication et envoi de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-392">Posting and Sending Messages</span></span>

<span data-ttu-id="0d68e-393">Toute application peut poster et envoyer des messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-393">Any application can post and send messages.</span></span> <span data-ttu-id="0d68e-394">Comme le système, une application publie un message en la copiant dans une file d’attente de messages et envoie un message en passant les données de message en tant qu’arguments à une procédure de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-394">Like the system, an application posts a message by copying it to a message queue and sends a message by passing the message data as arguments to a window procedure.</span></span> <span data-ttu-id="0d68e-395">Pour envoyer des messages, une application utilise la fonction [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-395">To post messages, an application uses the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) function.</span></span> <span data-ttu-id="0d68e-396">Une application peut envoyer un message en appelant la fonction [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea)ou [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-396">An application can send a message by calling the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea), or [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) function.</span></span>

### <a name="posting-messages"></a><span data-ttu-id="0d68e-397">Publication des messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-397">Posting Messages</span></span>

<span data-ttu-id="0d68e-398">Une application publie généralement un message pour notifier une fenêtre spécifique afin d’effectuer une tâche.</span><span class="sxs-lookup"><span data-stu-id="0d68e-398">An application typically posts a message to notify a specific window to perform a task.</span></span> <span data-ttu-id="0d68e-399">[**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) crée une structure [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) pour le message et copie le message dans la file d’attente de messages.</span><span class="sxs-lookup"><span data-stu-id="0d68e-399">[**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) creates an [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure for the message and copies the message to the message queue.</span></span> <span data-ttu-id="0d68e-400">La boucle de message de l’application récupère ensuite le message et le distribue à la procédure de fenêtre appropriée.</span><span class="sxs-lookup"><span data-stu-id="0d68e-400">The application's message loop eventually retrieves the message and dispatches it to the appropriate window procedure.</span></span>

<span data-ttu-id="0d68e-401">Une application peut poster un message sans spécifier de fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0d68e-401">An application can post a message without specifying a window.</span></span> <span data-ttu-id="0d68e-402">Si l’application fournit un handle de fenêtre **null** lors de l’appel de [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea), le message est publié dans la file d’attente associée au thread actuel.</span><span class="sxs-lookup"><span data-stu-id="0d68e-402">If the application supplies a **NULL** window handle when calling [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea), the message is posted to the queue associated with the current thread.</span></span> <span data-ttu-id="0d68e-403">Comme aucun descripteur de fenêtre n’est spécifié, l’application doit traiter le message dans la boucle de message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-403">Because no window handle is specified, the application must process the message in the message loop.</span></span> <span data-ttu-id="0d68e-404">Il s’agit d’une façon de créer un message qui s’applique à l’application entière, plutôt qu’à une fenêtre spécifique.</span><span class="sxs-lookup"><span data-stu-id="0d68e-404">This is one way to create a message that applies to the entire application, instead of to a specific window.</span></span>

<span data-ttu-id="0d68e-405">Il peut arriver que vous souhaitiez poster un message à toutes les fenêtres de niveau supérieur du système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-405">Occasionally, you may want to post a message to all top-level windows in the system.</span></span> <span data-ttu-id="0d68e-406">Une application peut envoyer un message à toutes les fenêtres de niveau supérieur en appelant [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) et en spécifiant HWND au niveau le **\_ plus** élevé dans le paramètre *HWND* .</span><span class="sxs-lookup"><span data-stu-id="0d68e-406">An application can post a message to all top-level windows by calling [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) and specifying **HWND\_TOPMOST** in the *hwnd* parameter.</span></span>

<span data-ttu-id="0d68e-407">Une erreur de programmation courante consiste à supposer que la fonction [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) publie toujours un message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-407">A common programming error is to assume that the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) function always posts a message.</span></span> <span data-ttu-id="0d68e-408">Cela n’est pas vrai lorsque la file d’attente de messages est pleine.</span><span class="sxs-lookup"><span data-stu-id="0d68e-408">This is not true when the message queue is full.</span></span> <span data-ttu-id="0d68e-409">Une application doit vérifier la valeur de retour de la fonction **PostMessage** pour déterminer si le message a été publié et, si ce n’est pas le cas, la republier.</span><span class="sxs-lookup"><span data-stu-id="0d68e-409">An application should check the return value of the **PostMessage** function to determine whether the message has been posted and, if it has not been, repost it.</span></span>

### <a name="sending-messages"></a><span data-ttu-id="0d68e-410">sending messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-410">Sending Messages</span></span>

<span data-ttu-id="0d68e-411">Une application envoie généralement un message pour notifier une procédure de fenêtre à l’exécution immédiate d’une tâche.</span><span class="sxs-lookup"><span data-stu-id="0d68e-411">An application typically sends a message to notify a window procedure to perform a task immediately.</span></span> <span data-ttu-id="0d68e-412">La fonction [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) envoie le message à la procédure de fenêtre correspondant à la fenêtre spécifiée.</span><span class="sxs-lookup"><span data-stu-id="0d68e-412">The [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function sends the message to the window procedure corresponding to the given window.</span></span> <span data-ttu-id="0d68e-413">La fonction attend que la procédure de fenêtre termine le traitement, puis retourne le résultat du message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-413">The function waits until the window procedure completes processing and then returns the message result.</span></span> <span data-ttu-id="0d68e-414">Les fenêtres parent et enfant communiquent souvent en envoyant des messages entre eux.</span><span class="sxs-lookup"><span data-stu-id="0d68e-414">Parent and child windows often communicate by sending messages to each other.</span></span> <span data-ttu-id="0d68e-415">Par exemple, une fenêtre parente dotée d’un contrôle d’édition comme fenêtre enfant peut définir le texte du contrôle en lui envoyant un message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-415">For example, a parent window that has an edit control as its child window can set the text of the control by sending a message to it.</span></span> <span data-ttu-id="0d68e-416">Le contrôle peut notifier la fenêtre parente des modifications apportées au texte par l’utilisateur en renvoyant des messages au parent.</span><span class="sxs-lookup"><span data-stu-id="0d68e-416">The control can notify the parent window of changes to the text that are carried out by the user by sending messages back to the parent.</span></span>

<span data-ttu-id="0d68e-417">La fonction [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) envoie également un message à la procédure de fenêtre correspondant à la fenêtre donnée.</span><span class="sxs-lookup"><span data-stu-id="0d68e-417">The [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) function also sends a message to the window procedure corresponding to the given window.</span></span> <span data-ttu-id="0d68e-418">Toutefois, cette fonction est retournée immédiatement.</span><span class="sxs-lookup"><span data-stu-id="0d68e-418">However, this function returns immediately.</span></span> <span data-ttu-id="0d68e-419">Une fois que la procédure de fenêtre a traité le message, le système appelle la fonction de rappel spécifiée.</span><span class="sxs-lookup"><span data-stu-id="0d68e-419">After the window procedure processes the message, the system calls the specified callback function.</span></span> <span data-ttu-id="0d68e-420">Pour plus d’informations sur la fonction de rappel, consultez la fonction [**SendAsyncProc**](/windows/win32/api/winuser/nc-winuser-sendasyncproc) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-420">For more information about the callback function, see the [**SendAsyncProc**](/windows/win32/api/winuser/nc-winuser-sendasyncproc) function.</span></span>

<span data-ttu-id="0d68e-421">Il peut arriver que vous souhaitiez envoyer un message à toutes les fenêtres de niveau supérieur du système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-421">Occasionally, you may want to send a message to all top-level windows in the system.</span></span> <span data-ttu-id="0d68e-422">Par exemple, si l’application modifie l’heure système, elle doit notifier à toutes les fenêtres de niveau supérieur la modification en envoyant un message [**WM \_ TIMECHANGE**](../sysinfo/wm-timechange.md) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-422">For example, if the application changes the system time, it must notify all top-level windows about the change by sending a [**WM\_TIMECHANGE**](../sysinfo/wm-timechange.md) message.</span></span> <span data-ttu-id="0d68e-423">Une application peut envoyer un message à toutes les fenêtres de niveau supérieur en appelant [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) et en spécifiant HWND en haut du paramètre *HWND* . **\_**</span><span class="sxs-lookup"><span data-stu-id="0d68e-423">An application can send a message to all top-level windows by calling [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) and specifying **HWND\_TOPMOST** in the *hwnd* parameter.</span></span> <span data-ttu-id="0d68e-424">Vous pouvez également diffuser un message à toutes les applications en appelant la fonction [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) et en spécifiant des **\_ applications BSM** dans le paramètre *lpdwRecipients* .</span><span class="sxs-lookup"><span data-stu-id="0d68e-424">You can also broadcast a message to all applications by calling the [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) function and specifying **BSM\_APPLICATIONS** in the *lpdwRecipients* parameter.</span></span>

<span data-ttu-id="0d68e-425">À l’aide de la fonction [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) ou [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) , une procédure de fenêtre peut déterminer si elle traite un message envoyé par un autre thread.</span><span class="sxs-lookup"><span data-stu-id="0d68e-425">By using the [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) or [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) function, a window procedure can determine whether it is processing a message sent by another thread.</span></span> <span data-ttu-id="0d68e-426">Cette fonctionnalité est utile lorsque le traitement des messages dépend de l’origine du message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-426">This capability is useful when message processing depends on the origin of the message.</span></span>

## <a name="message-deadlocks"></a><span data-ttu-id="0d68e-427">Blocages de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-427">Message Deadlocks</span></span>

<span data-ttu-id="0d68e-428">Un thread qui appelle la fonction [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) pour envoyer un message à un autre thread ne peut pas continuer à s’exécuter tant que la procédure de fenêtre qui reçoit le message n’est pas retournée.</span><span class="sxs-lookup"><span data-stu-id="0d68e-428">A thread that calls the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function to send a message to another thread cannot continue executing until the window procedure that receives the message returns.</span></span> <span data-ttu-id="0d68e-429">Si le thread de réception produit le contrôle lors du traitement du message, le thread d’envoi ne peut pas continuer à s’exécuter, car il attend que **SendMessage** retourne.</span><span class="sxs-lookup"><span data-stu-id="0d68e-429">If the receiving thread yields control while processing the message, the sending thread cannot continue executing, because it is waiting for **SendMessage** to return.</span></span> <span data-ttu-id="0d68e-430">Si le thread de réception est attaché à la même file d’attente que l’expéditeur, il peut provoquer un blocage de l’application.</span><span class="sxs-lookup"><span data-stu-id="0d68e-430">If the receiving thread is attached to the same queue as the sender, it can cause an application deadlock to occur.</span></span> <span data-ttu-id="0d68e-431">(Notez que les crochets de journal attachent des threads à la même file d’attente.)</span><span class="sxs-lookup"><span data-stu-id="0d68e-431">(Note that journal hooks attach threads to the same queue.)</span></span>

<span data-ttu-id="0d68e-432">Notez que le thread de réception n’a pas besoin d’obtenir un contrôle explicite ; l’appel de l’une des fonctions suivantes peut provoquer le contrôle implicite d’un thread.</span><span class="sxs-lookup"><span data-stu-id="0d68e-432">Note that the receiving thread need not yield control explicitly; calling any of the following functions can cause a thread to yield control implicitly.</span></span>

-   [<span data-ttu-id="0d68e-433">**DialogBox**</span><span class="sxs-lookup"><span data-stu-id="0d68e-433">**DialogBox**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxa)
-   [<span data-ttu-id="0d68e-434">**DialogBoxIndirect**</span><span class="sxs-lookup"><span data-stu-id="0d68e-434">**DialogBoxIndirect**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxindirecta)
-   [<span data-ttu-id="0d68e-435">**DialogBoxIndirectParam**</span><span class="sxs-lookup"><span data-stu-id="0d68e-435">**DialogBoxIndirectParam**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxindirectparama)
-   [<span data-ttu-id="0d68e-436">**DialogBoxParam**</span><span class="sxs-lookup"><span data-stu-id="0d68e-436">**DialogBoxParam**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxparama)
-   [<span data-ttu-id="0d68e-437">**GetMessage**</span><span class="sxs-lookup"><span data-stu-id="0d68e-437">**GetMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-getmessage)
-   [<span data-ttu-id="0d68e-438">**MessageBox**</span><span class="sxs-lookup"><span data-stu-id="0d68e-438">**MessageBox**</span></span>](/windows/desktop/api/winuser/nf-winuser-messagebox)
-   [<span data-ttu-id="0d68e-439">**PeekMessage**</span><span class="sxs-lookup"><span data-stu-id="0d68e-439">**PeekMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-peekmessagea)
-   [<span data-ttu-id="0d68e-440">**SendMessage**</span><span class="sxs-lookup"><span data-stu-id="0d68e-440">**SendMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-sendmessage)

<span data-ttu-id="0d68e-441">Pour éviter les interblocages potentiels dans votre application, envisagez d’utiliser les fonctions [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) ou [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-441">To avoid potential deadlocks in your application, consider using the [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) or [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta) functions.</span></span> <span data-ttu-id="0d68e-442">Dans le cas contraire, une procédure de fenêtre peut déterminer si un message reçu a été envoyé par un autre thread en appelant la fonction [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) ou [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-442">Otherwise, a window procedure can determine whether a message it has received was sent by another thread by calling the [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) or [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) function.</span></span> <span data-ttu-id="0d68e-443">Avant d’appeler l’une des fonctions de la liste précédente lors du traitement d’un message, la procédure de fenêtre doit d’abord appeler **InSendMessage** ou **InSendMessageEx**.</span><span class="sxs-lookup"><span data-stu-id="0d68e-443">Before calling any of the functions in the preceding list while processing a message, the window procedure should first call **InSendMessage** or **InSendMessageEx**.</span></span> <span data-ttu-id="0d68e-444">Si cette fonction retourne la **valeur true**, la procédure de fenêtre doit appeler la fonction [**replyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage) avant toute fonction qui amène le thread à donner le contrôle.</span><span class="sxs-lookup"><span data-stu-id="0d68e-444">If this function returns **TRUE**, the window procedure must call the [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage) function before any function that causes the thread to yield control.</span></span>

## <a name="broadcasting-messages"></a><span data-ttu-id="0d68e-445">Diffusion de messages</span><span class="sxs-lookup"><span data-stu-id="0d68e-445">Broadcasting Messages</span></span>

<span data-ttu-id="0d68e-446">Chaque message se compose d’un identificateur de message et de deux paramètres, *wParam* et *lParam*.</span><span class="sxs-lookup"><span data-stu-id="0d68e-446">Each message consists of a message identifier and two parameters, *wParam* and *lParam*.</span></span> <span data-ttu-id="0d68e-447">L’identificateur de message est une valeur unique qui spécifie l’objet du message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-447">The message identifier is a unique value that specifies the message purpose.</span></span> <span data-ttu-id="0d68e-448">Les paramètres fournissent des informations supplémentaires spécifiques au message, mais le paramètre *wParam* est généralement une valeur de type qui fournit des informations supplémentaires sur le message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-448">The parameters provide additional information that is message-specific, but the *wParam* parameter is generally a type value that provides more information about the message.</span></span>

<span data-ttu-id="0d68e-449">La *diffusion* d’un message est simplement l’envoi d’un message à plusieurs destinataires dans le système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-449">A *message broadcast* is simply the sending of a message to multiple recipients in the system.</span></span> <span data-ttu-id="0d68e-450">Pour diffuser un message à partir d’une application, utilisez la fonction [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) , en spécifiant les destinataires du message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-450">To broadcast a message from an application, use the [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) function, specifying the recipients of the message.</span></span> <span data-ttu-id="0d68e-451">Au lieu de spécifier des destinataires individuels, vous devez spécifier un ou plusieurs types de destinataires.</span><span class="sxs-lookup"><span data-stu-id="0d68e-451">Rather than specify individual recipients, you must specify one or more types of recipients.</span></span> <span data-ttu-id="0d68e-452">Ces types sont les applications, les pilotes installables, les pilotes réseau et les pilotes de périphérique au niveau du système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-452">These types are applications, installable drivers, network drivers, and system-level device drivers.</span></span> <span data-ttu-id="0d68e-453">Le système envoie des messages de diffusion à tous les membres de chaque type spécifié.</span><span class="sxs-lookup"><span data-stu-id="0d68e-453">The system sends broadcast messages to all members of each specified type.</span></span>

<span data-ttu-id="0d68e-454">En général, le système diffuse des messages en réponse à des modifications qui ont lieu dans des pilotes de périphérique au niveau du système ou des composants associés.</span><span class="sxs-lookup"><span data-stu-id="0d68e-454">The system typically broadcasts messages in response to changes that take place within system-level device drivers or related components.</span></span> <span data-ttu-id="0d68e-455">Le pilote ou le composant associé diffuse le message aux applications et autres composants pour les notifier de la modification.</span><span class="sxs-lookup"><span data-stu-id="0d68e-455">The driver or related component broadcasts the message to applications and other components to notify them of the change.</span></span> <span data-ttu-id="0d68e-456">Par exemple, le composant responsable des lecteurs de disque diffuse un message chaque fois que le pilote de périphérique pour le lecteur de disquette détecte un changement de support, par exemple lorsque l’utilisateur insère un disque dans le lecteur.</span><span class="sxs-lookup"><span data-stu-id="0d68e-456">For example, the component responsible for disk drives broadcasts a message whenever the device driver for the floppy disk drive detects a change of media such as when the user inserts a disk in the drive.</span></span>

<span data-ttu-id="0d68e-457">Le système diffuse les messages aux destinataires dans l’ordre suivant : pilotes de périphérique au niveau système, pilotes réseau, pilotes installables et applications.</span><span class="sxs-lookup"><span data-stu-id="0d68e-457">The system broadcasts messages to recipients in this order: system-level device drivers, network drivers, installable drivers, and applications.</span></span> <span data-ttu-id="0d68e-458">Cela signifie que les pilotes de périphérique au niveau du système, s’ils sont choisis comme destinataires, ont toujours la première opportunité de répondre à un message.</span><span class="sxs-lookup"><span data-stu-id="0d68e-458">This means that system-level device drivers, if chosen as recipients, always get the first opportunity to respond to a message.</span></span> <span data-ttu-id="0d68e-459">Dans un type de destinataire donné, il n’est pas garanti que le pilote reçoive un message donné avant tout autre pilote.</span><span class="sxs-lookup"><span data-stu-id="0d68e-459">Within a given recipient type, no driver is guaranteed to receive a given message before any other driver.</span></span> <span data-ttu-id="0d68e-460">Cela signifie qu’un message destiné à un pilote spécifique doit avoir un identificateur de message global unique, de sorte qu’aucun autre pilote ne le traite involontairement.</span><span class="sxs-lookup"><span data-stu-id="0d68e-460">This means that a message intended for a specific driver must have a globally-unique message identifier so that no other driver unintentionally processes it.</span></span>

<span data-ttu-id="0d68e-461">Vous pouvez également diffuser des messages à toutes les fenêtres de niveau supérieur en spécifiant la **\_ diffusion HWND** dans la fonction [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)ou [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) .</span><span class="sxs-lookup"><span data-stu-id="0d68e-461">You can also broadcast messages to all top-level windows by specifying **HWND\_BROADCAST** in the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), or [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) function.</span></span>

<span data-ttu-id="0d68e-462">Les applications reçoivent des messages via la procédure de fenêtre de leurs fenêtres de niveau supérieur.</span><span class="sxs-lookup"><span data-stu-id="0d68e-462">Applications receive messages through the window procedure of their top-level windows.</span></span> <span data-ttu-id="0d68e-463">Les messages ne sont pas envoyés aux fenêtres enfants.</span><span class="sxs-lookup"><span data-stu-id="0d68e-463">Messages are not sent to child windows.</span></span> <span data-ttu-id="0d68e-464">Les services peuvent recevoir des messages par le biais d’une procédure de fenêtre ou de leurs gestionnaires de contrôle de service.</span><span class="sxs-lookup"><span data-stu-id="0d68e-464">Services can receive messages through a window procedure or their service control handlers.</span></span>

> [!Note]  
> <span data-ttu-id="0d68e-465">Les pilotes de périphérique au niveau système utilisent une fonction de niveau système associée pour diffuser les messages système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-465">System-level device drivers use a related, system-level function to broadcast system messages.</span></span>

 

## <a name="query-messages"></a><span data-ttu-id="0d68e-466">Messages de requête</span><span class="sxs-lookup"><span data-stu-id="0d68e-466">Query Messages</span></span>

<span data-ttu-id="0d68e-467">Vous pouvez créer vos propres messages personnalisés et les utiliser pour coordonner les activités entre vos applications et d’autres composants du système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-467">You can create your own custom messages and use them to coordinate activities between your applications and other components in the system.</span></span> <span data-ttu-id="0d68e-468">Cela s’avère particulièrement utile si vous avez créé vos propres pilotes installables ou pilotes de périphérique au niveau du système.</span><span class="sxs-lookup"><span data-stu-id="0d68e-468">This is especially useful if you have created your own installable drivers or system-level device drivers.</span></span> <span data-ttu-id="0d68e-469">Vos messages personnalisés peuvent transporter des informations vers et à partir de votre pilote et des applications qui utilisent le pilote.</span><span class="sxs-lookup"><span data-stu-id="0d68e-469">Your custom messages can carry information to and from your driver and the applications that use the driver.</span></span>

<span data-ttu-id="0d68e-470">Pour interroger les destinataires afin d’obtenir l’autorisation d’effectuer une action donnée, utilisez un *message de requête*.</span><span class="sxs-lookup"><span data-stu-id="0d68e-470">To poll recipients for permission to carry out a given action, use a *query message*.</span></span> <span data-ttu-id="0d68e-471">Vous pouvez générer vos propres messages de requête en définissant la valeur de **\_ requête BSF** dans le paramètre *dwFlags* lors de l’appel de [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage).</span><span class="sxs-lookup"><span data-stu-id="0d68e-471">You can generate your own query messages by setting the **BSF\_QUERY** value in the *dwFlags* parameter when calling [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage).</span></span> <span data-ttu-id="0d68e-472">Chaque destinataire du message de requête doit retourner la **valeur true** pour que la fonction envoie le message au destinataire suivant.</span><span class="sxs-lookup"><span data-stu-id="0d68e-472">Each recipient of the query message must return **TRUE** for the function to send the message to the next recipient.</span></span> <span data-ttu-id="0d68e-473">Si un destinataire retourne **la \_ requête \_ de diffusion Deny**, la diffusion se termine immédiatement et la fonction retourne un zéro.</span><span class="sxs-lookup"><span data-stu-id="0d68e-473">If any recipient returns **BROADCAST\_QUERY\_DENY**, the broadcast ends immediately and the function returns a zero.</span></span>

 

 
