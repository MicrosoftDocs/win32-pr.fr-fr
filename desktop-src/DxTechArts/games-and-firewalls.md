---
title: Pare-feu Windows pour les développeurs de jeux
description: 'Cet article décrit le pare-feu Windows : pourquoi il existe, ce qu’il accomplit et de quelle manière. Plus important encore, il décrit comment configurer votre jeu pour qu’il fonctionne correctement avec le pare-feu.'
ms.assetid: 2ee9f769-03dc-3661-5d5b-6a4ecd151fd5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 15c7ff3c9b651b6264703732f0eec57054784034
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/30/2021
ms.locfileid: "113120234"
---
# <a name="windows-firewall-for-game-developers"></a><span data-ttu-id="704f9-104">Pare-feu Windows pour les développeurs de jeux</span><span class="sxs-lookup"><span data-stu-id="704f9-104">Windows Firewall for Game Developers</span></span>

<span data-ttu-id="704f9-105">Cet article décrit le pare-feu Windows : pourquoi il existe, ce qu’il accomplit et de quelle manière.</span><span class="sxs-lookup"><span data-stu-id="704f9-105">This article describes the Windows Firewall - why it exists, what it accomplishes, and how it does so.</span></span> <span data-ttu-id="704f9-106">Plus important encore, il décrit comment configurer votre jeu pour qu’il fonctionne correctement avec le pare-feu.</span><span class="sxs-lookup"><span data-stu-id="704f9-106">Most importantly, it describes how to configure your game to work well with the firewall.</span></span>

<span data-ttu-id="704f9-107">Contenu :</span><span class="sxs-lookup"><span data-stu-id="704f9-107">Contents:</span></span>

-   [<span data-ttu-id="704f9-108">Qu’est-ce qu’un pare-feu ?</span><span class="sxs-lookup"><span data-stu-id="704f9-108">What is a Firewall?</span></span>](#what-is-a-firewall)
-   [<span data-ttu-id="704f9-109">Comment puis-je savoir si mon jeu est affecté ?</span><span class="sxs-lookup"><span data-stu-id="704f9-109">How can I tell if my game is affected?</span></span>](#how-can-i-tell-if-my-game-is-affected)
-   [<span data-ttu-id="704f9-110">Le pare-feu avant Windows XP SP2</span><span class="sxs-lookup"><span data-stu-id="704f9-110">The Firewall Before Windows XP SP2</span></span>](#the-firewall-before-windows-xp-sp2)
-   [<span data-ttu-id="704f9-111">Le pare-feu Windows XP SP2 est plus performant</span><span class="sxs-lookup"><span data-stu-id="704f9-111">Windows XP SP2 Firewall Is Better</span></span>](#windows-xp-sp2-firewall-is-better)
-   [<span data-ttu-id="704f9-112">Utilisation du pare-feu Windows</span><span class="sxs-lookup"><span data-stu-id="704f9-112">Working with the Windows Firewall</span></span>](#working-with-the-windows-firewall)
-   [<span data-ttu-id="704f9-113">Intégration à l’aide d’InstallShield InstallScript</span><span class="sxs-lookup"><span data-stu-id="704f9-113">Integrating using InstallShield InstallScript</span></span>](#integrating-using-installshield-installscript)
-   [<span data-ttu-id="704f9-114">Intégration à Wise pour Windows Installer</span><span class="sxs-lookup"><span data-stu-id="704f9-114">Integrating into Wise for Windows Installer</span></span>](#integrating-into-wise-for-windows-installer)
-   [<span data-ttu-id="704f9-115">Intégration dans Windows Installer</span><span class="sxs-lookup"><span data-stu-id="704f9-115">Integrating into Windows Installer</span></span>](#integrating-into-windows-installer)
-   [<span data-ttu-id="704f9-116">Recommandations</span><span class="sxs-lookup"><span data-stu-id="704f9-116">Recommendations</span></span>](#recommendations)

## <a name="what-is-a-firewall"></a><span data-ttu-id="704f9-117">Qu’est-ce qu’un pare-feu ?</span><span class="sxs-lookup"><span data-stu-id="704f9-117">What is a Firewall?</span></span>

<span data-ttu-id="704f9-118">Le pare-feu offre une barrière contre les intrusions basées sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="704f9-118">The firewall provides a barrier against network-based intrusions.</span></span> <span data-ttu-id="704f9-119">Il bloque le trafic entrant non sollicité et rend le système pratiquement invisible sur Internet en rejetant les demandes ICMP (Internet Control Message Protocol).</span><span class="sxs-lookup"><span data-stu-id="704f9-119">It blocks unsolicited incoming traffic, and makes the system mostly invisible on the internet by rejecting Internet Control Message Protocol (ICMP) requests.</span></span> <span data-ttu-id="704f9-120">Cela signifie que les commandes ping et tracert ne fonctionneront pas.</span><span class="sxs-lookup"><span data-stu-id="704f9-120">This means that ping and tracert will not work.</span></span> <span data-ttu-id="704f9-121">Le pare-feu recherche et rejette également les paquets non valides.</span><span class="sxs-lookup"><span data-stu-id="704f9-121">The firewall also looks and rejects invalid packets.</span></span>

<span data-ttu-id="704f9-122">Cette barrière empêche les attaques opportunistes.</span><span class="sxs-lookup"><span data-stu-id="704f9-122">This barrier prevents opportunistic attacks.</span></span> <span data-ttu-id="704f9-123">Les attaques se répandent en recherchant de nombreux systèmes avec la même vulnérabilité.</span><span class="sxs-lookup"><span data-stu-id="704f9-123">Attacks spread by finding many systems with the same vulnerability.</span></span> <span data-ttu-id="704f9-124">Le pare-feu peut contrecarrer de nombreuses attaques en plaçant un signe « ne pas déranger » pour les fonctionnalités qui ne sont pas en cours d’utilisation. l’attaque est ignorée et n’est pas à la racine.</span><span class="sxs-lookup"><span data-stu-id="704f9-124">The firewall can thwart many attacks by putting up a "do not disturb" sign for those features not currently in use; the attack is ignored and does not strike home.</span></span> <span data-ttu-id="704f9-125">L’avantage essentiel du pare-feu Windows est que les fonctionnalités et les applications qui ne sont pas utilisées ne peuvent pas être des brèches pour les attaques.</span><span class="sxs-lookup"><span data-stu-id="704f9-125">The essential benefit of the Windows Firewall is that features and applications that are not in use cannot be avenues for attack.</span></span>

<span data-ttu-id="704f9-126">L’utilisateur configure le système pour identifier les applications et les fonctionnalités nécessaires et doit être ouvert sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="704f9-126">The user configures the system to identify what applications and features are needed and should be open to the network.</span></span> <span data-ttu-id="704f9-127">Cela se produit lorsqu’une application est installée ou lorsqu’elle essaie de s’ouvrir sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="704f9-127">This happens either when an application is installed or when it tries to open itself to the network.</span></span>

## <a name="how-can-i-tell-if-my-game-is-affected"></a><span data-ttu-id="704f9-128">Comment puis-je savoir si mon jeu est affecté ?</span><span class="sxs-lookup"><span data-stu-id="704f9-128">How can I tell if my game is affected?</span></span>

<span data-ttu-id="704f9-129">Avec l’arrivée de Windows XP SP2, le pare-feu Windows a été largement déployé.</span><span class="sxs-lookup"><span data-stu-id="704f9-129">With the arrival of Windows XP SP2, the Windows Firewall has been widely deployed.</span></span> <span data-ttu-id="704f9-130">Tous les jeux Windows multijoueur sont affectés à un certain degré.</span><span class="sxs-lookup"><span data-stu-id="704f9-130">All multiplayer Windows games are affected to some degree.</span></span> <span data-ttu-id="704f9-131">Alors que les clients sont généralement de forme correcte, les serveurs, les hôtes et les pairs de pair à pair requièrent que le pare-feu soit configuré pour continuer à fonctionner.</span><span class="sxs-lookup"><span data-stu-id="704f9-131">While clients are generally in good shape, servers, hosts, and peers in peer-to-peer all need the firewall configured to continue working.</span></span> <span data-ttu-id="704f9-132">Plus précisément, le trafic entrant non sollicité est abandonné.</span><span class="sxs-lookup"><span data-stu-id="704f9-132">Specifically, incoming unsolicited traffic is dropped.</span></span> <span data-ttu-id="704f9-133">Le pare-feu intercepte les paquets de filtre du trafic réseau en fonction du contenu du paquet et de l’activité réseau récente.</span><span class="sxs-lookup"><span data-stu-id="704f9-133">The firewall intercepts network-traffic filter packets based on the packet contents and recent network activity.</span></span> <span data-ttu-id="704f9-134">Le pare-feu utilise le contenu et l’activité pour décider de transférer ou de supprimer un paquet.</span><span class="sxs-lookup"><span data-stu-id="704f9-134">The firewall uses the contents and activity to decide to forward or drop a packet.</span></span> <span data-ttu-id="704f9-135">Une fois le pare-feu correctement configuré, un jeu est en mesure d’accepter le trafic entrant non sollicité comme avant.</span><span class="sxs-lookup"><span data-stu-id="704f9-135">Once the firewall is properly configured, a game will be able to accept inbound unsolicited traffic as before.</span></span>

<span data-ttu-id="704f9-136">Qui a le trafic entrant non sollicité ?</span><span class="sxs-lookup"><span data-stu-id="704f9-136">Who has inbound unsolicited traffic?</span></span>

-   <span data-ttu-id="704f9-137">Client/serveur : tous les participants se connectent à un serveur central.</span><span class="sxs-lookup"><span data-stu-id="704f9-137">Client/Server: All participants connect to a central server.</span></span> <span data-ttu-id="704f9-138">Le serveur central est celui avec le trafic entrant non sollicité.</span><span class="sxs-lookup"><span data-stu-id="704f9-138">The central server is the one with incoming unsolicited traffic.</span></span> <span data-ttu-id="704f9-139">Les clients qui se connectent au serveur sollicitent le trafic de retour, ce qui est attendu et est autorisé à traverser le pare-feu si les règles pour les clients sont respectées.</span><span class="sxs-lookup"><span data-stu-id="704f9-139">The clients connecting to the server are soliciting return traffic, which is expected and is allowed to pass through the firewall if the rules for clients are followed.</span></span> <span data-ttu-id="704f9-140">Le serveur central doit être configuré pour accepter le trafic non sollicité afin d’autoriser le trafic client à traverser le pare-feu.</span><span class="sxs-lookup"><span data-stu-id="704f9-140">The central server must be configured to accept the unsolicited traffic to allow the client traffic to pass through the firewall.</span></span>
-   <span data-ttu-id="704f9-141">Massivement multijoueur (MMP) : tous les participants sont connectés à un centre de données.</span><span class="sxs-lookup"><span data-stu-id="704f9-141">Massively Multiplayer (MMP): All participants are connected to a data center.</span></span> <span data-ttu-id="704f9-142">Il s’agit d’une relation client/serveur complexe, car le centre de données a le trafic entrant non sollicité.</span><span class="sxs-lookup"><span data-stu-id="704f9-142">This amounts to a complex client/server relationship, as the data center has the inbound unsolicited traffic.</span></span> <span data-ttu-id="704f9-143">Les participants sont des clients et, en général, n’ont pas besoin d’accepter le trafic non sollicité.</span><span class="sxs-lookup"><span data-stu-id="704f9-143">The participants are clients, and in general do not need to accept unsolicited traffic.</span></span>
-   <span data-ttu-id="704f9-144">Pair à pair, où tous les participants sont connectés directement : tous les participants doivent être prêts à accepter le trafic non sollicité de la part de tout nouveau joueur qui rejoint le groupe.</span><span class="sxs-lookup"><span data-stu-id="704f9-144">Peer-to-Peer, where all participants are connected to each other directly: All participants must be ready to accept unsolicited traffic from any new player joining the group.</span></span> <span data-ttu-id="704f9-145">Dans un sens, chacun des participants doit fonctionner comme un hôte, de sorte qu’ils doivent tous être configurés comme s’ils étaient des hôtes.</span><span class="sxs-lookup"><span data-stu-id="704f9-145">In a sense, each of the participants must function as a host, so they must all be configured as if they were hosts.</span></span>

<span data-ttu-id="704f9-146">Les clients sont généralement en bonne forme.</span><span class="sxs-lookup"><span data-stu-id="704f9-146">Clients are generally in good shape.</span></span> <span data-ttu-id="704f9-147">Leurs connexions TCP/IP (Transmission Control Protocol/Internet Protocol) sortantes fonctionneront correctement, de même que les messages UDP (User Datagram Protocol) sortants, ainsi que les réponses à ces messages. le pare-feu maintient le port ouvert pendant 90 secondes après chaque message sortant en prévision d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="704f9-147">Their outgoing Transmission Control Protocol/Internet Protocol (TCP/IP) connections will work fine, as will outgoing User Datagram Protocol (UDP) messages along with timely responses to those messages - the firewall keeps the port open for 90 seconds after each outgoing message in anticipation of a reply.</span></span>

## <a name="the-firewall-before-windows-xp-sp2"></a><span data-ttu-id="704f9-148">Le pare-feu avant Windows XP SP2</span><span class="sxs-lookup"><span data-stu-id="704f9-148">The Firewall Before Windows XP SP2</span></span>

<span data-ttu-id="704f9-149">Le pare-feu de connexion Internet (ICF) de Windows XP et de Windows Server 2003 est un filtre de paquets avec état, et gère le protocole Internet version 4 (IPv4) et le protocole Internet version 6 (IPv6).</span><span class="sxs-lookup"><span data-stu-id="704f9-149">The Internet Connection Firewall (ICF) in Windows XP and Windows Server 2003 is a stateful packet filter, and handles both Internet Protocol, version 4 (IPv4) and Internet Protocol, version 6 (IPv6).</span></span> <span data-ttu-id="704f9-150">Toutefois, il n’est pas activé par défaut et ne prend pas en charge les piles réseau tierces, dont il existe un nombre important dans le monde, tel que les fournisseurs de services Internet importants, y compris les sociétés de téléphone nationales.</span><span class="sxs-lookup"><span data-stu-id="704f9-150">However, it is not on by default and does not support 3rd party network stacks, of which there are a significant number in the world, such as large internet providers including national telephone companies.</span></span>

<span data-ttu-id="704f9-151">Pour ceux qui ne sont pas sur Windows XP SP2, il est fortement recommandé d’activer le pare-feu de connexion Internet.</span><span class="sxs-lookup"><span data-stu-id="704f9-151">For those not on Windows XP SP2, turning on the ICF is highly recommended.</span></span> <span data-ttu-id="704f9-152">Consultez les instructions « utiliser un pare-feu Internet » lors de https://www.microsoft.com/security/protect la première étape de la sécurisation de votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="704f9-152">See the instructions "Use an Internet Firewall" on https://www.microsoft.com/security/protect as the first step to securing your PC.</span></span> <span data-ttu-id="704f9-153">Le pare-feu de connexion Internet (ICF) fournit un mappage de port pour remplacer le filtre de paquets.</span><span class="sxs-lookup"><span data-stu-id="704f9-153">The Internet Connection Firewall (ICF) provides port mapping to override the packet filter.</span></span> <span data-ttu-id="704f9-154">Pour l’essentiel, vous spécifiez le port à ouvrir et il reste ouvert jusqu’à ce que vous le fermiez.</span><span class="sxs-lookup"><span data-stu-id="704f9-154">Essentially, you specify the port to open and it remains opened until you close it.</span></span> <span data-ttu-id="704f9-155">Si l’utilisateur redémarre avant qu’il ne soit fermé, il restera ouvert jusqu’à ce qu’il soit fermé spécifiquement.</span><span class="sxs-lookup"><span data-stu-id="704f9-155">If the user reboots before it is closed, it will remain open until specifically closed.</span></span> <span data-ttu-id="704f9-156">Le contrôle du pare-feu et la gestion des mappages de port s’effectuent via [**INetSharingManager**](/previous-versions/windows/desktop/api/netcon/nn-netcon-inetsharingmanager) (IPv4) et [**INetFwV6Mgr**](/previous-versions/windows/desktop/ics/inetfwv6mgr) (IPv6).</span><span class="sxs-lookup"><span data-stu-id="704f9-156">The control of the firewall and the management of the port mappings is done via [**INetSharingManager**](/previous-versions/windows/desktop/api/netcon/nn-netcon-inetsharingmanager) (IPv4) and [**INetFwV6Mgr**](/previous-versions/windows/desktop/ics/inetfwv6mgr) (IPv6).</span></span>

<span data-ttu-id="704f9-157">Le pare-feu Windows pour Windows XP SP2 est une solution plus complète qui prend en charge les piles réseau tierces, et gère les ports de manière plus intelligente : les ports restent ouverts uniquement tant que l’application qui en a besoin est toujours active.</span><span class="sxs-lookup"><span data-stu-id="704f9-157">The Windows Firewall for Windows XP SP2 is a more comprehensive solution that does support 3rd party network stacks, and handles ports more intelligently: ports are kept open only so long as the application that needs them is still active.</span></span>

## <a name="windows-xp-sp2-firewall-is-better"></a><span data-ttu-id="704f9-158">Le pare-feu Windows XP SP2 est plus performant</span><span class="sxs-lookup"><span data-stu-id="704f9-158">Windows XP SP2 Firewall Is Better</span></span>

<span data-ttu-id="704f9-159">Windows XP SP2 met hors service les choix et les paramètres de sécurité.</span><span class="sxs-lookup"><span data-stu-id="704f9-159">Windows XP SP2 puts the security choices and settings out front.</span></span> <span data-ttu-id="704f9-160">L’objectif est de protéger par défaut et de permettre à l’utilisateur de faire des choix informés sur les applications qui sont autorisées à s’exécuter sur leur ordinateur.</span><span class="sxs-lookup"><span data-stu-id="704f9-160">The goal is to protect by default, and allow the user to make informed choices about what applications are allowed to run on their machine.</span></span>

<span data-ttu-id="704f9-161">Le nouveau pare-feu Windows est disponible sur Windows XP SP2 et Windows Server 2003 Service Pack 1 (SP1).</span><span class="sxs-lookup"><span data-stu-id="704f9-161">The new Windows Firewall is available on both Windows XP SP2 and Windows Server 2003 Service Pack 1 (SP1).</span></span> <span data-ttu-id="704f9-162">À l’instar de l’ICF, il s’agit d’un pare-feu logiciel qui prend en charge IPv4 et IPv6, mais contrairement à ICF, le pare-feu Windows :</span><span class="sxs-lookup"><span data-stu-id="704f9-162">Like the ICF, it is a software firewall that supports both IPv4 and IPv6, but unlike ICF the Windows Firewall:</span></span>

-   <span data-ttu-id="704f9-163">Dispose d’une protection du système au moment de l’amorçage, éliminant une petite fenêtre de vulnérabilité au démarrage.</span><span class="sxs-lookup"><span data-stu-id="704f9-163">Has boot-time protection of the system, eliminating a small window of vulnerability during boot.</span></span>
-   <span data-ttu-id="704f9-164">Prend en charge les piles réseau tierces.</span><span class="sxs-lookup"><span data-stu-id="704f9-164">Supports 3rd party network stacks.</span></span>
-   <span data-ttu-id="704f9-165">A un mode « activé sans exceptions » qui bloque tous les paquets entrants non sollicités.</span><span class="sxs-lookup"><span data-stu-id="704f9-165">Has an "on with no exceptions" mode that blocks all unsolicited incoming packets.</span></span> <span data-ttu-id="704f9-166">C’est très utile lorsque vous utilisez un réseau public, par exemple dans un aéroport ou un café.</span><span class="sxs-lookup"><span data-stu-id="704f9-166">This is great when you're using a public network, such as in an airport or coffee shop.</span></span>

<span data-ttu-id="704f9-167">Dans le mode « activé sans exceptions », tous les trous statiques sont fermés.</span><span class="sxs-lookup"><span data-stu-id="704f9-167">In the "on with no exceptions" mode, all static holes are closed.</span></span> <span data-ttu-id="704f9-168">Les appels d’API permettant d’ouvrir un trou statique sont autorisés mais différés ; autrement dit, elles ne sont pas appliquées tant que le pare-feu n’est pas rétabli en mode de fonctionnement normal.</span><span class="sxs-lookup"><span data-stu-id="704f9-168">API calls to open a static hole are allowed but deferred; that is, they are not applied until the firewall switches back to normal operation.</span></span> <span data-ttu-id="704f9-169">Toutes les demandes Listen émises par les applications seront également ignorées.</span><span class="sxs-lookup"><span data-stu-id="704f9-169">All listen requests by applications will also be ignored.</span></span> <span data-ttu-id="704f9-170">Les connexions sortantes continuent de fonctionner.</span><span class="sxs-lookup"><span data-stu-id="704f9-170">Outbound connections will still succeed.</span></span>

<span data-ttu-id="704f9-171">Pour les nouvelles applications, ajoutez votre application à la « liste des exceptions » au cours de l’installation.</span><span class="sxs-lookup"><span data-stu-id="704f9-171">For new applications, add your application to the "Exceptions List" during installation.</span></span> <span data-ttu-id="704f9-172">Vous pouvez ajouter l’application à l’aide de l’interface [**INetFwAuthorizedApplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) , en fournissant le chemin d’accès complet.</span><span class="sxs-lookup"><span data-stu-id="704f9-172">You can add the application using the [**INetFwAuthorizedApplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) interface, supplying the full path.</span></span> <span data-ttu-id="704f9-173">Nous allons aborder les détails dans l’exemple.</span><span class="sxs-lookup"><span data-stu-id="704f9-173">We'll cover the details in the sample.</span></span>

<span data-ttu-id="704f9-174">En guise de note, vous vous demandez peut-être s’il s’agit d’un risque pour la sécurité que les applications peuvent ajouter et supprimer des applications dans la liste des exceptions, quelle que soit l’intervention de l’utilisateur, ou peut-être vous pensez que les applications peuvent désactiver complètement le pare-feu.</span><span class="sxs-lookup"><span data-stu-id="704f9-174">As a side note, you may be wondering if it is a security risk that applications can add and remove applications from the exceptions list any user intervention, or perhaps you think that the bigger risk is that applications can disable the firewall altogether.</span></span> <span data-ttu-id="704f9-175">Pour ce faire, l’application doit disposer de privilèges d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="704f9-175">To perform these feats, the application must have administrator privileges.</span></span> <span data-ttu-id="704f9-176">Si du code malveillant s’exécute en mode administrateur sur votre système, le jeu est déjà sur et le pirate a déjà gagné.</span><span class="sxs-lookup"><span data-stu-id="704f9-176">If you have malicious code running in administrator mode on your system, the game is already over and the hacker has already won.</span></span> <span data-ttu-id="704f9-177">La possibilité pour le pirate de désactiver le pare-feu mériterait un peu plus qu’une note de bas de page.</span><span class="sxs-lookup"><span data-stu-id="704f9-177">The hacker's ability to disable the firewall would merit little more than a footnote.</span></span>

<span data-ttu-id="704f9-178">Les applications héritées, y compris les applications installées avant la mise à niveau de l’utilisateur vers Windows XP SP2, sont gérées avec la liste contextuelle des exceptions (voir figure 1).</span><span class="sxs-lookup"><span data-stu-id="704f9-178">Legacy applications, including applications installed before the user upgraded to Windows XP SP2, are handled with the Exceptions List popup (see Figure 1).</span></span> <span data-ttu-id="704f9-179">Cette boîte de dialogue s’affiche lorsqu’une application tente d’ouvrir un port pour le trafic entrant, soit lors de l’appel de bind () avec un port différent de zéro pour UDP, soit avec Accept () pour le protocole TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="704f9-179">This dialog shows when an application tries to open a port for incoming traffic - either when calling bind() with a non-zero port for UDP, or accept() for TCP/IP protocol.</span></span> <span data-ttu-id="704f9-180">Vous devez être en cours d’exécution en tant qu’administrateur pour débloquer des applications, tandis que « me le demander ultérieurement » n’autorise pas cette opération, mais le demande la prochaine fois.</span><span class="sxs-lookup"><span data-stu-id="704f9-180">You must be running as an Administrator to "Unblock" applications, while "Ask Me Later" disallows this time around but asks again next time.</span></span>

<span data-ttu-id="704f9-181">Il s’agit d’une boîte de dialogue modale non bloquante.</span><span class="sxs-lookup"><span data-stu-id="704f9-181">This is a non-blocking, system modal dialog box.</span></span> <span data-ttu-id="704f9-182">Lors de l’exécution d’une application Microsoft Direct3D de plein écran, la boîte de dialogue est disponible en dessous ; l’utilisateur peut alors le gérer lorsque l’application quitte le mode plein écran ou la touche Alt-Tab pour revenir au bureau.</span><span class="sxs-lookup"><span data-stu-id="704f9-182">When running a fullscreen Microsoft Direct3D application, the dialog comes in underneath; and the user can then handle it when the application exits fullscreen mode or alt-tabs back to the desktop.</span></span> <span data-ttu-id="704f9-183">Toutefois, il n’est pas toujours évident pour l’utilisateur que cette boîte de dialogue apparaissait lorsqu’un jeu s’exécute en plein écran. il est donc important d’éviter d’afficher cette boîte de dialogue à l’aide de l’interface [**INetFwAuthorizedApplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) , comme indiqué ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="704f9-183">However, it is not always obvious to the user that this dialog has appeared when a game is running fullscreen, so it is important to avoid causing this dialog to appear by using [**INetFwAuthorizedApplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) interface as discussed below.</span></span>

<span data-ttu-id="704f9-184">**Figure 1. Boîte de dialogue contextuelle liste des exceptions**</span><span class="sxs-lookup"><span data-stu-id="704f9-184">**Figure 1. Exceptions List Popup Dialog**</span></span>

![boîte de dialogue contextuelle liste des exceptions](images/firewalls1.jpg)

<span data-ttu-id="704f9-186">Vous remarquerez que la fenêtre contextuelle connaît le nom et l’éditeur de l’application.</span><span class="sxs-lookup"><span data-stu-id="704f9-186">You'll notice that the popup knows the name and publisher of the application.</span></span> <span data-ttu-id="704f9-187">Il n’y a pas de magie ici : elles sont extraites des informations de version de l’exécutable.</span><span class="sxs-lookup"><span data-stu-id="704f9-187">There's no magic here - it's pulled from the executable's version information.</span></span> <span data-ttu-id="704f9-188">Ces informations constituent un outil d’administration de système important. Il est même utilisé pour le travail de compatibilité des applications en continu.</span><span class="sxs-lookup"><span data-stu-id="704f9-188">This information is an important system administration tool; it is even used for ongoing application compatibility work.</span></span> <span data-ttu-id="704f9-189">Certaines applications négligent de conserver les informations de cette version à jour.</span><span class="sxs-lookup"><span data-stu-id="704f9-189">Some applications neglect to keep this version information up-to-date.</span></span>

<span data-ttu-id="704f9-190">Les utilisateurs peuvent également ajouter leurs applications par le biais de l’interface utilisateur (voir figure 2).</span><span class="sxs-lookup"><span data-stu-id="704f9-190">Users can also add their applications through the user interface (UI) (see Figure 2)</span></span>

<span data-ttu-id="704f9-191">**Figure 2. Configuration du pare-feu**</span><span class="sxs-lookup"><span data-stu-id="704f9-191">**Figure 2. Configuring the Firewall**</span></span>

![configuration du pare-feu](images/firewalls2.jpg)

<span data-ttu-id="704f9-193">**Figure 3. Ajout d’un programme à la liste d’exceptions de pare-feu**</span><span class="sxs-lookup"><span data-stu-id="704f9-193">**Figure 3. Adding a Program to the Firewall Exceptions List**</span></span>

![Ajout d’un programme à la liste d’exceptions de pare-feu](images/firewalls3.jpg)

<span data-ttu-id="704f9-195">Le meilleur scénario consiste à faire en sorte que les ajouts et les suppressions de la liste d’exceptions soient automatisés.</span><span class="sxs-lookup"><span data-stu-id="704f9-195">The best scenario is to make additions and removals from the exception list automated.</span></span> <span data-ttu-id="704f9-196">Le meilleur moment pour effectuer ces ajouts et suppressions est pendant le processus d’installation et de désinstallation.</span><span class="sxs-lookup"><span data-stu-id="704f9-196">The best time to perform these additions and removals is during the install and uninstall process.</span></span> <span data-ttu-id="704f9-197">L’ajout ou la suppression de la liste d’exceptions de pare-feu nécessite des privilèges d’administrateur. par conséquent, veillez à prendre en compte.</span><span class="sxs-lookup"><span data-stu-id="704f9-197">Adding or removing from the firewall exception list requires administrator privileges, so be sure to take this into account.</span></span>

## <a name="working-with-the-windows-firewall"></a><span data-ttu-id="704f9-198">Utilisation du pare-feu Windows</span><span class="sxs-lookup"><span data-stu-id="704f9-198">Working with the Windows Firewall</span></span>

<span data-ttu-id="704f9-199">Là encore, la plupart des jeux doivent uniquement être ajoutés à la liste des exceptions du pare-feu s’ils peuvent fonctionner en tant que serveur ou s’ils implémentent un protocole de communication d’égal à égal.</span><span class="sxs-lookup"><span data-stu-id="704f9-199">Again, most games only need to be added to the firewall exception list if they can function as a server or if they implement a peer-to-peer communication protocol.</span></span> <span data-ttu-id="704f9-200">Le FirewallInstallHelper.dll est un exemple de DLL qui peut être appelé à partir d’un programme d’installation.</span><span class="sxs-lookup"><span data-stu-id="704f9-200">The FirewallInstallHelper.dll is a sample DLL that can be called from an installer.</span></span> <span data-ttu-id="704f9-201">La source est fournie si vous souhaitez intégrer directement la source à votre propre application.</span><span class="sxs-lookup"><span data-stu-id="704f9-201">Source is provided if you want to integrate the source directly into your own application.</span></span> <span data-ttu-id="704f9-202">L’exemple est disponible ici :</span><span class="sxs-lookup"><span data-stu-id="704f9-202">The sample can be found here:</span></span>



|             | <span data-ttu-id="704f9-203">Fichier</span><span class="sxs-lookup"><span data-stu-id="704f9-203">File</span></span>                                                                             |
|-------------|------------------------------------------------------------------------------|
| <span data-ttu-id="704f9-204">**Source :**</span><span class="sxs-lookup"><span data-stu-id="704f9-204">**Source:**</span></span>     | <span data-ttu-id="704f9-205">(Racine SDK) \\ Exemples \\ \\ FirewallInstallHelper divers \\ C++</span><span class="sxs-lookup"><span data-stu-id="704f9-205">(SDK root)\\Samples\\C++\\Misc\\FirewallInstallHelper</span></span>                        |
| <span data-ttu-id="704f9-206">**Exécutable**</span><span class="sxs-lookup"><span data-stu-id="704f9-206">**Executable:**</span></span> | <span data-ttu-id="704f9-207">(Racine SDK) \\ Exemples \\ de \\ \\ casiers divers C++ \\ <arch> \\FirewallInstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="704f9-207">(SDK root)\\Samples\\C++\\Misc\\Bin\\<arch>\\FirewallInstallHelper.dll</span></span> |



 

<span data-ttu-id="704f9-208">Les fonctions exportées par cette DLL sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="704f9-208">The functions exported by this DLL are the following:</span></span>

<dl> <dt>

<span data-ttu-id="704f9-209"><span id="AddApplicationToExceptionListW"></span><span id="addapplicationtoexceptionlistw"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTW"></span>**AddApplicationToExceptionListW**</span><span class="sxs-lookup"><span data-stu-id="704f9-209"><span id="AddApplicationToExceptionListW"></span><span id="addapplicationtoexceptionlistw"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTW"></span>**AddApplicationToExceptionListW**</span></span>
</dt> <dd>

<span data-ttu-id="704f9-210">Cette fonction ajoute une application à la liste d’exceptions.</span><span class="sxs-lookup"><span data-stu-id="704f9-210">This function adds an application to the exception list.</span></span> <span data-ttu-id="704f9-211">Il prend un chemin d’accès complet à l’exécutable et un nom convivial qui s’affiche dans la liste des exceptions du pare-feu.</span><span class="sxs-lookup"><span data-stu-id="704f9-211">It takes a complete path to the executable and a friendly name that will appear in the firewall exception list.</span></span> <span data-ttu-id="704f9-212">Cette fonction requiert des privilèges d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="704f9-212">This function requires administrator privileges.</span></span>

</dd> <dt>

<span data-ttu-id="704f9-213"><span id="AddApplicationToExceptionListA"></span><span id="addapplicationtoexceptionlista"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTA"></span>**AddApplicationToExceptionListA**</span><span class="sxs-lookup"><span data-stu-id="704f9-213"><span id="AddApplicationToExceptionListA"></span><span id="addapplicationtoexceptionlista"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTA"></span>**AddApplicationToExceptionListA**</span></span>
</dt> <dd>

<span data-ttu-id="704f9-214">Version ANSI de **AddApplicationToExceptionListW**</span><span class="sxs-lookup"><span data-stu-id="704f9-214">ANSI version of **AddApplicationToExceptionListW**</span></span>

</dd> <dt>

<span data-ttu-id="704f9-215"><span id="RemoveApplicationFromExceptionListW"></span><span id="removeapplicationfromexceptionlistw"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTW"></span>**RemoveApplicationFromExceptionListW**</span><span class="sxs-lookup"><span data-stu-id="704f9-215"><span id="RemoveApplicationFromExceptionListW"></span><span id="removeapplicationfromexceptionlistw"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTW"></span>**RemoveApplicationFromExceptionListW**</span></span>
</dt> <dd>

<span data-ttu-id="704f9-216">Cette fonction supprime l’application de la liste d’exceptions.</span><span class="sxs-lookup"><span data-stu-id="704f9-216">This function removes the application from the exception list.</span></span> <span data-ttu-id="704f9-217">Elle prend un chemin d’accès complet à l’exécutable.</span><span class="sxs-lookup"><span data-stu-id="704f9-217">It takes in a complete path to the executable.</span></span> <span data-ttu-id="704f9-218">Cette fonction requiert des privilèges d’administrateur</span><span class="sxs-lookup"><span data-stu-id="704f9-218">This function requires administrator privileges</span></span>

</dd> <dt>

<span data-ttu-id="704f9-219"><span id="RemoveApplicationFromExceptionListA"></span><span id="removeapplicationfromexceptionlista"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTA"></span>**RemoveApplicationFromExceptionListA**</span><span class="sxs-lookup"><span data-stu-id="704f9-219"><span id="RemoveApplicationFromExceptionListA"></span><span id="removeapplicationfromexceptionlista"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTA"></span>**RemoveApplicationFromExceptionListA**</span></span>
</dt> <dd>

<span data-ttu-id="704f9-220">Version ANSI de **RemoveApplicationFromExceptionListW**</span><span class="sxs-lookup"><span data-stu-id="704f9-220">ANSI version of **RemoveApplicationFromExceptionListW**</span></span>

</dd> <dt>

<span data-ttu-id="704f9-221"><span id="CanLaunchMultiplayerGameW"></span><span id="canlaunchmultiplayergamew"></span><span id="CANLAUNCHMULTIPLAYERGAMEW"></span>**CanLaunchMultiplayerGameW**</span><span class="sxs-lookup"><span data-stu-id="704f9-221"><span id="CanLaunchMultiplayerGameW"></span><span id="canlaunchmultiplayergamew"></span><span id="CANLAUNCHMULTIPLAYERGAMEW"></span>**CanLaunchMultiplayerGameW**</span></span>
</dt> <dd>

<span data-ttu-id="704f9-222">Cette fonction signale si l’application a été désactivée ou supprimée de la liste des exceptions.</span><span class="sxs-lookup"><span data-stu-id="704f9-222">This function reports if the application has been disabled or removed from the exceptions list.</span></span> <span data-ttu-id="704f9-223">Elle doit être appelée chaque fois que le jeu est exécuté.</span><span class="sxs-lookup"><span data-stu-id="704f9-223">It should be called every time the game is run.</span></span> <span data-ttu-id="704f9-224">La fonction prend un chemin d’accès complet à l’exécutable.</span><span class="sxs-lookup"><span data-stu-id="704f9-224">The function takes in a complete path to the executable.</span></span> <span data-ttu-id="704f9-225">Cette fonction ne requiert pas de privilèges d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="704f9-225">This function does not require administrator privileges.</span></span>

</dd> <dt>

<span data-ttu-id="704f9-226"><span id="CanLaunchMultiplayerGameA"></span><span id="canlaunchmultiplayergamea"></span><span id="CANLAUNCHMULTIPLAYERGAMEA"></span>**CanLaunchMultiplayerGameA**</span><span class="sxs-lookup"><span data-stu-id="704f9-226"><span id="CanLaunchMultiplayerGameA"></span><span id="canlaunchmultiplayergamea"></span><span id="CANLAUNCHMULTIPLAYERGAMEA"></span>**CanLaunchMultiplayerGameA**</span></span>
</dt> <dd>

<span data-ttu-id="704f9-227">Version ANSI de **CanLaunchMultiplayerGameW**</span><span class="sxs-lookup"><span data-stu-id="704f9-227">ANSI version of **CanLaunchMultiplayerGameW**</span></span>

</dd> <dt>

<span data-ttu-id="704f9-228"><span id="SetMSIFirewallProperties"></span><span id="setmsifirewallproperties"></span><span id="SETMSIFIREWALLPROPERTIES"></span>**SetMSIFirewallProperties**</span><span class="sxs-lookup"><span data-stu-id="704f9-228"><span id="SetMSIFirewallProperties"></span><span id="setmsifirewallproperties"></span><span id="SETMSIFIREWALLPROPERTIES"></span>**SetMSIFirewallProperties**</span></span>
</dt> <dd>

<span data-ttu-id="704f9-229">Appelez cette opération uniquement si vous utilisez des actions personnalisées dans Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="704f9-229">Call this only if you are using custom actions in Windows Installer.</span></span> <span data-ttu-id="704f9-230">Vous trouverez plus de détails à la suite.</span><span class="sxs-lookup"><span data-stu-id="704f9-230">See below for more details.</span></span>

</dd> <dt>

<span data-ttu-id="704f9-231"><span id="AddToExceptionListUsingMSI"></span><span id="addtoexceptionlistusingmsi"></span><span id="ADDTOEXCEPTIONLISTUSINGMSI"></span>**AddToExceptionListUsingMSI**</span><span class="sxs-lookup"><span data-stu-id="704f9-231"><span id="AddToExceptionListUsingMSI"></span><span id="addtoexceptionlistusingmsi"></span><span id="ADDTOEXCEPTIONLISTUSINGMSI"></span>**AddToExceptionListUsingMSI**</span></span>
</dt> <dd>

<span data-ttu-id="704f9-232">Appelez cette opération uniquement si vous utilisez des actions personnalisées dans Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="704f9-232">Call this only if you are using custom actions in Windows Installer.</span></span> <span data-ttu-id="704f9-233">Vous trouverez plus de détails à la suite.</span><span class="sxs-lookup"><span data-stu-id="704f9-233">See below for more details.</span></span>

</dd> <dt>

<span data-ttu-id="704f9-234"><span id="RemoveFromExceptionListUsingMSI"></span><span id="removefromexceptionlistusingmsi"></span><span id="REMOVEFROMEXCEPTIONLISTUSINGMSI"></span>**RemoveFromExceptionListUsingMSI**</span><span class="sxs-lookup"><span data-stu-id="704f9-234"><span id="RemoveFromExceptionListUsingMSI"></span><span id="removefromexceptionlistusingmsi"></span><span id="REMOVEFROMEXCEPTIONLISTUSINGMSI"></span>**RemoveFromExceptionListUsingMSI**</span></span>
</dt> <dd>

<span data-ttu-id="704f9-235">Appelez cette opération uniquement si vous utilisez des actions personnalisées dans Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="704f9-235">Call this only if you are using custom actions in Windows Installer.</span></span> <span data-ttu-id="704f9-236">Vous trouverez plus de détails à la suite.</span><span class="sxs-lookup"><span data-stu-id="704f9-236">See below for more details.</span></span>

</dd> </dl>

<span data-ttu-id="704f9-237">Les sections suivantes décrivent des méthodes spécifiques d’appel des fonctions DLL exportées à partir de ce FirewallInstallHelper à partir d’un package InstallShield, Wise ou Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="704f9-237">The following sections describe specific methods of calling the exported DLL functions from this FirewallInstallHelper from within an InstallShield, Wise, or Windows Installer package.</span></span> <span data-ttu-id="704f9-238">Toutes les méthodes restituent les mêmes résultats et il revient au développeur de déterminer la méthode à implémenter.</span><span class="sxs-lookup"><span data-stu-id="704f9-238">All methods render the same results and it is up to the developer to determine which method to implement.</span></span>

## <a name="integrating-using-installshield-installscript"></a><span data-ttu-id="704f9-239">Intégration à l’aide d’InstallShield InstallScript</span><span class="sxs-lookup"><span data-stu-id="704f9-239">Integrating using InstallShield InstallScript</span></span>

<span data-ttu-id="704f9-240">Une autre méthode d’utilisation des API de pare-feu consiste à ajouter les appels de fonction à un InstallScript InstallShield.</span><span class="sxs-lookup"><span data-stu-id="704f9-240">An alternate method of using the Firewall APIs is to add the function calls to an InstallShield InstallScript.</span></span> <span data-ttu-id="704f9-241">Les étapes requises pour l’intégration de sont relativement simples :</span><span class="sxs-lookup"><span data-stu-id="704f9-241">The steps required to integrate are fairly simple:</span></span>

1.  <span data-ttu-id="704f9-242">Ouvrez un projet InstallScript dans l’éditeur InstallShield.</span><span class="sxs-lookup"><span data-stu-id="704f9-242">Open an InstallScript project in the InstallShield editor.</span></span>
2.  <span data-ttu-id="704f9-243">Ajoutez le FirewallInstallHelper.dll au projet en tant que fichier de support.</span><span class="sxs-lookup"><span data-stu-id="704f9-243">Add the FirewallInstallHelper.dll to the project as a support file.</span></span>

    1.  <span data-ttu-id="704f9-244">Sous l’onglet Assistant projet, ouvrez l’onglet fichiers d’application.</span><span class="sxs-lookup"><span data-stu-id="704f9-244">Under Project Assistant tab, open the Application Files tab.</span></span>
    2.  <span data-ttu-id="704f9-245">Cliquez sur le bouton Ajouter des fichiers pour ajouter des fichiers au dossier cible de l’application.</span><span class="sxs-lookup"><span data-stu-id="704f9-245">Click on the Add Files button to add files to the Application Target Folder.</span></span>
    3.  <span data-ttu-id="704f9-246">Accédez au FirewallInstallHelper.dll que vous avez créé ou utilisez celui fourni dans le kit de développement logiciel (SDK) DirectX et ajoutez-le au projet.</span><span class="sxs-lookup"><span data-stu-id="704f9-246">Browse to the FirewallInstallHelper.dll that you have built or use the one provided in the DirectX SDK and add it to the project.</span></span>

3.  <span data-ttu-id="704f9-247">Ajoutez InstallScript au projet.</span><span class="sxs-lookup"><span data-stu-id="704f9-247">Add InstallScript to the project.</span></span>

    1.  <span data-ttu-id="704f9-248">Ouvrez la vue du concepteur d’installation, puis cliquez sur le comportement et la logique \| InstallScript</span><span class="sxs-lookup"><span data-stu-id="704f9-248">Open the Installation Designer view, and click on the Behavior and Logic \| InstallScript</span></span>
    2.  <span data-ttu-id="704f9-249">Cliquez sur le fichier InstallScript (généralement Setup. vie utile restante) pour l’ouvrir dans l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="704f9-249">Click on the InstallScript file (usually setup.rul) to open it in the editor</span></span>
    3.  <span data-ttu-id="704f9-250">Collez le code suivant dans le fichier InstallScript :</span><span class="sxs-lookup"><span data-stu-id="704f9-250">Paste the following code into the InstallScript file:</span></span>

    ``` syntax
    #include "ifx.h"

    prototype BOOL FirewallInstallHelper.AddApplicationToExceptionListW( WSTRING, WSTRING );
    prototype BOOL FirewallInstallHelper.RemoveApplicationFromExceptionListW( WSTRING );

    function OnMoved()
        WSTRING path[256];
    begin
        // The DLL has been installed into the TARGETDIR
        if !MAINTENANCE then // TRUE when installing
            UseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
            path = TARGETDIR ^ "TODO: change to relative path to executable from install directory";
            FirewallInstallHelper.AddApplicationToExceptionListW( path, "TODO: change to friendly app name" );
            UnUseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
        endif;
    end;
          

    function OnMoving()
        WSTRING path[256];
    begin
        // The DLL is about to be removed from TARGETDIR
        if MAINTENANCE && UNINST != "" then // TRUE when uninstalling
            UseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
            path = TARGETDIR ^ "TODO: change to relative path to executable from install directory";
            FirewallInstallHelper.RemoveApplicationFromExceptionListW( path );
            UnUseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
        endif;
    end;
    ```

    4.  <span data-ttu-id="704f9-251">Modifiez les commentaires TODO avec le nom de l’application qui s’affiche dans la liste des exceptions du pare-feu et le chemin d’accès à l’exécutable du jeu relatif au répertoire d’installation.</span><span class="sxs-lookup"><span data-stu-id="704f9-251">Change the TODO comments with the application name that will be shown in the Firewall Exception List and the path to the game executable relative to the installation directory.</span></span>

## <a name="integrating-into-wise-for-windows-installer"></a><span data-ttu-id="704f9-252">Intégration à Wise pour Windows Installer</span><span class="sxs-lookup"><span data-stu-id="704f9-252">Integrating into Wise for Windows Installer</span></span>

<span data-ttu-id="704f9-253">Pour une intégration avec Wise pour Windows Installer, vous devez effectuer les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="704f9-253">To integrate with Wise for Windows Installer, these steps have to be done:</span></span>

1.  <span data-ttu-id="704f9-254">Ouvrez votre Wise pour Windows Installer projet.</span><span class="sxs-lookup"><span data-stu-id="704f9-254">Open your Wise for Windows Installer project.</span></span>
2.  <span data-ttu-id="704f9-255">Sélectionnez l’onglet « expert d’installation » en bas.</span><span class="sxs-lookup"><span data-stu-id="704f9-255">Select the "Installation Expert" tab at the bottom.</span></span>
3.  <span data-ttu-id="704f9-256">Cliquez sur fichiers, puis ajoutez le FirewallInstallHelper.dll à partir du DXSDK dans le répertoire d’installation du jeu.</span><span class="sxs-lookup"><span data-stu-id="704f9-256">Click on Files, and add the FirewallInstallHelper.dll from the DXSDK to the game's install directory.</span></span>
4.  <span data-ttu-id="704f9-257">Sélectionnez l’onglet « script MSI » en bas.</span><span class="sxs-lookup"><span data-stu-id="704f9-257">Select the "MSI script" tab at the bottom.</span></span>
5.  <span data-ttu-id="704f9-258">Sélectionnez l’onglet « exécuter immédiatement » près du bas.</span><span class="sxs-lookup"><span data-stu-id="704f9-258">Select the "Execute Immediate" tab near the bottom.</span></span>
6.  <span data-ttu-id="704f9-259">Après CostFinalize, ajoutez une action « définir la propriété » qui définit FULLPATH sur \[ « \] chemin d’accès relatif du chemin d’accès au fichier exécutable à partir du répertoire d’installation ».</span><span class="sxs-lookup"><span data-stu-id="704f9-259">After CostFinalize, add a "Set Property" action that sets FULLPATH to "\[INSTALLDIR\]relative path to executable from install directory".</span></span> <span data-ttu-id="704f9-260">Par exemple, « \[ INSTALLDIR \]game.exe » sans les guillemets</span><span class="sxs-lookup"><span data-stu-id="704f9-260">For example, "\[INSTALLDIR\]game.exe" without the quotes</span></span>
7.  <span data-ttu-id="704f9-261">Sélectionnez l’onglet « exécuter différé » près du bas.</span><span class="sxs-lookup"><span data-stu-id="704f9-261">Select the "Execute Deferred" tab near the bottom.</span></span>
8.  <span data-ttu-id="704f9-262">Après PublishProduct, ajoutez une instruction « if » avec la condition « non installé » (sensible à la casse).</span><span class="sxs-lookup"><span data-stu-id="704f9-262">After PublishProduct, add an "If statement" with the condition "NOT Installed" (case sensitive).</span></span>
9.  <span data-ttu-id="704f9-263">Dans le bloc If, ajoutez une action « appeler une DLL personnalisée à partir de la destination ».</span><span class="sxs-lookup"><span data-stu-id="704f9-263">Within the If block, add a "Call Custom DLL from Destination" action.</span></span>

    1.  <span data-ttu-id="704f9-264">Définissez le champ fichier DLL sur « \[ INSTALLDIR \]FirewallInstallHelper.dll ».</span><span class="sxs-lookup"><span data-stu-id="704f9-264">Set the DLL File field to "\[INSTALLDIR\]FirewallInstallHelper.dll."</span></span>
    2.  <span data-ttu-id="704f9-265">Définissez le champ nom de la fonction sur « AddApplicationToExceptionListA ».</span><span class="sxs-lookup"><span data-stu-id="704f9-265">Set the Function Name field to "AddApplicationToExceptionListA."</span></span>
    3.  <span data-ttu-id="704f9-266">Ajoutez un paramètre avec le type « pointeur de chaîne », la source de valeur « propriété » et le nom de propriété « FULLPATH ».</span><span class="sxs-lookup"><span data-stu-id="704f9-266">Add a parameter with type "string pointer", value source "Property", and property name "FULLPATH."</span></span>
    4.  <span data-ttu-id="704f9-267">Ajoutez un deuxième paramètre avec le type « pointeur de chaîne », source de valeur « constante » et définissez la valeur de constante sur le nom d’application convivial que vous souhaitez afficher dans la liste d’exceptions de pare-feu.</span><span class="sxs-lookup"><span data-stu-id="704f9-267">Add a second parameter with type "string pointer", value source "Constant", and set the constant value to the friendly application name you want displayed in the firewall exception list.</span></span>
    5.  <span data-ttu-id="704f9-268">Fermez le bloc If en ajoutant une instruction « end Statement ».</span><span class="sxs-lookup"><span data-stu-id="704f9-268">Close the If block by adding an "End Statement."</span></span>

10. <span data-ttu-id="704f9-269">Juste au-dessus de l’action RemoveFiles près du haut, ajoutez un autre bloc If, avec la condition « REMOVE ~ = "ALL » (respect de la casse et sans les guillemets externes).</span><span class="sxs-lookup"><span data-stu-id="704f9-269">Just above the RemoveFiles action near the top, add another If block, with the condition to be "REMOVE~="ALL"" (case sensitive and without the outer quotes).</span></span>
11. <span data-ttu-id="704f9-270">Dans le deuxième bloc If, ajoutez une action « appeler une DLL personnalisée à partir de la destination ».</span><span class="sxs-lookup"><span data-stu-id="704f9-270">Within the second If block, add a "Call Custom DLL from Destination" action.</span></span>

    1.  <span data-ttu-id="704f9-271">Définissez le champ fichier DLL sur « \[ INSTALLDIR \]FirewallInstallHelper.dll ».</span><span class="sxs-lookup"><span data-stu-id="704f9-271">Set the DLL File field to "\[INSTALLDIR\]FirewallInstallHelper.dll."</span></span>
    2.  <span data-ttu-id="704f9-272">Définissez le champ nom de la fonction sur « RemoveApplicationFromExceptionListA ».</span><span class="sxs-lookup"><span data-stu-id="704f9-272">Set the Function Name field to "RemoveApplicationFromExceptionListA."</span></span>
    3.  <span data-ttu-id="704f9-273">Ajoutez un paramètre avec le type « pointeur de chaîne », la source de valeur « propriété » et le nom de propriété « FULLPATH ».</span><span class="sxs-lookup"><span data-stu-id="704f9-273">Add a parameter with type "string pointer", value source "Property", and property name "FULLPATH."</span></span>
    4.  <span data-ttu-id="704f9-274">Fermez le deuxième bloc If en ajoutant une instruction « end Statement ».</span><span class="sxs-lookup"><span data-stu-id="704f9-274">Close the second If block by adding an "End Statement."</span></span>

## <a name="integrating-into-windows-installer"></a><span data-ttu-id="704f9-275">Intégration dans Windows Installer</span><span class="sxs-lookup"><span data-stu-id="704f9-275">Integrating into Windows Installer</span></span>

<span data-ttu-id="704f9-276">Pour une intégration avec Windows Installer au niveau supérieur, vous devez effectuer ces étapes.</span><span class="sxs-lookup"><span data-stu-id="704f9-276">To integrate with Windows Installer at the high level, these steps have to be done.</span></span> <span data-ttu-id="704f9-277">Elles sont expliquées en détail ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="704f9-277">They will be explained in detail below:</span></span>

-   <span data-ttu-id="704f9-278">Ajoutez 2 propriétés « FriendlyNameForFirewall » et « RelativePathToExeForFirewall » comme décrit ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="704f9-278">Add 2 properties "FriendlyNameForFirewall" and "RelativePathToExeForFirewall" as described below.</span></span>
-   <span data-ttu-id="704f9-279">Après l’action CostFinalize, appelez « SetMSIFirewallProperties » dans une action personnalisée immédiate pour définir les propriétés MSI appropriées pour les autres actions personnalisées.</span><span class="sxs-lookup"><span data-stu-id="704f9-279">After the CostFinalize action, call "SetMSIFirewallProperties" in an immediate custom action to set the appropriate MSI properties for the other custom actions.</span></span>
-   <span data-ttu-id="704f9-280">Pendant l’installation après l’action InstallFiles, appelez une action personnalisée différée qui utilise la fonction « AddToExceptionListUsingMSI » de FirewallInstallHelper.</span><span class="sxs-lookup"><span data-stu-id="704f9-280">During install after the InstallFiles action, call a deferred custom action that uses the FirewallInstallHelper's "AddToExceptionListUsingMSI" function.</span></span>
-   <span data-ttu-id="704f9-281">Pendant la désinstallation après l’action InstallFiles, appelez une action personnalisée différée qui utilise la fonction « RemoveFromExceptionListUsingMSI » de FirewallInstallHelper.</span><span class="sxs-lookup"><span data-stu-id="704f9-281">During uninstall after the InstallFiles action, call a deferred custom action that uses the FirewallInstallHelper's "RemoveFromExceptionListUsingMSI" function.</span></span>
-   <span data-ttu-id="704f9-282">Pendant la restauration, appelez une action personnalisée différée qui appelle également la fonction « RemoveFromExceptionListUsingMSI » de FirewallInstallHelper.</span><span class="sxs-lookup"><span data-stu-id="704f9-282">During rollback, call a deferred custom action which also calls the FirewallInstallHelper's "RemoveFromExceptionListUsingMSI" function.</span></span>

<span data-ttu-id="704f9-283">Vous trouverez ci-dessous les étapes nécessaires pour effectuer cette opération à l’aide d’un éditeur MSI comme Orca dans le kit de développement logiciel (SDK) de plateforme.</span><span class="sxs-lookup"><span data-stu-id="704f9-283">The following is the steps needed to do this using an MSI editor such as Orca found in the Platform SDK.</span></span> <span data-ttu-id="704f9-284">Notez que certains éditeurs comportent des assistants qui simplifient certaines de ces étapes :</span><span class="sxs-lookup"><span data-stu-id="704f9-284">Note that some editors have wizards that simplify some of these steps:</span></span>

1.  <span data-ttu-id="704f9-285">Ouvrez le package MSI dans Orca.</span><span class="sxs-lookup"><span data-stu-id="704f9-285">Open the MSI package in Orca.</span></span>
2.  <span data-ttu-id="704f9-286">Ajoutez le code suivant à la table binaire :</span><span class="sxs-lookup"><span data-stu-id="704f9-286">Add the following to the Binary table:</span></span>

    

    | <span data-ttu-id="704f9-287">Nom</span><span class="sxs-lookup"><span data-stu-id="704f9-287">Name</span></span>     | <span data-ttu-id="704f9-288">Données</span><span class="sxs-lookup"><span data-stu-id="704f9-288">Data</span></span>                                                                                                                                                                          |
    |----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="704f9-289">PARE</span><span class="sxs-lookup"><span data-stu-id="704f9-289">FIREWALL</span></span> | <span data-ttu-id="704f9-290">Pointez sur le FirewallInstallHelper.dll.</span><span class="sxs-lookup"><span data-stu-id="704f9-290">Point it to the FirewallInstallHelper.dll.</span></span> <span data-ttu-id="704f9-291">Ce fichier sera incorporé dans le package MSI. vous devrez donc effectuer cette étape chaque fois que vous recompilez FirewallInstallHelper.dll.</span><span class="sxs-lookup"><span data-stu-id="704f9-291">This file will be embedded in the MSI package so you will have to do this step every time you recompile FirewallInstallHelper.dll.</span></span> |

    

     

3.  <span data-ttu-id="704f9-292">Ajoutez le code suivant à la table CustomAction :</span><span class="sxs-lookup"><span data-stu-id="704f9-292">Add the following to CustomAction table:</span></span>

    

    | <span data-ttu-id="704f9-293">Action</span><span class="sxs-lookup"><span data-stu-id="704f9-293">Action</span></span>                   | <span data-ttu-id="704f9-294">Type</span><span class="sxs-lookup"><span data-stu-id="704f9-294">Type</span></span>                                                                                                                                                                                                   | <span data-ttu-id="704f9-295">Source</span><span class="sxs-lookup"><span data-stu-id="704f9-295">Source</span></span>   | <span data-ttu-id="704f9-296">Cible</span><span class="sxs-lookup"><span data-stu-id="704f9-296">Target</span></span>                          |
    |--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------------------------------|
    | <span data-ttu-id="704f9-297">FirewallSetMSIProperties</span><span class="sxs-lookup"><span data-stu-id="704f9-297">FirewallSetMSIProperties</span></span> | <span data-ttu-id="704f9-298">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span><span class="sxs-lookup"><span data-stu-id="704f9-298">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                                                        | <span data-ttu-id="704f9-299">PARE</span><span class="sxs-lookup"><span data-stu-id="704f9-299">FIREWALL</span></span> | <span data-ttu-id="704f9-300">SetMSIFirewallProperties</span><span class="sxs-lookup"><span data-stu-id="704f9-300">SetMSIFirewallProperties</span></span>        |
    | <span data-ttu-id="704f9-301">FirewallAdd</span><span class="sxs-lookup"><span data-stu-id="704f9-301">FirewallAdd</span></span>              | <span data-ttu-id="704f9-302">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span><span class="sxs-lookup"><span data-stu-id="704f9-302">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span>                                 | <span data-ttu-id="704f9-303">PARE</span><span class="sxs-lookup"><span data-stu-id="704f9-303">FIREWALL</span></span> | <span data-ttu-id="704f9-304">AddToExceptionListUsingMSI</span><span class="sxs-lookup"><span data-stu-id="704f9-304">AddToExceptionListUsingMSI</span></span>      |
    | <span data-ttu-id="704f9-305">FirewallRemove</span><span class="sxs-lookup"><span data-stu-id="704f9-305">FirewallRemove</span></span>           | <span data-ttu-id="704f9-306">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span><span class="sxs-lookup"><span data-stu-id="704f9-306">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span>                                 | <span data-ttu-id="704f9-307">PARE</span><span class="sxs-lookup"><span data-stu-id="704f9-307">FIREWALL</span></span> | <span data-ttu-id="704f9-308">RemoveFromExceptionListUsingMSI</span><span class="sxs-lookup"><span data-stu-id="704f9-308">RemoveFromExceptionListUsingMSI</span></span> |
    | <span data-ttu-id="704f9-309">FirewallRollBackAdd</span><span class="sxs-lookup"><span data-stu-id="704f9-309">FirewallRollBackAdd</span></span>      | <span data-ttu-id="704f9-310">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span><span class="sxs-lookup"><span data-stu-id="704f9-310">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span></span> | <span data-ttu-id="704f9-311">PARE</span><span class="sxs-lookup"><span data-stu-id="704f9-311">FIREWALL</span></span> | <span data-ttu-id="704f9-312">RemoveFromExceptionListUsingMSI</span><span class="sxs-lookup"><span data-stu-id="704f9-312">RemoveFromExceptionListUsingMSI</span></span> |
    | <span data-ttu-id="704f9-313">FirewallRollBackRemove</span><span class="sxs-lookup"><span data-stu-id="704f9-313">FirewallRollBackRemove</span></span>   | <span data-ttu-id="704f9-314">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span><span class="sxs-lookup"><span data-stu-id="704f9-314">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span></span> | <span data-ttu-id="704f9-315">PARE</span><span class="sxs-lookup"><span data-stu-id="704f9-315">FIREWALL</span></span> | <span data-ttu-id="704f9-316">AddToExceptionListUsingMSI</span><span class="sxs-lookup"><span data-stu-id="704f9-316">AddToExceptionListUsingMSI</span></span>      |

    

     

4.  <span data-ttu-id="704f9-317">Ajoutez le code suivant à la table InstallExecuteSequence :</span><span class="sxs-lookup"><span data-stu-id="704f9-317">Add the following to the InstallExecuteSequence table:</span></span>

    

    | <span data-ttu-id="704f9-318">Action</span><span class="sxs-lookup"><span data-stu-id="704f9-318">Action</span></span>                   | <span data-ttu-id="704f9-319">Condition</span><span class="sxs-lookup"><span data-stu-id="704f9-319">Condition</span></span>     | <span data-ttu-id="704f9-320">Séquence</span><span class="sxs-lookup"><span data-stu-id="704f9-320">Sequence</span></span> | <span data-ttu-id="704f9-321">Remarques</span><span class="sxs-lookup"><span data-stu-id="704f9-321">Notes</span></span>                                                                                                                                                                      |
    |--------------------------|---------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="704f9-322">FirewallSetMSIProperties</span><span class="sxs-lookup"><span data-stu-id="704f9-322">FirewallSetMSIProperties</span></span> |               | <span data-ttu-id="704f9-323">1010</span><span class="sxs-lookup"><span data-stu-id="704f9-323">1010</span></span>     | <span data-ttu-id="704f9-324">Cela place juste après CostFinalize.</span><span class="sxs-lookup"><span data-stu-id="704f9-324">This places soon after CostFinalize.</span></span>                                                                                                                                       |
    | <span data-ttu-id="704f9-325">FirewallAdd</span><span class="sxs-lookup"><span data-stu-id="704f9-325">FirewallAdd</span></span>              | <span data-ttu-id="704f9-326">NON installé</span><span class="sxs-lookup"><span data-stu-id="704f9-326">NOT Installed</span></span> | <span data-ttu-id="704f9-327">4021</span><span class="sxs-lookup"><span data-stu-id="704f9-327">4021</span></span>     | <span data-ttu-id="704f9-328">Cette action personnalisée se produit uniquement lors d’une nouvelle installation.</span><span class="sxs-lookup"><span data-stu-id="704f9-328">This custom action will only happen during a fresh install.</span></span> <span data-ttu-id="704f9-329">Le numéro de séquence place l’action après InstallFiles et après les restaurations.</span><span class="sxs-lookup"><span data-stu-id="704f9-329">The sequence number places the action after InstallFiles and after the rollbacks.</span></span>                              |
    | <span data-ttu-id="704f9-330">FirewallRollBackAdd</span><span class="sxs-lookup"><span data-stu-id="704f9-330">FirewallRollBackAdd</span></span>      | <span data-ttu-id="704f9-331">NON installé</span><span class="sxs-lookup"><span data-stu-id="704f9-331">NOT Installed</span></span> | <span data-ttu-id="704f9-332">4020</span><span class="sxs-lookup"><span data-stu-id="704f9-332">4020</span></span>     | <span data-ttu-id="704f9-333">Cette action personnalisée se produit uniquement lors de l’annulation d’une nouvelle installation.</span><span class="sxs-lookup"><span data-stu-id="704f9-333">This custom action will only happen when a fresh install is cancelled.</span></span> <span data-ttu-id="704f9-334">Le numéro de séquence place l’action après InstallFiles et avant l’action personnalisée ajouter.</span><span class="sxs-lookup"><span data-stu-id="704f9-334">The sequence number places the action after InstallFiles and before the Add custom action.</span></span>          |
    | <span data-ttu-id="704f9-335">FirewallRemove</span><span class="sxs-lookup"><span data-stu-id="704f9-335">FirewallRemove</span></span>           | <span data-ttu-id="704f9-336">Installé</span><span class="sxs-lookup"><span data-stu-id="704f9-336">Installed</span></span>     | <span data-ttu-id="704f9-337">3461</span><span class="sxs-lookup"><span data-stu-id="704f9-337">3461</span></span>     | <span data-ttu-id="704f9-338">Cette action personnalisée se produira uniquement pendant la désinstallation.</span><span class="sxs-lookup"><span data-stu-id="704f9-338">This custom action will only happen during uninstall.</span></span> <span data-ttu-id="704f9-339">Le numéro de séquence place l’action directement avant RemoveFiles et après les restaurations.</span><span class="sxs-lookup"><span data-stu-id="704f9-339">The sequence number places the action directly before RemoveFiles and after the rollbacks.</span></span>                           |
    | <span data-ttu-id="704f9-340">FirewallRollBackRemove</span><span class="sxs-lookup"><span data-stu-id="704f9-340">FirewallRollBackRemove</span></span>   | <span data-ttu-id="704f9-341">NON installé</span><span class="sxs-lookup"><span data-stu-id="704f9-341">NOT Installed</span></span> | <span data-ttu-id="704f9-342">3460</span><span class="sxs-lookup"><span data-stu-id="704f9-342">3460</span></span>     | <span data-ttu-id="704f9-343">Cette action personnalisée se produit uniquement lorsqu’une désinstallation est annulée.</span><span class="sxs-lookup"><span data-stu-id="704f9-343">This custom action will only happen when an uninstall is cancelled.</span></span> <span data-ttu-id="704f9-344">Le numéro de séquence place l’action directement avant RemoveFiles et avant l’action personnalisée Remove.</span><span class="sxs-lookup"><span data-stu-id="704f9-344">The sequence number places the action directly before RemoveFiles and before the Remove custom action.</span></span> |

    

     

5.  <span data-ttu-id="704f9-345">Ajoutez le code suivant à la table de propriétés :</span><span class="sxs-lookup"><span data-stu-id="704f9-345">Add the following to the Property table:</span></span>

    

    | <span data-ttu-id="704f9-346">Propriété</span><span class="sxs-lookup"><span data-stu-id="704f9-346">Property</span></span>                     | <span data-ttu-id="704f9-347">Value</span><span class="sxs-lookup"><span data-stu-id="704f9-347">Value</span></span>                                                                             |
    |------------------------------|-----------------------------------------------------------------------------------|
    | <span data-ttu-id="704f9-348">FriendlyNameForFirewall</span><span class="sxs-lookup"><span data-stu-id="704f9-348">FriendlyNameForFirewall</span></span>      | <span data-ttu-id="704f9-349">Doit être le nom que la liste d’exceptions affichera.</span><span class="sxs-lookup"><span data-stu-id="704f9-349">Needs to be the name the exception list will display.</span></span> <span data-ttu-id="704f9-350">Par exemple, « exemple de jeu »</span><span class="sxs-lookup"><span data-stu-id="704f9-350">For example, "Example Game"</span></span> |
    | <span data-ttu-id="704f9-351">RelativePathToExeForFirewall</span><span class="sxs-lookup"><span data-stu-id="704f9-351">RelativePathToExeForFirewall</span></span> | <span data-ttu-id="704f9-352">Doit être l’exécutable installé du jeu.</span><span class="sxs-lookup"><span data-stu-id="704f9-352">Needs to be the installed executable of the game.</span></span> <span data-ttu-id="704f9-353">Par exemple, « ExampleGame.exe »</span><span class="sxs-lookup"><span data-stu-id="704f9-353">For example, "ExampleGame.exe"</span></span>  |

    

     

<span data-ttu-id="704f9-354">Pour plus d’informations sur la Windows Installer, consultez [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="704f9-354">For more information on Windows Installer, see [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="recommendations"></a><span data-ttu-id="704f9-355">Recommandations</span><span class="sxs-lookup"><span data-stu-id="704f9-355">Recommendations</span></span>

<span data-ttu-id="704f9-356">Le pare-feu est ici pour rester en contact.</span><span class="sxs-lookup"><span data-stu-id="704f9-356">The firewall is here to stay.</span></span> <span data-ttu-id="704f9-357">Ces recommandations permettront à vos clients de bénéficier d’une bonne expérience de pare-feu avec votre jeu Windows :</span><span class="sxs-lookup"><span data-stu-id="704f9-357">These recommendations will give your customers a good firewall experience with your Windows game:</span></span>

-   <span data-ttu-id="704f9-358">N’indiquez pas aux utilisateurs de désactiver le pare-feu pour jouer votre jeu.</span><span class="sxs-lookup"><span data-stu-id="704f9-358">Don't tell users to disable the firewall to play your game.</span></span> <span data-ttu-id="704f9-359">Cela rend la machine entière vulnérable, même lorsqu’elle ne lit pas votre jeu.</span><span class="sxs-lookup"><span data-stu-id="704f9-359">This makes the entire machine vulnerable even when they aren't playing your game.</span></span>
-   <span data-ttu-id="704f9-360">Rendez la configuration du pare-feu transparente pour vos utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="704f9-360">Make the firewall configuration seamless for your users.</span></span> <span data-ttu-id="704f9-361">Ajoutez votre application à la liste des exceptions pendant l’installation et supprimez votre application de la liste des exceptions lors de l’installation.</span><span class="sxs-lookup"><span data-stu-id="704f9-361">Add your application to the exception list during installation, and remove your application from the exception list during installation.</span></span>
-   <span data-ttu-id="704f9-362">Envoyer des commentaires à l’utilisateur si le mode multijoueur est bloqué par l’état du pare-feu.</span><span class="sxs-lookup"><span data-stu-id="704f9-362">Give feedback to the user if multiplayer is blocked by the firewall state.</span></span> <span data-ttu-id="704f9-363">Par exemple, désactivez les fonctionnalités de mise en réseau si elles ne fonctionnent pas, soit parce que l’application n’est pas autorisée, soit parce que le système est en mode « aucune exception ».</span><span class="sxs-lookup"><span data-stu-id="704f9-363">For example, disable networking features if they won't work either because the application is disallowed or because the system is in the "no exceptions" mode.</span></span>

 

 