---
title: Mise à jour corrective des logiciels de jeu dans Windows XP, Windows Vista et Windows 7
description: Cet article examine certaines méthodes de mise à jour corrective qui fonctionnent correctement dans Windows Vista et Windows 7, ainsi que Windows XP.
ms.assetid: 27be805a-bffd-a9f8-2207-2a9a4822ba48
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 95ae0b1455cae61b8372f81e6928977743084c9e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "106510888"
---
# <a name="patching-game-software-in-windows-xp-windows-vista-and-windows-7"></a><span data-ttu-id="ff4f4-103">Mise à jour corrective des logiciels de jeu dans Windows XP, Windows Vista et Windows 7</span><span class="sxs-lookup"><span data-stu-id="ff4f4-103">Patching Game Software in Windows XP, Windows Vista, and Windows 7</span></span>

<span data-ttu-id="ff4f4-104">Windows Vista et Windows 7 ont un certain nombre de fonctionnalités qui permettent de sécuriser le système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-104">Windows Vista and Windows 7 have a number of features to make the operating system more secure.</span></span> <span data-ttu-id="ff4f4-105">La sécurité ajoutée signifie que l’application de correctifs logiciels n’est pas aussi simple que dans le passé.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-105">Added security means that applying patches to software is not as simple as it was in the past.</span></span> <span data-ttu-id="ff4f4-106">Cet article examine certaines méthodes de mise à jour corrective qui fonctionnent correctement dans Windows Vista et Windows 7, ainsi que Windows XP.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-106">This article examines some methods of patching that will work well in Windows Vista and Windows 7, as well as Windows XP.</span></span>

<span data-ttu-id="ff4f4-107">Il existe deux catégories principales de jeux nécessitant des correctifs :</span><span class="sxs-lookup"><span data-stu-id="ff4f4-107">There are two main categories of games that require patches:</span></span>

-   <span data-ttu-id="ff4f4-108">Jeux nécessitant uniquement des correctifs occasionnels, tels que la plupart des jeux hors connexion.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-108">Games that require only occasional patches, such as most offline games.</span></span>
-   <span data-ttu-id="ff4f4-109">Jeux nécessitant des correctifs fréquents, tels que la plupart des jeux en ligne.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-109">Games that require frequent patches, such as most online games.</span></span>

<span data-ttu-id="ff4f4-110">Cet article offre également une brève introduction au contrôle de compte d’utilisateur (UAC, User Account Control) pour servir d’arrière-plan sur les droits que les développeurs peuvent espérer avoir dans Windows Vista et Windows 7.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-110">This article also offers a brief introduction to the User Account Control (UAC) to serve as background about the rights that developers can expect users to have in Windows Vista and Windows 7.</span></span>

-   [<span data-ttu-id="ff4f4-111">Contrôle de compte d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="ff4f4-111">User Account Control</span></span>](#user-account-control)
-   [<span data-ttu-id="ff4f4-112">Jeux nécessitant uniquement des correctifs occasionnels</span><span class="sxs-lookup"><span data-stu-id="ff4f4-112">Games that Require Only Occasional Patches</span></span>](#games-that-require-only-occasional-patches)
    -   [<span data-ttu-id="ff4f4-113">Méthode 1 : utiliser Windows Installer pour les correctifs occasionnels</span><span class="sxs-lookup"><span data-stu-id="ff4f4-113">Method 1: Use Windows Installer for Occasional Patches</span></span>](#method-1-use-windows-installer-for-occasional-patches)
    -   [<span data-ttu-id="ff4f4-114">Méthode 2 : exiger des droits d’administrateur pour appliquer des correctifs</span><span class="sxs-lookup"><span data-stu-id="ff4f4-114">Method 2: Require Administrator Rights to Apply Patches</span></span>](#method-2-require-administrator-rights-to-apply-patches)
-   [<span data-ttu-id="ff4f4-115">Jeux nécessitant des correctifs fréquents</span><span class="sxs-lookup"><span data-stu-id="ff4f4-115">Games that Require Frequent Patches</span></span>](#games-that-require-frequent-patches)
    -   [<span data-ttu-id="ff4f4-116">Méthode 3 : installation par utilisateur</span><span class="sxs-lookup"><span data-stu-id="ff4f4-116">Method 3: Install Per-User</span></span>](#method-3-install-per-user)
    -   [<span data-ttu-id="ff4f4-117">Méthode 4 : installer dans un emplacement de Per-Computer commun</span><span class="sxs-lookup"><span data-stu-id="ff4f4-117">Method 4: Install to a Common Per-Computer Location</span></span>](#method-4-install-to-a-common-per-computer-location)
    -   [<span data-ttu-id="ff4f4-118">Autres possibilités</span><span class="sxs-lookup"><span data-stu-id="ff4f4-118">Other Possibilities</span></span>](#other-possibilities)
-   [<span data-ttu-id="ff4f4-119">Résumé</span><span class="sxs-lookup"><span data-stu-id="ff4f4-119">Summary</span></span>](#summary)

## <a name="user-account-control"></a><span data-ttu-id="ff4f4-120">Contrôle de compte d'utilisateur</span><span class="sxs-lookup"><span data-stu-id="ff4f4-120">User Account Control</span></span>

<span data-ttu-id="ff4f4-121">Windows Vista et Windows 7 ont deux types principaux de comptes d’utilisateur : utilisateur standard et administrateur.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-121">Windows Vista and Windows 7 have two primary types of user accounts: Standard User and Administrator.</span></span> <span data-ttu-id="ff4f4-122">Un compte d’utilisateur standard a plusieurs restrictions d’accès ; par exemple, il ne peut pas écrire de données dans le système de fichiers dans% SystemDrive% \\ Program Files ou dans le registre de l' \_ ordinateur local HKEY \_ .</span><span class="sxs-lookup"><span data-stu-id="ff4f4-122">A Standard User account has several access restrictions; for example, it cannot write data to the file system in %SystemDrive%\\Program Files or to the registry in the HKEY\_LOCAL\_MACHINE.</span></span> <span data-ttu-id="ff4f4-123">Cela a des implications pour l’application des correctifs à un jeu s’il est installé dans un emplacement en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-123">This has implications for applying patches to a game if it is installed in a read-only location.</span></span> <span data-ttu-id="ff4f4-124">Contrairement à Windows XP, le compte d’utilisateur standard est bien plus courant dans Windows Vista et Windows 7.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-124">Unlike in Windows XP, the Standard User account is much more common in Windows Vista and Windows 7.</span></span> <span data-ttu-id="ff4f4-125">Les comptes d’utilisateur standard sont également requis pour les fonctionnalités importantes du système d’exploitation, telles que les contrôles de contrôle parental.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-125">Standard User accounts are also required for important features of the operating system, like parental controls.</span></span> <span data-ttu-id="ff4f4-126">Les contrôles parentaux requièrent que le compte enfant soit un utilisateur standard et l’élévation d’un tel compte à l’administrateur pour un même jeu empêche le contrôle parental de fonctionner avec tous les autres jeux.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-126">Parental controls require that the child account be Standard User, and elevating such an account to Administrator for even one game prevents parental controls from working with all other games.</span></span> <span data-ttu-id="ff4f4-127">C’est pourquoi il est important que les jeux soient conçus pour un utilisateur standard.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-127">So, it important for games to be designed for Standard User.</span></span>

<span data-ttu-id="ff4f4-128">Windows Vista et Windows 7 ont un modèle plus récent pour les droits d’utilisateur, afin d’empêcher les utilisateurs d’exécuter des programmes qui tentent d’effectuer des opérations que l’utilisateur n’envisage pas ou n’autorisent pas.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-128">Windows Vista and Windows 7 have a newer model for user rights, to help prevent users from running programs that attempt to perform operations that the user doesn't intend or authorize.</span></span> <span data-ttu-id="ff4f4-129">À cette fin, le contrôle de compte d’utilisateur (précédemment appelé compte d’utilisateur doté de privilèges minimum ou LUA) permet aux utilisateurs d’utiliser l’ordinateur avec des droits de bas niveau la plupart du temps, tout en étant en mesure d’exécuter facilement des applications qui nécessitent des droits de niveau supérieur, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-129">To that end, User Account Control (formerly called Least-privileged User Account or LUA) enables users to operate the computer with low-level rights most of the time, while being able to easily run applications that require higher-level rights, when necessary.</span></span> <span data-ttu-id="ff4f4-130">Cela signifie que les comptes d’utilisateur standard et les comptes d’administrateur exécutent tous les deux des applications avec des droits d’utilisateur standard, mais seuls les comptes d’administrateur ont la possibilité d’accorder des droits élevés aux applications.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-130">This means that Standard User accounts and Administrator accounts both run applications with Standard User rights, but only Administrator accounts have the ability to grant elevated rights to applications.</span></span> <span data-ttu-id="ff4f4-131">Le système d’exploitation demande aux utilisateurs avec des comptes d’administrateur une autorisation explicite avant d’exécuter une application avec des droits élevés, et si un programme qui requiert des droits d’administrateur est exécuté sur un compte d’utilisateur standard, le système vous invite à confirmer l’approbation de l’administrateur.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-131">The operating system asks users with Administrator accounts for explicit consent before running an application with elevated rights, and if a program that requires Administrator rights is run on a Standard User account, the system prompts for Administrator approval.</span></span>

## <a name="games-that-require-only-occasional-patches"></a><span data-ttu-id="ff4f4-132">Jeux nécessitant uniquement des correctifs occasionnels</span><span class="sxs-lookup"><span data-stu-id="ff4f4-132">Games that Require Only Occasional Patches</span></span>

<span data-ttu-id="ff4f4-133">Certains jeux n’ont besoin que de quelques correctifs tout au long de leur cycle de vie.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-133">Some games only require a few patches throughout their lifecycle.</span></span> <span data-ttu-id="ff4f4-134">Deux méthodes que vous pouvez utiliser pour cette fréquence de mise à jour corrective sont la distribution de correctifs en tant que packages de Windows Installer, ce qui ne nécessite généralement pas de droits d’administrateur ou d’utilisation d’un autre type de distribution qui modifie directement les fichiers de jeu.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-134">Two methods that you can employ for this frequency of patching are to distribute patches as Windows Installer packages, which does not generally require Administrator rights, or to use some other type of distribution that directly modifies game files.</span></span>

> [!Note]  
> <span data-ttu-id="ff4f4-135">Indépendamment du fait qu’un jeu nécessite des mises à jour correctives fréquentes, les applications requièrent généralement l’installation ou la suppression des droits d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-135">Regardless of whether a game requires frequent patching, applications typically require Administrator rights to be installed or removed.</span></span>

 

### <a name="method-1-use-windows-installer-for-occasional-patches"></a><span data-ttu-id="ff4f4-136">Méthode 1 : utiliser Windows Installer pour les correctifs occasionnels</span><span class="sxs-lookup"><span data-stu-id="ff4f4-136">Method 1: Use Windows Installer for Occasional Patches</span></span>

<span data-ttu-id="ff4f4-137">Dans cette méthode, un Windows Installer est utilisé pour installer un package (fichier. msi) et un correctif Windows Installer (fichier. msp) est distribué pour installer les correctifs.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-137">In this method, a Windows Installer is used to install a package (.msi file) and a Windows Installer patch (.msp file) is distributed to install patches.</span></span> <span data-ttu-id="ff4f4-138">Le package doit avoir une table MsiPatchCertificate, et le correctif doit être signé numériquement par un certificat dans la table.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-138">The package must have an MsiPatchCertificate table, and the patch must be digitally signed by a certificate in the table.</span></span> <span data-ttu-id="ff4f4-139">Pour plus d’informations sur la signature numérique, consultez [signature Authenticode pour les développeurs de jeux](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span><span class="sxs-lookup"><span data-stu-id="ff4f4-139">More information about digital signing can be found at [Authenticode Signing for Game Developers](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span></span>

<span data-ttu-id="ff4f4-140">Pour plus d’informations et pour connaître la configuration requise pour utiliser cette méthode de mise à jour, consultez la documentation Windows Installer :</span><span class="sxs-lookup"><span data-stu-id="ff4f4-140">More details and requirements to use this patching method can be found in the Windows Installer documentation:</span></span>

-   [<span data-ttu-id="ff4f4-141">Correctifs et mises à niveau</span><span class="sxs-lookup"><span data-stu-id="ff4f4-141">Patching and Upgrades</span></span>](/windows/desktop/Msi/patching-and-upgrades)
-   [<span data-ttu-id="ff4f4-142">Mise à jour corrective du contrôle de compte d’utilisateur (UAC)</span><span class="sxs-lookup"><span data-stu-id="ff4f4-142">User Account Control (UAC) Patching</span></span>](/windows/desktop/Msi/user-account-control--uac--patching)

<span data-ttu-id="ff4f4-143">L’inconvénient de cette méthode est que si le jeu n’a pas été installé à partir d’un support amovible sur Windows XP, la mise à jour corrective nécessite des droits d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-143">The disadvantage to this method is that if the game was not installed from removable media on Windows XP, then patching requires Administrator rights.</span></span> <span data-ttu-id="ff4f4-144">Toutefois, cela n’est probablement pas trop restrictif, car la plupart des utilisateurs administrateurs sur Windows XP et la restriction aux logiciels installés à partir de supports amovibles ne sont pas présentes sur Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-144">However, this not likely to be too restrictive, because most users administrators on Windows XP, and the restriction to software installed from removable media is not present on Windows Vista.</span></span>

<span data-ttu-id="ff4f4-145">Le principal avantage de cette méthode est que les correctifs peuvent être appliqués par un compte d’utilisateur standard sans nécessiter d’invite ni d’authentification pour des droits élevés.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-145">The main advantage of this method is that patches can be applied by a Standard User account without requiring a prompt and authentication for elevated rights.</span></span> <span data-ttu-id="ff4f4-146">Cela offre une meilleure expérience utilisateur, car pour jouer un jeu, un utilisateur disposant d’un compte d’utilisateur standard n’a pas besoin de demander à une personne disposant d’un compte d’administrateur pour installer le correctif ou de fournir au compte d’utilisateur standard des droits d’administrateur permanents.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-146">This provides a better user experience, because to play a game, a user with a Standard User account doesn't need to ask someone with an Administrator account to install the patch or to provide the Standard User account with permanent Administrator rights.</span></span>

<span data-ttu-id="ff4f4-147">Il est possible que cette méthode fonctionne pour les jeux qui nécessitent des correctifs fréquents, mais la surcharge liée à l’utilisation d’Windows Installer packages, en termes d’intégration de build et de prise en charge d’un grand nombre de fichiers, peut rendre cette méthode moins souhaitable que d’autres.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-147">It is possible that this method might work for games that require frequent patches, but the overhead of using Windows Installer packages, in terms of build integration and supporting large numbers of files, might make this method less desirable than others.</span></span>

### <a name="method-2-require-administrator-rights-to-apply-patches"></a><span data-ttu-id="ff4f4-148">Méthode 2 : exiger des droits d’administrateur pour appliquer des correctifs</span><span class="sxs-lookup"><span data-stu-id="ff4f4-148">Method 2: Require Administrator Rights to Apply Patches</span></span>

<span data-ttu-id="ff4f4-149">Dans cette méthode, le fichier exécutable qui applique le correctif requiert des droits d’administrateur pour s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-149">In this method, the executable file that applies the patch requires Administrator rights to run.</span></span> <span data-ttu-id="ff4f4-150">Avec les droits d’administrateur, l’exécutable de mise à jour corrective peut modifier directement les fichiers de jeu situés dans% SystemDrive% \\ Program Files.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-150">With Administrator rights, the patching executable can directly modify the game files located in %SystemDrive%\\Program Files.</span></span>

<span data-ttu-id="ff4f4-151">L’avantage de cette méthode est sa simplicité.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-151">The advantage of this method is its simplicity.</span></span> <span data-ttu-id="ff4f4-152">Toutefois, cette méthode n’est pas appropriée si le jeu nécessite des correctifs fréquents, car si un utilisateur disposant d’un compte d’utilisateur standard souhaite jouer un jeu nécessitant des correctifs fréquents, comme un jeu en ligne massivement multi-joueurs, cet utilisateur a deux possibilités :</span><span class="sxs-lookup"><span data-stu-id="ff4f4-152">However, this method is unsuitable if the game needs frequent patches, because if a user with a Standard User account wants to play a game that requires frequent patches, like a massively multi-player online game, then that user has two choices:</span></span>

-   <span data-ttu-id="ff4f4-153">Demandez à un administrateur de se connecter et de corriger le jeu, ce qui peut être gênant pour les deux parties.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-153">Get an Administrator to log on and patch the game, which might be inconvenient for both parties.</span></span>
-   <span data-ttu-id="ff4f4-154">Faire en sorte que son compte soit définitivement élevé avec des droits d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-154">Have his or her account permanently elevated with Administrator rights.</span></span>

> [!Note]  
> <span data-ttu-id="ff4f4-155">La dernière solution affaiblit non seulement la sécurité du système dans son ensemble, mais elle empêche les fonctionnalités importantes, telles que le contrôle parental, de fonctionner.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-155">The latter solution not only weakens the security of the system as a whole, but it prevents important features, like parental controls, from working.</span></span>

 

<span data-ttu-id="ff4f4-156">Lors de l’implémentation de cette méthode, le fichier exécutable qui applique le correctif doit être différent de l’exécutable du jeu.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-156">When implementing this method, the executable file that applies the patch must be different from the game executable.</span></span> <span data-ttu-id="ff4f4-157">Le manifeste de l’exécutable de mise à jour corrective doit spécifier requireAdministrator pour requestedExecutionLevel pour le désigner comme une application qui requiert des droits d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-157">The manifest of the patching executable should specify requireAdministrator for requestedExecutionLevel to denote it as an application that requires Administrator rights.</span></span> <span data-ttu-id="ff4f4-158">Pour plus d’informations sur la procédure à suivre, consultez [pratiques recommandées pour les développeurs et instructions pour les applications dans un environnement de moindre privilège](/previous-versions/dotnet/articles/aa480150(v=msdn.10)), dans « schéma de manifeste d’application ».</span><span class="sxs-lookup"><span data-stu-id="ff4f4-158">More information about how to do this can be found at [Developer Best Practices and Guidelines for Applications in a Least Privileged Environment](/previous-versions/dotnet/articles/aa480150(v=msdn.10)), in "Application Manifest Schema."</span></span>

<span data-ttu-id="ff4f4-159">Lorsque cette méthode est utilisée, même avec les paramètres du manifeste, le fichier exécutable peut encore être lancé sans droits d’administrateur dans deux cas :</span><span class="sxs-lookup"><span data-stu-id="ff4f4-159">When this method is used, even with the settings in the manifest, the executable file might still be launched without Administrator rights in two cases:</span></span>

-   <span data-ttu-id="ff4f4-160">Si le système d’exploitation est Windows XP et que le compte de l’utilisateur est un utilisateur restreint.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-160">If the operating system is Windows XP, and the user's account is a Restricted User.</span></span>
-   <span data-ttu-id="ff4f4-161">Si le système d’exploitation est Windows Vista ou Windows 7, le compte de l’utilisateur est un utilisateur standard et le contrôle de compte d’utilisateur est désactivé.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-161">If the operating system is Windows Vista or Windows 7, the user's account is a Standard User, and UAC is disabled.</span></span>

<span data-ttu-id="ff4f4-162">Ces deux scénarios sont rares.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-162">Both of these are rare consumer scenarios.</span></span> <span data-ttu-id="ff4f4-163">Toutefois, le patcher doit avoir le manifeste qui requiert des droits d’administrateur, et il doit appeler [**IsUserAnAdmin**](/windows/desktop/api/shlobj_core/nf-shlobj_core-isuseranadmin); Si cette fonction retourne la valeur FALSe, le message d’erreur « les droits d’administrateur sont requis » s’affiche.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-163">However, the patcher should have the manifest require Administrator rights, and it should call [**IsUserAnAdmin**](/windows/desktop/api/shlobj_core/nf-shlobj_core-isuseranadmin); if this function returns FALSE, the error message "Administrator rights are required" is displayed.</span></span>

<span data-ttu-id="ff4f4-164">Globalement, la méthode 1 est préférable pour les jeux qui n’ont besoin que de quelques correctifs sur leur durée de vie.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-164">Overall, method 1 is preferable for games that need just a few patches over their lifetimes.</span></span>

## <a name="games-that-require-frequent-patches"></a><span data-ttu-id="ff4f4-165">Jeux nécessitant des correctifs fréquents</span><span class="sxs-lookup"><span data-stu-id="ff4f4-165">Games that Require Frequent Patches</span></span>

<span data-ttu-id="ff4f4-166">De nombreux jeux basés sur Internet s’améliorent en permanence et nécessitent généralement des correctifs normaux.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-166">Many Internet-based games are being improved continuously, and they usually require regular patches.</span></span> <span data-ttu-id="ff4f4-167">Pour ces jeux, les correctifs peuvent être appliqués par utilisateur ou par ordinateur, comme indiqué dans les rubriques suivantes.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-167">For these games, patches could be applied per-user or per-computer, as discussed in the follow topics.</span></span> <span data-ttu-id="ff4f4-168">D’autres solutions possibles incluent la modification de la liste de contrôle d’accès qui protège% SystemDrive% \\ Program Files ou la création d’un service personnalisé.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-168">Other possible solutions include altering the ACL that protects %SystemDrive%\\Program Files or creating a custom service.</span></span>

### <a name="method-3-install-per-user"></a><span data-ttu-id="ff4f4-169">Méthode 3 : installer Per-User</span><span class="sxs-lookup"><span data-stu-id="ff4f4-169">Method 3: Install Per-User</span></span>

<span data-ttu-id="ff4f4-170">Une approche recommandée et simple consiste à installer l’ensemble du jeu dans un sous-dossier par utilisateur du dossier de données d’application local, que vous pouvez trouver en appelant [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) avec CSIDL \_ local \_ AppData.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-170">One recommended and easy approach is to install the entire game to a per-user subfolder of the local application data folder, which you can find by calling [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) with CSIDL\_LOCAL\_APPDATA.</span></span> <span data-ttu-id="ff4f4-171">Voici un exemple de chemin d’accès : \\ Documents and Settings \\ User name \\ Local Settings \\ Application Data \\ ExampleGame.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-171">An example path is C:\\Documents and Settings\\user name\\Local Settings\\Application Data\\ExampleGame.</span></span> <span data-ttu-id="ff4f4-172">Un tel emplacement permet à une application qui s’exécute avec des droits d’utilisateur standard de modifier directement les fichiers de jeu.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-172">Such a location allows an application running with Standard User rights to directly modify game files.</span></span>

<span data-ttu-id="ff4f4-173">Toutefois, il y a un inconvénient à cette approche lorsqu’un ordinateur a plusieurs utilisateurs : chaque utilisateur dispose d’une copie du jeu installée, et les correctifs doivent être téléchargés et appliqués par chaque utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-173">However, there is a disadvantage to this approach when a computer has multiple users: each user has a copy of the game installed, and patches must be downloaded and applied by each user.</span></span> <span data-ttu-id="ff4f4-174">Cela gaspille non seulement l’espace disque et le temps des utilisateurs, mais également l’utilisation de la bande passante réseau pour le serveur qui fournit des correctifs.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-174">This wastes not only users' time and disk space, but it also increases use of network bandwidth to the server that provides patches.</span></span> <span data-ttu-id="ff4f4-175">En outre, étant donné que toute application avec des droits d’utilisateur standard peut modifier le jeu, les exécutables de jeu sont moins protégés. Il revient au fabricant du jeu de décider si cela est acceptable ou non.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-175">Also, because any application with standard user rights can modify the game, game executables are less protected; it is up to the game manufacturer to decide if this is acceptable or not.</span></span>

### <a name="method-4-install-to-a-common-per-computer-location"></a><span data-ttu-id="ff4f4-176">Méthode 4 : installer dans un emplacement de Per-Computer commun</span><span class="sxs-lookup"><span data-stu-id="ff4f4-176">Method 4: Install to a Common Per-Computer Location</span></span>

<span data-ttu-id="ff4f4-177">Une autre méthode consiste à installer les données de jeu non exécutables dans un sous-répertoire du chemin d’accès spécifié par [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) CSIDL \_ Common \_ AppData. un exemple de chemin d’accès est C : \\ Documents and Settings \\ All Users \\ Application Data \\ ExampleGame.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-177">Another method is to install the non-executable game data to a subdirectory of the path specified by [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) CSIDL\_COMMON\_APPDATA; an example path is C:\\Documents and Settings\\All Users\\Application Data\\ExampleGame.</span></span> <span data-ttu-id="ff4f4-178">Il s’agit d’un emplacement partagé pour tous les utilisateurs et il peut être modifié par les applications qui s’exécutent avec des droits d’utilisateur standard.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-178">This is a shared location for all users, and it can be modified by applications that run with Standard User rights.</span></span> <span data-ttu-id="ff4f4-179">Cette méthode réduit la nécessité de réappliquer les correctifs importants lorsque le jeu est lu à partir de plusieurs comptes.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-179">This method minimizes the need to reapply large patches when the game is played from more than one account.</span></span> <span data-ttu-id="ff4f4-180">Les fichiers exécutables du jeu doivent être conservés dans% SystemDrive% \\ Program Files pour réduire le risque d’autres comptes sur le système.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-180">Executable files for the game should be kept in %SystemDrive%\\Programs Files to minimize the risk to other accounts on the system.</span></span> <span data-ttu-id="ff4f4-181">Les fichiers exécutables doivent vérifier l’intégrité du nouveau contenu dans le répertoire partagé, car cet emplacement peut être modifié par un programme ou une personne disposant de droits d’utilisateur standard. envisagez d’utiliser [**MapFileAndCheckSum**](/windows/desktop/api/imagehlp/nf-imagehlp-mapfileandchecksuma) pour calculer une somme de contrôle des fichiers.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-181">The executable files should verify the integrity of the new content in the shared directory, since that location can be modified by a program or person with Standard User rights; consider using [**MapFileAndCheckSum**](/windows/desktop/api/imagehlp/nf-imagehlp-mapfileandchecksuma) to compute a checksum of the files.</span></span>

<span data-ttu-id="ff4f4-182">Cette méthode présente l’avantage de fonctionner aussi bien sur Windows XP que sur Windows Vista, et elle ne nécessite pas de droits d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-182">This method has the advantage of working equally well on both Windows XP and Windows Vista, and it doesn't require Administrator rights.</span></span>

### <a name="other-possibilities"></a><span data-ttu-id="ff4f4-183">Autres possibilités</span><span class="sxs-lookup"><span data-stu-id="ff4f4-183">Other Possibilities</span></span>

<span data-ttu-id="ff4f4-184">En dehors des méthodes déjà évoquées, il est également possible de modifier la liste de contrôle d’accès du dossier de jeu% SystemDrive% \\ Program Files \\ \\ lors de l’installation du jeu afin qu’un outil de mise à jour puisse écrire directement dans les fichiers du jeu, même s’il est exécuté avec des droits d’utilisateur standard.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-184">Outside of the methods already discussed, another possibility is to alter the ACL of %SystemDrive%\\Program Files\\Game Folder\\ when installing the game so that a patching tool can write directly to the game's files even when run with Standard User rights.</span></span> <span data-ttu-id="ff4f4-185">Bien que cela ne soit pas difficile, elle contourne la protection de sécurité offerte par le système aux fichiers du jeu et permet aux programmes malveillants de modifier le contenu de l’annuaire.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-185">While this is not difficult, it does bypass the security protection that the system offers to the game's files and provides an opportunity for malicious programs to alter the contents of the directory.</span></span> <span data-ttu-id="ff4f4-186">Cela n’est pas recommandé et il est fortement recommandé d’utiliser à la place une alternative.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-186">This is not advisable, and it is strongly recommended that an alternative be used instead.</span></span>

<span data-ttu-id="ff4f4-187">Une dernière possibilité consiste à écrire un service personnalisé.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-187">One final possibility is to write a custom service.</span></span> <span data-ttu-id="ff4f4-188">En règle générale, l’écriture d’un service personnalisé pour corriger les jeux n’est pas une bonne idée, car cette action est compliquée et sujette aux erreurs.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-188">In general, writing a custom service to patch games is not a good idea, because doing so is complicated and error-prone.</span></span> <span data-ttu-id="ff4f4-189">Il est recommandé d’appliquer les correctifs à l’aide d’autres méthodes décrites dans cet article.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-189">It is recommended that patching be done by use of other methods discussed in this article.</span></span> <span data-ttu-id="ff4f4-190">Toutefois, un service personnalisé peut être nécessaire lorsqu’il est combiné à des solutions anti-fraude ou anti-piratage.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-190">However, a custom service might be necessary when combined with anti-cheat or anti-piracy solutions.</span></span> <span data-ttu-id="ff4f4-191">Un tel service doit prendre en charge un grand nombre de jeux et être conçu de façon à ce qu’il ne puisse télécharger les fichiers de correctifs et écrire que dans le répertoire d’installation du jeu cible.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-191">Such a service should support a large number of games and be designed so that it can only download the patch files and write only to the installation directory for the target game.</span></span> <span data-ttu-id="ff4f4-192">Il est important que le service soit de petite taille, ait une surface d’exposition minimale vulnérable aux attaques et utilise le moins de ressources système possible lorsque le jeu n’est pas en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-192">It is important that the service be small, have a minimal surface area that is vulnerable to attack, and use as few system resources as possible when the game is not running.</span></span>

## <a name="summary"></a><span data-ttu-id="ff4f4-193">Résumé</span><span class="sxs-lookup"><span data-stu-id="ff4f4-193">Summary</span></span>

<span data-ttu-id="ff4f4-194">Au final, c’est à vous de décider quelle méthode mettre en œuvre.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-194">Ultimately, it is up to you to decide which method to implement.</span></span> <span data-ttu-id="ff4f4-195">Vous devez peser les facteurs qui sont importants pour vous.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-195">You need to weigh the factors are that are important to you.</span></span> <span data-ttu-id="ff4f4-196">La sécurité, la fréquence des mises à jour correctives, la facilité d’utilisation par le client, la charge de travail nécessaire pour implémenter, la complexité de la solution et la conformité des fonctionnalités de la plateforme sont les facteurs que chaque développeur doit prendre en compte avant de décider d’une méthode particulière.</span><span class="sxs-lookup"><span data-stu-id="ff4f4-196">Security, frequency of patching, ease of use by customer, workload required to implement, complexity of solution, and platform feature compliance are the factors that each developer must consider before deciding on a particular method.</span></span>

<span data-ttu-id="ff4f4-197">Vous trouverez plus d’informations sur la protection des comptes d’utilisateur dans [Configuration requise pour le développement d’applications Windows Vista pour le contrôle de compte d’utilisateur](/previous-versions/aa905330(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="ff4f4-197">You can find more information about user account protection in [Windows Vista Application Development Requirements for User Account Control (UAC)](/previous-versions/aa905330(v=msdn.10)).</span></span>

 

 