---
title: Techniques courantes pour améliorer les mappages de profondeur d’ombre
description: Cet article technique fournit une vue d’ensemble de certains algorithmes de mappage de profondeur de tons foncés courants et des artefacts courants, et explique plusieurs techniques, allant des problèmes de base à intermédiaire, qui peuvent être utilisées pour augmenter la qualité des cartes fictives standard.
ms.assetid: bf994838-a261-0379-9301-eb9b250d216c
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8b25507d7f6b8608d4dacf5fab620bc8a3294c7
ms.sourcegitcommit: 218b1ff779402c3ebe1786679e1aa80a5c0d6c95
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/01/2020
ms.locfileid: "103730709"
---
# <a name="common-techniques-to-improve-shadow-depth-maps"></a><span data-ttu-id="8711c-103">Techniques courantes pour améliorer les mappages de profondeur d’ombre</span><span class="sxs-lookup"><span data-stu-id="8711c-103">Common Techniques to Improve Shadow Depth Maps</span></span>

<span data-ttu-id="8711c-104">Les mappages d’ombres, introduits dans 1978, sont une technique courante pour ajouter des ombres aux jeux.</span><span class="sxs-lookup"><span data-stu-id="8711c-104">Shadow maps, first introduced in 1978, are a common technique for adding shadows to games.</span></span> <span data-ttu-id="8711c-105">Trois décennies plus tard, malgré les avancées matérielles et logicielles, les artefacts occultants, à savoir la scintillement des bords, l’utilisation des alias de perspective et d’autres problèmes de précision, persistent.</span><span class="sxs-lookup"><span data-stu-id="8711c-105">Three decades later, despite advances in hardware and software, shadowing artifacts—namely shimmering edges, perspective aliasing, and other precision issues—persist.</span></span>

<span data-ttu-id="8711c-106">Cet article technique fournit une vue d’ensemble de certains algorithmes de mappage de profondeur de tons foncés courants et des artefacts courants, et explique plusieurs techniques, allant des problèmes de base à intermédiaire, qui peuvent être utilisées pour augmenter la qualité des cartes fictives standard.</span><span class="sxs-lookup"><span data-stu-id="8711c-106">This technical article provides an overview of some common shadow depth map algorithms and common artifacts, and explains several techniques—ranging in difficulty from basic to intermediate—that can be used to increase the quality of standard shadow maps.</span></span> <span data-ttu-id="8711c-107">L’ajout de mappages d’ombres de base à un titre est généralement simple, mais la compréhension des nuances des artefacts d’ombre peut être difficile.</span><span class="sxs-lookup"><span data-stu-id="8711c-107">Adding basic shadow maps to a title typically is straightforward, but understanding the nuances of shadow artifacts can be challenging.</span></span> <span data-ttu-id="8711c-108">Cet article technique est destiné aux développeurs de graphiques intermédiaires qui ont implémenté des ombres, mais ne comprend pas entièrement pourquoi des artefacts spécifiques s’affichent et ne vous empêche pas de les contourner.</span><span class="sxs-lookup"><span data-stu-id="8711c-108">This technical article is written for the intermediate graphics developer who has implemented shadows, but does not fully understand why specific artifacts appear and is not sure how to work around them.</span></span>

<span data-ttu-id="8711c-109">La sélection des techniques appropriées pour limiter les artefacts spécifiques n’est pas négligeable.</span><span class="sxs-lookup"><span data-stu-id="8711c-109">Selecting the correct techniques to mitigate specific artifacts is nontrivial.</span></span> <span data-ttu-id="8711c-110">En cas de défaillance de la carte fictive, la différence de qualité peut être impressionnante (figure 1).</span><span class="sxs-lookup"><span data-stu-id="8711c-110">When shadow map shortcomings are addressed, the difference in quality can be impressive (Figure 1).</span></span> <span data-ttu-id="8711c-111">L’implémentation correcte de ces techniques améliore radicalement les ombres standard.</span><span class="sxs-lookup"><span data-stu-id="8711c-111">Correctly implementing these techniques drastically improves standard shadows.</span></span> <span data-ttu-id="8711c-112">Les techniques expliquées dans cet article sont implémentées dans l’exemple de CascadedShadowMaps11 dans le kit de développement logiciel (SDK) DirectX.</span><span class="sxs-lookup"><span data-stu-id="8711c-112">The techniques explained in this article are implemented in the sample CascadedShadowMaps11 in the DirectX SDK.</span></span>

<span data-ttu-id="8711c-113">**Figure 1. Shadows avec des artefacts graves (à gauche) et des ombres après avoir implémenté les techniques décrites dans cet article (à droite)**</span><span class="sxs-lookup"><span data-stu-id="8711c-113">**Figure 1. Shadows with severe artifacts (left), and shadows after implementing the techniques described in this article (right)**</span></span>

![Shadows avec des artefacts graves (à gauche) et des ombres après avoir implémenté les techniques décrites dans cet article (à droite)](images/shadows-before-and-after.jpg)

## <a name="shadow-depth-maps-review"></a><span data-ttu-id="8711c-115">Revue des cartes de profondeur des ombres</span><span class="sxs-lookup"><span data-stu-id="8711c-115">Shadow Depth Maps Review</span></span>

<span data-ttu-id="8711c-116">L’algorithme de mappage de profondeur d’ombre est un algorithme à deux passes.</span><span class="sxs-lookup"><span data-stu-id="8711c-116">The shadow depth map algorithm is a two-pass algorithm.</span></span> <span data-ttu-id="8711c-117">La première passe génère une carte de profondeur dans l’espace clair.</span><span class="sxs-lookup"><span data-stu-id="8711c-117">The first pass generates a depth map in light space.</span></span> <span data-ttu-id="8711c-118">Dans la deuxième passe, cette carte est utilisée pour comparer la profondeur de chaque pixel dans l’espace clair par rapport à sa profondeur correspondante dans le mappage de profondeur d’espace clair.</span><span class="sxs-lookup"><span data-stu-id="8711c-118">In the second pass, this map is used to compare each pixel's depth in light space against its corresponding depth in the light space depth map.</span></span>

<span data-ttu-id="8711c-119">**Figure 2. Éléments clés d’une scène fictive**</span><span class="sxs-lookup"><span data-stu-id="8711c-119">**Figure 2. Key parts of a shadow scene**</span></span>

![éléments clés d’une scène fictive](images/key-parts-of-shadow-scene.jpg)

### <a name="pass-1"></a><span data-ttu-id="8711c-121">Passe 1</span><span class="sxs-lookup"><span data-stu-id="8711c-121">Pass 1</span></span>

<span data-ttu-id="8711c-122">La scène est illustrée à la figure 2.</span><span class="sxs-lookup"><span data-stu-id="8711c-122">The scene is shown in Figure 2.</span></span> <span data-ttu-id="8711c-123">Dans la première passe (figure 3), la géométrie est rendue dans une mémoire tampon de profondeur à partir du point de vue de la lumière.</span><span class="sxs-lookup"><span data-stu-id="8711c-123">In the first pass (Figure 3), the geometry is rendered into a depth buffer from the point of view of the light.</span></span> <span data-ttu-id="8711c-124">Plus précisément, le nuanceur vertex transforme la géométrie en espace de vue claire.</span><span class="sxs-lookup"><span data-stu-id="8711c-124">More specifically, the vertex shader transforms the geometry into light-view space.</span></span>

<span data-ttu-id="8711c-125">Le résultat final de cette première passe est un tampon de profondeur contenant les informations de profondeur de la scène du point de vue de la lumière.</span><span class="sxs-lookup"><span data-stu-id="8711c-125">The end result of this first pass is a depth buffer containing the scene's depth information from the point of view of the light.</span></span> <span data-ttu-id="8711c-126">Cela peut maintenant être utilisé dans la passe 2 pour déterminer les pixels bloqués à partir de la lumière.</span><span class="sxs-lookup"><span data-stu-id="8711c-126">This now can be used in pass 2 to determine which pixels are occluded from the light.</span></span>

<span data-ttu-id="8711c-127">**Figure 3. Première passe du mappage de clichés instantanés de base**</span><span class="sxs-lookup"><span data-stu-id="8711c-127">**Figure 3. First pass of basic shadow mapping**</span></span>

![première passe du mappage de clichés instantanés de base](images/first-pass-of-basic-hadow-mapping.png)

### <a name="pass-2"></a><span data-ttu-id="8711c-129">Passe 2</span><span class="sxs-lookup"><span data-stu-id="8711c-129">Pass 2</span></span>

<span data-ttu-id="8711c-130">Au cours de la deuxième passe (figure 4), le nuanceur vertex transforme chaque sommet à deux reprises.</span><span class="sxs-lookup"><span data-stu-id="8711c-130">In the second pass (Figure 4), the vertex shader transforms each vertex twice.</span></span> <span data-ttu-id="8711c-131">Chaque vertex est transformé en espace d’affichage de la caméra et passé au nuanceur de pixels comme position.</span><span class="sxs-lookup"><span data-stu-id="8711c-131">Each vertex is transformed into the camera's view space and passed to the pixel shader as the position.</span></span> <span data-ttu-id="8711c-132">Chaque vertex est également transformé par la matrice vue-projection-texture de la lumière et est passé au nuanceur de pixels comme une coordonnée de texture.</span><span class="sxs-lookup"><span data-stu-id="8711c-132">Each vertex is also transformed by the light's view-projection-texture matrix and passed to the pixel shader as a texture coordinate.</span></span> <span data-ttu-id="8711c-133">La matrice vue-projection-texture est la même matrice que celle utilisée pour restituer la scène dans la passe 1 avec une transformation supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="8711c-133">The view-projection-texture matrix is the same matrix used to render the scene in pass 1 with one additional transform.</span></span> <span data-ttu-id="8711c-134">Il s’agit d’une transformation qui met à l’échelle et traduit les points de l’espace d’affichage (– 1 à 1 dans X et Y) à l’espace de texture (de 0 à 1 dans X et de 1 à 0 dans Y).</span><span class="sxs-lookup"><span data-stu-id="8711c-134">It's a transformation that scales and translates the points from view space (–1 to 1 in X and Y) to texture space (0 to 1 in X and 1 to 0 in Y).</span></span>

<span data-ttu-id="8711c-135">Le nuanceur de pixels reçoit la position interpolée et les coordonnées de texture interpolées.</span><span class="sxs-lookup"><span data-stu-id="8711c-135">The pixel shader receives the interpolated position and the interpolated texture coordinates.</span></span> <span data-ttu-id="8711c-136">Tout ce dont vous avez besoin pour effectuer le test de profondeur est maintenant dans cette coordonnée de texture.</span><span class="sxs-lookup"><span data-stu-id="8711c-136">Everything needed to perform the depth test is now in this texture coordinate.</span></span> <span data-ttu-id="8711c-137">Le test de profondeur peut maintenant être effectué en indexant la mémoire tampon de profondeur à partir du premier passage avec les coordonnées de texture X et Y et en comparant la valeur de profondeur obtenue à la coordonnée de la texture Z.</span><span class="sxs-lookup"><span data-stu-id="8711c-137">The depth test can now be performed by indexing the depth buffer from the first pass with the X and Y texture coordinates and comparing the resulting depth value against the Z-texture coordinate.</span></span>

<span data-ttu-id="8711c-138">**Figure 4. Deuxième passe du mappage de clichés instantanés de base**</span><span class="sxs-lookup"><span data-stu-id="8711c-138">**Figure 4. Second pass of basic shadow mapping**</span></span>

![deuxième passe du mappage de clichés instantanés de base](images/second-pass-of-basic-shadow-mapping.png)

## <a name="shadow-map-artifacts"></a><span data-ttu-id="8711c-140">Artefacts de mappage d’ombre</span><span class="sxs-lookup"><span data-stu-id="8711c-140">Shadow Map Artifacts</span></span>

<span data-ttu-id="8711c-141">L’algorithme de mappage de profondeur d’ombre est l’algorithme d’occultation en temps réel le plus largement utilisé, mais produit toujours plusieurs artefacts nécessitant une atténuation.</span><span class="sxs-lookup"><span data-stu-id="8711c-141">The shadow depth map algorithm is the most widely used real-time shadowing algorithm, but still produces several artifacts requiring mitigation.</span></span> <span data-ttu-id="8711c-142">Les types d’artefacts qui peuvent se produire sont résumés ci-après.</span><span class="sxs-lookup"><span data-stu-id="8711c-142">The types of artifacts that can occur are summarized next.</span></span>

### <a name="perspective-aliasing"></a><span data-ttu-id="8711c-143">Alias de perspective</span><span class="sxs-lookup"><span data-stu-id="8711c-143">Perspective Aliasing</span></span>

<span data-ttu-id="8711c-144">L’alias de perspective, un artefact courant, est illustré à la figure 5.</span><span class="sxs-lookup"><span data-stu-id="8711c-144">Perspective aliasing, a common artifact, is shown in Figure 5.</span></span> <span data-ttu-id="8711c-145">Cela se produit lorsque le mappage de pixels dans l’espace d’affichage aux texels dans le mappage des ombres n’est pas un ratio un-à-un.</span><span class="sxs-lookup"><span data-stu-id="8711c-145">It occurs when the mapping of pixels in view space to texels in the shadow map is not a one-to-one ratio.</span></span> <span data-ttu-id="8711c-146">Cela est dû au fait que les pixels proches du plan proche sont plus proches et nécessitent une résolution de plus en plus grande de la carte fictive.</span><span class="sxs-lookup"><span data-stu-id="8711c-146">This is because pixels close to the near plane are closer together and require a higher shadow map resolution.</span></span>

<span data-ttu-id="8711c-147">La figure 6 illustre un mappage d’ombre et un frustum d’affichage.</span><span class="sxs-lookup"><span data-stu-id="8711c-147">Figure 6 shows a shadow map and a view frustum.</span></span> <span data-ttu-id="8711c-148">Près de l’œil, les pixels sont plus proches et de nombreux pixels correspondent aux mêmes texels d’ombre.</span><span class="sxs-lookup"><span data-stu-id="8711c-148">Near the eye, the pixels are closer together, and many pixels map to the same shadow texels.</span></span> <span data-ttu-id="8711c-149">Les pixels du plan Far sont répartis, réduisant ainsi les alias de perspective.</span><span class="sxs-lookup"><span data-stu-id="8711c-149">The pixels by the far plane are spread out, thereby reducing perspective aliasing.</span></span>

<span data-ttu-id="8711c-150">**Figure 5. Alias haute perspective (à gauche) et alias à faible perspective (à droite)**</span><span class="sxs-lookup"><span data-stu-id="8711c-150">**Figure 5. High-perspective aliasing (left) vs. low-perspective aliasing (right)**</span></span>

![alias haute perspective (à gauche) et alias à faible perspective (à droite)](images/high-perspective-aliasing-vs-low-perspective-aliasing.jpg)

<span data-ttu-id="8711c-152">Pour l’image à gauche, l’alias de perspective est plus élevé ; un trop grand nombre de pixels d’espace œil est mappé aux mêmes texels de mappages instantanés.</span><span class="sxs-lookup"><span data-stu-id="8711c-152">For the image at left, perspective aliasing is higher; too many eye-space pixels map to the same shadow-map texels.</span></span> <span data-ttu-id="8711c-153">Dans l’image à droite, l’alias de perspective est faible, car il y a un mappage de 1:1 entre les pixels d’espace œil et les texels de la carte ombrée.</span><span class="sxs-lookup"><span data-stu-id="8711c-153">In the image at right, perspective aliasing is low because there is a 1:1 mapping between the eye-space pixels and shadow-map texels.</span></span>

<span data-ttu-id="8711c-154">**Figure 6. Afficher les frustum avec le mappage d’ombre**</span><span class="sxs-lookup"><span data-stu-id="8711c-154">**Figure 6. View frustum with shadow map**</span></span>

![afficher les frustum avec le mappage d’ombre](images/view-frustum-with-shadow-map.jpg)

<span data-ttu-id="8711c-156">Les pixels clairs dans le plan Far représentent les alias de faible perspective, tandis que les pixels foncés dans le plan near représentent les alias de perspective haute.</span><span class="sxs-lookup"><span data-stu-id="8711c-156">Light pixels in the far plane represent low-perspective aliasing, and dark pixels in the near plane represent high-perspective aliasing.</span></span>

<span data-ttu-id="8711c-157">La résolution de la carte fictive peut également être trop élevée.</span><span class="sxs-lookup"><span data-stu-id="8711c-157">Shadow map resolution can also be too high.</span></span> <span data-ttu-id="8711c-158">Bien qu’une résolution plus élevée soit moins perceptible, elle peut néanmoins entraîner des petits objets, tels que des câbles téléphoniques, et non des ombres.</span><span class="sxs-lookup"><span data-stu-id="8711c-158">Although a higher resolution is less noticeable, it nevertheless can result in small objects, such as telephone wires, not casting shadows.</span></span> <span data-ttu-id="8711c-159">En outre, une résolution trop élevée peut entraîner de graves problèmes de performances en raison des modèles d’accès à la texture.</span><span class="sxs-lookup"><span data-stu-id="8711c-159">Also, having too high of a resolution can cause severe performance issues because of texture access patterns.</span></span>

<span data-ttu-id="8711c-160">Les mappages d’ombre de perspective (PSMs) et les mappages d’ombres en perspective d’espace clair (LSPSMs) tentent d’adresser des alias de perspective en inclinant la matrice de projection de la lumière afin de placer plus de texels à proximité de l’œil où elles sont nécessaires.</span><span class="sxs-lookup"><span data-stu-id="8711c-160">Perspective shadow maps (PSMs) and light space perspective shadow maps (LSPSMs) attempt to address perspective aliasing by skewing the light's projection matrix in order to place more texels near the eye where they are needed.</span></span> <span data-ttu-id="8711c-161">Malheureusement, aucune technique ne peut résoudre l’alias de perspective.</span><span class="sxs-lookup"><span data-stu-id="8711c-161">Unfortunately, neither technique is able to solve the perspective aliasing.</span></span> <span data-ttu-id="8711c-162">Le paramétrage de la transformation nécessaire pour mapper les pixels de l’espace œil aux texels dans le mappage des ombres ne peut pas être lié par un décalage linéaire.</span><span class="sxs-lookup"><span data-stu-id="8711c-162">The parameterization of the transform required to map eye-space pixels to texels in the shadow map cannot be bound by a linear skew.</span></span> <span data-ttu-id="8711c-163">Un paramétrage logarithmique est requis.</span><span class="sxs-lookup"><span data-stu-id="8711c-163">A logarithmic parameterization is required.</span></span> <span data-ttu-id="8711c-164">Les PSMs placent trop de détails près de l’oeil, ce qui amène les ombres éloignées à être de faible qualité ou à disparaître.</span><span class="sxs-lookup"><span data-stu-id="8711c-164">PSMs put too much detail near the eye, causing distant shadows to be of low quality or to even disappear.</span></span> <span data-ttu-id="8711c-165">Les LSPSMs permettent de mieux trouver un fond central entre une résolution plus importante et une plus grande partie de l’oeil et de laisser suffisamment de détails pour les objets.</span><span class="sxs-lookup"><span data-stu-id="8711c-165">LSPSMs do a better job of finding a middle ground between increasing resolution near the eye, and leaving enough detail for objects far away.</span></span> <span data-ttu-id="8711c-166">Les deux techniques dégénèrent les ombres orthographiques dans certaines configurations de scène.</span><span class="sxs-lookup"><span data-stu-id="8711c-166">Both techniques degenerate to orthographic shadows in some scene configurations.</span></span> <span data-ttu-id="8711c-167">Cette dégénération peut être contrecarrée par le rendu d’un mappage d’ombre distinct pour chaque face de la vue frustum, bien que cela soit onéreux.</span><span class="sxs-lookup"><span data-stu-id="8711c-167">This degeneration can be counteracted by rendering a separate shadow map for each face of the view frustum, although this is expensive.</span></span> <span data-ttu-id="8711c-168">Les cartes fictives de perspective logarithmique (LogPSMs) affichent également une carte séparée par face de la vue frustum.</span><span class="sxs-lookup"><span data-stu-id="8711c-168">Logarithmic perspective shadow maps (LogPSMs) also render a separate map per face of the view frustum.</span></span> <span data-ttu-id="8711c-169">Cette technique utilise la pixellisation non linéaire pour placer plus de texels près de l’œil.</span><span class="sxs-lookup"><span data-stu-id="8711c-169">This technique uses nonlinear rasterization to place more texels near the eye.</span></span> <span data-ttu-id="8711c-170">Le matériel de classe D3D10 et D3D11 ne prend pas en charge la pixellisation non linéaire.</span><span class="sxs-lookup"><span data-stu-id="8711c-170">D3D10 and D3D11-class hardware do not support nonlinear rasterization.</span></span> <span data-ttu-id="8711c-171">Pour plus d’informations sur ces techniques et algorithmes, consultez la section Références.</span><span class="sxs-lookup"><span data-stu-id="8711c-171">For more information about these techniques and algorithms, see the References section.</span></span>

<span data-ttu-id="8711c-172">Les CMS sont la technique la plus populaire pour traiter les alias de perspective.</span><span class="sxs-lookup"><span data-stu-id="8711c-172">Cascaded shadow maps (CSMs) are the most popular technique for dealing with perspective aliasing.</span></span> <span data-ttu-id="8711c-173">Bien que CMS puisse être combiné avec PSMs et LSPSMs, il est inutile.</span><span class="sxs-lookup"><span data-stu-id="8711c-173">Although CSMs can be combined with PSMs and LSPSMs, it's unnecessary.</span></span> <span data-ttu-id="8711c-174">L’utilisation de CMS pour corriger les erreurs d’alias de perspective est traitée dans l’article compagnon, les [cartes fictives en cascade](/windows/desktop/DxTechArts/cascaded-shadow-maps).</span><span class="sxs-lookup"><span data-stu-id="8711c-174">Using CSMs to fix perspective aliasing errors is addressed in the companion article, [Cascaded Shadow Maps](/windows/desktop/DxTechArts/cascaded-shadow-maps).</span></span>

### <a name="projective-aliasing"></a><span data-ttu-id="8711c-175">Alias projective</span><span class="sxs-lookup"><span data-stu-id="8711c-175">Projective Aliasing</span></span>

<span data-ttu-id="8711c-176">L’alias projective est plus difficile à afficher que les alias de perspective.</span><span class="sxs-lookup"><span data-stu-id="8711c-176">Projective aliasing is harder to show than perspective aliasing.</span></span> <span data-ttu-id="8711c-177">Les ombres dissimulées mises en surbrillance dans la figure 7 illustrent les erreurs d’alias projective.</span><span class="sxs-lookup"><span data-stu-id="8711c-177">The distended shadows highlighted in Figure 7 demonstrate projective aliasing errors.</span></span> <span data-ttu-id="8711c-178">L’alias projective se produit lorsque le mappage entre les texels de l’espace de l’appareil photo et les texels dans l’espace clair n’est pas un ratio un-à-un. Cela est dû à l’orientation de la géométrie par rapport à la caméra légère.</span><span class="sxs-lookup"><span data-stu-id="8711c-178">Projective aliasing occurs when the mapping between texels in camera space to texels in light space is not a one-to-one ratio; this is because of the orientation of the geometry with respect to the light camera.</span></span> <span data-ttu-id="8711c-179">L’alias projective se produit lorsque le plan tangent de la géométrie devient parallèle aux rayons légers.</span><span class="sxs-lookup"><span data-stu-id="8711c-179">Projective aliasing occurs as the tangent plane of the geometry becomes parallel to the light rays.</span></span>

<span data-ttu-id="8711c-180">**Figure 7. Crénelage (High-projection alias) et alias à faible projection**</span><span class="sxs-lookup"><span data-stu-id="8711c-180">**Figure 7. High-projective aliasing vs. low-projective aliasing**</span></span>

![crénelage (High-projection alias) et alias à faible projection](images/high-projective-aliasing-vs-low%20projective-aliasing.jpg)

<span data-ttu-id="8711c-182">Les techniques utilisées pour atténuer les erreurs d’alias de perspective atténuent également l’utilisation des alias projective.</span><span class="sxs-lookup"><span data-stu-id="8711c-182">Techniques used to alleviate perspective aliasing errors also mitigate projective aliasing.</span></span> <span data-ttu-id="8711c-183">L’alias projective se produit lorsque la surface normale est orthogonale à la lumière ; ces surfaces doivent recevoir moins de lumière en fonction des équations d’éclairage diffus.</span><span class="sxs-lookup"><span data-stu-id="8711c-183">Projective aliasing occurs when the surface normal is orthogonal to the light; these surfaces should be receiving less light based on diffuse lighting equations.</span></span>

### <a name="shadow-acne-and-erroneous-self-shadowing"></a><span data-ttu-id="8711c-184">Shadow-acné et Self-Shadowing erronées</span><span class="sxs-lookup"><span data-stu-id="8711c-184">Shadow Acne and Erroneous Self-Shadowing</span></span>

<span data-ttu-id="8711c-185">Shadow acné (figure 8), un terme synonyme de l’auto-occultation erronée, se produit lorsque la table fictive quantifie la profondeur sur une Texel entière.</span><span class="sxs-lookup"><span data-stu-id="8711c-185">Shadow acne (Figure 8), a term synonymous with erroneous self-shadowing, occurs when the shadow map quantizes the depth over an entire texel.</span></span> <span data-ttu-id="8711c-186">Lorsque le nuanceur compare une profondeur réelle à cette valeur, il est très probable qu’il soit auto-ombré, car il doit être masqué.</span><span class="sxs-lookup"><span data-stu-id="8711c-186">When the shader compares an actual depth against this value, it is as likely to be self-shadowed as it is to be unshadowed.</span></span>

<span data-ttu-id="8711c-187">Une autre raison pour l’acné de l’acné est que le Texel dans l’espace clair est tellement proche de la profondeur du Texel correspondant dans le mappage de profondeur que les erreurs de précision entraînent un échec erroné du test de profondeur.</span><span class="sxs-lookup"><span data-stu-id="8711c-187">Another reason for shadow acne is that the texel in light space is so close to the depth of the corresponding texel in the depth map that precision errors cause the depth test to erroneously fail.</span></span> <span data-ttu-id="8711c-188">L’une des raisons de cette différence de précision est que la carte de profondeur a été calculée par le matériel de pixellisation à fonction fixe, tandis que la profondeur comparée a été calculée par le nuanceur.</span><span class="sxs-lookup"><span data-stu-id="8711c-188">One reason for this precision difference is that the depth map was calculated by the fixed-function rasterization hardware, while the depth being compared was computed by the shader.</span></span> <span data-ttu-id="8711c-189">L’inversion de l’acné peut également entraîner une ombre.</span><span class="sxs-lookup"><span data-stu-id="8711c-189">Projective aliasing can also cause shadow acne.</span></span>

<span data-ttu-id="8711c-190">**Figure 8. Artefact d’acné Shadow**</span><span class="sxs-lookup"><span data-stu-id="8711c-190">**Figure 8. Shadow acne artifact**</span></span>

![artefact d’acné Shadow](images/shadow-acne-artifact.jpg)

<span data-ttu-id="8711c-192">Comme indiqué dans l’image de gauche, certains pixels n’ont pas réussi le test de profondeur et créé des artefacts et des motifs de moiré.</span><span class="sxs-lookup"><span data-stu-id="8711c-192">As shown in the left image, some of pixels failed the depth test and created speckled artifacts and moiré patterns.</span></span> <span data-ttu-id="8711c-193">Pour réduire l’auto-occultation erronée, les limites sur le plan proche et le plan lointain pour la vue de l’espace clair frustum doivent être calculées aussi étroitement que possible.</span><span class="sxs-lookup"><span data-stu-id="8711c-193">In order to reduce erroneous self-shadowing, the bounds on the near plane and the far plane for the light space view frustum should be calculated as tightly as possible.</span></span> <span data-ttu-id="8711c-194">L’écart de profondeur basé sur l’échelle de la pente et les autres types de biais sont les autres solutions utilisées pour atténuer l’acné des ombres.</span><span class="sxs-lookup"><span data-stu-id="8711c-194">The slope scale-based depth bias and other types of bias are other solutions used to mitigate shadow acne.</span></span>

### <a name="peter-panning"></a><span data-ttu-id="8711c-195">Panorama Peter</span><span class="sxs-lookup"><span data-stu-id="8711c-195">Peter Panning</span></span>

<span data-ttu-id="8711c-196">Le terme « *Peter panoramisation* » dérive son nom du livre d’enfants dont l’ombre a été détachée et qui peut voler.</span><span class="sxs-lookup"><span data-stu-id="8711c-196">The term *Peter Panning* derives its name from a children's book character whose shadow became detached and who could fly.</span></span> <span data-ttu-id="8711c-197">Cet artefact permet de détacher des objets avec des ombres manquantes et de les faire flotter au-dessus de la surface (figure 9).</span><span class="sxs-lookup"><span data-stu-id="8711c-197">This artifact makes objects with missing shadows appear to be detached from and to float above the surface (Figure 9).</span></span>

<span data-ttu-id="8711c-198">**Figure 9. Objet panoramique Peter**</span><span class="sxs-lookup"><span data-stu-id="8711c-198">**Figure 9. Peter Panning artifact**</span></span>

![objet panoramique Peter](images/peter-panning-artifact.jpg)

<span data-ttu-id="8711c-200">Dans l’image de gauche, l’ombre est détachée de l’objet, ce qui crée un effet flottant.</span><span class="sxs-lookup"><span data-stu-id="8711c-200">In the image at left, the shadow is detached from the object, creating a floating effect.</span></span>

<span data-ttu-id="8711c-201">Une technique pour la suppression de l’acné de surface consiste à ajouter une valeur à la position de pixel dans l’espace clair ; C’est ce que l’on appelle ajouter un décalage de profondeur.</span><span class="sxs-lookup"><span data-stu-id="8711c-201">One technique for removing surface acne is to add some value to pixel position in light space; this is called adding a depth offset.</span></span> <span data-ttu-id="8711c-202">Peter panoramique des résultats lorsque le décalage de profondeur utilisé est trop grand.</span><span class="sxs-lookup"><span data-stu-id="8711c-202">Peter Panning results when the depth offset used is too large.</span></span> <span data-ttu-id="8711c-203">Dans ce cas, le décalage de profondeur force le test de profondeur à passer à tort.</span><span class="sxs-lookup"><span data-stu-id="8711c-203">In this case the depth offset causes the depth test to erroneously pass.</span></span> <span data-ttu-id="8711c-204">À l’instar de l’acné Shadow, Peter panoramisation est aggravé lorsque la précision est insuffisante dans le tampon de profondeur.</span><span class="sxs-lookup"><span data-stu-id="8711c-204">Like shadow acne, Peter Panning is aggravated when there is insufficient precision in the depth buffer.</span></span> <span data-ttu-id="8711c-205">Le calcul des plans étroits et des plans lointains permet également d’éviter Peter panoramisation.</span><span class="sxs-lookup"><span data-stu-id="8711c-205">Calculating tight near planes and far planes also helps avoid Peter Panning.</span></span>

## <a name="techniques-to-improve-shadow-maps"></a><span data-ttu-id="8711c-206">Techniques d’amélioration des cartes fictives</span><span class="sxs-lookup"><span data-stu-id="8711c-206">Techniques to Improve Shadow Maps</span></span>

<span data-ttu-id="8711c-207">L’ajout d’ombres à un titre est un processus.</span><span class="sxs-lookup"><span data-stu-id="8711c-207">Adding shadows to a title is a process.</span></span> <span data-ttu-id="8711c-208">La première étape consiste à faire fonctionner les cartes fictives de base.</span><span class="sxs-lookup"><span data-stu-id="8711c-208">The first step is to get basic shadow maps working.</span></span> <span data-ttu-id="8711c-209">La seconde consiste à s’assurer que tous les calculs de base sont effectués de façon optimale : Frusta s’adaptent aussi étroitement que possible, les plans proches/Far s’ajustent fortement, l’écart à l’échelle de la pente est utilisé, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="8711c-209">The second is to ensure all basic calculations are done optimally: frusta fit as tightly as possible, near/far planes fit tightly, slope-scaled bias is used, and so on.</span></span> <span data-ttu-id="8711c-210">Une fois que les ombres de base sont activées et qu’elles s’affichent aussi bien que possible, le développeur a une meilleure idée des algorithmes nécessaires pour obtenir les ombres pour une fidélité suffisante.</span><span class="sxs-lookup"><span data-stu-id="8711c-210">Once basic shadows are enabled, and look as good as possible, the developer has a better idea of what algorithms are needed to get the shadows to sufficient fidelity.</span></span> <span data-ttu-id="8711c-211">Les conseils de base qui peuvent être nécessaires pour obtenir des cartes fictives de base en examinant les meilleurs résultats sont fournis dans cette section.</span><span class="sxs-lookup"><span data-stu-id="8711c-211">Basic tips that may be needed to get basic shadow maps looking at their best are given in this section.</span></span>

### <a name="slope-scale-depth-bias"></a><span data-ttu-id="8711c-212">Slope-Scale décalage de profondeur</span><span class="sxs-lookup"><span data-stu-id="8711c-212">Slope-Scale Depth Bias</span></span>

<span data-ttu-id="8711c-213">Comme mentionné précédemment, l’auto-occultation peut entraîner une ombre de l’acné.</span><span class="sxs-lookup"><span data-stu-id="8711c-213">As previously mentioned, self-shadowing can lead to shadow acne.</span></span> <span data-ttu-id="8711c-214">L’ajout d’un décalage trop grand peut entraîner la panoramisation de Peter.</span><span class="sxs-lookup"><span data-stu-id="8711c-214">Adding too much bias can result in Peter Panning.</span></span> <span data-ttu-id="8711c-215">En outre, les polygones avec des pentes abruptes (par rapport à la lumière) sont plus retirés de l’alias projective que les polygones avec des pentes superficielles (par rapport à la lumière).</span><span class="sxs-lookup"><span data-stu-id="8711c-215">Additionally, polygons with steep slopes (relative to the light) suffer more from projective aliasing than polygons with shallow slopes (relative to the light).</span></span> <span data-ttu-id="8711c-216">Pour cette raison, chaque valeur de mappage de profondeur peut avoir besoin d’un décalage différent selon la pente du polygone par rapport à la lumière.</span><span class="sxs-lookup"><span data-stu-id="8711c-216">Because of this, each depth map value may need a different offset depending on the polygon's slope relative to the light.</span></span>

<span data-ttu-id="8711c-217">Le matériel Direct3D 10 a la possibilité de biaiser un polygone en fonction de sa pente par rapport à la direction de la vue.</span><span class="sxs-lookup"><span data-stu-id="8711c-217">Direct3D 10 hardware has the ability to bias a polygon based on its slope with respect to the view direction.</span></span> <span data-ttu-id="8711c-218">Cela a pour effet d’appliquer un grand décalage à un polygone qui est visualisé sur la direction de la lumière, mais qui n’applique pas de biais à un polygone situé directement à l’extrémité de la lumière.</span><span class="sxs-lookup"><span data-stu-id="8711c-218">This has the effect of applying a large bias to a polygon that is viewed edge-on to the light direction, but not applying any bias to a polygon facing the light directly.</span></span> <span data-ttu-id="8711c-219">La figure 10 illustre la manière dont deux pixels voisins peuvent alterner entre les clichés instantanés et non ombrés lorsqu’ils sont testés par rapport à la même pente non biaisée.</span><span class="sxs-lookup"><span data-stu-id="8711c-219">Figure 10 illustrates how two neighboring pixels can alternate between shadowed and unshadowed when testing against the same unbiased slope.</span></span>

<span data-ttu-id="8711c-220">**Figure 10. Décalage de profondeur de pente décalée par rapport à la profondeur non biaisée**</span><span class="sxs-lookup"><span data-stu-id="8711c-220">**Figure 10. Slope scaled depth-bias compared to unbiased depth**</span></span>

![décalage de profondeur de pente décalée par rapport à la profondeur non biaisée](images/slope-scaled-depth-bias-compared-to-unbiased-depth.png)

### <a name="calculating-a-tight-projection"></a><span data-ttu-id="8711c-222">Calcul d’une projection étroite</span><span class="sxs-lookup"><span data-stu-id="8711c-222">Calculating a Tight Projection</span></span>

<span data-ttu-id="8711c-223">L’ajustement étroit de la projection de la lumière sur la vue frustum augmente la couverture de la carte fictive.</span><span class="sxs-lookup"><span data-stu-id="8711c-223">Tightly fitting the light's projection to the view frustum increases the shadow map coverage.</span></span> <span data-ttu-id="8711c-224">La figure 11 illustre que l’utilisation d’une projection arbitraire, ou l’ajustement de la projection aux limites de la scène, produit des alias de perspective plus élevée.</span><span class="sxs-lookup"><span data-stu-id="8711c-224">Figure 11 illustrates that using an arbitrary projection, or fitting the projection to the scene bounds, results in higher perspective aliasing.</span></span>

<span data-ttu-id="8711c-225">**Figure 11. Cliché instantané arbitraire frustum et Shadow frustum ajuster à la scène**</span><span class="sxs-lookup"><span data-stu-id="8711c-225">**Figure 11. Arbitrary shadow frustum and shadow frustum fit to scene**</span></span>

![cliché instantané arbitraire frustum et Shadow frustum ajuster à la scène](images/arbitrary-shadow-frustum-and-shadow-frustum-fit-to-scene.jpg)

<span data-ttu-id="8711c-227">La vue est à partir du point de vue de la lumière.</span><span class="sxs-lookup"><span data-stu-id="8711c-227">The view is from the point of view of the light.</span></span> <span data-ttu-id="8711c-228">La trapèze représente le frustum de l’appareil photo de la vue.</span><span class="sxs-lookup"><span data-stu-id="8711c-228">The trapezoid represents the view camera's frustum.</span></span> <span data-ttu-id="8711c-229">La grille dessinée sur l’image représente le mappage des ombres.</span><span class="sxs-lookup"><span data-stu-id="8711c-229">The grid drawn over the image represents the shadow map.</span></span> <span data-ttu-id="8711c-230">L’image à droite montre que le même mappage de cliché instantané de résolution crée une couverture plus Texel lorsqu’elle s’ajuste plus étroitement à la scène.</span><span class="sxs-lookup"><span data-stu-id="8711c-230">The image on the right shows that the same resolution shadow map creates more texel coverage when it is fit more tightly to the scene.</span></span>

<span data-ttu-id="8711c-231">La figure 12 illustre les frustums qui s’adaptent correctement.</span><span class="sxs-lookup"><span data-stu-id="8711c-231">Figure 12 illustrates frustums that are correctly fit.</span></span> <span data-ttu-id="8711c-232">Pour calculer la projection, les huit points qui composent la vue frustum sont transformés en espace clair.</span><span class="sxs-lookup"><span data-stu-id="8711c-232">To calculate the projection, the eight points that make up the view frustum are transformed into light space.</span></span> <span data-ttu-id="8711c-233">Ensuite, les valeurs minimale et maximale dans X et Y sont trouvées.</span><span class="sxs-lookup"><span data-stu-id="8711c-233">Next, the minimum and maximum values in X and Y are found.</span></span> <span data-ttu-id="8711c-234">Ces valeurs composent les limites d’une projection orthographique.</span><span class="sxs-lookup"><span data-stu-id="8711c-234">These values make up the bounds for an orthographic projection.</span></span>

<span data-ttu-id="8711c-235">**Figure 12. Projection de l’ombre ajuster pour afficher frustum**</span><span class="sxs-lookup"><span data-stu-id="8711c-235">**Figure 12. Shadow projection fit to view frustum**</span></span>

![projection de l’ombre ajuster pour afficher frustum](images/shadow-projection-fit-to-view-frustum.jpg)

<span data-ttu-id="8711c-237">Il est également possible de détourer le frustum en AABB de scène pour obtenir une liaison plus étroite.</span><span class="sxs-lookup"><span data-stu-id="8711c-237">It is also possible to clip the frustum to the scene AABB to get a tighter bound.</span></span> <span data-ttu-id="8711c-238">Cela n’est pas recommandé dans tous les cas, car cela peut modifier la taille de la projection de la caméra légère du cadre en Frame.</span><span class="sxs-lookup"><span data-stu-id="8711c-238">This is not advised in all cases because this can change the size of the light camera's projection from frame to frame.</span></span> <span data-ttu-id="8711c-239">De nombreuses techniques, telles que celles décrites dans la section déplacement de la lumière Texel-Sized incréments, donnent de meilleurs résultats lorsque la taille de la projection de la lumière reste constante dans chaque cadre.</span><span class="sxs-lookup"><span data-stu-id="8711c-239">Many techniques, such as those described in the section Moving the Light Texel-Sized Increments, give better results when the size of the light's projection remains constant in every frame.</span></span>

### <a name="calculating-the-near-plane-and-far-plane"></a><span data-ttu-id="8711c-240">Calcul du plan proche et du plan lointain</span><span class="sxs-lookup"><span data-stu-id="8711c-240">Calculating the Near Plane and Far Plane</span></span>

<span data-ttu-id="8711c-241">Le plan proche et le plan Far sont les éléments finaux requis pour calculer la matrice de projection.</span><span class="sxs-lookup"><span data-stu-id="8711c-241">The near plane and far plane are the final pieces required to calculate the projection matrix.</span></span> <span data-ttu-id="8711c-242">Plus les plans sont rapprochés, plus les valeurs de la mémoire tampon de profondeur sont précises.</span><span class="sxs-lookup"><span data-stu-id="8711c-242">The more closely together the planes are, the more precise the values in the depth buffer.</span></span>

<span data-ttu-id="8711c-243">La mémoire tampon de profondeur peut être 16 bits, 24 bits ou 32 bits, avec des valeurs comprises entre 0 et 1.</span><span class="sxs-lookup"><span data-stu-id="8711c-243">The depth buffer can be 16-bit, 24-bit, or 32-bit, with values between 0 and 1.</span></span> <span data-ttu-id="8711c-244">En règle générale, les mémoires tampons de profondeur sont des points fixes, les valeurs proches du plan proche étant regroupées plus étroitement que les valeurs proches du plan Far.</span><span class="sxs-lookup"><span data-stu-id="8711c-244">Generally, depth buffers are fixed point, with the values close to the near plane grouped more closely together than the values close to the far plane.</span></span> <span data-ttu-id="8711c-245">Le degré de précision disponible pour la mémoire tampon de profondeur est déterminé par le rapport entre le plan near et le plan Far.</span><span class="sxs-lookup"><span data-stu-id="8711c-245">The degree of precision available to the depth buffer is determined by the ratio of the near plane to the far plane.</span></span> <span data-ttu-id="8711c-246">L’utilisation du plan proche/Far le plus étroit pourrait permettre l’utilisation d’une mémoire tampon de profondeur 16 bits.</span><span class="sxs-lookup"><span data-stu-id="8711c-246">Using the tightest possible near/far plane could allow use of a 16-bit depth buffer.</span></span> <span data-ttu-id="8711c-247">Une mémoire tampon de profondeur de 16 bits peut réduire l’utilisation de la mémoire tout en renforçant la vitesse de traitement.</span><span class="sxs-lookup"><span data-stu-id="8711c-247">A 16-bit depth buffer could reduce the use of memory while increasing processing speed.</span></span>

### <a name="aabb-based-near-plane-and-far-plane"></a><span data-ttu-id="8711c-248">AABB-Based près du plan et du plan lointain</span><span class="sxs-lookup"><span data-stu-id="8711c-248">AABB-Based Near Plane and Far Plane</span></span>

<span data-ttu-id="8711c-249">Un moyen simple et naïve de calculer le plan proche et le plan lointain consiste à transformer le volume englobant de la scène en espace clair.</span><span class="sxs-lookup"><span data-stu-id="8711c-249">An easy and naive way to calculate the near plane and far plane is to transform the scene's bounding volume into light space.</span></span> <span data-ttu-id="8711c-250">La plus petite valeur de la coordonnée Z est le plan near et la plus grande valeur de la coordonnée Z est le plan Far.</span><span class="sxs-lookup"><span data-stu-id="8711c-250">The smallest Z-coordinate value is the near plane and the largest Z-coordinate value is the far plane.</span></span> <span data-ttu-id="8711c-251">Pour de nombreuses configurations de la scène et de la lumière, cette approche est suffisante.</span><span class="sxs-lookup"><span data-stu-id="8711c-251">For many configurations of the scene and light, this approach is sufficient.</span></span> <span data-ttu-id="8711c-252">Toutefois, le pire scénario peut entraîner une perte significative de précision dans le tampon de profondeur ; La figure 13 illustre un tel scénario.</span><span class="sxs-lookup"><span data-stu-id="8711c-252">The worst case scenario, however, can result in a significant loss of precision in the depth buffer; Figure 13 shows such a scenario.</span></span> <span data-ttu-id="8711c-253">Ici, la plage du plan near vers le plan FAR est quatre fois supérieure à celle nécessaire.</span><span class="sxs-lookup"><span data-stu-id="8711c-253">Here the range of the near plane to the far plane is four times larger than necessary.</span></span>

<span data-ttu-id="8711c-254">La vue frustum de la figure 13 a été intentionnellement choisie comme petite.</span><span class="sxs-lookup"><span data-stu-id="8711c-254">The view frustum in Figure 13 was purposely chosen to be small.</span></span> <span data-ttu-id="8711c-255">Une petite vue frustum est affichée dans une très grande scène composée de piliers s’étendant à partir de l’appareil photo de la vue.</span><span class="sxs-lookup"><span data-stu-id="8711c-255">A small view frustum is shown in a very large scene consisting of pillars extending out from the view camera.</span></span> <span data-ttu-id="8711c-256">L’utilisation de la scène AABB pour les plans near et Far n’est pas optimale.</span><span class="sxs-lookup"><span data-stu-id="8711c-256">Using the Scene AABB for the near and far planes is not optimal.</span></span> <span data-ttu-id="8711c-257">L’algorithme CSM décrit dans l’article technique des [cartes fictives en cascade](/windows/desktop/DxTechArts/cascaded-shadow-maps) doit calculer des plans proches et éloignés pour les très petits frustums.</span><span class="sxs-lookup"><span data-stu-id="8711c-257">The CSM algorithm described in the [Cascaded Shadow Maps](/windows/desktop/DxTechArts/cascaded-shadow-maps) technical article must calculate near and far planes for very small frustums.</span></span>

<span data-ttu-id="8711c-258">**Figure 13. Plans near et Far basés sur la scène AABB**</span><span class="sxs-lookup"><span data-stu-id="8711c-258">**Figure 13. Near and far planes based on Scene AABB**</span></span>

![plans near et Far basés sur la scène AABB](images/near-far-%20planes-based-on-scene-aabb.jpg)

### <a name="frustum-based-near-plane-and-far-plane"></a><span data-ttu-id="8711c-260">Frustum-Based près du plan et du plan lointain</span><span class="sxs-lookup"><span data-stu-id="8711c-260">Frustum-Based Near Plane and Far Plane</span></span>

<span data-ttu-id="8711c-261">Une autre technique pour calculer les plans near et Far consiste à transformer le frustum en espace clair et à utiliser les valeurs minimales et maximales en Z comme les plans near et Far, respectivement.</span><span class="sxs-lookup"><span data-stu-id="8711c-261">Another technique for calculating the near and far planes is to transform the frustum into light space and use the minimal and maximal values in Z as the near and the far planes, respectively.</span></span> <span data-ttu-id="8711c-262">La figure 14 illustre les deux problèmes de cette approche.</span><span class="sxs-lookup"><span data-stu-id="8711c-262">Figure 14 illustrates the two issues with this approach.</span></span> <span data-ttu-id="8711c-263">Tout d’abord, le calcul est trop prudent, comme indiqué lorsque le frustum s’étend au-delà de la géométrie de la scène.</span><span class="sxs-lookup"><span data-stu-id="8711c-263">First, the calculation is too conservative, as shown when the frustum extends beyond the scene's geometry.</span></span> <span data-ttu-id="8711c-264">Deuxièmement, le plan proche peut être trop étroit, provoquant le rognage des conversions de clichés instantanés.</span><span class="sxs-lookup"><span data-stu-id="8711c-264">Second, the near plane could be too tight, causing shadow casters to be cropped.</span></span>

<span data-ttu-id="8711c-265">**Figure 14. Plans near et Far basés uniquement sur la vue frustum**</span><span class="sxs-lookup"><span data-stu-id="8711c-265">**Figure 14. Near and far planes based solely on view frustum**</span></span>

![plans near et Far basés uniquement sur la vue frustum](images/near-far-planes-based-solely-on-view-frustum.jpg)

### <a name="light-frustum-intersected-with-scene-to-calculate-near-and-far-planes"></a><span data-ttu-id="8711c-267">Frustum clair avec intersection avec la scène pour calculer des plans proches et éloignés</span><span class="sxs-lookup"><span data-stu-id="8711c-267">Light Frustum Intersected with Scene to Calculate Near and Far Planes</span></span>

<span data-ttu-id="8711c-268">La méthode appropriée pour calculer les plans near et FAR est illustrée à la figure 15.</span><span class="sxs-lookup"><span data-stu-id="8711c-268">The proper way to calculate the near and far planes is shown in Figure 15.</span></span> <span data-ttu-id="8711c-269">Quatre des plans de la lumière orthographique frustum ont été calculés en utilisant la valeur minimale et la valeur maximale des coordonnées X et Y de la vue frustum dans l’espace clair.</span><span class="sxs-lookup"><span data-stu-id="8711c-269">Four of the planes of the orthographic light frustum were calculated using the minimum and maximum of the X and Y coordinates of the view frustum in light space.</span></span> <span data-ttu-id="8711c-270">Les deux derniers plans de la vue orthogonale frustum sont les plans near et Far.</span><span class="sxs-lookup"><span data-stu-id="8711c-270">The last two planes of the orthogonal view frustum are the near and the far planes.</span></span> <span data-ttu-id="8711c-271">Pour rechercher ces plans, les limites de la scène sont découpées par rapport aux quatre plans frustum de lumière connus.</span><span class="sxs-lookup"><span data-stu-id="8711c-271">To find these planes, the scene's bounds are clipped against the four known light frustum planes.</span></span> <span data-ttu-id="8711c-272">Les plus petites et les plus grandes valeurs Z de la limite nouvellement coupée représentent respectivement le plan proche et le plan Far.</span><span class="sxs-lookup"><span data-stu-id="8711c-272">The smallest and largest Z-values from the newly clipped boundary represent the near plane and far plane, respectively.</span></span>

<span data-ttu-id="8711c-273">Le code qui effectue cette opération se trouve dans l’exemple CascadedShadowMaps11.</span><span class="sxs-lookup"><span data-stu-id="8711c-273">The code that performs this operation is located in the CascadedShadowMaps11 sample.</span></span> <span data-ttu-id="8711c-274">Les huit points qui composent les AABB du monde sont transformés en espace clair.</span><span class="sxs-lookup"><span data-stu-id="8711c-274">The eight points that make up the world's AABB are transformed into light space.</span></span> <span data-ttu-id="8711c-275">La transformation des points en espace clair simplifie les tests de découpage.</span><span class="sxs-lookup"><span data-stu-id="8711c-275">Transforming the points into light space simplifies the clipping tests.</span></span> <span data-ttu-id="8711c-276">Les quatre plans connus du frustum clair peuvent maintenant être représentés sous forme de lignes.</span><span class="sxs-lookup"><span data-stu-id="8711c-276">The four known planes of the light frustum can now be represented as lines.</span></span> <span data-ttu-id="8711c-277">Le volume englobant des scènes dans l’espace clair peut être représenté sous la forme de six quadrilatères.</span><span class="sxs-lookup"><span data-stu-id="8711c-277">The scenes bounding volume in light space can be represented as six quadrilaterals.</span></span> <span data-ttu-id="8711c-278">Ces 6 quadrilatères peuvent ensuite être convertis en 12 triangles pour le découpage en triangle.</span><span class="sxs-lookup"><span data-stu-id="8711c-278">These 6 quadrilaterals can then be turned into 12 triangles for triangle-based clipping.</span></span> <span data-ttu-id="8711c-279">Les triangles sont découpés par rapport aux plans connus de la vue frustum (il s’agit de lignes horizontales et verticales dans X et Y dans un espace clair).</span><span class="sxs-lookup"><span data-stu-id="8711c-279">The triangles are clipped against the known planes of the view frustum (these are horizontal and vertical lines in X and Y in light space).</span></span> <span data-ttu-id="8711c-280">Quand un point d’intersection est trouvé dans X et Y, le triangle 3D est coupé à ce stade.</span><span class="sxs-lookup"><span data-stu-id="8711c-280">When an intersection point is found in X and Y, the 3D triangle is clipped at that point.</span></span> <span data-ttu-id="8711c-281">Les valeurs Z minimale et maximale de tous les triangles découpés sont le plan proche et le plan lointain.</span><span class="sxs-lookup"><span data-stu-id="8711c-281">The minimum and maximum Z-values of all the clipped triangles are the near plane and far plane.</span></span> <span data-ttu-id="8711c-282">L’exemple CascadedShadowMaps11 montre comment effectuer ce découpage dans la fonction **ComputeNearAndFar** .</span><span class="sxs-lookup"><span data-stu-id="8711c-282">The CascadedShadowMaps11 sample shows how to perform this clipping in the **ComputeNearAndFar** function.</span></span>

<span data-ttu-id="8711c-283">Il existe deux autres techniques qui peuvent être utilisées pour calculer les plans near et Far les plus étroits.</span><span class="sxs-lookup"><span data-stu-id="8711c-283">There are two more techniques that could be used to calculate the tightest possible near and far planes.</span></span> <span data-ttu-id="8711c-284">Ces techniques ne sont pas affichées dans l’exemple CascadedShadowMaps.</span><span class="sxs-lookup"><span data-stu-id="8711c-284">These techniques are not shown in the CascadedShadowMaps sample.</span></span>

-   <span data-ttu-id="8711c-285">Même des plans proches et Far plus étroits pourraient être calculés en croisant une hiérarchie d’une scène ou d’objets individuels dans une scène par rapport au frustum clair.</span><span class="sxs-lookup"><span data-stu-id="8711c-285">Even tighter near and far planes could be calculated by intersecting a hierarchy of a scene or individual objects in a scene against the light frustum.</span></span> <span data-ttu-id="8711c-286">Il s’agit d’un calcul plus complexe.</span><span class="sxs-lookup"><span data-stu-id="8711c-286">This would be computationally more complex.</span></span> <span data-ttu-id="8711c-287">Bien que cela ne soit pas illustré dans l’exemple CascadedShadowMaps11, il peut s’agir d’une technique valide pour certaines vignettes.</span><span class="sxs-lookup"><span data-stu-id="8711c-287">While not illustrated in the CascadedShadowMaps11 sample, this could be a valid technique for some tiles.</span></span>
-   <span data-ttu-id="8711c-288">Le plan Far peut être calculé en utilisant la valeur minimale suivante :</span><span class="sxs-lookup"><span data-stu-id="8711c-288">The far plane could be calculated by taking the minimum of:</span></span>

    -   <span data-ttu-id="8711c-289">Profondeur la plus grande de la vue frustum dans l’espace clair.</span><span class="sxs-lookup"><span data-stu-id="8711c-289">The largest depth of the view frustum in light space.</span></span>
    -   <span data-ttu-id="8711c-290">Profondeur la plus grande de l’intersection de la vue frustum et de la scène AABB.</span><span class="sxs-lookup"><span data-stu-id="8711c-290">The largest depth of the intersection of the view frustum and the scene AABB.</span></span>

<span data-ttu-id="8711c-291">Cette approche peut être problématique lorsqu’elle est utilisée avec des cartes fictives en cascade où il est possible d’indexer en dehors d’une vue frustum.</span><span class="sxs-lookup"><span data-stu-id="8711c-291">This approach can be problematic when used with cascaded shadow maps where it is possible to index outside of a view frustum.</span></span> <span data-ttu-id="8711c-292">Dans ce cas, il se peut que la géométrie du mappage d’ombre soit manquante.</span><span class="sxs-lookup"><span data-stu-id="8711c-292">In this case, the shadow map might be missing geometry.</span></span>

<span data-ttu-id="8711c-293">**Figure 15. Plans near et Far basés sur l’intersection des quatre plans calculés de la lumière frustum et de la géométrie englobante de la scène**</span><span class="sxs-lookup"><span data-stu-id="8711c-293">**Figure 15. Near and far planes based on the intersection of the four calculated planes of the light frustum and the scene's bounding geometry**</span></span>

![plans near et Far basés sur l’intersection des quatre plans calculés de la lumière frustum et de la géométrie englobante de la scène](images/near-far-plane-based-on-intersection-of-four.jpg)

### <a name="moving-the-light-in-texel-sized-increments"></a><span data-ttu-id="8711c-295">Déplacement de la lumière dans les incréments de Texel-Sized</span><span class="sxs-lookup"><span data-stu-id="8711c-295">Moving the Light in Texel-Sized Increments</span></span>

<span data-ttu-id="8711c-296">Un artefact courant dans les clichés instantanés est l’effet de contour de scintillement.</span><span class="sxs-lookup"><span data-stu-id="8711c-296">A common artifact in shadow maps is the shimmering edge effect.</span></span> <span data-ttu-id="8711c-297">Lors du déplacement de l’appareil photo, les pixels situés le long des bords de l’ombre se illuminent et assombrissent.</span><span class="sxs-lookup"><span data-stu-id="8711c-297">As the camera moves, the pixels along the shadows' edges brighten and darken.</span></span> <span data-ttu-id="8711c-298">Cela ne peut pas être observé dans les images fixes, mais il est très perceptible et gênant en temps réel.</span><span class="sxs-lookup"><span data-stu-id="8711c-298">This cannot be seen in still images, but it is very noticeable and distracting in real time.</span></span> <span data-ttu-id="8711c-299">La figure 16 met en évidence ce problème et la figure 17 montre l’aspect des bords de l’ombre.</span><span class="sxs-lookup"><span data-stu-id="8711c-299">Figure 16 highlights this problem and Figure 17 shows how the shadow edges should look.</span></span>

<span data-ttu-id="8711c-300">L’erreur de bord de scintillement se produit car la matrice de projection légère est recalculée à chaque déplacement de l’appareil photo.</span><span class="sxs-lookup"><span data-stu-id="8711c-300">The shimmering edge error occurs because the light projection matrix is being recalculated every time the camera moves.</span></span> <span data-ttu-id="8711c-301">Cela crée des différences subtiles dans les cartes fictives générées.</span><span class="sxs-lookup"><span data-stu-id="8711c-301">This creates subtle differences in the generated shadow maps.</span></span> <span data-ttu-id="8711c-302">Tous les facteurs suivants peuvent influencer la matrice créée pour lier la scène.</span><span class="sxs-lookup"><span data-stu-id="8711c-302">All of the following factors can influence the matrix created to bound the scene.</span></span>

-   <span data-ttu-id="8711c-303">Taille de la vue frustum</span><span class="sxs-lookup"><span data-stu-id="8711c-303">Size of the view frustum</span></span>
-   <span data-ttu-id="8711c-304">Orientation de la vue frustum</span><span class="sxs-lookup"><span data-stu-id="8711c-304">Orientation of the view frustum</span></span>
-   <span data-ttu-id="8711c-305">Emplacement de la lumière</span><span class="sxs-lookup"><span data-stu-id="8711c-305">Location of the light</span></span>
-   <span data-ttu-id="8711c-306">Emplacement de l’appareil photo</span><span class="sxs-lookup"><span data-stu-id="8711c-306">Location of the camera</span></span>

<span data-ttu-id="8711c-307">Chaque fois que cette matrice change, les bords des ombres peuvent changer.</span><span class="sxs-lookup"><span data-stu-id="8711c-307">Every time this matrix changes, the shadows edges could change.</span></span>

<span data-ttu-id="8711c-308">**Figure 16. Scintillement des bords de l’ombre**</span><span class="sxs-lookup"><span data-stu-id="8711c-308">**Figure 16. Shimmering shadow edges**</span></span>

![scintillement des bords de l’ombre](images/shimmering-shadow-edges.jpg)

<span data-ttu-id="8711c-310">Les pixels situés le long de la bordure de l’ombre entrent et sortent de l’ombre lorsque l’appareil photo se déplace de gauche à droite.</span><span class="sxs-lookup"><span data-stu-id="8711c-310">The pixels along the border of the shadow come in and out of shadow as the camera moves from left to right.</span></span>

<span data-ttu-id="8711c-311">**Figure 17. Ombres sans scintillement des bords**</span><span class="sxs-lookup"><span data-stu-id="8711c-311">**Figure 17. Shadows without shimmering edges**</span></span>

![ombres sans scintillement des bords](images/shadows-without-shimmering-edges.jpg)

<span data-ttu-id="8711c-313">Les bords de l’ombre restent constants lorsque l’appareil photo se déplace de gauche à droite.</span><span class="sxs-lookup"><span data-stu-id="8711c-313">The shadow edges stay constant as the camera moves from left to right.</span></span>

<span data-ttu-id="8711c-314">Pour les lumières directionnelles, la solution à ce problème consiste à arrondir la valeur minimale/maximale dans X et Y (qui composent les limites de projection orthographique) aux incréments de taille de pixel.</span><span class="sxs-lookup"><span data-stu-id="8711c-314">For directional lights, the solution to this problem is to round the minimum/maximum value in X and Y (that make up the orthographic projection bounds) to pixel size increments.</span></span> <span data-ttu-id="8711c-315">Cela peut être fait avec une opération de division, une opération Floor et une multiplication.</span><span class="sxs-lookup"><span data-stu-id="8711c-315">This can be done with a divide operation, a floor operation, and a multiply.</span></span>


```C++
        vLightCameraOrthographicMin /= vWorldUnitsPerTexel;
        vLightCameraOrthographicMin = XMVectorFloor( vLightCameraOrthographicMin );
        vLightCameraOrthographicMin *= vWorldUnitsPerTexel;
        vLightCameraOrthographicMax /= vWorldUnitsPerTexel;
        vLightCameraOrthographicMax = XMVectorFloor( vLightCameraOrthographicMax );
        vLightCameraOrthographicMax *= vWorldUnitsPerTexel;
```



<span data-ttu-id="8711c-316">La valeur vWorldUnitsPerTexel est calculée en acceptant une limite de la vue frustum et en la divisant par la taille de la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="8711c-316">The vWorldUnitsPerTexel value is calculated by taking a bound of the view frustum, and dividing by the buffer size.</span></span>


```C++
        FLOAT fWorldUnitsPerTexel = fCascadeBound /
        (float)m_CopyOfCascadeConfig.m_iBufferSize;
        vWorldUnitsPerTexel = XMVectorSet( fWorldUnitsPerTexel, fWorldUnitsPerTexel,                            0.0f, 0.0f );
```



<span data-ttu-id="8711c-317">Le délimitation de la taille maximale de la vue frustum produit un ajustement plus faible pour la projection orthographique.</span><span class="sxs-lookup"><span data-stu-id="8711c-317">Bounding the maximum size of the view frustum results in a looser fit for the orthographic projection.</span></span>

<span data-ttu-id="8711c-318">Il est important de noter que la texture a une largeur et une hauteur de 1 pixel supérieures lors de l’utilisation de cette technique.</span><span class="sxs-lookup"><span data-stu-id="8711c-318">It is important to note that the texture is 1 pixel larger in width and height when using this technique.</span></span> <span data-ttu-id="8711c-319">Cela permet de conserver les coordonnées fantômes de l’indexation en dehors du mappage des ombres.</span><span class="sxs-lookup"><span data-stu-id="8711c-319">This keeps shadow coordinates from indexing outside of the shadow map.</span></span>

### <a name="back-face-and-front-face"></a><span data-ttu-id="8711c-320">Face arrière et face avant</span><span class="sxs-lookup"><span data-stu-id="8711c-320">Back Face and Front Face</span></span>

<span data-ttu-id="8711c-321">Les clichés instantanés doivent être rendus avec l’élimination des faces arrière standard, un processus qui ignore la pixellisation des objets que la visionneuse ne peut pas voir et accélère le rendu de la scène.</span><span class="sxs-lookup"><span data-stu-id="8711c-321">Shadow maps should be rendered with standard back-face culling, a process that skips rasterization of objects that the viewer cannot see, and speeds up rendering of the scene.</span></span> <span data-ttu-id="8711c-322">Une autre option courante consiste à restituer des cartes fictives avec l’élimination de face avant activée, ce qui signifie que les objets qui sont confrontés à la visionneuse sont éliminés.</span><span class="sxs-lookup"><span data-stu-id="8711c-322">Another common option is to render shadow maps with front-face culling enabled, which means that objects facing the viewer are eliminated.</span></span> <span data-ttu-id="8711c-323">L’argument pour cela est qu’il aide à l’auto-ombrage lorsque la géométrie qui compose l’arrière des objets est légèrement décalée.</span><span class="sxs-lookup"><span data-stu-id="8711c-323">The argument for this is that it helps with self-shadowing as the geometry making up the back of objects is slightly offset.</span></span> <span data-ttu-id="8711c-324">Cette idée présente deux problèmes.</span><span class="sxs-lookup"><span data-stu-id="8711c-324">There are two problems with this idea.</span></span>

-   <span data-ttu-id="8711c-325">Tout objet avec une géométrie frontale ou face arrière incorrecte provoque des artefacts dans le mappage des ombres.</span><span class="sxs-lookup"><span data-stu-id="8711c-325">Any object with improper front-face or back-face geometry causes artifacts in the shadow map.</span></span> <span data-ttu-id="8711c-326">Toutefois, si la géométrie frontale ou la face arrière est incorrecte, d’autres problèmes peuvent survenir. par conséquent, il peut être prudent de supposer que la géométrie frontale et la géométrie de face arrière sont correctement effectuées.</span><span class="sxs-lookup"><span data-stu-id="8711c-326">However, having incorrect front-face or back-face geometry will cause other problems, so it may be safe to assume front-face and back-face geometry is done correctly.</span></span> <span data-ttu-id="8711c-327">Il peut être difficile de créer des faces arrière pour une géométrie basée sur des sprites telles que des feuillages.</span><span class="sxs-lookup"><span data-stu-id="8711c-327">It may be impractical to create back faces for sprite-based geometry such as foliage.</span></span>
-   <span data-ttu-id="8711c-328">Peter panoramiques et clichés instantanés proches de la base d’objets tels que les murs sont plus susceptibles de se produire car la disparité de la profondeur de l’ombre est trop petite.</span><span class="sxs-lookup"><span data-stu-id="8711c-328">Peter Panning and shadow gaps near the base of objects such as walls are more likely to occur because the shadow depth disparity is too small.</span></span>

### <a name="shadow-mapfriendly-geometry"></a><span data-ttu-id="8711c-329">Mappage des ombres-géométrie conviviale</span><span class="sxs-lookup"><span data-stu-id="8711c-329">Shadow Map–Friendly Geometry</span></span>

<span data-ttu-id="8711c-330">La création d’une géométrie qui fonctionne correctement dans les clichés instantanés offre davantage de souplesse lors de la lutte contre les artefacts tels que Peter panoramique et Shadow-acné.</span><span class="sxs-lookup"><span data-stu-id="8711c-330">Creating geometry that works well in shadow maps allows for more flexibility when combating artifacts like Peter Panning and shadow acne.</span></span>

<span data-ttu-id="8711c-331">Les bords fixes sont problématiques pour l’auto-ombrage.</span><span class="sxs-lookup"><span data-stu-id="8711c-331">Hard edges are problematic for self-shadowing.</span></span> <span data-ttu-id="8711c-332">La disparité de profondeur près de la pointe de la périphérie est très petite.</span><span class="sxs-lookup"><span data-stu-id="8711c-332">The depth disparity near the tip of the edge is very small.</span></span> <span data-ttu-id="8711c-333">Même un décalage réduit peut entraîner la perte des ombres des objets (figure 18).</span><span class="sxs-lookup"><span data-stu-id="8711c-333">Even a small offset can cause objects to lose their shadows (Figure 18).</span></span>

<span data-ttu-id="8711c-334">**Figure 18. Des arêtes nettes entraînent des artefacts à partir de la disparité de faible profondeur avec des décalages**</span><span class="sxs-lookup"><span data-stu-id="8711c-334">**Figure 18. Sharp edges cause artifacts stemming from low-depth disparity with offsets**</span></span>

![des arêtes nettes entraînent des artefacts à partir de la disparité de faible profondeur avec des décalages](images/sharp-edges-cause%20artifacts.jpg)

<span data-ttu-id="8711c-336">Les objets étroits tels que les murs doivent avoir des arrières, même s’ils ne sont jamais visibles.</span><span class="sxs-lookup"><span data-stu-id="8711c-336">Narrow objects such as walls should have backs even if they are never visible.</span></span> <span data-ttu-id="8711c-337">Cela augmentera la disparité de profondeur.</span><span class="sxs-lookup"><span data-stu-id="8711c-337">This will increase the depth disparity.</span></span>

<span data-ttu-id="8711c-338">Il est également important de s’assurer que la direction vers laquelle la géométrie est dirigée est correcte. autrement dit, l’extérieur d’un objet doit être orienté vers l’arrière et l’intérieur d’un objet doit être frontal.</span><span class="sxs-lookup"><span data-stu-id="8711c-338">It's also important to make sure that the direction the geometry is facing is correct; that is, the outside of an object should be back facing and the inside of an object should be front facing.</span></span> <span data-ttu-id="8711c-339">Cela est important pour le rendu avec l’élimination de face arrière activée, ainsi que pour la lutte contre les effets d’un décalage de profondeur.</span><span class="sxs-lookup"><span data-stu-id="8711c-339">This is important for rendering with back-face culling enabled, as well as for combating the effects of depth bias.</span></span>

## <a name="summary"></a><span data-ttu-id="8711c-340">Résumé</span><span class="sxs-lookup"><span data-stu-id="8711c-340">Summary</span></span>

<span data-ttu-id="8711c-341">Les techniques décrites dans cet article peuvent être utilisées pour augmenter la qualité des cartes fictives standard.</span><span class="sxs-lookup"><span data-stu-id="8711c-341">The techniques described in this article can be used to increase the quality of standard shadow maps.</span></span> <span data-ttu-id="8711c-342">L’étape suivante consiste à examiner les techniques qui peuvent fonctionner correctement avec les mappages d’ombres standard.</span><span class="sxs-lookup"><span data-stu-id="8711c-342">The next step is to look at techniques that can work well with standard shadow maps.</span></span> <span data-ttu-id="8711c-343">Les CMS sont recommandés comme une technique supérieure pour combattre les alias de perspective.</span><span class="sxs-lookup"><span data-stu-id="8711c-343">CSMs are recommended as a superior technique to combat perspective aliasing.</span></span> <span data-ttu-id="8711c-344">Vous pouvez utiliser des mappages de filtrage ou de variance de pourcentage plus rapprochés pour adoucir les bords de l’ombre.</span><span class="sxs-lookup"><span data-stu-id="8711c-344">Percentage closer filtering or variance shadow maps can be used to soften shadow edges.</span></span> <span data-ttu-id="8711c-345">Pour plus d’informations, consultez l’article technique sur les [cartes fictives en cascade](/windows/desktop/DxTechArts/cascaded-shadow-maps) .</span><span class="sxs-lookup"><span data-stu-id="8711c-345">See the [Cascaded Shadow Maps](/windows/desktop/DxTechArts/cascaded-shadow-maps) technical article for more information.</span></span>

<span data-ttu-id="8711c-346">Donnelly, W. et Lauritzen, A. [variance les cartes Shadow](https://portal.acm.org/citation.cfm?doid=1111411.1111440).</span><span class="sxs-lookup"><span data-stu-id="8711c-346">Donnelly, W., and Lauritzen, A. [Variance Shadow Maps](https://portal.acm.org/citation.cfm?doid=1111411.1111440).</span></span> <span data-ttu-id="8711c-347">Congrès sur les graphiques 3D interactifs, les procédures du congrès 2006 sur les jeux et les graphiques 3D interactifs.</span><span class="sxs-lookup"><span data-stu-id="8711c-347">Symposium on Interactive 3D Graphics, Proceedings of the 2006 Symposium on Interactive 3D Graphics and Games.</span></span> <span data-ttu-id="8711c-348">2006, pp. 161 – 165.</span><span class="sxs-lookup"><span data-stu-id="8711c-348">2006, pp. 161–165.</span></span>

<span data-ttu-id="8711c-349">Engel, Woflgang F. section 4.</span><span class="sxs-lookup"><span data-stu-id="8711c-349">Engel, Woflgang F. Section 4.</span></span> <span data-ttu-id="8711c-350">Cartes fictives en cascade.</span><span class="sxs-lookup"><span data-stu-id="8711c-350">Cascaded Shadow Maps.</span></span> <span data-ttu-id="8711c-351">ShaderX5, *techniques de rendu avancées*, Wolfgang F. Engel, Ed.</span><span class="sxs-lookup"><span data-stu-id="8711c-351">ShaderX5, *Advanced Rendering Techniques*, Wolfgang F. Engel, Ed.</span></span> <span data-ttu-id="8711c-352">Charles River un support, Boston, Massachusetts.</span><span class="sxs-lookup"><span data-stu-id="8711c-352">Charles River Media, Boston, Massachusetts.</span></span> <span data-ttu-id="8711c-353">2006.</span><span class="sxs-lookup"><span data-stu-id="8711c-353">2006.</span></span> <span data-ttu-id="8711c-354">pp. 197 – 206.</span><span class="sxs-lookup"><span data-stu-id="8711c-354">pp. 197–206.</span></span>

<span data-ttu-id="8711c-355">Stamminger, Marc et Drettakis, George.</span><span class="sxs-lookup"><span data-stu-id="8711c-355">Stamminger, Marc, and Drettakis, George.</span></span> <span data-ttu-id="8711c-356">[Cartes fictives de perspective](https://portal.acm.org/citation.cfm?id=566616).</span><span class="sxs-lookup"><span data-stu-id="8711c-356">[Perspective Shadow Maps](https://portal.acm.org/citation.cfm?id=566616).</span></span> <span data-ttu-id="8711c-357">Conférence internationale sur les graphiques informatiques et les techniques interactives, *les procédures du 29 Conférence annuelle sur les graphiques informatiques et les techniques interactives*.</span><span class="sxs-lookup"><span data-stu-id="8711c-357">International Conference on Computer Graphics and Interactive Techniques, *Proceedings of the 29th Annual Conference on Computer Graphics and Interactive Techniques*.</span></span> <span data-ttu-id="8711c-358">2002, pp 557-562.</span><span class="sxs-lookup"><span data-stu-id="8711c-358">2002, pp 557–562.</span></span>

<span data-ttu-id="8711c-359">Wimmer, M., Scherzer, D., and Purgathofer, W. [Lighting Spaces Shadow Map](https://www.cg.tuwien.ac.at/research/vr/lispsm/shadows_egsr2004_revised.pdf).</span><span class="sxs-lookup"><span data-stu-id="8711c-359">Wimmer, M., Scherzer, D., and Purgathofer, W. [Light Space Perspective Shadow Maps](https://www.cg.tuwien.ac.at/research/vr/lispsm/shadows_egsr2004_revised.pdf).</span></span> <span data-ttu-id="8711c-360">Congrès Eurographics sur le rendu.</span><span class="sxs-lookup"><span data-stu-id="8711c-360">Eurographics Symposium on Rendering.</span></span> <span data-ttu-id="8711c-361">2004.</span><span class="sxs-lookup"><span data-stu-id="8711c-361">2004.</span></span> <span data-ttu-id="8711c-362">Révision le 10 juin 2005.</span><span class="sxs-lookup"><span data-stu-id="8711c-362">Revised June 10, 2005.</span></span> <span data-ttu-id="8711c-363">[Technische Universität Wien](https://www.cg.tuwien.ac.at/research/vr/lispsm/).</span><span class="sxs-lookup"><span data-stu-id="8711c-363">[Technische Universität Wien](https://www.cg.tuwien.ac.at/research/vr/lispsm/).</span></span>

 

 
