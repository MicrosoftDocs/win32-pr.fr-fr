---
title: Installation et maintenance des jeux
description: Cet article décrit un ensemble de meilleures pratiques qui peuvent contribuer à réduire la frustration des utilisateurs quant au temps nécessaire à l’installation d’un jeu, à empêcher des appels de support inutiles et à permettre aux utilisateurs de commencer à jouer à votre jeu aussi rapidement et facilement que possible.
ms.assetid: c953165d-2318-ca06-a895-abedcbcb594c
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: de171fd76654eb3b6edb8818ec073c4ef5ba8ca4
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104316374"
---
# <a name="installation-and-maintenance-of-games"></a><span data-ttu-id="f852e-103">Installation et maintenance des jeux</span><span class="sxs-lookup"><span data-stu-id="f852e-103">Installation and Maintenance of Games</span></span>

<span data-ttu-id="f852e-104">Cet article décrit un ensemble de meilleures pratiques qui peuvent contribuer à réduire la frustration des utilisateurs quant au temps nécessaire à l’installation d’un jeu, à empêcher des appels de support inutiles et à permettre aux utilisateurs de commencer à jouer à votre jeu aussi rapidement et facilement que possible.</span><span class="sxs-lookup"><span data-stu-id="f852e-104">This article describes a set of best practices that can help reduce user frustration about the time required to install a game, prevent unnecessary support calls, and allow users to start playing your game as quickly and painlessly as possible.</span></span>

-   [<span data-ttu-id="f852e-105">Installation initiale</span><span class="sxs-lookup"><span data-stu-id="f852e-105">Initial Installation</span></span>](#initial-installation)
    -   [<span data-ttu-id="f852e-106">Rationalisation de l’interface utilisateur d’installation</span><span class="sxs-lookup"><span data-stu-id="f852e-106">Streamlining the Installation UI</span></span>](#streamlining-the-installation-ui)
    -   [<span data-ttu-id="f852e-107">Réduction du temps nécessaire à l’installation</span><span class="sxs-lookup"><span data-stu-id="f852e-107">Reducing the Time Required for Installation</span></span>](#reducing-the-time-required-for-installation)
    -   [<span data-ttu-id="f852e-108">Installation minimale</span><span class="sxs-lookup"><span data-stu-id="f852e-108">Minimal Installation</span></span>](#minimal-installation)
    -   [<span data-ttu-id="f852e-109">Installer à la demande</span><span class="sxs-lookup"><span data-stu-id="f852e-109">Install on Demand</span></span>](#install-on-demand)
-   [<span data-ttu-id="f852e-110">Jeu après l’installation</span><span class="sxs-lookup"><span data-stu-id="f852e-110">Post-Installation Game-Play</span></span>](#post-installation-game-play)
    -   [<span data-ttu-id="f852e-111">AutoRun</span><span class="sxs-lookup"><span data-stu-id="f852e-111">AutoRun</span></span>](#autorun)
    -   [<span data-ttu-id="f852e-112">Conversion d’une installation Install-on-demand en installation complète</span><span class="sxs-lookup"><span data-stu-id="f852e-112">Converting an Install-on-Demand Installation to a Full Installation</span></span>](#converting-an-install-on-demand-installation-to-a-full-installation)
    -   [<span data-ttu-id="f852e-113">Maintenance du logiciel de jeu et du contenu</span><span class="sxs-lookup"><span data-stu-id="f852e-113">Maintenance of Game Software and Content</span></span>](#maintenance-of-game-software-and-content)
    -   [<span data-ttu-id="f852e-114">Vérification automatique des mises à jour</span><span class="sxs-lookup"><span data-stu-id="f852e-114">Checking for Updates Automatically</span></span>](#checking-for-updates-automatically)
    -   [<span data-ttu-id="f852e-115">Téléchargement automatique des correctifs</span><span class="sxs-lookup"><span data-stu-id="f852e-115">Downloading Patches Automatically</span></span>](#downloading-patches-automatically)
-   [<span data-ttu-id="f852e-116">Autres ressources</span><span class="sxs-lookup"><span data-stu-id="f852e-116">Other Resources</span></span>](#other-resources)
-   [<span data-ttu-id="f852e-117">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="f852e-117">Related topics</span></span>](#related-topics)

## <a name="initial-installation"></a><span data-ttu-id="f852e-118">Installation initiale</span><span class="sxs-lookup"><span data-stu-id="f852e-118">Initial Installation</span></span>

<span data-ttu-id="f852e-119">Les utilisateurs achètent des jeux parce qu’ils aiment les lire, pas parce qu’ils apprécient de les installer.</span><span class="sxs-lookup"><span data-stu-id="f852e-119">Users buy games because they enjoy playing them, not because they enjoy installing them.</span></span> <span data-ttu-id="f852e-120">L’installation d’un jeu doit être aussi rapide, simple et facile que possible pour l’utilisateur final.</span><span class="sxs-lookup"><span data-stu-id="f852e-120">Installing a game should be as quick, straightforward, and as painless as possible for the end user.</span></span> <span data-ttu-id="f852e-121">Dans l’idéal, les utilisateurs finaux ne doivent même pas voir une interface utilisateur d’installation. ils doivent pouvoir simplement déposer le disque du jeu dans la barre d’État et commencer à jouer.</span><span class="sxs-lookup"><span data-stu-id="f852e-121">Ideally, end users should not even see an installation UI; they should be able to just drop the game disc into the tray and begin playing.</span></span>

### <a name="streamlining-the-installation-ui"></a><span data-ttu-id="f852e-122">Rationalisation de l’interface utilisateur d’installation</span><span class="sxs-lookup"><span data-stu-id="f852e-122">Streamlining the Installation UI</span></span>

<span data-ttu-id="f852e-123">Les aspects courants des interfaces utilisateur d’installation de jeux existantes interfèrent avec l’expérience utilisateur final souhaitée :</span><span class="sxs-lookup"><span data-stu-id="f852e-123">Common aspects of existing game installation UIs interfere with the desired end-user experience:</span></span>

-   <span data-ttu-id="f852e-124">Poser des questions à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f852e-124">Asking the user unnecessary questions.</span></span>

    <span data-ttu-id="f852e-125">Par exemple, de nombreux jeux demandent si l’utilisateur souhaite installer DirectX.</span><span class="sxs-lookup"><span data-stu-id="f852e-125">For example, many games ask if the user wants to install DirectX.</span></span> <span data-ttu-id="f852e-126">Si le jeu nécessite l’exécution de Microsoft DirectX et que la version appropriée de DirectX n’est pas déjà installée, le jeu doit simplement installer DirectX.</span><span class="sxs-lookup"><span data-stu-id="f852e-126">If the game requires Microsoft DirectX to run, and the right version of DirectX isn't installed already, the game should simply install DirectX.</span></span>

-   <span data-ttu-id="f852e-127">Demander aux utilisateurs de répondre de la même manière à la plupart des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="f852e-127">Asking the user questions that a vast majority of users will answer in the same way.</span></span>

    <span data-ttu-id="f852e-128">Pour les utilisateurs standard, les paramètres par défaut pour le chemin d’installation, l’emplacement du menu Démarrer, etc., sont tous corrects.</span><span class="sxs-lookup"><span data-stu-id="f852e-128">For typical users, the default settings for installation path, Start menu location, and so on, are all fine.</span></span> <span data-ttu-id="f852e-129">Offre des options avancées pour les utilisateurs qui souhaitent modifier ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="f852e-129">Offer advanced options for users who want to change these settings.</span></span>

<span data-ttu-id="f852e-130">L’interface utilisateur de l’installation doit être conçue pour permettre à l’utilisateur standard de commencer à jouer le jeu le plus rapidement possible.</span><span class="sxs-lookup"><span data-stu-id="f852e-130">The installation UI should be designed to allow the typical user to begin playing the game as soon as possible.</span></span> <span data-ttu-id="f852e-131">Si l’exécution automatique est activée sur l’ordinateur de l’utilisateur, qui est la valeur par défaut, le programme d’installation doit supposer que l’utilisateur souhaite jouer le jeu le plus rapidement possible, en ignorant toutes les questions inutiles.</span><span class="sxs-lookup"><span data-stu-id="f852e-131">If AutoRun is enabled on the user's computer, which is the default, the setup program should assume that the user wants to be playing the game as soon as possible, bypassing any unnecessary questions.</span></span> <span data-ttu-id="f852e-132">Le programme d’installation de PROGRA à la[demande](#install-on-demand)m doit commencer à installer le jeu dans le chemin d’installation par défaut, de préférence à l’aide d’une configuration telle que décrite dans.</span><span class="sxs-lookup"><span data-stu-id="f852e-132">The setup progra[Install on Demand](#install-on-demand)m should begin installing the game to the default installation path, preferably using a setup like that described in .</span></span> <span data-ttu-id="f852e-133">Il convient de fournir aux utilisateurs la possibilité de modifier les paramètres d’installation avant de démarrer automatiquement l’installation.</span><span class="sxs-lookup"><span data-stu-id="f852e-133">It is appropriate to give users a chance to change the installation settings before automatically starting the installation.</span></span> <span data-ttu-id="f852e-134">Toutefois, cette procédure doit être effectuée en invitant l’utilisateur à appuyer sur une touche pour les options d’installation avancées, puis à poursuivre automatiquement avec les options par défaut si l’utilisateur n’atteint pas cette clé dans un délai de cinq à dix secondes.</span><span class="sxs-lookup"><span data-stu-id="f852e-134">However, this should be accomplished by prompting the user to hit a key for advanced setup options, and then proceeding automatically with the default options if the user does not hit that key within five to ten seconds.</span></span>

<span data-ttu-id="f852e-135">Si l’exécution automatique n’est pas activée sur l’ordinateur de l’utilisateur, le programme d’installation doit supposer que l’utilisateur ne souhaite pas que le programme d’installation commence à installer le jeu automatiquement.</span><span class="sxs-lookup"><span data-stu-id="f852e-135">If AutoRun is not enabled on the user's computer, the setup program should assume that the user does not want the setup program to begin installing the game automatically.</span></span> <span data-ttu-id="f852e-136">Si le programme d’installation démarre par d’autres moyens que l’exécution automatique, il doit lancer l’interface utilisateur d’installation avancée.</span><span class="sxs-lookup"><span data-stu-id="f852e-136">If the setup program is started by some means other than AutoRun, it should launch the advanced setup UI.</span></span>

### <a name="reducing-the-time-required-for-installation"></a><span data-ttu-id="f852e-137">Réduction du temps nécessaire à l’installation</span><span class="sxs-lookup"><span data-stu-id="f852e-137">Reducing the Time Required for Installation</span></span>

<span data-ttu-id="f852e-138">La plupart des jeux Microsoft Windows prennent aujourd’hui de cinq minutes à une demi-heure pour terminer le processus d’installation.</span><span class="sxs-lookup"><span data-stu-id="f852e-138">Most Microsoft Windows games today take anywhere from five minutes to half an hour to finish the installation process.</span></span> <span data-ttu-id="f852e-139">En revanche, la plupart des jeux de console ne prennent pas plus de trente secondes à partir du moment où l’utilisateur insère le CD-ROM de jeu au moment où il peut jouer le jeu.</span><span class="sxs-lookup"><span data-stu-id="f852e-139">In contrast, most console games take no more than thirty seconds from the time the user inserts the game CD to the time the user can play the game.</span></span> <span data-ttu-id="f852e-140">Cette différence est due au fait que la plupart des jeux Windows sont conçus pour s’exécuter le plus souvent, s’ils ne sont pas tous, du contenu du disque dur de l’ordinateur ; les consoles, qui n’ont pas d’emplacement pour stocker de façon permanente de grandes quantités de contenu, nécessitent que le contenu soit exécuté à partir du média source.</span><span class="sxs-lookup"><span data-stu-id="f852e-140">This difference is due to the fact that most Windows games are designed to run most, if not all, of their content from the computer's hard drive; consoles, which lack a place to permanently store large amounts of content, require that the content be run from the source media.</span></span> <span data-ttu-id="f852e-141">Lors du chargement du contenu à partir du disque dur local, le temps de chargement des jeux est plus rapide, mais l’inconvénient est que tout le contenu doit être copié à partir du média source vers le disque dur à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="f852e-141">While loading content from the local hard drive makes for faster in-game load times, the downside is that all of that content has to be copied from the source media to the hard drive at some point.</span></span> <span data-ttu-id="f852e-142">La plupart des jeux Windows choisissent de copier tout le contenu sur le disque dur en une seule fois, dans le cadre d’un processus d’installation.</span><span class="sxs-lookup"><span data-stu-id="f852e-142">Most Windows games choose to copy all of the content to the hard drive all at once, as part of an installation process.</span></span> <span data-ttu-id="f852e-143">Cela vous permet de passer de l’expérience initiale de l’utilisateur au jeu en faisant en sorte que l’utilisateur regarde une barre de progression pendant plusieurs minutes avant de pouvoir jouer au jeu.</span><span class="sxs-lookup"><span data-stu-id="f852e-143">This detracts from the user's initial experience with the game by making the user watch a progress bar for several minutes before being able to play the game.</span></span>

<span data-ttu-id="f852e-144">Il existe deux approches qui peuvent être utilisées pour réduire le temps consacré à l’installation initiale du jeu : [installation minimale](#minimal-installation) et installation [à la demande](#install-on-demand).</span><span class="sxs-lookup"><span data-stu-id="f852e-144">There are two approaches that can be used to minimize the time spent initially installing the game: [Minimal Installation](#minimal-installation) and [Install on Demand](#install-on-demand).</span></span>

### <a name="minimal-installation"></a><span data-ttu-id="f852e-145">Installation minimale</span><span class="sxs-lookup"><span data-stu-id="f852e-145">Minimal Installation</span></span>

<span data-ttu-id="f852e-146">Dans un scénario d’installation minimale, le jeu installe uniquement un jeu minimal de contenu sur le disque dur.</span><span class="sxs-lookup"><span data-stu-id="f852e-146">In a minimal installation scenario, the game installs only a bare minimum set of content to the hard drive.</span></span> <span data-ttu-id="f852e-147">En règle générale, cela se compose uniquement de l’exécutable du jeu et des dll.</span><span class="sxs-lookup"><span data-stu-id="f852e-147">Usually, this consists of only the game executable and DLLs.</span></span> <span data-ttu-id="f852e-148">Le reste du contenu est accessible directement à partir du support source.</span><span class="sxs-lookup"><span data-stu-id="f852e-148">The remainder of the content is accessed directly from the source media.</span></span> <span data-ttu-id="f852e-149">Cela réduit considérablement le temps nécessaire à l’installation, puisque l’exécutable d’un jeu est rarement supérieur à 10-20 Mo.</span><span class="sxs-lookup"><span data-stu-id="f852e-149">This drastically reduces the time required to install, since a game's executable is rarely larger than 10-20 MB.</span></span> <span data-ttu-id="f852e-150">L’inconvénient est que le jeu met plus de temps à charger du contenu pendant le jeu, car il doit le charger à partir du média source plus lent.</span><span class="sxs-lookup"><span data-stu-id="f852e-150">The drawback is that the game takes longer to load content during the game, since it must load it from the slower source media.</span></span>

<span data-ttu-id="f852e-151">Pour créer une configuration d’installation minimale dans une installation basée sur Windows Installer :</span><span class="sxs-lookup"><span data-stu-id="f852e-151">To create a minimal installation configuration in a Windows Installer-based setup:</span></span>

-   <span data-ttu-id="f852e-152">Regroupez tous les composants à installer sur le disque dur dans une fonctionnalité marquée pour une installation locale.</span><span class="sxs-lookup"><span data-stu-id="f852e-152">Group all of the components to be installed to the hard drive into a feature that is marked to install locally.</span></span>

    <span data-ttu-id="f852e-153">Cette fonctionnalité sera appelée « démarrage ».</span><span class="sxs-lookup"><span data-stu-id="f852e-153">This feature will be referred to as the "Bootstrap" feature.</span></span>

-   <span data-ttu-id="f852e-154">Regroupez tous les composants qui doivent être exécutés à partir du média source dans une fonctionnalité marquée comme « exécuter à partir de la source ».</span><span class="sxs-lookup"><span data-stu-id="f852e-154">Group all of the components that are to be run from the source media into a feature that is marked as "run from source."</span></span>
-   <span data-ttu-id="f852e-155">Lorsque vous ouvrez un fichier qui peut se trouver sur le média source, utilisez la fonction [**MsiGetComponentPath**](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha) pour déterminer le chemin d’accès au fichier, au lieu de coder en dur le chemin d’accès.</span><span class="sxs-lookup"><span data-stu-id="f852e-155">When opening a file that might be on the source media, use the [**MsiGetComponentPath**](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha) function to determine the path to the file, instead of hard-coding the path.</span></span>

    <span data-ttu-id="f852e-156">Cela permet de s’assurer que le fichier peut être trouvé même si la lettre de lecteur du lecteur de CD/DVD de l’utilisateur change.</span><span class="sxs-lookup"><span data-stu-id="f852e-156">Doing so ensures that the file can be found even if the drive letter of the user's CD/DVD drive changes.</span></span>

-   <span data-ttu-id="f852e-157">Compressez le contenu qui reste sur le CD/DVD.</span><span class="sxs-lookup"><span data-stu-id="f852e-157">Compress content that stays on the CD/DVD.</span></span>

    <span data-ttu-id="f852e-158">La quantité de temps processeur passée à décompresser le contenu est généralement masquée par le taux de transfert lent des données à partir du lecteur de CD/DVD.</span><span class="sxs-lookup"><span data-stu-id="f852e-158">The amount of CPU time spent decompressing the content will usually be hidden by the slow transfer rate of data from the CD/DVD drive.</span></span>

-   <span data-ttu-id="f852e-159">Regroupez le contenu dans des fichiers volumineux et contigus et accédez-y dans un ordre séquentiel.</span><span class="sxs-lookup"><span data-stu-id="f852e-159">Group content into large, contiguous files and access it in sequential order.</span></span>

    <span data-ttu-id="f852e-160">Les heures de recherche de lecteurs de CD/DVD sont Abysmal par rapport à celles des disques durs, et la plupart des lecteurs de CD/DVD n’atteignent pas les taux de transfert maximal, sauf s’ils lisent un fichier de grande taille et contigu.</span><span class="sxs-lookup"><span data-stu-id="f852e-160">The seek times of CD/DVD drives are abysmal compared to those of hard drives, and most CD/DVD drives don't reach peak transfer rates unless they are reading a large, contiguous file.</span></span>

-   <span data-ttu-id="f852e-161">Posez le contenu sur le CD/DVD dans l’ordre dans lequel il est susceptible d’être accédé.</span><span class="sxs-lookup"><span data-stu-id="f852e-161">Lay out content on the CD/DVD in the order that it is likely to be accessed.</span></span>

    <span data-ttu-id="f852e-162">Les temps de recherche sont très réduits lorsque les fichiers sont accessibles dans le même ordre que la disposition sur disque.</span><span class="sxs-lookup"><span data-stu-id="f852e-162">Seek times are greatly reduced when files are accessed in the same order as their on-disk layout.</span></span>

### <a name="install-on-demand"></a><span data-ttu-id="f852e-163">Installer à la demande</span><span class="sxs-lookup"><span data-stu-id="f852e-163">Install on Demand</span></span>

<span data-ttu-id="f852e-164">Dans un scénario d’installation à la demande, comme pour une installation minimale, le jeu installe initialement sur le disque dur uniquement les fichiers nécessaires pour démarrer le jeu.</span><span class="sxs-lookup"><span data-stu-id="f852e-164">In an install-on-demand scenario, as for minimal installation, the game initially installs to the hard drive only those files necessary to start the game.</span></span> <span data-ttu-id="f852e-165">Toutefois, au lieu d’accéder au contenu restant à partir du média source chaque fois que cela est nécessaire, le jeu installe en fait chaque morceau de contenu sur le disque dur, tel qu’il est nécessaire pour la première fois, puis accède au disque dur local à chaque utilisation suivante.</span><span class="sxs-lookup"><span data-stu-id="f852e-165">However, instead of accessing the remaining content from the source media every time it is needed, the game actually installs each piece of content to the hard drive as it is needed for the first time, and then accesses it from the local hard drive on each subsequent use.</span></span> <span data-ttu-id="f852e-166">Le temps nécessaire à l’installation initiale est aussi réduit que dans pour une installation minimale, mais après la première fois que vous accédez à chaque élément de contenu, les temps de chargement s’améliorent.</span><span class="sxs-lookup"><span data-stu-id="f852e-166">The time required for the initial installation is just as small as in for a minimal installation, but after the first time that each piece of content is accessed, the load times improve.</span></span>

<span data-ttu-id="f852e-167">Pour créer une configuration à la demande Install-on-Demand dans une installation basée sur un Windows Installer :</span><span class="sxs-lookup"><span data-stu-id="f852e-167">To create an install-on-demand configuration in a Windows Installer-based setup:</span></span>

-   <span data-ttu-id="f852e-168">Regroupez tous les composants à installer initialement sur le disque dur dans une fonctionnalité marquée pour une installation locale.</span><span class="sxs-lookup"><span data-stu-id="f852e-168">Group all of the components to be initially installed to the hard drive into a feature that is marked to install locally.</span></span>

    <span data-ttu-id="f852e-169">Notez que cela est identique à la fonctionnalité bootstrap pour une installation minimale.</span><span class="sxs-lookup"><span data-stu-id="f852e-169">Note that this is identical to the Bootstrap feature for a minimal installation.</span></span>

-   <span data-ttu-id="f852e-170">Regroupez le contenu restant en plusieurs fonctionnalités basées sur les composants susceptibles d’être utilisés ensemble.</span><span class="sxs-lookup"><span data-stu-id="f852e-170">Group the remaining content into multiple features based on components likely to be used together.</span></span>

    <span data-ttu-id="f852e-171">Par exemple, dans un jeu basé sur le niveau, regroupez tout le contenu utilisé à un niveau donné en une seule fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="f852e-171">For example, in a level-based game, group all the content used on a given level into one feature.</span></span> <span data-ttu-id="f852e-172">Notez que Windows Installer permet à un composant d’être partagé par plusieurs fonctionnalités. par conséquent, si vous disposez d’un contenu qui est utilisé sur plusieurs niveaux, vous pouvez ajouter ce contenu aux fonctionnalités pour tous les niveaux nécessaires sans répliquer le contenu.</span><span class="sxs-lookup"><span data-stu-id="f852e-172">Note that Windows Installer allows a component to be shared by multiple features, so if you have content that is used on multiple levels, you can add that content to the features for all of the necessary levels without replicating the content.</span></span> <span data-ttu-id="f852e-173">Toutes ces fonctionnalités doivent être marquées comme « publiées », ce qui signifie qu’elles ne seront pas installées au début, mais peuvent être installées ultérieurement si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="f852e-173">All of these features should be marked as "Advertised", which means that they won't be installed initially, but can be installed later as needed.</span></span>

-   <span data-ttu-id="f852e-174">Lorsqu’un fichier est nécessaire, vérifiez d’abord si le fichier est déjà installé à l’aide de la fonction [**MsiQueryFeatureState**](/windows/desktop/api/msi/nf-msi-msiqueryfeaturestatea).</span><span class="sxs-lookup"><span data-stu-id="f852e-174">When a file is needed, first check whether the file is already installed using the function [**MsiQueryFeatureState**](/windows/desktop/api/msi/nf-msi-msiqueryfeaturestatea).</span></span>

    <span data-ttu-id="f852e-175">S’il n’est pas encore installé (c’est-à-dire que son état est INSTALLSTATE \_ publié), appelez la fonction [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) pour installer la fonctionnalité localement.</span><span class="sxs-lookup"><span data-stu-id="f852e-175">If it is not yet installed (that is, its state is INSTALLSTATE\_ADVERTISED), call the function [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) to install the feature locally.</span></span> <span data-ttu-id="f852e-176">Lorsque vous ouvrez le fichier après son installation, appelez [**MsiGetComponentPath**](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha) pour déterminer le chemin d’accès au fichier.</span><span class="sxs-lookup"><span data-stu-id="f852e-176">When opening the file after it is installed, call [**MsiGetComponentPath**](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha) to determine the path to the file.</span></span> <span data-ttu-id="f852e-177">Bien que cela ne soit pas strictement nécessaire pour ce scénario (puisque le contenu sera toujours installé sur le disque dur avant son utilisation), cela facilite la prise en charge de l’installation minimale en plus de l’installation à la demande.</span><span class="sxs-lookup"><span data-stu-id="f852e-177">While not strictly necessary for this scenario (since the content will always be installed to the hard drive before it is used), this makes it easier to support minimal installation in addition to installation on demand.</span></span>

-   <span data-ttu-id="f852e-178">Si possible, anticipez le contenu qui sera probablement nécessaire, puis installez-le en arrière-plan pendant la durée d’inactivité.</span><span class="sxs-lookup"><span data-stu-id="f852e-178">If possible, anticipate what content is likely to be needed soon, and install it in the background during idle time.</span></span>

    <span data-ttu-id="f852e-179">L’installation en arrière-plan est plus appropriée lorsque le jeu est à un point qui n’a pas besoin de toutes les performances de l’ordinateur. par exemple, lors de l’affichage d’un film de présentation, d’un couper-scène, d’un menu, etc.</span><span class="sxs-lookup"><span data-stu-id="f852e-179">Background installation is most appropriate when the game is at a point that doesn't need every last ounce of performance out of the computer; for example, while displaying an intro movie, cut-scene, menu, and so on.</span></span>

-   <span data-ttu-id="f852e-180">Créez une option dans le menu options du jeu pour forcer l’installation de tout le reste du contenu.</span><span class="sxs-lookup"><span data-stu-id="f852e-180">Create an option in the game's options menu to force installation of all remaining content.</span></span>

    <span data-ttu-id="f852e-181">Pour l’implémenter, créez une fonctionnalité qui est un parent de toutes les fonctionnalités d’installation à la demande, puis appelez [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) pour installer cette fonctionnalité maître localement.</span><span class="sxs-lookup"><span data-stu-id="f852e-181">To implement this, create a feature that is a parent of all of the install-on-demand features, and then call [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) to install this master feature locally.</span></span> <span data-ttu-id="f852e-182">Cela entraîne également l’installation des sous-fonctionnalités localement.</span><span class="sxs-lookup"><span data-stu-id="f852e-182">This will cause the subfeatures to be installed locally as well.</span></span>

-   <span data-ttu-id="f852e-183">La disposition du contenu doit être similaire à celle d’une installation minimale, sauf que le contenu doit être mis en cluster uniquement avec un autre contenu qui est susceptible d’être nécessaire en même temps (par exemple, tout le contenu d’un niveau doit être ensemble).</span><span class="sxs-lookup"><span data-stu-id="f852e-183">Content layout should be similar to that for a minimal installation, except that content should be clustered only with other content that is likely to be needed at the same time (for example, all of the content for one level should be together).</span></span>

## <a name="post-installation-game-play"></a><span data-ttu-id="f852e-184">Game-Play après l’installation</span><span class="sxs-lookup"><span data-stu-id="f852e-184">Post-Installation Game-Play</span></span>

### <a name="autorun"></a><span data-ttu-id="f852e-185">AutoRun</span><span class="sxs-lookup"><span data-stu-id="f852e-185">AutoRun</span></span>

<span data-ttu-id="f852e-186">Pour jouer un jeu déjà installé, l’utilisateur doit seulement déposer le disque d’installation dans le plateau du lecteur.</span><span class="sxs-lookup"><span data-stu-id="f852e-186">To play a game that is already installed, the user should only need to drop the installation disc in the drive tray.</span></span> <span data-ttu-id="f852e-187">La première chose que doit faire l’exécutable d’exécution automatique sur le disque consiste à vérifier si le jeu a déjà été installé et, le cas échéant, à lancer le jeu.</span><span class="sxs-lookup"><span data-stu-id="f852e-187">The first thing that the AutoRun executable on the disc should do is to check to see if the game has already been installed, and if so, launch the game.</span></span> <span data-ttu-id="f852e-188">En supposant que le jeu a été installé à l’aide d’une configuration Windows Installer, la vérification pour déterminer si le jeu est installé peut être effectuée avec un seul appel à la fonction [**MsiQueryProductState**](/windows/desktop/api/msi/nf-msi-msiqueryproductstatea).</span><span class="sxs-lookup"><span data-stu-id="f852e-188">Assuming that the game was installed using a Windows Installer-based setup, the check to determine if the game is installed can be accomplished with a single call to the function [**MsiQueryProductState**](/windows/desktop/api/msi/nf-msi-msiqueryproductstatea).</span></span>

### <a name="converting-an-install-on-demand-installation-to-a-full-installation"></a><span data-ttu-id="f852e-189">Conversion d’une installation Install-on-demand en installation complète</span><span class="sxs-lookup"><span data-stu-id="f852e-189">Converting an Install-on-Demand Installation to a Full Installation</span></span>

<span data-ttu-id="f852e-190">Bien qu’une installation à la demande permette à l’utilisateur de commencer à jouer le jeu plus tôt qu’une installation complète, un utilisateur peut souhaiter installer explicitement le reste du contenu du jeu sur le disque dur local.</span><span class="sxs-lookup"><span data-stu-id="f852e-190">While an install-on-demand installation allows the user to begin playing the game much sooner than a full installation, a user may want to explicitly install the remainder of the game content to the local hard drive.</span></span> <span data-ttu-id="f852e-191">L’utilisateur peut vouloir jouer au jeu sans avoir besoin du média source, ou il souhaite simplement éviter les temps de chargement en jeu plus longs qui résultent de l’installation du contenu à la demande.</span><span class="sxs-lookup"><span data-stu-id="f852e-191">The user may want to be able to play the game without requiring the source media, or he or she may simply want to avoid the longer in-game load times that result from installing content on demand.</span></span> <span data-ttu-id="f852e-192">Si la configuration du jeu utilise Windows Installer, le jeu peut fournir une option dans l’interface utilisateur des options de jeu pour terminer l’installation du contenu restant.</span><span class="sxs-lookup"><span data-stu-id="f852e-192">If the game's setup uses Windows Installer, the game can provide an option in the in-game options UI to finish installing the remaining content.</span></span> <span data-ttu-id="f852e-193">Lorsque l’utilisateur sélectionne cette option, le jeu peut appeler [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) pour forcer l’installation locale des fonctionnalités restantes. Il n’est pas nécessaire de générer une application d’installation distincte pour ce faire.</span><span class="sxs-lookup"><span data-stu-id="f852e-193">When the user selects this option, the game can call [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) to force the remaining features to be installed locally; there is no need to spawn a separate setup application to do so.</span></span>

### <a name="maintenance-of-game-software-and-content"></a><span data-ttu-id="f852e-194">Maintenance du logiciel de jeu et du contenu</span><span class="sxs-lookup"><span data-stu-id="f852e-194">Maintenance of Game Software and Content</span></span>

<span data-ttu-id="f852e-195">L’un des avantages offerts par les jeux Windows sur les jeux de console est la facilité relative avec laquelle le serveur de publication peut publier des mises à jour du jeu après sa publication initiale.</span><span class="sxs-lookup"><span data-stu-id="f852e-195">One of the advantages that Windows games have over console games is the relative ease with which the publisher can release updates to the game after its initial release.</span></span> <span data-ttu-id="f852e-196">Que ces mises à jour introduisent du nouveau contenu ou résolvent simplement des bogues, il est important de rendre le processus de mise à jour aussi simple que possible pour l’utilisateur final.</span><span class="sxs-lookup"><span data-stu-id="f852e-196">Whether these updates introduce new content or just fix bugs, it is important to make the update process as easy as possible for the end user.</span></span> <span data-ttu-id="f852e-197">Le processus de mise à jour est encore plus important pour les jeux en ligne, qui requièrent généralement que tous les utilisateurs exécutent la dernière version du jeu pour se connecter.</span><span class="sxs-lookup"><span data-stu-id="f852e-197">The update process is even more important for online games, which typically require that all users are running the latest version of the game in order to connect.</span></span>

### <a name="checking-for-updates-automatically"></a><span data-ttu-id="f852e-198">Vérification automatique des mises à jour</span><span class="sxs-lookup"><span data-stu-id="f852e-198">Checking for Updates Automatically</span></span>

<span data-ttu-id="f852e-199">Les utilisateurs n’ont pas à se souvenir de trouver les correctifs.</span><span class="sxs-lookup"><span data-stu-id="f852e-199">Users should not have to remember to go looking for patches.</span></span> <span data-ttu-id="f852e-200">Si une mise à jour est disponible pour le jeu, l’utilisateur doit au moins être averti et, idéalement, le correctif doit déjà être téléchargé.</span><span class="sxs-lookup"><span data-stu-id="f852e-200">If there is an update available for the game, the user should at least be notified, and ideally, the patch should already be downloaded.</span></span>

<span data-ttu-id="f852e-201">Un moyen simple de vérifier la disponibilité de mises à jour consiste à se connecter à un serveur Web hébergé par le serveur de publication à l’aide d’une URL spécifique et à télécharger un fichier texte qui spécifie le numéro de version de la dernière version disponible du jeu, ainsi qu’une URL à partir de laquelle télécharger un package qui mettra à jour le jeu vers la dernière version.</span><span class="sxs-lookup"><span data-stu-id="f852e-201">A simple way for a game to check for updates is to connect to a Web server hosted by the publisher using a specific URL, and download a text file that specifies the version number of the latest available version of the game, along with a URL from which to download a package that will update the game to the latest version.</span></span>

<span data-ttu-id="f852e-202">La recherche de mises à jour chaque fois que l’utilisateur joue le jeu est suffisante pour s’assurer que l’utilisateur exécute la dernière version.</span><span class="sxs-lookup"><span data-stu-id="f852e-202">Checking for updates each time that the user plays the game is adequate to make sure that the user is running the latest version.</span></span> <span data-ttu-id="f852e-203">Toutefois, si l’existence d’une nouvelle mise à jour est détectée immédiatement avant que l’utilisateur tente de jouer au jeu, l’utilisateur peut être contraint de retarder le jeu jusqu’à la fin du téléchargement de la mise à jour.</span><span class="sxs-lookup"><span data-stu-id="f852e-203">However, if the existence of a new update is discovered immediately before the user tries to play the game, the user may be forced to delay playing the game until the update has finished downloading.</span></span> <span data-ttu-id="f852e-204">Pour les mises à jour volumineuses ou les connexions lentes, ce délai peut être de l’ordre des heures.</span><span class="sxs-lookup"><span data-stu-id="f852e-204">For large updates or slow connections, this delay may be on the order of hours.</span></span> <span data-ttu-id="f852e-205">Pour éviter de forcer l’utilisateur à attendre avant de jouer au jeu, le jeu peut utiliser Planificateur de tâches pour planifier des vérifications périodiques des nouvelles mises à jour.</span><span class="sxs-lookup"><span data-stu-id="f852e-205">To avoid forcing the user to wait before playing the game, the game can use Task Scheduler to schedule periodic checks for new updates.</span></span> <span data-ttu-id="f852e-206">Si une mise à jour est détectée, le jeu peut commencer à télécharger la mise à jour immédiatement, afin qu’elle soit entièrement téléchargée et prête à être installée lors de la prochaine exécution du jeu par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f852e-206">If an update is detected, the game can begin downloading the update immediately, so that it is likely to be completely downloaded and ready to install by the next time the user plays the game.</span></span>

### <a name="downloading-patches-automatically"></a><span data-ttu-id="f852e-207">Téléchargement automatique des correctifs</span><span class="sxs-lookup"><span data-stu-id="f852e-207">Downloading Patches Automatically</span></span>

<span data-ttu-id="f852e-208">Une fois que le jeu a détecté qu’une nouvelle mise à jour est disponible, il doit immédiatement commencer à télécharger la mise à jour.</span><span class="sxs-lookup"><span data-stu-id="f852e-208">Once the game has detected that a new update is available, it should immediately begin downloading the update.</span></span> <span data-ttu-id="f852e-209">Étant donné que la tâche qui vérifie les mises à jour s’exécute en mode silencieux en arrière-plan, le téléchargement doit être le plus discret possible.</span><span class="sxs-lookup"><span data-stu-id="f852e-209">Since the task that checks for updates is typically running silently in the background, the download needs to be as unobtrusive as possible.</span></span> <span data-ttu-id="f852e-210">Le Service de transfert intelligent en arrière-plan (BITS) est une fonctionnalité du système d’exploitation qui permet aux applications de télécharger des fichiers à partir d’Internet, même si l’application elle-même n’est pas en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="f852e-210">The Background Intelligent Transfer Service (BITS) is an operating system feature that allows applications to download files from the Internet even while the application itself is not running.</span></span> <span data-ttu-id="f852e-211">Les tâches de téléchargement BITS s’exécutent uniquement lorsque l’utilisateur a ouvert une session et uniquement lorsque l’ordinateur est déjà connecté au réseau.</span><span class="sxs-lookup"><span data-stu-id="f852e-211">BITS download jobs run only when the user is logged on, and only when the machine is already connected to the network.</span></span> <span data-ttu-id="f852e-212">Le service BITS ne tentera pas de forcer la connexion de l’ordinateur au réseau.</span><span class="sxs-lookup"><span data-stu-id="f852e-212">BITS will not attempt to force the machine to connect to the network on its own.</span></span> <span data-ttu-id="f852e-213">Si l’utilisateur se déconnecte du réseau, ou se déconnecte, le travail BITS est suspendu et reprend le téléchargement la prochaine fois que l’utilisateur se connecte et se connecte au réseau.</span><span class="sxs-lookup"><span data-stu-id="f852e-213">If the user disconnects from the network, or logs off, the BITS job is paused, and will resume downloading the next time the user logs in and connects to the network.</span></span> <span data-ttu-id="f852e-214">L’application peut configurer ses travaux BITS pour qu’elle utilise uniquement la bande passante réseau qui, sinon, ne serait pas utilisée, afin d’éviter que la tâche n’affecte les performances de toutes les autres applications susceptibles d’utiliser le réseau (par exemple, un jeu en ligne).</span><span class="sxs-lookup"><span data-stu-id="f852e-214">The application can configure its BITS jobs to use only network bandwidth that would otherwise remain unused, in order to prevent the job from impacting the performance of any other applications that might be using the network (for example, an online game).</span></span> <span data-ttu-id="f852e-215">Le service BITS est disponible sur Windows XP et Windows 2000 Service Pack 3.</span><span class="sxs-lookup"><span data-stu-id="f852e-215">BITS is available on Windows XP and Windows 2000 Service Pack 3.</span></span>

## <a name="other-resources"></a><span data-ttu-id="f852e-216">Autres ressources</span><span class="sxs-lookup"><span data-stu-id="f852e-216">Other Resources</span></span>

<span data-ttu-id="f852e-217">Pour plus d’informations sur les technologies référencées dans cet article, reportez-vous aux sections correspondantes de MSDN Library :</span><span class="sxs-lookup"><span data-stu-id="f852e-217">For more information on the technologies referenced in this article, refer to the relevant sections of the MSDN Library:</span></span>

-   [<span data-ttu-id="f852e-218">Windows Installer</span><span class="sxs-lookup"><span data-stu-id="f852e-218">Windows Installer</span></span>](/windows/desktop/Msi/windows-installer-portal)
-   [<span data-ttu-id="f852e-219">Planificateur de tâches</span><span class="sxs-lookup"><span data-stu-id="f852e-219">Task Scheduler</span></span>](/windows/desktop/TaskSchd/task-scheduler-start-page)
-   <span data-ttu-id="f852e-220">[Service de transfert intelligent en arrière-plan](/windows/desktop/Bits/background-intelligent-transfer-service-portal) (bits)</span><span class="sxs-lookup"><span data-stu-id="f852e-220">[Background Intelligent Transfer Service](/windows/desktop/Bits/background-intelligent-transfer-service-portal) (BITS)</span></span>

<span data-ttu-id="f852e-221">Pour plus d’informations sur l’utilisation de Windows Installer pour les jeux, connectez-vous à l’article DirectX du mois suivant, « introduction aux Windows Installer pour les développeurs de jeux ».</span><span class="sxs-lookup"><span data-stu-id="f852e-221">For more information on using Windows Installer for games, tune in to next month's Driving DirectX column, "Introduction to Windows Installer for Game Developers."</span></span>

## <a name="related-topics"></a><span data-ttu-id="f852e-222">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="f852e-222">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f852e-223">**MsiConfigureFeature**</span><span class="sxs-lookup"><span data-stu-id="f852e-223">**MsiConfigureFeature**</span></span>](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea)
</dt> <dt>

[<span data-ttu-id="f852e-224">**MsiQueryProductState**</span><span class="sxs-lookup"><span data-stu-id="f852e-224">**MsiQueryProductState**</span></span>](/windows/desktop/api/msi/nf-msi-msiqueryproductstatea)
</dt> <dt>

[<span data-ttu-id="f852e-225">**MsiQueryFeatureState**</span><span class="sxs-lookup"><span data-stu-id="f852e-225">**MsiQueryFeatureState**</span></span>](/windows/desktop/api/msi/nf-msi-msiqueryfeaturestatea)
</dt> <dt>

[<span data-ttu-id="f852e-226">**MsiGetComponentPath**</span><span class="sxs-lookup"><span data-stu-id="f852e-226">**MsiGetComponentPath**</span></span>](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha)
</dt> </dl>

 

 