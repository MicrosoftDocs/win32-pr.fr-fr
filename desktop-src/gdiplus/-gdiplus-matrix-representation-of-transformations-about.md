---
description: Une matrice m&\# 215 ; n est un ensemble de nombres organisés en m lignes et n colonnes. L’illustration suivante montre plusieurs matrices.
ms.assetid: 62215ae0-b095-42b2-911c-aa7607a8b61a
title: Représentation matricielle des transformations
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0577cae38c401e842cff2ff14179594f9118dfd2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103751333"
---
# <a name="matrix-representation-of-transformations"></a><span data-ttu-id="a71f0-104">Représentation matricielle des transformations</span><span class="sxs-lookup"><span data-stu-id="a71f0-104">Matrix Representation of Transformations</span></span>

<span data-ttu-id="a71f0-105">Une matrice *m × n* est un ensemble de nombres organisés en *m* lignes et *n* colonnes.</span><span class="sxs-lookup"><span data-stu-id="a71f0-105">An *m×n* matrix is a set of numbers arranged in *m* rows and *n* columns.</span></span> <span data-ttu-id="a71f0-106">L’illustration suivante montre plusieurs matrices.</span><span class="sxs-lookup"><span data-stu-id="a71f0-106">The following illustration shows several matrices.</span></span>

![Illustration montrant six matrices de dimensions variables](images/aboutgdip05-art04.png)

<span data-ttu-id="a71f0-108">Vous pouvez ajouter deux matrices de même taille en ajoutant des éléments individuels.</span><span class="sxs-lookup"><span data-stu-id="a71f0-108">You can add two matrices of the same size by adding individual elements.</span></span> <span data-ttu-id="a71f0-109">L’illustration suivante montre deux exemples d’ajouts de matrice.</span><span class="sxs-lookup"><span data-stu-id="a71f0-109">The following illustration shows two examples of matrix addition.</span></span>

![illustration qui montre comment effectuer une addition de matrice](images/aboutgdip05-art05.png)

<span data-ttu-id="a71f0-111">Une matrice *m × n* peut être multipliée par une matrice *n × p* , et le résultat est une matrice *m × p* .</span><span class="sxs-lookup"><span data-stu-id="a71f0-111">An *m×n* matrix can be multiplied by an *n×p* matrix, and the result is an *m×p* matrix.</span></span> <span data-ttu-id="a71f0-112">Le nombre de colonnes dans la première matrice doit être le même que le nombre de lignes dans la seconde matrice.</span><span class="sxs-lookup"><span data-stu-id="a71f0-112">The number of columns in the first matrix must be the same as the number of rows in the second matrix.</span></span> <span data-ttu-id="a71f0-113">Par exemple, une matrice 4 × 2 peut être multipliée par une matrice 2 × 3 pour produire une matrice 4 × 3.</span><span class="sxs-lookup"><span data-stu-id="a71f0-113">For example, a 4 ×2 matrix can be multiplied by a 2 ×3 matrix to produce a 4 ×3 matrix.</span></span>

<span data-ttu-id="a71f0-114">Les points dans le plan et les lignes et les colonnes d’une matrice peuvent être considérés comme des vecteurs.</span><span class="sxs-lookup"><span data-stu-id="a71f0-114">Points in the plane and rows and columns of a matrix can be thought of as vectors.</span></span> <span data-ttu-id="a71f0-115">Par exemple, (2, 5) est un vecteur avec deux composants, et (3, 7, 1) est un vecteur avec trois composants.</span><span class="sxs-lookup"><span data-stu-id="a71f0-115">For example, (2, 5) is a vector with two components, and (3, 7, 1) is a vector with three components.</span></span> <span data-ttu-id="a71f0-116">Le produit scalaire de deux vecteurs est défini comme suit :</span><span class="sxs-lookup"><span data-stu-id="a71f0-116">The dot product of two vectors is defined as follows:</span></span>

<span data-ttu-id="a71f0-117">(a, b) • (c, d) = AC + BD</span><span class="sxs-lookup"><span data-stu-id="a71f0-117">(a, b) • (c, d) = ac + bd</span></span>

<span data-ttu-id="a71f0-118">(a, b, c) • (d, e, f) = AD + is + cf</span><span class="sxs-lookup"><span data-stu-id="a71f0-118">(a, b, c) • (d, e, f) = ad + be + cf</span></span>

<span data-ttu-id="a71f0-119">Par exemple, le produit scalaire de (2, 3) et (5, 4) est (2) (5) + (3) (4) = 22.</span><span class="sxs-lookup"><span data-stu-id="a71f0-119">For example, the dot product of (2, 3) and (5, 4) is (2)(5) + (3)(4) = 22.</span></span> <span data-ttu-id="a71f0-120">Le produit scalaire de (2, 5, 1) et (4, 3, 1) est (2) (4) + (5) (3) + (1) (1) = 24.</span><span class="sxs-lookup"><span data-stu-id="a71f0-120">The dot product of (2, 5, 1) and (4, 3, 1) is (2)(4) + (5)(3) + (1)(1) = 24.</span></span> <span data-ttu-id="a71f0-121">Notez que le produit scalaire de deux vecteurs est un nombre, et non un autre vecteur.</span><span class="sxs-lookup"><span data-stu-id="a71f0-121">Note that the dot product of two vectors is a number, not another vector.</span></span> <span data-ttu-id="a71f0-122">Notez également que vous pouvez calculer le produit scalaire uniquement si les deux vecteurs ont le même nombre de composants.</span><span class="sxs-lookup"><span data-stu-id="a71f0-122">Also note that you can calculate the dot product only if the two vectors have the same number of components.</span></span>

<span data-ttu-id="a71f0-123">LET A (i, j) est l’entrée de la matrice A dans la **énième** ligne et la **énième** colonne.</span><span class="sxs-lookup"><span data-stu-id="a71f0-123">Let A(i, j) be the entry in matrix A in the i **th** row and the j **th** column.</span></span> <span data-ttu-id="a71f0-124">Par exemple, un (3, 2) est l’entrée de la matrice A dans les 3 lignes **rd** et 2 **ème** colonne.</span><span class="sxs-lookup"><span data-stu-id="a71f0-124">For example A(3, 2) is the entry in matrix A in the 3 **rd** row and the 2 **nd** column.</span></span> <span data-ttu-id="a71f0-125">Supposons que A, B et C sont des matrices, et AB = C. Les entrées de C sont calculées comme suit :</span><span class="sxs-lookup"><span data-stu-id="a71f0-125">Suppose A, B, and C are matrices, and AB = C. The entries of C are calculated as follows:</span></span>

<span data-ttu-id="a71f0-126">C (i, j) = (ligne i de A) • (colonne j sur B)</span><span class="sxs-lookup"><span data-stu-id="a71f0-126">C(i, j) = (row i of A) • (column j of B)</span></span>

<span data-ttu-id="a71f0-127">L’illustration suivante montre plusieurs exemples de multiplication de matrice.</span><span class="sxs-lookup"><span data-stu-id="a71f0-127">The following illustration shows several examples of matrix multiplication.</span></span>

![illustration qui montre comment effectuer une multiplication de matrice](images/aboutgdip05-art06.png)

<span data-ttu-id="a71f0-129">Si vous pensez qu’un point du plan est une matrice 1 × 2, vous pouvez transformer ce point en le multipliant par une matrice 2 × 2.</span><span class="sxs-lookup"><span data-stu-id="a71f0-129">If you think of a point in the plane as a 1 × 2 matrix, you can transform that point by multiplying it by a 2 × 2 matrix.</span></span> <span data-ttu-id="a71f0-130">L’illustration suivante montre plusieurs transformations appliquées au point (2, 1).</span><span class="sxs-lookup"><span data-stu-id="a71f0-130">The following illustration shows several transformations applied to the point (2, 1).</span></span>

![illustration qui montre comment utiliser la multiplication de matrice pour mettre à l’échelle, faire pivoter ou refléter un point dans un plan](images/aboutgdip05-art07.png)

<span data-ttu-id="a71f0-132">Toutes les transformations présentées dans l’illustration précédente sont des transformations linéaires.</span><span class="sxs-lookup"><span data-stu-id="a71f0-132">All the transformations shown in the previous figure are linear transformations.</span></span> <span data-ttu-id="a71f0-133">Certaines autres transformations, telles que la translation, ne sont pas linéaires et ne peuvent pas être exprimées sous la forme d’une multiplication par une matrice 2 × 2.</span><span class="sxs-lookup"><span data-stu-id="a71f0-133">Certain other transformations, such as translation, are not linear, and cannot be expressed as multiplication by a 2 × 2 matrix.</span></span> <span data-ttu-id="a71f0-134">Supposons que vous souhaitiez commencer par le point (2, 1), le faire pivoter de 90 degrés, le convertir en 3 unités dans la direction x et traduire les unités informatiques 4 dans la direction y.</span><span class="sxs-lookup"><span data-stu-id="a71f0-134">Suppose you want to start with the point (2, 1), rotate it 90 degrees, translate it 3 units in the x direction, and translate it 4 units in the y direction.</span></span> <span data-ttu-id="a71f0-135">Pour ce faire, vous pouvez effectuer une multiplication de matrice, suivie d’un ajout de matrice.</span><span class="sxs-lookup"><span data-stu-id="a71f0-135">You can accomplish this by performing a matrix multiplication followed by a matrix addition.</span></span>

![Illustration montrant comment la multiplication et l’addition de matrices peuvent faire pivoter un point et le traduire deux fois](images/aboutgdip05-art08.png)

<span data-ttu-id="a71f0-137">Une transformation linéaire (multiplication par une matrice 2 × 2) suivie d’une translation (ajout d’une matrice 1 × 2) est appelée une transformation affine.</span><span class="sxs-lookup"><span data-stu-id="a71f0-137">A linear transformation (multiplication by a 2 × 2 matrix) followed by a translation (addition of a 1 × 2 matrix) is called an affine transformation.</span></span> <span data-ttu-id="a71f0-138">Une alternative au stockage d’une transformation affine dans une paire de matrices (une pour la partie linéaire et l’autre pour la translation) consiste à stocker l’intégralité de la transformation dans une matrice 3 × 3.</span><span class="sxs-lookup"><span data-stu-id="a71f0-138">An alternative to storing an affine transformation in a pair of matrices (one for the linear part and one for the translation) is to store the entire transformation in a 3 × 3 matrix.</span></span> <span data-ttu-id="a71f0-139">Pour effectuer cette opération, un point dans le plan doit être stocké dans une matrice 1 × 3 avec une troisième coordonnée factice.</span><span class="sxs-lookup"><span data-stu-id="a71f0-139">To make this work, a point in the plane must be stored in a 1 × 3 matrix with a dummy 3rd coordinate.</span></span> <span data-ttu-id="a71f0-140">La technique habituelle consiste à faire en sorte que toutes les 3 coordonnées soient égales à 1.</span><span class="sxs-lookup"><span data-stu-id="a71f0-140">The usual technique is to make all 3rd coordinates equal to 1.</span></span> <span data-ttu-id="a71f0-141">Par exemple, le point (2, 1) est représenté par la matrice \[ 2 1 1 \] .</span><span class="sxs-lookup"><span data-stu-id="a71f0-141">For example, the point (2, 1) is represented by the matrix \[2 1 1\].</span></span> <span data-ttu-id="a71f0-142">L’illustration suivante montre une transformation affine (rotation de 90 degrés ; translation de 3 unités dans la direction x, 4 unités sur l’axe y), exprimées sous la forme d’une multiplication par une matrice 3 × 3 unique.</span><span class="sxs-lookup"><span data-stu-id="a71f0-142">The following illustration shows an affine transformation (rotate 90 degrees; translate 3 units in the x direction, 4 units in the y direction) expressed as multiplication by a single 3 × 3 matrix.</span></span>

![Illustration montrant comment la multiplication de matrice peut effectuer une transformation affine](images/aboutgdip05-art09.png)

<span data-ttu-id="a71f0-144">Dans l’exemple précédent, le point (2, 1) est mappé au point (2, 6).</span><span class="sxs-lookup"><span data-stu-id="a71f0-144">In the previous example, the point (2, 1) is mapped to the point (2, 6).</span></span> <span data-ttu-id="a71f0-145">Notez que la troisième colonne de la matrice 3 × 3 contient les nombres 0, 0, 1.</span><span class="sxs-lookup"><span data-stu-id="a71f0-145">Note that the third column of the 3 × 3 matrix contains the numbers 0, 0, 1.</span></span> <span data-ttu-id="a71f0-146">Ce sera toujours le cas pour la matrice 3 × 3 d’une transformation affine.</span><span class="sxs-lookup"><span data-stu-id="a71f0-146">This will always be the case for the 3 × 3 matrix of an affine transformation.</span></span> <span data-ttu-id="a71f0-147">Les nombres importants sont les six nombres des colonnes 1 et 2.</span><span class="sxs-lookup"><span data-stu-id="a71f0-147">The important numbers are the six numbers in columns 1 and 2.</span></span> <span data-ttu-id="a71f0-148">La partie supérieure gauche 2 × 2 de la matrice représente la partie linéaire de la transformation, tandis que les deux premières entrées de la troisième ligne représentent la translation.</span><span class="sxs-lookup"><span data-stu-id="a71f0-148">The upper-left 2 × 2 portion of the matrix represents the linear part of the transformation, and the first two entries in the 3rd row represent the translation.</span></span>

![Illustration montrant que les deux premières colonnes sont les plus significatives pour une matrice 3x3 d’une transformation affine](images/aboutgdip05-art10.png)

<span data-ttu-id="a71f0-150">Dans Windows GDI+, vous pouvez stocker une transformation affine dans un objet [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) .</span><span class="sxs-lookup"><span data-stu-id="a71f0-150">In Windows GDI+ you can store an affine transformation in a [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) object.</span></span> <span data-ttu-id="a71f0-151">Étant donné que la troisième colonne d’une matrice qui représente une transformation affine est toujours (0, 0, 1), vous spécifiez uniquement les six nombres dans les deux premières colonnes quand vous construisez un objet de **matrice** .</span><span class="sxs-lookup"><span data-stu-id="a71f0-151">Because the third column of a matrix that represents an affine transformation is always (0, 0, 1), you specify only the six numbers in the first two columns when you construct a **Matrix** object.</span></span> <span data-ttu-id="a71f0-152">L’instruction `Matrix myMatrix(0.0f, 1.0f, -1.0f, 0.0f, 3.0f, 4.0f);` construit la matrice présentée dans la figure précédente.</span><span class="sxs-lookup"><span data-stu-id="a71f0-152">The statement `Matrix myMatrix(0.0f, 1.0f, -1.0f, 0.0f, 3.0f, 4.0f);` constructs the matrix shown in the previous figure.</span></span>

## <a name="composite-transformations"></a><span data-ttu-id="a71f0-153">Transformations composites</span><span class="sxs-lookup"><span data-stu-id="a71f0-153">Composite Transformations</span></span>

<span data-ttu-id="a71f0-154">Une transformation composite est une séquence de transformations, l’une suivie de l’autre.</span><span class="sxs-lookup"><span data-stu-id="a71f0-154">A composite transformation is a sequence of transformations, one followed by the other.</span></span> <span data-ttu-id="a71f0-155">Tenez compte des matrices et des transformations figurant dans la liste suivante :</span><span class="sxs-lookup"><span data-stu-id="a71f0-155">Consider the matrices and transformations in the following list:</span></span>

-   <span data-ttu-id="a71f0-156">Matrice A pivoter de 90 degrés</span><span class="sxs-lookup"><span data-stu-id="a71f0-156">Matrix A    Rotate 90 degrees</span></span>
-   <span data-ttu-id="a71f0-157">Matrice B mise à l’échelle d’un facteur de 2 dans la direction x</span><span class="sxs-lookup"><span data-stu-id="a71f0-157">Matrix B    Scale by a factor of 2 in the x direction</span></span>
-   <span data-ttu-id="a71f0-158">La matrice C translate 3 unités sur l’axe y</span><span class="sxs-lookup"><span data-stu-id="a71f0-158">Matrix C    Translate 3 units in the y direction</span></span>

<span data-ttu-id="a71f0-159">Si vous commencez par le point (2, 1) (représenté par la matrice \[ 2 1 1) et que vous \] multipliez par A, puis B, puis C, le point (2, 1) subira les trois transformations dans l’ordre indiqué.</span><span class="sxs-lookup"><span data-stu-id="a71f0-159">If you start with the point (2, 1) — represented by the matrix \[2 1 1\] — and multiply by A, then B, then C, the point (2,1) will undergo the three transformations in the order listed.</span></span>

<span data-ttu-id="a71f0-160">\[2 1 1 \] ABC = \[ – 2 5 1\]</span><span class="sxs-lookup"><span data-stu-id="a71f0-160">\[2 1 1\]ABC = \[ –2 5 1\]</span></span>

<span data-ttu-id="a71f0-161">Au lieu de stocker les trois parties de la transformation composite dans trois matrices distinctes, vous pouvez multiplier A, B et C ensemble pour obtenir une matrice 3 × 3 unique qui stocke l’intégralité de la transformation composite.</span><span class="sxs-lookup"><span data-stu-id="a71f0-161">Rather than store the three parts of the composite transformation in three separate matrices, you can multiply A, B, and C together to get a single 3 × 3 matrix that stores the entire composite transformation.</span></span> <span data-ttu-id="a71f0-162">Supposons que ABC = D. Un point multiplié par D donne le même résultat qu’un point multiplié par A, puis B, puis C.</span><span class="sxs-lookup"><span data-stu-id="a71f0-162">Suppose ABC = D. Then a point multiplied by D gives the same result as a point multiplied by A, then B, then C.</span></span>

<span data-ttu-id="a71f0-163">\[2 1 1 \] D = \[ – 2 5 1\]</span><span class="sxs-lookup"><span data-stu-id="a71f0-163">\[2 1 1\]D = \[ –2 5 1\]</span></span>

<span data-ttu-id="a71f0-164">L’illustration suivante montre les matrices A, B, C et D.</span><span class="sxs-lookup"><span data-stu-id="a71f0-164">The following illustration shows the matrices A, B, C, and D.</span></span>

![Illustration montrant comment effectuer plusieurs transformations en multipliant les matrices constitutives](images/aboutgdip05-art12.png)

<span data-ttu-id="a71f0-166">Le fait que la matrice d’une transformation composite puisse être formée en multipliant les matrices de transformation individuelles signifie que toute séquence de transformations affines peut être stockée dans un objet de [**matrice**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) unique.</span><span class="sxs-lookup"><span data-stu-id="a71f0-166">The fact that the matrix of a composite transformation can be formed by multiplying the individual transformation matrices means that any sequence of affine transformations can be stored in a single [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) object.</span></span>

> [!Note]  
> <span data-ttu-id="a71f0-167">L’ordre d’une transformation composite est important.</span><span class="sxs-lookup"><span data-stu-id="a71f0-167">The order of a composite transformation is important.</span></span> <span data-ttu-id="a71f0-168">En général, faire pivoter, puis mettre à l’échelle, puis translater n’est pas identique à l’échelle, faire pivoter, puis traduire.</span><span class="sxs-lookup"><span data-stu-id="a71f0-168">In general, rotate, then scale, then translate is not the same as scale, then rotate, then translate.</span></span> <span data-ttu-id="a71f0-169">De même, l’ordre de multiplication des matrices est important.</span><span class="sxs-lookup"><span data-stu-id="a71f0-169">Similarly, the order of matrix multiplication is important.</span></span> <span data-ttu-id="a71f0-170">En général, ABC n’est pas le même que le BAA.</span><span class="sxs-lookup"><span data-stu-id="a71f0-170">In general, ABC is not the same as BAC.</span></span>

 

<span data-ttu-id="a71f0-171">La [**classe Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) fournit plusieurs méthodes pour générer une transformation composite : [**Matrix :: Multiply**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-multiply), [**Matrix :: Rotate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotate), [**Matrix :: RotateAt**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotateat), [**Matrix :: Scale**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-scale), [**Matrix :: Shear**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-shear)et [**Matrix :: translate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-translate).</span><span class="sxs-lookup"><span data-stu-id="a71f0-171">The [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) class provides several methods for building a composite transformation: [**Matrix::Multiply**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-multiply), [**Matrix::Rotate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotate), [**Matrix::RotateAt**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotateat), [**Matrix::Scale**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-scale), [**Matrix::Shear**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-shear), and [**Matrix::Translate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-translate).</span></span> <span data-ttu-id="a71f0-172">L’exemple suivant crée la matrice d’une transformation composite qui fait pivoter d’abord 30 degrés, puis met à l’échelle d’un facteur de 2 sur l’axe y, puis convertit 5 unités dans la direction x.</span><span class="sxs-lookup"><span data-stu-id="a71f0-172">The following example creates the matrix of a composite transformation that first rotates 30 degrees, then scales by a factor of 2 in the y direction, and then translates 5 units in the x direction.</span></span>


```
Matrix myMatrix;
myMatrix.Rotate(30.0f);
myMatrix.Scale(1.0f, 2.0f, MatrixOrderAppend);
myMatrix.Translate(5.0f, 0.0f, MatrixOrderAppend);
```



<span data-ttu-id="a71f0-173">L’illustration suivante montre la matrice.</span><span class="sxs-lookup"><span data-stu-id="a71f0-173">The following illustration shows the matrix.</span></span>

![Illustration montrant une matrice avec des valeurs exprimées en tant que fonctions trigonométriques et une matrice avec des valeurs approximatives de ces fonctions](images/aboutgdip05-art13.png)

 

 



