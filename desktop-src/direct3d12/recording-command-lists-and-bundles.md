---
title: Création et enregistrement de listes de commandes et de bundles
description: Cette rubrique décrit l’enregistrement des listes de commandes et des offres groupées dans les applications Direct3D 12. Les listes de commandes et les offres groupées permettent aux applications d’enregistrer des appels de dessin ou de modification d’État pour une exécution ultérieure sur l’unité de traitement graphique (GPU).
ms.assetid: 0074B796-33A4-4AA1-A4E7-48A2A63F25B7
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d5ef2b54138cf3a08b85e3e8cc31f97cbe66abf6
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104548571"
---
# <a name="creating-and-recording-command-lists-and-bundles"></a><span data-ttu-id="0917d-104">Création et enregistrement de listes de commandes et de bundles</span><span class="sxs-lookup"><span data-stu-id="0917d-104">Creating and recording command lists and bundles</span></span>

<span data-ttu-id="0917d-105">Cette rubrique décrit l’enregistrement des listes de commandes et des offres groupées dans les applications Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="0917d-105">This topic describes recording command lists and bundles in Direct3D 12 apps.</span></span> <span data-ttu-id="0917d-106">Les listes de commandes et les offres groupées permettent aux applications d’enregistrer des appels de dessin ou de modification d’État pour une exécution ultérieure sur l’unité de traitement graphique (GPU).</span><span class="sxs-lookup"><span data-stu-id="0917d-106">Command lists and bundles both allow apps to record drawing or state-changing calls for later execution on the graphics processing unit (GPU).</span></span>

<span data-ttu-id="0917d-107">Au-delà des listes de commandes, l’API exploite les fonctionnalités présentes dans le matériel GPU en ajoutant un second niveau de listes de commandes, appelées « *bottes*».</span><span class="sxs-lookup"><span data-stu-id="0917d-107">Beyond command lists, the API exploits functionality present in GPU hardware by adding a second level of command lists, which are referred to as *bundles*.</span></span> <span data-ttu-id="0917d-108">L’objectif des offres groupées est de permettre aux applications de regrouper un petit nombre de commandes API pour une exécution ultérieure.</span><span class="sxs-lookup"><span data-stu-id="0917d-108">The purpose of bundles is to allow apps to group a small number of API commands together for later execution.</span></span> <span data-ttu-id="0917d-109">Au moment de la création du bundle, le pilote effectue autant de prétraitement que possible pour une exécution ultérieure.</span><span class="sxs-lookup"><span data-stu-id="0917d-109">At bundle creation time, the driver will perform as much pre-processing as is possible to make these cheap to execute later.</span></span> <span data-ttu-id="0917d-110">Les offres groupées sont conçues pour être utilisées et réutilisées plusieurs fois.</span><span class="sxs-lookup"><span data-stu-id="0917d-110">Bundles are designed to be used and re-used any number of times.</span></span> <span data-ttu-id="0917d-111">En revanche, les listes de commandes ne sont généralement exécutées qu’une seule fois.</span><span class="sxs-lookup"><span data-stu-id="0917d-111">Command lists, on the other hand, are typically executed only a single time.</span></span> <span data-ttu-id="0917d-112">Toutefois, une liste de commandes *peut* être exécutée plusieurs fois (tant que l’application s’assure que les exécutions précédentes sont terminées avant d’envoyer de nouvelles exécutions).</span><span class="sxs-lookup"><span data-stu-id="0917d-112">However, a command list *can* be executed multiple times (as long as the application ensures that the previous executions have completed before submitting new executions).</span></span>

<span data-ttu-id="0917d-113">Toutefois, en règle générale, la génération d’appels d’API dans des offres groupées, les appels d’API et les offres groupées dans des listes de commandes, et les listes de commandes dans un frame unique, est illustrée dans le diagramme suivant, notant la réutilisation de **Bundle 1** dans la **liste de commandes 1** et la **liste de commandes 2**.</span><span class="sxs-lookup"><span data-stu-id="0917d-113">Typically though, the build up of API calls into bundles, and API calls and bundles into command lists, and command lists into a single frame, is shown in the following diagram, noting the reuse of **Bundle 1** in **Command list 1** and **Command list 2**, and that the API method names in the diagram are just as examples, many different API calls can be used.</span></span>

![génération de commandes, de regroupements et de listes de commandes dans des frames](images/gpu-workitems.png)

<span data-ttu-id="0917d-115">Il existe différentes restrictions pour créer et exécuter des offres groupées et des listes de commandes directes, et ces différences sont indiquées dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="0917d-115">There are different restrictions for creating and executing bundles and direct command lists, and these differences are noted throughout this topic.</span></span>

## <a name="creating-command-lists"></a><span data-ttu-id="0917d-116">Création de listes de commandes</span><span class="sxs-lookup"><span data-stu-id="0917d-116">Creating command lists</span></span>

<span data-ttu-id="0917d-117">Les listes de commandes directes et les offres groupées sont créées en appelant [**ID3D12Device :: CreateCommandList**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandlist) ou [**ID3D12Device4 :: CreateCommandList1**](/windows/win32/api/d3d12/nf-d3d12-id3d12device4-createcommandlist1).</span><span class="sxs-lookup"><span data-stu-id="0917d-117">Direct command lists and bundles are created by calling [**ID3D12Device::CreateCommandList**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandlist) or [**ID3D12Device4::CreateCommandList1**](/windows/win32/api/d3d12/nf-d3d12-id3d12device4-createcommandlist1).</span></span>

<span data-ttu-id="0917d-118">Utilisez [**ID3D12Device4 :: CreateCommandList1**](/windows/win32/api/d3d12/nf-d3d12-id3d12device4-createcommandlist1) pour créer une liste de commandes fermée, au lieu de créer une nouvelle liste et de la fermer immédiatement.</span><span class="sxs-lookup"><span data-stu-id="0917d-118">Use [**ID3D12Device4::CreateCommandList1**](/windows/win32/api/d3d12/nf-d3d12-id3d12device4-createcommandlist1) to create a closed command list, rather than creating a new list and immediately closing it.</span></span> <span data-ttu-id="0917d-119">Cela évite l’inefficacité de la création d’une liste avec un allocateur et un PSO, mais pas leur utilisation.</span><span class="sxs-lookup"><span data-stu-id="0917d-119">This avoids the inefficiency of creating a list with an allocator and PSO but not using them.</span></span>

<span data-ttu-id="0917d-120">[**ID3D12Device :: CreateCommandList**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandlist) accepte les paramètres suivants comme entrée :</span><span class="sxs-lookup"><span data-stu-id="0917d-120">[**ID3D12Device::CreateCommandList**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandlist) takes the following parameters as input:</span></span>

### <a name="d3d12_command_list_type"></a><span data-ttu-id="0917d-121">\_Type de \_ liste de commandes D3D12 \_</span><span class="sxs-lookup"><span data-stu-id="0917d-121">D3D12\_COMMAND\_LIST\_TYPE</span></span>

<span data-ttu-id="0917d-122">L’énumération de [**\_ type de \_ liste \_ de commandes D3D12**](/windows/win32/api/d3d12/ne-d3d12-d3d12_command_list_type) indique le type de liste de commandes en cours de création.</span><span class="sxs-lookup"><span data-stu-id="0917d-122">The [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/win32/api/d3d12/ne-d3d12-d3d12_command_list_type) enumeration indicates the type of command list that is being created.</span></span> <span data-ttu-id="0917d-123">Il peut s’agir d’une liste de commandes directe, d’un bundle, d’une liste de commandes de calcul ou d’une liste de commandes de copie.</span><span class="sxs-lookup"><span data-stu-id="0917d-123">It can be a direct command list, a bundle, a compute command list, or a copy command list.</span></span>

### <a name="id3d12commandallocator"></a><span data-ttu-id="0917d-124">ID3D12CommandAllocator</span><span class="sxs-lookup"><span data-stu-id="0917d-124">ID3D12CommandAllocator</span></span>

<span data-ttu-id="0917d-125">Un allocateur de commande permet à l’application de gérer la mémoire allouée pour les listes de commandes.</span><span class="sxs-lookup"><span data-stu-id="0917d-125">A command allocator allows the app to manage the memory that is allocated for command lists.</span></span> <span data-ttu-id="0917d-126">L’allocateur de commande est créé en appelant [**CreateCommandAllocator**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandallocator).</span><span class="sxs-lookup"><span data-stu-id="0917d-126">The command allocator is created by calling [**CreateCommandAllocator**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createcommandallocator).</span></span> <span data-ttu-id="0917d-127">Lors de la création d’une liste de commandes, le type de liste de commandes de l’allocateur, spécifié par le [**\_ type de \_ liste \_ de commandes D3D12**](/windows/win32/api/d3d12/ne-d3d12-d3d12_command_list_type), doit correspondre au type de liste de commandes en cours de création.</span><span class="sxs-lookup"><span data-stu-id="0917d-127">When creating a command list, the command list type of the allocator, specified by [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/win32/api/d3d12/ne-d3d12-d3d12_command_list_type), must match the type of command list being created.</span></span> <span data-ttu-id="0917d-128">Un allocateur donné peut être associé à une seule liste de commandes en *cours d’enregistrement* à la fois, même si l’un des allocateurs de commandes peut être utilisé pour créer un nombre quelconque d’objets [**GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) .</span><span class="sxs-lookup"><span data-stu-id="0917d-128">A given allocator can be associated with no more than one *currently recording* command list at a time, though one command allocator can be used to create any number of [**GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) objects.</span></span>

<span data-ttu-id="0917d-129">Pour récupérer la mémoire allouée par un allocateur de commande, une application appelle [**ID3D12CommandAllocator :: Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandallocator-reset).</span><span class="sxs-lookup"><span data-stu-id="0917d-129">To reclaim the memory allocated by a command allocator, an app calls [**ID3D12CommandAllocator::Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandallocator-reset).</span></span> <span data-ttu-id="0917d-130">Cela permet de réutiliser l’allocateur pour les nouveaux commandes, mais ne réduit pas sa taille sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="0917d-130">This allows the allocator to be reused for new commmands, but won't reduce its underlying size.</span></span> <span data-ttu-id="0917d-131">Mais avant cela, l’application doit s’assurer que le GPU n’exécute plus les listes de commandes associées à l’allocateur. dans le cas contraire, l’appel échoue.</span><span class="sxs-lookup"><span data-stu-id="0917d-131">But before doing so, the app must make sure that the GPU is no longer executing any command lists which are associated with the allocator; otherwise, the call will fail.</span></span> <span data-ttu-id="0917d-132">Notez également que cette API n’est pas de thread libre et ne peut donc pas être appelée sur le même allocateur en même temps à partir de plusieurs threads.</span><span class="sxs-lookup"><span data-stu-id="0917d-132">Also, note that this API is not free-threaded and therefore can't be called on the same allocator at the same time from multiple threads.</span></span>

### <a name="id3d12pipelinestate"></a><span data-ttu-id="0917d-133">ID3D12PipelineState</span><span class="sxs-lookup"><span data-stu-id="0917d-133">ID3D12PipelineState</span></span>

<span data-ttu-id="0917d-134">État initial du pipeline pour la liste de commandes.</span><span class="sxs-lookup"><span data-stu-id="0917d-134">The initial pipeline state for the command list.</span></span> <span data-ttu-id="0917d-135">Dans Microsoft Direct3D 12, la plupart des États de pipeline de graphiques sont définis dans une liste de commandes à l’aide de l’objet [**ID3D12PipelineState**](/windows/win32/api/d3d12/nn-d3d12-id3d12pipelinestate) .</span><span class="sxs-lookup"><span data-stu-id="0917d-135">In Microsoft Direct3D 12, most graphics pipeline state is set within a command list using the [**ID3D12PipelineState**](/windows/win32/api/d3d12/nn-d3d12-id3d12pipelinestate) object.</span></span> <span data-ttu-id="0917d-136">Une application crée un grand nombre de ces éléments, généralement pendant l’initialisation de l’application, puis l’État est mis à jour en modifiant l’objet d’État actuellement lié à l’aide de [**ID3D12GraphicsCommandList :: SetPipelineState**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setpipelinestate).</span><span class="sxs-lookup"><span data-stu-id="0917d-136">An app will create a large number of these, typically during app initialization, and then the state is updated by changing the currently bound state object using [**ID3D12GraphicsCommandList::SetPipelineState**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setpipelinestate).</span></span> <span data-ttu-id="0917d-137">Pour plus d’informations sur les objets d’état de pipeline, consultez [gestion de l’état des pipelines graphiques dans Direct3D 12](managing-graphics-pipeline-state-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="0917d-137">For more information about pipeline state objects, see [Managing graphics pipeline state in Direct3D 12](managing-graphics-pipeline-state-in-direct3d-12.md).</span></span>

<span data-ttu-id="0917d-138">Notez que les offres groupées n’héritent pas de l’état du pipeline défini par les appels précédents dans les listes de commandes directes qui sont leurs parents.</span><span class="sxs-lookup"><span data-stu-id="0917d-138">Note that bundles don't inherit the pipeline state set by previous calls in direct command lists that are their parents.</span></span>

<span data-ttu-id="0917d-139">Si ce paramètre a la valeur NULL, un État par défaut est utilisé.</span><span class="sxs-lookup"><span data-stu-id="0917d-139">If this parameter is NULL, a default state is used.</span></span>

## <a name="recording-command-lists"></a><span data-ttu-id="0917d-140">Enregistrement des listes de commandes</span><span class="sxs-lookup"><span data-stu-id="0917d-140">Recording command lists</span></span>

<span data-ttu-id="0917d-141">Immédiatement après sa création, les listes de commandes sont dans l’état d’enregistrement.</span><span class="sxs-lookup"><span data-stu-id="0917d-141">Immediately after being created, command lists are in the recording state.</span></span> <span data-ttu-id="0917d-142">Vous pouvez également réutiliser une liste de commandes existante en appelant I [**D3D12GraphicsCommandList :: Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-reset), qui laisse également la liste de commandes dans l’État Recording.</span><span class="sxs-lookup"><span data-stu-id="0917d-142">You can also re-use an existing command list by calling I [**D3D12GraphicsCommandList::Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-reset), which also leaves the command list in the recording state.</span></span> <span data-ttu-id="0917d-143">Contrairement à [**ID3D12CommandAllocator :: Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandallocator-reset), vous pouvez appeler **Reset** lorsque la liste de commandes est toujours en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="0917d-143">Unlike [**ID3D12CommandAllocator::Reset**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandallocator-reset), you can call **Reset** while the command list is still being executed.</span></span> <span data-ttu-id="0917d-144">Un modèle classique consiste à soumettre une liste de commandes, puis à la réinitialiser immédiatement pour réutiliser la mémoire allouée pour une autre liste de commandes.</span><span class="sxs-lookup"><span data-stu-id="0917d-144">A typical pattern is to submit a command list and then immediately reset it to reuse the allocated memory for another command list.</span></span> <span data-ttu-id="0917d-145">Notez qu’une seule liste de commandes associée à chaque allocateur de commande peut être dans un état d’enregistrement à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="0917d-145">Note that only one command list associated with each command allocator may be in a recording state at one time.</span></span>

<span data-ttu-id="0917d-146">Une fois qu’une liste de commandes est dans l’État enregistrement, il vous suffit d’appeler les méthodes de l’interface [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) pour ajouter des commandes à la liste.</span><span class="sxs-lookup"><span data-stu-id="0917d-146">Once a command list is in the recording state, you simply call methods of the [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) interface to add commands to the list.</span></span> <span data-ttu-id="0917d-147">La plupart de ces méthodes activent les fonctionnalités Direct3D courantes qui seront familières aux développeurs Microsoft Direct3D 11. les autres API sont nouvelles pour Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="0917d-147">Many of these methods enable common Direct3D functionality that will be familiar to Microsoft Direct3D 11 developers; other APIs are new for Direct3D 12.</span></span>

<span data-ttu-id="0917d-148">Après avoir ajouté des commandes à la liste de commandes, vous faites passer la liste de commandes de l’état d’enregistrement en appelant [**Close**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close).</span><span class="sxs-lookup"><span data-stu-id="0917d-148">After adding commands to the command list, you transition the command list out of the recording state by calling [**Close**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close).</span></span>

<span data-ttu-id="0917d-149">Les allocateurs de commandes peuvent croître, mais ils ne peuvent pas être réduits, et la réutilisation des allocateurs doit être envisagée pour optimiser l’efficacité de votre application.</span><span class="sxs-lookup"><span data-stu-id="0917d-149">Command allocators can grow but don't shrink - pooling and reusing allocators should be considered to maximise your app's efficiency.</span></span> <span data-ttu-id="0917d-150">Vous pouvez enregistrer plusieurs listes dans le même allocateur avant sa réinitialisation, à condition qu’une seule liste soit enregistrée à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="0917d-150">You can record multiple lists to the same allocator before it is reset, provided only one list is recording to a given allocator at one time.</span></span> <span data-ttu-id="0917d-151">Vous pouvez visualiser chaque liste en tant que propriétaire d’une partie de l’allocateur, ce qui indique ce que [**ID3D12CommandQueue :: ExecuteCommandLists**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) exécutera.</span><span class="sxs-lookup"><span data-stu-id="0917d-151">You can visualise each list as owning a portion of the allocator which indicates what [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) will execute.</span></span>

<span data-ttu-id="0917d-152">Une stratégie de regroupement d’allocateur simple doit viser approximativement des `numCommandLists * MaxFrameLatency` allocateurs.</span><span class="sxs-lookup"><span data-stu-id="0917d-152">A simple allocator pooling strategy should aim for approximately `numCommandLists * MaxFrameLatency` allocators.</span></span> <span data-ttu-id="0917d-153">Par exemple, si vous enregistrez 6 listes et que vous autorisez jusqu’à 3 images latentes, vous pouvez raisonnablement vous attendre à obtenir 18-20 allocators.</span><span class="sxs-lookup"><span data-stu-id="0917d-153">For example, if you record 6 lists and allow up to 3 latent frames, you could reasonably expect 18-20 allocators.</span></span> <span data-ttu-id="0917d-154">Une stratégie de regroupement plus avancée, qui réutilise des allocateurs pour plusieurs listes sur le même thread, peut viser des `numRecordingThreads * MaxFrameLatency` allocateurs.</span><span class="sxs-lookup"><span data-stu-id="0917d-154">A more advanced pooling strategy, which reuses allocators for multiple lists on the same thread, could aim for `numRecordingThreads * MaxFrameLatency` allocators.</span></span> <span data-ttu-id="0917d-155">À l’aide de l’exemple précédent, si 2 listes ont été enregistrées sur le thread A, 2 sur le thread B, 1 sur le thread C, et 1 sur le thread D, vous pouvez faire en sorte que les allocations 12-14 soient réalistes.</span><span class="sxs-lookup"><span data-stu-id="0917d-155">Using the prior example, if 2 lists were recorded on thread A, 2 on thread B, 1 on thread C, and 1 on thread D, you could realistically aim for 12-14 allocators.</span></span>

<span data-ttu-id="0917d-156">Utilisez une clôture pour déterminer quand un allocateur donné peut être réutilisé.</span><span class="sxs-lookup"><span data-stu-id="0917d-156">Use a fence to determine when a given allocator is able to be reused.</span></span>

<span data-ttu-id="0917d-157">Comme les listes de commandes peuvent être réinitialisées immédiatement après l’exécution, elles peuvent être regroupées de façon triviale, et rajoutées au pool après chaque appel à [**ID3D12CommandQueue :: ExecuteCommandLists**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span><span class="sxs-lookup"><span data-stu-id="0917d-157">As command lists can immediately be reset after execution, they can be trivially pooled, adding them back to the pool after each call to [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/win32/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span></span>

## <a name="example"></a><span data-ttu-id="0917d-158">Exemple</span><span class="sxs-lookup"><span data-stu-id="0917d-158">Example</span></span>

<span data-ttu-id="0917d-159">Les extraits de code suivants illustrent la création et l’enregistrement d’une liste de commandes.</span><span class="sxs-lookup"><span data-stu-id="0917d-159">The following code snippets illustrate the creation and recording of a command list.</span></span> <span data-ttu-id="0917d-160">Notez que cet exemple comprend les fonctionnalités Direct3D 12 suivantes :</span><span class="sxs-lookup"><span data-stu-id="0917d-160">Note that this example includes the following Direct3D 12 features:</span></span>

-   <span data-ttu-id="0917d-161">Objets d’état de pipeline : ils permettent de définir la plupart des paramètres d’État du pipeline de rendu à partir d’une liste de commandes.</span><span class="sxs-lookup"><span data-stu-id="0917d-161">Pipeline state objects - These are used to set most of the state parameters of the render pipeline from within a command list.</span></span> <span data-ttu-id="0917d-162">Pour plus d’informations, consultez [gestion de l’état des pipelines graphiques dans Direct3D 12](managing-graphics-pipeline-state-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="0917d-162">For more information, see [Managing graphics pipeline state in Direct3D 12](managing-graphics-pipeline-state-in-direct3d-12.md).</span></span>
-   <span data-ttu-id="0917d-163">Tas de descripteur : les applications utilisent des tas de descripteurs pour gérer la liaison de pipeline aux ressources mémoire.</span><span class="sxs-lookup"><span data-stu-id="0917d-163">Descriptor heap - Apps use descriptor heaps to manage pipeline binding to memory resources.</span></span>
-   <span data-ttu-id="0917d-164">Barrière des ressources : cette valeur est utilisée pour gérer la transition des ressources d’un État à un autre, par exemple d’une vue de cible de rendu vers une vue de ressource de nuanceur.</span><span class="sxs-lookup"><span data-stu-id="0917d-164">Resource barrier - This is used to manage the transition of resources from one state to another, such as from a render target view to a shader resource view.</span></span> <span data-ttu-id="0917d-165">Pour plus d’informations, consultez [utilisation de barrières de ressources pour synchroniser les États des ressources](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="0917d-165">For more information, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

<span data-ttu-id="0917d-166">Par exemple,</span><span class="sxs-lookup"><span data-stu-id="0917d-166">For example,</span></span>


```C++
void D3D12HelloTriangle::LoadAssets()
{
    // Create an empty root signature.
    {
        CD3DX12_ROOT_SIGNATURE_DESC rootSignatureDesc;
        rootSignatureDesc.Init(0, nullptr, 0, nullptr, D3D12_ROOT_SIGNATURE_FLAG_ALLOW_INPUT_ASSEMBLER_INPUT_LAYOUT);

        ComPtr<ID3DBlob> signature;
        ComPtr<ID3DBlob> error;
        ThrowIfFailed(D3D12SerializeRootSignature(&rootSignatureDesc, D3D_ROOT_SIGNATURE_VERSION_1, &signature, &error));
        ThrowIfFailed(m_device->CreateRootSignature(0, signature->GetBufferPointer(), signature->GetBufferSize(), IID_PPV_ARGS(&m_rootSignature)));
    }

    // Create the pipeline state, which includes compiling and loading shaders.
    {
        ComPtr<ID3DBlob> vertexShader;
        ComPtr<ID3DBlob> pixelShader;

#if defined(_DEBUG)
        // Enable better shader debugging with the graphics debugging tools.
        UINT compileFlags = D3DCOMPILE_DEBUG | D3DCOMPILE_SKIP_OPTIMIZATION;
#else
        UINT compileFlags = 0;
#endif

        ThrowIfFailed(D3DCompileFromFile(GetAssetFullPath(L"shaders.hlsl").c_str(), nullptr, nullptr, "VSMain", "vs_5_0", compileFlags, 0, &vertexShader, nullptr));
        ThrowIfFailed(D3DCompileFromFile(GetAssetFullPath(L"shaders.hlsl").c_str(), nullptr, nullptr, "PSMain", "ps_5_0", compileFlags, 0, &pixelShader, nullptr));

        // Define the vertex input layout.
        D3D12_INPUT_ELEMENT_DESC inputElementDescs[] =
        {
            { "POSITION", 0, DXGI_FORMAT_R32G32B32_FLOAT, 0, 0, D3D12_INPUT_CLASSIFICATION_PER_VERTEX_DATA, 0 },
            { "COLOR", 0, DXGI_FORMAT_R32G32B32A32_FLOAT, 0, 12, D3D12_INPUT_CLASSIFICATION_PER_VERTEX_DATA, 0 }
        };

        // Describe and create the graphics pipeline state object (PSO).
        D3D12_GRAPHICS_PIPELINE_STATE_DESC psoDesc = {};
        psoDesc.InputLayout = { inputElementDescs, _countof(inputElementDescs) };
        psoDesc.pRootSignature = m_rootSignature.Get();
        psoDesc.VS = { reinterpret_cast<UINT8*>(vertexShader->GetBufferPointer()), vertexShader->GetBufferSize() };
        psoDesc.PS = { reinterpret_cast<UINT8*>(pixelShader->GetBufferPointer()), pixelShader->GetBufferSize() };
        psoDesc.RasterizerState = CD3DX12_RASTERIZER_DESC(D3D12_DEFAULT);
        psoDesc.BlendState = CD3DX12_BLEND_DESC(D3D12_DEFAULT);
        psoDesc.DepthStencilState.DepthEnable = FALSE;
        psoDesc.DepthStencilState.StencilEnable = FALSE;
        psoDesc.SampleMask = UINT_MAX;
        psoDesc.PrimitiveTopologyType = D3D12_PRIMITIVE_TOPOLOGY_TYPE_TRIANGLE;
        psoDesc.NumRenderTargets = 1;
        psoDesc.RTVFormats[0] = DXGI_FORMAT_R8G8B8A8_UNORM;
        psoDesc.SampleDesc.Count = 1;
        ThrowIfFailed(m_device->CreateGraphicsPipelineState(&psoDesc, IID_PPV_ARGS(&m_pipelineState)));
    }

    // Create the command list.
    ThrowIfFailed(m_device->CreateCommandList(0, D3D12_COMMAND_LIST_TYPE_DIRECT, m_commandAllocator.Get(), m_pipelineState.Get(), IID_PPV_ARGS(&m_commandList)));

    // Command lists are created in the recording state, but there is nothing
    // to record yet. The main loop expects it to be closed, so close it now.
    ThrowIfFailed(m_commandList->Close());

    // Create the vertex buffer.
    {
        // Define the geometry for a triangle.
        Vertex triangleVertices[] =
        {
            { { 0.0f, 0.25f * m_aspectRatio, 0.0f }, { 1.0f, 0.0f, 0.0f, 1.0f } },
            { { 0.25f, -0.25f * m_aspectRatio, 0.0f }, { 0.0f, 1.0f, 0.0f, 1.0f } },
            { { -0.25f, -0.25f * m_aspectRatio, 0.0f }, { 0.0f, 0.0f, 1.0f, 1.0f } }
        };

        const UINT vertexBufferSize = sizeof(triangleVertices);

        // Note: using upload heaps to transfer static data like vert buffers is not 
        // recommended. Every time the GPU needs it, the upload heap will be marshalled 
        // over. Please read up on Default Heap usage. An upload heap is used here for 
        // code simplicity and because there are very few verts to actually transfer.
        ThrowIfFailed(m_device->CreateCommittedResource(
            &CD3DX12_HEAP_PROPERTIES(D3D12_HEAP_TYPE_UPLOAD),
            D3D12_HEAP_FLAG_NONE,
            &CD3DX12_RESOURCE_DESC::Buffer(vertexBufferSize),
            D3D12_RESOURCE_STATE_GENERIC_READ,
            nullptr,
            IID_PPV_ARGS(&m_vertexBuffer)));

        // Copy the triangle data to the vertex buffer.
        UINT8* pVertexDataBegin;
        CD3DX12_RANGE readRange(0, 0);        // We do not intend to read from this resource on the CPU.
        ThrowIfFailed(m_vertexBuffer->Map(0, &readRange, reinterpret_cast<void**>(&pVertexDataBegin)));
        memcpy(pVertexDataBegin, triangleVertices, sizeof(triangleVertices));
        m_vertexBuffer->Unmap(0, nullptr);

        // Initialize the vertex buffer view.
        m_vertexBufferView.BufferLocation = m_vertexBuffer->GetGPUVirtualAddress();
        m_vertexBufferView.StrideInBytes = sizeof(Vertex);
        m_vertexBufferView.SizeInBytes = vertexBufferSize;
    }

    // Create synchronization objects and wait until assets have been uploaded to the GPU.
    {
        ThrowIfFailed(m_device->CreateFence(0, D3D12_FENCE_FLAG_NONE, IID_PPV_ARGS(&m_fence)));
        m_fenceValue = 1;

        // Create an event handle to use for frame synchronization.
        m_fenceEvent = CreateEvent(nullptr, FALSE, FALSE, nullptr);
        if (m_fenceEvent == nullptr)
        {
            ThrowIfFailed(HRESULT_FROM_WIN32(GetLastError()));
        }

        // Wait for the command list to execute; we are reusing the same command 
        // list in our main loop but for now, we just want to wait for setup to 
        // complete before continuing.
        WaitForPreviousFrame();
    }
}
```



<span data-ttu-id="0917d-167">Une fois qu’une liste de commandes a été créée et enregistrée, elle peut être exécutée à l’aide d’une file d’attente de commandes.</span><span class="sxs-lookup"><span data-stu-id="0917d-167">After a command list has been created and recorded, it can be executed using a command queue.</span></span> <span data-ttu-id="0917d-168">Pour plus d’informations, consultez [exécution et synchronisation de listes de commandes](executing-and-synchronizing-command-lists.md).</span><span class="sxs-lookup"><span data-stu-id="0917d-168">For more information, see [Executing and synchronizing command lists](executing-and-synchronizing-command-lists.md).</span></span>

## <a name="reference-counting"></a><span data-ttu-id="0917d-169">Décompte de références</span><span class="sxs-lookup"><span data-stu-id="0917d-169">Reference counting</span></span>

<span data-ttu-id="0917d-170">La plupart des API D3D12 continuent à utiliser le décompte de références suivant les conventions COM.</span><span class="sxs-lookup"><span data-stu-id="0917d-170">Most D3D12 APIs continue to use reference counting following COM conventions.</span></span> <span data-ttu-id="0917d-171">L’une des exceptions notables concerne les API de liste de commandes Graphics D3D12.</span><span class="sxs-lookup"><span data-stu-id="0917d-171">A notable exception to this is the D3D12 graphics command list APIs.</span></span> <span data-ttu-id="0917d-172">Toutes les API sur [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) ne contiennent pas de références aux objets passés à ces API.</span><span class="sxs-lookup"><span data-stu-id="0917d-172">All APIs on [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) do not hold references to the objects passed into those APIs.</span></span> <span data-ttu-id="0917d-173">Cela signifie que les applications sont chargées de s’assurer qu’une liste de commandes n’est jamais soumise pour l’exécution qui fait référence à une ressource détruite.</span><span class="sxs-lookup"><span data-stu-id="0917d-173">This means applications are responsible for ensuring that a command list is never submitted for execution that references a destroyed resource.</span></span>

## <a name="command-list-errors"></a><span data-ttu-id="0917d-174">Erreurs de liste de commandes</span><span class="sxs-lookup"><span data-stu-id="0917d-174">Command list errors</span></span>

<span data-ttu-id="0917d-175">La plupart des API sur [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) ne retournent pas d’erreurs.</span><span class="sxs-lookup"><span data-stu-id="0917d-175">Most APIs on [**ID3D12GraphicsCommandList**](/windows/win32/api/d3d12/nn-d3d12-id3d12graphicscommandlist) do not return errors.</span></span> <span data-ttu-id="0917d-176">Les erreurs rencontrées lors de la création de la liste de commandes sont différées jusqu’à [**ID3D12GraphicsCommandList :: Close**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close).</span><span class="sxs-lookup"><span data-stu-id="0917d-176">Errors encountered during command list creation are deferred until [**ID3D12GraphicsCommandList::Close**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close).</span></span> <span data-ttu-id="0917d-177">La seule exception est la \_ Suppression de l’appareil d’erreur dxgi \_ \_ , qui est encore différée.</span><span class="sxs-lookup"><span data-stu-id="0917d-177">The one exception is DXGI\_ERROR\_DEVICE\_REMOVED, which is deferred even further.</span></span> <span data-ttu-id="0917d-178">Notez que cela diffère de D3D11, où de nombreuses erreurs de validation de paramètres sont supprimées silencieusement et ne sont jamais retournées à l’appelant.</span><span class="sxs-lookup"><span data-stu-id="0917d-178">Note that this is different from D3D11, where many parameter validation errors are silently dropped and never returned to the caller.</span></span>

<span data-ttu-id="0917d-179">Les applications peuvent s’attendre à \_ voir \_ des erreurs de suppression d’appareil dxgi dans les appels d’API suivants :</span><span class="sxs-lookup"><span data-stu-id="0917d-179">Applications can expect to see DXGI\_DEVICE\_REMOVED errors in the following API calls:</span></span>

-   <span data-ttu-id="0917d-180">Toute méthode de création de ressource</span><span class="sxs-lookup"><span data-stu-id="0917d-180">Any resource creation method</span></span>
-   [<span data-ttu-id="0917d-181">**ID3D12Resource :: Map**</span><span class="sxs-lookup"><span data-stu-id="0917d-181">**ID3D12Resource::Map**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12resource-map)
-   [<span data-ttu-id="0917d-182">**IDXGISwapChain1::Present1**</span><span class="sxs-lookup"><span data-stu-id="0917d-182">**IDXGISwapChain1::Present1**</span></span>](/windows/win32/api/dxgi1_2/nf-dxgi1_2-idxgiswapchain1-present1)
-   [<span data-ttu-id="0917d-183">**GetDeviceRemovedReason**</span><span class="sxs-lookup"><span data-stu-id="0917d-183">**GetDeviceRemovedReason**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getdeviceremovedreason)

## <a name="command-list-api-restrictions"></a><span data-ttu-id="0917d-184">Restrictions de l’API de liste de commandes</span><span class="sxs-lookup"><span data-stu-id="0917d-184">Command list API Restrictions</span></span>

<span data-ttu-id="0917d-185">Certaines API de liste de commandes peuvent être appelées uniquement sur certains types de listes de commandes.</span><span class="sxs-lookup"><span data-stu-id="0917d-185">Some command list APIs can only be called on certain types of command lists.</span></span> <span data-ttu-id="0917d-186">Le tableau ci-dessous montre les API de liste de commandes qui peuvent être appelées sur chaque type de liste de commandes.</span><span class="sxs-lookup"><span data-stu-id="0917d-186">The table below shows which command list APIs are valid to call on each type of command list.</span></span> <span data-ttu-id="0917d-187">Il montre également les API qui sont valides pour appeler dans une [**passe de rendu D3D12**](./direct3d-12-render-passes.md).</span><span class="sxs-lookup"><span data-stu-id="0917d-187">It also shows which APIs are valid to call in a [**D3D12 render pass**](./direct3d-12-render-passes.md).</span></span> 

| <span data-ttu-id="0917d-188">Nom de l’API</span><span class="sxs-lookup"><span data-stu-id="0917d-188">API Name</span></span>                                         | <span data-ttu-id="0917d-189">Graphiques</span><span class="sxs-lookup"><span data-stu-id="0917d-189">Graphics</span></span> | <span data-ttu-id="0917d-190">Compute</span><span class="sxs-lookup"><span data-stu-id="0917d-190">Compute</span></span> | <span data-ttu-id="0917d-191">Copier</span><span class="sxs-lookup"><span data-stu-id="0917d-191">Copy</span></span> | <span data-ttu-id="0917d-192">Bundle</span><span class="sxs-lookup"><span data-stu-id="0917d-192">Bundle</span></span> | <span data-ttu-id="0917d-193">Dans la passe de rendu</span><span class="sxs-lookup"><span data-stu-id="0917d-193">In Render Pass</span></span> |
|--------------------------------------------------|:--------:|:-------:|:----:|:------:|:--------------:|
| <span data-ttu-id="0917d-194">AtomicCopyBufferUINT</span><span class="sxs-lookup"><span data-stu-id="0917d-194">AtomicCopyBufferUINT</span></span>                             | <span data-ttu-id="0917d-195">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-195">✓</span></span>        | <span data-ttu-id="0917d-196">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-196">✓</span></span>       | <span data-ttu-id="0917d-197">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-197">✓</span></span>    |        |                |
| <span data-ttu-id="0917d-198">AtomicCopyBufferUINT64</span><span class="sxs-lookup"><span data-stu-id="0917d-198">AtomicCopyBufferUINT64</span></span>                           | <span data-ttu-id="0917d-199">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-199">✓</span></span>        | <span data-ttu-id="0917d-200">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-200">✓</span></span>       | <span data-ttu-id="0917d-201">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-201">✓</span></span>    |        |                |
| <span data-ttu-id="0917d-202">BeginQuery</span><span class="sxs-lookup"><span data-stu-id="0917d-202">BeginQuery</span></span>                                       | <span data-ttu-id="0917d-203">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-203">✓</span></span>        |         |      |        | <span data-ttu-id="0917d-204">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-204">✓</span></span>              |
| <span data-ttu-id="0917d-205">BeginRenderPass</span><span class="sxs-lookup"><span data-stu-id="0917d-205">BeginRenderPass</span></span>                                  | <span data-ttu-id="0917d-206">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-206">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="0917d-207">BuildRaytracingAccelerationStructure</span><span class="sxs-lookup"><span data-stu-id="0917d-207">BuildRaytracingAccelerationStructure</span></span>             | <span data-ttu-id="0917d-208">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-208">✓</span></span>        | <span data-ttu-id="0917d-209">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-209">✓</span></span>       |      |        |                |
| <span data-ttu-id="0917d-210">ClearDepthStencilView</span><span class="sxs-lookup"><span data-stu-id="0917d-210">ClearDepthStencilView</span></span>                            | <span data-ttu-id="0917d-211">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-211">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="0917d-212">ClearRenderTargetView</span><span class="sxs-lookup"><span data-stu-id="0917d-212">ClearRenderTargetView</span></span>                            | <span data-ttu-id="0917d-213">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-213">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="0917d-214">ClearState</span><span class="sxs-lookup"><span data-stu-id="0917d-214">ClearState</span></span>                                       | <span data-ttu-id="0917d-215">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-215">✓</span></span>        | <span data-ttu-id="0917d-216">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-216">✓</span></span>       |      |        |                |
| <span data-ttu-id="0917d-217">ClearUnorderedAccessViewFloat</span><span class="sxs-lookup"><span data-stu-id="0917d-217">ClearUnorderedAccessViewFloat</span></span>                    | <span data-ttu-id="0917d-218">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-218">✓</span></span>        | <span data-ttu-id="0917d-219">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-219">✓</span></span>       |      |        |                |
| <span data-ttu-id="0917d-220">ClearUnorderedAccessViewUint</span><span class="sxs-lookup"><span data-stu-id="0917d-220">ClearUnorderedAccessViewUint</span></span>                     | <span data-ttu-id="0917d-221">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-221">✓</span></span>        | <span data-ttu-id="0917d-222">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-222">✓</span></span>       |      |        |                |
| <span data-ttu-id="0917d-223">CopyBufferRegion</span><span class="sxs-lookup"><span data-stu-id="0917d-223">CopyBufferRegion</span></span>                                 | <span data-ttu-id="0917d-224">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-224">✓</span></span>        | <span data-ttu-id="0917d-225">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-225">✓</span></span>       | <span data-ttu-id="0917d-226">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-226">✓</span></span>    |        |                |
| <span data-ttu-id="0917d-227">CopyRaytracingAccelerationStructure</span><span class="sxs-lookup"><span data-stu-id="0917d-227">CopyRaytracingAccelerationStructure</span></span>              | <span data-ttu-id="0917d-228">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-228">✓</span></span>        | <span data-ttu-id="0917d-229">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-229">✓</span></span>       |      |        |                |
| <span data-ttu-id="0917d-230">CopyResource</span><span class="sxs-lookup"><span data-stu-id="0917d-230">CopyResource</span></span>                                     | <span data-ttu-id="0917d-231">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-231">✓</span></span>        | <span data-ttu-id="0917d-232">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-232">✓</span></span>       | <span data-ttu-id="0917d-233">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-233">✓</span></span>    |        |                |
| <span data-ttu-id="0917d-234">CopyTextureRegion</span><span class="sxs-lookup"><span data-stu-id="0917d-234">CopyTextureRegion</span></span>                                | <span data-ttu-id="0917d-235">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-235">✓</span></span>        | <span data-ttu-id="0917d-236">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-236">✓</span></span>       | <span data-ttu-id="0917d-237">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-237">✓</span></span>    |        |                |
| <span data-ttu-id="0917d-238">CopyTiles</span><span class="sxs-lookup"><span data-stu-id="0917d-238">CopyTiles</span></span>                                        | <span data-ttu-id="0917d-239">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-239">✓</span></span>        | <span data-ttu-id="0917d-240">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-240">✓</span></span>       | <span data-ttu-id="0917d-241">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-241">✓</span></span>    |        |                |
| <span data-ttu-id="0917d-242">DiscardResource</span><span class="sxs-lookup"><span data-stu-id="0917d-242">DiscardResource</span></span>                                  | <span data-ttu-id="0917d-243">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-243">✓</span></span>        | <span data-ttu-id="0917d-244">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-244">✓</span></span>       |      |        |                |
| <span data-ttu-id="0917d-245">Dispatch</span><span class="sxs-lookup"><span data-stu-id="0917d-245">Dispatch</span></span>                                         | <span data-ttu-id="0917d-246">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-246">✓</span></span>        | <span data-ttu-id="0917d-247">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-247">✓</span></span>       |      | <span data-ttu-id="0917d-248">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-248">✓</span></span>      |                |
| <span data-ttu-id="0917d-249">DispatchRays</span><span class="sxs-lookup"><span data-stu-id="0917d-249">DispatchRays</span></span>                                     | <span data-ttu-id="0917d-250">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-250">✓</span></span>        | <span data-ttu-id="0917d-251">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-251">✓</span></span>       |      | <span data-ttu-id="0917d-252">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-252">✓</span></span>      |                |
| <span data-ttu-id="0917d-253">DrawIndexedInstanced</span><span class="sxs-lookup"><span data-stu-id="0917d-253">DrawIndexedInstanced</span></span>                             | <span data-ttu-id="0917d-254">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-254">✓</span></span>        |         |      | <span data-ttu-id="0917d-255">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-255">✓</span></span>      | <span data-ttu-id="0917d-256">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-256">✓</span></span>              |
| <span data-ttu-id="0917d-257">DrawInstanced</span><span class="sxs-lookup"><span data-stu-id="0917d-257">DrawInstanced</span></span>                                    | <span data-ttu-id="0917d-258">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-258">✓</span></span>        |         |      | <span data-ttu-id="0917d-259">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-259">✓</span></span>      | <span data-ttu-id="0917d-260">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-260">✓</span></span>              |
| <span data-ttu-id="0917d-261">EmitRaytracingAccelerationStructurePostbuildInfo</span><span class="sxs-lookup"><span data-stu-id="0917d-261">EmitRaytracingAccelerationStructurePostbuildInfo</span></span> | <span data-ttu-id="0917d-262">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-262">✓</span></span>        | <span data-ttu-id="0917d-263">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-263">✓</span></span>       |      |        |                |
| <span data-ttu-id="0917d-264">EndQuery</span><span class="sxs-lookup"><span data-stu-id="0917d-264">EndQuery</span></span>                                         | <span data-ttu-id="0917d-265">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-265">✓</span></span>        | <span data-ttu-id="0917d-266">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-266">✓</span></span>       | <span data-ttu-id="0917d-267">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-267">✓</span></span>    |        | <span data-ttu-id="0917d-268">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-268">✓</span></span>              |
| <span data-ttu-id="0917d-269">EndRenderPass</span><span class="sxs-lookup"><span data-stu-id="0917d-269">EndRenderPass</span></span>                                    | <span data-ttu-id="0917d-270">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-270">✓</span></span>        |         |      |        | <span data-ttu-id="0917d-271">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-271">✓</span></span>              |
| <span data-ttu-id="0917d-272">ExecuteBundle</span><span class="sxs-lookup"><span data-stu-id="0917d-272">ExecuteBundle</span></span>                                    | <span data-ttu-id="0917d-273">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-273">✓</span></span>        |         |      |        | <span data-ttu-id="0917d-274">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-274">✓</span></span>              |
| <span data-ttu-id="0917d-275">ExecuteIndirect</span><span class="sxs-lookup"><span data-stu-id="0917d-275">ExecuteIndirect</span></span>                                  | <span data-ttu-id="0917d-276">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-276">✓</span></span>        | <span data-ttu-id="0917d-277">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-277">✓</span></span>       |      | <span data-ttu-id="0917d-278">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-278">✓</span></span>      | <span data-ttu-id="0917d-279">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-279">✓</span></span>              |
| <span data-ttu-id="0917d-280">ExecuteMetaCommand</span><span class="sxs-lookup"><span data-stu-id="0917d-280">ExecuteMetaCommand</span></span>                               | <span data-ttu-id="0917d-281">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-281">✓</span></span>        | <span data-ttu-id="0917d-282">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-282">✓</span></span>       |      |        |                |
| <span data-ttu-id="0917d-283">IASetIndexBuffer</span><span class="sxs-lookup"><span data-stu-id="0917d-283">IASetIndexBuffer</span></span>                                 | <span data-ttu-id="0917d-284">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-284">✓</span></span>        |         |      | <span data-ttu-id="0917d-285">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-285">✓</span></span>      | <span data-ttu-id="0917d-286">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-286">✓</span></span>              |
| <span data-ttu-id="0917d-287">IASetPrimitiveTopology</span><span class="sxs-lookup"><span data-stu-id="0917d-287">IASetPrimitiveTopology</span></span>                           | <span data-ttu-id="0917d-288">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-288">✓</span></span>        |         |      | <span data-ttu-id="0917d-289">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-289">✓</span></span>      | <span data-ttu-id="0917d-290">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-290">✓</span></span>              |
| <span data-ttu-id="0917d-291">IASetVertexBuffers</span><span class="sxs-lookup"><span data-stu-id="0917d-291">IASetVertexBuffers</span></span>                               | <span data-ttu-id="0917d-292">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-292">✓</span></span>        |         |      | <span data-ttu-id="0917d-293">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-293">✓</span></span>      | <span data-ttu-id="0917d-294">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-294">✓</span></span>              |
| <span data-ttu-id="0917d-295">InitializeMetaCommand</span><span class="sxs-lookup"><span data-stu-id="0917d-295">InitializeMetaCommand</span></span>                            | <span data-ttu-id="0917d-296">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-296">✓</span></span>        | <span data-ttu-id="0917d-297">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-297">✓</span></span>       |      |        |                |
| <span data-ttu-id="0917d-298">OMSetBlendFactor</span><span class="sxs-lookup"><span data-stu-id="0917d-298">OMSetBlendFactor</span></span>                                 | <span data-ttu-id="0917d-299">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-299">✓</span></span>        |         |      | <span data-ttu-id="0917d-300">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-300">✓</span></span>      | <span data-ttu-id="0917d-301">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-301">✓</span></span>              |
| <span data-ttu-id="0917d-302">OMSetDepthBounds</span><span class="sxs-lookup"><span data-stu-id="0917d-302">OMSetDepthBounds</span></span>                                 | <span data-ttu-id="0917d-303">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-303">✓</span></span>        |         |      | <span data-ttu-id="0917d-304">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-304">✓</span></span>      | <span data-ttu-id="0917d-305">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-305">✓</span></span>              |
| <span data-ttu-id="0917d-306">OMSetRenderTargets</span><span class="sxs-lookup"><span data-stu-id="0917d-306">OMSetRenderTargets</span></span>                               | <span data-ttu-id="0917d-307">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-307">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="0917d-308">OMSetStencilRef</span><span class="sxs-lookup"><span data-stu-id="0917d-308">OMSetStencilRef</span></span>                                  | <span data-ttu-id="0917d-309">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-309">✓</span></span>        |         |      | <span data-ttu-id="0917d-310">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-310">✓</span></span>      | <span data-ttu-id="0917d-311">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-311">✓</span></span>              |
| <span data-ttu-id="0917d-312">ResolveQueryData</span><span class="sxs-lookup"><span data-stu-id="0917d-312">ResolveQueryData</span></span>                                 | <span data-ttu-id="0917d-313">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-313">✓</span></span>        | <span data-ttu-id="0917d-314">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-314">✓</span></span>       | <span data-ttu-id="0917d-315">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-315">✓</span></span>    |        |                |
| <span data-ttu-id="0917d-316">ResolveSubresource</span><span class="sxs-lookup"><span data-stu-id="0917d-316">ResolveSubresource</span></span>                               | <span data-ttu-id="0917d-317">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-317">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="0917d-318">ResolveSubresourceRegion</span><span class="sxs-lookup"><span data-stu-id="0917d-318">ResolveSubresourceRegion</span></span>                         | <span data-ttu-id="0917d-319">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-319">✓</span></span>        |         |      |        |                |
| <span data-ttu-id="0917d-320">ResourceBarrier</span><span class="sxs-lookup"><span data-stu-id="0917d-320">ResourceBarrier</span></span>                                  | <span data-ttu-id="0917d-321">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-321">✓</span></span>        | <span data-ttu-id="0917d-322">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-322">✓</span></span>       | <span data-ttu-id="0917d-323">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-323">✓</span></span>    |        | <span data-ttu-id="0917d-324">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-324">✓</span></span>              |
| <span data-ttu-id="0917d-325">RSSetScissorRects</span><span class="sxs-lookup"><span data-stu-id="0917d-325">RSSetScissorRects</span></span>                                | <span data-ttu-id="0917d-326">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-326">✓</span></span>        |         |      |        | <span data-ttu-id="0917d-327">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-327">✓</span></span>              |
| <span data-ttu-id="0917d-328">RSSetShadingRate</span><span class="sxs-lookup"><span data-stu-id="0917d-328">RSSetShadingRate</span></span>                                 | <span data-ttu-id="0917d-329">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-329">✓</span></span>        |         |      | <span data-ttu-id="0917d-330">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-330">✓</span></span>      | <span data-ttu-id="0917d-331">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-331">✓</span></span>              |
| <span data-ttu-id="0917d-332">RSSetShadingRateImage</span><span class="sxs-lookup"><span data-stu-id="0917d-332">RSSetShadingRateImage</span></span>                            | <span data-ttu-id="0917d-333">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-333">✓</span></span>        |         |      | <span data-ttu-id="0917d-334">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-334">✓</span></span>      | <span data-ttu-id="0917d-335">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-335">✓</span></span>              |
| <span data-ttu-id="0917d-336">RSSetViewports</span><span class="sxs-lookup"><span data-stu-id="0917d-336">RSSetViewports</span></span>                                   | <span data-ttu-id="0917d-337">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-337">✓</span></span>        |         |      |        | <span data-ttu-id="0917d-338">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-338">✓</span></span>              |
| <span data-ttu-id="0917d-339">SetComputeRoot32BitConstant</span><span class="sxs-lookup"><span data-stu-id="0917d-339">SetComputeRoot32BitConstant</span></span>                      | <span data-ttu-id="0917d-340">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-340">✓</span></span>        | <span data-ttu-id="0917d-341">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-341">✓</span></span>       |      | <span data-ttu-id="0917d-342">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-342">✓</span></span>      | <span data-ttu-id="0917d-343">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-343">✓</span></span>              |
| <span data-ttu-id="0917d-344">SetComputeRoot32BitConstants</span><span class="sxs-lookup"><span data-stu-id="0917d-344">SetComputeRoot32BitConstants</span></span>                     | <span data-ttu-id="0917d-345">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-345">✓</span></span>        | <span data-ttu-id="0917d-346">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-346">✓</span></span>       |      | <span data-ttu-id="0917d-347">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-347">✓</span></span>      | <span data-ttu-id="0917d-348">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-348">✓</span></span>              |
| <span data-ttu-id="0917d-349">SetComputeRootConstantBufferView</span><span class="sxs-lookup"><span data-stu-id="0917d-349">SetComputeRootConstantBufferView</span></span>                 | <span data-ttu-id="0917d-350">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-350">✓</span></span>        | <span data-ttu-id="0917d-351">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-351">✓</span></span>       |      | <span data-ttu-id="0917d-352">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-352">✓</span></span>      | <span data-ttu-id="0917d-353">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-353">✓</span></span>              |
| <span data-ttu-id="0917d-354">SetComputeRootDescriptorTable</span><span class="sxs-lookup"><span data-stu-id="0917d-354">SetComputeRootDescriptorTable</span></span>                    | <span data-ttu-id="0917d-355">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-355">✓</span></span>        | <span data-ttu-id="0917d-356">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-356">✓</span></span>       |      | <span data-ttu-id="0917d-357">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-357">✓</span></span>      | <span data-ttu-id="0917d-358">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-358">✓</span></span>              |
| <span data-ttu-id="0917d-359">SetComputeRootShaderResourceView</span><span class="sxs-lookup"><span data-stu-id="0917d-359">SetComputeRootShaderResourceView</span></span>                 | <span data-ttu-id="0917d-360">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-360">✓</span></span>        | <span data-ttu-id="0917d-361">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-361">✓</span></span>       |      | <span data-ttu-id="0917d-362">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-362">✓</span></span>      | <span data-ttu-id="0917d-363">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-363">✓</span></span>              |
| <span data-ttu-id="0917d-364">SetComputeRootSignature</span><span class="sxs-lookup"><span data-stu-id="0917d-364">SetComputeRootSignature</span></span>                          | <span data-ttu-id="0917d-365">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-365">✓</span></span>        | <span data-ttu-id="0917d-366">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-366">✓</span></span>       |      | <span data-ttu-id="0917d-367">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-367">✓</span></span>      | <span data-ttu-id="0917d-368">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-368">✓</span></span>              |
| <span data-ttu-id="0917d-369">SetComputeRootUnorderedAccessView</span><span class="sxs-lookup"><span data-stu-id="0917d-369">SetComputeRootUnorderedAccessView</span></span>                | <span data-ttu-id="0917d-370">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-370">✓</span></span>        | <span data-ttu-id="0917d-371">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-371">✓</span></span>       |      | <span data-ttu-id="0917d-372">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-372">✓</span></span>      | <span data-ttu-id="0917d-373">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-373">✓</span></span>              |
| <span data-ttu-id="0917d-374">SetDescriptorHeaps</span><span class="sxs-lookup"><span data-stu-id="0917d-374">SetDescriptorHeaps</span></span>                               | <span data-ttu-id="0917d-375">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-375">✓</span></span>        | <span data-ttu-id="0917d-376">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-376">✓</span></span>       |      | <span data-ttu-id="0917d-377">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-377">✓</span></span>      | <span data-ttu-id="0917d-378">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-378">✓</span></span>              |
| <span data-ttu-id="0917d-379">SetGraphicsRoot32BitConstant</span><span class="sxs-lookup"><span data-stu-id="0917d-379">SetGraphicsRoot32BitConstant</span></span>                     | <span data-ttu-id="0917d-380">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-380">✓</span></span>        |         |      | <span data-ttu-id="0917d-381">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-381">✓</span></span>      | <span data-ttu-id="0917d-382">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-382">✓</span></span>              |
| <span data-ttu-id="0917d-383">SetGraphicsRoot32BitConstants</span><span class="sxs-lookup"><span data-stu-id="0917d-383">SetGraphicsRoot32BitConstants</span></span>                    | <span data-ttu-id="0917d-384">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-384">✓</span></span>        |         |      | <span data-ttu-id="0917d-385">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-385">✓</span></span>      | <span data-ttu-id="0917d-386">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-386">✓</span></span>              |
| <span data-ttu-id="0917d-387">SetGraphicsRootConstantBufferView</span><span class="sxs-lookup"><span data-stu-id="0917d-387">SetGraphicsRootConstantBufferView</span></span>                | <span data-ttu-id="0917d-388">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-388">✓</span></span>        |         |      | <span data-ttu-id="0917d-389">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-389">✓</span></span>      | <span data-ttu-id="0917d-390">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-390">✓</span></span>              |
| <span data-ttu-id="0917d-391">SetGraphicsRootDescriptorTable</span><span class="sxs-lookup"><span data-stu-id="0917d-391">SetGraphicsRootDescriptorTable</span></span>                   | <span data-ttu-id="0917d-392">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-392">✓</span></span>        |         |      | <span data-ttu-id="0917d-393">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-393">✓</span></span>      | <span data-ttu-id="0917d-394">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-394">✓</span></span>              |
| <span data-ttu-id="0917d-395">SetGraphicsRootShaderResourceView</span><span class="sxs-lookup"><span data-stu-id="0917d-395">SetGraphicsRootShaderResourceView</span></span>                | <span data-ttu-id="0917d-396">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-396">✓</span></span>        |         |      | <span data-ttu-id="0917d-397">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-397">✓</span></span>      | <span data-ttu-id="0917d-398">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-398">✓</span></span>              |
| <span data-ttu-id="0917d-399">SetGraphicsRootSignature</span><span class="sxs-lookup"><span data-stu-id="0917d-399">SetGraphicsRootSignature</span></span>                         | <span data-ttu-id="0917d-400">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-400">✓</span></span>        |         |      | <span data-ttu-id="0917d-401">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-401">✓</span></span>      | <span data-ttu-id="0917d-402">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-402">✓</span></span>              |
| <span data-ttu-id="0917d-403">SetGraphicsRootUnorderedAccessView</span><span class="sxs-lookup"><span data-stu-id="0917d-403">SetGraphicsRootUnorderedAccessView</span></span>               | <span data-ttu-id="0917d-404">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-404">✓</span></span>        |         |      | <span data-ttu-id="0917d-405">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-405">✓</span></span>      | <span data-ttu-id="0917d-406">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-406">✓</span></span>              |
| <span data-ttu-id="0917d-407">SetPipelineState</span><span class="sxs-lookup"><span data-stu-id="0917d-407">SetPipelineState</span></span>                                 | <span data-ttu-id="0917d-408">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-408">✓</span></span>        | <span data-ttu-id="0917d-409">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-409">✓</span></span>       |      | <span data-ttu-id="0917d-410">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-410">✓</span></span>      | <span data-ttu-id="0917d-411">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-411">✓</span></span>              |
| <span data-ttu-id="0917d-412">SetPipelineState1</span><span class="sxs-lookup"><span data-stu-id="0917d-412">SetPipelineState1</span></span>                                | <span data-ttu-id="0917d-413">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-413">✓</span></span>        | <span data-ttu-id="0917d-414">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-414">✓</span></span>       |      | <span data-ttu-id="0917d-415">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-415">✓</span></span>      |                |
| <span data-ttu-id="0917d-416">SetPredication</span><span class="sxs-lookup"><span data-stu-id="0917d-416">SetPredication</span></span>                                   | <span data-ttu-id="0917d-417">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-417">✓</span></span>        | <span data-ttu-id="0917d-418">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-418">✓</span></span>       |      |        | <span data-ttu-id="0917d-419">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-419">✓</span></span>              |
| <span data-ttu-id="0917d-420">SetProtectedResourceSession</span><span class="sxs-lookup"><span data-stu-id="0917d-420">SetProtectedResourceSession</span></span>                      | <span data-ttu-id="0917d-421">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-421">✓</span></span>        | <span data-ttu-id="0917d-422">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-422">✓</span></span>       | <span data-ttu-id="0917d-423">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-423">✓</span></span>    |        |                |
| <span data-ttu-id="0917d-424">SetSamplePositions</span><span class="sxs-lookup"><span data-stu-id="0917d-424">SetSamplePositions</span></span>                               | <span data-ttu-id="0917d-425">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-425">✓</span></span>        |         |      | <span data-ttu-id="0917d-426">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-426">✓</span></span>      | <span data-ttu-id="0917d-427">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-427">✓</span></span>              |
| <span data-ttu-id="0917d-428">SetViewInstanceMask</span><span class="sxs-lookup"><span data-stu-id="0917d-428">SetViewInstanceMask</span></span>                              | <span data-ttu-id="0917d-429">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-429">✓</span></span>        |         |      | <span data-ttu-id="0917d-430">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-430">✓</span></span>      | <span data-ttu-id="0917d-431">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-431">✓</span></span>              |
| <span data-ttu-id="0917d-432">SOSetTargets</span><span class="sxs-lookup"><span data-stu-id="0917d-432">SOSetTargets</span></span>                                     | <span data-ttu-id="0917d-433">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-433">✓</span></span>        |         |      |        | <span data-ttu-id="0917d-434">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-434">✓</span></span>              |
| <span data-ttu-id="0917d-435">WriteBufferImmediate</span><span class="sxs-lookup"><span data-stu-id="0917d-435">WriteBufferImmediate</span></span>                             | <span data-ttu-id="0917d-436">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-436">✓</span></span>        | <span data-ttu-id="0917d-437">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-437">✓</span></span>       | <span data-ttu-id="0917d-438">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-438">✓</span></span>    | <span data-ttu-id="0917d-439">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-439">✓</span></span>      | <span data-ttu-id="0917d-440">✓</span><span class="sxs-lookup"><span data-stu-id="0917d-440">✓</span></span>              |

## <a name="bundle-restrictions"></a><span data-ttu-id="0917d-441">Restrictions de Bundle</span><span class="sxs-lookup"><span data-stu-id="0917d-441">Bundle restrictions</span></span>

<span data-ttu-id="0917d-442">Les restrictions permettent aux pilotes Direct3D 12 d’effectuer la majeure partie du travail associé aux offres groupées au moment de l’enregistrement, ce qui permet l’exécution de l’API [**ExecuteBundle**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executebundle) avec une faible charge.</span><span class="sxs-lookup"><span data-stu-id="0917d-442">Restrictions enable Direct3D 12 drivers to do most of the work associated with bundles at record time, thus enabling the [**ExecuteBundle**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executebundle) API to be run with low overhead.</span></span> <span data-ttu-id="0917d-443">Tous les objets d’état de pipeline référencés par un bundle doivent avoir les mêmes formats de cible de rendu, format de mémoire tampon de profondeur et descriptions d’exemples.</span><span class="sxs-lookup"><span data-stu-id="0917d-443">All pipeline state objects referenced by a bundle must have the same render target formats, depth buffer format, and sample descriptions.</span></span>

<span data-ttu-id="0917d-444">Les appels d’API de liste de commandes suivants ne sont pas autorisés sur les listes de commandes créées avec le type de liste de commandes type : D3D12 \_ \_ \_ \_ Bundle :</span><span class="sxs-lookup"><span data-stu-id="0917d-444">The following command list API calls are not allowed on command lists created with type: D3D12\_COMMAND\_LIST\_TYPE\_BUNDLE:</span></span>

-   <span data-ttu-id="0917d-445">Toute méthode Clear</span><span class="sxs-lookup"><span data-stu-id="0917d-445">Any Clear method</span></span>
-   <span data-ttu-id="0917d-446">Toute méthode de copie</span><span class="sxs-lookup"><span data-stu-id="0917d-446">Any Copy method</span></span>
-   [<span data-ttu-id="0917d-447">**DiscardResource**</span><span class="sxs-lookup"><span data-stu-id="0917d-447">**DiscardResource**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-discardresource)
-   [<span data-ttu-id="0917d-448">**ExecuteBundle**</span><span class="sxs-lookup"><span data-stu-id="0917d-448">**ExecuteBundle**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executebundle)
-   [<span data-ttu-id="0917d-449">**ResourceBarrier**</span><span class="sxs-lookup"><span data-stu-id="0917d-449">**ResourceBarrier**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resourcebarrier)
-   [<span data-ttu-id="0917d-450">**ResolveSubresource**</span><span class="sxs-lookup"><span data-stu-id="0917d-450">**ResolveSubresource**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resolvesubresource)
-   [<span data-ttu-id="0917d-451">**SetPredication**</span><span class="sxs-lookup"><span data-stu-id="0917d-451">**SetPredication**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setpredication)
-   [<span data-ttu-id="0917d-452">**BeginQuery**</span><span class="sxs-lookup"><span data-stu-id="0917d-452">**BeginQuery**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery)
-   [<span data-ttu-id="0917d-453">**EndQuery**</span><span class="sxs-lookup"><span data-stu-id="0917d-453">**EndQuery**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery)
-   [<span data-ttu-id="0917d-454">**SOSetTargets**</span><span class="sxs-lookup"><span data-stu-id="0917d-454">**SOSetTargets**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-sosettargets)
-   [<span data-ttu-id="0917d-455">**OMSetRenderTargets**</span><span class="sxs-lookup"><span data-stu-id="0917d-455">**OMSetRenderTargets**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-omsetrendertargets)
-   [<span data-ttu-id="0917d-456">**RSSetViewports**</span><span class="sxs-lookup"><span data-stu-id="0917d-456">**RSSetViewports**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-rssetviewports)
-   [<span data-ttu-id="0917d-457">**RSSetScissorRects**</span><span class="sxs-lookup"><span data-stu-id="0917d-457">**RSSetScissorRects**</span></span>](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-rssetscissorrects)

<span data-ttu-id="0917d-458">[**SetDescriptorHeaps**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setdescriptorheaps) peut être appelé sur un bundle, mais les tas du descripteur de Bundle doivent correspondre au tas du descripteur de liste de commandes appelant.</span><span class="sxs-lookup"><span data-stu-id="0917d-458">[**SetDescriptorHeaps**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-setdescriptorheaps) can be called on a bundle, but the bundle descriptor heaps must match the calling command list descriptor heap.</span></span>

<span data-ttu-id="0917d-459">Si l’une de ces API est appelée sur un bundle, le runtime supprime l’appel.</span><span class="sxs-lookup"><span data-stu-id="0917d-459">If any of these APIs are called on a bundle, the runtime will drop the call.</span></span> <span data-ttu-id="0917d-460">La couche de débogage génère une erreur à chaque fois que cela se produit.</span><span class="sxs-lookup"><span data-stu-id="0917d-460">The debug layer will issue an error whenever this occurs.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0917d-461">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="0917d-461">Related topics</span></span>

[<span data-ttu-id="0917d-462">Envoi de travail dans Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="0917d-462">Work Submission in Direct3D 12</span></span>](command-queues-and-command-lists.md)