---
title: Requêtes
description: Dans Direct3D 12, les requêtes sont regroupées en tableaux de requêtes appelé segment de requête. Un segment de mémoire de requête a un type qui définit les types de requêtes valides qui peuvent être utilisés avec ce tas.
ms.assetid: d7403b5d-7e1b-4dd2-ae45-52e1153233c6
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 22c4db895eb0d4a727db2e32757f7ab0f1f9b1e2
ms.sourcegitcommit: 5b98bf8c68922f8f03c14f793fbe17504900559c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/12/2021
ms.locfileid: "104548579"
---
# <a name="queries"></a><span data-ttu-id="49f96-104">Requêtes</span><span class="sxs-lookup"><span data-stu-id="49f96-104">Queries</span></span>

<span data-ttu-id="49f96-105">Dans Direct3D 12, les requêtes sont regroupées en tableaux de requêtes appelé segment de requête.</span><span class="sxs-lookup"><span data-stu-id="49f96-105">In Direct3D 12, queries are grouped into arrays of queries called a query heap.</span></span> <span data-ttu-id="49f96-106">Un segment de mémoire de requête a un type qui définit les types de requêtes valides qui peuvent être utilisés avec ce tas.</span><span class="sxs-lookup"><span data-stu-id="49f96-106">A query heap has a type which defines the valid types of queries that can be used with that heap.</span></span>

-   [<span data-ttu-id="49f96-107">Différences dans les requêtes de Direct3D 11 à Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="49f96-107">Differences in Queries from Direct3D 11 to Direct3D 12</span></span>](#differences-in-queries-from-direct3d-11-to-direct3d-12)
-   [<span data-ttu-id="49f96-108">Interroger des segments de mémoire</span><span class="sxs-lookup"><span data-stu-id="49f96-108">Query Heaps</span></span>](#query-heaps)
-   [<span data-ttu-id="49f96-109">Création de segments de requête</span><span class="sxs-lookup"><span data-stu-id="49f96-109">Creating Query heaps</span></span>](#creating-query-heaps)
-   [<span data-ttu-id="49f96-110">Extraction de données à partir d’une requête</span><span class="sxs-lookup"><span data-stu-id="49f96-110">Extracting data from a query</span></span>](#extracting-data-from-a-query)
-   [<span data-ttu-id="49f96-111">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="49f96-111">Related topics</span></span>](#related-topics)

## <a name="differences-in-queries-from-direct3d-11-to-direct3d-12"></a><span data-ttu-id="49f96-112">Différences dans les requêtes de Direct3D 11 à Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="49f96-112">Differences in Queries from Direct3D 11 to Direct3D 12</span></span>

<span data-ttu-id="49f96-113">Les types de requêtes suivants ne sont plus présents dans Direct3D 12, leurs fonctionnalités étant incorporées dans d’autres processus :</span><span class="sxs-lookup"><span data-stu-id="49f96-113">The following query types are no longer present in Direct3D 12, their functionality being incorporated into other processes:</span></span>

-   <span data-ttu-id="49f96-114">Les **requêtes d’événement** -événement sont maintenant gérées par les délimiteurs.</span><span class="sxs-lookup"><span data-stu-id="49f96-114">**Event queries** - event functionally is now handled by fences.</span></span>
-   <span data-ttu-id="49f96-115">**Requêtes d’horodateur disjoint** -les horloges GPU peuvent être définies sur un état stable dans Direct3D 12 (voir la section [minutage](timing.md) ).</span><span class="sxs-lookup"><span data-stu-id="49f96-115">**Disjoint timestamp queries** - GPU clocks can be set to a stable state in Direct3D 12 (see the [Timing](timing.md) section).</span></span> <span data-ttu-id="49f96-116">Les comparaisons d’horloge GPU ne sont pas significatives si le GPU est inactif du tout entre les horodateurs (appelée requête disjointe).</span><span class="sxs-lookup"><span data-stu-id="49f96-116">GPU clock comparisons are not meaningful if the GPU idled at all between the timestamps (known as a disjoint query).</span></span> <span data-ttu-id="49f96-117">Les requêtes d’horodatage stables avec deux horodateurs émises à partir de différentes listes de commandes sont comparables de manière fiable.</span><span class="sxs-lookup"><span data-stu-id="49f96-117">With stable power two timestamp queries issued from different command lists are reliably comparable.</span></span> <span data-ttu-id="49f96-118">Deux horodateurs au sein de la même liste de commandes sont toujours comparables de manière fiable.</span><span class="sxs-lookup"><span data-stu-id="49f96-118">Two timestamps within the same command list are always reliably comparable.</span></span>
-   <span data-ttu-id="49f96-119">**Requêtes de statistiques de sortie de flux** : dans Direct3D 12, il n’y a pas de requête de dépassement de sortie de flux unique (SO) pour tous les flux de sortie.</span><span class="sxs-lookup"><span data-stu-id="49f96-119">**Stream output statistics queries** - in Direct3D 12 there is no single stream output (SO) overflow query for all the output streams.</span></span> <span data-ttu-id="49f96-120">Les applications doivent émettre plusieurs requêtes à un seul flux, puis mettre en corrélation les résultats.</span><span class="sxs-lookup"><span data-stu-id="49f96-120">Apps need to issue multiple single-stream queries, and then correlate the results.</span></span>
-   <span data-ttu-id="49f96-121">Les requêtes de prédicat de **statistiques de sortie de flux et de prédicat d’occlusion** -les requêtes (qui écrivent dans la mémoire) et le [prédicat](predication.md) (qui lit à partir de la mémoire) ne sont plus couplés, ce qui signifie que ces types de requêtes ne sont pas nécessaires.</span><span class="sxs-lookup"><span data-stu-id="49f96-121">**Stream output statistics predicate and occlusion predicate queries** - queries (which write to memory) and [Predication](predication.md) (which reads from memory) are no longer coupled, and so these query types are not needed.</span></span>

<span data-ttu-id="49f96-122">Un nouveau type de requête d’occlusion binaire a été ajouté à Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="49f96-122">A new binary occlusion query type has been added to Direct3D 12.</span></span> <span data-ttu-id="49f96-123">Cela permet aux stratégies de prédicat qui vous intéressent uniquement si un objet était entièrement bloqués ou non (au lieu du nombre de pixels bloqués) de l’indiquer à l’appareil, ce qui peut être en mesure d’effectuer plus efficacement les requêtes.</span><span class="sxs-lookup"><span data-stu-id="49f96-123">This allows predication strategies that care only whether an object was fully occluded or not (rather than how many pixels were occluded) to indicate this to the device, which might be able to more efficiently perform the queries.</span></span>

## <a name="query-heaps"></a><span data-ttu-id="49f96-124">Interroger des segments de mémoire</span><span class="sxs-lookup"><span data-stu-id="49f96-124">Query Heaps</span></span>

<span data-ttu-id="49f96-125">Les requêtes peuvent être de type un à partir d’un certain nombre de types ([**\_ type de \_ tas \_ de requêtes D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_heap_type)) et sont regroupées dans des segments de requête avant d’être envoyées au GPU.</span><span class="sxs-lookup"><span data-stu-id="49f96-125">Queries can be one from a number of types ([**D3D12\_QUERY\_HEAP\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_heap_type)), and are grouped into query heaps before being submitted to the GPU.</span></span>

<span data-ttu-id="49f96-126">Un nouveau type de requête D3D12 l’occlusion binaire de type de requête \_ \_ \_ \_ est disponible et agit comme \_ une occlusion de type de requête D3D12 \_ \_ , à ceci près qu’elle retourne un résultat binaire 0/1:0 indique qu’aucun exemple ne réussit le test de profondeur et de stencil, 1 indique qu’au moins un exemple a réussi le test de profondeur et de stencil.</span><span class="sxs-lookup"><span data-stu-id="49f96-126">A new query type D3D12\_QUERY\_TYPE\_BINARY\_OCCLUSION is available and acts like D3D12\_QUERY\_TYPE\_OCCLUSION except that it returns a binary 0/1 result: 0 indicates that no samples passed depth and stencil testing, 1 indicates that at least one sample passed depth and stencil testing.</span></span> <span data-ttu-id="49f96-127">Cela permet aux requêtes d’occlusion de ne pas interférer avec l’optimisation des performances GPU associée au test de profondeur/stencil.</span><span class="sxs-lookup"><span data-stu-id="49f96-127">This enables occlusion queries to not interfere with any GPU performance optimization associated with depth/stencil testing.</span></span>

## <a name="creating-query-heaps"></a><span data-ttu-id="49f96-128">Création de segments de requête</span><span class="sxs-lookup"><span data-stu-id="49f96-128">Creating Query heaps</span></span>

<span data-ttu-id="49f96-129">Les API relatives à la création de segments de requête sont [**le \_ \_ \_ type de segment de mémoire de requête D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_heap_type)enum, le struct [**D3D12 \_ query \_ segment \_ desc**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_query_heap_desc)et la méthode [**CreateQueryHeap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createqueryheap).</span><span class="sxs-lookup"><span data-stu-id="49f96-129">The APIs relevant to creating query heaps are the enum [**D3D12\_QUERY\_HEAP\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_heap_type), the struct [**D3D12\_QUERY\_HEAP\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_query_heap_desc), and the method [**CreateQueryHeap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createqueryheap).</span></span>

<span data-ttu-id="49f96-130">Le runtime principal valide le type de segment de mémoire de la requête comme étant un membre valide de l’énumération du [**\_ \_ type de tas D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_heap_type) et que le nombre est supérieur à 0.</span><span class="sxs-lookup"><span data-stu-id="49f96-130">The core runtime will validate that the query heap type is a valid member of the [**D3D12\_HEAP\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_heap_type) enumeration, and that the count is greater than 0.</span></span>

<span data-ttu-id="49f96-131">Chaque élément de requête individuel au sein d’un segment de requête peut être démarré et arrêté séparément.</span><span class="sxs-lookup"><span data-stu-id="49f96-131">Each individual query element within a query heap can be started and stopped separately.</span></span>

<span data-ttu-id="49f96-132">Les API d’utilisation des segments de requête sont le [**type de \_ requête \_ D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_type)enum et les méthodes [**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) et [**EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery).</span><span class="sxs-lookup"><span data-stu-id="49f96-132">The APIs for using the query heaps are the enum [**D3D12\_QUERY\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_type), and the methods [**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) and [**EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery).</span></span>

<span data-ttu-id="49f96-133">\_ \_ \_ L’horodateur du type de requête D3D12 est la seule requête qui prend en charge [**EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery) uniquement.</span><span class="sxs-lookup"><span data-stu-id="49f96-133">D3D12\_QUERY\_TYPE\_TIMESTAMP is the only query that supports [**EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery) only.</span></span> <span data-ttu-id="49f96-134">Tous les autres types de requêtes requièrent [**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) et **EndQuery**.</span><span class="sxs-lookup"><span data-stu-id="49f96-134">All other query types require [**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) and **EndQuery**.</span></span>

<span data-ttu-id="49f96-135">La couche de débogage permet de valider les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="49f96-135">The debug layer will validate the following:</span></span>

-   <span data-ttu-id="49f96-136">Il n’est pas possible de commencer une requête d’horodatage &mdash; , vous pouvez uniquement l’arrêter</span><span class="sxs-lookup"><span data-stu-id="49f96-136">It is illegal to begin a timestamp query&mdash;you can only end it</span></span>
-   <span data-ttu-id="49f96-137">Il n’est pas autorisé de commencer une requête deux fois sans la terminer (pour un élément donné).</span><span class="sxs-lookup"><span data-stu-id="49f96-137">It is illegal to begin a query twice without ending it (for a given element).</span></span> <span data-ttu-id="49f96-138">Pour les requêtes qui requièrent à la fois Begin et end, il est illégal de terminer une requête avant le BEGIN correspondant (pour un élément donné).</span><span class="sxs-lookup"><span data-stu-id="49f96-138">For queries that require both begin and end, it is illegal to end a query before the corresponding begin (for a given element).</span></span>
-   <span data-ttu-id="49f96-139">Le type de requête passé à [**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) doit correspondre au type de requête passé à [**EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery).</span><span class="sxs-lookup"><span data-stu-id="49f96-139">The query type passed to [**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) must match the query type passed to [**EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery).</span></span>

<span data-ttu-id="49f96-140">Le runtime principal validera les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="49f96-140">The core runtime will validate the following:</span></span>

-   <span data-ttu-id="49f96-141">[**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) ne peut pas être appelé sur une requête d’horodatage.</span><span class="sxs-lookup"><span data-stu-id="49f96-141">[**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) cannot be called on a timestamp query.</span></span>
-   <span data-ttu-id="49f96-142">Pour les types de requêtes qui prennent en charge à la fois [**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) et [**EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery) (sauf pour timestamp), une requête pour un élément donné ne doit pas couvrir les limites de la liste de commandes.</span><span class="sxs-lookup"><span data-stu-id="49f96-142">For the query types which support both [**BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) and [**EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery) (all except for timestamp), a query for a given element must not span command list boundaries.</span></span>
-   <span data-ttu-id="49f96-143">*ElementIndex* doit être compris dans la plage.</span><span class="sxs-lookup"><span data-stu-id="49f96-143">*ElementIndex* must be within range.</span></span>
-   <span data-ttu-id="49f96-144">Le type de requête est un membre valide de l’énumération de [**\_ \_ type de requête D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_type) .</span><span class="sxs-lookup"><span data-stu-id="49f96-144">The query type is a valid member of the [**D3D12\_QUERY\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_type) enum.</span></span>
-   <span data-ttu-id="49f96-145">Le type de requête doit être compatible avec le segment de mémoire de la requête.</span><span class="sxs-lookup"><span data-stu-id="49f96-145">The query type must be compatible with the query heap.</span></span> <span data-ttu-id="49f96-146">Le tableau suivant indique le type de segment de requête requis pour chaque type de requête :</span><span class="sxs-lookup"><span data-stu-id="49f96-146">The following table shows the query heap type required for each query type:</span></span>

    

    | <span data-ttu-id="49f96-147">Type de requête</span><span class="sxs-lookup"><span data-stu-id="49f96-147">Query Type</span></span>                                  | <span data-ttu-id="49f96-148">Type de segment de requête</span><span class="sxs-lookup"><span data-stu-id="49f96-148">Query Heap type</span></span>                                |
    |---------------------------------------------|------------------------------------------------|
    | <span data-ttu-id="49f96-149">\_Type de requête D3D12 \_ \_ occlusion</span><span class="sxs-lookup"><span data-stu-id="49f96-149">D3D12\_QUERY\_TYPE\_OCCLUSION</span></span>               | <span data-ttu-id="49f96-150">\_Type de tas de requête D3D12 \_ \_ \_ occlusion</span><span class="sxs-lookup"><span data-stu-id="49f96-150">D3D12\_QUERY\_HEAP\_TYPE\_OCCLUSION</span></span>            |
    | <span data-ttu-id="49f96-151">\_Type de requête D3D12 \_ \_ \_ occlusion binaire</span><span class="sxs-lookup"><span data-stu-id="49f96-151">D3D12\_QUERY\_TYPE\_BINARY\_OCCLUSION</span></span>       | <span data-ttu-id="49f96-152">\_Type de tas de requête D3D12 \_ \_ \_ occlusion</span><span class="sxs-lookup"><span data-stu-id="49f96-152">D3D12\_QUERY\_HEAP\_TYPE\_OCCLUSION</span></span>            |
    | <span data-ttu-id="49f96-153">\_Horodatage du \_ type de requête D3D12 \_</span><span class="sxs-lookup"><span data-stu-id="49f96-153">D3D12\_QUERY\_TYPE\_TIMESTAMP</span></span>               | <span data-ttu-id="49f96-154">\_Horodateur du \_ type de segment de requête D3D12 \_ \_</span><span class="sxs-lookup"><span data-stu-id="49f96-154">D3D12\_QUERY\_HEAP\_TYPE\_TIMESTAMP</span></span>            |
    | <span data-ttu-id="49f96-155">\_Statistiques de \_ \_ pipeline de type de requête D3D12 \_</span><span class="sxs-lookup"><span data-stu-id="49f96-155">D3D12\_QUERY\_TYPE\_PIPELINE\_STATISTICS</span></span>    | <span data-ttu-id="49f96-156">\_Statistiques de \_ \_ \_ pipeline de type de segment de requête D3D12 \_</span><span class="sxs-lookup"><span data-stu-id="49f96-156">D3D12\_QUERY\_HEAP\_TYPE\_PIPELINE\_STATISTICS</span></span> |
    | <span data-ttu-id="49f96-157">\_Type de requête D3D12 \_ \_ so \_ Statistics \_ STREAM0</span><span class="sxs-lookup"><span data-stu-id="49f96-157">D3D12\_QUERY\_TYPE\_SO\_STATISTICS\_STREAM0</span></span> | <span data-ttu-id="49f96-158">\_Statistiques du \_ type de segment de requête D3D12 \_ \_ \_</span><span class="sxs-lookup"><span data-stu-id="49f96-158">D3D12\_QUERY\_HEAP\_TYPE\_SO\_STATISTICS</span></span>       |
    | <span data-ttu-id="49f96-159">\_Type de requête D3D12 \_ \_ so \_ Statistics \_ STREAM1</span><span class="sxs-lookup"><span data-stu-id="49f96-159">D3D12\_QUERY\_TYPE\_SO\_STATISTICS\_STREAM1</span></span> | <span data-ttu-id="49f96-160">\_Statistiques du \_ type de segment de requête D3D12 \_ \_ \_</span><span class="sxs-lookup"><span data-stu-id="49f96-160">D3D12\_QUERY\_HEAP\_TYPE\_SO\_STATISTICS</span></span>       |
    | <span data-ttu-id="49f96-161">\_Type de requête D3D12 \_ \_ so \_ Statistics \_ STREAM2</span><span class="sxs-lookup"><span data-stu-id="49f96-161">D3D12\_QUERY\_TYPE\_SO\_STATISTICS\_STREAM2</span></span> | <span data-ttu-id="49f96-162">\_Statistiques du \_ type de segment de requête D3D12 \_ \_ \_</span><span class="sxs-lookup"><span data-stu-id="49f96-162">D3D12\_QUERY\_HEAP\_TYPE\_SO\_STATISTICS</span></span>       |
    | <span data-ttu-id="49f96-163">\_Type de requête D3D12 \_ \_ so \_ Statistics \_ STREAM3</span><span class="sxs-lookup"><span data-stu-id="49f96-163">D3D12\_QUERY\_TYPE\_SO\_STATISTICS\_STREAM3</span></span> | <span data-ttu-id="49f96-164">\_Statistiques du \_ type de segment de requête D3D12 \_ \_ \_</span><span class="sxs-lookup"><span data-stu-id="49f96-164">D3D12\_QUERY\_HEAP\_TYPE\_SO\_STATISTICS</span></span>       |

    

     

-   <span data-ttu-id="49f96-165">Le type de requête est pris en charge par le type de liste de commandes.</span><span class="sxs-lookup"><span data-stu-id="49f96-165">The query type is supported by the command list type.</span></span> <span data-ttu-id="49f96-166">Le tableau suivant indique les requêtes prises en charge sur les types de listes de commandes.</span><span class="sxs-lookup"><span data-stu-id="49f96-166">The following table shows which queries are supported on which command list types.</span></span>

    

    | <span data-ttu-id="49f96-167">Type de requête</span><span class="sxs-lookup"><span data-stu-id="49f96-167">Query Type</span></span>                                  | <span data-ttu-id="49f96-168">Types de listes de commandes pris en charge</span><span class="sxs-lookup"><span data-stu-id="49f96-168">Supported Command List Types</span></span>         |
    |---------------------------------------------|--------------------------------------|
    | <span data-ttu-id="49f96-169">\_Type de requête D3D12 \_ \_ occlusion</span><span class="sxs-lookup"><span data-stu-id="49f96-169">D3D12\_QUERY\_TYPE\_OCCLUSION</span></span>               | <span data-ttu-id="49f96-170">Direct</span><span class="sxs-lookup"><span data-stu-id="49f96-170">Direct</span></span>                               |
    | <span data-ttu-id="49f96-171">\_Type de requête D3D12 \_ \_ \_ occlusion binaire</span><span class="sxs-lookup"><span data-stu-id="49f96-171">D3D12\_QUERY\_TYPE\_BINARY\_OCCLUSION</span></span>       | <span data-ttu-id="49f96-172">Direct</span><span class="sxs-lookup"><span data-stu-id="49f96-172">Direct</span></span>                               |
    | <span data-ttu-id="49f96-173">\_Horodatage du \_ type de requête D3D12 \_</span><span class="sxs-lookup"><span data-stu-id="49f96-173">D3D12\_QUERY\_TYPE\_TIMESTAMP</span></span>               | <span data-ttu-id="49f96-174">Direct, Compute et éventuellement copier</span><span class="sxs-lookup"><span data-stu-id="49f96-174">Direct, Compute, and optionally Copy</span></span> |
    | <span data-ttu-id="49f96-175">\_Statistiques de \_ \_ pipeline de type de requête D3D12 \_</span><span class="sxs-lookup"><span data-stu-id="49f96-175">D3D12\_QUERY\_TYPE\_PIPELINE\_STATISTICS</span></span>    | <span data-ttu-id="49f96-176">Direct</span><span class="sxs-lookup"><span data-stu-id="49f96-176">Direct</span></span>                               |
    | <span data-ttu-id="49f96-177">\_Type de requête D3D12 \_ \_ so \_ Statistics \_ STREAM0</span><span class="sxs-lookup"><span data-stu-id="49f96-177">D3D12\_QUERY\_TYPE\_SO\_STATISTICS\_STREAM0</span></span> | <span data-ttu-id="49f96-178">Direct</span><span class="sxs-lookup"><span data-stu-id="49f96-178">Direct</span></span>                               |
    | <span data-ttu-id="49f96-179">\_Type de requête D3D12 \_ \_ so \_ Statistics \_ STREAM1</span><span class="sxs-lookup"><span data-stu-id="49f96-179">D3D12\_QUERY\_TYPE\_SO\_STATISTICS\_STREAM1</span></span> | <span data-ttu-id="49f96-180">Direct</span><span class="sxs-lookup"><span data-stu-id="49f96-180">Direct</span></span>                               |
    | <span data-ttu-id="49f96-181">\_Type de requête D3D12 \_ \_ so \_ Statistics \_ STREAM2</span><span class="sxs-lookup"><span data-stu-id="49f96-181">D3D12\_QUERY\_TYPE\_SO\_STATISTICS\_STREAM2</span></span> | <span data-ttu-id="49f96-182">Direct</span><span class="sxs-lookup"><span data-stu-id="49f96-182">Direct</span></span>                               |
    | <span data-ttu-id="49f96-183">\_Type de requête D3D12 \_ \_ so \_ Statistics \_ STREAM3</span><span class="sxs-lookup"><span data-stu-id="49f96-183">D3D12\_QUERY\_TYPE\_SO\_STATISTICS\_STREAM3</span></span> | <span data-ttu-id="49f96-184">Direct</span><span class="sxs-lookup"><span data-stu-id="49f96-184">Direct</span></span>                               |

    

     

## <a name="extracting-data-from-a-query"></a><span data-ttu-id="49f96-185">Extraction de données à partir d’une requête</span><span class="sxs-lookup"><span data-stu-id="49f96-185">Extracting data from a query</span></span>

<span data-ttu-id="49f96-186">Pour extraire des données d’une requête, vous pouvez utiliser la méthode [**ResolveQueryData**](/windows/win32p/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resolvequerydata) .</span><span class="sxs-lookup"><span data-stu-id="49f96-186">The way to extract data from a query is to use the [**ResolveQueryData**](/windows/win32p/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resolvequerydata) method.</span></span> <span data-ttu-id="49f96-187">**ResolveQueryData** fonctionne avec tous les types de mémoire (qu’il s’agisse de mémoire système ou de mémoire locale du périphérique), mais nécessite que la ressource de destination se trouve dans [**D3D12_RESOURCE_STATE_COPY_DEST**](/windows/win32/api/d3d12/ne-d3d12-d3d12_resource_states).</span><span class="sxs-lookup"><span data-stu-id="49f96-187">**ResolveQueryData** works with all memory types (whether they are system memory or device local memory), but requires the destination resource to be in [**D3D12_RESOURCE_STATE_COPY_DEST**](/windows/win32/api/d3d12/ne-d3d12-d3d12_resource_states).</span></span> 

## <a name="related-topics"></a><span data-ttu-id="49f96-188">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="49f96-188">Related topics</span></span>

* [<span data-ttu-id="49f96-189">Compteurs et requêtes</span><span class="sxs-lookup"><span data-stu-id="49f96-189">Counters and Queries</span></span>](counters-and-queries.md)
* [<span data-ttu-id="49f96-190">Parcours des requêtes de prédicat</span><span class="sxs-lookup"><span data-stu-id="49f96-190">Predication queries walk-through</span></span>](predication-queries.md)
