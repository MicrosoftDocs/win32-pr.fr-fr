---
title: Vue d’ensemble des signatures racines
description: Une signature racine est configurée par les listes de commandes App et Links pour les ressources requises par les nuanceurs.
ms.assetid: 2E649DA2-6CAC-4C2A-A420-D4EC0DD6EA73
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 85eb5882e4a893c2933c55281f21c49f2d7d50d7
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104548563"
---
# <a name="root-signatures-overview"></a><span data-ttu-id="7bdd4-103">Vue d’ensemble des signatures racines</span><span class="sxs-lookup"><span data-stu-id="7bdd4-103">Root Signatures Overview</span></span>

<span data-ttu-id="7bdd4-104">Une signature racine est configurée par les listes de commandes App et Links pour les ressources requises par les nuanceurs.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-104">A root signature is configured by the app and links command lists to the resources the shaders require.</span></span> <span data-ttu-id="7bdd4-105">La liste de commandes Graphics comporte à la fois une signature de graphique et une signature racine de calcul.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-105">The graphics command list has both a graphics and compute root signature.</span></span> <span data-ttu-id="7bdd4-106">Une liste de commandes Compute aura simplement une signature racine de calcul.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-106">A compute command list will simply have one compute root signature.</span></span> <span data-ttu-id="7bdd4-107">Ces signatures racines sont indépendantes les unes des autres.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-107">These root signatures are independent of each other.</span></span>

-   [<span data-ttu-id="7bdd4-108">Paramètres et arguments racine</span><span class="sxs-lookup"><span data-stu-id="7bdd4-108">Root parameters and arguments</span></span>](#root-parameters-and-arguments)
-   [<span data-ttu-id="7bdd4-109">Constantes racine, descripteurs et tables</span><span class="sxs-lookup"><span data-stu-id="7bdd4-109">Root constants, descriptors and tables</span></span>](#root-constants-descriptors-and-tables)
-   [<span data-ttu-id="7bdd4-110">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="7bdd4-110">Related topics</span></span>](#related-topics)

## <a name="root-parameters-and-arguments"></a><span data-ttu-id="7bdd4-111">Paramètres et arguments racine</span><span class="sxs-lookup"><span data-stu-id="7bdd4-111">Root parameters and arguments</span></span>

<span data-ttu-id="7bdd4-112">Une **signature racine** est semblable à une signature de fonction API, elle détermine les types de données que les nuanceurs doivent attendre, mais ne définit pas la mémoire ou les données réelles.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-112">A **root signature** is similar to an API function signature, it determines the types of data the shaders should expect, but does not define the actual memory or data.</span></span> <span data-ttu-id="7bdd4-113">Un **paramètre racine** est une entrée dans la signature racine.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-113">A **root parameter** is one entry in the root signature.</span></span> <span data-ttu-id="7bdd4-114">Les valeurs réelles des paramètres racine définis et modifiés au moment de l’exécution sont appelées des **arguments racine**.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-114">The actual values of root parameters set and changed at runtime are called **root arguments**.</span></span> <span data-ttu-id="7bdd4-115">La modification des arguments racine modifie les données lues par les nuanceurs.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-115">Changing the root arguments changes the data that the shaders read.</span></span>

## <a name="root-constants-descriptors-and-tables"></a><span data-ttu-id="7bdd4-116">Constantes racine, descripteurs et tables</span><span class="sxs-lookup"><span data-stu-id="7bdd4-116">Root constants, descriptors and tables</span></span>

<span data-ttu-id="7bdd4-117">La signature racine peut contenir trois types de paramètres ; les constantes racine (constantes incluses dans les arguments racine), les descripteurs racines (descripteurs inclus dans les arguments racine) et les tables de descripteurs (pointeurs vers une plage de descripteurs dans le tas du descripteur).</span><span class="sxs-lookup"><span data-stu-id="7bdd4-117">The root signature can contain three types of parameters; root constants (constants inlined in the root arguments), root descriptors (descriptors inlined in the root arguments), and descriptor tables (pointers to a range of descriptors in the descriptor heap).</span></span>

<span data-ttu-id="7bdd4-118">Les constantes racine sont des valeurs inline 32 bits qui s’affichent dans le nuanceur en tant que mémoire tampon constante.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-118">The root constants are inline 32-bit values that show up in the shader as a constant buffer.</span></span>

<span data-ttu-id="7bdd4-119">Les descripteurs racine Inline doivent contenir des descripteurs dont l’accès est le plus fréquent, bien que soit limité à CBVs et aux tampons UAV ou SRV bruts ou structurés.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-119">The inlined root descriptors should contain descriptors that are accessed most often, though is limited to CBVs, and raw or structured UAV or SRV buffers.</span></span> <span data-ttu-id="7bdd4-120">Un type plus complexe, tel qu’un SRV de texture 2D, ne peut pas être utilisé comme descripteur racine.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-120">A more complex type, such as a 2D texture SRV, cannot be used as a root descriptor.</span></span> <span data-ttu-id="7bdd4-121">Les descripteurs racine n’incluent pas de limite de taille, donc il ne peut pas y avoir de contrôle hors limites, contrairement aux descripteurs dans les tas de descripteurs, qui incluent une taille.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-121">Root descriptors do not include a size limit, so there can be no out-of-bounds checking, unlike descriptors in descriptor heaps, which do include a size.</span></span>

<span data-ttu-id="7bdd4-122">Les entrées de table de descripteur dans les signatures racines contiennent le descripteur, le nom de liaison de nuanceur HLSL et l’indicateur de visibilité</span><span class="sxs-lookup"><span data-stu-id="7bdd4-122">Descriptor table entries within root signatures contain the descriptor, HLSL shader bind name and visibility flag.</span></span> <span data-ttu-id="7bdd4-123">Reportez-vous au [nuancier Model 5,1](/windows/desktop/direct3dhlsl/shader-model-5-1) pour plus d’informations sur les noms des nuanceurs.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-123">Refer to [Shader Model 5.1](/windows/desktop/direct3dhlsl/shader-model-5-1) for details of shader names.</span></span> <span data-ttu-id="7bdd4-124">Sur un matériel, il peut y avoir un gain de performances par rapport à l’affichage des descripteurs uniquement pour les étapes de nuanceur qui en ont besoin (consultez [**D3D12 \_ Shader \_ Visibility**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_shader_visibility)).</span><span class="sxs-lookup"><span data-stu-id="7bdd4-124">On some hardware, there can be a performance gain from only making descriptors visible to the shader stages that require them (refer to [**D3D12\_SHADER\_VISIBILITY**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_shader_visibility)).</span></span>

![entrée de table du descripteur racine](images/root-descriptor-table.png)

<span data-ttu-id="7bdd4-126">La disposition de la signature racine est assez flexible, avec certaines contraintes imposées sur un matériel moins performant.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-126">The layout of the root signature is quite flexible, with some constraints imposed on less capable hardware.</span></span> <span data-ttu-id="7bdd4-127">Quel que soit le niveau de matériel, les applications doivent toujours essayer de rendre la signature racine aussi petite que nécessaire pour une efficacité maximale.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-127">Regardless of the level of hardware, applications should always try to make the root signature as small as needed for maximum efficiency.</span></span> <span data-ttu-id="7bdd4-128">Les applications peuvent être dépourvues de tables de descripteurs dans la signature racine, mais moins de place pour les constantes racine, ou vice versa.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-128">Applications can trade off having more descriptor tables in the root signature but less room for root constants, or vice versa.</span></span>

<span data-ttu-id="7bdd4-129">Le contenu de la signature racine (les tables de descripteurs, les constantes racine et les descripteurs racine) auxquels l’application est liée obtient automatiquement une version par le pilote D3D12 chaque fois qu’une partie du contenu change entre des appels Draw (Graphics)/Dispatch (Compute).</span><span class="sxs-lookup"><span data-stu-id="7bdd4-129">The contents of the root signature (the descriptor tables, root constants and root descriptors) that the application has bound automatically get versioned by the D3D12 driver whenever any part of the contents change between draw (graphics)/dispatch (compute) calls.</span></span> <span data-ttu-id="7bdd4-130">Par conséquent, chaque trace/distribution obtient un jeu complet unique d’état de signature racine.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-130">So each draw/dispatch gets a unique full set of root signature state.</span></span>

<span data-ttu-id="7bdd4-131">Dans l’idéal, il existe des groupes d’objets d’état de pipeline (objets PSO) qui partagent la même signature racine.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-131">Ideally, there are groups of Pipeline State Objects (PSOs) that share the same root signature.</span></span> <span data-ttu-id="7bdd4-132">Une fois qu’une signature racine est définie sur le pipeline, toutes les liaisons qu’elle définit (tables de descripteurs, descripteurs, constantes) peuvent être définies ou modifiées individuellement, y compris l’héritage en bottes.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-132">After a root signature is set on the pipeline, all the bindings that it defines (descriptor tables, descriptors, constants) can each be individually set or changed, including inheritance into bundles.</span></span>

<span data-ttu-id="7bdd4-133">Une application peut faire son propre compromis entre le nombre de tables de descripteurs qu’elle souhaite que les descripteurs Inline en ligne (qui prennent plus d’espace mais suppriment une indirection) les constantes incluses (qui n’ont aucune indirection) qu’elles souhaitent dans la signature racine.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-133">An app can make its own tradeoff between how many descriptor tables it wants verses inline descriptors (which take more space but remove an indirection) verses inline constants (which have no indirection) they want in the root signature.</span></span> <span data-ttu-id="7bdd4-134">Les applications doivent utiliser la signature racine aussi facilement que possible, en se basant sur la mémoire contrôlée par l’application telle que les tas et les tas de descripteurs qui pointent vers eux pour représenter des données en bloc.</span><span class="sxs-lookup"><span data-stu-id="7bdd4-134">Applications should use the root signature as sparingly as possible, relying on application controlled memory such as heaps and descriptor heaps pointing into them to represent bulk data.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7bdd4-135">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="7bdd4-135">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7bdd4-136">Signatures racines</span><span class="sxs-lookup"><span data-stu-id="7bdd4-136">Root Signatures</span></span>](root-signatures.md)
</dt> </dl>

 

 