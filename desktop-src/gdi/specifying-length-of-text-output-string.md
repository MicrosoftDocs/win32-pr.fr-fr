---
description: Plusieurs fonctions de police et de sortie de texte ont un paramètre qui spécifie la longueur de la chaîne de sortie de texte. Un exemple typique est le paramètre cchText de DrawTextEx.
ms.assetid: 695fd0f9-abd4-4666-acad-2c409624ddc6
title: Spécification de la longueur de la chaîne de sortie de texte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2c120026d1b65170b6fe35bc65400280f6f1ffa5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103952767"
---
# <a name="specifying-length-of-text-output-string"></a><span data-ttu-id="c0449-104">Spécification de la longueur de la chaîne de sortie de texte</span><span class="sxs-lookup"><span data-stu-id="c0449-104">Specifying length of text-output string</span></span>

<span data-ttu-id="c0449-105">Plusieurs fonctions de police et de sortie de texte ont un paramètre qui spécifie la longueur de la chaîne de sortie de texte.</span><span class="sxs-lookup"><span data-stu-id="c0449-105">Several of the font and text-output functions have a parameter that specifies the length of the text-output string.</span></span> <span data-ttu-id="c0449-106">Un exemple typique est le paramètre *cchText* de [**DrawTextEx**](/windows/desktop/api/Winuser/nf-winuser-drawtextexa).</span><span class="sxs-lookup"><span data-stu-id="c0449-106">A typical example is the *cchText* parameter of [**DrawTextEx**](/windows/desktop/api/Winuser/nf-winuser-drawtextexa).</span></span>

<span data-ttu-id="c0449-107">Chacune de ces fonctions a une version « ANSI » et une version Unicode (par exemple, [**DrawTextExA**](/windows/desktop/api/Winuser/nf-winuser-drawtextexa) et **DrawTextExW**, respectivement).</span><span class="sxs-lookup"><span data-stu-id="c0449-107">Each of these functions has both an "ANSI" version and a Unicode version (for example, [**DrawTextExA**](/windows/desktop/api/Winuser/nf-winuser-drawtextexa) and **DrawTextExW**, respectively).</span></span> <span data-ttu-id="c0449-108">Pour la version « ANSI » de chaque fonction, la longueur est spécifiée sous la forme d’un nombre d’octets et pour la fonction Unicode, elle est spécifiée en tant que nombre de mots.</span><span class="sxs-lookup"><span data-stu-id="c0449-108">For the "ANSI" version of each function, the length is specified as a BYTE count and for the Unicode function it is specified as a WORD count.</span></span>

<span data-ttu-id="c0449-109">Il est traditionnel de considérer qu’il s’agit d’un « nombre de caractères ».</span><span class="sxs-lookup"><span data-stu-id="c0449-109">It is traditional to think of this as a "character count".</span></span> <span data-ttu-id="c0449-110">Cela est généralement précis pour de nombreuses langues, y compris l’anglais, mais elle n’est pas précise en général.</span><span class="sxs-lookup"><span data-stu-id="c0449-110">That is generally accurate for many languages, including English, but it is not accurate in general.</span></span> <span data-ttu-id="c0449-111">Dans les chaînes « ANSI », les caractères des pages de codes [SBCS](../intl/single-byte-character-sets.md) prennent un octet chacun, mais la plupart des caractères des pages de codes [DBCS](../intl/double-byte-character-sets.md) prennent deux octets.</span><span class="sxs-lookup"><span data-stu-id="c0449-111">In "ANSI" strings, characters in [SBCS](../intl/single-byte-character-sets.md) code pages take one byte each, but most characters in [DBCS](../intl/double-byte-character-sets.md) code pages take two bytes.</span></span> <span data-ttu-id="c0449-112">De même, les caractères Unicode les plus couramment définis résident dans le plan multilingue de base (BMP) et leurs représentations UTF-16 tiennent dans un mot, mais les caractères supplémentaires sont représentés en Unicode par des « substituts », qui requièrent deux mots.</span><span class="sxs-lookup"><span data-stu-id="c0449-112">Similarly, most currently defined Unicode characters reside in the Basic Multilingual Plane (BMP) and their UTF-16 representations fit in one WORD, but supplementary characters are represented in Unicode by ''surrogates'', which require two WORDs.</span></span>

<span data-ttu-id="c0449-113">Chacune de ces fonctions prend un nombre de longueur.</span><span class="sxs-lookup"><span data-stu-id="c0449-113">Each of these functions takes a length count.</span></span> <span data-ttu-id="c0449-114">Pour la version « ANSI » de chaque fonction, la longueur est spécifiée en tant que longueur du nombre d’octets d’une chaîne qui n’inclut pas la marque de fin **null** .</span><span class="sxs-lookup"><span data-stu-id="c0449-114">For the "ANSI" version of each function, the length is specified as a BYTE count length of a string not including the **NULL** terminator.</span></span> <span data-ttu-id="c0449-115">Pour la fonction Unicode, le nombre de longueur est le nombre d’octets divisé par sizeof (WCHAR), qui est 2, à l’exclusion de la marque de fin **null** .</span><span class="sxs-lookup"><span data-stu-id="c0449-115">For the Unicode function, the length count is the byte count divided by sizeof(WCHAR), which is 2, not including the **NULL** terminator.</span></span> <span data-ttu-id="c0449-116">Le nombre de caractères est le nombre de caractères, qui peut ne pas être égal au nombre de longueur de la chaîne.</span><span class="sxs-lookup"><span data-stu-id="c0449-116">The character count is the count of the number of characters, which might not equal the length count of the string.</span></span> <span data-ttu-id="c0449-117">Dans certains cas, les caractères prennent plus d’un octet pour ANSI (par exemple, un caractère [DBCS](../intl/double-byte-character-sets.md) ) et plus d’un mot pour Unicode (par exemple, des caractères de substitution).</span><span class="sxs-lookup"><span data-stu-id="c0449-117">In some instances, characters take more than one BYTE for ANSI (for example, [DBCS](../intl/double-byte-character-sets.md) character) and more than one WORD for Unicode (for example, surrogate characters).</span></span> <span data-ttu-id="c0449-118">En outre, le nombre de glyphes peut ne pas être égal au nombre de caractères, car plusieurs caractères peuvent être composés pour créer un glyphe.</span><span class="sxs-lookup"><span data-stu-id="c0449-118">Further, the number of glyphs might not equal the number of characters because multiple characters might be composited to make one glyph.</span></span> <span data-ttu-id="c0449-119">Le nombre de durées correspond à la quantité de données.</span><span class="sxs-lookup"><span data-stu-id="c0449-119">Length count is the amount of data.</span></span> <span data-ttu-id="c0449-120">Le nombre de caractères est le nombre d’unités traitées comme une entité unique.</span><span class="sxs-lookup"><span data-stu-id="c0449-120">Character count is the number of units that are processed as one entity.</span></span> <span data-ttu-id="c0449-121">Les glyphes sont les éléments rendus.</span><span class="sxs-lookup"><span data-stu-id="c0449-121">Glyphs are what gets rendered.</span></span> <span data-ttu-id="c0449-122">Par exemple, dans Unicode, vous pouvez avoir une chaîne dont la longueur est égale à 3, ce qui correspond à 2 caractères et qui entraîne le rendu de 1 glyphe.</span><span class="sxs-lookup"><span data-stu-id="c0449-122">For example, in Unicode, you can have a string with length of 3, which is 2 characters and which results in 1 glyph being rendered.</span></span> <span data-ttu-id="c0449-123">Toutefois, en général, la plupart des chaînes Unicode, le nombre de caractères et le nombre de glyphes rendus sont égaux.</span><span class="sxs-lookup"><span data-stu-id="c0449-123">However, typically, most Unicode strings length, character count, and number of rendered glyphs are equal.</span></span>

<span data-ttu-id="c0449-124">Vous pouvez utiliser \_ tcslen () pour récupérer la longueur de chaîne.</span><span class="sxs-lookup"><span data-stu-id="c0449-124">You can use \_tcslen() to get the string length.</span></span> <span data-ttu-id="c0449-125">Pour ANSI, \_ tcslen () retourne le nombre d’octets.</span><span class="sxs-lookup"><span data-stu-id="c0449-125">For ANSI, \_tcslen() returns the number of bytes.</span></span> <span data-ttu-id="c0449-126">Pour Unicode, \_ tcslen () retourne le nombre de WCHARs (autrement dit, des mots).</span><span class="sxs-lookup"><span data-stu-id="c0449-126">For Unicode, \_tcslen() returns the number of WCHARs (that is, WORDs).</span></span>

<span data-ttu-id="c0449-127">Les caractères de traitement spéciaux, tels que les tabulations et les traits d’union conditionnels qui ne sont pas toujours dessinés, peuvent affecter la sortie dessinée.</span><span class="sxs-lookup"><span data-stu-id="c0449-127">Special processing characters like tabs and soft hyphens that aren't always drawn can affect the drawn output.</span></span> <span data-ttu-id="c0449-128">Ils sont inclus dans la longueur de chaîne et les nombres de caractères, mais ils ne peuvent pas être représentés directement par un glyphe rendu.</span><span class="sxs-lookup"><span data-stu-id="c0449-128">They get included in the string length and character counts, but might not be directly represented by a rendered glyph.</span></span>

<span data-ttu-id="c0449-129">Certaines de ces fonctions permettent à l’appelant de spécifier une longueur de-1 pour indiquer que la chaîne se termine par un caractère null ; dans ce cas, la fonction calcule automatiquement le nombre de caractères.</span><span class="sxs-lookup"><span data-stu-id="c0449-129">Some of these functions allow the caller to specify the length as -1 to indicate that the string is null-terminated; in that case the function will compute the character count automatically.</span></span> <span data-ttu-id="c0449-130">Toutes les fonctions ne proposent pas cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="c0449-130">Not all of the functions offer this capability.</span></span> <span data-ttu-id="c0449-131">Spécifié sur une base fonction par fonction ; consultez la documentation de chaque fonction.</span><span class="sxs-lookup"><span data-stu-id="c0449-131">That is specified on a function-by-function basis; see the individual function documentation.</span></span>

 

 
