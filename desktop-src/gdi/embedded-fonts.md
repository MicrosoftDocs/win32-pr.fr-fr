---
description: L’incorporation d’une police est la technique consistant à regrouper un document et les polices qu’il contient dans un fichier à transmettre à un autre ordinateur.
ms.assetid: ded409f1-5bd9-411b-b905-fc49c484786a
title: Polices incorporées
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 83fb8ab821afa5f44ded05a4a61a53439b8db9fc
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104114666"
---
# <a name="embedded-fonts"></a><span data-ttu-id="3d9c0-103">Polices incorporées</span><span class="sxs-lookup"><span data-stu-id="3d9c0-103">Embedded Fonts</span></span>

<span data-ttu-id="3d9c0-104">L’incorporation d’une police est la technique consistant à regrouper un document et les polices qu’il contient dans un fichier à transmettre à un autre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-104">Embedding a font is the technique of bundling a document and the fonts it contains into a file for transmission to another computer.</span></span> <span data-ttu-id="3d9c0-105">L’incorporation d’une police garantit qu’une police spécifiée dans un fichier transmis sera présente sur l’ordinateur recevant le fichier.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-105">Embedding a font guarantees that a font specified in a transmitted file will be present on the computer receiving the file.</span></span> <span data-ttu-id="3d9c0-106">Toutefois, toutes les polices ne peuvent pas être déplacées d’un ordinateur à l’autre, car la plupart des polices sont concédées sous licence pour un seul ordinateur à la fois.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-106">Not all fonts can be moved from computer to computer, however, since most fonts are licensed to only one computer at a time.</span></span> <span data-ttu-id="3d9c0-107">Seules les polices TrueType et OpenType peuvent être incorporées.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-107">Only TrueType and OpenType fonts can be embedded.</span></span>

<span data-ttu-id="3d9c0-108">Les applications doivent incorporer une police dans un document uniquement lorsqu’elles sont demandées par un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-108">Applications should embed a font in a document only when requested by a user.</span></span> <span data-ttu-id="3d9c0-109">Une application ne peut pas être distribuée avec des documents qui contiennent des polices incorporées, de même qu’une application elle-même ne contient pas de police incorporée.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-109">An application cannot be distributed along with documents that contain embedded fonts, nor can an application itself contain an embedded font.</span></span> <span data-ttu-id="3d9c0-110">Chaque fois qu’une application distribue une police, dans n’importe quel format, les droits de propriétaire du propriétaire de la police doivent être reconnus.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-110">Whenever an application distributes a font, in any format, the proprietary rights of the owner of the font must be acknowledged.</span></span>

<span data-ttu-id="3d9c0-111">Il peut s’agir d’une violation des droits de propriété ou du contrat de licence utilisateur d’un fournisseur de polices pour incorporer des polices pour lesquelles l’incorporation n’est pas autorisée ou pour ne pas respecter les règles suivantes relatives à l’incorporation de polices.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-111">It may be a violation of a font vendor's proprietary rights or user license agreement to embed any fonts where embedding is not permitted or to fail to observe the following guidelines on embedding fonts.</span></span> <span data-ttu-id="3d9c0-112">Une licence de police peut fournir uniquement une autorisation de lecture/écriture pour une police à installer et à utiliser sur l’ordinateur de destination.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-112">A font's license may give only read/write permission for a font to be installed and used on the destination computer.</span></span> <span data-ttu-id="3d9c0-113">Ou la licence peut accorder une autorisation de lecture seule.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-113">Or the license may give read-only permission.</span></span> <span data-ttu-id="3d9c0-114">L’autorisation lecture seule permet à un document d’être affiché et imprimé (mais pas modifié) par l’ordinateur de destination ; les documents avec des polices incorporées en lecture seule sont eux-mêmes en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-114">Read-only permission allows a document to be viewed and printed (but not modified) by the destination computer; documents with read-only embedded fonts are themselves read-only.</span></span> <span data-ttu-id="3d9c0-115">Les polices incorporées en lecture seule ne peuvent pas être dissociées du document et installées sur l’ordinateur de destination.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-115">Read-only embedded fonts may not be unbundled from the document and installed on the destination computer.</span></span>

<span data-ttu-id="3d9c0-116">Une application peut déterminer l’état de la licence en appelant la fonction [**GetOutlineTextMetrics**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) et en examinant le membre **otmfsType** de la structure [**OUTLINETEXTMETRIC**](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) .</span><span class="sxs-lookup"><span data-stu-id="3d9c0-116">An application can determine the license status by calling the [**GetOutlineTextMetrics**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) function and examining the **otmfsType** member of the [**OUTLINETEXTMETRIC**](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) structure.</span></span> <span data-ttu-id="3d9c0-117">Si le bit 1 de **otmfsType** est défini, l’incorporation n’est pas autorisée pour la police.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-117">If bit 1 of **otmfsType** is set, embedding is not permitted for the font.</span></span> <span data-ttu-id="3d9c0-118">Si le bit 1 est clair, la police peut être incorporée.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-118">If bit 1 is clear, the font can be embedded.</span></span> <span data-ttu-id="3d9c0-119">Si le bit 2 est défini, l’incorporation est en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-119">If bit 2 is set, the embedding is read-only.</span></span>

<span data-ttu-id="3d9c0-120">Pour incorporer une police TrueType, une application peut utiliser la fonction [**GetFontData**](/windows/desktop/api/Wingdi/nf-wingdi-getfontdata) pour lire le fichier de police.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-120">To embed a TrueType font, an application can use the [**GetFontData**](/windows/desktop/api/Wingdi/nf-wingdi-getfontdata) function to read the font file.</span></span> <span data-ttu-id="3d9c0-121">La définition des paramètres *dwTable* et *dwOffset* de [**GetFontData**](/windows/win32/api/wingdi/nf-wingdi-getfontdata) sur 0L et le paramètre *cbData* sur 1L garantit que l’application lit l’intégralité du fichier de police à partir du début.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-121">Setting the *dwTable* and *dwOffset* parameters of [**GetFontData**](/windows/win32/api/wingdi/nf-wingdi-getfontdata) to 0L and the *cbData* parameter to 1L ensures that the application reads the entire font file from the beginning.</span></span>

<span data-ttu-id="3d9c0-122">Plusieurs fonctions sont disponibles pour incorporer les polices OpenType en fonction de la largeur des caractères et de l’emplacement des données de police.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-122">Several functions are available to embed OpenType fonts depending on the character width and where the font data resides.</span></span> <span data-ttu-id="3d9c0-123">Pour incorporer une police Unicode OpenType qui réside dans un contexte de périphérique, une application peut utiliser [**TTEmbedFont**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfont).</span><span class="sxs-lookup"><span data-stu-id="3d9c0-123">To embed an OpenType Unicode font that resides in a device context, an application can use [**TTEmbedFont**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfont).</span></span> <span data-ttu-id="3d9c0-124">Pour incorporer une police UCS-4 OpenType qui réside dans un contexte de périphérique, une application peut utiliser [**TTEmbedFontEx**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfontex).</span><span class="sxs-lookup"><span data-stu-id="3d9c0-124">To embed an OpenType UCS-4 font that resides in a device context, an application can use [**TTEmbedFontEx**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfontex).</span></span> <span data-ttu-id="3d9c0-125">Pour incorporer une police Unicode OpenType qui réside dans un fichier de police, une application peut utiliser [**TTEmbedFontFromFile**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfontfromfilea).</span><span class="sxs-lookup"><span data-stu-id="3d9c0-125">To embed an OpenType Unicode font that resides in a font file, an application can use [**TTEmbedFontFromFile**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfontfromfilea).</span></span> <span data-ttu-id="3d9c0-126">Pour plus d’informations sur l’incorporation de polices OpenType, consultez la [référence d’incorporation de polices](font-embedding-reference.md).</span><span class="sxs-lookup"><span data-stu-id="3d9c0-126">For additional information on OpenType font embedding, see the [Font Embedding Reference](font-embedding-reference.md).</span></span>

<span data-ttu-id="3d9c0-127">Une fois qu’une application a récupéré les données de police, elle peut stocker les données avec le document à l’aide de n’importe quel format applicable.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-127">After an application retrieves the font data, it can store the data with the document by using any applicable format.</span></span> <span data-ttu-id="3d9c0-128">La plupart des applications génèrent un répertoire de polices dans le document, en répertoriant les polices incorporées et si l’incorporation est en lecture/écriture ou en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-128">Most applications build a font directory in the document, listing the embedded fonts and whether the embedding is read/write or read-only.</span></span> <span data-ttu-id="3d9c0-129">Une application peut utiliser les membres **otmpStyleName** et **otmFamilyName** de la structure [**OUTLINETEXTMETRIC**](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetrica) pour identifier la police.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-129">An application can use the **otmpStyleName** and **otmFamilyName** members of the [**OUTLINETEXTMETRIC**](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetrica) structure to identify the font.</span></span>

<span data-ttu-id="3d9c0-130">Si le bit en lecture seule est défini pour la police incorporée, les applications doivent chiffrer les données de police avant de les stocker dans le document.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-130">If the read-only bit is set for the embedded font, applications must encrypt the font data before storing it with the document.</span></span> <span data-ttu-id="3d9c0-131">La méthode de chiffrement n’a pas besoin d’être compliquée. par exemple, l’utilisation de l’opérateur XOR pour combiner les données de police avec une constante définie par l’application est appropriée et rapide.</span><span class="sxs-lookup"><span data-stu-id="3d9c0-131">The encryption method need not be complicated; for example, using the XOR operator to combine the font data with an application-defined constant is adequate and fast.</span></span>

 

 
