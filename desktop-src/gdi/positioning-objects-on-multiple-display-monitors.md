---
description: Une fenêtre ou un menu qui se trouve sur plus d’un moniteur entraîne une interruption visuelle pour une visionneuse. Pour réduire ce problème, le système affiche des menus et des fenêtres agrandies et agrandies sur une seule analyse. Le tableau suivant montre comment l’analyse est choisie.
ms.assetid: 9316c8dd-c9b7-49e2-a987-5949a87b0cfc
title: Positionnement des objets sur plusieurs moniteurs d’affichage
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 77149291737482fa0f3e7fe19ee4f350ee6521d8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104972567"
---
# <a name="positioning-objects-on-multiple-display-monitors"></a><span data-ttu-id="a3146-105">Positionnement des objets sur plusieurs moniteurs d’affichage</span><span class="sxs-lookup"><span data-stu-id="a3146-105">Positioning Objects on Multiple Display Monitors</span></span>

<span data-ttu-id="a3146-106">Une fenêtre ou un menu qui se trouve sur plus d’un moniteur entraîne une interruption visuelle pour une visionneuse.</span><span class="sxs-lookup"><span data-stu-id="a3146-106">A window or menu that is on more than one monitor causes visual disruption for a viewer.</span></span> <span data-ttu-id="a3146-107">Pour réduire ce problème, le système affiche des menus et des fenêtres agrandies et agrandies sur une seule analyse.</span><span class="sxs-lookup"><span data-stu-id="a3146-107">To minimize this problem, the system displays menus and new and maximized windows on one monitor.</span></span> <span data-ttu-id="a3146-108">Le tableau suivant montre comment l’analyse est choisie.</span><span class="sxs-lookup"><span data-stu-id="a3146-108">The following table shows how the monitor is chosen.</span></span>



| <span data-ttu-id="a3146-109">Object</span><span class="sxs-lookup"><span data-stu-id="a3146-109">Object</span></span>         | <span data-ttu-id="a3146-110">Emplacement</span><span class="sxs-lookup"><span data-stu-id="a3146-110">Location</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a3146-111">window</span><span class="sxs-lookup"><span data-stu-id="a3146-111">window</span></span>         | <span data-ttu-id="a3146-112">[**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa)(ex) affiche une fenêtre sur le moniteur qui contient la plus grande partie de la fenêtre. Agrandit sur le moniteur qui contient la plus grande partie de la fenêtre avant qu’elle ne soit réduite.</span><span class="sxs-lookup"><span data-stu-id="a3146-112">[**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa)(Ex) displays a window on the monitor that contains the largest part of the window.Maximizes on the monitor that contains the largest part of the window before it was minimized.</span></span><br/> <span data-ttu-id="a3146-113">La combinaison de touches ALT-TAB affiche une fenêtre sur le moniteur qui contient la fenêtre actuellement active.</span><span class="sxs-lookup"><span data-stu-id="a3146-113">The ALT-TAB key combination displays a window on the monitor that has the currently active window.</span></span><br/>                                                                                                                                          |
| <span data-ttu-id="a3146-114">fenêtre propriétaire</span><span class="sxs-lookup"><span data-stu-id="a3146-114">owned window</span></span>   | <span data-ttu-id="a3146-115">sur le même moniteur que son propriétaire.</span><span class="sxs-lookup"><span data-stu-id="a3146-115">on the same monitor as its owner.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="a3146-116">sous-menu</span><span class="sxs-lookup"><span data-stu-id="a3146-116">submenu</span></span>        | <span data-ttu-id="a3146-117">Apparaît sur le moniteur qui contient la plus grande partie de l’élément de menu correspondant.</span><span class="sxs-lookup"><span data-stu-id="a3146-117">Appears on the monitor that contains the largest part of the corresponding menu item.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="a3146-118">menu contextuel</span><span class="sxs-lookup"><span data-stu-id="a3146-118">context menu</span></span>   | <span data-ttu-id="a3146-119">Apparaît sur le moniteur où le clic droit s’est produit.</span><span class="sxs-lookup"><span data-stu-id="a3146-119">Appears on the monitor where the right click occurred.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="a3146-120">liste déroulante</span><span class="sxs-lookup"><span data-stu-id="a3146-120">drop-down list</span></span> | <span data-ttu-id="a3146-121">Apparaît sur le moniteur qui contient le rectangle de la zone de liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="a3146-121">Appears on the monitor that contains the rectangle of the combo box.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="a3146-122">boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="a3146-122">dialog box</span></span>     | <span data-ttu-id="a3146-123">Apparaît sur le moniteur de la fenêtre qui le possède. S’il est défini avec \_ le style DS CENTERMOUSE, il apparaît sur l’écran avec la souris.</span><span class="sxs-lookup"><span data-stu-id="a3146-123">Appears on the monitor of the window that owns it.If it is defined with DS\_CENTERMOUSE style, it appears on the monitor with the mouse.</span></span><br/> <span data-ttu-id="a3146-124">S’il n’a pas de propriétaire et que la fenêtre active et la boîte de dialogue se trouvent dans la même application, la boîte de dialogue s’affiche sur l’analyse de la fenêtre actuellement active.</span><span class="sxs-lookup"><span data-stu-id="a3146-124">If it has no owner and the active window and the dialog box are in the same application, the dialog box appears on the monitor of the currently active window.</span></span><br/> <span data-ttu-id="a3146-125">Si la boîte de dialogue n’a pas de propriétaire et que la fenêtre active n’est pas dans la même application que la boîte de dialogue, la boîte de dialogue s’affiche sur l’écran principal.</span><span class="sxs-lookup"><span data-stu-id="a3146-125">If the dialog box has no owner and the active window is not in the same application as the dialog box, the dialog box appears on the primary monitor.</span></span><br/> |
| <span data-ttu-id="a3146-126">boîte de message</span><span class="sxs-lookup"><span data-stu-id="a3146-126">message box</span></span>    | <span data-ttu-id="a3146-127">Apparaît sur le moniteur de la fenêtre qui le possède.</span><span class="sxs-lookup"><span data-stu-id="a3146-127">Appears on the monitor of the window that owns it.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                             |



 

<span data-ttu-id="a3146-128">Si une fenêtre passe à deux moniteurs et que l’un des moniteurs est repositionné, le système positionne la fenêtre sur le moniteur qui contient la plus grande partie de la fenêtre d’origine.</span><span class="sxs-lookup"><span data-stu-id="a3146-128">If a window straddles two monitors and one of the monitors is repositioned, the system positions the window on the monitor that contains the largest part of the original window.</span></span>

<span data-ttu-id="a3146-129">Une application doit également placer des objets.</span><span class="sxs-lookup"><span data-stu-id="a3146-129">An application will also typically need to position objects.</span></span> <span data-ttu-id="a3146-130">Par exemple, il peut être nécessaire de créer une fenêtre sur le même moniteur qu’une autre fenêtre.</span><span class="sxs-lookup"><span data-stu-id="a3146-130">For example, a window may need to be created on the same monitor as another window.</span></span>

<span data-ttu-id="a3146-131">**Pour positionner un objet sur un système à plusieurs écrans**</span><span class="sxs-lookup"><span data-stu-id="a3146-131">**To position an object on a multiple monitor system**</span></span>

1.  <span data-ttu-id="a3146-132">Déterminez l’analyse appropriée.</span><span class="sxs-lookup"><span data-stu-id="a3146-132">Determine the appropriate monitor.</span></span>
2.  <span data-ttu-id="a3146-133">Obtient les coordonnées du moniteur.</span><span class="sxs-lookup"><span data-stu-id="a3146-133">Get the coordinates to the monitor.</span></span>
3.  <span data-ttu-id="a3146-134">Placez l’objet à l’aide des coordonnées.</span><span class="sxs-lookup"><span data-stu-id="a3146-134">Position the object using the coordinates.</span></span>

<span data-ttu-id="a3146-135">En règle générale, vous allez positionner un objet sur le moniteur principal ou sur un moniteur sur lequel un objet est déjà présent.</span><span class="sxs-lookup"><span data-stu-id="a3146-135">Typically, you will position an object either on the primary monitor or on a monitor that has an object already on it.</span></span> <span data-ttu-id="a3146-136">Pour identifier le moniteur d’un point, d’un rectangle ou d’une fenêtre donnés, utilisez [**MonitorFromPoint**](/windows/desktop/api/Winuser/nf-winuser-monitorfrompoint), [**MonitorFromRect**](/windows/desktop/api/Winuser/nf-winuser-monitorfromrect)et [**MonitorFromWindow**](/windows/desktop/api/Winuser/nf-winuser-monitorfromwindow).</span><span class="sxs-lookup"><span data-stu-id="a3146-136">To identify the monitor for a given point, rectangle, or window, use [**MonitorFromPoint**](/windows/desktop/api/Winuser/nf-winuser-monitorfrompoint), [**MonitorFromRect**](/windows/desktop/api/Winuser/nf-winuser-monitorfromrect), and [**MonitorFromWindow**](/windows/desktop/api/Winuser/nf-winuser-monitorfromwindow).</span></span>

<span data-ttu-id="a3146-137">Pour obtenir les coordonnées du moniteur, utilisez [**GetMonitorInfo**](/windows/desktop/api/Winuser/nf-winuser-getmonitorinfoa), qui fournit à la fois la zone de travail et l’ensemble du rectangle d’analyse.</span><span class="sxs-lookup"><span data-stu-id="a3146-137">To get the coordinates for the monitor, use [**GetMonitorInfo**](/windows/desktop/api/Winuser/nf-winuser-getmonitorinfoa), which provides both the work area and the entire monitor rectangle.</span></span> <span data-ttu-id="a3146-138">Notez que les SM \_ CXSCREEN et SM \_ CYSCREEN font toujours référence à l’analyse principale, pas nécessairement à l’analyse qui affiche votre application.</span><span class="sxs-lookup"><span data-stu-id="a3146-138">Note that SM\_CXSCREEN and SM\_CYSCREEN always refer to the primary monitor, not necessarily the monitor that displays your application.</span></span> <span data-ttu-id="a3146-139">Évitez également le SM \_ xxVIRTUALSCREEN car il Centre votre fenêtre sur l’écran virtuel, et non sur une analyse.</span><span class="sxs-lookup"><span data-stu-id="a3146-139">Also, avoid SM\_xxVIRTUALSCREEN because this centers your window on the virtual screen, not a monitor.</span></span>

<span data-ttu-id="a3146-140">Pour centrer les boîtes de dialogue dans la zone de travail d’une fenêtre, utilisez le \_ style de centre DS.</span><span class="sxs-lookup"><span data-stu-id="a3146-140">To center dialog boxes in a window's work area, use the DS\_CENTER style.</span></span> <span data-ttu-id="a3146-141">Pour centrer la boîte de dialogue dans une fenêtre d’application, utilisez [**GetWindowRect**](/windows/win32/api/winuser/nf-winuser-getwindowrect).</span><span class="sxs-lookup"><span data-stu-id="a3146-141">To center the dialog box to an application window, use [**GetWindowRect**](/windows/win32/api/winuser/nf-winuser-getwindowrect).</span></span> <span data-ttu-id="a3146-142">Windows restreint automatiquement les menus et les boîtes de dialogue à une analyse.</span><span class="sxs-lookup"><span data-stu-id="a3146-142">Windows automatically restricts menus and dialog boxes to a monitor.</span></span> <span data-ttu-id="a3146-143">Toutefois, il peut y avoir un problème pour les menus personnalisés, les zones déroulantes personnalisées, les palettes d’outils personnalisées et la position de l’application enregistrée.</span><span class="sxs-lookup"><span data-stu-id="a3146-143">However, there can be a problem for custom menus, custom drop-down boxes, custom tool palettes, and the saved application position.</span></span>

<span data-ttu-id="a3146-144">Pour obtenir un exemple de la façon de positionner les objets correctement, consultez [positionnement des objets sur plusieurs configurations d’affichage](positioning-objects-on-a-multiple-display-setup.md).</span><span class="sxs-lookup"><span data-stu-id="a3146-144">For an example of how to position objects correctly, see [Positioning Objects on a Multiple Display Setup](positioning-objects-on-a-multiple-display-setup.md).</span></span>

<span data-ttu-id="a3146-145">L’utilisation \_ de SM CXSCREEN et SM \_ CYSCREEN pour déterminer l’emplacement d’une barre d’outils de bureau d’application (également appelée *appbar*) limite le appbar à l’analyse principale.</span><span class="sxs-lookup"><span data-stu-id="a3146-145">Using SM\_CXSCREEN and SM\_CYSCREEN to determine the location of an application desktop toolbar (also called *appbar*) restricts the appbar to the primary monitor.</span></span> <span data-ttu-id="a3146-146">Pour permettre à un appbar de se trouver sur n’importe quel bord d’une analyse, utilisez les mesures système appropriées pour calculer les bords des moniteurs.</span><span class="sxs-lookup"><span data-stu-id="a3146-146">To allow an appbar to be on any edge of any monitor, use the appropriate system metrics to calculate the edges of the monitors.</span></span> <span data-ttu-id="a3146-147">En outre, utilisez les macros **obten \_ X \_ lParam** et **obten \_ Y \_ lParam** pour extraire les coordonnées ; sinon, le signe des coordonnées peut être erroné.</span><span class="sxs-lookup"><span data-stu-id="a3146-147">Also, use the **GET\_X\_LPARAM** and **GET\_Y\_LPARAM** macros to extract the coordinates, otherwise the sign of the coordinates may be wrong.</span></span> <span data-ttu-id="a3146-148">Ces macros sont incluses dans Windowsx. h.</span><span class="sxs-lookup"><span data-stu-id="a3146-148">These macros are included in Windowsx.h.</span></span>

<span data-ttu-id="a3146-149">La taille d’une fenêtre plein écran doit changer à mesure qu’elle se déplace entre les moniteurs avec des résolutions différentes.</span><span class="sxs-lookup"><span data-stu-id="a3146-149">The size of a full-screen window needs to change as it moves among monitors with different resolutions.</span></span> <span data-ttu-id="a3146-150">Pour ce faire, l’application doit vérifier la fenêtre dans laquelle elle se trouve, à l’aide de [**MonitorFromWindow**](/windows/desktop/api/Winuser/nf-winuser-monitorfromwindow) ou de [**MonitorFromPoint**](/windows/desktop/api/Winuser/nf-winuser-monitorfrompoint) , puis utiliser [**GetMonitorInfo**](/windows/desktop/api/Winuser/nf-winuser-getmonitorinfoa) pour connaître la taille de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="a3146-150">To do this, the application must check what window it is on, using [**MonitorFromWindow**](/windows/desktop/api/Winuser/nf-winuser-monitorfromwindow) or [**MonitorFromPoint**](/windows/desktop/api/Winuser/nf-winuser-monitorfrompoint) , and then use [**GetMonitorInfo**](/windows/desktop/api/Winuser/nf-winuser-getmonitorinfoa) to get the size of the monitor.</span></span> <span data-ttu-id="a3146-151">Vous pouvez également utiliser **HMONITOR** à partir de la fonction DirectX **DirectDrawEnumerateEx** .</span><span class="sxs-lookup"><span data-stu-id="a3146-151">As an alternative, you could use the **HMONITOR** from the DirectX **DirectDrawEnumerateEx** function.</span></span> <span data-ttu-id="a3146-152">Utilisez ensuite [**SetWindowPos**](/windows/win32/api/winuser/nf-winuser-setwindowpos) pour positionner et dimensionner la fenêtre pour couvrir l’analyse.</span><span class="sxs-lookup"><span data-stu-id="a3146-152">Then use [**SetWindowPos**](/windows/win32/api/winuser/nf-winuser-setwindowpos) to position and size the window to cover the monitor.</span></span>

<span data-ttu-id="a3146-153">Une fenêtre agrandie ne couvre pas une barre des tâches qui a la propriété « Always on Top ».</span><span class="sxs-lookup"><span data-stu-id="a3146-153">A maximized window does not cover a taskbar that has the "Always on top" property.</span></span> <span data-ttu-id="a3146-154">Toutefois, une fenêtre plein écran couvre la barre des tâches, par exemple dans les diaporamas et les jeux Microsoft PowerPoint.</span><span class="sxs-lookup"><span data-stu-id="a3146-154">However, a full-screen window covers the taskbar--for example, in Microsoft PowerPoint slide shows and games.</span></span>

<span data-ttu-id="a3146-155">Pour enregistrer et restaurer ultérieurement la position d’une fenêtre lorsqu’une application se ferme, utilisez les fonctions [**GetWindowPlacement**](/windows/win32/api/winuser/nf-winuser-getwindowplacement) et [**SetWindowPlacement**](/windows/win32/api/winuser/nf-winuser-setwindowplacement) .</span><span class="sxs-lookup"><span data-stu-id="a3146-155">To save, and later restore, the position of a window when an application exits, use the [**GetWindowPlacement**](/windows/win32/api/winuser/nf-winuser-getwindowplacement) and [**SetWindowPlacement**](/windows/win32/api/winuser/nf-winuser-setwindowplacement) functions.</span></span> <span data-ttu-id="a3146-156">Toutefois, vérifiez que la position est toujours valide avant de l’utiliser, car l’analyse a pu être déplacée ou supprimée du système.</span><span class="sxs-lookup"><span data-stu-id="a3146-156">However, check that the position is still valid before using it because the monitor could have been moved or removed from the system.</span></span> <span data-ttu-id="a3146-157">L’application affiche la fenêtre sur l’écran principal si le **HMONITOR** d’une fenêtre n’est pas valide.</span><span class="sxs-lookup"><span data-stu-id="a3146-157">The application displays the window on the primary monitor if the **HMONITOR** of a window is invalid.</span></span>

<span data-ttu-id="a3146-158">Le système tente de démarrer une application sur le moniteur qui contient son raccourci.</span><span class="sxs-lookup"><span data-stu-id="a3146-158">The system tries to start an application on the monitor that contains its shortcut.</span></span> <span data-ttu-id="a3146-159">Ainsi, l’une des façons de positionner une application consiste à avoir son raccourci sur un moniteur souhaité.</span><span class="sxs-lookup"><span data-stu-id="a3146-159">So, one way to position an application is to have its shortcut on a desired monitor.</span></span>

<span data-ttu-id="a3146-160">Si vous utilisez [**ShellExecute**](/windows/win32/api/shellapi/nf-shellapi-shellexecutea) ou [**ShellExecuteEx**](/windows/win32/api/shellapi/nf-shellapi-shellexecuteexa) , fournissez un *HWND* pour que le système ouvre toutes les nouvelles fenêtres sur le même moniteur que l’application appelante.</span><span class="sxs-lookup"><span data-stu-id="a3146-160">If you use [**ShellExecute**](/windows/win32/api/shellapi/nf-shellapi-shellexecutea) or [**ShellExecuteEx**](/windows/win32/api/shellapi/nf-shellapi-shellexecuteexa) , supply an *hWnd* so the system will open any new windows on the same monitor as the calling application.</span></span>

<span data-ttu-id="a3146-161">Notez que les valeurs de la structure [**minmaxinfo,**](/windows/win32/api/winuser/ns-winuser-minmaxinfo) sont légèrement modifiées pour un système avec plusieurs moniteurs.</span><span class="sxs-lookup"><span data-stu-id="a3146-161">Note that the values for the [**MINMAXINFO**](/windows/win32/api/winuser/ns-winuser-minmaxinfo) structure are slightly altered for a system with multiple monitors.</span></span>

 

 
