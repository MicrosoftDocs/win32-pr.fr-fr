---
description: Un contexte de périphérique de fenêtre permet à une application de dessiner n’importe où dans une fenêtre, y compris la zone non cliente.
ms.assetid: 7b3c6352-51d5-4fdf-82c2-7a28194f607f
title: Fenêtre Affichage des contextes de périphérique
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 75abed6177771d9beff56ad5e7dec1f8e0a704c9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104973055"
---
# <a name="window-display-device-contexts"></a><span data-ttu-id="30a9c-103">Fenêtre Affichage des contextes de périphérique</span><span class="sxs-lookup"><span data-stu-id="30a9c-103">Window Display Device Contexts</span></span>

<span data-ttu-id="30a9c-104">Un *contexte de périphérique de fenêtre* permet à une application de dessiner n’importe où dans une fenêtre, y compris la zone non cliente.</span><span class="sxs-lookup"><span data-stu-id="30a9c-104">A *window device context* enables an application to draw anywhere in a window, including the nonclient area.</span></span> <span data-ttu-id="30a9c-105">Les contextes de périphérique Windows sont généralement utilisés par les applications qui traitent les messages [**WM \_ NCPAINT**](wm-ncpaint.md) et [**WM \_ NCACTIVATE**](../winmsg/wm-ncactivate.md) pour Windows avec des zones non clientes personnalisées.</span><span class="sxs-lookup"><span data-stu-id="30a9c-105">Window device contexts are typically used by applications that process the [**WM\_NCPAINT**](wm-ncpaint.md) and [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) messages for windows with custom nonclient areas.</span></span> <span data-ttu-id="30a9c-106">L’utilisation d’un contexte de périphérique Windows n’est pas recommandée à d’autres fins.</span><span class="sxs-lookup"><span data-stu-id="30a9c-106">Using a window device context is not recommended for any other purpose.</span></span>

<span data-ttu-id="30a9c-107">Une application peut récupérer un contexte de périphérique Windows à l’aide de la fonction [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) ou [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) avec l' \_ option de fenêtre DCX spécifiée.</span><span class="sxs-lookup"><span data-stu-id="30a9c-107">An application can retrieve a window device context by using the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function with the DCX\_WINDOW option specified.</span></span> <span data-ttu-id="30a9c-108">La fonction récupère un contexte de périphérique Windows à partir du cache du contexte de périphérique d’affichage.</span><span class="sxs-lookup"><span data-stu-id="30a9c-108">The function retrieves a window device context from the display device context cache.</span></span> <span data-ttu-id="30a9c-109">Une fenêtre qui utilise un contexte de périphérique Windows doit le libérer après avoir dessiné à l’aide de la fonction [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) dès que possible.</span><span class="sxs-lookup"><span data-stu-id="30a9c-109">A window that uses a window device context must release it after drawing by using the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function as soon as possible.</span></span> <span data-ttu-id="30a9c-110">Les contextes de périphérique Windows proviennent toujours du cache ; les \_ styles de classe CS OWNDC et CS \_ CLASSDC n’affectent pas le contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="30a9c-110">Window device contexts are always from the cache; the CS\_OWNDC and CS\_CLASSDC class styles do not affect the device context.</span></span>

<span data-ttu-id="30a9c-111">Quand une application récupère un contexte de périphérique Windows, le système définit l’origine de l’appareil dans l’angle supérieur gauche de la fenêtre au lieu de l’angle supérieur gauche de la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="30a9c-111">When an application retrieves a window device context, the system sets the device origin to the upper left corner of the window instead of the upper left corner of the client area.</span></span> <span data-ttu-id="30a9c-112">Il définit également la zone de découpage pour inclure la fenêtre entière, pas seulement la zone cliente.</span><span class="sxs-lookup"><span data-stu-id="30a9c-112">It also sets the clipping region to include the entire window, not just the client area.</span></span> <span data-ttu-id="30a9c-113">Le système définit les valeurs d’attribut actuelles d’un contexte de périphérique Windows avec les mêmes valeurs par défaut qu’un contexte de périphérique courant.</span><span class="sxs-lookup"><span data-stu-id="30a9c-113">The system sets the current attribute values of a window device context to the same default values as a common device context.</span></span> <span data-ttu-id="30a9c-114">Une application peut modifier les valeurs d’attribut, mais le système ne conserve pas les modifications apportées lors de la libération du contexte de périphérique.</span><span class="sxs-lookup"><span data-stu-id="30a9c-114">An application can change the attribute values, but the system does not preserve any changes when the device context is released.</span></span>

 

 
