---
description: 'Une application se dessine dans une fenêtre à plusieurs moments : lors de la création d’une fenêtre, lors de la modification de la taille de la fenêtre, lors du déplacement de la fenêtre depuis une autre fenêtre, lors de la réduction ou de l’agrandissement de la fenêtre, lors de l’affichage des données d’un fichier ouvert, lors du défilement, de la modification ou de la sélection d’une partie des'
ms.assetid: 4b5d6842-5707-4884-a55a-e09e342cea46
title: Quand dessiner dans une fenêtre
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 42c8c157de5a591be5ad1a6ad3e319cf83220e77
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104319030"
---
# <a name="when-to-draw-in-a-window"></a><span data-ttu-id="97527-103">Quand dessiner dans une fenêtre</span><span class="sxs-lookup"><span data-stu-id="97527-103">When to Draw in a Window</span></span>

<span data-ttu-id="97527-104">Une application se dessine dans une fenêtre à plusieurs moments : lors de la création d’une fenêtre, lors de la modification de la taille de la fenêtre, lors du déplacement de la fenêtre depuis une autre fenêtre, lors de la réduction ou de l’agrandissement de la fenêtre, lors de l’affichage des données d’un fichier ouvert, lors du défilement, de la modification ou de la sélection d’une partie des</span><span class="sxs-lookup"><span data-stu-id="97527-104">An application draws in a window at a variety of times: when first creating a window, when changing the size of the window, when moving the window from behind another window, when minimizing or maximizing the window, when displaying data from an opened file, and when scrolling, changing, or selecting a portion of the displayed data.</span></span>

<span data-ttu-id="97527-105">Le système gère des actions telles que le déplacement et le redimensionnement d’une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="97527-105">The system manages actions such as moving and sizing a window.</span></span> <span data-ttu-id="97527-106">Si une action affecte le contenu de la fenêtre, le système marque la partie affectée de la fenêtre comme prête pour la mise à jour et, lors de la prochaine occasion, envoie un message de [**\_ peinture WM**](wm-paint.md) à la procédure de fenêtre de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="97527-106">If an action affects the content of the window, the system marks the affected portion of the window as ready for updating and, at the next opportunity, sends a [**WM\_PAINT**](wm-paint.md) message to the window procedure of the window.</span></span> <span data-ttu-id="97527-107">Le message est un signal à l’application pour déterminer ce qui doit être mis à jour et pour effectuer le dessin nécessaire.</span><span class="sxs-lookup"><span data-stu-id="97527-107">The message is a signal to the application to determine what must be updated and to carry out the necessary drawing.</span></span>

<span data-ttu-id="97527-108">Certaines actions sont gérées par l’application, telles que l’affichage des fichiers ouverts et la sélection des données affichées.</span><span class="sxs-lookup"><span data-stu-id="97527-108">Some actions are managed by the application, such as displaying open files and selecting displayed data.</span></span> <span data-ttu-id="97527-109">Pour ces actions, une application peut marquer pour mettre à jour la partie de la fenêtre affectée par l’action, ce qui entraîne l’envoi d’un message de [**\_ peinture WM**](wm-paint.md) à la prochaine occasion.</span><span class="sxs-lookup"><span data-stu-id="97527-109">For these actions, an application can mark for updating the portion of the window affected by the action, causing a [**WM\_PAINT**](wm-paint.md) message to be sent at the next opportunity.</span></span> <span data-ttu-id="97527-110">Si une action requiert un retour immédiat, l’application peut dessiner pendant que l’action a lieu, sans attendre la **\_ peinture WM**.</span><span class="sxs-lookup"><span data-stu-id="97527-110">If an action requires immediate feedback, the application can draw while the action takes place, without waiting for **WM\_PAINT**.</span></span> <span data-ttu-id="97527-111">Par exemple, une application classique met en surbrillance la zone sélectionnée par l’utilisateur au lieu d’attendre le prochain message de **\_ peinture WM** pour mettre à jour la zone.</span><span class="sxs-lookup"><span data-stu-id="97527-111">For example, a typical application highlights the area the user selects rather than waiting for the next **WM\_PAINT** message to update the area.</span></span>

<span data-ttu-id="97527-112">Dans tous les cas, une application peut dessiner dans une fenêtre dès sa création.</span><span class="sxs-lookup"><span data-stu-id="97527-112">In all cases, an application can draw in a window as soon as it is created.</span></span> <span data-ttu-id="97527-113">Pour dessiner dans la fenêtre, l’application doit d’abord récupérer un handle vers un contexte de périphérique d’affichage pour la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="97527-113">To draw in the window, the application must first retrieve a handle to a display device context for the window.</span></span> <span data-ttu-id="97527-114">Dans l’idéal, une application effectue la plupart de ses opérations de dessin pendant le traitement des messages [**WM \_ Paint**](wm-paint.md) .</span><span class="sxs-lookup"><span data-stu-id="97527-114">Ideally, an application carries out most of its drawing operations during the processing of [**WM\_PAINT**](wm-paint.md) messages.</span></span> <span data-ttu-id="97527-115">Dans ce cas, l’application récupère un contexte de périphérique d’affichage en appelant la fonction [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) .</span><span class="sxs-lookup"><span data-stu-id="97527-115">In this case, the application retrieves a display device context by calling the [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function.</span></span> <span data-ttu-id="97527-116">Si une application est dessinée à tout moment, par exemple à partir de [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) ou pendant le traitement des messages du clavier ou de la souris, elle appelle la fonction [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) ou [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) pour récupérer le DC d’affichage.</span><span class="sxs-lookup"><span data-stu-id="97527-116">If an application draws at any other time, such as from within [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) or during the processing of keyboard or mouse messages, it calls the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function to retrieve the display DC.</span></span>

 

 
