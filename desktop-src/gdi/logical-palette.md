---
description: Une palette logique est une palette de couleurs qu’une application crée et associe à un contexte de périphérique donné.
ms.assetid: 7cc86771-237d-4539-8f48-2474edb764a4
title: Palette logique
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 597e049c4320ff3ac30099e767c35a3438237904
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104972655"
---
# <a name="logical-palette"></a><span data-ttu-id="ebb40-103">Palette logique</span><span class="sxs-lookup"><span data-stu-id="ebb40-103">Logical Palette</span></span>

<span data-ttu-id="ebb40-104">Une *palette logique* est une palette de couleurs qu’une application crée et associe à un contexte de périphérique donné.</span><span class="sxs-lookup"><span data-stu-id="ebb40-104">A *logical palette* is a color palette that an application creates and associates with a given device context.</span></span> <span data-ttu-id="ebb40-105">Les palettes logiques permettent aux applications de définir et d’utiliser des couleurs qui répondent à leurs besoins spécifiques.</span><span class="sxs-lookup"><span data-stu-id="ebb40-105">Logical palettes let applications define and use colors that meet their specific needs.</span></span> <span data-ttu-id="ebb40-106">Les applications peuvent créer un nombre quelconque de palettes logiques, en les utilisant pour des contextes d’appareil distincts ou en basculant entre elles pour un contexte de périphérique unique.</span><span class="sxs-lookup"><span data-stu-id="ebb40-106">Applications can create any number of logical palettes, using them for separate device contexts or switching between them for a single device context.</span></span> <span data-ttu-id="ebb40-107">Le nombre maximal de palettes qu’une application peut créer dépend des ressources du système.</span><span class="sxs-lookup"><span data-stu-id="ebb40-107">The maximum number of palettes that an application can create depends on the resources of the system.</span></span>

<span data-ttu-id="ebb40-108">Une application crée une palette logique à l’aide de la fonction [**CreatePalette**](/windows/desktop/api/Wingdi/nf-wingdi-createpalette) .</span><span class="sxs-lookup"><span data-stu-id="ebb40-108">An application creates a logical palette by using the [**CreatePalette**](/windows/desktop/api/Wingdi/nf-wingdi-createpalette) function.</span></span> <span data-ttu-id="ebb40-109">L’application remplit une structure [**LOGPALETTE**](/windows/win32/api/wingdi/ns-wingdi-logpalette) , qui spécifie le nombre d’entrées et les valeurs de couleur pour chaque entrée, puis l’application transmet la structure à **CreatePalette**.</span><span class="sxs-lookup"><span data-stu-id="ebb40-109">The application fills a [**LOGPALETTE**](/windows/win32/api/wingdi/ns-wingdi-logpalette) structure, which specifies the number of entries and the color values for each entry, and then the application passes the structure to **CreatePalette**.</span></span> <span data-ttu-id="ebb40-110">La fonction retourne un handle de palette que l’application utilise dans toutes les opérations suivantes pour identifier la palette.</span><span class="sxs-lookup"><span data-stu-id="ebb40-110">The function returns a palette handle that the application uses in all subsequent operations to identify the palette.</span></span> <span data-ttu-id="ebb40-111">Pour utiliser des couleurs dans la palette logique, l’application sélectionne la palette dans un contexte de périphérique à l’aide de la fonction [**SelectPalette**](/windows/desktop/api/Wingdi/nf-wingdi-selectpalette) , puis réalise la palette à l’aide de la fonction [**RealizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-realizepalette) .</span><span class="sxs-lookup"><span data-stu-id="ebb40-111">To use colors in the logical palette, the application selects the palette into a device context by using the [**SelectPalette**](/windows/desktop/api/Wingdi/nf-wingdi-selectpalette) function and then realizes the palette by using the [**RealizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-realizepalette) function.</span></span> <span data-ttu-id="ebb40-112">Les couleurs de la palette sont disponibles dès que la palette logique est obtenue.</span><span class="sxs-lookup"><span data-stu-id="ebb40-112">The colors in the palette are available as soon as the logical palette is realized.</span></span>

<span data-ttu-id="ebb40-113">Une application doit limiter la taille de ses palettes logiques à juste assez d’entrées pour représenter les couleurs nécessaires.</span><span class="sxs-lookup"><span data-stu-id="ebb40-113">An application should limit the size of its logical palettes to just enough entries to represent the colors needed.</span></span> <span data-ttu-id="ebb40-114">Les applications ne peuvent pas créer de palettes logiques supérieures à la taille maximale de la palette, une valeur dépendante de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="ebb40-114">Applications cannot create logical palettes larger than the maximum palette size, a device-dependent value.</span></span> <span data-ttu-id="ebb40-115">Les applications peuvent obtenir la taille maximale à l’aide de la fonction [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) pour récupérer la valeur SIZEPALETTE.</span><span class="sxs-lookup"><span data-stu-id="ebb40-115">Applications can obtain the maximum size by using the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function to retrieve the SIZEPALETTE value.</span></span>

<span data-ttu-id="ebb40-116">Bien qu’une application puisse spécifier n’importe quelle valeur de couleur pour une entrée donnée dans une palette logique, toutes les couleurs ne peuvent pas être générées par l’appareil donné.</span><span class="sxs-lookup"><span data-stu-id="ebb40-116">Although an application can specify any color value for a given entry in a logical palette, not all colors can be generated by the given device.</span></span> <span data-ttu-id="ebb40-117">Le système n’offre aucun moyen de détecter les couleurs prises en charge, mais l’application peut découvrir le nombre total de ces couleurs en récupérant la résolution de couleur de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="ebb40-117">The system does not provide a way to discover which colors are supported, but the application can discover the total number of these colors by retrieving the color resolution of the device.</span></span> <span data-ttu-id="ebb40-118">La résolution de couleur, spécifiée en bits de couleur par pixel, est égale à la valeur COLORRES retournée par la fonction [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) .</span><span class="sxs-lookup"><span data-stu-id="ebb40-118">The color resolution, specified in color bits per pixel, is equal to the COLORRES value returned by the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function.</span></span> <span data-ttu-id="ebb40-119">Un appareil dont la résolution de couleurs est 18 présente 262 144 couleurs possibles.</span><span class="sxs-lookup"><span data-stu-id="ebb40-119">A device that has a color resolution of 18 has 262,144 possible colors.</span></span> <span data-ttu-id="ebb40-120">Si une application demande une couleur qui n’est pas prise en charge, le système choisit une approximation appropriée.</span><span class="sxs-lookup"><span data-stu-id="ebb40-120">If an application requests a color that is not supported, the system chooses an appropriate approximation.</span></span>

<span data-ttu-id="ebb40-121">Une fois qu’une palette logique est créée, une application peut modifier les couleurs de la palette à l’aide de la fonction [**SetPaletteEntries**](/windows/desktop/api/Wingdi/nf-wingdi-setpaletteentries) .</span><span class="sxs-lookup"><span data-stu-id="ebb40-121">Once a logical palette is created, an application can change colors in the palette by using the [**SetPaletteEntries**](/windows/desktop/api/Wingdi/nf-wingdi-setpaletteentries) function.</span></span> <span data-ttu-id="ebb40-122">Si la palette logique a été sélectionnée et réalisée, la modification de la palette n’affecte pas immédiatement les couleurs affichées.</span><span class="sxs-lookup"><span data-stu-id="ebb40-122">If the logical palette has been selected and realized, changing the palette does not immediately affect the colors being displayed.</span></span> <span data-ttu-id="ebb40-123">L’application doit utiliser les fonctions [**UnrealizeObject**](/windows/desktop/api/Wingdi/nf-wingdi-unrealizeobject) et [**RealizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-realizepalette) pour mettre à jour les couleurs.</span><span class="sxs-lookup"><span data-stu-id="ebb40-123">The application must use the [**UnrealizeObject**](/windows/desktop/api/Wingdi/nf-wingdi-unrealizeobject) and [**RealizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-realizepalette) functions to update the colors.</span></span> <span data-ttu-id="ebb40-124">Dans certains cas, l’application doit peut-être désélectionner, inréaliser, sélectionner et réaliser la palette logique pour s’assurer que les couleurs sont mises à jour exactement comme demandé.</span><span class="sxs-lookup"><span data-stu-id="ebb40-124">In some cases, the application may need to deselect, unrealize, select, and realize the logical palette to ensure that the colors are updated exactly as requested.</span></span> <span data-ttu-id="ebb40-125">Si une application sélectionne une palette logique dans plusieurs contextes de périphérique, les modifications apportées à la palette logique affectent tous les contextes de périphérique pour lesquels elle est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="ebb40-125">If an application selects a logical palette into more than one device context, changes to the logical palette affect all device contexts for which it is selected.</span></span>

<span data-ttu-id="ebb40-126">Une application peut modifier le nombre d’entrées dans une palette logique à l’aide de la fonction [**ResizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-resizepalette) .</span><span class="sxs-lookup"><span data-stu-id="ebb40-126">An application can change the number of entries in a logical palette by using the [**ResizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-resizepalette) function.</span></span> <span data-ttu-id="ebb40-127">Si l’application réduit la taille, les entrées restantes sont inchangées.</span><span class="sxs-lookup"><span data-stu-id="ebb40-127">If the application reduces the size, the remaining entries are unchanged.</span></span> <span data-ttu-id="ebb40-128">Si l’application augmente la taille, le système définit la couleur de chaque nouvelle entrée sur noir (0, 0, 0) et l’indicateur sur zéro.</span><span class="sxs-lookup"><span data-stu-id="ebb40-128">If the application extends the size, the system sets the color for each new entry to black (0, 0, 0) and the flag to zero.</span></span>

<span data-ttu-id="ebb40-129">Une application peut récupérer les valeurs de couleur et d’indicateur pour les entrées d’une palette logique donnée à l’aide de la fonction [**GetPaletteEntries**](/windows/desktop/api/Wingdi/nf-wingdi-getpaletteentries) .</span><span class="sxs-lookup"><span data-stu-id="ebb40-129">An application can retrieve the color and flag values for entries in a given logical palette by using the [**GetPaletteEntries**](/windows/desktop/api/Wingdi/nf-wingdi-getpaletteentries) function.</span></span> <span data-ttu-id="ebb40-130">Une application peut récupérer l’index de l’entrée dans une palette logique donnée qui correspond le mieux à une valeur de couleur spécifiée à l’aide de la fonction [**GetNearestPaletteIndex**](/windows/desktop/api/Wingdi/nf-wingdi-getnearestpaletteindex) .</span><span class="sxs-lookup"><span data-stu-id="ebb40-130">An application can retrieve the index for the entry in a given logical palette that most closely matches a specified color value by using the [**GetNearestPaletteIndex**](/windows/desktop/api/Wingdi/nf-wingdi-getnearestpaletteindex) function.</span></span>

<span data-ttu-id="ebb40-131">Quand une application n’a plus besoin d’une palette logique, elle peut la supprimer à l’aide de la fonction [**SupprimerObjet**](/windows/desktop/api/Wingdi/nf-wingdi-deleteobject) .</span><span class="sxs-lookup"><span data-stu-id="ebb40-131">When an application no longer needs a logical palette, it can delete it by using the [**DeleteObject**](/windows/desktop/api/Wingdi/nf-wingdi-deleteobject) function.</span></span> <span data-ttu-id="ebb40-132">L’application doit s’assurer que la palette logique n’est plus sélectionnée dans un contexte de périphérique avant de supprimer la palette.</span><span class="sxs-lookup"><span data-stu-id="ebb40-132">The application must make sure the logical palette is no longer selected into a device context before deleting the palette.</span></span>

 

 



