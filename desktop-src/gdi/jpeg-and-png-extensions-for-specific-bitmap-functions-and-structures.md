---
description: Sur certaines versions de Microsoft Windows, les fonctions StretchDIBits et SetDIBitsToDevice permettent de transmettre des images JPEG et PNG en tant qu’image source aux périphériques d’impression.
ms.assetid: a38a807d-44df-40a2-8af7-0ce5e532cba2
title: Extensions JPEG et PNG pour des structures et des fonctions bitmap spécifiques
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1625dcde0e673c85dcaef65c2f1aa825121bf871
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104528323"
---
# <a name="jpeg-and-png-extensions-for-specific-bitmap-functions-and-structures"></a><span data-ttu-id="a1944-103">Extensions JPEG et PNG pour des structures et des fonctions bitmap spécifiques</span><span class="sxs-lookup"><span data-stu-id="a1944-103">JPEG and PNG Extensions for Specific Bitmap Functions and Structures</span></span>

<span data-ttu-id="a1944-104">Sur certaines versions de Microsoft Windows, les fonctions [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) et [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) permettent de transmettre des images JPEG et png en tant qu’image source aux périphériques d’impression.</span><span class="sxs-lookup"><span data-stu-id="a1944-104">On certain versions of Microsoft Windows, the [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) and [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) functions allow JPEG and PNG images to be passed as the source image to printer devices.</span></span> <span data-ttu-id="a1944-105">Cette extension n’est pas conçue pour fournir une décompression JPEG et PNG générale aux applications, mais plutôt pour permettre aux applications d’envoyer des images JPEG et PNG compressées directement aux imprimantes ayant une prise en charge matérielle pour les images JPEG et PNG.</span><span class="sxs-lookup"><span data-stu-id="a1944-105">This extension is not intended as a means to supply general JPEG and PNG decompression to applications, but rather to allow applications to send JPEG- and PNG-compressed images directly to printers having hardware support for JPEG and PNG images.</span></span>

<span data-ttu-id="a1944-106">Les structures [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) et [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) sont étendues pour permettre la spécification de valeurs de **bicompression** indiquant que les données bitmap sont une image JPEG ou png.</span><span class="sxs-lookup"><span data-stu-id="a1944-106">The [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) and [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structures are extended to allow specification of **biCompression** values indicating that the bitmap data is a JPEG or PNG image.</span></span> <span data-ttu-id="a1944-107">Ces valeurs de compression sont valides uniquement pour [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) et [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) lorsque le paramètre *HDC* spécifie un périphérique d’impression.</span><span class="sxs-lookup"><span data-stu-id="a1944-107">These compression values are only valid for [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) and [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) when the *hdc* parameter specifies a printer device.</span></span> <span data-ttu-id="a1944-108">Pour prendre en charge la mise en file d’attente de métafichiers de l’imprimante, l’application ne doit pas s’appuyer sur la valeur de retour pour déterminer si l’appareil prend en charge le fichier JPEG ou PNG.</span><span class="sxs-lookup"><span data-stu-id="a1944-108">To support metafile spooling of the printer, the application should not rely on the return value to determine whether the device supports the JPEG or PNG file.</span></span> <span data-ttu-id="a1944-109">L’application doit émettre QUERYESCSUPPORT avec la séquence d’échappement correspondante avant d’appeler **SetDIBitsToDevice** et **StretchDIBits**.</span><span class="sxs-lookup"><span data-stu-id="a1944-109">The application must issue QUERYESCSUPPORT with the corresponding escape before calling **SetDIBitsToDevice** and **StretchDIBits**.</span></span> <span data-ttu-id="a1944-110">Si l’échappement de validation échoue, l’application doit ensuite revenir à sa propre prise en charge JPEG ou PNG pour décompresser l’image dans une image bitmap.</span><span class="sxs-lookup"><span data-stu-id="a1944-110">If the validation escape fails, the application must then fall back on its own JPEG or PNG support to decompress the image into a bitmap.</span></span>

 

 
