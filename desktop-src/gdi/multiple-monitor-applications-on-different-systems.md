---
description: Pour que votre application monitoraware fonctionne à la fois sur les systèmes avec et sans prise en charge de plusieurs moniteurs, liez votre application à multimon. h.
ms.assetid: 8667305e-ca76-49cb-878e-07814431e6db
title: Plusieurs applications de surveillance sur différents systèmes
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ec5d470861136ac9362d986b8647c86abee7021b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104972635"
---
# <a name="multiple-monitor-applications-on-different-systems"></a><span data-ttu-id="b8878-103">Plusieurs applications de surveillance sur différents systèmes</span><span class="sxs-lookup"><span data-stu-id="b8878-103">Multiple Monitor Applications on Different Systems</span></span>

<span data-ttu-id="b8878-104">Pour que votre application monitoraware fonctionne à la fois sur les systèmes avec et sans prise en charge de plusieurs moniteurs, liez votre application à multimon. h.</span><span class="sxs-lookup"><span data-stu-id="b8878-104">To have your multiple monitoraware application work both on systems with and without multiple monitor support, link your application with Multimon.h.</span></span> <span data-ttu-id="b8878-105">Vous devez également définir \_ \_ des stubs de compilation MULTIMON dans un seul fichier C.</span><span class="sxs-lookup"><span data-stu-id="b8878-105">You must also define COMPILE\_MULTIMON\_STUBS in exactly one C file.</span></span> <span data-ttu-id="b8878-106">Si le système ne prend pas en charge plusieurs analyses, cela retourne les valeurs par défaut de [**GetSystemMetrics**](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) , et les fonctions d’analyse multiples agissent comme s’il n’y a qu’un seul affichage.</span><span class="sxs-lookup"><span data-stu-id="b8878-106">If the system does not support multiple monitors, this returns default values from [**GetSystemMetrics**](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) , and the multiple monitor functions act as if there is only one display.</span></span> <span data-ttu-id="b8878-107">Sur plusieurs systèmes d’analyse, votre application fonctionnera normalement.</span><span class="sxs-lookup"><span data-stu-id="b8878-107">On multiple monitor systems, your application will work normally.</span></span>

<span data-ttu-id="b8878-108">Étant donné que les coordonnées négatives peuvent se produire facilement dans un système multimoniteur, vous devez récupérer les coordonnées qui sont compressées dans le lParam à l’aide des macros **obtenir \_ X \_ lParam** et **obtenir \_ Y \_ lParam** .</span><span class="sxs-lookup"><span data-stu-id="b8878-108">Because negative coordinates can happen easily in a multimonitor system, you should retrieve coordinates that are packed in the lParam by using the **GET\_X\_LPARAM** and **GET\_Y\_LPARAM** macros.</span></span>

<span data-ttu-id="b8878-109">N’utilisez pas de coordonnées négatives ou de coordonnées supérieures à SM \_ CXSCREEN et SM \_ CYSCREEN pour masquer une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="b8878-109">Do not use negative coordinates or coordinates larger than SM\_CXSCREEN and SM\_CYSCREEN to hide a window.</span></span> <span data-ttu-id="b8878-110">Les fenêtres qui utilisent ces limites pour masquer peuvent apparaître sur un autre moniteur.</span><span class="sxs-lookup"><span data-stu-id="b8878-110">Windows that use these limits to hide may appear on another monitor.</span></span> <span data-ttu-id="b8878-111">De même, n’utilisez pas ces limites pour laisser une fenêtre visible, car cela peut entraîner l’alignement d’une fenêtre sur l’écran principal.</span><span class="sxs-lookup"><span data-stu-id="b8878-111">Likewise, do not use these limits to keep a window visible because this can cause a window to snap to the primary monitor.</span></span> <span data-ttu-id="b8878-112">Il est préférable de réexaminer les applications existantes à la recherche de ces problèmes.</span><span class="sxs-lookup"><span data-stu-id="b8878-112">It is best to reexamine existing applications for these problems.</span></span> <span data-ttu-id="b8878-113">Toutefois, vous pouvez réduire les problèmes dans les applications existantes en exécutant l’application sur le moniteur principal ou en conservant le moniteur principal dans le coin supérieur gauche de l’écran virtuel.</span><span class="sxs-lookup"><span data-stu-id="b8878-113">However, you can minimize problems in existing applications by running the application on the primary monitor or by keeping the primary monitor in the upper-left corner of the virtual screen.</span></span>

<span data-ttu-id="b8878-114">Notez que \_ les SM CXMAXTRACK et SM \_ CYMAXTRACK sont définis pour le bureau, et pas seulement pour une seule analyse.</span><span class="sxs-lookup"><span data-stu-id="b8878-114">Note that SM\_CXMAXTRACK and SM\_CYMAXTRACK are defined for the desktop, not just one monitor.</span></span> <span data-ttu-id="b8878-115">Les fenêtres utilisant ces limites devront peut-être être redéfinies.</span><span class="sxs-lookup"><span data-stu-id="b8878-115">Windows using these limits may need to be redefined.</span></span>

<span data-ttu-id="b8878-116">Une fenêtre parente ou associée peut ne pas se trouver sur le même moniteur qu’une fenêtre enfant.</span><span class="sxs-lookup"><span data-stu-id="b8878-116">A parent or related window might not be on the same monitor as a child window.</span></span> <span data-ttu-id="b8878-117">Pour localiser le moniteur d’une fenêtre, les applications doivent utiliser la fonction [**MonitorFromWindow**](/windows/desktop/api/Winuser/nf-winuser-monitorfromwindow) .</span><span class="sxs-lookup"><span data-stu-id="b8878-117">To locate the monitor of a window, applications should use the [**MonitorFromWindow**](/windows/desktop/api/Winuser/nf-winuser-monitorfromwindow) function.</span></span>

<span data-ttu-id="b8878-118">Pour que l’écran de veille s’affiche sur toutes les analyses, liez-le à la dernière version de scrnsave. lib.</span><span class="sxs-lookup"><span data-stu-id="b8878-118">To have a screen saver display on all monitors, link with the latest version of Scrnsave.lib.</span></span> <span data-ttu-id="b8878-119">Dans le cas contraire, l’écran de veille peut uniquement apparaître sur le moniteur principal et ne pas toucher aux autres moniteurs.</span><span class="sxs-lookup"><span data-stu-id="b8878-119">Otherwise, the screen saver may only appear on the primary monitor and leave the other monitors untouched.</span></span> <span data-ttu-id="b8878-120">Les économiseurs d’écran liés à la dernière version de scrnsave. lib fonctionnent sur les systèmes à écran unique et multiple.</span><span class="sxs-lookup"><span data-stu-id="b8878-120">Screen savers linked with the latest Scrnsave.lib will work on both single and multiple monitor systems.</span></span> <span data-ttu-id="b8878-121">Pour avoir un autre écran de veille sur chaque moniteur, utilisez les fonctions d’analyse multiples pour gérer séparément chaque analyse.</span><span class="sxs-lookup"><span data-stu-id="b8878-121">To have a different screen saver on each monitor, use the multiple monitor functions to handle each monitor separately.</span></span>

<span data-ttu-id="b8878-122">Les périphériques d’entrée qui fournissent des coordonnées au système en coordonnées absolues, telles que les tablettes, ont leur entrée de curseur limitée à l’analyse principale.</span><span class="sxs-lookup"><span data-stu-id="b8878-122">Input devices that deliver coordinates to the system in absolute coordinates, such as tablets, have their cursor input restricted to the primary monitor.</span></span> <span data-ttu-id="b8878-123">Pour basculer entre les moniteurs, consultez les instructions du fabricant d’ordinateurs OEM.</span><span class="sxs-lookup"><span data-stu-id="b8878-123">To switch tablet input between monitors, see the instructions from the OEM.</span></span>

<span data-ttu-id="b8878-124">Pour mapper l’entrée de la souris qui est envoyée en coordonnées absolues à l’écran virtuel entier, utilisez la structure [**d’entrée**](/windows/win32/api/winuser/ns-winuser-input) avec MOUSEEVENTF \_ Absolute et MOUSEEVENTF \_ VIRTUALDESKTOP.</span><span class="sxs-lookup"><span data-stu-id="b8878-124">To map mouse input that is sent in absolute coordinates to the entire virtual screen, use the [**INPUT**](/windows/win32/api/winuser/ns-winuser-input) structure with MOUSEEVENTF\_ABSOLUTE and MOUSEEVENTF\_VIRTUALDESKTOP.</span></span>

<span data-ttu-id="b8878-125">La fonction [**BitBlt**](/windows/desktop/api/Wingdi/nf-wingdi-bitblt) fonctionne bien pour les systèmes à plusieurs écrans.</span><span class="sxs-lookup"><span data-stu-id="b8878-125">The [**BitBlt**](/windows/desktop/api/Wingdi/nf-wingdi-bitblt) function works well for multiple monitor systems.</span></span> <span data-ttu-id="b8878-126">Toutefois, les fonctions [**MaskBlt**](/windows/desktop/api/Wingdi/nf-wingdi-maskblt), [**PlgBlt**](/windows/desktop/api/Wingdi/nf-wingdi-plgblt), [**StretchBlt**](/windows/desktop/api/Wingdi/nf-wingdi-stretchblt)et [**TransparentBlt**](/windows/desktop/api/WinGdi/nf-wingdi-transparentblt) échouent si les contextes de périphérique source et de destination sont différents.</span><span class="sxs-lookup"><span data-stu-id="b8878-126">However, the [**MaskBlt**](/windows/desktop/api/Wingdi/nf-wingdi-maskblt), [**PlgBlt**](/windows/desktop/api/Wingdi/nf-wingdi-plgblt), [**StretchBlt**](/windows/desktop/api/Wingdi/nf-wingdi-stretchblt), and [**TransparentBlt**](/windows/desktop/api/WinGdi/nf-wingdi-transparentblt) functions will fail if the source and destination device contexts are different.</span></span>

 

 
