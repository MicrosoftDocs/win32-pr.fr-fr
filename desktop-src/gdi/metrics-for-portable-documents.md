---
description: Le tableau suivant spécifie les métriques de police les plus importantes pour les applications qui nécessitent des documents portables et les fonctions qui permettent à une application de les récupérer.
ms.assetid: 61f6d244-7397-42af-af58-0ab9d07bf19e
title: Mesures pour les documents portables
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9c840b1b8e8014086b97098a44890f170a6bd11d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104972650"
---
# <a name="metrics-for-portable-documents"></a><span data-ttu-id="31661-103">Mesures pour les documents portables</span><span class="sxs-lookup"><span data-stu-id="31661-103">Metrics for Portable Documents</span></span>

<span data-ttu-id="31661-104">Le tableau suivant spécifie les métriques de police les plus importantes pour les applications qui nécessitent des documents portables et les fonctions qui permettent à une application de les récupérer.</span><span class="sxs-lookup"><span data-stu-id="31661-104">The following table specifies the most important font metrics for applications that require portable documents and the functions that allow an application to retrieve them.</span></span>



| <span data-ttu-id="31661-105">Fonction</span><span class="sxs-lookup"><span data-stu-id="31661-105">Function</span></span>                                               | <span data-ttu-id="31661-106">Métrique</span><span class="sxs-lookup"><span data-stu-id="31661-106">Metric</span></span>                | <span data-ttu-id="31661-107">Utilisation</span><span class="sxs-lookup"><span data-stu-id="31661-107">Use</span></span>                                                                                                          |
|--------------------------------------------------------|-----------------------|--------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="31661-108">**EnumFontFamilies**</span><span class="sxs-lookup"><span data-stu-id="31661-108">**EnumFontFamilies**</span></span>](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa)           | <span data-ttu-id="31661-109">**ntmSizeEM**</span><span class="sxs-lookup"><span data-stu-id="31661-109">**ntmSizeEM**</span></span>         | <span data-ttu-id="31661-110">Récupération des métriques de conception ; conversion en métriques de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="31661-110">Retrieval of design metrics; conversion to device metrics.</span></span>                                                   |
| [<span data-ttu-id="31661-111">**GetCharABCWidths**</span><span class="sxs-lookup"><span data-stu-id="31661-111">**GetCharABCWidths**</span></span>](/windows/desktop/api/Wingdi/nf-wingdi-getcharabcwidthsa)           | <span data-ttu-id="31661-112">**ABCWidths**</span><span class="sxs-lookup"><span data-stu-id="31661-112">**ABCWidths**</span></span>         | <span data-ttu-id="31661-113">Positionnement précis des caractères au début et à la fin des marges, des limites de l’image et d’autres sauts de texte.</span><span class="sxs-lookup"><span data-stu-id="31661-113">Accurate placement of characters at the start and end of margins, picture boundaries, and other text breaks.</span></span> |
| [<span data-ttu-id="31661-114">**GetCharWidth32**</span><span class="sxs-lookup"><span data-stu-id="31661-114">**GetCharWidth32**</span></span>](/windows/desktop/api/Wingdi/nf-wingdi-getcharwidth32a)               | <span data-ttu-id="31661-115">**AdvanceWidths**</span><span class="sxs-lookup"><span data-stu-id="31661-115">**AdvanceWidths**</span></span>     | <span data-ttu-id="31661-116">Positionnement des caractères sur une ligne.</span><span class="sxs-lookup"><span data-stu-id="31661-116">Placement of characters on a line.</span></span>                                                                           |
| [<span data-ttu-id="31661-117">**GetOutlineTextMetrics**</span><span class="sxs-lookup"><span data-stu-id="31661-117">**GetOutlineTextMetrics**</span></span>](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) | <span data-ttu-id="31661-118">**otmfsType**</span><span class="sxs-lookup"><span data-stu-id="31661-118">**otmfsType**</span></span>         | <span data-ttu-id="31661-119">Bits d’incorporation de police.</span><span class="sxs-lookup"><span data-stu-id="31661-119">Font-embedding bits.</span></span>                                                                                         |
|                                                        | <span data-ttu-id="31661-120">**otmsCharSlopeRise**</span><span class="sxs-lookup"><span data-stu-id="31661-120">**otmsCharSlopeRise**</span></span> | <span data-ttu-id="31661-121">Composant Y pour la pente du curseur pour les polices italiques.</span><span class="sxs-lookup"><span data-stu-id="31661-121">Y-component for slope of cursor for italic fonts.</span></span>                                                            |
|                                                        | <span data-ttu-id="31661-122">**otmsCharSlopeRun**</span><span class="sxs-lookup"><span data-stu-id="31661-122">**otmsCharSlopeRun**</span></span>  | <span data-ttu-id="31661-123">Composant X pour la pente du curseur pour les polices en italique.</span><span class="sxs-lookup"><span data-stu-id="31661-123">X-component for slope of cursor for italic fonts.</span></span>                                                            |
|                                                        | <span data-ttu-id="31661-124">**otmAscent**</span><span class="sxs-lookup"><span data-stu-id="31661-124">**otmAscent**</span></span>         | <span data-ttu-id="31661-125">Interligne.</span><span class="sxs-lookup"><span data-stu-id="31661-125">Line spacing.</span></span>                                                                                                |
|                                                        | <span data-ttu-id="31661-126">**otmDescent**</span><span class="sxs-lookup"><span data-stu-id="31661-126">**otmDescent**</span></span>        | <span data-ttu-id="31661-127">Interligne.</span><span class="sxs-lookup"><span data-stu-id="31661-127">Line spacing.</span></span>                                                                                                |
|                                                        | <span data-ttu-id="31661-128">**otmLineGap**</span><span class="sxs-lookup"><span data-stu-id="31661-128">**otmLineGap**</span></span>        | <span data-ttu-id="31661-129">Interligne.</span><span class="sxs-lookup"><span data-stu-id="31661-129">Line spacing.</span></span>                                                                                                |
|                                                        | <span data-ttu-id="31661-130">**otmpFamilyName**</span><span class="sxs-lookup"><span data-stu-id="31661-130">**otmpFamilyName**</span></span>    | <span data-ttu-id="31661-131">Identification de la police.</span><span class="sxs-lookup"><span data-stu-id="31661-131">Font identification.</span></span>                                                                                         |
|                                                        | <span data-ttu-id="31661-132">**otmpStyleName**</span><span class="sxs-lookup"><span data-stu-id="31661-132">**otmpStyleName**</span></span>     | <span data-ttu-id="31661-133">Identification de la police.</span><span class="sxs-lookup"><span data-stu-id="31661-133">Font identification.</span></span>                                                                                         |
|                                                        | <span data-ttu-id="31661-134">**otmpFullName**</span><span class="sxs-lookup"><span data-stu-id="31661-134">**otmpFullName**</span></span>      | <span data-ttu-id="31661-135">Identification des polices (généralement, nom de famille et de style).</span><span class="sxs-lookup"><span data-stu-id="31661-135">Font identification (typically, family and style name).</span></span>                                                      |



 

<span data-ttu-id="31661-136">Les membres **otmsCharSlopeRise**, **otmsCharSlopeRun**, **otmAscent**, **otmDescent** et **otmLineGap** de la structure [OUTLINETEXTMETRIC](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) sont mis à l’échelle ou transformés pour correspondre au mode d’appareil actuel et à la hauteur physique (comme spécifié dans le membre **tmHeight** de la structure [NEWTEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) ).</span><span class="sxs-lookup"><span data-stu-id="31661-136">The **otmsCharSlopeRise**, **otmsCharSlopeRun**, **otmAscent**, **otmDescent**, and **otmLineGap** members of the [OUTLINETEXTMETRIC](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) structure are scaled or transformed to correspond to the current device mode and physical height (as specified in the **tmHeight** member of the [NEWTEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) structure).</span></span>

<span data-ttu-id="31661-137">L’identification des polices est importante dans les cas où une application doit sélectionner la même police, par exemple lorsqu’un document est rouvert ou déplacé vers un autre système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="31661-137">Font identification is important in those instances when an application must select the same font, for example, when a document is reopened or moved to a different operating system.</span></span> <span data-ttu-id="31661-138">Le mappeur de polices sélectionne toujours la police correcte lorsqu’une application demande une police par son nom complet.</span><span class="sxs-lookup"><span data-stu-id="31661-138">The font mapper always selects the correct font when an application requests a font by full name.</span></span> <span data-ttu-id="31661-139">Les noms de famille et de style fournissent une entrée à la boîte de dialogue police standard, qui garantit que les barres de sélection sont placées correctement.</span><span class="sxs-lookup"><span data-stu-id="31661-139">The family and style names provide input to the standard font dialog box, which ensures that the selection bars are properly placed.</span></span>

<span data-ttu-id="31661-140">Les valeurs **otmsCharSlopeRise** et **otmsCharSlopeRun** sont utilisées pour produire une approximation proche de l’angle d’italique principal de la police.</span><span class="sxs-lookup"><span data-stu-id="31661-140">The **otmsCharSlopeRise** and **otmsCharSlopeRun** values are used to produce a close approximation of the main italic angle of the font.</span></span> <span data-ttu-id="31661-141">Pour les polices romanes standard, **otmsCharSlopeRise** est 1 et **otmsCharSlopeRun** est égal à 0.</span><span class="sxs-lookup"><span data-stu-id="31661-141">For typical roman fonts, **otmsCharSlopeRise** is 1 and **otmsCharSlopeRun** is 0.</span></span> <span data-ttu-id="31661-142">Pour les polices en italique, les valeurs tentent de rapprocher le sinus et le cosinus de l’angle d’italique principal de la police (dans les degrés gauches après la barre verticale); Notez que l’angle italique pour les polices verticales est 0.</span><span class="sxs-lookup"><span data-stu-id="31661-142">For italic fonts, the values attempt to approximate the sine and cosine of the main italic angle of the font (in counterclockwise degrees past vertical); note that the italic angle for upright fonts is 0.</span></span> <span data-ttu-id="31661-143">Comme ces valeurs ne sont pas exprimées en unités de conception, elles ne doivent pas être converties en unités de périphérique.</span><span class="sxs-lookup"><span data-stu-id="31661-143">Because these values are not expressed in design units, they should not be converted into device units.</span></span>

<span data-ttu-id="31661-144">Les métriques d’emplacement des caractères et d’interligne permettent à une application de calculer des sauts de ligne indépendants du périphérique, portables sur des écrans, des imprimantes, des typesetters et même des plates-formes.</span><span class="sxs-lookup"><span data-stu-id="31661-144">The character placement and line spacing metrics enable an application to compute device-independent line breaks that are portable across screens, printers, typesetters, and even platforms.</span></span>

<span data-ttu-id="31661-145">**Pour effectuer une mise en page indépendante du périphérique**</span><span class="sxs-lookup"><span data-stu-id="31661-145">**To perform device-independent page layout**</span></span>

1.  <span data-ttu-id="31661-146">Normaliser toutes les mesures de conception sur une valeur de haute résolution UHR (par exemple, 65 536 PPP); Cela empêche les erreurs d’arrondi.</span><span class="sxs-lookup"><span data-stu-id="31661-146">Normalize all design metrics to a common ultra-high resolution (UHR) value (for example, 65,536 DPI); this prevents round-off errors.</span></span>
2.  <span data-ttu-id="31661-147">Sauts de ligne de calcul en fonction des métriques UHR et de la largeur de page physique ; Cela donne un point de départ et un point de fin d’une ligne dans le flux de texte.</span><span class="sxs-lookup"><span data-stu-id="31661-147">Compute line breaks based on UHR metrics and physical page width; this yields a starting point and an ending point of a line within the text stream.</span></span>
3.  <span data-ttu-id="31661-148">Calculez la largeur de page de l’appareil en unités d’appareil (par exemple, pixels).</span><span class="sxs-lookup"><span data-stu-id="31661-148">Compute the device page width in device units (for example, pixels).</span></span>
4.  <span data-ttu-id="31661-149">Ajuster chaque ligne de texte à la largeur de la page de l’appareil à l’aide des sauts de ligne calculés à l’étape 2.</span><span class="sxs-lookup"><span data-stu-id="31661-149">Fit each line of text into the device page width, using the line breaks computed in step 2.</span></span>
5.  <span data-ttu-id="31661-150">Calculez les sauts de page à l’aide des métriques UHR et de la longueur de page physique ; le nombre de lignes par page est ainsi généré.</span><span class="sxs-lookup"><span data-stu-id="31661-150">Compute page breaks by using UHR metrics and the physical page length; this yields the number of lines per page.</span></span>
6.  <span data-ttu-id="31661-151">Calculez les hauteurs de ligne en unités de périphérique.</span><span class="sxs-lookup"><span data-stu-id="31661-151">Compute the line heights in device units.</span></span>
7.  <span data-ttu-id="31661-152">Ajustez les lignes de texte sur la page, en utilisant les lignes par page de l’étape 5 et les hauteurs de ligne de l’étape 6.</span><span class="sxs-lookup"><span data-stu-id="31661-152">Fit the lines of text onto the page, using the lines per page from step 5 and the line heights from step 6.</span></span>

<span data-ttu-id="31661-153">Si toutes les applications adoptent ces techniques, les développeurs peuvent quasiment garantir que les documents déplacés d’une application à l’autre conserveront leur apparence et leur format d’origine.</span><span class="sxs-lookup"><span data-stu-id="31661-153">If all applications adopt these techniques, developers can virtually guarantee that documents moved from one application to another will retain their original appearance and format.</span></span>

 

 



