---
description: Types d’en-tête de bitmap
ms.assetid: 6df4655a-f707-4893-b6e6-f7e4d7f67b4e
title: Types d’en-tête de bitmap
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5910b0fb5be1166e807db1f3362186a206abc2b7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103863689"
---
# <a name="bitmap-header-types"></a><span data-ttu-id="fc893-103">Types d’en-tête de bitmap</span><span class="sxs-lookup"><span data-stu-id="fc893-103">Bitmap Header Types</span></span>

<span data-ttu-id="fc893-104">La bitmap possède quatre types d’en-tête de base :</span><span class="sxs-lookup"><span data-stu-id="fc893-104">The bitmap has four basic header types:</span></span>

-   [<span data-ttu-id="fc893-105">**BITMAPCOREHEADER**</span><span class="sxs-lookup"><span data-stu-id="fc893-105">**BITMAPCOREHEADER**</span></span>](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader)
-   <span data-ttu-id="fc893-106">[**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="fc893-106">[**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85))</span></span>
-   [<span data-ttu-id="fc893-107">**BITMAPV4HEADER**</span><span class="sxs-lookup"><span data-stu-id="fc893-107">**BITMAPV4HEADER**</span></span>](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header)
-   [<span data-ttu-id="fc893-108">**BITMAPV5HEADER**</span><span class="sxs-lookup"><span data-stu-id="fc893-108">**BITMAPV5HEADER**</span></span>](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header)

<span data-ttu-id="fc893-109">Les quatre types d’en-têtes de bitmap sont différenciés par le membre **Size** , qui est le premier **DWORD** dans chacune des structures.</span><span class="sxs-lookup"><span data-stu-id="fc893-109">The four types of bitmap headers are differentiated by the **Size** member, which is the first **DWORD** in each of the structures.</span></span>

<span data-ttu-id="fc893-110">La structure [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) est une structure [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) étendue, qui est une structure [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) étendue.</span><span class="sxs-lookup"><span data-stu-id="fc893-110">The [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structure is an extended [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) structure, which is an extended [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) structure.</span></span> <span data-ttu-id="fc893-111">Toutefois, **BITMAPINFOHEADER** et [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) ont uniquement le membre **Size** en commun avec d’autres structures d’en-tête bitmap.</span><span class="sxs-lookup"><span data-stu-id="fc893-111">However, the **BITMAPINFOHEADER** and [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) have only the **Size** member in common with other bitmap header structures.</span></span>

<span data-ttu-id="fc893-112">Les formats [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) et [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) ont été remplacés par les formats [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) et [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) , respectivement.</span><span class="sxs-lookup"><span data-stu-id="fc893-112">The [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) and [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) formats have been superseded by [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) and [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) formats, respectively.</span></span> <span data-ttu-id="fc893-113">Les formats **BITMAPCOREHEADER** et **BITMAPV4HEADER** sont présentés pour des raisons d’exhaustivité et de compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="fc893-113">The **BITMAPCOREHEADER** and **BITMAPV4HEADER** formats are presented for completeness and backward compatibility.</span></span>

<span data-ttu-id="fc893-114">Le format d’un fichier DIB est le suivant (pour plus d’informations, consultez [stockage bitmap](bitmap-storage.md) ) :</span><span class="sxs-lookup"><span data-stu-id="fc893-114">The format for a DIB is the following (for more information, see [Bitmap Storage](bitmap-storage.md) ):</span></span>

-   <span data-ttu-id="fc893-115">une structure [**BITMAPFILEHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapfileheader)</span><span class="sxs-lookup"><span data-stu-id="fc893-115">a [**BITMAPFILEHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapfileheader) structure</span></span>
-   <span data-ttu-id="fc893-116">une structure [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader), [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header)ou [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) .</span><span class="sxs-lookup"><span data-stu-id="fc893-116">either a [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader), a [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), a [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header), or a [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structure.</span></span>
-   <span data-ttu-id="fc893-117">une table de couleurs facultative, qui est soit un ensemble de structures [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) , soit un ensemble de structures [**RGBTRIPLE**](/windows/win32/api/wingdi/ns-wingdi-rgbtriple) .</span><span class="sxs-lookup"><span data-stu-id="fc893-117">an optional color table, which is either a set of [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) structures or a set of [**RGBTRIPLE**](/windows/win32/api/wingdi/ns-wingdi-rgbtriple) structures.</span></span>
-   <span data-ttu-id="fc893-118">données bitmap</span><span class="sxs-lookup"><span data-stu-id="fc893-118">the bitmap data</span></span>
-   <span data-ttu-id="fc893-119">données de profil facultatives</span><span class="sxs-lookup"><span data-stu-id="fc893-119">optional Profile data</span></span>

<span data-ttu-id="fc893-120">Une table des couleurs décrit comment les valeurs de pixel correspondent aux valeurs de couleur RVB.</span><span class="sxs-lookup"><span data-stu-id="fc893-120">A color table describes how pixel values correspond to RGB color values.</span></span> <span data-ttu-id="fc893-121">RGB est un modèle permettant de décrire les couleurs produites en émettant de la lumière.</span><span class="sxs-lookup"><span data-stu-id="fc893-121">RGB is a model for describing colors that are produced by emitting light.</span></span>

<span data-ttu-id="fc893-122">Les *données de profil* font référence au nom du fichier de profil (profil lié) ou aux bits du profil réel (profil incorporé).</span><span class="sxs-lookup"><span data-stu-id="fc893-122">*Profile data* refers to either the profile file name (linked profile) or the actual profile bits (embedded profile).</span></span> <span data-ttu-id="fc893-123">Le format de fichier place les données de profil à la fin du fichier.</span><span class="sxs-lookup"><span data-stu-id="fc893-123">The file format places the profile data at the end of the file.</span></span> <span data-ttu-id="fc893-124">Les données de profil sont placées juste après la table des couleurs (le cas échéant).</span><span class="sxs-lookup"><span data-stu-id="fc893-124">The profile data is placed just after the color table (if present).</span></span> <span data-ttu-id="fc893-125">Toutefois, si la fonction reçoit un DIB compressé, les données de profil sont placées après les bits de la bitmap, comme dans le format de fichier.</span><span class="sxs-lookup"><span data-stu-id="fc893-125">However, if the function receives a packed DIB, the profile data comes after the bitmap bits, like in the file format.</span></span>

<span data-ttu-id="fc893-126">Les données de profil existent uniquement pour les structures [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) où **BV5CSTYPE** est un profil \_ lié ou un profil \_ incorporé.</span><span class="sxs-lookup"><span data-stu-id="fc893-126">Profile data will only exist for [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structures where **bV5CSType** is PROFILE\_LINKED or PROFILE\_EMBEDDED.</span></span> <span data-ttu-id="fc893-127">Pour les fonctions qui reçoivent des DIB compactés, les données de profil sont placées après les données bitmap.</span><span class="sxs-lookup"><span data-stu-id="fc893-127">For functions that receive packed DIBs, the profile data comes after the bitmap data.</span></span>

<span data-ttu-id="fc893-128">Un appareil en palette est un appareil qui utilise des palettes pour affecter des couleurs.</span><span class="sxs-lookup"><span data-stu-id="fc893-128">A palettized device is any device that uses palettes to assign colors.</span></span> <span data-ttu-id="fc893-129">L’exemple classique d’un appareil en palette est un affichage s’exécutant sur une profondeur de couleur de 8 bits (c’est-à-dire 256 couleurs).</span><span class="sxs-lookup"><span data-stu-id="fc893-129">The classic example of a palettized device is a display running in 8 bit color depth (that is, 256 colors).</span></span> <span data-ttu-id="fc893-130">L’affichage dans ce mode utilise une petite table de couleurs pour assigner des couleurs à une image bitmap.</span><span class="sxs-lookup"><span data-stu-id="fc893-130">The display in this mode uses a small color table to assign colors to a bitmap.</span></span> <span data-ttu-id="fc893-131">Les couleurs d’une bitmap sont affectées à la couleur la plus proche dans la palette que l’appareil utilise.</span><span class="sxs-lookup"><span data-stu-id="fc893-131">The colors in a bitmap are assigned to the closest color in the palette that the device is using.</span></span> <span data-ttu-id="fc893-132">L’appareil en palette ne crée pas de palette optimale pour l’affichage de l’image bitmap. elle utilise simplement tout ce qui se trouve dans la palette actuelle.</span><span class="sxs-lookup"><span data-stu-id="fc893-132">The palettized device does not create an optimal palette for displaying the bitmap; it simply uses whatever is in the current palette.</span></span> <span data-ttu-id="fc893-133">Les applications sont chargées de créer une palette et de la sélectionner dans le système.</span><span class="sxs-lookup"><span data-stu-id="fc893-133">Applications are responsible for creating a palette and selecting it into the system.</span></span> <span data-ttu-id="fc893-134">En général, les bitmaps 16, 24 et 32 bits par pixel (BPP) ne contiennent pas de tables de couleurs (également appelé</span><span class="sxs-lookup"><span data-stu-id="fc893-134">In general, 16-, 24-, and 32-bits-per-pixel (bpp) bitmaps do not contain color tables (a.k.a.</span></span> <span data-ttu-id="fc893-135">palettes optimales pour la bitmap); dans ce cas, l’application est responsable de la génération d’une palette optimale.</span><span class="sxs-lookup"><span data-stu-id="fc893-135">optimal palettes for the bitmap); the application is responsible for generating a optimal palette in this case.</span></span> <span data-ttu-id="fc893-136">Toutefois, les bitmaps 16, 24 et 32-BPP peuvent contenir des tables de couleurs optimales pour l’affichage sur les appareils en palette. dans ce cas, l’application doit simplement créer une palette basée sur la table de couleurs présente dans le fichier bitmap.</span><span class="sxs-lookup"><span data-stu-id="fc893-136">However, 16-, 24-, and 32-bpp bitmaps can contain such optimal color tables for displaying on palettized devices; in this case the application just needs to create a palette based off the color table present in the bitmap file.</span></span>

<span data-ttu-id="fc893-137">Les bitmaps de 1, 4 ou 8 BPP doivent avoir une table des couleurs avec une taille maximale basée sur les BPP.</span><span class="sxs-lookup"><span data-stu-id="fc893-137">Bitmaps that are 1, 4, or 8 bpp must have a color table with a maximum size based on the bpp.</span></span> <span data-ttu-id="fc893-138">La taille maximale pour les bitmaps 1, 4 et 8 bpp est 2 à la puissance des BPP.</span><span class="sxs-lookup"><span data-stu-id="fc893-138">The maximum size for 1, 4, and 8 bpp bitmaps is 2 to the power of the bpp.</span></span> <span data-ttu-id="fc893-139">Par conséquent, une image bitmap de 1 BPP a un maximum de deux couleurs, la bitmap de 4 BPP a un maximum de 16 couleurs, et la bitmap de 8 BPP a un maximum de 256 couleurs.</span><span class="sxs-lookup"><span data-stu-id="fc893-139">Thus, a 1 bpp bitmap has a maximum of two colors, the 4 bpp bitmap has a maximum of 16 colors, and the 8 bpp bitmap has a maximum of 256 colors.</span></span>

<span data-ttu-id="fc893-140">Les bitmaps de 16, 24 ou 32-BPP ne nécessitent pas de tables de couleurs, mais elles peuvent spécifier des couleurs pour les appareils en palette.</span><span class="sxs-lookup"><span data-stu-id="fc893-140">Bitmaps that are 16-, 24-, or 32-bpp do not require color tables, but may have them to specify colors for palettized devices.</span></span> <span data-ttu-id="fc893-141">Si une table des couleurs est présente pour une image bitmap 16, 24 ou 32-BPP, le membre **biClrUsed** spécifie la taille de la table des couleurs et la table des couleurs doit avoir autant de couleurs.</span><span class="sxs-lookup"><span data-stu-id="fc893-141">If a color table is present for 16-, 24-, or 32-bpp bitmap, the **biClrUsed** member specifies the size of the color table and the color table must have that many colors in it.</span></span> <span data-ttu-id="fc893-142">Si **biClrUsed** est égal à zéro, il n’y a aucune table de couleurs.</span><span class="sxs-lookup"><span data-stu-id="fc893-142">If **biClrUsed** is zero, there is no color table.</span></span>

<span data-ttu-id="fc893-143">Les masques de champ rouge, vert et bleu pour les \_ bitmaps de champ de binaire bi suivent immédiatement les structures [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header)et [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) .</span><span class="sxs-lookup"><span data-stu-id="fc893-143">The red, green, and blue bitfield masks for BI\_BITFIELD bitmaps immediately follow the [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header), and [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structures.</span></span> <span data-ttu-id="fc893-144">Les structures **BITMAPV4HEADER** et **BITMAPV5HEADER** contiennent des membres supplémentaires pour les masques rouge, vert et bleu, comme suit.</span><span class="sxs-lookup"><span data-stu-id="fc893-144">The **BITMAPV4HEADER** and **BITMAPV5HEADER** structures contain additional members for red, green, and blue masks as follows.</span></span>



| <span data-ttu-id="fc893-145">Membre</span><span class="sxs-lookup"><span data-stu-id="fc893-145">Member</span></span>        | <span data-ttu-id="fc893-146">Signification</span><span class="sxs-lookup"><span data-stu-id="fc893-146">Meaning</span></span>                                                                                                                        |
|---------------|--------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="fc893-147">**RedMask**</span><span class="sxs-lookup"><span data-stu-id="fc893-147">**RedMask**</span></span>   | <span data-ttu-id="fc893-148">Masque de couleur qui spécifie le composant rouge de chaque pixel, valide uniquement si le membre de compression est défini sur des champs de **compression** bi \_ .</span><span class="sxs-lookup"><span data-stu-id="fc893-148">Color mask that specifies the red component of each pixel, valid only if the **Compression** member is set to BI\_BITFIELDS.</span></span>   |
| <span data-ttu-id="fc893-149">**GreenMask**</span><span class="sxs-lookup"><span data-stu-id="fc893-149">**GreenMask**</span></span> | <span data-ttu-id="fc893-150">Masque de couleur qui spécifie le composant vert de chaque pixel, valide uniquement si le membre de compression est défini sur des champs de **compression** bi \_ .</span><span class="sxs-lookup"><span data-stu-id="fc893-150">Color mask that specifies the green component of each pixel, valid only if the **Compression** member is set to BI\_BITFIELDS.</span></span> |
| <span data-ttu-id="fc893-151">**BlueMask**</span><span class="sxs-lookup"><span data-stu-id="fc893-151">**BlueMask**</span></span>  | <span data-ttu-id="fc893-152">Masque de couleur qui spécifie le composant bleu de chaque pixel, valide uniquement si le membre de compression est défini sur des champs de **compression** bi \_ .</span><span class="sxs-lookup"><span data-stu-id="fc893-152">Color mask that specifies the blue component of each pixel, valid only if the **Compression** member is set to BI\_BITFIELDS.</span></span>  |



 

<span data-ttu-id="fc893-153">Lorsque le membre de **bicompression** de [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) est défini sur des champs bi bi \_ et que la fonction reçoit un argument de type **LPBITMAPINFO**, les masques de couleur suivent immédiatement l’en-tête.</span><span class="sxs-lookup"><span data-stu-id="fc893-153">When the **biCompression** member of [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) is set to BI\_BITFIELDS and the function receives an argument of type **LPBITMAPINFO**, the color masks will immediately follow the header.</span></span> <span data-ttu-id="fc893-154">La table des couleurs, le cas échéant, suivra les masques de couleur.</span><span class="sxs-lookup"><span data-stu-id="fc893-154">The color table, if present, will follow the color masks.</span></span> <span data-ttu-id="fc893-155">Les bitmaps [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) ne prennent pas en charge les masques de couleur.</span><span class="sxs-lookup"><span data-stu-id="fc893-155">[**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) bitmaps do not support color masks.</span></span>

<span data-ttu-id="fc893-156">Par défaut, les données bitmap sont en bas au format.</span><span class="sxs-lookup"><span data-stu-id="fc893-156">By default, bitmap data is bottom-up in its format.</span></span> <span data-ttu-id="fc893-157">Bas-haut signifie que la première ligne d’analyse des données de la bitmap est la dernière ligne de numérisation à afficher.</span><span class="sxs-lookup"><span data-stu-id="fc893-157">Bottom-up means that the first scan line in the bitmap data is the last scan line to be displayed.</span></span> <span data-ttu-id="fc893-158">Par exemple, le 0<sup>ième</sup> pixel de la ligne d’analyse 0<sup>ième</sup> des données bitmap d’une bitmap de 10 pixels par 10 pixels correspond au 0<sup>ème</sup> pixel de la ligne de numérisation<sup>9 de</sup> l’image affichée ou imprimée.</span><span class="sxs-lookup"><span data-stu-id="fc893-158">For example, the 0<sup>th</sup> pixel of the 0<sup>th</sup> scan line of the bitmap data of a 10-pixel by 10-pixel bitmap will be the 0<sup>th</sup> pixel of the 9<sup>th</sup> scan line of the displayed or printed image.</span></span> <span data-ttu-id="fc893-159">Les bitmaps de format encodés en mode d’exécution (RLE) et les bitmaps [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) ne peuvent pas être des bitmaps de haut en haut.</span><span class="sxs-lookup"><span data-stu-id="fc893-159">Run-length encoded (RLE) format bitmaps and [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) bitmaps cannot be top-down bitmaps.</span></span> <span data-ttu-id="fc893-160">Les lignes de numérisation sont alignées sur les **DWORD** , à l’exception des bitmaps RLE-compressés.</span><span class="sxs-lookup"><span data-stu-id="fc893-160">The scan lines are **DWORD** aligned, except for RLE-compressed bitmaps.</span></span> <span data-ttu-id="fc893-161">Ils doivent être remplis pour les largeurs de ligne d’analyse, en octets, qui ne sont pas divisibles par quatre, à l’exception des bitmaps RLE compressés.</span><span class="sxs-lookup"><span data-stu-id="fc893-161">They must be padded for scan line widths, in bytes, that are not evenly divisible by four, except for RLE compressed bitmaps.</span></span> <span data-ttu-id="fc893-162">Par exemple, une bitmap 10 par 10 pixels de 24 bits aura deux octets de remplissage à la fin de chaque ligne d’analyse.</span><span class="sxs-lookup"><span data-stu-id="fc893-162">For example, a 10- by 10-pixel 24-bpp bitmap will have two padding bytes at the end of each scan line.</span></span>

 

 
