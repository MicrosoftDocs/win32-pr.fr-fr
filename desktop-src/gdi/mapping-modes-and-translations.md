---
description: Les modes de mappage sont décrits dans le tableau suivant.
ms.assetid: 02bc45d1-2921-48bc-a066-2314765b6531
title: Modes de mappage et traductions
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 219bfe2f587ef9bc66f53d6f08404a0448180512
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104202030"
---
# <a name="mapping-modes-and-translations"></a><span data-ttu-id="d8d55-103">Modes de mappage et traductions</span><span class="sxs-lookup"><span data-stu-id="d8d55-103">Mapping Modes and Translations</span></span>

<span data-ttu-id="d8d55-104">Les modes de mappage sont décrits dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="d8d55-104">The mapping modes are described in the following table.</span></span>



| <span data-ttu-id="d8d55-105">Mode de mappage</span><span class="sxs-lookup"><span data-stu-id="d8d55-105">Mapping mode</span></span>    | <span data-ttu-id="d8d55-106">Description</span><span class="sxs-lookup"><span data-stu-id="d8d55-106">Description</span></span>                                                                                                                                                                                                                                                                                                                |
|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d8d55-107">MM \_ anisotrope</span><span class="sxs-lookup"><span data-stu-id="d8d55-107">MM\_ANISOTROPIC</span></span> | <span data-ttu-id="d8d55-108">Chaque unité de l’espace de page est mappée à une unité spécifiée par l’application dans l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-108">Each unit in page space is mapped to an application-specified unit in device space.</span></span> <span data-ttu-id="d8d55-109">L’axe peut être ou ne pas être mis à l’échelle de façon égale (par exemple, un cercle dessiné dans le monde peut apparaître comme une ellipse lorsqu’il est représenté sur un appareil donné).</span><span class="sxs-lookup"><span data-stu-id="d8d55-109">The axis may or may not be equally scaled (for example, a circle drawn in world space may appear to be an ellipse when depicted on a given device).</span></span> <span data-ttu-id="d8d55-110">L’orientation de l’axe est également spécifiée par l’application.</span><span class="sxs-lookup"><span data-stu-id="d8d55-110">The orientation of the axis is also specified by the application.</span></span>                  |
| <span data-ttu-id="d8d55-111">\_HIENGLISH mm</span><span class="sxs-lookup"><span data-stu-id="d8d55-111">MM\_HIENGLISH</span></span>   | <span data-ttu-id="d8d55-112">Chaque unité de l’espace de page est mappée à 0,001 de pouce dans l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-112">Each unit in page space is mapped to 0.001 inch in device space.</span></span> <span data-ttu-id="d8d55-113">La valeur de x augmente de gauche à droite.</span><span class="sxs-lookup"><span data-stu-id="d8d55-113">The value of x increases from left to right.</span></span> <span data-ttu-id="d8d55-114">La valeur de y augmente de bas en haut.</span><span class="sxs-lookup"><span data-stu-id="d8d55-114">The value of y increases from bottom to top.</span></span>                                                                                                                                                                 |
| <span data-ttu-id="d8d55-115">\_HIMETRIC mm</span><span class="sxs-lookup"><span data-stu-id="d8d55-115">MM\_HIMETRIC</span></span>    | <span data-ttu-id="d8d55-116">Chaque unité de l’espace de page est mappée à 0,01 millimètres dans l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-116">Each unit in page space is mapped to 0.01 millimeter in device space.</span></span> <span data-ttu-id="d8d55-117">La valeur de x augmente de gauche à droite.</span><span class="sxs-lookup"><span data-stu-id="d8d55-117">The value of x increases from left to right.</span></span> <span data-ttu-id="d8d55-118">La valeur de y augmente de bas en haut.</span><span class="sxs-lookup"><span data-stu-id="d8d55-118">The value of y increases from bottom to top.</span></span>                                                                                                                                                            |
| <span data-ttu-id="d8d55-119">MM \_ isotrope</span><span class="sxs-lookup"><span data-stu-id="d8d55-119">MM\_ISOTROPIC</span></span>   | <span data-ttu-id="d8d55-120">Chaque unité de l’espace de page est mappée à une unité définie par l’application dans l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-120">Each unit in page space is mapped to an application-defined unit in device space.</span></span> <span data-ttu-id="d8d55-121">Les axes sont toujours mis à l’échelle de manière égale.</span><span class="sxs-lookup"><span data-stu-id="d8d55-121">The axes are always equally scaled.</span></span> <span data-ttu-id="d8d55-122">L’orientation des axes peut être spécifiée par l’application.</span><span class="sxs-lookup"><span data-stu-id="d8d55-122">The orientation of the axes may be specified by the application.</span></span>                                                                                                                                     |
| <span data-ttu-id="d8d55-123">\_LOENGLISH mm</span><span class="sxs-lookup"><span data-stu-id="d8d55-123">MM\_LOENGLISH</span></span>   | <span data-ttu-id="d8d55-124">Chaque unité de l’espace de page est mappée à 0,01 de pouce dans l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-124">Each unit in page space is mapped to 0.01 inch in device space.</span></span> <span data-ttu-id="d8d55-125">La valeur de x augmente de gauche à droite.</span><span class="sxs-lookup"><span data-stu-id="d8d55-125">The value of x increases from left to right.</span></span> <span data-ttu-id="d8d55-126">La valeur de y augmente de bas en haut.</span><span class="sxs-lookup"><span data-stu-id="d8d55-126">The value of y increases from bottom to top.</span></span>                                                                                                                                                                  |
| <span data-ttu-id="d8d55-127">\_LOMETRIC mm</span><span class="sxs-lookup"><span data-stu-id="d8d55-127">MM\_LOMETRIC</span></span>    | <span data-ttu-id="d8d55-128">Chaque unité de l’espace de page est mappée à 0,1 millimètres dans l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-128">Each unit in page space is mapped to 0.1 millimeter in device space.</span></span> <span data-ttu-id="d8d55-129">La valeur de x augmente de gauche à droite.</span><span class="sxs-lookup"><span data-stu-id="d8d55-129">The value of x increases from left to right.</span></span> <span data-ttu-id="d8d55-130">La valeur de y augmente de bas en haut.</span><span class="sxs-lookup"><span data-stu-id="d8d55-130">The value of y increases from bottom to top.</span></span>                                                                                                                                                             |
| <span data-ttu-id="d8d55-131">\_texte mm</span><span class="sxs-lookup"><span data-stu-id="d8d55-131">MM\_TEXT</span></span>        | <span data-ttu-id="d8d55-132">Chaque unité de l’espace de page est mappée à un pixel ; autrement dit, aucune mise à l’échelle n’est effectuée.</span><span class="sxs-lookup"><span data-stu-id="d8d55-132">Each unit in page space is mapped to one pixel; that is, no scaling is performed at all.</span></span> <span data-ttu-id="d8d55-133">Si aucune traduction n’est en vigueur (il s’agit de la valeur par défaut), l’espace de page dans le mode de mappage de texte de MM \_ équivaut à l’espace de l’appareil physique.</span><span class="sxs-lookup"><span data-stu-id="d8d55-133">When no translation is in effect (this is the default), page space in the MM\_TEXT mapping mode is equivalent to physical device space.</span></span> <span data-ttu-id="d8d55-134">La valeur de x augmente de gauche à droite.</span><span class="sxs-lookup"><span data-stu-id="d8d55-134">The value of x increases from left to right.</span></span> <span data-ttu-id="d8d55-135">La valeur de y augmente de haut en bas.</span><span class="sxs-lookup"><span data-stu-id="d8d55-135">The value of y increases from top to bottom.</span></span> |
| <span data-ttu-id="d8d55-136">MM \_ TWIPS</span><span class="sxs-lookup"><span data-stu-id="d8d55-136">MM\_TWIPS</span></span>       | <span data-ttu-id="d8d55-137">Chaque unité de l’espace de page est mappée à un vingtième du point de l’imprimante (1/1440 de pouce).</span><span class="sxs-lookup"><span data-stu-id="d8d55-137">Each unit in page space is mapped to one twentieth of a printer's point (1/1440 inch).</span></span> <span data-ttu-id="d8d55-138">La valeur de x augmente de gauche à droite.</span><span class="sxs-lookup"><span data-stu-id="d8d55-138">The value of x increases from left to right.</span></span> <span data-ttu-id="d8d55-139">La valeur de y augmente de bas en haut.</span><span class="sxs-lookup"><span data-stu-id="d8d55-139">The value of y increases from bottom to top.</span></span>                                                                                                                                           |



 

<span data-ttu-id="d8d55-140">Pour définir un mode de mappage, appelez la fonction [**SetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-setmapmode) .</span><span class="sxs-lookup"><span data-stu-id="d8d55-140">To set a mapping mode, call the [**SetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-setmapmode) function.</span></span> <span data-ttu-id="d8d55-141">Récupérez le mode de mappage actuel d’un contrôleur de périphérique en appelant la fonction [**GetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-getmapmode) .</span><span class="sxs-lookup"><span data-stu-id="d8d55-141">Retrieve the current mapping mode for a DC by calling the [**GetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-getmapmode) function.</span></span>

<span data-ttu-id="d8d55-142">Les transformations de l’espace de page aux espaces de l’appareil se composent de valeurs calculées à partir des points donnés par la fenêtre et la fenêtre d’affichage.</span><span class="sxs-lookup"><span data-stu-id="d8d55-142">The page-space to device-space transformations consist of values calculated from the points given by the window and viewport.</span></span> <span data-ttu-id="d8d55-143">Dans ce contexte, la fenêtre fait référence au système de coordonnées logiques de l’espace de la page, tandis que la fenêtre d’affichage fait référence au système de coordonnées de l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-143">In this context, the window refers to the logical coordinate system of the page space, while the viewport refers to the device coordinate system of the device space.</span></span> <span data-ttu-id="d8d55-144">La fenêtre et la fenêtre d’affichage comprennent chacune une origine, une étendue horizontale (« x ») et une étendue verticale (« y »).</span><span class="sxs-lookup"><span data-stu-id="d8d55-144">The window and viewport each consist of an origin, a horizontal ("x") extent, and a vertical ("y") extent).</span></span> <span data-ttu-id="d8d55-145">Les paramètres de fenêtre sont en coordonnées logiques. la fenêtre d’affichage en coordonnées de périphérique (pixels).</span><span class="sxs-lookup"><span data-stu-id="d8d55-145">The window parameters are in logical coordinates; the viewport in device coordinates (pixels).</span></span> <span data-ttu-id="d8d55-146">Le système combine les origines et les étendues de la fenêtre et de la fenêtre d’affichage pour créer la transformation.</span><span class="sxs-lookup"><span data-stu-id="d8d55-146">The system combines the origins and extents from both the window and viewport to create the transformation.</span></span> <span data-ttu-id="d8d55-147">Cela signifie que la fenêtre et la fenêtre d’affichage spécifient chacune la moitié des facteurs nécessaires à la définition de la transformation utilisée pour mapper les points de l’espace de page à l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-147">This means that the window and viewport each specify half of the factors needed to define the transformation used to map points in page space to device space.</span></span> <span data-ttu-id="d8d55-148">Ainsi, le système mappe l’origine de la fenêtre à l’origine de la fenêtre d’affichage et les étendues de fenêtre aux étendues de la fenêtre d’affichage, comme indiqué dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="d8d55-148">Thus, the system maps the window origin to the viewport origin and the window extents to the viewport extents, as shown in the following illustration.</span></span>

![Illustration montrant une origine de fenêtre dans l’espace de page et une origine de point de vue dans l’espace de l’appareil](images/cstrn-15.png)

<span data-ttu-id="d8d55-150">Les extensions de fenêtre et de fenêtre d’affichage établissent un ratio ou un facteur d’échelle utilisé dans les transformations de l’espace de la page aux transformations de l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-150">The window and viewport extents establish a ratio or scaling factor used in the page-space to device-space transformations.</span></span> <span data-ttu-id="d8d55-151">Pour les six modes de mappage prédéfinis (MM \_ HIENGLISH, mm \_ LOENGLISH, mm \_ HIMETRIC, MM \_ LOMETRIC, mm \_ Text et mm \_ TWIPS), les étendues sont définies par le système lors de l’appel de [**SetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-setmapmode) .</span><span class="sxs-lookup"><span data-stu-id="d8d55-151">For the six predefined mapping modes (MM\_HIENGLISH, MM\_LOENGLISH, MM\_HIMETRIC, MM\_LOMETRIC, MM\_TEXT, and MM\_TWIPS), the extents are set by the system when [**SetMapMode**](/windows/desktop/api/Wingdi/nf-wingdi-setmapmode) is called.</span></span> <span data-ttu-id="d8d55-152">Ils ne peuvent pas être modifiés.</span><span class="sxs-lookup"><span data-stu-id="d8d55-152">They cannot be changed.</span></span> <span data-ttu-id="d8d55-153">Les deux autres modes de mappage (MM \_ isotrope et mm \_ anisotrope) requièrent que les étendues soient spécifiées.</span><span class="sxs-lookup"><span data-stu-id="d8d55-153">The other two mapping modes (MM\_ISOTROPIC and MM\_ANISOTROPIC) require that the extents are specified.</span></span> <span data-ttu-id="d8d55-154">Pour ce faire, appelez **SetMapMode** pour définir le mode approprié, puis appelez les fonctions [**SetWindowExtEx**](/windows/desktop/api/Wingdi/nf-wingdi-setwindowextex) et [**SetViewportExtEx**](/windows/desktop/api/Wingdi/nf-wingdi-setviewportextex) pour spécifier les étendues.</span><span class="sxs-lookup"><span data-stu-id="d8d55-154">This is done by calling **SetMapMode** to set the appropriate mode and then calling the [**SetWindowExtEx**](/windows/desktop/api/Wingdi/nf-wingdi-setwindowextex) and [**SetViewportExtEx**](/windows/desktop/api/Wingdi/nf-wingdi-setviewportextex) functions to specify the extents.</span></span> <span data-ttu-id="d8d55-155">Dans le mode de mappage de MM \_ isotropes, il est important d’appeler **SetWindowExtEx** avant d’appeler **SetViewportExtEx**.</span><span class="sxs-lookup"><span data-stu-id="d8d55-155">In the MM\_ISOTROPIC mapping mode, it is important to call **SetWindowExtEx** before calling **SetViewportExtEx**.</span></span>

<span data-ttu-id="d8d55-156">Les origines de la fenêtre et de la fenêtre d’affichage établissent la traduction utilisée dans les transformations de l’espace de la page vers l’espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-156">The window and viewport origins establish the translation used in the page-space to device-space transformations.</span></span> <span data-ttu-id="d8d55-157">Définissez les origines des fenêtres et des Viewports à l’aide des fonctions [**SetWindowOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-setwindoworgex) et [**SetViewportOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-setviewportorgex) .</span><span class="sxs-lookup"><span data-stu-id="d8d55-157">Set the window and viewport origins by using the [**SetWindowOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-setwindoworgex) and [**SetViewportOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-setviewportorgex) functions.</span></span> <span data-ttu-id="d8d55-158">Les origines sont indépendantes des étendues, et une application peut les définir quel que soit le mode de mappage actuel.</span><span class="sxs-lookup"><span data-stu-id="d8d55-158">The origins are independent of the extents, and an application can set them regardless of the current mapping mode.</span></span> <span data-ttu-id="d8d55-159">La modification d’un mode de mappage n’affecte pas les origines actuellement définies (même si cela peut affecter les étendues).</span><span class="sxs-lookup"><span data-stu-id="d8d55-159">Changing a mapping mode does not affect the currently set origins (although it can affect the extents).</span></span> <span data-ttu-id="d8d55-160">Les origines sont spécifiées en unités absolues, ce qui n’est pas affecté par le mode de mappage actuel.</span><span class="sxs-lookup"><span data-stu-id="d8d55-160">Origins are specified in absolute units that the current mapping mode does not affect.</span></span> <span data-ttu-id="d8d55-161">Pour modifier les origines, utilisez les fonctions [**OffsetWindowOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-offsetwindoworgex) et [**OffsetViewportOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-offsetviewportorgex) .</span><span class="sxs-lookup"><span data-stu-id="d8d55-161">To alter the origins, use the [**OffsetWindowOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-offsetwindoworgex) and [**OffsetViewportOrgEx**](/windows/desktop/api/Wingdi/nf-wingdi-offsetviewportorgex) functions.</span></span>

<span data-ttu-id="d8d55-162">La formule suivante montre les mathématiques impliquées dans la conversion d’un point de l’espace de page en espace de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="d8d55-162">The following formula shows the math involved in converting a point from page space to device space.</span></span>

``` syntax
Dx = ((Lx - WOx) * VEx / WEx) + VOx 
```

<span data-ttu-id="d8d55-163">Les variables suivantes sont impliquées.</span><span class="sxs-lookup"><span data-stu-id="d8d55-163">The following variables are involved.</span></span>

``` syntax
Dx     x value in device units 
Lx     x value in logical units (also known as page space units) 
WOx     window x origin 
VOx     viewport x origin 
WEx     window x-extent 
VEx     viewport x-extent 
```

<span data-ttu-id="d8d55-164">La même équation avec y qui remplace x transforme le point de componentof y en un point.</span><span class="sxs-lookup"><span data-stu-id="d8d55-164">The same equation with y replacing x transforms the y componentof a point.</span></span>

<span data-ttu-id="d8d55-165">La formule décale d’abord le point à partir de son origine de coordonnée.</span><span class="sxs-lookup"><span data-stu-id="d8d55-165">The formula first offsets the point from its coordinate origin.</span></span> <span data-ttu-id="d8d55-166">Cette valeur, qui n’est plus biaisée par l’origine, est ensuite mise à l’échelle dans le système de coordonnées de destination par le rapport entre les étendues.</span><span class="sxs-lookup"><span data-stu-id="d8d55-166">This value, no longer biased by the origin, is then scaled into the destination coordinate system by the ratio of the extents.</span></span> <span data-ttu-id="d8d55-167">Enfin, la valeur mise à l’échelle est décalée de l’origine de destination vers son mappage final.</span><span class="sxs-lookup"><span data-stu-id="d8d55-167">Finally, the scaled value is offset by the destination origin to its final mapping.</span></span>

<span data-ttu-id="d8d55-168">Les fonctions [**LPtoDP**](/windows/desktop/api/Wingdi/nf-wingdi-lptodp) et [**DPtoLP**](/windows/desktop/api/Wingdi/nf-wingdi-dptolp) peuvent être utilisées pour convertir des points logiques en points de périphérique et des points de périphérique en points logiques, respectivement.</span><span class="sxs-lookup"><span data-stu-id="d8d55-168">The [**LPtoDP**](/windows/desktop/api/Wingdi/nf-wingdi-lptodp) and [**DPtoLP**](/windows/desktop/api/Wingdi/nf-wingdi-dptolp) functions may be used to convert from logical points to device points and from device points to logical points, respectively.</span></span>

 

 



