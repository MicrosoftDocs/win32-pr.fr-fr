---
description: Le système envoie un \_ message WM NCPAINT à la fenêtre chaque fois qu’une partie de la zone non cliente de la fenêtre, telle que la barre de titre, la barre de menus ou le cadre de la fenêtre, doit être mise à jour.
ms.assetid: e4dc61f3-6a9f-4ed4-8685-62eb4ceb85f1
title: Zone non cliente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c51da31709f5bd9326cc0d05a9e37e2df78bfbb4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104202024"
---
# <a name="nonclient-area"></a><span data-ttu-id="4ab01-103">Zone non cliente</span><span class="sxs-lookup"><span data-stu-id="4ab01-103">Nonclient Area</span></span>

<span data-ttu-id="4ab01-104">Le système envoie un message [**WM \_ NCPAINT**](wm-ncpaint.md) à la fenêtre chaque fois qu’une partie de la zone non cliente de la fenêtre, telle que la barre de titre, la barre de menus ou le cadre de la fenêtre, doit être mise à jour.</span><span class="sxs-lookup"><span data-stu-id="4ab01-104">The system sends a [**WM\_NCPAINT**](wm-ncpaint.md) message to the window whenever a part of the nonclient area of the window, such as the title bar, menu bar, or window frame, must be updated.</span></span> <span data-ttu-id="4ab01-105">Le système peut également envoyer d’autres messages pour indiquer à une fenêtre de mettre à jour une partie de sa zone cliente. par exemple, lorsqu’une fenêtre devient active ou inactive, elle envoie le message [**WM \_ NCACTIVATE**](../winmsg/wm-ncactivate.md) pour mettre à jour sa barre de titre.</span><span class="sxs-lookup"><span data-stu-id="4ab01-105">The system may also send other messages to direct a window to update a portion of its client area; for example, when a window becomes active or inactive, it sends the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message to update its title bar.</span></span> <span data-ttu-id="4ab01-106">En général, le traitement de ces messages pour des fenêtres standard n’est pas recommandé, car l’application doit être en mesure de dessiner toutes les parties requises de la zone non cliente pour la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="4ab01-106">In general, processing these messages for standard windows is not recommended, because the application must be able to draw all the required parts of the nonclient area for the window.</span></span> <span data-ttu-id="4ab01-107">Pour cette raison, la plupart des applications transmettent ces messages à [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) pour le traitement par défaut.</span><span class="sxs-lookup"><span data-stu-id="4ab01-107">For this reason, most applications pass these messages to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) for default processing.</span></span>

<span data-ttu-id="4ab01-108">Une application qui crée des zones non clientes personnalisées pour ses fenêtres doit traiter ces messages.</span><span class="sxs-lookup"><span data-stu-id="4ab01-108">An application that creates custom nonclient areas for its windows must process these messages.</span></span> <span data-ttu-id="4ab01-109">Dans ce cas, l’application doit utiliser un contexte de périphérique Windows pour effectuer le dessin dans la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="4ab01-109">When doing so, the application must use a window device context to carry out drawing in the window.</span></span> <span data-ttu-id="4ab01-110">Le *contexte de périphérique Windows* permet à l’application de dessiner dans toutes les parties de la fenêtre, y compris la zone non cliente.</span><span class="sxs-lookup"><span data-stu-id="4ab01-110">The *window device context* enables the application to draw in all portions of the window, including the nonclient area.</span></span> <span data-ttu-id="4ab01-111">Une application récupère un contexte de périphérique de fenêtre à l’aide de la fonction [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) ou [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) et, lorsque le dessin est terminé, doit libérer le contexte de périphérique de la fenêtre à l’aide de la fonction [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) .</span><span class="sxs-lookup"><span data-stu-id="4ab01-111">An application retrieves a window device context by using the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function and, when drawing is complete, must release the window device context by using the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function.</span></span>

<span data-ttu-id="4ab01-112">Le système gère une région de mise à jour pour la zone non cliente.</span><span class="sxs-lookup"><span data-stu-id="4ab01-112">The system maintains an update region for the nonclient area.</span></span> <span data-ttu-id="4ab01-113">Quand une application reçoit un message [**WM \_ NCPAINT**](wm-ncpaint.md) , le paramètre *wParam* contient un handle vers une région définissant les dimensions de la région de mise à jour.</span><span class="sxs-lookup"><span data-stu-id="4ab01-113">When an application receives a [**WM\_NCPAINT**](wm-ncpaint.md) message, the *wParam* parameter contains a handle to a region defining the dimensions of the update region.</span></span> <span data-ttu-id="4ab01-114">L’application peut utiliser la poignée pour combiner la région de mise à jour avec la zone de découpage pour le contexte de périphérique Windows.</span><span class="sxs-lookup"><span data-stu-id="4ab01-114">The application can use the handle to combine the update region with the clipping region for the window device context.</span></span> <span data-ttu-id="4ab01-115">Le système ne combine pas automatiquement la région de mise à jour lors de la récupération du contexte de périphérique Windows, à moins que l’application utilise [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) et spécifie à la fois le descripteur de région et l' \_ indicateur DCX INTERSECTRGN.</span><span class="sxs-lookup"><span data-stu-id="4ab01-115">The system does not automatically combine the update region when retrieving the window device context unless the application uses [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) and specifies both the region handle and the DCX\_INTERSECTRGN flag.</span></span> <span data-ttu-id="4ab01-116">Si l’application ne combine pas la région de mise à jour, seules les opérations de dessin qui s’étendent autrement en dehors de la fenêtre sont découpées.</span><span class="sxs-lookup"><span data-stu-id="4ab01-116">If the application does not combine the update region, only drawing operations that would otherwise extend outside the window are clipped.</span></span> <span data-ttu-id="4ab01-117">L’application n’est pas responsable de l’effacement de la région de mise à jour, qu’elle utilise ou non la région.</span><span class="sxs-lookup"><span data-stu-id="4ab01-117">The application is not responsible for clearing the update region, regardless of whether it uses the region.</span></span>

<span data-ttu-id="4ab01-118">Si une application traite le message [**WM \_ NCACTIVATE**](../winmsg/wm-ncactivate.md) , une fois le traitement terminé, elle doit retourner la **valeur true** pour indiquer au système d’effectuer la modification de la fenêtre active.</span><span class="sxs-lookup"><span data-stu-id="4ab01-118">If an application processes the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message, after processing it must return **TRUE** to direct the system to complete the change of active window.</span></span> <span data-ttu-id="4ab01-119">Si la fenêtre est réduite lorsque l’application reçoit le message **WM \_ NCACTIVATE** , elle doit transmettre le message à [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="4ab01-119">If the window is minimized when the application receives the **WM\_NCACTIVATE** message, it should pass the message to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span> <span data-ttu-id="4ab01-120">Dans ce cas, la fonction par défaut redessine l’étiquette de l’icône.</span><span class="sxs-lookup"><span data-stu-id="4ab01-120">In such cases, the default function redraws the label for the icon.</span></span>

 

 
