---
title: Comment résoudre les erreurs de signature de package d’application
description: L’échec d’un déploiement d’application peut être dû à l’impossibilité de valider la signature numérique du package d’application. Découvrez comment reconnaître ces échecs et comment les utiliser.
ms.assetid: CE868296-87F6-4BD5-8AC5-914E429EDEBC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0b6f50dc5ff428e74f4928fc20775b13de7c3be9
ms.sourcegitcommit: 784b5954a1646e2406cd4ee27a9e4f50e28ee9b7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/05/2021
ms.locfileid: "106534957"
---
# <a name="how-to-troubleshoot-app-package-signature-errors"></a><span data-ttu-id="28b36-104">Comment résoudre les erreurs de signature de package d’application</span><span class="sxs-lookup"><span data-stu-id="28b36-104">How to troubleshoot app package signature errors</span></span>

<span data-ttu-id="28b36-105">L’échec d’un déploiement d’application peut être dû à l’impossibilité de valider la signature numérique du package d’application.</span><span class="sxs-lookup"><span data-stu-id="28b36-105">An app deployment failure can be caused by a failure to validate the digital signature of the app package.</span></span> <span data-ttu-id="28b36-106">Découvrez comment reconnaître ces échecs et comment les utiliser.</span><span class="sxs-lookup"><span data-stu-id="28b36-106">Learn how to recognize these failures, and what to do about them.</span></span>

<span data-ttu-id="28b36-107">Lorsque vous déployez une application Windows empaquetée, Windows tente toujours de valider la signature numérique sur le package d’application.</span><span class="sxs-lookup"><span data-stu-id="28b36-107">When you deploy a packaged Windows app, Windows always attempts to validate the digital signature on the app package.</span></span> <span data-ttu-id="28b36-108">Échecs lors du déploiement du bloc de validation de signature du package.</span><span class="sxs-lookup"><span data-stu-id="28b36-108">Failures during signature validation block deployment of the package.</span></span> <span data-ttu-id="28b36-109">Mais la raison pour laquelle le package n’a pas été validé peut ne pas être évidente.</span><span class="sxs-lookup"><span data-stu-id="28b36-109">But why the package didn't validate might not be obvious.</span></span> <span data-ttu-id="28b36-110">En particulier, si vous signez vos packages avec des certificats privés pour des tests locaux, vous devez souvent gérer l’approbation de ces certificats.</span><span class="sxs-lookup"><span data-stu-id="28b36-110">In particular, if you sign your packages with private certificates for local testing, you often must manage the trust for those certificates as well.</span></span> <span data-ttu-id="28b36-111">Une configuration d’approbation de certificat incorrecte peut entraîner des échecs de validation de signature.</span><span class="sxs-lookup"><span data-stu-id="28b36-111">An incorrect certificate trust configuration can lead to signature validation failures.</span></span>

## <a name="what-you-need-to-know"></a><span data-ttu-id="28b36-112">Ce que vous devez savoir</span><span class="sxs-lookup"><span data-stu-id="28b36-112">What you need to know</span></span>

### <a name="technologies"></a><span data-ttu-id="28b36-113">Technologies</span><span class="sxs-lookup"><span data-stu-id="28b36-113">Technologies</span></span>

-   [<span data-ttu-id="28b36-114">Empaquetage, déploiement et interrogation d’applications Windows</span><span class="sxs-lookup"><span data-stu-id="28b36-114">Packaging, deployment, and query of Windows apps</span></span>](appx-portal.md)
-   [<span data-ttu-id="28b36-115">Vérification de l’approbation du certificat</span><span class="sxs-lookup"><span data-stu-id="28b36-115">Certificate Trust Verification</span></span>](/windows/desktop/SecCrypto/certificate-trust-verification)

### <a name="prerequisites"></a><span data-ttu-id="28b36-116">Prérequis</span><span class="sxs-lookup"><span data-stu-id="28b36-116">Prerequisites</span></span>

-   <span data-ttu-id="28b36-117">[Journal des événements Windows](/windows/desktop/WES/windows-event-log) pour diagnostiquer les échecs d’installation.</span><span class="sxs-lookup"><span data-stu-id="28b36-117">[Windows Event Log](/windows/desktop/WES/windows-event-log) to diagnose installation failures.</span></span>
-   <span data-ttu-id="28b36-118">[Tâches certutil pour la gestion des certificats](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10)) pour la manipulation du magasin de certificats pendant le dépannage</span><span class="sxs-lookup"><span data-stu-id="28b36-118">[Certutil tasks for managing certificates](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10)) for certificate store manipulation during troubleshooting</span></span>

## <a name="instructions"></a><span data-ttu-id="28b36-119">Instructions</span><span class="sxs-lookup"><span data-stu-id="28b36-119">Instructions</span></span>

### <a name="step-1-examine-event-logs-for-diagnostic-information"></a><span data-ttu-id="28b36-120">Étape 1 : examiner les journaux des événements pour obtenir des informations de diagnostic</span><span class="sxs-lookup"><span data-stu-id="28b36-120">Step 1: Examine event logs for diagnostic information</span></span>

<span data-ttu-id="28b36-121">Selon la manière dont vous avez essayé de déployer votre application, vous n’avez peut-être pas reçu de code d’erreur significatif pour l’échec du déploiement.</span><span class="sxs-lookup"><span data-stu-id="28b36-121">Depending on how you attempted to deploy your app, you might not have received a meaningful error code for the deployment failure.</span></span> <span data-ttu-id="28b36-122">Dans ce cas, vous pouvez généralement récupérer le code d’erreur directement à partir des journaux des événements.</span><span class="sxs-lookup"><span data-stu-id="28b36-122">In this case, you can usually get the error code directly from the event logs.</span></span>

<span data-ttu-id="28b36-123">**Pour récupérer le code d’erreur à partir des journaux des événements**</span><span class="sxs-lookup"><span data-stu-id="28b36-123">**To get the error code from the event logs**</span></span>

1.  <span data-ttu-id="28b36-124">Exécutez **eventvwr. msc**.</span><span class="sxs-lookup"><span data-stu-id="28b36-124">Run **eventvwr.msc**.</span></span>
2.  <span data-ttu-id="28b36-125">Accédez à **Observateur d’événements (local)**  >  **journaux des applications et des services**  >  **Microsoft**  >  **Windows**.</span><span class="sxs-lookup"><span data-stu-id="28b36-125">Go to **Event Viewer (Local)** > **Applications and Services Logs** > **Microsoft** > **Windows**.</span></span>
3.  <span data-ttu-id="28b36-126">Le premier journal à vérifier est **AppxPackagingOM**  >  **Microsoft-Windows-AppxPackaging/Operational**.</span><span class="sxs-lookup"><span data-stu-id="28b36-126">The first log to check is **AppxPackagingOM** > **Microsoft-Windows-AppxPackaging/Operational**.</span></span>
4.  <span data-ttu-id="28b36-127">Les erreurs liées au déploiement sont enregistrées dans **AppXDeployment-Server**  >  **Microsoft-Windows-AppXDeploymentServer/Operational**.</span><span class="sxs-lookup"><span data-stu-id="28b36-127">Deployment-related errors are recorded in **AppXDeployment-Server** > **Microsoft-Windows-AppXDeploymentServer/Operational**.</span></span>

    <span data-ttu-id="28b36-128">Pour les erreurs de déploiement, recherchez l’événement d’erreur le plus récent 404.</span><span class="sxs-lookup"><span data-stu-id="28b36-128">For deployment errors, search for the most recent error event 404.</span></span> <span data-ttu-id="28b36-129">Cet événement d’erreur vous fournit le code d’erreur et une description de la raison de l’échec du déploiement.</span><span class="sxs-lookup"><span data-stu-id="28b36-129">This error event provides you with the error code and a description of why the deployment failed.</span></span> <span data-ttu-id="28b36-130">Si un événement d’erreur 465 a précédé l’événement 404, un problème s’est produit lors de l’ouverture du package.</span><span class="sxs-lookup"><span data-stu-id="28b36-130">If an error event 465 preceded the 404 event, there was a problem opening the package.</span></span>

<span data-ttu-id="28b36-131">Si l’erreur 465 ne s’est pas produite, consultez la page [résolution des problèmes généraux, déploiement et interrogation des applications Windows](troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="28b36-131">If the 465 error didn't occur, see general [Troubleshooting packaging, deployment, and query of Windows apps](troubleshooting.md).</span></span> <span data-ttu-id="28b36-132">Sinon, reportez-vous à cette table pour obtenir des codes d’erreur courants qui peuvent s’afficher dans la chaîne d’erreur pour l’événement d’erreur 465 :</span><span class="sxs-lookup"><span data-stu-id="28b36-132">Otherwise, refer to this table for common error codes that can show up in the error string for error event 465:</span></span>

| <span data-ttu-id="28b36-133">Code d'erreur</span><span class="sxs-lookup"><span data-stu-id="28b36-133">Error code</span></span> | <span data-ttu-id="28b36-134">Error</span><span class="sxs-lookup"><span data-stu-id="28b36-134">Error</span></span>                                 | <span data-ttu-id="28b36-135">Description</span><span class="sxs-lookup"><span data-stu-id="28b36-135">Description</span></span>                                                                                                          | <span data-ttu-id="28b36-136">Suggestion</span><span class="sxs-lookup"><span data-stu-id="28b36-136">Suggestion</span></span>                                                                                                                                                                                                 |
|------------|---------------------------------------|----------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="28b36-137">0x80073CF0</span><span class="sxs-lookup"><span data-stu-id="28b36-137">0x80073CF0</span></span> | <span data-ttu-id="28b36-138">ERREUR d’installation de l' \_ \_ ouverture du \_ package \_</span><span class="sxs-lookup"><span data-stu-id="28b36-138">ERROR\_INSTALL\_OPEN\_PACKAGE\_FAILED</span></span> | <span data-ttu-id="28b36-139">Impossible d’ouvrir le package d’application.</span><span class="sxs-lookup"><span data-stu-id="28b36-139">The app package could not be opened.</span></span>                                                                                 | <span data-ttu-id="28b36-140">Cette erreur indique généralement un problème avec le package.</span><span class="sxs-lookup"><span data-stu-id="28b36-140">This error typically indicates a problem with the package.</span></span> <span data-ttu-id="28b36-141">Vous devez générer et signer à nouveau le package.</span><span class="sxs-lookup"><span data-stu-id="28b36-141">You need to build and sign the package again.</span></span> <span data-ttu-id="28b36-142">Pour plus d’informations, consultez [utilisation d’App Packager](make-appx-package--makeappx-exe-.md).</span><span class="sxs-lookup"><span data-stu-id="28b36-142">For more info, see [Using App Packager](make-appx-package--makeappx-exe-.md).</span></span> |
| <span data-ttu-id="28b36-143">0x80080205</span><span class="sxs-lookup"><span data-stu-id="28b36-143">0x80080205</span></span> | <span data-ttu-id="28b36-144">APPX \_ E \_ BLOCKMAP non valide \_</span><span class="sxs-lookup"><span data-stu-id="28b36-144">APPX\_E\_INVALID\_BLOCKMAP</span></span>            | <span data-ttu-id="28b36-145">Le package d’application a été falsifié ou a un mappage de bloc non valide.</span><span class="sxs-lookup"><span data-stu-id="28b36-145">The app package has been tampered with or has an invalid block map.</span></span>                                                  | <span data-ttu-id="28b36-146">Le package est endommagé.</span><span class="sxs-lookup"><span data-stu-id="28b36-146">The package is corrupted.</span></span> <span data-ttu-id="28b36-147">Vous devez générer et signer à nouveau le package.</span><span class="sxs-lookup"><span data-stu-id="28b36-147">You need to build and sign the package again.</span></span> <span data-ttu-id="28b36-148">Pour plus d’informations, consultez [utilisation d’App Packager](make-appx-package--makeappx-exe-.md).</span><span class="sxs-lookup"><span data-stu-id="28b36-148">For more info, see [Using App Packager](make-appx-package--makeappx-exe-.md).</span></span>                                  |
| <span data-ttu-id="28b36-149">0x800B0004</span><span class="sxs-lookup"><span data-stu-id="28b36-149">0x800B0004</span></span> | <span data-ttu-id="28b36-150">APPROUVER \_ E \_ Subject \_ non \_ approuvé</span><span class="sxs-lookup"><span data-stu-id="28b36-150">TRUST\_E\_SUBJECT\_NOT\_TRUSTED</span></span>       | <span data-ttu-id="28b36-151">Le package d’application a été falsifié.</span><span class="sxs-lookup"><span data-stu-id="28b36-151">The app package has been tampered with.</span></span>                                                                              | <span data-ttu-id="28b36-152">Le contenu du package ne correspond plus à sa signature numérique.</span><span class="sxs-lookup"><span data-stu-id="28b36-152">The package contents no longer match its digital signature.</span></span> <span data-ttu-id="28b36-153">Vous devez signer à nouveau le package.</span><span class="sxs-lookup"><span data-stu-id="28b36-153">You need to sign the package again.</span></span> <span data-ttu-id="28b36-154">Pour plus d’informations, consultez [Comment signer un package d’application à l’aide de SignTool](how-to-sign-a-package-using-signtool.md).</span><span class="sxs-lookup"><span data-stu-id="28b36-154">For more info, see [How to sign an app package using SignTool](how-to-sign-a-package-using-signtool.md).</span></span>  |
| <span data-ttu-id="28b36-155">0x800B0100</span><span class="sxs-lookup"><span data-stu-id="28b36-155">0x800B0100</span></span> | <span data-ttu-id="28b36-156">APPROUVER \_ E \_ NoSignature</span><span class="sxs-lookup"><span data-stu-id="28b36-156">TRUST\_E\_NOSIGNATURE</span></span>                 | <span data-ttu-id="28b36-157">Le package d’application n’est pas signé.</span><span class="sxs-lookup"><span data-stu-id="28b36-157">The app package is unsigned.</span></span>                                                                                         | <span data-ttu-id="28b36-158">Seuls les packages d’application Windows signés peuvent être déployés.</span><span class="sxs-lookup"><span data-stu-id="28b36-158">Only signed Windows app packages can be deployed.</span></span> <span data-ttu-id="28b36-159">Pour plus d’informations sur la signature d’un package d’application, consultez [Comment signer un package d’application à l’aide de SignTool](how-to-sign-a-package-using-signtool.md).</span><span class="sxs-lookup"><span data-stu-id="28b36-159">For info about signing an app package, see [How to sign an app package using SignTool](how-to-sign-a-package-using-signtool.md).</span></span>                  |
| <span data-ttu-id="28b36-160">0x800B0109</span><span class="sxs-lookup"><span data-stu-id="28b36-160">0x800B0109</span></span> | <span data-ttu-id="28b36-161">CERTIFICAT \_ E \_ racine non approuvée \_</span><span class="sxs-lookup"><span data-stu-id="28b36-161">CERT\_E\_UNTRUSTED\_ROOT</span></span>              | <span data-ttu-id="28b36-162">La chaîne de certificats utilisée pour signer le package d’application se termine par un certificat racine qui n’est pas approuvé.</span><span class="sxs-lookup"><span data-stu-id="28b36-162">The certificate chain that was used to sign the app package ends in a root certificate that isn't trusted.</span></span>           | <span data-ttu-id="28b36-163">Passez à l’étape 2 pour dépanner la confiance du certificat.</span><span class="sxs-lookup"><span data-stu-id="28b36-163">Continue to Step 2 to troubleshoot the certificate trust.</span></span>                                                                                                                                                  |
| <span data-ttu-id="28b36-164">0x800B010A</span><span class="sxs-lookup"><span data-stu-id="28b36-164">0x800B010A</span></span> | <span data-ttu-id="28b36-165">chaînage du certificat \_ E \_</span><span class="sxs-lookup"><span data-stu-id="28b36-165">CERT\_E\_CHAINING</span></span>                     | <span data-ttu-id="28b36-166">Aucune chaîne de certificats n’a pu être créée à une autorité racine approuvée à partir du certificat qui a été utilisé pour signer le package d’application.</span><span class="sxs-lookup"><span data-stu-id="28b36-166">No certificate chain could be built to a trusted root authority from the cert that was used to sign the app package.</span></span> | <span data-ttu-id="28b36-167">Passez à l’étape 2 pour dépanner la confiance du certificat.</span><span class="sxs-lookup"><span data-stu-id="28b36-167">Continue to Step 2 to troubleshoot the certificate trust.</span></span>                                                                                                                                                  |



 

### <a name="step-2-determine-the-certificate-chain-used-to-sign-the-app-package"></a><span data-ttu-id="28b36-168">Étape 2 : déterminer la chaîne de certificats utilisée pour signer le package d’application</span><span class="sxs-lookup"><span data-stu-id="28b36-168">Step 2: Determine the certificate chain used to sign the app package</span></span>

<span data-ttu-id="28b36-169">Pour déterminer les certificats que l’ordinateur local doit approuver, vous pouvez examiner la chaîne de certificats pour la signature numérique sur le package d’application.</span><span class="sxs-lookup"><span data-stu-id="28b36-169">To figure out the certificates that the local computer must trust, you can examine the certificate chain for the digital signature on the app package.</span></span>

<span data-ttu-id="28b36-170">**Pour déterminer la chaîne de certificats**</span><span class="sxs-lookup"><span data-stu-id="28b36-170">**To determine the certificate chain**</span></span>

1.  <span data-ttu-id="28b36-171">Dans l’Explorateur de fichiers, cliquez avec le bouton droit sur le package d’application, puis sélectionnez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="28b36-171">In File Explorer, right-click on the app package and select **Properties**.</span></span>
2.  <span data-ttu-id="28b36-172">Dans la boîte de dialogue **Propriétés** , sélectionnez l’onglet **signatures numériques** , qui indique également si la signature peut être validée.</span><span class="sxs-lookup"><span data-stu-id="28b36-172">In the **Properties** dialog, select the **Digital Signatures** tab, which also displays whether the signature can be validated.</span></span>
3.  <span data-ttu-id="28b36-173">Dans la liste signature, sélectionnez la signature, puis cliquez sur le bouton **Détails** .</span><span class="sxs-lookup"><span data-stu-id="28b36-173">In the Signature list, select the signature and then click the **Details** button.</span></span>
4.  <span data-ttu-id="28b36-174">Dans la boîte de dialogue détails de la **signature numérique** , cliquez sur le bouton **afficher le certificat** .</span><span class="sxs-lookup"><span data-stu-id="28b36-174">In the **Digital Signature Details** dialog, click the **View Certificate** button.</span></span>
5.  <span data-ttu-id="28b36-175">Dans la boîte de dialogue **certificat** , sélectionnez l’onglet **chemin d’accès de certification** .</span><span class="sxs-lookup"><span data-stu-id="28b36-175">In the **Certificate** dialog, select the **Certification Path** tab.</span></span>

<span data-ttu-id="28b36-176">Le certificat supérieur dans la chaîne est le certificat racine et le certificat inférieur est le certificat de signature.</span><span class="sxs-lookup"><span data-stu-id="28b36-176">The top certificate in the chain is the root certificate and the bottom certificate is the signing certificate.</span></span> <span data-ttu-id="28b36-177">Si un seul certificat est présent dans la chaîne, le certificat de signature est également son propre certificat racine.</span><span class="sxs-lookup"><span data-stu-id="28b36-177">If only a single certificate is in the chain, the signing certificate is also its own root certificate.</span></span> <span data-ttu-id="28b36-178">Vous pouvez déterminer le numéro de série de chaque certificat que vous utilisez ensuite avec [certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)):</span><span class="sxs-lookup"><span data-stu-id="28b36-178">You can determine the serial number for each certificate that you then use with [Certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)):</span></span>

<span data-ttu-id="28b36-179">**Pour déterminer le numéro de série de chaque certificat**</span><span class="sxs-lookup"><span data-stu-id="28b36-179">**To determine the serial number for each certificate**</span></span>

1.  <span data-ttu-id="28b36-180">Dans le volet chemin d’accès de certification, sélectionnez le certificat, puis cliquez sur **afficher le certificat**.</span><span class="sxs-lookup"><span data-stu-id="28b36-180">In the Certification path pane, select the certificate and then click **View Certificate**.</span></span>
2.  <span data-ttu-id="28b36-181">Dans la boîte de dialogue certificat, sélectionnez l’onglet **Détails** , qui affiche le numéro de série et d’autres propriétés utiles du certificat.</span><span class="sxs-lookup"><span data-stu-id="28b36-181">In the Certificate dialog, select the **Details** tab, which displays the serial number and other useful properties of the certificate.</span></span>

### <a name="step-3-determine-the-certificates-trusted-by-the-local-machine"></a><span data-ttu-id="28b36-182">Étape 3 : déterminer les certificats approuvés par l’ordinateur local</span><span class="sxs-lookup"><span data-stu-id="28b36-182">Step 3: Determine the certificates trusted by the local machine</span></span>

<span data-ttu-id="28b36-183">Pour pouvoir déployer un package d’application, celui-ci ne doit pas être approuvé dans le contexte de l’utilisateur, mais également dans le contexte de l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="28b36-183">To be able to deploy an app package, it must not only be trusted in the user’s context but also the local computer context.</span></span> <span data-ttu-id="28b36-184">Par conséquent, la signature numérique peut apparaître valide quand elle est affichée sous l’onglet signatures numériques de l’étape précédente, mais qu’elle n’est toujours pas validée lors du déploiement du package d’application.</span><span class="sxs-lookup"><span data-stu-id="28b36-184">As a result, the digital signature can appear valid when viewed in the Digital Signatures tab from the previous step but still fail validation during deployment of the app package.</span></span>

<span data-ttu-id="28b36-185">**Pour déterminer si la chaîne de certificats utilisée pour signer le package d’application est spécifiquement approuvée par l’ordinateur local**</span><span class="sxs-lookup"><span data-stu-id="28b36-185">**To determine if the certificate chain used to sign the app package is specifically trusted by the local computer**</span></span>

1.  <span data-ttu-id="28b36-186">Exécutez cette commande :</span><span class="sxs-lookup"><span data-stu-id="28b36-186">Run this command:</span></span>

    ``` syntax
    CertUtil.exe -store Root rootCertSerialNumber
    ```

2.  <span data-ttu-id="28b36-187">Exécutez cette commande :</span><span class="sxs-lookup"><span data-stu-id="28b36-187">Run this command:</span></span>

    ``` syntax
    CertUtil.exe -store TrustedPeople signingCertSerialNumber
    ```

<span data-ttu-id="28b36-188">Si vous ne spécifiez pas le numéro de série du certificat, [certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)) répertorie tous les certificats qui sont approuvés par l’ordinateur local pour ce magasin.</span><span class="sxs-lookup"><span data-stu-id="28b36-188">If you don't specify the certificate serial number, [Certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)) lists all certificates that are trusted by the local computer for that store.</span></span>

<span data-ttu-id="28b36-189">L’installation du package peut échouer en raison d’erreurs de chaînage de certificats, même si le certificat de signature n’est pas auto-signé et que le certificat racine se trouve dans le magasin racine de l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="28b36-189">The package may fail to install due to certificate chaining errors, even if the signing certificate is not self-signed and the root certificate is in the root store of the local computer.</span></span> <span data-ttu-id="28b36-190">Dans ce cas, il peut y avoir un problème de confiance pour les autorités de certification intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="28b36-190">In this case, there might be an issue with trust for the intermediate certificate authorities.</span></span> <span data-ttu-id="28b36-191">Pour plus d’informations sur ce problème, consultez [utilisation des certificats](/previous-versions/dotnet/netframework-3.0/ms731899(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="28b36-191">For more info about this issue, see [Working with Certificates](/previous-versions/dotnet/netframework-3.0/ms731899(v=vs.85)).</span></span>

## <a name="remarks"></a><span data-ttu-id="28b36-192">Notes</span><span class="sxs-lookup"><span data-stu-id="28b36-192">Remarks</span></span>

<span data-ttu-id="28b36-193">Si vous avez déterminé que le package n’a pas pu être déployé parce que le certificat de signature n’est pas approuvé, n’installez pas le package, sauf si vous connaissez son origine et que vous l’approuvez.</span><span class="sxs-lookup"><span data-stu-id="28b36-193">If you determined that the package couldn't be deployed because the signing certificate isn't trusted, don't install the package unless you know where it originated and you trust it.</span></span>

<span data-ttu-id="28b36-194">Si vous souhaitez approuver manuellement l’application pour l’installation (par exemple, pour installer votre propre package d’application signé par test), vous pouvez ajouter manuellement le certificat à la confiance de certificat de l’ordinateur local à partir du package d’application.</span><span class="sxs-lookup"><span data-stu-id="28b36-194">If you want to manually trust the app for install (for example, to install your own test-signed app package), you can manually add the certificate to the local computer certificate trust from the app package.</span></span>

<span data-ttu-id="28b36-195">**Pour ajouter manuellement le certificat à l’approbation de certificat de l’ordinateur local**</span><span class="sxs-lookup"><span data-stu-id="28b36-195">**To manually add the certificate to the local computer certificate trust**</span></span>

1.  <span data-ttu-id="28b36-196">Dans l’Explorateur de fichiers, cliquez avec le bouton droit sur le package d’application, puis, dans le menu contextuel, sélectionnez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="28b36-196">In File Explorer, right-click on the app package, and in the pop-up context menu select **Properties**.</span></span>
2.  <span data-ttu-id="28b36-197">Dans la boîte de dialogue **Propriétés** , sélectionnez l’onglet **signatures numériques** .</span><span class="sxs-lookup"><span data-stu-id="28b36-197">In the **Properties** dialog, select the **Digital Signatures** tab.</span></span>
3.  <span data-ttu-id="28b36-198">Dans la liste signature, sélectionnez la signature, puis cliquez sur le bouton **Détails** .</span><span class="sxs-lookup"><span data-stu-id="28b36-198">In the Signature list, select the signature and then click the **Details** button.</span></span>
4.  <span data-ttu-id="28b36-199">Dans la boîte de dialogue détails de la **signature numérique** , cliquez sur le bouton **afficher le certificat** .</span><span class="sxs-lookup"><span data-stu-id="28b36-199">In the **Digital Signature Details** dialog, click the **View Certificate** button.</span></span>
5.  <span data-ttu-id="28b36-200">Dans la boîte de dialogue **certificat** , cliquez sur **installer le certificat...**</span><span class="sxs-lookup"><span data-stu-id="28b36-200">In the **Certificate** dialog, click the **Install Certificate…**</span></span> <span data-ttu-id="28b36-201">.</span><span class="sxs-lookup"><span data-stu-id="28b36-201">button.</span></span>
6.  <span data-ttu-id="28b36-202">Dans l’Assistant importation de certificat, sélectionnez **ordinateur local** , puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="28b36-202">In the Certificate Import Wizard, select **Local Machine** and then click **Next**.</span></span> <span data-ttu-id="28b36-203">Vous devez accorder des privilèges d’administrateur pour continuer.</span><span class="sxs-lookup"><span data-stu-id="28b36-203">You will need to grant administrator privileges to continue.</span></span>
7.  <span data-ttu-id="28b36-204">Sélectionnez **Placer tous les certificats dans le magasin suivant** et accédez au magasin de **personnes autorisées** .</span><span class="sxs-lookup"><span data-stu-id="28b36-204">Select **Place all certificates in the following store** and browse to the **Trusted People** store.</span></span>
8.  <span data-ttu-id="28b36-205">Cliquez sur **suivant**, puis sur **Terminer** pour terminer l’Assistant.</span><span class="sxs-lookup"><span data-stu-id="28b36-205">Click **Next**, then click **Finish** to complete the wizard.</span></span>

<span data-ttu-id="28b36-206">Après cet ajout manuel, vous pouvez voir que le certificat est maintenant approuvé dans la boîte de dialogue **certificat** .</span><span class="sxs-lookup"><span data-stu-id="28b36-206">After this manual addition, you can see that the certificate is now trusted in the **Certificate** dialog.</span></span>

<span data-ttu-id="28b36-207">Vous pouvez supprimer le certificat une fois que vous n’en avez plus besoin.</span><span class="sxs-lookup"><span data-stu-id="28b36-207">You can remove the certificate after you no longer need it.</span></span>

<span data-ttu-id="28b36-208">**Pour supprimer le certificat**</span><span class="sxs-lookup"><span data-stu-id="28b36-208">**To remove the certificate**</span></span>

1.  <span data-ttu-id="28b36-209">Exécutez **Cmd.exe** en tant qu’administrateur.</span><span class="sxs-lookup"><span data-stu-id="28b36-209">Run **Cmd.exe** as administrator.</span></span>
2.  <span data-ttu-id="28b36-210">À l’invite de commandes de l’administrateur, exécutez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="28b36-210">In the administrator command prompt, run this command:</span></span>

    ``` syntax
    Certutil -store TrustedPeople
    ```

3.  <span data-ttu-id="28b36-211">Recherchez le numéro de série du certificat que vous avez installé.</span><span class="sxs-lookup"><span data-stu-id="28b36-211">Look for the serial number of the certificate that you installed.</span></span> <span data-ttu-id="28b36-212">Ce nombre est *certID*.</span><span class="sxs-lookup"><span data-stu-id="28b36-212">This number is the *certID*.</span></span>
4.  <span data-ttu-id="28b36-213">Exécutez cette commande :</span><span class="sxs-lookup"><span data-stu-id="28b36-213">Run this command:</span></span>

    ``` syntax
    Certutil -delStore TrustedPeople certID
    ```

<span data-ttu-id="28b36-214">Nous vous recommandons d’éviter d’ajouter manuellement des certificats racines au [magasin de certificats des autorités de certification racines de confiance](/windows-hardware/drivers/install/trusted-root-certification-authorities-certificate-store)de l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="28b36-214">We recommend that you avoid manually adding root certificates to the local machine [Trusted Root Certification Authorities Certificate Store](/windows-hardware/drivers/install/trusted-root-certification-authorities-certificate-store).</span></span> <span data-ttu-id="28b36-215">Il peut être plus efficace d’avoir plusieurs applications signées avec des certificats qui s’enchaînent au même certificat racine, comme des applications métier, que d’installer des certificats individuels dans le magasin de personnes autorisées.</span><span class="sxs-lookup"><span data-stu-id="28b36-215">Having several applications that are signed with certificates that chain to the same root certificate, such as line of business applications, can be more efficient than installing individual certificates to the Trusted People store.</span></span> <span data-ttu-id="28b36-216">Le magasin de personnes autorisées contient des certificats considérés comme approuvés par défaut. par conséquent, ils ne sont pas vérifiés par des autorités plus ou des listes de certificats de confiance.</span><span class="sxs-lookup"><span data-stu-id="28b36-216">The Trusted People store contains certificates that are considered trusted by default and so aren't verified by higher authorities or certificate trust lists or chains.</span></span> <span data-ttu-id="28b36-217">Pour plus d’informations sur l’ajout de certificats au magasin de certificats des autorités de certification racines de confiance, consultez [meilleures pratiques](/previous-versions/windows/hardware/design/dn653556(v=vs.85))pour la signature de code.</span><span class="sxs-lookup"><span data-stu-id="28b36-217">For considerations around adding certificates to the Trusted Root Certification Authorities certificate store, see [Code-Signing Best Practices](/previous-versions/windows/hardware/design/dn653556(v=vs.85)).</span></span>

## <a name="security-considerations"></a><span data-ttu-id="28b36-218">Considérations relatives à la sécurité</span><span class="sxs-lookup"><span data-stu-id="28b36-218">Security Considerations</span></span>

<span data-ttu-id="28b36-219">En ajoutant un certificat aux [magasins de certificats de l’ordinateur local](/windows-hardware/drivers/install/local-machine-and-current-user-certificate-stores), vous affectez le certificat de confiance de tous les utilisateurs sur l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="28b36-219">By adding a certificate to [local machine certificate stores](/windows-hardware/drivers/install/local-machine-and-current-user-certificate-stores), you affect the certificate trust of all users on the computer.</span></span> <span data-ttu-id="28b36-220">Nous vous recommandons d’installer les certificats de signature de code que vous souhaitez pour tester des packages d’application dans le magasin de certificats personnes autorisées.</span><span class="sxs-lookup"><span data-stu-id="28b36-220">We recommend that you install any code signing certificates that you want for testing app packages to the Trusted People certificate store.</span></span> <span data-ttu-id="28b36-221">Supprimez rapidement ces certificats lorsqu’ils ne sont plus nécessaires pour les empêcher d’être utilisés pour compromettre la confiance du système.</span><span class="sxs-lookup"><span data-stu-id="28b36-221">Promptly remove those certificates when they are no longer necessary, to prevent them from being used to compromise system trust.</span></span> <span data-ttu-id="28b36-222">Si vous créez vos propres certificats de test pour la signature des packages d’application, nous vous recommandons également de limiter les privilèges associés au certificat de test.</span><span class="sxs-lookup"><span data-stu-id="28b36-222">If you create your own test certificates for signing app packages, we also recommend that you restrict the privileges that are associated with the test certificate.</span></span> <span data-ttu-id="28b36-223">Pour plus d’informations sur la création de certificats de test pour la signature de packages d’application, consultez [comment créer un certificat de signature de package d’application](how-to-create-a-package-signing-certificate.md).</span><span class="sxs-lookup"><span data-stu-id="28b36-223">For info about creating test certificates for signing app packages, see [How to create an app package signing certificate](how-to-create-a-package-signing-certificate.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="28b36-224">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="28b36-224">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="28b36-225">**Exemples**</span><span class="sxs-lookup"><span data-stu-id="28b36-225">**Samples**</span></span>
</dt> <dt>

[<span data-ttu-id="28b36-226">Exemple de création de package d’application</span><span class="sxs-lookup"><span data-stu-id="28b36-226">Create app package sample</span></span>](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/AppxPackingCreateAppx)
</dt> <dt>

<span data-ttu-id="28b36-227">**Concepts**</span><span class="sxs-lookup"><span data-stu-id="28b36-227">**Concepts**</span></span>
</dt> <dt>

[<span data-ttu-id="28b36-228">Résolution des problèmes d’empaquetage, de déploiement et d’interrogation des applications Windows</span><span class="sxs-lookup"><span data-stu-id="28b36-228">Troubleshooting packaging, deployment, and query of Windows apps</span></span>](troubleshooting.md)
</dt> <dt>

<span data-ttu-id="28b36-229">[Tâches certutil pour la gestion des certificats](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="28b36-229">[Certutil tasks for managing certificates](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10))</span></span>
</dt> </dl>

 

 
