---
description: Décrit l’introduction des bibliothèques pour Windows 7.
ms.assetid: 83c47963-4c8e-45ee-b707-bd45cfe048cd
title: Bibliothèques de shell Windows dans Windows 7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fb94551d80d0230966626f1bd6499801aff889c4
ms.sourcegitcommit: 3bdf30edb314e0fcd17dc4ddbc70e4ec7d3596e6
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/10/2021
ms.locfileid: "106533699"
---
# <a name="windows-shell-libraries-in-windows"></a><span data-ttu-id="2d534-103">Bibliothèques de shell Windows dans Windows</span><span class="sxs-lookup"><span data-stu-id="2d534-103">Windows Shell Libraries in Windows</span></span>

<span data-ttu-id="2d534-104">Cette rubrique décrit l’introduction des bibliothèques pour Windows 7 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="2d534-104">This topic outlines the introduction of libraries for Windows 7 and later.</span></span> <span data-ttu-id="2d534-105">Les bibliothèques sont une fonctionnalité de l’interpréteur de commandes Windows.</span><span class="sxs-lookup"><span data-stu-id="2d534-105">Libraries are a Windows Shell feature.</span></span> <span data-ttu-id="2d534-106">Pour accéder aux fonctionnalités de l’interpréteur de commandes Windows, telles que les bibliothèques, les développeurs tiers d’applications de recherche Windows doivent tout d’abord implémenter un magasin de données Shell.</span><span class="sxs-lookup"><span data-stu-id="2d534-106">To access Windows Shell functionality, such as libraries, third-party developers of Windows Search applications must first implement a Shell data store.</span></span> <span data-ttu-id="2d534-107">Pour plus d’informations, consultez [implémentation des interfaces d’objets de dossier de base](/previous-versions/windows/desktop/legacy/cc144093(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="2d534-107">For more information, see [Implementing the Basic Folder Object Interfaces](/previous-versions/windows/desktop/legacy/cc144093(v=vs.85)).</span></span>

<span data-ttu-id="2d534-108">Cette rubrique est organisée comme suit :</span><span class="sxs-lookup"><span data-stu-id="2d534-108">This topic is organized as follows:</span></span>

- [<span data-ttu-id="2d534-109">Bibliothèques</span><span class="sxs-lookup"><span data-stu-id="2d534-109">Libraries</span></span>](#libraries)
  - [<span data-ttu-id="2d534-110">Points d’entrée des données utilisateur</span><span class="sxs-lookup"><span data-stu-id="2d534-110">User Data Entry Points</span></span>](#user-data-entry-points)
  - [<span data-ttu-id="2d534-111">Collections de dossiers</span><span class="sxs-lookup"><span data-stu-id="2d534-111">Collections of Folders</span></span>](#collections-of-folders)
  - [<span data-ttu-id="2d534-112">Dossiers pris en charge dans les bibliothèques</span><span class="sxs-lookup"><span data-stu-id="2d534-112">Supported Folders in Libraries</span></span>](#supported-folders-in-libraries)
  - [<span data-ttu-id="2d534-113">Stockage-sauvegardé</span><span class="sxs-lookup"><span data-stu-id="2d534-113">Storage-Backed</span></span>](#storage-backed)
  - [<span data-ttu-id="2d534-114">Conteneurs d’interpréteur de commandes de système non-fichier</span><span class="sxs-lookup"><span data-stu-id="2d534-114">Non-File System Shell Containers</span></span>](#non-file-system-shell-containers)
  - [<span data-ttu-id="2d534-115">Descriptions de la bibliothèque</span><span class="sxs-lookup"><span data-stu-id="2d534-115">Library Descriptions</span></span>](#library-descriptions)
- [<span data-ttu-id="2d534-116">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="2d534-116">Related topics</span></span>](#related-topics)

## <a name="libraries"></a><span data-ttu-id="2d534-117">Bibliothèques</span><span class="sxs-lookup"><span data-stu-id="2d534-117">Libraries</span></span>

<span data-ttu-id="2d534-118">Dans Windows 7 et versions ultérieures, les bibliothèques sont le référentiel par défaut des données utilisateur.</span><span class="sxs-lookup"><span data-stu-id="2d534-118">In Windows 7 and later, libraries are the default repository of user data.</span></span> <span data-ttu-id="2d534-119">Les utilisateurs peuvent parcourir leurs fichiers de la même façon qu’ils le font dans un dossier, ou ils peuvent afficher leurs fichiers organisés par propriétés telles que date, type et auteur.</span><span class="sxs-lookup"><span data-stu-id="2d534-119">Users can browse their files the same way they would in a folder, or they can view their files arranged by properties such as date, type, and author.</span></span> <span data-ttu-id="2d534-120">Contrairement à un dossier, une bibliothèque ne stocke pas réellement d’éléments, mais affiche des fichiers qui sont stockés dans plusieurs dossiers en même temps.</span><span class="sxs-lookup"><span data-stu-id="2d534-120">Unlike a folder, a library does not actually store items, but displays files that are stored in several folders at the same time.</span></span> <span data-ttu-id="2d534-121">Les bibliothèques fournissent un point d’accès unique et une vue enrichie pour les utilisateurs de leur contenu agrégé.</span><span class="sxs-lookup"><span data-stu-id="2d534-121">Libraries provide a single access point and rich view pivots to users of their aggregated content.</span></span> <span data-ttu-id="2d534-122">Par exemple, si un utilisateur a des fichiers musicaux dans des dossiers situés sur un lecteur externe, en plus du dossier **ma musique** , il peut accéder immédiatement à tous les fichiers musicaux via la bibliothèque musique.</span><span class="sxs-lookup"><span data-stu-id="2d534-122">For example, if a user has music files in folders on an external drive in addition to the **My Music** folder, then they are able to immediately access all music files through the Music library.</span></span>

### <a name="user-data-entry-points"></a><span data-ttu-id="2d534-123">Points d’entrée des données utilisateur</span><span class="sxs-lookup"><span data-stu-id="2d534-123">User Data Entry Points</span></span>

<span data-ttu-id="2d534-124">Les bibliothèques par défaut (telles que **Mes documents**, **Mes images**, etc.) sont l’équivalent d’un [dossier connu](/previous-versions/windows/desktop/legacy/bb776911(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="2d534-124">Default libraries (such as **My Documents**, **My Pictures**, and so forth) are the equivalent of [Known Folder](/previous-versions/windows/desktop/legacy/bb776911(v=vs.85)).</span></span> <span data-ttu-id="2d534-125">Les bibliothèques par défaut fournissent des points d’entrée familiers aux utilisateurs, mais étant donné que le contenu de la bibliothèque n’est pas limité aux bibliothèques de contenu de dossiers connus, les utilisateurs peuvent plus de liberté pour déterminer l’emplacement de stockage des documents et des médias.</span><span class="sxs-lookup"><span data-stu-id="2d534-125">Default libraries provide familiar entry points to users, but because library content is not limited to Known Folder content libraries give users more freedom to determine where documents and media should be stored.</span></span> <span data-ttu-id="2d534-126">Les bibliothèques sont exposées par le biais de l’espace de noms Shell (source de données Shell).</span><span class="sxs-lookup"><span data-stu-id="2d534-126">Libraries are exposed through the Shell namespace (Shell data source).</span></span> <span data-ttu-id="2d534-127">Votre application peut fournir aux utilisateurs les mêmes points d’entrée familiers à leurs données en activant la reconnaissance de la bibliothèque et en parcourant la navigation.</span><span class="sxs-lookup"><span data-stu-id="2d534-127">Your application can provide users with the same familiar entry points to their data by enabling library awareness, and browsing.</span></span>

### <a name="collections-of-folders"></a><span data-ttu-id="2d534-128">Collections de dossiers</span><span class="sxs-lookup"><span data-stu-id="2d534-128">Collections of Folders</span></span>

<span data-ttu-id="2d534-129">Les bibliothèques sont des collections de contenu définies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="2d534-129">Libraries are user-defined collections of content.</span></span> <span data-ttu-id="2d534-130">Windows Search indexe les dossiers pris en charge lorsqu’ils sont inclus dans les bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="2d534-130">Windows Search indexes supported folders when they are included in libraries.</span></span> <span data-ttu-id="2d534-131">Cela permet d’effectuer une recherche instantanée et des vues de la structure de pile basée sur les propriétés dans les bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="2d534-131">This enables instant search, and property-based stack arrangement views in libraries.</span></span>

### <a name="supported-folders-in-libraries"></a><span data-ttu-id="2d534-132">Dossiers pris en charge dans les bibliothèques</span><span class="sxs-lookup"><span data-stu-id="2d534-132">Supported Folders in Libraries</span></span>

<span data-ttu-id="2d534-133">Pour que les dossiers soient pris en charge dans les bibliothèques, ils doivent être indexables sur l’ordinateur local et indexés sur un ordinateur Windows distant, ou indexés sur un serveur avec les fichiers indexés par la recherche Windows.</span><span class="sxs-lookup"><span data-stu-id="2d534-133">For folders to be supported in libraries, they must be indexable on the local machine, and indexed either on a remote Windows machine, or indexed on a server with files indexed by Windows Search.</span></span>

<span data-ttu-id="2d534-134">Les utilisateurs ne peuvent pas ajouter de dossiers non pris en charge par les utilisateurs dans la boîte de dialogue gestion de la bibliothèque Windows.</span><span class="sxs-lookup"><span data-stu-id="2d534-134">Unsupported folders are blocked from being added by users in the Windows library management dialog.</span></span> <span data-ttu-id="2d534-135">Si des dossiers distants non indexés sont ajoutés à une bibliothèque à l’aide de l’API [IShellLibrary](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishelllibrary) , l’expérience utilisateur de la bibliothèque repassera en **mode sans échec** de la bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="2d534-135">If non-indexed remote folders are added to a library using the [IShellLibrary](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishelllibrary) API, then the library user experience will revert to library **Safe Mode**.</span></span> <span data-ttu-id="2d534-136">En **mode sans échec** , les fonctionnalités telles que les vues d’organisation de pile basées sur les propriétés, les suggestions de filtre et la prise en charge de la recherche de **menu Démarrer** sont supprimées de la bibliothèque affectée.</span><span class="sxs-lookup"><span data-stu-id="2d534-136">In **Safe Mode** features such as property-based stack arrangement views, filter suggestions, and **Start Menu** search support are removed from the affected library.</span></span>

<span data-ttu-id="2d534-137">Le tableau suivant répertorie les dossiers inclus dans les bibliothèques à l’aide de la boîte de dialogue gestion de la bibliothèque de l’Explorateur Windows, et les dossiers qui ne sont pas pris en charge en **mode sans échec**:</span><span class="sxs-lookup"><span data-stu-id="2d534-137">The following table lists folders included in libraries using the Windows Explorer library management dialog, and folders that are unsupported in **Safe Mode**:</span></span>

| <span data-ttu-id="2d534-138">Dossiers pris en charge</span><span class="sxs-lookup"><span data-stu-id="2d534-138">Supported Folders</span></span>                                                                                                                            | <span data-ttu-id="2d534-139">Dossiers non pris en charge</span><span class="sxs-lookup"><span data-stu-id="2d534-139">Unsupported Folders</span></span>                                                                                     |
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="2d534-140">Disques durs NTFS et NTFS fixes et externes</span><span class="sxs-lookup"><span data-stu-id="2d534-140">Fixed and external NTFS and FAT32 hard drives</span></span>                                                                                                | <span data-ttu-id="2d534-141">Lecteurs amovibles (tels que les cartes thumbdrives et SD)</span><span class="sxs-lookup"><span data-stu-id="2d534-141">Removable drives (such as thumbdrives and SD cards)</span></span>                                                     |
| <span data-ttu-id="2d534-142">Les partages qui sont indexés par la recherche Windows (tels que les serveurs départementaux et sur les ordinateurs exécutant Windows 10 et Windows 7 édition familial)</span><span class="sxs-lookup"><span data-stu-id="2d534-142">Shares that are indexed by Windows Search (such as departmental servers, and on computers running Windows 10, and Windows 7 Home edition)</span></span> | <span data-ttu-id="2d534-143">Support amovible (par exemple, CDs et DVD)</span><span class="sxs-lookup"><span data-stu-id="2d534-143">Removable media (such as CDs and DVDs)</span></span>                                                                  |
| <span data-ttu-id="2d534-144">Partages disponibles hors connexion (par exemple, **Mes documents redirigés**, **cache côté client**)</span><span class="sxs-lookup"><span data-stu-id="2d534-144">Shares that are available offline (such as **Redirected My Documents**, **Client Side Cache**)</span></span>                                               | <span data-ttu-id="2d534-145">Partages réseau qui ne sont pas disponibles hors connexion ni indexés à distance (tels que les lecteurs NAS)</span><span class="sxs-lookup"><span data-stu-id="2d534-145">Network shares that are neither available offline nor remotely indexed (such as NAS drives)</span></span>             |
| <span data-ttu-id="2d534-146">n/a</span><span class="sxs-lookup"><span data-stu-id="2d534-146">n/a</span></span>                                                                                                                                          | <span data-ttu-id="2d534-147">Autres sources de données (telles que Microsoft SharePoint, Microsoft Exchange, Microsoft OneDrive, etc.)</span><span class="sxs-lookup"><span data-stu-id="2d534-147">Other data sources (such as Microsoft SharePoint, Microsoft Exchange, Microsoft OneDrive, and so forth)</span></span> |

### <a name="storage-backed"></a><span data-ttu-id="2d534-148">Storage-Backed</span><span class="sxs-lookup"><span data-stu-id="2d534-148">Storage-Backed</span></span>

<span data-ttu-id="2d534-149">Les bibliothèques sont des collections de dossiers de stockage.</span><span class="sxs-lookup"><span data-stu-id="2d534-149">Libraries are collections of storage folders.</span></span> <span data-ttu-id="2d534-150">Les utilisateurs peuvent enregistrer et copier des fichiers directement dans une bibliothèque, puisque chaque bibliothèque a un emplacement d’enregistrement par défaut auquel envoyer ces fichiers.</span><span class="sxs-lookup"><span data-stu-id="2d534-150">Users can save and copy files to a library directly, since every library has a default save location to send these files to.</span></span> <span data-ttu-id="2d534-151">Pour les bibliothèques par défaut, il s’agit d’un dossier connu de l’utilisateur qui est inclus dans une bibliothèque (par exemple, **Mes documents**) ou du premier dossier ajouté à une bibliothèque personnalisée.</span><span class="sxs-lookup"><span data-stu-id="2d534-151">For default libraries, this is user Known Folder that is included in a library (such as **My Documents**), or the first folder added to a custom library.</span></span> <span data-ttu-id="2d534-152">Il s’agit du dossier dans lequel les fichiers sont placés lorsqu’un utilisateur fait glisser des fichiers dans une bibliothèque ou les enregistre dans une bibliothèque à l’aide de la boîte de dialogue de fichier commune.</span><span class="sxs-lookup"><span data-stu-id="2d534-152">This is the folder where files go when a user drags and drops files on to a library or saves to a library with the common file dialog.</span></span> <span data-ttu-id="2d534-153">L’utilisateur peut modifier l’emplacement d’enregistrement par défaut d’une bibliothèque à tout moment, mais si elle supprime l’emplacement d’enregistrement par défaut, le dossier suivant de la bibliothèque est sélectionné comme nouvel emplacement d’enregistrement.</span><span class="sxs-lookup"><span data-stu-id="2d534-153">The user may change the default save location of a library at any point, but if she removes the default save location, the next folder in the library will be selected as the new save location.</span></span> <span data-ttu-id="2d534-154">En outre, les utilisateurs peuvent enregistrer dans n’importe quel dossier auquel ils ont des autorisations qui ont été inclus dans une bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="2d534-154">Users can additionally save to any folder they have permissions to that has been included in a library.</span></span>

### <a name="non-file-system-shell-containers"></a><span data-ttu-id="2d534-155">Conteneurs d’interpréteur de commandes de système non-fichier</span><span class="sxs-lookup"><span data-stu-id="2d534-155">Non-File System Shell Containers</span></span>

<span data-ttu-id="2d534-156">Les bibliothèques peuvent contenir des conteneurs Shell du système de fichiers, tels que l' **ordinateur** et **le panneau** de configuration, mais ils contiennent des éléments de système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="2d534-156">Libraries can contain on-file system Shell containers, such as **Computer** and **Control Panel**, but contain file system items.</span></span> <span data-ttu-id="2d534-157">Les dossiers et le contenu de la bibliothèque peuvent être énumérés et consultés à l’aide des API pour les fichiers et les dossiers du système de fichiers dans les systèmes d’exploitation précédents.</span><span class="sxs-lookup"><span data-stu-id="2d534-157">Library folders and contents can be enumerated and accessed using APIs for file system files and folders in previous operating systems.</span></span> <span data-ttu-id="2d534-158">Si votre application dépend fortement des API spécifiques au système de fichiers, l’API [IShellLibrary](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishelllibrary) peut être utilisée pour obtenir les chemins d’accès du système de fichiers des dossiers et des fichiers dans les bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="2d534-158">If your application is heavily dependent on file system specific APIs, then the [IShellLibrary](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishelllibrary) API can be used to obtain the file system paths of folders and files within libraries.</span></span> <span data-ttu-id="2d534-159">Dans la plupart des cas, il est recommandé d’utiliser le modèle de programmation de l’interpréteur de commandes pour prendre en charge plusieurs versions de Windows et la flexibilité des éléments.</span><span class="sxs-lookup"><span data-stu-id="2d534-159">In most cases it is recommended that you use the Shell programming model to support multiple Windows versions and item flexibility.</span></span> <span data-ttu-id="2d534-160">Pour plus d’informations, consultez [navigation dans l’espace de noms Shell](https://msdn.microsoft.com/library/dd378496(VS.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="2d534-160">For more information, see [Navigating the Shell Namespace](https://msdn.microsoft.com/library/dd378496(VS.85).aspx).</span></span>

### <a name="library-descriptions"></a><span data-ttu-id="2d534-161">Descriptions de la bibliothèque</span><span class="sxs-lookup"><span data-stu-id="2d534-161">Library Descriptions</span></span>

<span data-ttu-id="2d534-162">Les descriptions de bibliothèque sont enregistrées sur le disque sous la forme d’un fichier XML dans le dossier de bibliothèques% AppData% Microsoft \\ Windows \\ (et éventuellement en tant que **\_ bibliothèques FOLDERID**.</span><span class="sxs-lookup"><span data-stu-id="2d534-162">Library descriptions are saved on disk as an XML file in the %appdata%Microsoft\\Windows\\Libraries folder (and potentially as **FOLDERID\_Libraries**.</span></span> <span data-ttu-id="2d534-163">Pour plus d’informations sur les **\_ bibliothèques FOLDERID**, consultez [KNOWNFOLDERID](/windows/desktop/shell/knownfolderid).</span><span class="sxs-lookup"><span data-stu-id="2d534-163">For more information about **FOLDERID\_Libraries**, see [KNOWNFOLDERID](/windows/desktop/shell/knownfolderid).</span></span>

<span data-ttu-id="2d534-164">Les fichiers de description de bibliothèque sont des fichiers XML avec l’extension de nom de fichier. Library-ms.</span><span class="sxs-lookup"><span data-stu-id="2d534-164">Library description files are XML files with the file name extension .library-ms.</span></span> <span data-ttu-id="2d534-165">Ils ne doivent jamais être consultés ou modifiés par les applications.</span><span class="sxs-lookup"><span data-stu-id="2d534-165">They files should never be accessed or edited by applications.</span></span> <span data-ttu-id="2d534-166">Le texte du chemin d’accès au dossier persistant dans les fichiers de description de la bibliothèque n’est pas toujours à jour.</span><span class="sxs-lookup"><span data-stu-id="2d534-166">The folder path text persisted to the library description files is not always current.</span></span> <span data-ttu-id="2d534-167">Les dossiers de bibliothèque sont conservés dans le fichier de description de la bibliothèque au format de [liens de Shell](/windows/desktop/shell/links) binaire sérialisé.</span><span class="sxs-lookup"><span data-stu-id="2d534-167">Library folders are persisted in the library description file in the serialized binary [Shell Links](/windows/desktop/shell/links) format.</span></span> <span data-ttu-id="2d534-168">Pour plus d’informations sur les bibliothèques et le schéma de description de la bibliothèque, consultez [schéma de description](../shell/library-schema-entry.md)de la bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="2d534-168">For more information about libraries and the Library Description schema, see [Library Description Schema](../shell/library-schema-entry.md).</span></span> <span data-ttu-id="2d534-169">Pour plus d’informations sur les connecteurs de recherche fédérée et le schéma de la description du connecteur de recherche, [recherchez schéma de description du connecteur](search-sconn-desc-schema-entry.md).</span><span class="sxs-lookup"><span data-stu-id="2d534-169">For more information about federated search connectors and the Search Connector Description schema, [Search Connector Description Schema](search-sconn-desc-schema-entry.md).</span></span>

> <span data-ttu-id="2d534-170">[REMARQUE]</span><span class="sxs-lookup"><span data-stu-id="2d534-170">[NOTE]</span></span>  
> <span data-ttu-id="2d534-171">Les applications doivent toujours utiliser le modèle de programmation de l’interpréteur de commandes ou l’API [IShellLibrary](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishelllibrary) pour consommer et manipuler le contenu de la bibliothèque et ne jamais tenter d’accéder ou de modifier manuellement le fichier de description de la bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="2d534-171">Applications should always use the Shell programming model or the [IShellLibrary](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishelllibrary) API to consume and manipulate library contents, and never attempt to manually access or edit the library description file.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2d534-172">Rubriques connexes</span><span class="sxs-lookup"><span data-stu-id="2d534-172">Related topics</span></span>

[<span data-ttu-id="2d534-173">Recherche Windows 7</span><span class="sxs-lookup"><span data-stu-id="2d534-173">Windows 7 Search</span></span>](./-search-3x-wds-overview.md)

[<span data-ttu-id="2d534-174">Nouvelle recherche pour Windows 7</span><span class="sxs-lookup"><span data-stu-id="2d534-174">New for Windows 7 Search</span></span>](new-for-windows-7-search.md)

[<span data-ttu-id="2d534-175">Indexation des événements d’ensemble de priorités et d’ensembles de lignes dans Windows 7</span><span class="sxs-lookup"><span data-stu-id="2d534-175">Indexing Prioritization and Rowset Events in Windows 7</span></span>](indexing-prioritization-and-rowset-events.md)